function V4(_,W){for(var le=0;le<W.length;le++){const be=W[le];if(typeof be!="string"&&!Array.isArray(be)){for(const Be in be)if(Be!=="default"&&!(Be in _)){const qe=Object.getOwnPropertyDescriptor(be,Be);qe&&Object.defineProperty(_,Be,qe.get?qe:{enumerable:!0,get:()=>be[Be]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}(function(){const W=document.createElement("link").relList;if(W&&W.supports&&W.supports("modulepreload"))return;for(const Be of document.querySelectorAll('link[rel="modulepreload"]'))be(Be);new MutationObserver(Be=>{for(const qe of Be)if(qe.type==="childList")for(const G of qe.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&be(G)}).observe(document,{childList:!0,subtree:!0});function le(Be){const qe={};return Be.integrity&&(qe.integrity=Be.integrity),Be.referrerPolicy&&(qe.referrerPolicy=Be.referrerPolicy),Be.crossOrigin==="use-credentials"?qe.credentials="include":Be.crossOrigin==="anonymous"?qe.credentials="omit":qe.credentials="same-origin",qe}function be(Be){if(Be.ep)return;Be.ep=!0;const qe=le(Be);fetch(Be.href,qe)}})();function z3(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var O3={exports:{}},tg={},F3={exports:{}},hi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=Symbol.for("react.element"),G4=Symbol.for("react.portal"),W4=Symbol.for("react.fragment"),Y4=Symbol.for("react.strict_mode"),Z4=Symbol.for("react.profiler"),X4=Symbol.for("react.provider"),j4=Symbol.for("react.context"),K4=Symbol.for("react.forward_ref"),J4=Symbol.for("react.suspense"),Q4=Symbol.for("react.memo"),$4=Symbol.for("react.lazy"),eb=Symbol.iterator;function q4(_){return _===null||typeof _!="object"?null:(_=eb&&_[eb]||_["@@iterator"],typeof _=="function"?_:null)}var B3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N3=Object.assign,U3={};function Xv(_,W,le){this.props=_,this.context=W,this.refs=U3,this.updater=le||B3}Xv.prototype.isReactComponent={};Xv.prototype.setState=function(_,W){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,W,"setState")};Xv.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function H3(){}H3.prototype=Xv.prototype;function N1(_,W,le){this.props=_,this.context=W,this.refs=U3,this.updater=le||B3}var U1=N1.prototype=new H3;U1.constructor=N1;N3(U1,Xv.prototype);U1.isPureReactComponent=!0;var tb=Array.isArray,V3=Object.prototype.hasOwnProperty,H1={current:null},G3={key:!0,ref:!0,__self:!0,__source:!0};function W3(_,W,le){var be,Be={},qe=null,G=null;if(W!=null)for(be in W.ref!==void 0&&(G=W.ref),W.key!==void 0&&(qe=""+W.key),W)V3.call(W,be)&&!G3.hasOwnProperty(be)&&(Be[be]=W[be]);var H=arguments.length-2;if(H===1)Be.children=le;else if(1<H){for(var e=Array(H),y=0;y<H;y++)e[y]=arguments[y+2];Be.children=e}if(_&&_.defaultProps)for(be in H=_.defaultProps,H)Be[be]===void 0&&(Be[be]=H[be]);return{$$typeof:fp,type:_,key:qe,ref:G,props:Be,_owner:H1.current}}function e6(_,W){return{$$typeof:fp,type:_.type,key:W,ref:_.ref,props:_.props,_owner:_._owner}}function V1(_){return typeof _=="object"&&_!==null&&_.$$typeof===fp}function t6(_){var W={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(le){return W[le]})}var rb=/\/+/g;function ry(_,W){return typeof _=="object"&&_!==null&&_.key!=null?t6(""+_.key):W.toString(36)}function c0(_,W,le,be,Be){var qe=typeof _;(qe==="undefined"||qe==="boolean")&&(_=null);var G=!1;if(_===null)G=!0;else switch(qe){case"string":case"number":G=!0;break;case"object":switch(_.$$typeof){case fp:case G4:G=!0}}if(G)return G=_,Be=Be(G),_=be===""?"."+ry(G,0):be,tb(Be)?(le="",_!=null&&(le=_.replace(rb,"$&/")+"/"),c0(Be,W,le,"",function(y){return y})):Be!=null&&(V1(Be)&&(Be=e6(Be,le+(!Be.key||G&&G.key===Be.key?"":(""+Be.key).replace(rb,"$&/")+"/")+_)),W.push(Be)),1;if(G=0,be=be===""?".":be+":",tb(_))for(var H=0;H<_.length;H++){qe=_[H];var e=be+ry(qe,H);G+=c0(qe,W,le,e,Be)}else if(e=q4(_),typeof e=="function")for(_=e.call(_),H=0;!(qe=_.next()).done;)qe=qe.value,e=be+ry(qe,H++),G+=c0(qe,W,le,e,Be);else if(qe==="object")throw W=String(_),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return G}function Zp(_,W,le){if(_==null)return _;var be=[],Be=0;return c0(_,be,"","",function(qe){return W.call(le,qe,Be++)}),be}function r6(_){if(_._status===-1){var W=_._result;W=W(),W.then(function(le){(_._status===0||_._status===-1)&&(_._status=1,_._result=le)},function(le){(_._status===0||_._status===-1)&&(_._status=2,_._result=le)}),_._status===-1&&(_._status=0,_._result=W)}if(_._status===1)return _._result.default;throw _._result}var Bs={current:null},h0={transition:null},n6={ReactCurrentDispatcher:Bs,ReactCurrentBatchConfig:h0,ReactCurrentOwner:H1};hi.Children={map:Zp,forEach:function(_,W,le){Zp(_,function(){W.apply(this,arguments)},le)},count:function(_){var W=0;return Zp(_,function(){W++}),W},toArray:function(_){return Zp(_,function(W){return W})||[]},only:function(_){if(!V1(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};hi.Component=Xv;hi.Fragment=W4;hi.Profiler=Z4;hi.PureComponent=N1;hi.StrictMode=Y4;hi.Suspense=J4;hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n6;hi.cloneElement=function(_,W,le){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var be=N3({},_.props),Be=_.key,qe=_.ref,G=_._owner;if(W!=null){if(W.ref!==void 0&&(qe=W.ref,G=H1.current),W.key!==void 0&&(Be=""+W.key),_.type&&_.type.defaultProps)var H=_.type.defaultProps;for(e in W)V3.call(W,e)&&!G3.hasOwnProperty(e)&&(be[e]=W[e]===void 0&&H!==void 0?H[e]:W[e])}var e=arguments.length-2;if(e===1)be.children=le;else if(1<e){H=Array(e);for(var y=0;y<e;y++)H[y]=arguments[y+2];be.children=H}return{$$typeof:fp,type:_.type,key:Be,ref:qe,props:be,_owner:G}};hi.createContext=function(_){return _={$$typeof:j4,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:X4,_context:_},_.Consumer=_};hi.createElement=W3;hi.createFactory=function(_){var W=W3.bind(null,_);return W.type=_,W};hi.createRef=function(){return{current:null}};hi.forwardRef=function(_){return{$$typeof:K4,render:_}};hi.isValidElement=V1;hi.lazy=function(_){return{$$typeof:$4,_payload:{_status:-1,_result:_},_init:r6}};hi.memo=function(_,W){return{$$typeof:Q4,type:_,compare:W===void 0?null:W}};hi.startTransition=function(_){var W=h0.transition;h0.transition={};try{_()}finally{h0.transition=W}};hi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};hi.useCallback=function(_,W){return Bs.current.useCallback(_,W)};hi.useContext=function(_){return Bs.current.useContext(_)};hi.useDebugValue=function(){};hi.useDeferredValue=function(_){return Bs.current.useDeferredValue(_)};hi.useEffect=function(_,W){return Bs.current.useEffect(_,W)};hi.useId=function(){return Bs.current.useId()};hi.useImperativeHandle=function(_,W,le){return Bs.current.useImperativeHandle(_,W,le)};hi.useInsertionEffect=function(_,W){return Bs.current.useInsertionEffect(_,W)};hi.useLayoutEffect=function(_,W){return Bs.current.useLayoutEffect(_,W)};hi.useMemo=function(_,W){return Bs.current.useMemo(_,W)};hi.useReducer=function(_,W,le){return Bs.current.useReducer(_,W,le)};hi.useRef=function(_){return Bs.current.useRef(_)};hi.useState=function(_){return Bs.current.useState(_)};hi.useSyncExternalStore=function(_,W,le){return Bs.current.useSyncExternalStore(_,W,le)};hi.useTransition=function(){return Bs.current.useTransition()};hi.version="18.2.0";F3.exports=hi;var Ms=F3.exports;const G1=z3(Ms),nb=V4({__proto__:null,default:G1},[Ms]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a6=Ms,i6=Symbol.for("react.element"),o6=Symbol.for("react.fragment"),s6=Object.prototype.hasOwnProperty,l6=a6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u6={key:!0,ref:!0,__self:!0,__source:!0};function Y3(_,W,le){var be,Be={},qe=null,G=null;le!==void 0&&(qe=""+le),W.key!==void 0&&(qe=""+W.key),W.ref!==void 0&&(G=W.ref);for(be in W)s6.call(W,be)&&!u6.hasOwnProperty(be)&&(Be[be]=W[be]);if(_&&_.defaultProps)for(be in W=_.defaultProps,W)Be[be]===void 0&&(Be[be]=W[be]);return{$$typeof:i6,type:_,key:qe,ref:G,props:Be,_owner:l6.current}}tg.Fragment=o6;tg.jsx=Y3;tg.jsxs=Y3;O3.exports=tg;var Mi=O3.exports,zy={},Z3={exports:{}},El={},X3={exports:{}},j3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_){function W(x,i){var E=x.length;x.push(i);e:for(;0<E;){var m=E-1>>>1,k=x[m];if(0<Be(k,i))x[m]=i,x[E]=k,E=m;else break e}}function le(x){return x.length===0?null:x[0]}function be(x){if(x.length===0)return null;var i=x[0],E=x.pop();if(E!==i){x[0]=E;e:for(var m=0,k=x.length,I=k>>>1;m<I;){var U=2*(m+1)-1,z=x[U],F=U+1,B=x[F];if(0>Be(z,E))F<k&&0>Be(B,z)?(x[m]=B,x[F]=E,m=F):(x[m]=z,x[U]=E,m=U);else if(F<k&&0>Be(B,E))x[m]=B,x[F]=E,m=F;else break e}}return i}function Be(x,i){var E=x.sortIndex-i.sortIndex;return E!==0?E:x.id-i.id}if(typeof performance=="object"&&typeof performance.now=="function"){var qe=performance;_.unstable_now=function(){return qe.now()}}else{var G=Date,H=G.now();_.unstable_now=function(){return G.now()-H}}var e=[],y=[],P=1,a=null,L=3,M=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(x){for(var i=le(y);i!==null;){if(i.callback===null)be(y);else if(i.startTime<=x)be(y),i.sortIndex=i.expirationTime,W(e,i);else break;i=le(y)}}function c(x){if(p=!1,n(x),!v)if(le(e)!==null)v=!0,b(u);else{var i=le(y);i!==null&&S(c,i.startTime-x)}}function u(x,i){v=!1,p&&(p=!1,t(f),f=-1),M=!0;var E=L;try{for(n(i),a=le(e);a!==null&&(!(a.expirationTime>i)||x&&!s());){var m=a.callback;if(typeof m=="function"){a.callback=null,L=a.priorityLevel;var k=m(a.expirationTime<=i);i=_.unstable_now(),typeof k=="function"?a.callback=k:a===le(e)&&be(e),n(i)}else be(e);a=le(e)}if(a!==null)var I=!0;else{var U=le(y);U!==null&&S(c,U.startTime-i),I=!1}return I}finally{a=null,L=E,M=!1}}var l=!1,g=null,f=-1,T=5,h=-1;function s(){return!(_.unstable_now()-h<T)}function d(){if(g!==null){var x=_.unstable_now();h=x;var i=!0;try{i=g(!0,x)}finally{i?A():(l=!1,g=null)}}else l=!1}var A;if(typeof o=="function")A=function(){o(d)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,C=w.port2;w.port1.onmessage=d,A=function(){C.postMessage(null)}}else A=function(){r(d,0)};function b(x){g=x,l||(l=!0,A())}function S(x,i){f=r(function(){x(_.unstable_now())},i)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(x){x.callback=null},_.unstable_continueExecution=function(){v||M||(v=!0,b(u))},_.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<x?Math.floor(1e3/x):5},_.unstable_getCurrentPriorityLevel=function(){return L},_.unstable_getFirstCallbackNode=function(){return le(e)},_.unstable_next=function(x){switch(L){case 1:case 2:case 3:var i=3;break;default:i=L}var E=L;L=i;try{return x()}finally{L=E}},_.unstable_pauseExecution=function(){},_.unstable_requestPaint=function(){},_.unstable_runWithPriority=function(x,i){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var E=L;L=x;try{return i()}finally{L=E}},_.unstable_scheduleCallback=function(x,i,E){var m=_.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?m+E:m):E=m,x){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=E+k,x={id:P++,callback:i,priorityLevel:x,startTime:E,expirationTime:k,sortIndex:-1},E>m?(x.sortIndex=E,W(y,x),le(e)===null&&x===le(y)&&(p?(t(f),f=-1):p=!0,S(c,E-m))):(x.sortIndex=k,W(e,x),v||M||(v=!0,b(u))),x},_.unstable_shouldYield=s,_.unstable_wrapCallback=function(x){var i=L;return function(){var E=L;L=i;try{return x.apply(this,arguments)}finally{L=E}}}})(j3);X3.exports=j3;var f6=X3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3=Ms,Al=f6;function ya(_){for(var W="https://reactjs.org/docs/error-decoder.html?invariant="+_,le=1;le<arguments.length;le++)W+="&args[]="+encodeURIComponent(arguments[le]);return"Minified React error #"+_+"; visit "+W+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J3=new Set,Vd={};function Yh(_,W){Bv(_,W),Bv(_+"Capture",W)}function Bv(_,W){for(Vd[_]=W,_=0;_<W.length;_++)J3.add(W[_])}var Zf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oy=Object.prototype.hasOwnProperty,c6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ab={},ib={};function h6(_){return Oy.call(ib,_)?!0:Oy.call(ab,_)?!1:c6.test(_)?ib[_]=!0:(ab[_]=!0,!1)}function v6(_,W,le,be){if(le!==null&&le.type===0)return!1;switch(typeof W){case"function":case"symbol":return!0;case"boolean":return be?!1:le!==null?!le.acceptsBooleans:(_=_.toLowerCase().slice(0,5),_!=="data-"&&_!=="aria-");default:return!1}}function d6(_,W,le,be){if(W===null||typeof W>"u"||v6(_,W,le,be))return!0;if(be)return!1;if(le!==null)switch(le.type){case 3:return!W;case 4:return W===!1;case 5:return isNaN(W);case 6:return isNaN(W)||1>W}return!1}function Ns(_,W,le,be,Be,qe,G){this.acceptsBooleans=W===2||W===3||W===4,this.attributeName=be,this.attributeNamespace=Be,this.mustUseProperty=le,this.propertyName=_,this.type=W,this.sanitizeURL=qe,this.removeEmptyString=G}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_){fs[_]=new Ns(_,0,!1,_,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_){var W=_[0];fs[W]=new Ns(W,1,!1,_[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_){fs[_]=new Ns(_,2,!1,_.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_){fs[_]=new Ns(_,2,!1,_,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_){fs[_]=new Ns(_,3,!1,_.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_){fs[_]=new Ns(_,3,!0,_,null,!1,!1)});["capture","download"].forEach(function(_){fs[_]=new Ns(_,4,!1,_,null,!1,!1)});["cols","rows","size","span"].forEach(function(_){fs[_]=new Ns(_,6,!1,_,null,!1,!1)});["rowSpan","start"].forEach(function(_){fs[_]=new Ns(_,5,!1,_.toLowerCase(),null,!1,!1)});var W1=/[\-:]([a-z])/g;function Y1(_){return _[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_){var W=_.replace(W1,Y1);fs[W]=new Ns(W,1,!1,_,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_){var W=_.replace(W1,Y1);fs[W]=new Ns(W,1,!1,_,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_){var W=_.replace(W1,Y1);fs[W]=new Ns(W,1,!1,_,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_){fs[_]=new Ns(_,1,!1,_.toLowerCase(),null,!1,!1)});fs.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_){fs[_]=new Ns(_,1,!1,_.toLowerCase(),null,!0,!0)});function Z1(_,W,le,be){var Be=fs.hasOwnProperty(W)?fs[W]:null;(Be!==null?Be.type!==0:be||!(2<W.length)||W[0]!=="o"&&W[0]!=="O"||W[1]!=="n"&&W[1]!=="N")&&(d6(W,le,Be,be)&&(le=null),be||Be===null?h6(W)&&(le===null?_.removeAttribute(W):_.setAttribute(W,""+le)):Be.mustUseProperty?_[Be.propertyName]=le===null?Be.type===3?!1:"":le:(W=Be.attributeName,be=Be.attributeNamespace,le===null?_.removeAttribute(W):(Be=Be.type,le=Be===3||Be===4&&le===!0?"":""+le,be?_.setAttributeNS(be,W,le):_.setAttribute(W,le))))}var Qf=K3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),bv=Symbol.for("react.portal"),wv=Symbol.for("react.fragment"),X1=Symbol.for("react.strict_mode"),Fy=Symbol.for("react.profiler"),Q3=Symbol.for("react.provider"),$3=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),Ny=Symbol.for("react.suspense_list"),K1=Symbol.for("react.memo"),Fc=Symbol.for("react.lazy"),q3=Symbol.for("react.offscreen"),ob=Symbol.iterator;function xd(_){return _===null||typeof _!="object"?null:(_=ob&&_[ob]||_["@@iterator"],typeof _=="function"?_:null)}var ho=Object.assign,ny;function Ld(_){if(ny===void 0)try{throw Error()}catch(le){var W=le.stack.trim().match(/\n( *(at )?)/);ny=W&&W[1]||""}return`
`+ny+_}var ay=!1;function iy(_,W){if(!_||ay)return"";ay=!0;var le=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(W)if(W=function(){throw Error()},Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(y){var be=y}Reflect.construct(_,[],W)}else{try{W.call()}catch(y){be=y}_.call(W.prototype)}else{try{throw Error()}catch(y){be=y}_()}}catch(y){if(y&&be&&typeof y.stack=="string"){for(var Be=y.stack.split(`
`),qe=be.stack.split(`
`),G=Be.length-1,H=qe.length-1;1<=G&&0<=H&&Be[G]!==qe[H];)H--;for(;1<=G&&0<=H;G--,H--)if(Be[G]!==qe[H]){if(G!==1||H!==1)do if(G--,H--,0>H||Be[G]!==qe[H]){var e=`
`+Be[G].replace(" at new "," at ");return _.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",_.displayName)),e}while(1<=G&&0<=H);break}}}finally{ay=!1,Error.prepareStackTrace=le}return(_=_?_.displayName||_.name:"")?Ld(_):""}function p6(_){switch(_.tag){case 5:return Ld(_.type);case 16:return Ld("Lazy");case 13:return Ld("Suspense");case 19:return Ld("SuspenseList");case 0:case 2:case 15:return _=iy(_.type,!1),_;case 11:return _=iy(_.type.render,!1),_;case 1:return _=iy(_.type,!0),_;default:return""}}function Uy(_){if(_==null)return null;if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case wv:return"Fragment";case bv:return"Portal";case Fy:return"Profiler";case X1:return"StrictMode";case By:return"Suspense";case Ny:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case $3:return(_.displayName||"Context")+".Consumer";case Q3:return(_._context.displayName||"Context")+".Provider";case j1:var W=_.render;return _=_.displayName,_||(_=W.displayName||W.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case K1:return W=_.displayName||null,W!==null?W:Uy(_.type)||"Memo";case Fc:W=_._payload,_=_._init;try{return Uy(_(W))}catch{}}return null}function g6(_){var W=_.type;switch(_.tag){case 24:return"Cache";case 9:return(W.displayName||"Context")+".Consumer";case 10:return(W._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _=W.render,_=_.displayName||_.name||"",W.displayName||(_!==""?"ForwardRef("+_+")":"ForwardRef");case 7:return"Fragment";case 5:return W;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uy(W);case 8:return W===X1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof W=="function")return W.displayName||W.name||null;if(typeof W=="string")return W}return null}function Qc(_){switch(typeof _){case"boolean":case"number":case"string":case"undefined":return _;case"object":return _;default:return""}}function ew(_){var W=_.type;return(_=_.nodeName)&&_.toLowerCase()==="input"&&(W==="checkbox"||W==="radio")}function y6(_){var W=ew(_)?"checked":"value",le=Object.getOwnPropertyDescriptor(_.constructor.prototype,W),be=""+_[W];if(!_.hasOwnProperty(W)&&typeof le<"u"&&typeof le.get=="function"&&typeof le.set=="function"){var Be=le.get,qe=le.set;return Object.defineProperty(_,W,{configurable:!0,get:function(){return Be.call(this)},set:function(G){be=""+G,qe.call(this,G)}}),Object.defineProperty(_,W,{enumerable:le.enumerable}),{getValue:function(){return be},setValue:function(G){be=""+G},stopTracking:function(){_._valueTracker=null,delete _[W]}}}}function jp(_){_._valueTracker||(_._valueTracker=y6(_))}function tw(_){if(!_)return!1;var W=_._valueTracker;if(!W)return!0;var le=W.getValue(),be="";return _&&(be=ew(_)?_.checked?"true":"false":_.value),_=be,_!==le?(W.setValue(_),!0):!1}function E0(_){if(_=_||(typeof document<"u"?document:void 0),typeof _>"u")return null;try{return _.activeElement||_.body}catch{return _.body}}function Hy(_,W){var le=W.checked;return ho({},W,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:le??_._wrapperState.initialChecked})}function sb(_,W){var le=W.defaultValue==null?"":W.defaultValue,be=W.checked!=null?W.checked:W.defaultChecked;le=Qc(W.value!=null?W.value:le),_._wrapperState={initialChecked:be,initialValue:le,controlled:W.type==="checkbox"||W.type==="radio"?W.checked!=null:W.value!=null}}function rw(_,W){W=W.checked,W!=null&&Z1(_,"checked",W,!1)}function Vy(_,W){rw(_,W);var le=Qc(W.value),be=W.type;if(le!=null)be==="number"?(le===0&&_.value===""||_.value!=le)&&(_.value=""+le):_.value!==""+le&&(_.value=""+le);else if(be==="submit"||be==="reset"){_.removeAttribute("value");return}W.hasOwnProperty("value")?Gy(_,W.type,le):W.hasOwnProperty("defaultValue")&&Gy(_,W.type,Qc(W.defaultValue)),W.checked==null&&W.defaultChecked!=null&&(_.defaultChecked=!!W.defaultChecked)}function lb(_,W,le){if(W.hasOwnProperty("value")||W.hasOwnProperty("defaultValue")){var be=W.type;if(!(be!=="submit"&&be!=="reset"||W.value!==void 0&&W.value!==null))return;W=""+_._wrapperState.initialValue,le||W===_.value||(_.value=W),_.defaultValue=W}le=_.name,le!==""&&(_.name=""),_.defaultChecked=!!_._wrapperState.initialChecked,le!==""&&(_.name=le)}function Gy(_,W,le){(W!=="number"||E0(_.ownerDocument)!==_)&&(le==null?_.defaultValue=""+_._wrapperState.initialValue:_.defaultValue!==""+le&&(_.defaultValue=""+le))}var Pd=Array.isArray;function Iv(_,W,le,be){if(_=_.options,W){W={};for(var Be=0;Be<le.length;Be++)W["$"+le[Be]]=!0;for(le=0;le<_.length;le++)Be=W.hasOwnProperty("$"+_[le].value),_[le].selected!==Be&&(_[le].selected=Be),Be&&be&&(_[le].defaultSelected=!0)}else{for(le=""+Qc(le),W=null,Be=0;Be<_.length;Be++){if(_[Be].value===le){_[Be].selected=!0,be&&(_[Be].defaultSelected=!0);return}W!==null||_[Be].disabled||(W=_[Be])}W!==null&&(W.selected=!0)}}function Wy(_,W){if(W.dangerouslySetInnerHTML!=null)throw Error(ya(91));return ho({},W,{value:void 0,defaultValue:void 0,children:""+_._wrapperState.initialValue})}function ub(_,W){var le=W.value;if(le==null){if(le=W.children,W=W.defaultValue,le!=null){if(W!=null)throw Error(ya(92));if(Pd(le)){if(1<le.length)throw Error(ya(93));le=le[0]}W=le}W==null&&(W=""),le=W}_._wrapperState={initialValue:Qc(le)}}function nw(_,W){var le=Qc(W.value),be=Qc(W.defaultValue);le!=null&&(le=""+le,le!==_.value&&(_.value=le),W.defaultValue==null&&_.defaultValue!==le&&(_.defaultValue=le)),be!=null&&(_.defaultValue=""+be)}function fb(_){var W=_.textContent;W===_._wrapperState.initialValue&&W!==""&&W!==null&&(_.value=W)}function aw(_){switch(_){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yy(_,W){return _==null||_==="http://www.w3.org/1999/xhtml"?aw(W):_==="http://www.w3.org/2000/svg"&&W==="foreignObject"?"http://www.w3.org/1999/xhtml":_}var Kp,iw=function(_){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(W,le,be,Be){MSApp.execUnsafeLocalFunction(function(){return _(W,le,be,Be)})}:_}(function(_,W){if(_.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _)_.innerHTML=W;else{for(Kp=Kp||document.createElement("div"),Kp.innerHTML="<svg>"+W.valueOf().toString()+"</svg>",W=Kp.firstChild;_.firstChild;)_.removeChild(_.firstChild);for(;W.firstChild;)_.appendChild(W.firstChild)}});function Gd(_,W){if(W){var le=_.firstChild;if(le&&le===_.lastChild&&le.nodeType===3){le.nodeValue=W;return}}_.textContent=W}var kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m6=["Webkit","ms","Moz","O"];Object.keys(kd).forEach(function(_){m6.forEach(function(W){W=W+_.charAt(0).toUpperCase()+_.substring(1),kd[W]=kd[_]})});function ow(_,W,le){return W==null||typeof W=="boolean"||W===""?"":le||typeof W!="number"||W===0||kd.hasOwnProperty(_)&&kd[_]?(""+W).trim():W+"px"}function sw(_,W){_=_.style;for(var le in W)if(W.hasOwnProperty(le)){var be=le.indexOf("--")===0,Be=ow(le,W[le],be);le==="float"&&(le="cssFloat"),be?_.setProperty(le,Be):_[le]=Be}}var x6=ho({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zy(_,W){if(W){if(x6[_]&&(W.children!=null||W.dangerouslySetInnerHTML!=null))throw Error(ya(137,_));if(W.dangerouslySetInnerHTML!=null){if(W.children!=null)throw Error(ya(60));if(typeof W.dangerouslySetInnerHTML!="object"||!("__html"in W.dangerouslySetInnerHTML))throw Error(ya(61))}if(W.style!=null&&typeof W.style!="object")throw Error(ya(62))}}function Xy(_,W){if(_.indexOf("-")===-1)return typeof W.is=="string";switch(_){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jy=null;function J1(_){return _=_.target||_.srcElement||window,_.correspondingUseElement&&(_=_.correspondingUseElement),_.nodeType===3?_.parentNode:_}var Ky=null,kv=null,_v=null;function cb(_){if(_=vp(_)){if(typeof Ky!="function")throw Error(ya(280));var W=_.stateNode;W&&(W=og(W),Ky(_.stateNode,_.type,W))}}function lw(_){kv?_v?_v.push(_):_v=[_]:kv=_}function uw(){if(kv){var _=kv,W=_v;if(_v=kv=null,cb(_),W)for(_=0;_<W.length;_++)cb(W[_])}}function fw(_,W){return _(W)}function cw(){}var oy=!1;function hw(_,W,le){if(oy)return _(W,le);oy=!0;try{return fw(_,W,le)}finally{oy=!1,(kv!==null||_v!==null)&&(cw(),uw())}}function Wd(_,W){var le=_.stateNode;if(le===null)return null;var be=og(le);if(be===null)return null;le=be[W];e:switch(W){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(be=!be.disabled)||(_=_.type,be=!(_==="button"||_==="input"||_==="select"||_==="textarea")),_=!be;break e;default:_=!1}if(_)return null;if(le&&typeof le!="function")throw Error(ya(231,W,typeof le));return le}var Jy=!1;if(Zf)try{var bd={};Object.defineProperty(bd,"passive",{get:function(){Jy=!0}}),window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{Jy=!1}function b6(_,W,le,be,Be,qe,G,H,e){var y=Array.prototype.slice.call(arguments,3);try{W.apply(le,y)}catch(P){this.onError(P)}}var _d=!1,C0=null,L0=!1,Qy=null,w6={onError:function(_){_d=!0,C0=_}};function T6(_,W,le,be,Be,qe,G,H,e){_d=!1,C0=null,b6.apply(w6,arguments)}function A6(_,W,le,be,Be,qe,G,H,e){if(T6.apply(this,arguments),_d){if(_d){var y=C0;_d=!1,C0=null}else throw Error(ya(198));L0||(L0=!0,Qy=y)}}function Zh(_){var W=_,le=_;if(_.alternate)for(;W.return;)W=W.return;else{_=W;do W=_,W.flags&4098&&(le=W.return),_=W.return;while(_)}return W.tag===3?le:null}function vw(_){if(_.tag===13){var W=_.memoizedState;if(W===null&&(_=_.alternate,_!==null&&(W=_.memoizedState)),W!==null)return W.dehydrated}return null}function hb(_){if(Zh(_)!==_)throw Error(ya(188))}function M6(_){var W=_.alternate;if(!W){if(W=Zh(_),W===null)throw Error(ya(188));return W!==_?null:_}for(var le=_,be=W;;){var Be=le.return;if(Be===null)break;var qe=Be.alternate;if(qe===null){if(be=Be.return,be!==null){le=be;continue}break}if(Be.child===qe.child){for(qe=Be.child;qe;){if(qe===le)return hb(Be),_;if(qe===be)return hb(Be),W;qe=qe.sibling}throw Error(ya(188))}if(le.return!==be.return)le=Be,be=qe;else{for(var G=!1,H=Be.child;H;){if(H===le){G=!0,le=Be,be=qe;break}if(H===be){G=!0,be=Be,le=qe;break}H=H.sibling}if(!G){for(H=qe.child;H;){if(H===le){G=!0,le=qe,be=Be;break}if(H===be){G=!0,be=qe,le=Be;break}H=H.sibling}if(!G)throw Error(ya(189))}}if(le.alternate!==be)throw Error(ya(190))}if(le.tag!==3)throw Error(ya(188));return le.stateNode.current===le?_:W}function dw(_){return _=M6(_),_!==null?pw(_):null}function pw(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){var W=pw(_);if(W!==null)return W;_=_.sibling}return null}var gw=Al.unstable_scheduleCallback,vb=Al.unstable_cancelCallback,S6=Al.unstable_shouldYield,E6=Al.unstable_requestPaint,So=Al.unstable_now,C6=Al.unstable_getCurrentPriorityLevel,Q1=Al.unstable_ImmediatePriority,yw=Al.unstable_UserBlockingPriority,P0=Al.unstable_NormalPriority,L6=Al.unstable_LowPriority,mw=Al.unstable_IdlePriority,rg=null,cf=null;function P6(_){if(cf&&typeof cf.onCommitFiberRoot=="function")try{cf.onCommitFiberRoot(rg,_,void 0,(_.current.flags&128)===128)}catch{}}var Ou=Math.clz32?Math.clz32:I6,R6=Math.log,D6=Math.LN2;function I6(_){return _>>>=0,_===0?32:31-(R6(_)/D6|0)|0}var Jp=64,Qp=4194304;function Rd(_){switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _}}function R0(_,W){var le=_.pendingLanes;if(le===0)return 0;var be=0,Be=_.suspendedLanes,qe=_.pingedLanes,G=le&268435455;if(G!==0){var H=G&~Be;H!==0?be=Rd(H):(qe&=G,qe!==0&&(be=Rd(qe)))}else G=le&~Be,G!==0?be=Rd(G):qe!==0&&(be=Rd(qe));if(be===0)return 0;if(W!==0&&W!==be&&!(W&Be)&&(Be=be&-be,qe=W&-W,Be>=qe||Be===16&&(qe&4194240)!==0))return W;if(be&4&&(be|=le&16),W=_.entangledLanes,W!==0)for(_=_.entanglements,W&=be;0<W;)le=31-Ou(W),Be=1<<le,be|=_[le],W&=~Be;return be}function k6(_,W){switch(_){case 1:case 2:case 4:return W+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return W+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _6(_,W){for(var le=_.suspendedLanes,be=_.pingedLanes,Be=_.expirationTimes,qe=_.pendingLanes;0<qe;){var G=31-Ou(qe),H=1<<G,e=Be[G];e===-1?(!(H&le)||H&be)&&(Be[G]=k6(H,W)):e<=W&&(_.expiredLanes|=H),qe&=~H}}function $y(_){return _=_.pendingLanes&-1073741825,_!==0?_:_&1073741824?1073741824:0}function xw(){var _=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),_}function sy(_){for(var W=[],le=0;31>le;le++)W.push(_);return W}function cp(_,W,le){_.pendingLanes|=W,W!==536870912&&(_.suspendedLanes=0,_.pingedLanes=0),_=_.eventTimes,W=31-Ou(W),_[W]=le}function z6(_,W){var le=_.pendingLanes&~W;_.pendingLanes=W,_.suspendedLanes=0,_.pingedLanes=0,_.expiredLanes&=W,_.mutableReadLanes&=W,_.entangledLanes&=W,W=_.entanglements;var be=_.eventTimes;for(_=_.expirationTimes;0<le;){var Be=31-Ou(le),qe=1<<Be;W[Be]=0,be[Be]=-1,_[Be]=-1,le&=~qe}}function $1(_,W){var le=_.entangledLanes|=W;for(_=_.entanglements;le;){var be=31-Ou(le),Be=1<<be;Be&W|_[be]&W&&(_[be]|=W),le&=~Be}}var Di=0;function bw(_){return _&=-_,1<_?4<_?_&268435455?16:536870912:4:1}var ww,q1,Tw,Aw,Mw,qy=!1,$p=[],Gc=null,Wc=null,Yc=null,Yd=new Map,Zd=new Map,Nc=[],O6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function db(_,W){switch(_){case"focusin":case"focusout":Gc=null;break;case"dragenter":case"dragleave":Wc=null;break;case"mouseover":case"mouseout":Yc=null;break;case"pointerover":case"pointerout":Yd.delete(W.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(W.pointerId)}}function wd(_,W,le,be,Be,qe){return _===null||_.nativeEvent!==qe?(_={blockedOn:W,domEventName:le,eventSystemFlags:be,nativeEvent:qe,targetContainers:[Be]},W!==null&&(W=vp(W),W!==null&&q1(W)),_):(_.eventSystemFlags|=be,W=_.targetContainers,Be!==null&&W.indexOf(Be)===-1&&W.push(Be),_)}function F6(_,W,le,be,Be){switch(W){case"focusin":return Gc=wd(Gc,_,W,le,be,Be),!0;case"dragenter":return Wc=wd(Wc,_,W,le,be,Be),!0;case"mouseover":return Yc=wd(Yc,_,W,le,be,Be),!0;case"pointerover":var qe=Be.pointerId;return Yd.set(qe,wd(Yd.get(qe)||null,_,W,le,be,Be)),!0;case"gotpointercapture":return qe=Be.pointerId,Zd.set(qe,wd(Zd.get(qe)||null,_,W,le,be,Be)),!0}return!1}function Sw(_){var W=_h(_.target);if(W!==null){var le=Zh(W);if(le!==null){if(W=le.tag,W===13){if(W=vw(le),W!==null){_.blockedOn=W,Mw(_.priority,function(){Tw(le)});return}}else if(W===3&&le.stateNode.current.memoizedState.isDehydrated){_.blockedOn=le.tag===3?le.stateNode.containerInfo:null;return}}}_.blockedOn=null}function v0(_){if(_.blockedOn!==null)return!1;for(var W=_.targetContainers;0<W.length;){var le=e1(_.domEventName,_.eventSystemFlags,W[0],_.nativeEvent);if(le===null){le=_.nativeEvent;var be=new le.constructor(le.type,le);jy=be,le.target.dispatchEvent(be),jy=null}else return W=vp(le),W!==null&&q1(W),_.blockedOn=le,!1;W.shift()}return!0}function pb(_,W,le){v0(_)&&le.delete(W)}function B6(){qy=!1,Gc!==null&&v0(Gc)&&(Gc=null),Wc!==null&&v0(Wc)&&(Wc=null),Yc!==null&&v0(Yc)&&(Yc=null),Yd.forEach(pb),Zd.forEach(pb)}function Td(_,W){_.blockedOn===W&&(_.blockedOn=null,qy||(qy=!0,Al.unstable_scheduleCallback(Al.unstable_NormalPriority,B6)))}function Xd(_){function W(Be){return Td(Be,_)}if(0<$p.length){Td($p[0],_);for(var le=1;le<$p.length;le++){var be=$p[le];be.blockedOn===_&&(be.blockedOn=null)}}for(Gc!==null&&Td(Gc,_),Wc!==null&&Td(Wc,_),Yc!==null&&Td(Yc,_),Yd.forEach(W),Zd.forEach(W),le=0;le<Nc.length;le++)be=Nc[le],be.blockedOn===_&&(be.blockedOn=null);for(;0<Nc.length&&(le=Nc[0],le.blockedOn===null);)Sw(le),le.blockedOn===null&&Nc.shift()}var zv=Qf.ReactCurrentBatchConfig,D0=!0;function N6(_,W,le,be){var Be=Di,qe=zv.transition;zv.transition=null;try{Di=1,em(_,W,le,be)}finally{Di=Be,zv.transition=qe}}function U6(_,W,le,be){var Be=Di,qe=zv.transition;zv.transition=null;try{Di=4,em(_,W,le,be)}finally{Di=Be,zv.transition=qe}}function em(_,W,le,be){if(D0){var Be=e1(_,W,le,be);if(Be===null)yy(_,W,be,I0,le),db(_,be);else if(F6(Be,_,W,le,be))be.stopPropagation();else if(db(_,be),W&4&&-1<O6.indexOf(_)){for(;Be!==null;){var qe=vp(Be);if(qe!==null&&ww(qe),qe=e1(_,W,le,be),qe===null&&yy(_,W,be,I0,le),qe===Be)break;Be=qe}Be!==null&&be.stopPropagation()}else yy(_,W,be,null,le)}}var I0=null;function e1(_,W,le,be){if(I0=null,_=J1(be),_=_h(_),_!==null)if(W=Zh(_),W===null)_=null;else if(le=W.tag,le===13){if(_=vw(W),_!==null)return _;_=null}else if(le===3){if(W.stateNode.current.memoizedState.isDehydrated)return W.tag===3?W.stateNode.containerInfo:null;_=null}else W!==_&&(_=null);return I0=_,null}function Ew(_){switch(_){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C6()){case Q1:return 1;case yw:return 4;case P0:case L6:return 16;case mw:return 536870912;default:return 16}default:return 16}}var Hc=null,tm=null,d0=null;function Cw(){if(d0)return d0;var _,W=tm,le=W.length,be,Be="value"in Hc?Hc.value:Hc.textContent,qe=Be.length;for(_=0;_<le&&W[_]===Be[_];_++);var G=le-_;for(be=1;be<=G&&W[le-be]===Be[qe-be];be++);return d0=Be.slice(_,1<be?1-be:void 0)}function p0(_){var W=_.keyCode;return"charCode"in _?(_=_.charCode,_===0&&W===13&&(_=13)):_=W,_===10&&(_=13),32<=_||_===13?_:0}function qp(){return!0}function gb(){return!1}function Cl(_){function W(le,be,Be,qe,G){this._reactName=le,this._targetInst=Be,this.type=be,this.nativeEvent=qe,this.target=G,this.currentTarget=null;for(var H in _)_.hasOwnProperty(H)&&(le=_[H],this[H]=le?le(qe):qe[H]);return this.isDefaultPrevented=(qe.defaultPrevented!=null?qe.defaultPrevented:qe.returnValue===!1)?qp:gb,this.isPropagationStopped=gb,this}return ho(W.prototype,{preventDefault:function(){this.defaultPrevented=!0;var le=this.nativeEvent;le&&(le.preventDefault?le.preventDefault():typeof le.returnValue!="unknown"&&(le.returnValue=!1),this.isDefaultPrevented=qp)},stopPropagation:function(){var le=this.nativeEvent;le&&(le.stopPropagation?le.stopPropagation():typeof le.cancelBubble!="unknown"&&(le.cancelBubble=!0),this.isPropagationStopped=qp)},persist:function(){},isPersistent:qp}),W}var jv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_){return _.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rm=Cl(jv),hp=ho({},jv,{view:0,detail:0}),H6=Cl(hp),ly,uy,Ad,ng=ho({},hp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(_){return _.relatedTarget===void 0?_.fromElement===_.srcElement?_.toElement:_.fromElement:_.relatedTarget},movementX:function(_){return"movementX"in _?_.movementX:(_!==Ad&&(Ad&&_.type==="mousemove"?(ly=_.screenX-Ad.screenX,uy=_.screenY-Ad.screenY):uy=ly=0,Ad=_),ly)},movementY:function(_){return"movementY"in _?_.movementY:uy}}),yb=Cl(ng),V6=ho({},ng,{dataTransfer:0}),G6=Cl(V6),W6=ho({},hp,{relatedTarget:0}),fy=Cl(W6),Y6=ho({},jv,{animationName:0,elapsedTime:0,pseudoElement:0}),Z6=Cl(Y6),X6=ho({},jv,{clipboardData:function(_){return"clipboardData"in _?_.clipboardData:window.clipboardData}}),j6=Cl(X6),K6=ho({},jv,{data:0}),mb=Cl(K6),J6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q6(_){var W=this.nativeEvent;return W.getModifierState?W.getModifierState(_):(_=$6[_])?!!W[_]:!1}function nm(){return q6}var eM=ho({},hp,{key:function(_){if(_.key){var W=J6[_.key]||_.key;if(W!=="Unidentified")return W}return _.type==="keypress"?(_=p0(_),_===13?"Enter":String.fromCharCode(_)):_.type==="keydown"||_.type==="keyup"?Q6[_.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(_){return _.type==="keypress"?p0(_):0},keyCode:function(_){return _.type==="keydown"||_.type==="keyup"?_.keyCode:0},which:function(_){return _.type==="keypress"?p0(_):_.type==="keydown"||_.type==="keyup"?_.keyCode:0}}),tM=Cl(eM),rM=ho({},ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xb=Cl(rM),nM=ho({},hp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),aM=Cl(nM),iM=ho({},jv,{propertyName:0,elapsedTime:0,pseudoElement:0}),oM=Cl(iM),sM=ho({},ng,{deltaX:function(_){return"deltaX"in _?_.deltaX:"wheelDeltaX"in _?-_.wheelDeltaX:0},deltaY:function(_){return"deltaY"in _?_.deltaY:"wheelDeltaY"in _?-_.wheelDeltaY:"wheelDelta"in _?-_.wheelDelta:0},deltaZ:0,deltaMode:0}),lM=Cl(sM),uM=[9,13,27,32],am=Zf&&"CompositionEvent"in window,zd=null;Zf&&"documentMode"in document&&(zd=document.documentMode);var fM=Zf&&"TextEvent"in window&&!zd,Lw=Zf&&(!am||zd&&8<zd&&11>=zd),bb=" ",wb=!1;function Pw(_,W){switch(_){case"keyup":return uM.indexOf(W.keyCode)!==-1;case"keydown":return W.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(_){return _=_.detail,typeof _=="object"&&"data"in _?_.data:null}var Tv=!1;function cM(_,W){switch(_){case"compositionend":return Rw(W);case"keypress":return W.which!==32?null:(wb=!0,bb);case"textInput":return _=W.data,_===bb&&wb?null:_;default:return null}}function hM(_,W){if(Tv)return _==="compositionend"||!am&&Pw(_,W)?(_=Cw(),d0=tm=Hc=null,Tv=!1,_):null;switch(_){case"paste":return null;case"keypress":if(!(W.ctrlKey||W.altKey||W.metaKey)||W.ctrlKey&&W.altKey){if(W.char&&1<W.char.length)return W.char;if(W.which)return String.fromCharCode(W.which)}return null;case"compositionend":return Lw&&W.locale!=="ko"?null:W.data;default:return null}}var vM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tb(_){var W=_&&_.nodeName&&_.nodeName.toLowerCase();return W==="input"?!!vM[_.type]:W==="textarea"}function Dw(_,W,le,be){lw(be),W=k0(W,"onChange"),0<W.length&&(le=new rm("onChange","change",null,le,be),_.push({event:le,listeners:W}))}var Od=null,jd=null;function dM(_){Vw(_,0)}function ag(_){var W=Sv(_);if(tw(W))return _}function pM(_,W){if(_==="change")return W}var Iw=!1;if(Zf){var cy;if(Zf){var hy="oninput"in document;if(!hy){var Ab=document.createElement("div");Ab.setAttribute("oninput","return;"),hy=typeof Ab.oninput=="function"}cy=hy}else cy=!1;Iw=cy&&(!document.documentMode||9<document.documentMode)}function Mb(){Od&&(Od.detachEvent("onpropertychange",kw),jd=Od=null)}function kw(_){if(_.propertyName==="value"&&ag(jd)){var W=[];Dw(W,jd,_,J1(_)),hw(dM,W)}}function gM(_,W,le){_==="focusin"?(Mb(),Od=W,jd=le,Od.attachEvent("onpropertychange",kw)):_==="focusout"&&Mb()}function yM(_){if(_==="selectionchange"||_==="keyup"||_==="keydown")return ag(jd)}function mM(_,W){if(_==="click")return ag(W)}function xM(_,W){if(_==="input"||_==="change")return ag(W)}function bM(_,W){return _===W&&(_!==0||1/_===1/W)||_!==_&&W!==W}var Nu=typeof Object.is=="function"?Object.is:bM;function Kd(_,W){if(Nu(_,W))return!0;if(typeof _!="object"||_===null||typeof W!="object"||W===null)return!1;var le=Object.keys(_),be=Object.keys(W);if(le.length!==be.length)return!1;for(be=0;be<le.length;be++){var Be=le[be];if(!Oy.call(W,Be)||!Nu(_[Be],W[Be]))return!1}return!0}function Sb(_){for(;_&&_.firstChild;)_=_.firstChild;return _}function Eb(_,W){var le=Sb(_);_=0;for(var be;le;){if(le.nodeType===3){if(be=_+le.textContent.length,_<=W&&be>=W)return{node:le,offset:W-_};_=be}e:{for(;le;){if(le.nextSibling){le=le.nextSibling;break e}le=le.parentNode}le=void 0}le=Sb(le)}}function _w(_,W){return _&&W?_===W?!0:_&&_.nodeType===3?!1:W&&W.nodeType===3?_w(_,W.parentNode):"contains"in _?_.contains(W):_.compareDocumentPosition?!!(_.compareDocumentPosition(W)&16):!1:!1}function zw(){for(var _=window,W=E0();W instanceof _.HTMLIFrameElement;){try{var le=typeof W.contentWindow.location.href=="string"}catch{le=!1}if(le)_=W.contentWindow;else break;W=E0(_.document)}return W}function im(_){var W=_&&_.nodeName&&_.nodeName.toLowerCase();return W&&(W==="input"&&(_.type==="text"||_.type==="search"||_.type==="tel"||_.type==="url"||_.type==="password")||W==="textarea"||_.contentEditable==="true")}function wM(_){var W=zw(),le=_.focusedElem,be=_.selectionRange;if(W!==le&&le&&le.ownerDocument&&_w(le.ownerDocument.documentElement,le)){if(be!==null&&im(le)){if(W=be.start,_=be.end,_===void 0&&(_=W),"selectionStart"in le)le.selectionStart=W,le.selectionEnd=Math.min(_,le.value.length);else if(_=(W=le.ownerDocument||document)&&W.defaultView||window,_.getSelection){_=_.getSelection();var Be=le.textContent.length,qe=Math.min(be.start,Be);be=be.end===void 0?qe:Math.min(be.end,Be),!_.extend&&qe>be&&(Be=be,be=qe,qe=Be),Be=Eb(le,qe);var G=Eb(le,be);Be&&G&&(_.rangeCount!==1||_.anchorNode!==Be.node||_.anchorOffset!==Be.offset||_.focusNode!==G.node||_.focusOffset!==G.offset)&&(W=W.createRange(),W.setStart(Be.node,Be.offset),_.removeAllRanges(),qe>be?(_.addRange(W),_.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),_.addRange(W)))}}for(W=[],_=le;_=_.parentNode;)_.nodeType===1&&W.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<W.length;le++)_=W[le],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var TM=Zf&&"documentMode"in document&&11>=document.documentMode,Av=null,t1=null,Fd=null,r1=!1;function Cb(_,W,le){var be=le.window===le?le.document:le.nodeType===9?le:le.ownerDocument;r1||Av==null||Av!==E0(be)||(be=Av,"selectionStart"in be&&im(be)?be={start:be.selectionStart,end:be.selectionEnd}:(be=(be.ownerDocument&&be.ownerDocument.defaultView||window).getSelection(),be={anchorNode:be.anchorNode,anchorOffset:be.anchorOffset,focusNode:be.focusNode,focusOffset:be.focusOffset}),Fd&&Kd(Fd,be)||(Fd=be,be=k0(t1,"onSelect"),0<be.length&&(W=new rm("onSelect","select",null,W,le),_.push({event:W,listeners:be}),W.target=Av)))}function e0(_,W){var le={};return le[_.toLowerCase()]=W.toLowerCase(),le["Webkit"+_]="webkit"+W,le["Moz"+_]="moz"+W,le}var Mv={animationend:e0("Animation","AnimationEnd"),animationiteration:e0("Animation","AnimationIteration"),animationstart:e0("Animation","AnimationStart"),transitionend:e0("Transition","TransitionEnd")},vy={},Ow={};Zf&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete Mv.animationend.animation,delete Mv.animationiteration.animation,delete Mv.animationstart.animation),"TransitionEvent"in window||delete Mv.transitionend.transition);function ig(_){if(vy[_])return vy[_];if(!Mv[_])return _;var W=Mv[_],le;for(le in W)if(W.hasOwnProperty(le)&&le in Ow)return vy[_]=W[le];return _}var Fw=ig("animationend"),Bw=ig("animationiteration"),Nw=ig("animationstart"),Uw=ig("transitionend"),Hw=new Map,Lb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function th(_,W){Hw.set(_,W),Yh(W,[_])}for(var dy=0;dy<Lb.length;dy++){var py=Lb[dy],AM=py.toLowerCase(),MM=py[0].toUpperCase()+py.slice(1);th(AM,"on"+MM)}th(Fw,"onAnimationEnd");th(Bw,"onAnimationIteration");th(Nw,"onAnimationStart");th("dblclick","onDoubleClick");th("focusin","onFocus");th("focusout","onBlur");th(Uw,"onTransitionEnd");Bv("onMouseEnter",["mouseout","mouseover"]);Bv("onMouseLeave",["mouseout","mouseover"]);Bv("onPointerEnter",["pointerout","pointerover"]);Bv("onPointerLeave",["pointerout","pointerover"]);Yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dd));function Pb(_,W,le){var be=_.type||"unknown-event";_.currentTarget=le,A6(be,W,void 0,_),_.currentTarget=null}function Vw(_,W){W=(W&4)!==0;for(var le=0;le<_.length;le++){var be=_[le],Be=be.event;be=be.listeners;e:{var qe=void 0;if(W)for(var G=be.length-1;0<=G;G--){var H=be[G],e=H.instance,y=H.currentTarget;if(H=H.listener,e!==qe&&Be.isPropagationStopped())break e;Pb(Be,H,y),qe=e}else for(G=0;G<be.length;G++){if(H=be[G],e=H.instance,y=H.currentTarget,H=H.listener,e!==qe&&Be.isPropagationStopped())break e;Pb(Be,H,y),qe=e}}}if(L0)throw _=Qy,L0=!1,Qy=null,_}function Zi(_,W){var le=W[s1];le===void 0&&(le=W[s1]=new Set);var be=_+"__bubble";le.has(be)||(Gw(W,_,2,!1),le.add(be))}function gy(_,W,le){var be=0;W&&(be|=4),Gw(le,_,be,W)}var t0="_reactListening"+Math.random().toString(36).slice(2);function Jd(_){if(!_[t0]){_[t0]=!0,J3.forEach(function(le){le!=="selectionchange"&&(SM.has(le)||gy(le,!1,_),gy(le,!0,_))});var W=_.nodeType===9?_:_.ownerDocument;W===null||W[t0]||(W[t0]=!0,gy("selectionchange",!1,W))}}function Gw(_,W,le,be){switch(Ew(W)){case 1:var Be=N6;break;case 4:Be=U6;break;default:Be=em}le=Be.bind(null,W,le,_),Be=void 0,!Jy||W!=="touchstart"&&W!=="touchmove"&&W!=="wheel"||(Be=!0),be?Be!==void 0?_.addEventListener(W,le,{capture:!0,passive:Be}):_.addEventListener(W,le,!0):Be!==void 0?_.addEventListener(W,le,{passive:Be}):_.addEventListener(W,le,!1)}function yy(_,W,le,be,Be){var qe=be;if(!(W&1)&&!(W&2)&&be!==null)e:for(;;){if(be===null)return;var G=be.tag;if(G===3||G===4){var H=be.stateNode.containerInfo;if(H===Be||H.nodeType===8&&H.parentNode===Be)break;if(G===4)for(G=be.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===Be||e.nodeType===8&&e.parentNode===Be))return;G=G.return}for(;H!==null;){if(G=_h(H),G===null)return;if(e=G.tag,e===5||e===6){be=qe=G;continue e}H=H.parentNode}}be=be.return}hw(function(){var y=qe,P=J1(le),a=[];e:{var L=Hw.get(_);if(L!==void 0){var M=rm,v=_;switch(_){case"keypress":if(p0(le)===0)break e;case"keydown":case"keyup":M=tM;break;case"focusin":v="focus",M=fy;break;case"focusout":v="blur",M=fy;break;case"beforeblur":case"afterblur":M=fy;break;case"click":if(le.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=G6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=aM;break;case Fw:case Bw:case Nw:M=Z6;break;case Uw:M=oM;break;case"scroll":M=H6;break;case"wheel":M=lM;break;case"copy":case"cut":case"paste":M=j6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=xb}var p=(W&4)!==0,r=!p&&_==="scroll",t=p?L!==null?L+"Capture":null:L;p=[];for(var o=y,n;o!==null;){n=o;var c=n.stateNode;if(n.tag===5&&c!==null&&(n=c,t!==null&&(c=Wd(o,t),c!=null&&p.push(Qd(o,c,n)))),r)break;o=o.return}0<p.length&&(L=new M(L,v,null,le,P),a.push({event:L,listeners:p}))}}if(!(W&7)){e:{if(L=_==="mouseover"||_==="pointerover",M=_==="mouseout"||_==="pointerout",L&&le!==jy&&(v=le.relatedTarget||le.fromElement)&&(_h(v)||v[Xf]))break e;if((M||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,M?(v=le.relatedTarget||le.toElement,M=y,v=v?_h(v):null,v!==null&&(r=Zh(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(M=null,v=y),M!==v)){if(p=yb,c="onMouseLeave",t="onMouseEnter",o="mouse",(_==="pointerout"||_==="pointerover")&&(p=xb,c="onPointerLeave",t="onPointerEnter",o="pointer"),r=M==null?L:Sv(M),n=v==null?L:Sv(v),L=new p(c,o+"leave",M,le,P),L.target=r,L.relatedTarget=n,c=null,_h(P)===y&&(p=new p(t,o+"enter",v,le,P),p.target=n,p.relatedTarget=r,c=p),r=c,M&&v)t:{for(p=M,t=v,o=0,n=p;n;n=xv(n))o++;for(n=0,c=t;c;c=xv(c))n++;for(;0<o-n;)p=xv(p),o--;for(;0<n-o;)t=xv(t),n--;for(;o--;){if(p===t||t!==null&&p===t.alternate)break t;p=xv(p),t=xv(t)}p=null}else p=null;M!==null&&Rb(a,L,M,p,!1),v!==null&&r!==null&&Rb(a,r,v,p,!0)}}e:{if(L=y?Sv(y):window,M=L.nodeName&&L.nodeName.toLowerCase(),M==="select"||M==="input"&&L.type==="file")var u=pM;else if(Tb(L))if(Iw)u=xM;else{u=yM;var l=gM}else(M=L.nodeName)&&M.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(u=mM);if(u&&(u=u(_,y))){Dw(a,u,le,P);break e}l&&l(_,L,y),_==="focusout"&&(l=L._wrapperState)&&l.controlled&&L.type==="number"&&Gy(L,"number",L.value)}switch(l=y?Sv(y):window,_){case"focusin":(Tb(l)||l.contentEditable==="true")&&(Av=l,t1=y,Fd=null);break;case"focusout":Fd=t1=Av=null;break;case"mousedown":r1=!0;break;case"contextmenu":case"mouseup":case"dragend":r1=!1,Cb(a,le,P);break;case"selectionchange":if(TM)break;case"keydown":case"keyup":Cb(a,le,P)}var g;if(am)e:{switch(_){case"compositionstart":var f="onCompositionStart";break e;case"compositionend":f="onCompositionEnd";break e;case"compositionupdate":f="onCompositionUpdate";break e}f=void 0}else Tv?Pw(_,le)&&(f="onCompositionEnd"):_==="keydown"&&le.keyCode===229&&(f="onCompositionStart");f&&(Lw&&le.locale!=="ko"&&(Tv||f!=="onCompositionStart"?f==="onCompositionEnd"&&Tv&&(g=Cw()):(Hc=P,tm="value"in Hc?Hc.value:Hc.textContent,Tv=!0)),l=k0(y,f),0<l.length&&(f=new mb(f,_,null,le,P),a.push({event:f,listeners:l}),g?f.data=g:(g=Rw(le),g!==null&&(f.data=g)))),(g=fM?cM(_,le):hM(_,le))&&(y=k0(y,"onBeforeInput"),0<y.length&&(P=new mb("onBeforeInput","beforeinput",null,le,P),a.push({event:P,listeners:y}),P.data=g))}Vw(a,W)})}function Qd(_,W,le){return{instance:_,listener:W,currentTarget:le}}function k0(_,W){for(var le=W+"Capture",be=[];_!==null;){var Be=_,qe=Be.stateNode;Be.tag===5&&qe!==null&&(Be=qe,qe=Wd(_,le),qe!=null&&be.unshift(Qd(_,qe,Be)),qe=Wd(_,W),qe!=null&&be.push(Qd(_,qe,Be))),_=_.return}return be}function xv(_){if(_===null)return null;do _=_.return;while(_&&_.tag!==5);return _||null}function Rb(_,W,le,be,Be){for(var qe=W._reactName,G=[];le!==null&&le!==be;){var H=le,e=H.alternate,y=H.stateNode;if(e!==null&&e===be)break;H.tag===5&&y!==null&&(H=y,Be?(e=Wd(le,qe),e!=null&&G.unshift(Qd(le,e,H))):Be||(e=Wd(le,qe),e!=null&&G.push(Qd(le,e,H)))),le=le.return}G.length!==0&&_.push({event:W,listeners:G})}var EM=/\r\n?/g,CM=/\u0000|\uFFFD/g;function Db(_){return(typeof _=="string"?_:""+_).replace(EM,`
`).replace(CM,"")}function r0(_,W,le){if(W=Db(W),Db(_)!==W&&le)throw Error(ya(425))}function _0(){}var n1=null,a1=null;function i1(_,W){return _==="textarea"||_==="noscript"||typeof W.children=="string"||typeof W.children=="number"||typeof W.dangerouslySetInnerHTML=="object"&&W.dangerouslySetInnerHTML!==null&&W.dangerouslySetInnerHTML.__html!=null}var o1=typeof setTimeout=="function"?setTimeout:void 0,LM=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,PM=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(_){return Ib.resolve(null).then(_).catch(RM)}:o1;function RM(_){setTimeout(function(){throw _})}function my(_,W){var le=W,be=0;do{var Be=le.nextSibling;if(_.removeChild(le),Be&&Be.nodeType===8)if(le=Be.data,le==="/$"){if(be===0){_.removeChild(Be),Xd(W);return}be--}else le!=="$"&&le!=="$?"&&le!=="$!"||be++;le=Be}while(le);Xd(W)}function Zc(_){for(;_!=null;_=_.nextSibling){var W=_.nodeType;if(W===1||W===3)break;if(W===8){if(W=_.data,W==="$"||W==="$!"||W==="$?")break;if(W==="/$")return null}}return _}function kb(_){_=_.previousSibling;for(var W=0;_;){if(_.nodeType===8){var le=_.data;if(le==="$"||le==="$!"||le==="$?"){if(W===0)return _;W--}else le==="/$"&&W++}_=_.previousSibling}return null}var Kv=Math.random().toString(36).slice(2),uf="__reactFiber$"+Kv,$d="__reactProps$"+Kv,Xf="__reactContainer$"+Kv,s1="__reactEvents$"+Kv,DM="__reactListeners$"+Kv,IM="__reactHandles$"+Kv;function _h(_){var W=_[uf];if(W)return W;for(var le=_.parentNode;le;){if(W=le[Xf]||le[uf]){if(le=W.alternate,W.child!==null||le!==null&&le.child!==null)for(_=kb(_);_!==null;){if(le=_[uf])return le;_=kb(_)}return W}_=le,le=_.parentNode}return null}function vp(_){return _=_[uf]||_[Xf],!_||_.tag!==5&&_.tag!==6&&_.tag!==13&&_.tag!==3?null:_}function Sv(_){if(_.tag===5||_.tag===6)return _.stateNode;throw Error(ya(33))}function og(_){return _[$d]||null}var l1=[],Ev=-1;function rh(_){return{current:_}}function Xi(_){0>Ev||(_.current=l1[Ev],l1[Ev]=null,Ev--)}function Ui(_,W){Ev++,l1[Ev]=_.current,_.current=W}var $c={},Ss=rh($c),rl=rh(!1),Nh=$c;function Nv(_,W){var le=_.type.contextTypes;if(!le)return $c;var be=_.stateNode;if(be&&be.__reactInternalMemoizedUnmaskedChildContext===W)return be.__reactInternalMemoizedMaskedChildContext;var Be={},qe;for(qe in le)Be[qe]=W[qe];return be&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=W,_.__reactInternalMemoizedMaskedChildContext=Be),Be}function nl(_){return _=_.childContextTypes,_!=null}function z0(){Xi(rl),Xi(Ss)}function _b(_,W,le){if(Ss.current!==$c)throw Error(ya(168));Ui(Ss,W),Ui(rl,le)}function Ww(_,W,le){var be=_.stateNode;if(W=W.childContextTypes,typeof be.getChildContext!="function")return le;be=be.getChildContext();for(var Be in be)if(!(Be in W))throw Error(ya(108,g6(_)||"Unknown",Be));return ho({},le,be)}function O0(_){return _=(_=_.stateNode)&&_.__reactInternalMemoizedMergedChildContext||$c,Nh=Ss.current,Ui(Ss,_),Ui(rl,rl.current),!0}function zb(_,W,le){var be=_.stateNode;if(!be)throw Error(ya(169));le?(_=Ww(_,W,Nh),be.__reactInternalMemoizedMergedChildContext=_,Xi(rl),Xi(Ss),Ui(Ss,_)):Xi(rl),Ui(rl,le)}var Hf=null,sg=!1,xy=!1;function Yw(_){Hf===null?Hf=[_]:Hf.push(_)}function kM(_){sg=!0,Yw(_)}function nh(){if(!xy&&Hf!==null){xy=!0;var _=0,W=Di;try{var le=Hf;for(Di=1;_<le.length;_++){var be=le[_];do be=be(!0);while(be!==null)}Hf=null,sg=!1}catch(Be){throw Hf!==null&&(Hf=Hf.slice(_+1)),gw(Q1,nh),Be}finally{Di=W,xy=!1}}return null}var Cv=[],Lv=0,F0=null,B0=0,$l=[],ql=0,Uh=null,Vf=1,Gf="";function Dh(_,W){Cv[Lv++]=B0,Cv[Lv++]=F0,F0=_,B0=W}function Zw(_,W,le){$l[ql++]=Vf,$l[ql++]=Gf,$l[ql++]=Uh,Uh=_;var be=Vf;_=Gf;var Be=32-Ou(be)-1;be&=~(1<<Be),le+=1;var qe=32-Ou(W)+Be;if(30<qe){var G=Be-Be%5;qe=(be&(1<<G)-1).toString(32),be>>=G,Be-=G,Vf=1<<32-Ou(W)+Be|le<<Be|be,Gf=qe+_}else Vf=1<<qe|le<<Be|be,Gf=_}function om(_){_.return!==null&&(Dh(_,1),Zw(_,1,0))}function sm(_){for(;_===F0;)F0=Cv[--Lv],Cv[Lv]=null,B0=Cv[--Lv],Cv[Lv]=null;for(;_===Uh;)Uh=$l[--ql],$l[ql]=null,Gf=$l[--ql],$l[ql]=null,Vf=$l[--ql],$l[ql]=null}var Tl=null,bl=null,qi=!1,_u=null;function Xw(_,W){var le=eu(5,null,null,0);le.elementType="DELETED",le.stateNode=W,le.return=_,W=_.deletions,W===null?(_.deletions=[le],_.flags|=16):W.push(le)}function Ob(_,W){switch(_.tag){case 5:var le=_.type;return W=W.nodeType!==1||le.toLowerCase()!==W.nodeName.toLowerCase()?null:W,W!==null?(_.stateNode=W,Tl=_,bl=Zc(W.firstChild),!0):!1;case 6:return W=_.pendingProps===""||W.nodeType!==3?null:W,W!==null?(_.stateNode=W,Tl=_,bl=null,!0):!1;case 13:return W=W.nodeType!==8?null:W,W!==null?(le=Uh!==null?{id:Vf,overflow:Gf}:null,_.memoizedState={dehydrated:W,treeContext:le,retryLane:1073741824},le=eu(18,null,null,0),le.stateNode=W,le.return=_,_.child=le,Tl=_,bl=null,!0):!1;default:return!1}}function u1(_){return(_.mode&1)!==0&&(_.flags&128)===0}function f1(_){if(qi){var W=bl;if(W){var le=W;if(!Ob(_,W)){if(u1(_))throw Error(ya(418));W=Zc(le.nextSibling);var be=Tl;W&&Ob(_,W)?Xw(be,le):(_.flags=_.flags&-4097|2,qi=!1,Tl=_)}}else{if(u1(_))throw Error(ya(418));_.flags=_.flags&-4097|2,qi=!1,Tl=_}}}function Fb(_){for(_=_.return;_!==null&&_.tag!==5&&_.tag!==3&&_.tag!==13;)_=_.return;Tl=_}function n0(_){if(_!==Tl)return!1;if(!qi)return Fb(_),qi=!0,!1;var W;if((W=_.tag!==3)&&!(W=_.tag!==5)&&(W=_.type,W=W!=="head"&&W!=="body"&&!i1(_.type,_.memoizedProps)),W&&(W=bl)){if(u1(_))throw jw(),Error(ya(418));for(;W;)Xw(_,W),W=Zc(W.nextSibling)}if(Fb(_),_.tag===13){if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(ya(317));e:{for(_=_.nextSibling,W=0;_;){if(_.nodeType===8){var le=_.data;if(le==="/$"){if(W===0){bl=Zc(_.nextSibling);break e}W--}else le!=="$"&&le!=="$!"&&le!=="$?"||W++}_=_.nextSibling}bl=null}}else bl=Tl?Zc(_.stateNode.nextSibling):null;return!0}function jw(){for(var _=bl;_;)_=Zc(_.nextSibling)}function Uv(){bl=Tl=null,qi=!1}function lm(_){_u===null?_u=[_]:_u.push(_)}var _M=Qf.ReactCurrentBatchConfig;function Iu(_,W){if(_&&_.defaultProps){W=ho({},W),_=_.defaultProps;for(var le in _)W[le]===void 0&&(W[le]=_[le]);return W}return W}var N0=rh(null),U0=null,Pv=null,um=null;function fm(){um=Pv=U0=null}function cm(_){var W=N0.current;Xi(N0),_._currentValue=W}function c1(_,W,le){for(;_!==null;){var be=_.alternate;if((_.childLanes&W)!==W?(_.childLanes|=W,be!==null&&(be.childLanes|=W)):be!==null&&(be.childLanes&W)!==W&&(be.childLanes|=W),_===le)break;_=_.return}}function Ov(_,W){U0=_,um=Pv=null,_=_.dependencies,_!==null&&_.firstContext!==null&&(_.lanes&W&&(tl=!0),_.firstContext=null)}function nu(_){var W=_._currentValue;if(um!==_)if(_={context:_,memoizedValue:W,next:null},Pv===null){if(U0===null)throw Error(ya(308));Pv=_,U0.dependencies={lanes:0,firstContext:_}}else Pv=Pv.next=_;return W}var zh=null;function hm(_){zh===null?zh=[_]:zh.push(_)}function Kw(_,W,le,be){var Be=W.interleaved;return Be===null?(le.next=le,hm(W)):(le.next=Be.next,Be.next=le),W.interleaved=le,jf(_,be)}function jf(_,W){_.lanes|=W;var le=_.alternate;for(le!==null&&(le.lanes|=W),le=_,_=_.return;_!==null;)_.childLanes|=W,le=_.alternate,le!==null&&(le.childLanes|=W),le=_,_=_.return;return le.tag===3?le.stateNode:null}var Bc=!1;function vm(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jw(_,W){_=_.updateQueue,W.updateQueue===_&&(W.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,effects:_.effects})}function Wf(_,W){return{eventTime:_,lane:W,tag:0,payload:null,callback:null,next:null}}function Xc(_,W,le){var be=_.updateQueue;if(be===null)return null;if(be=be.shared,wi&2){var Be=be.pending;return Be===null?W.next=W:(W.next=Be.next,Be.next=W),be.pending=W,jf(_,le)}return Be=be.interleaved,Be===null?(W.next=W,hm(be)):(W.next=Be.next,Be.next=W),be.interleaved=W,jf(_,le)}function g0(_,W,le){if(W=W.updateQueue,W!==null&&(W=W.shared,(le&4194240)!==0)){var be=W.lanes;be&=_.pendingLanes,le|=be,W.lanes=le,$1(_,le)}}function Bb(_,W){var le=_.updateQueue,be=_.alternate;if(be!==null&&(be=be.updateQueue,le===be)){var Be=null,qe=null;if(le=le.firstBaseUpdate,le!==null){do{var G={eventTime:le.eventTime,lane:le.lane,tag:le.tag,payload:le.payload,callback:le.callback,next:null};qe===null?Be=qe=G:qe=qe.next=G,le=le.next}while(le!==null);qe===null?Be=qe=W:qe=qe.next=W}else Be=qe=W;le={baseState:be.baseState,firstBaseUpdate:Be,lastBaseUpdate:qe,shared:be.shared,effects:be.effects},_.updateQueue=le;return}_=le.lastBaseUpdate,_===null?le.firstBaseUpdate=W:_.next=W,le.lastBaseUpdate=W}function H0(_,W,le,be){var Be=_.updateQueue;Bc=!1;var qe=Be.firstBaseUpdate,G=Be.lastBaseUpdate,H=Be.shared.pending;if(H!==null){Be.shared.pending=null;var e=H,y=e.next;e.next=null,G===null?qe=y:G.next=y,G=e;var P=_.alternate;P!==null&&(P=P.updateQueue,H=P.lastBaseUpdate,H!==G&&(H===null?P.firstBaseUpdate=y:H.next=y,P.lastBaseUpdate=e))}if(qe!==null){var a=Be.baseState;G=0,P=y=e=null,H=qe;do{var L=H.lane,M=H.eventTime;if((be&L)===L){P!==null&&(P=P.next={eventTime:M,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var v=_,p=H;switch(L=W,M=le,p.tag){case 1:if(v=p.payload,typeof v=="function"){a=v.call(M,a,L);break e}a=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(M,a,L):v,L==null)break e;a=ho({},a,L);break e;case 2:Bc=!0}}H.callback!==null&&H.lane!==0&&(_.flags|=64,L=Be.effects,L===null?Be.effects=[H]:L.push(H))}else M={eventTime:M,lane:L,tag:H.tag,payload:H.payload,callback:H.callback,next:null},P===null?(y=P=M,e=a):P=P.next=M,G|=L;if(H=H.next,H===null){if(H=Be.shared.pending,H===null)break;L=H,H=L.next,L.next=null,Be.lastBaseUpdate=L,Be.shared.pending=null}}while(!0);if(P===null&&(e=a),Be.baseState=e,Be.firstBaseUpdate=y,Be.lastBaseUpdate=P,W=Be.shared.interleaved,W!==null){Be=W;do G|=Be.lane,Be=Be.next;while(Be!==W)}else qe===null&&(Be.shared.lanes=0);Vh|=G,_.lanes=G,_.memoizedState=a}}function Nb(_,W,le){if(_=W.effects,W.effects=null,_!==null)for(W=0;W<_.length;W++){var be=_[W],Be=be.callback;if(Be!==null){if(be.callback=null,be=le,typeof Be!="function")throw Error(ya(191,Be));Be.call(be)}}}var Qw=new K3.Component().refs;function h1(_,W,le,be){W=_.memoizedState,le=le(be,W),le=le==null?W:ho({},W,le),_.memoizedState=le,_.lanes===0&&(_.updateQueue.baseState=le)}var lg={isMounted:function(_){return(_=_._reactInternals)?Zh(_)===_:!1},enqueueSetState:function(_,W,le){_=_._reactInternals;var be=Fs(),Be=Kc(_),qe=Wf(be,Be);qe.payload=W,le!=null&&(qe.callback=le),W=Xc(_,qe,Be),W!==null&&(Fu(W,_,Be,be),g0(W,_,Be))},enqueueReplaceState:function(_,W,le){_=_._reactInternals;var be=Fs(),Be=Kc(_),qe=Wf(be,Be);qe.tag=1,qe.payload=W,le!=null&&(qe.callback=le),W=Xc(_,qe,Be),W!==null&&(Fu(W,_,Be,be),g0(W,_,Be))},enqueueForceUpdate:function(_,W){_=_._reactInternals;var le=Fs(),be=Kc(_),Be=Wf(le,be);Be.tag=2,W!=null&&(Be.callback=W),W=Xc(_,Be,be),W!==null&&(Fu(W,_,be,le),g0(W,_,be))}};function Ub(_,W,le,be,Be,qe,G){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(be,qe,G):W.prototype&&W.prototype.isPureReactComponent?!Kd(le,be)||!Kd(Be,qe):!0}function $w(_,W,le){var be=!1,Be=$c,qe=W.contextType;return typeof qe=="object"&&qe!==null?qe=nu(qe):(Be=nl(W)?Nh:Ss.current,be=W.contextTypes,qe=(be=be!=null)?Nv(_,Be):$c),W=new W(le,qe),_.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=lg,_.stateNode=W,W._reactInternals=_,be&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=Be,_.__reactInternalMemoizedMaskedChildContext=qe),W}function Hb(_,W,le,be){_=W.state,typeof W.componentWillReceiveProps=="function"&&W.componentWillReceiveProps(le,be),typeof W.UNSAFE_componentWillReceiveProps=="function"&&W.UNSAFE_componentWillReceiveProps(le,be),W.state!==_&&lg.enqueueReplaceState(W,W.state,null)}function v1(_,W,le,be){var Be=_.stateNode;Be.props=le,Be.state=_.memoizedState,Be.refs=Qw,vm(_);var qe=W.contextType;typeof qe=="object"&&qe!==null?Be.context=nu(qe):(qe=nl(W)?Nh:Ss.current,Be.context=Nv(_,qe)),Be.state=_.memoizedState,qe=W.getDerivedStateFromProps,typeof qe=="function"&&(h1(_,W,qe,le),Be.state=_.memoizedState),typeof W.getDerivedStateFromProps=="function"||typeof Be.getSnapshotBeforeUpdate=="function"||typeof Be.UNSAFE_componentWillMount!="function"&&typeof Be.componentWillMount!="function"||(W=Be.state,typeof Be.componentWillMount=="function"&&Be.componentWillMount(),typeof Be.UNSAFE_componentWillMount=="function"&&Be.UNSAFE_componentWillMount(),W!==Be.state&&lg.enqueueReplaceState(Be,Be.state,null),H0(_,le,Be,be),Be.state=_.memoizedState),typeof Be.componentDidMount=="function"&&(_.flags|=4194308)}function Md(_,W,le){if(_=le.ref,_!==null&&typeof _!="function"&&typeof _!="object"){if(le._owner){if(le=le._owner,le){if(le.tag!==1)throw Error(ya(309));var be=le.stateNode}if(!be)throw Error(ya(147,_));var Be=be,qe=""+_;return W!==null&&W.ref!==null&&typeof W.ref=="function"&&W.ref._stringRef===qe?W.ref:(W=function(G){var H=Be.refs;H===Qw&&(H=Be.refs={}),G===null?delete H[qe]:H[qe]=G},W._stringRef=qe,W)}if(typeof _!="string")throw Error(ya(284));if(!le._owner)throw Error(ya(290,_))}return _}function a0(_,W){throw _=Object.prototype.toString.call(W),Error(ya(31,_==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":_))}function Vb(_){var W=_._init;return W(_._payload)}function qw(_){function W(t,o){if(_){var n=t.deletions;n===null?(t.deletions=[o],t.flags|=16):n.push(o)}}function le(t,o){if(!_)return null;for(;o!==null;)W(t,o),o=o.sibling;return null}function be(t,o){for(t=new Map;o!==null;)o.key!==null?t.set(o.key,o):t.set(o.index,o),o=o.sibling;return t}function Be(t,o){return t=Jc(t,o),t.index=0,t.sibling=null,t}function qe(t,o,n){return t.index=n,_?(n=t.alternate,n!==null?(n=n.index,n<o?(t.flags|=2,o):n):(t.flags|=2,o)):(t.flags|=1048576,o)}function G(t){return _&&t.alternate===null&&(t.flags|=2),t}function H(t,o,n,c){return o===null||o.tag!==6?(o=Ey(n,t.mode,c),o.return=t,o):(o=Be(o,n),o.return=t,o)}function e(t,o,n,c){var u=n.type;return u===wv?P(t,o,n.props.children,c,n.key):o!==null&&(o.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Fc&&Vb(u)===o.type)?(c=Be(o,n.props),c.ref=Md(t,o,n),c.return=t,c):(c=T0(n.type,n.key,n.props,null,t.mode,c),c.ref=Md(t,o,n),c.return=t,c)}function y(t,o,n,c){return o===null||o.tag!==4||o.stateNode.containerInfo!==n.containerInfo||o.stateNode.implementation!==n.implementation?(o=Cy(n,t.mode,c),o.return=t,o):(o=Be(o,n.children||[]),o.return=t,o)}function P(t,o,n,c,u){return o===null||o.tag!==7?(o=Bh(n,t.mode,c,u),o.return=t,o):(o=Be(o,n),o.return=t,o)}function a(t,o,n){if(typeof o=="string"&&o!==""||typeof o=="number")return o=Ey(""+o,t.mode,n),o.return=t,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case Xp:return n=T0(o.type,o.key,o.props,null,t.mode,n),n.ref=Md(t,null,o),n.return=t,n;case bv:return o=Cy(o,t.mode,n),o.return=t,o;case Fc:var c=o._init;return a(t,c(o._payload),n)}if(Pd(o)||xd(o))return o=Bh(o,t.mode,n,null),o.return=t,o;a0(t,o)}return null}function L(t,o,n,c){var u=o!==null?o.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:H(t,o,""+n,c);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Xp:return n.key===u?e(t,o,n,c):null;case bv:return n.key===u?y(t,o,n,c):null;case Fc:return u=n._init,L(t,o,u(n._payload),c)}if(Pd(n)||xd(n))return u!==null?null:P(t,o,n,c,null);a0(t,n)}return null}function M(t,o,n,c,u){if(typeof c=="string"&&c!==""||typeof c=="number")return t=t.get(n)||null,H(o,t,""+c,u);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Xp:return t=t.get(c.key===null?n:c.key)||null,e(o,t,c,u);case bv:return t=t.get(c.key===null?n:c.key)||null,y(o,t,c,u);case Fc:var l=c._init;return M(t,o,n,l(c._payload),u)}if(Pd(c)||xd(c))return t=t.get(n)||null,P(o,t,c,u,null);a0(o,c)}return null}function v(t,o,n,c){for(var u=null,l=null,g=o,f=o=0,T=null;g!==null&&f<n.length;f++){g.index>f?(T=g,g=null):T=g.sibling;var h=L(t,g,n[f],c);if(h===null){g===null&&(g=T);break}_&&g&&h.alternate===null&&W(t,g),o=qe(h,o,f),l===null?u=h:l.sibling=h,l=h,g=T}if(f===n.length)return le(t,g),qi&&Dh(t,f),u;if(g===null){for(;f<n.length;f++)g=a(t,n[f],c),g!==null&&(o=qe(g,o,f),l===null?u=g:l.sibling=g,l=g);return qi&&Dh(t,f),u}for(g=be(t,g);f<n.length;f++)T=M(g,t,f,n[f],c),T!==null&&(_&&T.alternate!==null&&g.delete(T.key===null?f:T.key),o=qe(T,o,f),l===null?u=T:l.sibling=T,l=T);return _&&g.forEach(function(s){return W(t,s)}),qi&&Dh(t,f),u}function p(t,o,n,c){var u=xd(n);if(typeof u!="function")throw Error(ya(150));if(n=u.call(n),n==null)throw Error(ya(151));for(var l=u=null,g=o,f=o=0,T=null,h=n.next();g!==null&&!h.done;f++,h=n.next()){g.index>f?(T=g,g=null):T=g.sibling;var s=L(t,g,h.value,c);if(s===null){g===null&&(g=T);break}_&&g&&s.alternate===null&&W(t,g),o=qe(s,o,f),l===null?u=s:l.sibling=s,l=s,g=T}if(h.done)return le(t,g),qi&&Dh(t,f),u;if(g===null){for(;!h.done;f++,h=n.next())h=a(t,h.value,c),h!==null&&(o=qe(h,o,f),l===null?u=h:l.sibling=h,l=h);return qi&&Dh(t,f),u}for(g=be(t,g);!h.done;f++,h=n.next())h=M(g,t,f,h.value,c),h!==null&&(_&&h.alternate!==null&&g.delete(h.key===null?f:h.key),o=qe(h,o,f),l===null?u=h:l.sibling=h,l=h);return _&&g.forEach(function(d){return W(t,d)}),qi&&Dh(t,f),u}function r(t,o,n,c){if(typeof n=="object"&&n!==null&&n.type===wv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Xp:e:{for(var u=n.key,l=o;l!==null;){if(l.key===u){if(u=n.type,u===wv){if(l.tag===7){le(t,l.sibling),o=Be(l,n.props.children),o.return=t,t=o;break e}}else if(l.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Fc&&Vb(u)===l.type){le(t,l.sibling),o=Be(l,n.props),o.ref=Md(t,l,n),o.return=t,t=o;break e}le(t,l);break}else W(t,l);l=l.sibling}n.type===wv?(o=Bh(n.props.children,t.mode,c,n.key),o.return=t,t=o):(c=T0(n.type,n.key,n.props,null,t.mode,c),c.ref=Md(t,o,n),c.return=t,t=c)}return G(t);case bv:e:{for(l=n.key;o!==null;){if(o.key===l)if(o.tag===4&&o.stateNode.containerInfo===n.containerInfo&&o.stateNode.implementation===n.implementation){le(t,o.sibling),o=Be(o,n.children||[]),o.return=t,t=o;break e}else{le(t,o);break}else W(t,o);o=o.sibling}o=Cy(n,t.mode,c),o.return=t,t=o}return G(t);case Fc:return l=n._init,r(t,o,l(n._payload),c)}if(Pd(n))return v(t,o,n,c);if(xd(n))return p(t,o,n,c);a0(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,o!==null&&o.tag===6?(le(t,o.sibling),o=Be(o,n),o.return=t,t=o):(le(t,o),o=Ey(n,t.mode,c),o.return=t,t=o),G(t)):le(t,o)}return r}var Hv=qw(!0),e2=qw(!1),dp={},hf=rh(dp),qd=rh(dp),ep=rh(dp);function Oh(_){if(_===dp)throw Error(ya(174));return _}function dm(_,W){switch(Ui(ep,W),Ui(qd,_),Ui(hf,dp),_=W.nodeType,_){case 9:case 11:W=(W=W.documentElement)?W.namespaceURI:Yy(null,"");break;default:_=_===8?W.parentNode:W,W=_.namespaceURI||null,_=_.tagName,W=Yy(W,_)}Xi(hf),Ui(hf,W)}function Vv(){Xi(hf),Xi(qd),Xi(ep)}function t2(_){Oh(ep.current);var W=Oh(hf.current),le=Yy(W,_.type);W!==le&&(Ui(qd,_),Ui(hf,le))}function pm(_){qd.current===_&&(Xi(hf),Xi(qd))}var fo=rh(0);function V0(_){for(var W=_;W!==null;){if(W.tag===13){var le=W.memoizedState;if(le!==null&&(le=le.dehydrated,le===null||le.data==="$?"||le.data==="$!"))return W}else if(W.tag===19&&W.memoizedProps.revealOrder!==void 0){if(W.flags&128)return W}else if(W.child!==null){W.child.return=W,W=W.child;continue}if(W===_)break;for(;W.sibling===null;){if(W.return===null||W.return===_)return null;W=W.return}W.sibling.return=W.return,W=W.sibling}return null}var by=[];function gm(){for(var _=0;_<by.length;_++)by[_]._workInProgressVersionPrimary=null;by.length=0}var y0=Qf.ReactCurrentDispatcher,wy=Qf.ReactCurrentBatchConfig,Hh=0,co=null,Bo=null,Yo=null,G0=!1,Bd=!1,tp=0,zM=0;function ws(){throw Error(ya(321))}function ym(_,W){if(W===null)return!1;for(var le=0;le<W.length&&le<_.length;le++)if(!Nu(_[le],W[le]))return!1;return!0}function mm(_,W,le,be,Be,qe){if(Hh=qe,co=W,W.memoizedState=null,W.updateQueue=null,W.lanes=0,y0.current=_===null||_.memoizedState===null?NM:UM,_=le(be,Be),Bd){qe=0;do{if(Bd=!1,tp=0,25<=qe)throw Error(ya(301));qe+=1,Yo=Bo=null,W.updateQueue=null,y0.current=HM,_=le(be,Be)}while(Bd)}if(y0.current=W0,W=Bo!==null&&Bo.next!==null,Hh=0,Yo=Bo=co=null,G0=!1,W)throw Error(ya(300));return _}function xm(){var _=tp!==0;return tp=0,_}function lf(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yo===null?co.memoizedState=Yo=_:Yo=Yo.next=_,Yo}function au(){if(Bo===null){var _=co.alternate;_=_!==null?_.memoizedState:null}else _=Bo.next;var W=Yo===null?co.memoizedState:Yo.next;if(W!==null)Yo=W,Bo=_;else{if(_===null)throw Error(ya(310));Bo=_,_={memoizedState:Bo.memoizedState,baseState:Bo.baseState,baseQueue:Bo.baseQueue,queue:Bo.queue,next:null},Yo===null?co.memoizedState=Yo=_:Yo=Yo.next=_}return Yo}function rp(_,W){return typeof W=="function"?W(_):W}function Ty(_){var W=au(),le=W.queue;if(le===null)throw Error(ya(311));le.lastRenderedReducer=_;var be=Bo,Be=be.baseQueue,qe=le.pending;if(qe!==null){if(Be!==null){var G=Be.next;Be.next=qe.next,qe.next=G}be.baseQueue=Be=qe,le.pending=null}if(Be!==null){qe=Be.next,be=be.baseState;var H=G=null,e=null,y=qe;do{var P=y.lane;if((Hh&P)===P)e!==null&&(e=e.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),be=y.hasEagerState?y.eagerState:_(be,y.action);else{var a={lane:P,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};e===null?(H=e=a,G=be):e=e.next=a,co.lanes|=P,Vh|=P}y=y.next}while(y!==null&&y!==qe);e===null?G=be:e.next=H,Nu(be,W.memoizedState)||(tl=!0),W.memoizedState=be,W.baseState=G,W.baseQueue=e,le.lastRenderedState=be}if(_=le.interleaved,_!==null){Be=_;do qe=Be.lane,co.lanes|=qe,Vh|=qe,Be=Be.next;while(Be!==_)}else Be===null&&(le.lanes=0);return[W.memoizedState,le.dispatch]}function Ay(_){var W=au(),le=W.queue;if(le===null)throw Error(ya(311));le.lastRenderedReducer=_;var be=le.dispatch,Be=le.pending,qe=W.memoizedState;if(Be!==null){le.pending=null;var G=Be=Be.next;do qe=_(qe,G.action),G=G.next;while(G!==Be);Nu(qe,W.memoizedState)||(tl=!0),W.memoizedState=qe,W.baseQueue===null&&(W.baseState=qe),le.lastRenderedState=qe}return[qe,be]}function r2(){}function n2(_,W){var le=co,be=au(),Be=W(),qe=!Nu(be.memoizedState,Be);if(qe&&(be.memoizedState=Be,tl=!0),be=be.queue,bm(o2.bind(null,le,be,_),[_]),be.getSnapshot!==W||qe||Yo!==null&&Yo.memoizedState.tag&1){if(le.flags|=2048,np(9,i2.bind(null,le,be,Be,W),void 0,null),Zo===null)throw Error(ya(349));Hh&30||a2(le,W,Be)}return Be}function a2(_,W,le){_.flags|=16384,_={getSnapshot:W,value:le},W=co.updateQueue,W===null?(W={lastEffect:null,stores:null},co.updateQueue=W,W.stores=[_]):(le=W.stores,le===null?W.stores=[_]:le.push(_))}function i2(_,W,le,be){W.value=le,W.getSnapshot=be,s2(W)&&l2(_)}function o2(_,W,le){return le(function(){s2(W)&&l2(_)})}function s2(_){var W=_.getSnapshot;_=_.value;try{var le=W();return!Nu(_,le)}catch{return!0}}function l2(_){var W=jf(_,1);W!==null&&Fu(W,_,1,-1)}function Gb(_){var W=lf();return typeof _=="function"&&(_=_()),W.memoizedState=W.baseState=_,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:_},W.queue=_,_=_.dispatch=BM.bind(null,co,_),[W.memoizedState,_]}function np(_,W,le,be){return _={tag:_,create:W,destroy:le,deps:be,next:null},W=co.updateQueue,W===null?(W={lastEffect:null,stores:null},co.updateQueue=W,W.lastEffect=_.next=_):(le=W.lastEffect,le===null?W.lastEffect=_.next=_:(be=le.next,le.next=_,_.next=be,W.lastEffect=_)),_}function u2(){return au().memoizedState}function m0(_,W,le,be){var Be=lf();co.flags|=_,Be.memoizedState=np(1|W,le,void 0,be===void 0?null:be)}function ug(_,W,le,be){var Be=au();be=be===void 0?null:be;var qe=void 0;if(Bo!==null){var G=Bo.memoizedState;if(qe=G.destroy,be!==null&&ym(be,G.deps)){Be.memoizedState=np(W,le,qe,be);return}}co.flags|=_,Be.memoizedState=np(1|W,le,qe,be)}function Wb(_,W){return m0(8390656,8,_,W)}function bm(_,W){return ug(2048,8,_,W)}function f2(_,W){return ug(4,2,_,W)}function c2(_,W){return ug(4,4,_,W)}function h2(_,W){if(typeof W=="function")return _=_(),W(_),function(){W(null)};if(W!=null)return _=_(),W.current=_,function(){W.current=null}}function v2(_,W,le){return le=le!=null?le.concat([_]):null,ug(4,4,h2.bind(null,W,_),le)}function wm(){}function d2(_,W){var le=au();W=W===void 0?null:W;var be=le.memoizedState;return be!==null&&W!==null&&ym(W,be[1])?be[0]:(le.memoizedState=[_,W],_)}function p2(_,W){var le=au();W=W===void 0?null:W;var be=le.memoizedState;return be!==null&&W!==null&&ym(W,be[1])?be[0]:(_=_(),le.memoizedState=[_,W],_)}function g2(_,W,le){return Hh&21?(Nu(le,W)||(le=xw(),co.lanes|=le,Vh|=le,_.baseState=!0),W):(_.baseState&&(_.baseState=!1,tl=!0),_.memoizedState=le)}function OM(_,W){var le=Di;Di=le!==0&&4>le?le:4,_(!0);var be=wy.transition;wy.transition={};try{_(!1),W()}finally{Di=le,wy.transition=be}}function y2(){return au().memoizedState}function FM(_,W,le){var be=Kc(_);if(le={lane:be,action:le,hasEagerState:!1,eagerState:null,next:null},m2(_))x2(W,le);else if(le=Kw(_,W,le,be),le!==null){var Be=Fs();Fu(le,_,be,Be),b2(le,W,be)}}function BM(_,W,le){var be=Kc(_),Be={lane:be,action:le,hasEagerState:!1,eagerState:null,next:null};if(m2(_))x2(W,Be);else{var qe=_.alternate;if(_.lanes===0&&(qe===null||qe.lanes===0)&&(qe=W.lastRenderedReducer,qe!==null))try{var G=W.lastRenderedState,H=qe(G,le);if(Be.hasEagerState=!0,Be.eagerState=H,Nu(H,G)){var e=W.interleaved;e===null?(Be.next=Be,hm(W)):(Be.next=e.next,e.next=Be),W.interleaved=Be;return}}catch{}finally{}le=Kw(_,W,Be,be),le!==null&&(Be=Fs(),Fu(le,_,be,Be),b2(le,W,be))}}function m2(_){var W=_.alternate;return _===co||W!==null&&W===co}function x2(_,W){Bd=G0=!0;var le=_.pending;le===null?W.next=W:(W.next=le.next,le.next=W),_.pending=W}function b2(_,W,le){if(le&4194240){var be=W.lanes;be&=_.pendingLanes,le|=be,W.lanes=le,$1(_,le)}}var W0={readContext:nu,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},NM={readContext:nu,useCallback:function(_,W){return lf().memoizedState=[_,W===void 0?null:W],_},useContext:nu,useEffect:Wb,useImperativeHandle:function(_,W,le){return le=le!=null?le.concat([_]):null,m0(4194308,4,h2.bind(null,W,_),le)},useLayoutEffect:function(_,W){return m0(4194308,4,_,W)},useInsertionEffect:function(_,W){return m0(4,2,_,W)},useMemo:function(_,W){var le=lf();return W=W===void 0?null:W,_=_(),le.memoizedState=[_,W],_},useReducer:function(_,W,le){var be=lf();return W=le!==void 0?le(W):W,be.memoizedState=be.baseState=W,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:W},be.queue=_,_=_.dispatch=FM.bind(null,co,_),[be.memoizedState,_]},useRef:function(_){var W=lf();return _={current:_},W.memoizedState=_},useState:Gb,useDebugValue:wm,useDeferredValue:function(_){return lf().memoizedState=_},useTransition:function(){var _=Gb(!1),W=_[0];return _=OM.bind(null,_[1]),lf().memoizedState=_,[W,_]},useMutableSource:function(){},useSyncExternalStore:function(_,W,le){var be=co,Be=lf();if(qi){if(le===void 0)throw Error(ya(407));le=le()}else{if(le=W(),Zo===null)throw Error(ya(349));Hh&30||a2(be,W,le)}Be.memoizedState=le;var qe={value:le,getSnapshot:W};return Be.queue=qe,Wb(o2.bind(null,be,qe,_),[_]),be.flags|=2048,np(9,i2.bind(null,be,qe,le,W),void 0,null),le},useId:function(){var _=lf(),W=Zo.identifierPrefix;if(qi){var le=Gf,be=Vf;le=(be&~(1<<32-Ou(be)-1)).toString(32)+le,W=":"+W+"R"+le,le=tp++,0<le&&(W+="H"+le.toString(32)),W+=":"}else le=zM++,W=":"+W+"r"+le.toString(32)+":";return _.memoizedState=W},unstable_isNewReconciler:!1},UM={readContext:nu,useCallback:d2,useContext:nu,useEffect:bm,useImperativeHandle:v2,useInsertionEffect:f2,useLayoutEffect:c2,useMemo:p2,useReducer:Ty,useRef:u2,useState:function(){return Ty(rp)},useDebugValue:wm,useDeferredValue:function(_){var W=au();return g2(W,Bo.memoizedState,_)},useTransition:function(){var _=Ty(rp)[0],W=au().memoizedState;return[_,W]},useMutableSource:r2,useSyncExternalStore:n2,useId:y2,unstable_isNewReconciler:!1},HM={readContext:nu,useCallback:d2,useContext:nu,useEffect:bm,useImperativeHandle:v2,useInsertionEffect:f2,useLayoutEffect:c2,useMemo:p2,useReducer:Ay,useRef:u2,useState:function(){return Ay(rp)},useDebugValue:wm,useDeferredValue:function(_){var W=au();return Bo===null?W.memoizedState=_:g2(W,Bo.memoizedState,_)},useTransition:function(){var _=Ay(rp)[0],W=au().memoizedState;return[_,W]},useMutableSource:r2,useSyncExternalStore:n2,useId:y2,unstable_isNewReconciler:!1};function Gv(_,W){try{var le="",be=W;do le+=p6(be),be=be.return;while(be);var Be=le}catch(qe){Be=`
Error generating stack: `+qe.message+`
`+qe.stack}return{value:_,source:W,stack:Be,digest:null}}function My(_,W,le){return{value:_,source:null,stack:le??null,digest:W??null}}function d1(_,W){try{console.error(W.value)}catch(le){setTimeout(function(){throw le})}}var VM=typeof WeakMap=="function"?WeakMap:Map;function w2(_,W,le){le=Wf(-1,le),le.tag=3,le.payload={element:null};var be=W.value;return le.callback=function(){Z0||(Z0=!0,M1=be),d1(_,W)},le}function T2(_,W,le){le=Wf(-1,le),le.tag=3;var be=_.type.getDerivedStateFromError;if(typeof be=="function"){var Be=W.value;le.payload=function(){return be(Be)},le.callback=function(){d1(_,W)}}var qe=_.stateNode;return qe!==null&&typeof qe.componentDidCatch=="function"&&(le.callback=function(){d1(_,W),typeof be!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var G=W.stack;this.componentDidCatch(W.value,{componentStack:G!==null?G:""})}),le}function Yb(_,W,le){var be=_.pingCache;if(be===null){be=_.pingCache=new VM;var Be=new Set;be.set(W,Be)}else Be=be.get(W),Be===void 0&&(Be=new Set,be.set(W,Be));Be.has(le)||(Be.add(le),_=r8.bind(null,_,W,le),W.then(_,_))}function Zb(_){do{var W;if((W=_.tag===13)&&(W=_.memoizedState,W=W!==null?W.dehydrated!==null:!0),W)return _;_=_.return}while(_!==null);return null}function Xb(_,W,le,be,Be){return _.mode&1?(_.flags|=65536,_.lanes=Be,_):(_===W?_.flags|=65536:(_.flags|=128,le.flags|=131072,le.flags&=-52805,le.tag===1&&(le.alternate===null?le.tag=17:(W=Wf(-1,1),W.tag=2,Xc(le,W,1))),le.lanes|=1),_)}var GM=Qf.ReactCurrentOwner,tl=!1;function Os(_,W,le,be){W.child=_===null?e2(W,null,le,be):Hv(W,_.child,le,be)}function jb(_,W,le,be,Be){le=le.render;var qe=W.ref;return Ov(W,Be),be=mm(_,W,le,be,qe,Be),le=xm(),_!==null&&!tl?(W.updateQueue=_.updateQueue,W.flags&=-2053,_.lanes&=~Be,Kf(_,W,Be)):(qi&&le&&om(W),W.flags|=1,Os(_,W,be,Be),W.child)}function Kb(_,W,le,be,Be){if(_===null){var qe=le.type;return typeof qe=="function"&&!Pm(qe)&&qe.defaultProps===void 0&&le.compare===null&&le.defaultProps===void 0?(W.tag=15,W.type=qe,A2(_,W,qe,be,Be)):(_=T0(le.type,null,be,W,W.mode,Be),_.ref=W.ref,_.return=W,W.child=_)}if(qe=_.child,!(_.lanes&Be)){var G=qe.memoizedProps;if(le=le.compare,le=le!==null?le:Kd,le(G,be)&&_.ref===W.ref)return Kf(_,W,Be)}return W.flags|=1,_=Jc(qe,be),_.ref=W.ref,_.return=W,W.child=_}function A2(_,W,le,be,Be){if(_!==null){var qe=_.memoizedProps;if(Kd(qe,be)&&_.ref===W.ref)if(tl=!1,W.pendingProps=be=qe,(_.lanes&Be)!==0)_.flags&131072&&(tl=!0);else return W.lanes=_.lanes,Kf(_,W,Be)}return p1(_,W,le,be,Be)}function M2(_,W,le){var be=W.pendingProps,Be=be.children,qe=_!==null?_.memoizedState:null;if(be.mode==="hidden")if(!(W.mode&1))W.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ui(Dv,xl),xl|=le;else{if(!(le&1073741824))return _=qe!==null?qe.baseLanes|le:le,W.lanes=W.childLanes=1073741824,W.memoizedState={baseLanes:_,cachePool:null,transitions:null},W.updateQueue=null,Ui(Dv,xl),xl|=_,null;W.memoizedState={baseLanes:0,cachePool:null,transitions:null},be=qe!==null?qe.baseLanes:le,Ui(Dv,xl),xl|=be}else qe!==null?(be=qe.baseLanes|le,W.memoizedState=null):be=le,Ui(Dv,xl),xl|=be;return Os(_,W,Be,le),W.child}function S2(_,W){var le=W.ref;(_===null&&le!==null||_!==null&&_.ref!==le)&&(W.flags|=512,W.flags|=2097152)}function p1(_,W,le,be,Be){var qe=nl(le)?Nh:Ss.current;return qe=Nv(W,qe),Ov(W,Be),le=mm(_,W,le,be,qe,Be),be=xm(),_!==null&&!tl?(W.updateQueue=_.updateQueue,W.flags&=-2053,_.lanes&=~Be,Kf(_,W,Be)):(qi&&be&&om(W),W.flags|=1,Os(_,W,le,Be),W.child)}function Jb(_,W,le,be,Be){if(nl(le)){var qe=!0;O0(W)}else qe=!1;if(Ov(W,Be),W.stateNode===null)x0(_,W),$w(W,le,be),v1(W,le,be,Be),be=!0;else if(_===null){var G=W.stateNode,H=W.memoizedProps;G.props=H;var e=G.context,y=le.contextType;typeof y=="object"&&y!==null?y=nu(y):(y=nl(le)?Nh:Ss.current,y=Nv(W,y));var P=le.getDerivedStateFromProps,a=typeof P=="function"||typeof G.getSnapshotBeforeUpdate=="function";a||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==be||e!==y)&&Hb(W,G,be,y),Bc=!1;var L=W.memoizedState;G.state=L,H0(W,be,G,Be),e=W.memoizedState,H!==be||L!==e||rl.current||Bc?(typeof P=="function"&&(h1(W,le,P,be),e=W.memoizedState),(H=Bc||Ub(W,le,H,be,L,e,y))?(a||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(W.flags|=4194308)):(typeof G.componentDidMount=="function"&&(W.flags|=4194308),W.memoizedProps=be,W.memoizedState=e),G.props=be,G.state=e,G.context=y,be=H):(typeof G.componentDidMount=="function"&&(W.flags|=4194308),be=!1)}else{G=W.stateNode,Jw(_,W),H=W.memoizedProps,y=W.type===W.elementType?H:Iu(W.type,H),G.props=y,a=W.pendingProps,L=G.context,e=le.contextType,typeof e=="object"&&e!==null?e=nu(e):(e=nl(le)?Nh:Ss.current,e=Nv(W,e));var M=le.getDerivedStateFromProps;(P=typeof M=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==a||L!==e)&&Hb(W,G,be,e),Bc=!1,L=W.memoizedState,G.state=L,H0(W,be,G,Be);var v=W.memoizedState;H!==a||L!==v||rl.current||Bc?(typeof M=="function"&&(h1(W,le,M,be),v=W.memoizedState),(y=Bc||Ub(W,le,y,be,L,v,e)||!1)?(P||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(be,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(be,v,e)),typeof G.componentDidUpdate=="function"&&(W.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(W.flags|=1024)):(typeof G.componentDidUpdate!="function"||H===_.memoizedProps&&L===_.memoizedState||(W.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===_.memoizedProps&&L===_.memoizedState||(W.flags|=1024),W.memoizedProps=be,W.memoizedState=v),G.props=be,G.state=v,G.context=e,be=y):(typeof G.componentDidUpdate!="function"||H===_.memoizedProps&&L===_.memoizedState||(W.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===_.memoizedProps&&L===_.memoizedState||(W.flags|=1024),be=!1)}return g1(_,W,le,be,qe,Be)}function g1(_,W,le,be,Be,qe){S2(_,W);var G=(W.flags&128)!==0;if(!be&&!G)return Be&&zb(W,le,!1),Kf(_,W,qe);be=W.stateNode,GM.current=W;var H=G&&typeof le.getDerivedStateFromError!="function"?null:be.render();return W.flags|=1,_!==null&&G?(W.child=Hv(W,_.child,null,qe),W.child=Hv(W,null,H,qe)):Os(_,W,H,qe),W.memoizedState=be.state,Be&&zb(W,le,!0),W.child}function E2(_){var W=_.stateNode;W.pendingContext?_b(_,W.pendingContext,W.pendingContext!==W.context):W.context&&_b(_,W.context,!1),dm(_,W.containerInfo)}function Qb(_,W,le,be,Be){return Uv(),lm(Be),W.flags|=256,Os(_,W,le,be),W.child}var y1={dehydrated:null,treeContext:null,retryLane:0};function m1(_){return{baseLanes:_,cachePool:null,transitions:null}}function C2(_,W,le){var be=W.pendingProps,Be=fo.current,qe=!1,G=(W.flags&128)!==0,H;if((H=G)||(H=_!==null&&_.memoizedState===null?!1:(Be&2)!==0),H?(qe=!0,W.flags&=-129):(_===null||_.memoizedState!==null)&&(Be|=1),Ui(fo,Be&1),_===null)return f1(W),_=W.memoizedState,_!==null&&(_=_.dehydrated,_!==null)?(W.mode&1?_.data==="$!"?W.lanes=8:W.lanes=1073741824:W.lanes=1,null):(G=be.children,_=be.fallback,qe?(be=W.mode,qe=W.child,G={mode:"hidden",children:G},!(be&1)&&qe!==null?(qe.childLanes=0,qe.pendingProps=G):qe=hg(G,be,0,null),_=Bh(_,be,le,null),qe.return=W,_.return=W,qe.sibling=_,W.child=qe,W.child.memoizedState=m1(le),W.memoizedState=y1,_):Tm(W,G));if(Be=_.memoizedState,Be!==null&&(H=Be.dehydrated,H!==null))return WM(_,W,G,be,H,Be,le);if(qe){qe=be.fallback,G=W.mode,Be=_.child,H=Be.sibling;var e={mode:"hidden",children:be.children};return!(G&1)&&W.child!==Be?(be=W.child,be.childLanes=0,be.pendingProps=e,W.deletions=null):(be=Jc(Be,e),be.subtreeFlags=Be.subtreeFlags&14680064),H!==null?qe=Jc(H,qe):(qe=Bh(qe,G,le,null),qe.flags|=2),qe.return=W,be.return=W,be.sibling=qe,W.child=be,be=qe,qe=W.child,G=_.child.memoizedState,G=G===null?m1(le):{baseLanes:G.baseLanes|le,cachePool:null,transitions:G.transitions},qe.memoizedState=G,qe.childLanes=_.childLanes&~le,W.memoizedState=y1,be}return qe=_.child,_=qe.sibling,be=Jc(qe,{mode:"visible",children:be.children}),!(W.mode&1)&&(be.lanes=le),be.return=W,be.sibling=null,_!==null&&(le=W.deletions,le===null?(W.deletions=[_],W.flags|=16):le.push(_)),W.child=be,W.memoizedState=null,be}function Tm(_,W){return W=hg({mode:"visible",children:W},_.mode,0,null),W.return=_,_.child=W}function i0(_,W,le,be){return be!==null&&lm(be),Hv(W,_.child,null,le),_=Tm(W,W.pendingProps.children),_.flags|=2,W.memoizedState=null,_}function WM(_,W,le,be,Be,qe,G){if(le)return W.flags&256?(W.flags&=-257,be=My(Error(ya(422))),i0(_,W,G,be)):W.memoizedState!==null?(W.child=_.child,W.flags|=128,null):(qe=be.fallback,Be=W.mode,be=hg({mode:"visible",children:be.children},Be,0,null),qe=Bh(qe,Be,G,null),qe.flags|=2,be.return=W,qe.return=W,be.sibling=qe,W.child=be,W.mode&1&&Hv(W,_.child,null,G),W.child.memoizedState=m1(G),W.memoizedState=y1,qe);if(!(W.mode&1))return i0(_,W,G,null);if(Be.data==="$!"){if(be=Be.nextSibling&&Be.nextSibling.dataset,be)var H=be.dgst;return be=H,qe=Error(ya(419)),be=My(qe,be,void 0),i0(_,W,G,be)}if(H=(G&_.childLanes)!==0,tl||H){if(be=Zo,be!==null){switch(G&-G){case 4:Be=2;break;case 16:Be=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Be=32;break;case 536870912:Be=268435456;break;default:Be=0}Be=Be&(be.suspendedLanes|G)?0:Be,Be!==0&&Be!==qe.retryLane&&(qe.retryLane=Be,jf(_,Be),Fu(be,_,Be,-1))}return Lm(),be=My(Error(ya(421))),i0(_,W,G,be)}return Be.data==="$?"?(W.flags|=128,W.child=_.child,W=n8.bind(null,_),Be._reactRetry=W,null):(_=qe.treeContext,bl=Zc(Be.nextSibling),Tl=W,qi=!0,_u=null,_!==null&&($l[ql++]=Vf,$l[ql++]=Gf,$l[ql++]=Uh,Vf=_.id,Gf=_.overflow,Uh=W),W=Tm(W,be.children),W.flags|=4096,W)}function $b(_,W,le){_.lanes|=W;var be=_.alternate;be!==null&&(be.lanes|=W),c1(_.return,W,le)}function Sy(_,W,le,be,Be){var qe=_.memoizedState;qe===null?_.memoizedState={isBackwards:W,rendering:null,renderingStartTime:0,last:be,tail:le,tailMode:Be}:(qe.isBackwards=W,qe.rendering=null,qe.renderingStartTime=0,qe.last=be,qe.tail=le,qe.tailMode=Be)}function L2(_,W,le){var be=W.pendingProps,Be=be.revealOrder,qe=be.tail;if(Os(_,W,be.children,le),be=fo.current,be&2)be=be&1|2,W.flags|=128;else{if(_!==null&&_.flags&128)e:for(_=W.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&$b(_,le,W);else if(_.tag===19)$b(_,le,W);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===W)break e;for(;_.sibling===null;){if(_.return===null||_.return===W)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}be&=1}if(Ui(fo,be),!(W.mode&1))W.memoizedState=null;else switch(Be){case"forwards":for(le=W.child,Be=null;le!==null;)_=le.alternate,_!==null&&V0(_)===null&&(Be=le),le=le.sibling;le=Be,le===null?(Be=W.child,W.child=null):(Be=le.sibling,le.sibling=null),Sy(W,!1,Be,le,qe);break;case"backwards":for(le=null,Be=W.child,W.child=null;Be!==null;){if(_=Be.alternate,_!==null&&V0(_)===null){W.child=Be;break}_=Be.sibling,Be.sibling=le,le=Be,Be=_}Sy(W,!0,le,null,qe);break;case"together":Sy(W,!1,null,null,void 0);break;default:W.memoizedState=null}return W.child}function x0(_,W){!(W.mode&1)&&_!==null&&(_.alternate=null,W.alternate=null,W.flags|=2)}function Kf(_,W,le){if(_!==null&&(W.dependencies=_.dependencies),Vh|=W.lanes,!(le&W.childLanes))return null;if(_!==null&&W.child!==_.child)throw Error(ya(153));if(W.child!==null){for(_=W.child,le=Jc(_,_.pendingProps),W.child=le,le.return=W;_.sibling!==null;)_=_.sibling,le=le.sibling=Jc(_,_.pendingProps),le.return=W;le.sibling=null}return W.child}function YM(_,W,le){switch(W.tag){case 3:E2(W),Uv();break;case 5:t2(W);break;case 1:nl(W.type)&&O0(W);break;case 4:dm(W,W.stateNode.containerInfo);break;case 10:var be=W.type._context,Be=W.memoizedProps.value;Ui(N0,be._currentValue),be._currentValue=Be;break;case 13:if(be=W.memoizedState,be!==null)return be.dehydrated!==null?(Ui(fo,fo.current&1),W.flags|=128,null):le&W.child.childLanes?C2(_,W,le):(Ui(fo,fo.current&1),_=Kf(_,W,le),_!==null?_.sibling:null);Ui(fo,fo.current&1);break;case 19:if(be=(le&W.childLanes)!==0,_.flags&128){if(be)return L2(_,W,le);W.flags|=128}if(Be=W.memoizedState,Be!==null&&(Be.rendering=null,Be.tail=null,Be.lastEffect=null),Ui(fo,fo.current),be)break;return null;case 22:case 23:return W.lanes=0,M2(_,W,le)}return Kf(_,W,le)}var P2,x1,R2,D2;P2=function(_,W){for(var le=W.child;le!==null;){if(le.tag===5||le.tag===6)_.appendChild(le.stateNode);else if(le.tag!==4&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===W)break;for(;le.sibling===null;){if(le.return===null||le.return===W)return;le=le.return}le.sibling.return=le.return,le=le.sibling}};x1=function(){};R2=function(_,W,le,be){var Be=_.memoizedProps;if(Be!==be){_=W.stateNode,Oh(hf.current);var qe=null;switch(le){case"input":Be=Hy(_,Be),be=Hy(_,be),qe=[];break;case"select":Be=ho({},Be,{value:void 0}),be=ho({},be,{value:void 0}),qe=[];break;case"textarea":Be=Wy(_,Be),be=Wy(_,be),qe=[];break;default:typeof Be.onClick!="function"&&typeof be.onClick=="function"&&(_.onclick=_0)}Zy(le,be);var G;le=null;for(y in Be)if(!be.hasOwnProperty(y)&&Be.hasOwnProperty(y)&&Be[y]!=null)if(y==="style"){var H=Be[y];for(G in H)H.hasOwnProperty(G)&&(le||(le={}),le[G]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Vd.hasOwnProperty(y)?qe||(qe=[]):(qe=qe||[]).push(y,null));for(y in be){var e=be[y];if(H=Be!=null?Be[y]:void 0,be.hasOwnProperty(y)&&e!==H&&(e!=null||H!=null))if(y==="style")if(H){for(G in H)!H.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(le||(le={}),le[G]="");for(G in e)e.hasOwnProperty(G)&&H[G]!==e[G]&&(le||(le={}),le[G]=e[G])}else le||(qe||(qe=[]),qe.push(y,le)),le=e;else y==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,H=H?H.__html:void 0,e!=null&&H!==e&&(qe=qe||[]).push(y,e)):y==="children"?typeof e!="string"&&typeof e!="number"||(qe=qe||[]).push(y,""+e):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Vd.hasOwnProperty(y)?(e!=null&&y==="onScroll"&&Zi("scroll",_),qe||H===e||(qe=[])):(qe=qe||[]).push(y,e))}le&&(qe=qe||[]).push("style",le);var y=qe;(W.updateQueue=y)&&(W.flags|=4)}};D2=function(_,W,le,be){le!==be&&(W.flags|=4)};function Sd(_,W){if(!qi)switch(_.tailMode){case"hidden":W=_.tail;for(var le=null;W!==null;)W.alternate!==null&&(le=W),W=W.sibling;le===null?_.tail=null:le.sibling=null;break;case"collapsed":le=_.tail;for(var be=null;le!==null;)le.alternate!==null&&(be=le),le=le.sibling;be===null?W||_.tail===null?_.tail=null:_.tail.sibling=null:be.sibling=null}}function Ts(_){var W=_.alternate!==null&&_.alternate.child===_.child,le=0,be=0;if(W)for(var Be=_.child;Be!==null;)le|=Be.lanes|Be.childLanes,be|=Be.subtreeFlags&14680064,be|=Be.flags&14680064,Be.return=_,Be=Be.sibling;else for(Be=_.child;Be!==null;)le|=Be.lanes|Be.childLanes,be|=Be.subtreeFlags,be|=Be.flags,Be.return=_,Be=Be.sibling;return _.subtreeFlags|=be,_.childLanes=le,W}function ZM(_,W,le){var be=W.pendingProps;switch(sm(W),W.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(W),null;case 1:return nl(W.type)&&z0(),Ts(W),null;case 3:return be=W.stateNode,Vv(),Xi(rl),Xi(Ss),gm(),be.pendingContext&&(be.context=be.pendingContext,be.pendingContext=null),(_===null||_.child===null)&&(n0(W)?W.flags|=4:_===null||_.memoizedState.isDehydrated&&!(W.flags&256)||(W.flags|=1024,_u!==null&&(C1(_u),_u=null))),x1(_,W),Ts(W),null;case 5:pm(W);var Be=Oh(ep.current);if(le=W.type,_!==null&&W.stateNode!=null)R2(_,W,le,be,Be),_.ref!==W.ref&&(W.flags|=512,W.flags|=2097152);else{if(!be){if(W.stateNode===null)throw Error(ya(166));return Ts(W),null}if(_=Oh(hf.current),n0(W)){be=W.stateNode,le=W.type;var qe=W.memoizedProps;switch(be[uf]=W,be[$d]=qe,_=(W.mode&1)!==0,le){case"dialog":Zi("cancel",be),Zi("close",be);break;case"iframe":case"object":case"embed":Zi("load",be);break;case"video":case"audio":for(Be=0;Be<Dd.length;Be++)Zi(Dd[Be],be);break;case"source":Zi("error",be);break;case"img":case"image":case"link":Zi("error",be),Zi("load",be);break;case"details":Zi("toggle",be);break;case"input":sb(be,qe),Zi("invalid",be);break;case"select":be._wrapperState={wasMultiple:!!qe.multiple},Zi("invalid",be);break;case"textarea":ub(be,qe),Zi("invalid",be)}Zy(le,qe),Be=null;for(var G in qe)if(qe.hasOwnProperty(G)){var H=qe[G];G==="children"?typeof H=="string"?be.textContent!==H&&(qe.suppressHydrationWarning!==!0&&r0(be.textContent,H,_),Be=["children",H]):typeof H=="number"&&be.textContent!==""+H&&(qe.suppressHydrationWarning!==!0&&r0(be.textContent,H,_),Be=["children",""+H]):Vd.hasOwnProperty(G)&&H!=null&&G==="onScroll"&&Zi("scroll",be)}switch(le){case"input":jp(be),lb(be,qe,!0);break;case"textarea":jp(be),fb(be);break;case"select":case"option":break;default:typeof qe.onClick=="function"&&(be.onclick=_0)}be=Be,W.updateQueue=be,be!==null&&(W.flags|=4)}else{G=Be.nodeType===9?Be:Be.ownerDocument,_==="http://www.w3.org/1999/xhtml"&&(_=aw(le)),_==="http://www.w3.org/1999/xhtml"?le==="script"?(_=G.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild)):typeof be.is=="string"?_=G.createElement(le,{is:be.is}):(_=G.createElement(le),le==="select"&&(G=_,be.multiple?G.multiple=!0:be.size&&(G.size=be.size))):_=G.createElementNS(_,le),_[uf]=W,_[$d]=be,P2(_,W,!1,!1),W.stateNode=_;e:{switch(G=Xy(le,be),le){case"dialog":Zi("cancel",_),Zi("close",_),Be=be;break;case"iframe":case"object":case"embed":Zi("load",_),Be=be;break;case"video":case"audio":for(Be=0;Be<Dd.length;Be++)Zi(Dd[Be],_);Be=be;break;case"source":Zi("error",_),Be=be;break;case"img":case"image":case"link":Zi("error",_),Zi("load",_),Be=be;break;case"details":Zi("toggle",_),Be=be;break;case"input":sb(_,be),Be=Hy(_,be),Zi("invalid",_);break;case"option":Be=be;break;case"select":_._wrapperState={wasMultiple:!!be.multiple},Be=ho({},be,{value:void 0}),Zi("invalid",_);break;case"textarea":ub(_,be),Be=Wy(_,be),Zi("invalid",_);break;default:Be=be}Zy(le,Be),H=Be;for(qe in H)if(H.hasOwnProperty(qe)){var e=H[qe];qe==="style"?sw(_,e):qe==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&iw(_,e)):qe==="children"?typeof e=="string"?(le!=="textarea"||e!=="")&&Gd(_,e):typeof e=="number"&&Gd(_,""+e):qe!=="suppressContentEditableWarning"&&qe!=="suppressHydrationWarning"&&qe!=="autoFocus"&&(Vd.hasOwnProperty(qe)?e!=null&&qe==="onScroll"&&Zi("scroll",_):e!=null&&Z1(_,qe,e,G))}switch(le){case"input":jp(_),lb(_,be,!1);break;case"textarea":jp(_),fb(_);break;case"option":be.value!=null&&_.setAttribute("value",""+Qc(be.value));break;case"select":_.multiple=!!be.multiple,qe=be.value,qe!=null?Iv(_,!!be.multiple,qe,!1):be.defaultValue!=null&&Iv(_,!!be.multiple,be.defaultValue,!0);break;default:typeof Be.onClick=="function"&&(_.onclick=_0)}switch(le){case"button":case"input":case"select":case"textarea":be=!!be.autoFocus;break e;case"img":be=!0;break e;default:be=!1}}be&&(W.flags|=4)}W.ref!==null&&(W.flags|=512,W.flags|=2097152)}return Ts(W),null;case 6:if(_&&W.stateNode!=null)D2(_,W,_.memoizedProps,be);else{if(typeof be!="string"&&W.stateNode===null)throw Error(ya(166));if(le=Oh(ep.current),Oh(hf.current),n0(W)){if(be=W.stateNode,le=W.memoizedProps,be[uf]=W,(qe=be.nodeValue!==le)&&(_=Tl,_!==null))switch(_.tag){case 3:r0(be.nodeValue,le,(_.mode&1)!==0);break;case 5:_.memoizedProps.suppressHydrationWarning!==!0&&r0(be.nodeValue,le,(_.mode&1)!==0)}qe&&(W.flags|=4)}else be=(le.nodeType===9?le:le.ownerDocument).createTextNode(be),be[uf]=W,W.stateNode=be}return Ts(W),null;case 13:if(Xi(fo),be=W.memoizedState,_===null||_.memoizedState!==null&&_.memoizedState.dehydrated!==null){if(qi&&bl!==null&&W.mode&1&&!(W.flags&128))jw(),Uv(),W.flags|=98560,qe=!1;else if(qe=n0(W),be!==null&&be.dehydrated!==null){if(_===null){if(!qe)throw Error(ya(318));if(qe=W.memoizedState,qe=qe!==null?qe.dehydrated:null,!qe)throw Error(ya(317));qe[uf]=W}else Uv(),!(W.flags&128)&&(W.memoizedState=null),W.flags|=4;Ts(W),qe=!1}else _u!==null&&(C1(_u),_u=null),qe=!0;if(!qe)return W.flags&65536?W:null}return W.flags&128?(W.lanes=le,W):(be=be!==null,be!==(_!==null&&_.memoizedState!==null)&&be&&(W.child.flags|=8192,W.mode&1&&(_===null||fo.current&1?No===0&&(No=3):Lm())),W.updateQueue!==null&&(W.flags|=4),Ts(W),null);case 4:return Vv(),x1(_,W),_===null&&Jd(W.stateNode.containerInfo),Ts(W),null;case 10:return cm(W.type._context),Ts(W),null;case 17:return nl(W.type)&&z0(),Ts(W),null;case 19:if(Xi(fo),qe=W.memoizedState,qe===null)return Ts(W),null;if(be=(W.flags&128)!==0,G=qe.rendering,G===null)if(be)Sd(qe,!1);else{if(No!==0||_!==null&&_.flags&128)for(_=W.child;_!==null;){if(G=V0(_),G!==null){for(W.flags|=128,Sd(qe,!1),be=G.updateQueue,be!==null&&(W.updateQueue=be,W.flags|=4),W.subtreeFlags=0,be=le,le=W.child;le!==null;)qe=le,_=be,qe.flags&=14680066,G=qe.alternate,G===null?(qe.childLanes=0,qe.lanes=_,qe.child=null,qe.subtreeFlags=0,qe.memoizedProps=null,qe.memoizedState=null,qe.updateQueue=null,qe.dependencies=null,qe.stateNode=null):(qe.childLanes=G.childLanes,qe.lanes=G.lanes,qe.child=G.child,qe.subtreeFlags=0,qe.deletions=null,qe.memoizedProps=G.memoizedProps,qe.memoizedState=G.memoizedState,qe.updateQueue=G.updateQueue,qe.type=G.type,_=G.dependencies,qe.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),le=le.sibling;return Ui(fo,fo.current&1|2),W.child}_=_.sibling}qe.tail!==null&&So()>Wv&&(W.flags|=128,be=!0,Sd(qe,!1),W.lanes=4194304)}else{if(!be)if(_=V0(G),_!==null){if(W.flags|=128,be=!0,le=_.updateQueue,le!==null&&(W.updateQueue=le,W.flags|=4),Sd(qe,!0),qe.tail===null&&qe.tailMode==="hidden"&&!G.alternate&&!qi)return Ts(W),null}else 2*So()-qe.renderingStartTime>Wv&&le!==1073741824&&(W.flags|=128,be=!0,Sd(qe,!1),W.lanes=4194304);qe.isBackwards?(G.sibling=W.child,W.child=G):(le=qe.last,le!==null?le.sibling=G:W.child=G,qe.last=G)}return qe.tail!==null?(W=qe.tail,qe.rendering=W,qe.tail=W.sibling,qe.renderingStartTime=So(),W.sibling=null,le=fo.current,Ui(fo,be?le&1|2:le&1),W):(Ts(W),null);case 22:case 23:return Cm(),be=W.memoizedState!==null,_!==null&&_.memoizedState!==null!==be&&(W.flags|=8192),be&&W.mode&1?xl&1073741824&&(Ts(W),W.subtreeFlags&6&&(W.flags|=8192)):Ts(W),null;case 24:return null;case 25:return null}throw Error(ya(156,W.tag))}function XM(_,W){switch(sm(W),W.tag){case 1:return nl(W.type)&&z0(),_=W.flags,_&65536?(W.flags=_&-65537|128,W):null;case 3:return Vv(),Xi(rl),Xi(Ss),gm(),_=W.flags,_&65536&&!(_&128)?(W.flags=_&-65537|128,W):null;case 5:return pm(W),null;case 13:if(Xi(fo),_=W.memoizedState,_!==null&&_.dehydrated!==null){if(W.alternate===null)throw Error(ya(340));Uv()}return _=W.flags,_&65536?(W.flags=_&-65537|128,W):null;case 19:return Xi(fo),null;case 4:return Vv(),null;case 10:return cm(W.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var o0=!1,As=!1,jM=typeof WeakSet=="function"?WeakSet:Set,Ia=null;function Rv(_,W){var le=_.ref;if(le!==null)if(typeof le=="function")try{le(null)}catch(be){mo(_,W,be)}else le.current=null}function b1(_,W,le){try{le()}catch(be){mo(_,W,be)}}var qb=!1;function KM(_,W){if(n1=D0,_=zw(),im(_)){if("selectionStart"in _)var le={start:_.selectionStart,end:_.selectionEnd};else e:{le=(le=_.ownerDocument)&&le.defaultView||window;var be=le.getSelection&&le.getSelection();if(be&&be.rangeCount!==0){le=be.anchorNode;var Be=be.anchorOffset,qe=be.focusNode;be=be.focusOffset;try{le.nodeType,qe.nodeType}catch{le=null;break e}var G=0,H=-1,e=-1,y=0,P=0,a=_,L=null;t:for(;;){for(var M;a!==le||Be!==0&&a.nodeType!==3||(H=G+Be),a!==qe||be!==0&&a.nodeType!==3||(e=G+be),a.nodeType===3&&(G+=a.nodeValue.length),(M=a.firstChild)!==null;)L=a,a=M;for(;;){if(a===_)break t;if(L===le&&++y===Be&&(H=G),L===qe&&++P===be&&(e=G),(M=a.nextSibling)!==null)break;a=L,L=a.parentNode}a=M}le=H===-1||e===-1?null:{start:H,end:e}}else le=null}le=le||{start:0,end:0}}else le=null;for(a1={focusedElem:_,selectionRange:le},D0=!1,Ia=W;Ia!==null;)if(W=Ia,_=W.child,(W.subtreeFlags&1028)!==0&&_!==null)_.return=W,Ia=_;else for(;Ia!==null;){W=Ia;try{var v=W.alternate;if(W.flags&1024)switch(W.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=W.stateNode,o=t.getSnapshotBeforeUpdate(W.elementType===W.type?p:Iu(W.type,p),r);t.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var n=W.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ya(163))}}catch(c){mo(W,W.return,c)}if(_=W.sibling,_!==null){_.return=W.return,Ia=_;break}Ia=W.return}return v=qb,qb=!1,v}function Nd(_,W,le){var be=W.updateQueue;if(be=be!==null?be.lastEffect:null,be!==null){var Be=be=be.next;do{if((Be.tag&_)===_){var qe=Be.destroy;Be.destroy=void 0,qe!==void 0&&b1(W,le,qe)}Be=Be.next}while(Be!==be)}}function fg(_,W){if(W=W.updateQueue,W=W!==null?W.lastEffect:null,W!==null){var le=W=W.next;do{if((le.tag&_)===_){var be=le.create;le.destroy=be()}le=le.next}while(le!==W)}}function w1(_){var W=_.ref;if(W!==null){var le=_.stateNode;switch(_.tag){case 5:_=le;break;default:_=le}typeof W=="function"?W(_):W.current=_}}function I2(_){var W=_.alternate;W!==null&&(_.alternate=null,I2(W)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(W=_.stateNode,W!==null&&(delete W[uf],delete W[$d],delete W[s1],delete W[DM],delete W[IM])),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function k2(_){return _.tag===5||_.tag===3||_.tag===4}function e3(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||k2(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function T1(_,W,le){var be=_.tag;if(be===5||be===6)_=_.stateNode,W?le.nodeType===8?le.parentNode.insertBefore(_,W):le.insertBefore(_,W):(le.nodeType===8?(W=le.parentNode,W.insertBefore(_,le)):(W=le,W.appendChild(_)),le=le._reactRootContainer,le!=null||W.onclick!==null||(W.onclick=_0));else if(be!==4&&(_=_.child,_!==null))for(T1(_,W,le),_=_.sibling;_!==null;)T1(_,W,le),_=_.sibling}function A1(_,W,le){var be=_.tag;if(be===5||be===6)_=_.stateNode,W?le.insertBefore(_,W):le.appendChild(_);else if(be!==4&&(_=_.child,_!==null))for(A1(_,W,le),_=_.sibling;_!==null;)A1(_,W,le),_=_.sibling}var ls=null,ku=!1;function zc(_,W,le){for(le=le.child;le!==null;)_2(_,W,le),le=le.sibling}function _2(_,W,le){if(cf&&typeof cf.onCommitFiberUnmount=="function")try{cf.onCommitFiberUnmount(rg,le)}catch{}switch(le.tag){case 5:As||Rv(le,W);case 6:var be=ls,Be=ku;ls=null,zc(_,W,le),ls=be,ku=Be,ls!==null&&(ku?(_=ls,le=le.stateNode,_.nodeType===8?_.parentNode.removeChild(le):_.removeChild(le)):ls.removeChild(le.stateNode));break;case 18:ls!==null&&(ku?(_=ls,le=le.stateNode,_.nodeType===8?my(_.parentNode,le):_.nodeType===1&&my(_,le),Xd(_)):my(ls,le.stateNode));break;case 4:be=ls,Be=ku,ls=le.stateNode.containerInfo,ku=!0,zc(_,W,le),ls=be,ku=Be;break;case 0:case 11:case 14:case 15:if(!As&&(be=le.updateQueue,be!==null&&(be=be.lastEffect,be!==null))){Be=be=be.next;do{var qe=Be,G=qe.destroy;qe=qe.tag,G!==void 0&&(qe&2||qe&4)&&b1(le,W,G),Be=Be.next}while(Be!==be)}zc(_,W,le);break;case 1:if(!As&&(Rv(le,W),be=le.stateNode,typeof be.componentWillUnmount=="function"))try{be.props=le.memoizedProps,be.state=le.memoizedState,be.componentWillUnmount()}catch(H){mo(le,W,H)}zc(_,W,le);break;case 21:zc(_,W,le);break;case 22:le.mode&1?(As=(be=As)||le.memoizedState!==null,zc(_,W,le),As=be):zc(_,W,le);break;default:zc(_,W,le)}}function t3(_){var W=_.updateQueue;if(W!==null){_.updateQueue=null;var le=_.stateNode;le===null&&(le=_.stateNode=new jM),W.forEach(function(be){var Be=a8.bind(null,_,be);le.has(be)||(le.add(be),be.then(Be,Be))})}}function Du(_,W){var le=W.deletions;if(le!==null)for(var be=0;be<le.length;be++){var Be=le[be];try{var qe=_,G=W,H=G;e:for(;H!==null;){switch(H.tag){case 5:ls=H.stateNode,ku=!1;break e;case 3:ls=H.stateNode.containerInfo,ku=!0;break e;case 4:ls=H.stateNode.containerInfo,ku=!0;break e}H=H.return}if(ls===null)throw Error(ya(160));_2(qe,G,Be),ls=null,ku=!1;var e=Be.alternate;e!==null&&(e.return=null),Be.return=null}catch(y){mo(Be,W,y)}}if(W.subtreeFlags&12854)for(W=W.child;W!==null;)z2(W,_),W=W.sibling}function z2(_,W){var le=_.alternate,be=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:if(Du(W,_),sf(_),be&4){try{Nd(3,_,_.return),fg(3,_)}catch(p){mo(_,_.return,p)}try{Nd(5,_,_.return)}catch(p){mo(_,_.return,p)}}break;case 1:Du(W,_),sf(_),be&512&&le!==null&&Rv(le,le.return);break;case 5:if(Du(W,_),sf(_),be&512&&le!==null&&Rv(le,le.return),_.flags&32){var Be=_.stateNode;try{Gd(Be,"")}catch(p){mo(_,_.return,p)}}if(be&4&&(Be=_.stateNode,Be!=null)){var qe=_.memoizedProps,G=le!==null?le.memoizedProps:qe,H=_.type,e=_.updateQueue;if(_.updateQueue=null,e!==null)try{H==="input"&&qe.type==="radio"&&qe.name!=null&&rw(Be,qe),Xy(H,G);var y=Xy(H,qe);for(G=0;G<e.length;G+=2){var P=e[G],a=e[G+1];P==="style"?sw(Be,a):P==="dangerouslySetInnerHTML"?iw(Be,a):P==="children"?Gd(Be,a):Z1(Be,P,a,y)}switch(H){case"input":Vy(Be,qe);break;case"textarea":nw(Be,qe);break;case"select":var L=Be._wrapperState.wasMultiple;Be._wrapperState.wasMultiple=!!qe.multiple;var M=qe.value;M!=null?Iv(Be,!!qe.multiple,M,!1):L!==!!qe.multiple&&(qe.defaultValue!=null?Iv(Be,!!qe.multiple,qe.defaultValue,!0):Iv(Be,!!qe.multiple,qe.multiple?[]:"",!1))}Be[$d]=qe}catch(p){mo(_,_.return,p)}}break;case 6:if(Du(W,_),sf(_),be&4){if(_.stateNode===null)throw Error(ya(162));Be=_.stateNode,qe=_.memoizedProps;try{Be.nodeValue=qe}catch(p){mo(_,_.return,p)}}break;case 3:if(Du(W,_),sf(_),be&4&&le!==null&&le.memoizedState.isDehydrated)try{Xd(W.containerInfo)}catch(p){mo(_,_.return,p)}break;case 4:Du(W,_),sf(_);break;case 13:Du(W,_),sf(_),Be=_.child,Be.flags&8192&&(qe=Be.memoizedState!==null,Be.stateNode.isHidden=qe,!qe||Be.alternate!==null&&Be.alternate.memoizedState!==null||(Sm=So())),be&4&&t3(_);break;case 22:if(P=le!==null&&le.memoizedState!==null,_.mode&1?(As=(y=As)||P,Du(W,_),As=y):Du(W,_),sf(_),be&8192){if(y=_.memoizedState!==null,(_.stateNode.isHidden=y)&&!P&&_.mode&1)for(Ia=_,P=_.child;P!==null;){for(a=Ia=P;Ia!==null;){switch(L=Ia,M=L.child,L.tag){case 0:case 11:case 14:case 15:Nd(4,L,L.return);break;case 1:Rv(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){be=L,le=L.return;try{W=be,v.props=W.memoizedProps,v.state=W.memoizedState,v.componentWillUnmount()}catch(p){mo(be,le,p)}}break;case 5:Rv(L,L.return);break;case 22:if(L.memoizedState!==null){n3(a);continue}}M!==null?(M.return=L,Ia=M):n3(a)}P=P.sibling}e:for(P=null,a=_;;){if(a.tag===5){if(P===null){P=a;try{Be=a.stateNode,y?(qe=Be.style,typeof qe.setProperty=="function"?qe.setProperty("display","none","important"):qe.display="none"):(H=a.stateNode,e=a.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,H.style.display=ow("display",G))}catch(p){mo(_,_.return,p)}}}else if(a.tag===6){if(P===null)try{a.stateNode.nodeValue=y?"":a.memoizedProps}catch(p){mo(_,_.return,p)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===_)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===_)break e;for(;a.sibling===null;){if(a.return===null||a.return===_)break e;P===a&&(P=null),a=a.return}P===a&&(P=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Du(W,_),sf(_),be&4&&t3(_);break;case 21:break;default:Du(W,_),sf(_)}}function sf(_){var W=_.flags;if(W&2){try{e:{for(var le=_.return;le!==null;){if(k2(le)){var be=le;break e}le=le.return}throw Error(ya(160))}switch(be.tag){case 5:var Be=be.stateNode;be.flags&32&&(Gd(Be,""),be.flags&=-33);var qe=e3(_);A1(_,qe,Be);break;case 3:case 4:var G=be.stateNode.containerInfo,H=e3(_);T1(_,H,G);break;default:throw Error(ya(161))}}catch(e){mo(_,_.return,e)}_.flags&=-3}W&4096&&(_.flags&=-4097)}function JM(_,W,le){Ia=_,O2(_)}function O2(_,W,le){for(var be=(_.mode&1)!==0;Ia!==null;){var Be=Ia,qe=Be.child;if(Be.tag===22&&be){var G=Be.memoizedState!==null||o0;if(!G){var H=Be.alternate,e=H!==null&&H.memoizedState!==null||As;H=o0;var y=As;if(o0=G,(As=e)&&!y)for(Ia=Be;Ia!==null;)G=Ia,e=G.child,G.tag===22&&G.memoizedState!==null?a3(Be):e!==null?(e.return=G,Ia=e):a3(Be);for(;qe!==null;)Ia=qe,O2(qe),qe=qe.sibling;Ia=Be,o0=H,As=y}r3(_)}else Be.subtreeFlags&8772&&qe!==null?(qe.return=Be,Ia=qe):r3(_)}}function r3(_){for(;Ia!==null;){var W=Ia;if(W.flags&8772){var le=W.alternate;try{if(W.flags&8772)switch(W.tag){case 0:case 11:case 15:As||fg(5,W);break;case 1:var be=W.stateNode;if(W.flags&4&&!As)if(le===null)be.componentDidMount();else{var Be=W.elementType===W.type?le.memoizedProps:Iu(W.type,le.memoizedProps);be.componentDidUpdate(Be,le.memoizedState,be.__reactInternalSnapshotBeforeUpdate)}var qe=W.updateQueue;qe!==null&&Nb(W,qe,be);break;case 3:var G=W.updateQueue;if(G!==null){if(le=null,W.child!==null)switch(W.child.tag){case 5:le=W.child.stateNode;break;case 1:le=W.child.stateNode}Nb(W,G,le)}break;case 5:var H=W.stateNode;if(le===null&&W.flags&4){le=H;var e=W.memoizedProps;switch(W.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&le.focus();break;case"img":e.src&&(le.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(W.memoizedState===null){var y=W.alternate;if(y!==null){var P=y.memoizedState;if(P!==null){var a=P.dehydrated;a!==null&&Xd(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ya(163))}As||W.flags&512&&w1(W)}catch(L){mo(W,W.return,L)}}if(W===_){Ia=null;break}if(le=W.sibling,le!==null){le.return=W.return,Ia=le;break}Ia=W.return}}function n3(_){for(;Ia!==null;){var W=Ia;if(W===_){Ia=null;break}var le=W.sibling;if(le!==null){le.return=W.return,Ia=le;break}Ia=W.return}}function a3(_){for(;Ia!==null;){var W=Ia;try{switch(W.tag){case 0:case 11:case 15:var le=W.return;try{fg(4,W)}catch(e){mo(W,le,e)}break;case 1:var be=W.stateNode;if(typeof be.componentDidMount=="function"){var Be=W.return;try{be.componentDidMount()}catch(e){mo(W,Be,e)}}var qe=W.return;try{w1(W)}catch(e){mo(W,qe,e)}break;case 5:var G=W.return;try{w1(W)}catch(e){mo(W,G,e)}}}catch(e){mo(W,W.return,e)}if(W===_){Ia=null;break}var H=W.sibling;if(H!==null){H.return=W.return,Ia=H;break}Ia=W.return}}var QM=Math.ceil,Y0=Qf.ReactCurrentDispatcher,Am=Qf.ReactCurrentOwner,tu=Qf.ReactCurrentBatchConfig,wi=0,Zo=null,ko=null,us=0,xl=0,Dv=rh(0),No=0,ap=null,Vh=0,cg=0,Mm=0,Ud=null,el=null,Sm=0,Wv=1/0,Uf=null,Z0=!1,M1=null,jc=null,s0=!1,Vc=null,X0=0,Hd=0,S1=null,b0=-1,w0=0;function Fs(){return wi&6?So():b0!==-1?b0:b0=So()}function Kc(_){return _.mode&1?wi&2&&us!==0?us&-us:_M.transition!==null?(w0===0&&(w0=xw()),w0):(_=Di,_!==0||(_=window.event,_=_===void 0?16:Ew(_.type)),_):1}function Fu(_,W,le,be){if(50<Hd)throw Hd=0,S1=null,Error(ya(185));cp(_,le,be),(!(wi&2)||_!==Zo)&&(_===Zo&&(!(wi&2)&&(cg|=le),No===4&&Uc(_,us)),al(_,be),le===1&&wi===0&&!(W.mode&1)&&(Wv=So()+500,sg&&nh()))}function al(_,W){var le=_.callbackNode;_6(_,W);var be=R0(_,_===Zo?us:0);if(be===0)le!==null&&vb(le),_.callbackNode=null,_.callbackPriority=0;else if(W=be&-be,_.callbackPriority!==W){if(le!=null&&vb(le),W===1)_.tag===0?kM(i3.bind(null,_)):Yw(i3.bind(null,_)),PM(function(){!(wi&6)&&nh()}),le=null;else{switch(bw(be)){case 1:le=Q1;break;case 4:le=yw;break;case 16:le=P0;break;case 536870912:le=mw;break;default:le=P0}le=W2(le,F2.bind(null,_))}_.callbackPriority=W,_.callbackNode=le}}function F2(_,W){if(b0=-1,w0=0,wi&6)throw Error(ya(327));var le=_.callbackNode;if(Fv()&&_.callbackNode!==le)return null;var be=R0(_,_===Zo?us:0);if(be===0)return null;if(be&30||be&_.expiredLanes||W)W=j0(_,be);else{W=be;var Be=wi;wi|=2;var qe=N2();(Zo!==_||us!==W)&&(Uf=null,Wv=So()+500,Fh(_,W));do try{e8();break}catch(H){B2(_,H)}while(!0);fm(),Y0.current=qe,wi=Be,ko!==null?W=0:(Zo=null,us=0,W=No)}if(W!==0){if(W===2&&(Be=$y(_),Be!==0&&(be=Be,W=E1(_,Be))),W===1)throw le=ap,Fh(_,0),Uc(_,be),al(_,So()),le;if(W===6)Uc(_,be);else{if(Be=_.current.alternate,!(be&30)&&!$M(Be)&&(W=j0(_,be),W===2&&(qe=$y(_),qe!==0&&(be=qe,W=E1(_,qe))),W===1))throw le=ap,Fh(_,0),Uc(_,be),al(_,So()),le;switch(_.finishedWork=Be,_.finishedLanes=be,W){case 0:case 1:throw Error(ya(345));case 2:Ih(_,el,Uf);break;case 3:if(Uc(_,be),(be&130023424)===be&&(W=Sm+500-So(),10<W)){if(R0(_,0)!==0)break;if(Be=_.suspendedLanes,(Be&be)!==be){Fs(),_.pingedLanes|=_.suspendedLanes&Be;break}_.timeoutHandle=o1(Ih.bind(null,_,el,Uf),W);break}Ih(_,el,Uf);break;case 4:if(Uc(_,be),(be&4194240)===be)break;for(W=_.eventTimes,Be=-1;0<be;){var G=31-Ou(be);qe=1<<G,G=W[G],G>Be&&(Be=G),be&=~qe}if(be=Be,be=So()-be,be=(120>be?120:480>be?480:1080>be?1080:1920>be?1920:3e3>be?3e3:4320>be?4320:1960*QM(be/1960))-be,10<be){_.timeoutHandle=o1(Ih.bind(null,_,el,Uf),be);break}Ih(_,el,Uf);break;case 5:Ih(_,el,Uf);break;default:throw Error(ya(329))}}}return al(_,So()),_.callbackNode===le?F2.bind(null,_):null}function E1(_,W){var le=Ud;return _.current.memoizedState.isDehydrated&&(Fh(_,W).flags|=256),_=j0(_,W),_!==2&&(W=el,el=le,W!==null&&C1(W)),_}function C1(_){el===null?el=_:el.push.apply(el,_)}function $M(_){for(var W=_;;){if(W.flags&16384){var le=W.updateQueue;if(le!==null&&(le=le.stores,le!==null))for(var be=0;be<le.length;be++){var Be=le[be],qe=Be.getSnapshot;Be=Be.value;try{if(!Nu(qe(),Be))return!1}catch{return!1}}}if(le=W.child,W.subtreeFlags&16384&&le!==null)le.return=W,W=le;else{if(W===_)break;for(;W.sibling===null;){if(W.return===null||W.return===_)return!0;W=W.return}W.sibling.return=W.return,W=W.sibling}}return!0}function Uc(_,W){for(W&=~Mm,W&=~cg,_.suspendedLanes|=W,_.pingedLanes&=~W,_=_.expirationTimes;0<W;){var le=31-Ou(W),be=1<<le;_[le]=-1,W&=~be}}function i3(_){if(wi&6)throw Error(ya(327));Fv();var W=R0(_,0);if(!(W&1))return al(_,So()),null;var le=j0(_,W);if(_.tag!==0&&le===2){var be=$y(_);be!==0&&(W=be,le=E1(_,be))}if(le===1)throw le=ap,Fh(_,0),Uc(_,W),al(_,So()),le;if(le===6)throw Error(ya(345));return _.finishedWork=_.current.alternate,_.finishedLanes=W,Ih(_,el,Uf),al(_,So()),null}function Em(_,W){var le=wi;wi|=1;try{return _(W)}finally{wi=le,wi===0&&(Wv=So()+500,sg&&nh())}}function Gh(_){Vc!==null&&Vc.tag===0&&!(wi&6)&&Fv();var W=wi;wi|=1;var le=tu.transition,be=Di;try{if(tu.transition=null,Di=1,_)return _()}finally{Di=be,tu.transition=le,wi=W,!(wi&6)&&nh()}}function Cm(){xl=Dv.current,Xi(Dv)}function Fh(_,W){_.finishedWork=null,_.finishedLanes=0;var le=_.timeoutHandle;if(le!==-1&&(_.timeoutHandle=-1,LM(le)),ko!==null)for(le=ko.return;le!==null;){var be=le;switch(sm(be),be.tag){case 1:be=be.type.childContextTypes,be!=null&&z0();break;case 3:Vv(),Xi(rl),Xi(Ss),gm();break;case 5:pm(be);break;case 4:Vv();break;case 13:Xi(fo);break;case 19:Xi(fo);break;case 10:cm(be.type._context);break;case 22:case 23:Cm()}le=le.return}if(Zo=_,ko=_=Jc(_.current,null),us=xl=W,No=0,ap=null,Mm=cg=Vh=0,el=Ud=null,zh!==null){for(W=0;W<zh.length;W++)if(le=zh[W],be=le.interleaved,be!==null){le.interleaved=null;var Be=be.next,qe=le.pending;if(qe!==null){var G=qe.next;qe.next=Be,be.next=G}le.pending=be}zh=null}return _}function B2(_,W){do{var le=ko;try{if(fm(),y0.current=W0,G0){for(var be=co.memoizedState;be!==null;){var Be=be.queue;Be!==null&&(Be.pending=null),be=be.next}G0=!1}if(Hh=0,Yo=Bo=co=null,Bd=!1,tp=0,Am.current=null,le===null||le.return===null){No=1,ap=W,ko=null;break}e:{var qe=_,G=le.return,H=le,e=W;if(W=us,H.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var y=e,P=H,a=P.tag;if(!(P.mode&1)&&(a===0||a===11||a===15)){var L=P.alternate;L?(P.updateQueue=L.updateQueue,P.memoizedState=L.memoizedState,P.lanes=L.lanes):(P.updateQueue=null,P.memoizedState=null)}var M=Zb(G);if(M!==null){M.flags&=-257,Xb(M,G,H,qe,W),M.mode&1&&Yb(qe,y,W),W=M,e=y;var v=W.updateQueue;if(v===null){var p=new Set;p.add(e),W.updateQueue=p}else v.add(e);break e}else{if(!(W&1)){Yb(qe,y,W),Lm();break e}e=Error(ya(426))}}else if(qi&&H.mode&1){var r=Zb(G);if(r!==null){!(r.flags&65536)&&(r.flags|=256),Xb(r,G,H,qe,W),lm(Gv(e,H));break e}}qe=e=Gv(e,H),No!==4&&(No=2),Ud===null?Ud=[qe]:Ud.push(qe),qe=G;do{switch(qe.tag){case 3:qe.flags|=65536,W&=-W,qe.lanes|=W;var t=w2(qe,e,W);Bb(qe,t);break e;case 1:H=e;var o=qe.type,n=qe.stateNode;if(!(qe.flags&128)&&(typeof o.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(jc===null||!jc.has(n)))){qe.flags|=65536,W&=-W,qe.lanes|=W;var c=T2(qe,H,W);Bb(qe,c);break e}}qe=qe.return}while(qe!==null)}H2(le)}catch(u){W=u,ko===le&&le!==null&&(ko=le=le.return);continue}break}while(!0)}function N2(){var _=Y0.current;return Y0.current=W0,_===null?W0:_}function Lm(){(No===0||No===3||No===2)&&(No=4),Zo===null||!(Vh&268435455)&&!(cg&268435455)||Uc(Zo,us)}function j0(_,W){var le=wi;wi|=2;var be=N2();(Zo!==_||us!==W)&&(Uf=null,Fh(_,W));do try{qM();break}catch(Be){B2(_,Be)}while(!0);if(fm(),wi=le,Y0.current=be,ko!==null)throw Error(ya(261));return Zo=null,us=0,No}function qM(){for(;ko!==null;)U2(ko)}function e8(){for(;ko!==null&&!S6();)U2(ko)}function U2(_){var W=G2(_.alternate,_,xl);_.memoizedProps=_.pendingProps,W===null?H2(_):ko=W,Am.current=null}function H2(_){var W=_;do{var le=W.alternate;if(_=W.return,W.flags&32768){if(le=XM(le,W),le!==null){le.flags&=32767,ko=le;return}if(_!==null)_.flags|=32768,_.subtreeFlags=0,_.deletions=null;else{No=6,ko=null;return}}else if(le=ZM(le,W,xl),le!==null){ko=le;return}if(W=W.sibling,W!==null){ko=W;return}ko=W=_}while(W!==null);No===0&&(No=5)}function Ih(_,W,le){var be=Di,Be=tu.transition;try{tu.transition=null,Di=1,t8(_,W,le,be)}finally{tu.transition=Be,Di=be}return null}function t8(_,W,le,be){do Fv();while(Vc!==null);if(wi&6)throw Error(ya(327));le=_.finishedWork;var Be=_.finishedLanes;if(le===null)return null;if(_.finishedWork=null,_.finishedLanes=0,le===_.current)throw Error(ya(177));_.callbackNode=null,_.callbackPriority=0;var qe=le.lanes|le.childLanes;if(z6(_,qe),_===Zo&&(ko=Zo=null,us=0),!(le.subtreeFlags&2064)&&!(le.flags&2064)||s0||(s0=!0,W2(P0,function(){return Fv(),null})),qe=(le.flags&15990)!==0,le.subtreeFlags&15990||qe){qe=tu.transition,tu.transition=null;var G=Di;Di=1;var H=wi;wi|=4,Am.current=null,KM(_,le),z2(le,_),wM(a1),D0=!!n1,a1=n1=null,_.current=le,JM(le),E6(),wi=H,Di=G,tu.transition=qe}else _.current=le;if(s0&&(s0=!1,Vc=_,X0=Be),qe=_.pendingLanes,qe===0&&(jc=null),P6(le.stateNode),al(_,So()),W!==null)for(be=_.onRecoverableError,le=0;le<W.length;le++)Be=W[le],be(Be.value,{componentStack:Be.stack,digest:Be.digest});if(Z0)throw Z0=!1,_=M1,M1=null,_;return X0&1&&_.tag!==0&&Fv(),qe=_.pendingLanes,qe&1?_===S1?Hd++:(Hd=0,S1=_):Hd=0,nh(),null}function Fv(){if(Vc!==null){var _=bw(X0),W=tu.transition,le=Di;try{if(tu.transition=null,Di=16>_?16:_,Vc===null)var be=!1;else{if(_=Vc,Vc=null,X0=0,wi&6)throw Error(ya(331));var Be=wi;for(wi|=4,Ia=_.current;Ia!==null;){var qe=Ia,G=qe.child;if(Ia.flags&16){var H=qe.deletions;if(H!==null){for(var e=0;e<H.length;e++){var y=H[e];for(Ia=y;Ia!==null;){var P=Ia;switch(P.tag){case 0:case 11:case 15:Nd(8,P,qe)}var a=P.child;if(a!==null)a.return=P,Ia=a;else for(;Ia!==null;){P=Ia;var L=P.sibling,M=P.return;if(I2(P),P===y){Ia=null;break}if(L!==null){L.return=M,Ia=L;break}Ia=M}}}var v=qe.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}Ia=qe}}if(qe.subtreeFlags&2064&&G!==null)G.return=qe,Ia=G;else e:for(;Ia!==null;){if(qe=Ia,qe.flags&2048)switch(qe.tag){case 0:case 11:case 15:Nd(9,qe,qe.return)}var t=qe.sibling;if(t!==null){t.return=qe.return,Ia=t;break e}Ia=qe.return}}var o=_.current;for(Ia=o;Ia!==null;){G=Ia;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,Ia=n;else e:for(G=o;Ia!==null;){if(H=Ia,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:fg(9,H)}}catch(u){mo(H,H.return,u)}if(H===G){Ia=null;break e}var c=H.sibling;if(c!==null){c.return=H.return,Ia=c;break e}Ia=H.return}}if(wi=Be,nh(),cf&&typeof cf.onPostCommitFiberRoot=="function")try{cf.onPostCommitFiberRoot(rg,_)}catch{}be=!0}return be}finally{Di=le,tu.transition=W}}return!1}function o3(_,W,le){W=Gv(le,W),W=w2(_,W,1),_=Xc(_,W,1),W=Fs(),_!==null&&(cp(_,1,W),al(_,W))}function mo(_,W,le){if(_.tag===3)o3(_,_,le);else for(;W!==null;){if(W.tag===3){o3(W,_,le);break}else if(W.tag===1){var be=W.stateNode;if(typeof W.type.getDerivedStateFromError=="function"||typeof be.componentDidCatch=="function"&&(jc===null||!jc.has(be))){_=Gv(le,_),_=T2(W,_,1),W=Xc(W,_,1),_=Fs(),W!==null&&(cp(W,1,_),al(W,_));break}}W=W.return}}function r8(_,W,le){var be=_.pingCache;be!==null&&be.delete(W),W=Fs(),_.pingedLanes|=_.suspendedLanes&le,Zo===_&&(us&le)===le&&(No===4||No===3&&(us&130023424)===us&&500>So()-Sm?Fh(_,0):Mm|=le),al(_,W)}function V2(_,W){W===0&&(_.mode&1?(W=Qp,Qp<<=1,!(Qp&130023424)&&(Qp=4194304)):W=1);var le=Fs();_=jf(_,W),_!==null&&(cp(_,W,le),al(_,le))}function n8(_){var W=_.memoizedState,le=0;W!==null&&(le=W.retryLane),V2(_,le)}function a8(_,W){var le=0;switch(_.tag){case 13:var be=_.stateNode,Be=_.memoizedState;Be!==null&&(le=Be.retryLane);break;case 19:be=_.stateNode;break;default:throw Error(ya(314))}be!==null&&be.delete(W),V2(_,le)}var G2;G2=function(_,W,le){if(_!==null)if(_.memoizedProps!==W.pendingProps||rl.current)tl=!0;else{if(!(_.lanes&le)&&!(W.flags&128))return tl=!1,YM(_,W,le);tl=!!(_.flags&131072)}else tl=!1,qi&&W.flags&1048576&&Zw(W,B0,W.index);switch(W.lanes=0,W.tag){case 2:var be=W.type;x0(_,W),_=W.pendingProps;var Be=Nv(W,Ss.current);Ov(W,le),Be=mm(null,W,be,_,Be,le);var qe=xm();return W.flags|=1,typeof Be=="object"&&Be!==null&&typeof Be.render=="function"&&Be.$$typeof===void 0?(W.tag=1,W.memoizedState=null,W.updateQueue=null,nl(be)?(qe=!0,O0(W)):qe=!1,W.memoizedState=Be.state!==null&&Be.state!==void 0?Be.state:null,vm(W),Be.updater=lg,W.stateNode=Be,Be._reactInternals=W,v1(W,be,_,le),W=g1(null,W,be,!0,qe,le)):(W.tag=0,qi&&qe&&om(W),Os(null,W,Be,le),W=W.child),W;case 16:be=W.elementType;e:{switch(x0(_,W),_=W.pendingProps,Be=be._init,be=Be(be._payload),W.type=be,Be=W.tag=o8(be),_=Iu(be,_),Be){case 0:W=p1(null,W,be,_,le);break e;case 1:W=Jb(null,W,be,_,le);break e;case 11:W=jb(null,W,be,_,le);break e;case 14:W=Kb(null,W,be,Iu(be.type,_),le);break e}throw Error(ya(306,be,""))}return W;case 0:return be=W.type,Be=W.pendingProps,Be=W.elementType===be?Be:Iu(be,Be),p1(_,W,be,Be,le);case 1:return be=W.type,Be=W.pendingProps,Be=W.elementType===be?Be:Iu(be,Be),Jb(_,W,be,Be,le);case 3:e:{if(E2(W),_===null)throw Error(ya(387));be=W.pendingProps,qe=W.memoizedState,Be=qe.element,Jw(_,W),H0(W,be,null,le);var G=W.memoizedState;if(be=G.element,qe.isDehydrated)if(qe={element:be,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},W.updateQueue.baseState=qe,W.memoizedState=qe,W.flags&256){Be=Gv(Error(ya(423)),W),W=Qb(_,W,be,le,Be);break e}else if(be!==Be){Be=Gv(Error(ya(424)),W),W=Qb(_,W,be,le,Be);break e}else for(bl=Zc(W.stateNode.containerInfo.firstChild),Tl=W,qi=!0,_u=null,le=e2(W,null,be,le),W.child=le;le;)le.flags=le.flags&-3|4096,le=le.sibling;else{if(Uv(),be===Be){W=Kf(_,W,le);break e}Os(_,W,be,le)}W=W.child}return W;case 5:return t2(W),_===null&&f1(W),be=W.type,Be=W.pendingProps,qe=_!==null?_.memoizedProps:null,G=Be.children,i1(be,Be)?G=null:qe!==null&&i1(be,qe)&&(W.flags|=32),S2(_,W),Os(_,W,G,le),W.child;case 6:return _===null&&f1(W),null;case 13:return C2(_,W,le);case 4:return dm(W,W.stateNode.containerInfo),be=W.pendingProps,_===null?W.child=Hv(W,null,be,le):Os(_,W,be,le),W.child;case 11:return be=W.type,Be=W.pendingProps,Be=W.elementType===be?Be:Iu(be,Be),jb(_,W,be,Be,le);case 7:return Os(_,W,W.pendingProps,le),W.child;case 8:return Os(_,W,W.pendingProps.children,le),W.child;case 12:return Os(_,W,W.pendingProps.children,le),W.child;case 10:e:{if(be=W.type._context,Be=W.pendingProps,qe=W.memoizedProps,G=Be.value,Ui(N0,be._currentValue),be._currentValue=G,qe!==null)if(Nu(qe.value,G)){if(qe.children===Be.children&&!rl.current){W=Kf(_,W,le);break e}}else for(qe=W.child,qe!==null&&(qe.return=W);qe!==null;){var H=qe.dependencies;if(H!==null){G=qe.child;for(var e=H.firstContext;e!==null;){if(e.context===be){if(qe.tag===1){e=Wf(-1,le&-le),e.tag=2;var y=qe.updateQueue;if(y!==null){y=y.shared;var P=y.pending;P===null?e.next=e:(e.next=P.next,P.next=e),y.pending=e}}qe.lanes|=le,e=qe.alternate,e!==null&&(e.lanes|=le),c1(qe.return,le,W),H.lanes|=le;break}e=e.next}}else if(qe.tag===10)G=qe.type===W.type?null:qe.child;else if(qe.tag===18){if(G=qe.return,G===null)throw Error(ya(341));G.lanes|=le,H=G.alternate,H!==null&&(H.lanes|=le),c1(G,le,W),G=qe.sibling}else G=qe.child;if(G!==null)G.return=qe;else for(G=qe;G!==null;){if(G===W){G=null;break}if(qe=G.sibling,qe!==null){qe.return=G.return,G=qe;break}G=G.return}qe=G}Os(_,W,Be.children,le),W=W.child}return W;case 9:return Be=W.type,be=W.pendingProps.children,Ov(W,le),Be=nu(Be),be=be(Be),W.flags|=1,Os(_,W,be,le),W.child;case 14:return be=W.type,Be=Iu(be,W.pendingProps),Be=Iu(be.type,Be),Kb(_,W,be,Be,le);case 15:return A2(_,W,W.type,W.pendingProps,le);case 17:return be=W.type,Be=W.pendingProps,Be=W.elementType===be?Be:Iu(be,Be),x0(_,W),W.tag=1,nl(be)?(_=!0,O0(W)):_=!1,Ov(W,le),$w(W,be,Be),v1(W,be,Be,le),g1(null,W,be,!0,_,le);case 19:return L2(_,W,le);case 22:return M2(_,W,le)}throw Error(ya(156,W.tag))};function W2(_,W){return gw(_,W)}function i8(_,W,le,be){this.tag=_,this.key=le,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=W,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=be,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eu(_,W,le,be){return new i8(_,W,le,be)}function Pm(_){return _=_.prototype,!(!_||!_.isReactComponent)}function o8(_){if(typeof _=="function")return Pm(_)?1:0;if(_!=null){if(_=_.$$typeof,_===j1)return 11;if(_===K1)return 14}return 2}function Jc(_,W){var le=_.alternate;return le===null?(le=eu(_.tag,W,_.key,_.mode),le.elementType=_.elementType,le.type=_.type,le.stateNode=_.stateNode,le.alternate=_,_.alternate=le):(le.pendingProps=W,le.type=_.type,le.flags=0,le.subtreeFlags=0,le.deletions=null),le.flags=_.flags&14680064,le.childLanes=_.childLanes,le.lanes=_.lanes,le.child=_.child,le.memoizedProps=_.memoizedProps,le.memoizedState=_.memoizedState,le.updateQueue=_.updateQueue,W=_.dependencies,le.dependencies=W===null?null:{lanes:W.lanes,firstContext:W.firstContext},le.sibling=_.sibling,le.index=_.index,le.ref=_.ref,le}function T0(_,W,le,be,Be,qe){var G=2;if(be=_,typeof _=="function")Pm(_)&&(G=1);else if(typeof _=="string")G=5;else e:switch(_){case wv:return Bh(le.children,Be,qe,W);case X1:G=8,Be|=8;break;case Fy:return _=eu(12,le,W,Be|2),_.elementType=Fy,_.lanes=qe,_;case By:return _=eu(13,le,W,Be),_.elementType=By,_.lanes=qe,_;case Ny:return _=eu(19,le,W,Be),_.elementType=Ny,_.lanes=qe,_;case q3:return hg(le,Be,qe,W);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case Q3:G=10;break e;case $3:G=9;break e;case j1:G=11;break e;case K1:G=14;break e;case Fc:G=16,be=null;break e}throw Error(ya(130,_==null?_:typeof _,""))}return W=eu(G,le,W,Be),W.elementType=_,W.type=be,W.lanes=qe,W}function Bh(_,W,le,be){return _=eu(7,_,be,W),_.lanes=le,_}function hg(_,W,le,be){return _=eu(22,_,be,W),_.elementType=q3,_.lanes=le,_.stateNode={isHidden:!1},_}function Ey(_,W,le){return _=eu(6,_,null,W),_.lanes=le,_}function Cy(_,W,le){return W=eu(4,_.children!==null?_.children:[],_.key,W),W.lanes=le,W.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},W}function s8(_,W,le,be,Be){this.tag=W,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sy(0),this.expirationTimes=sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.identifierPrefix=be,this.onRecoverableError=Be,this.mutableSourceEagerHydrationData=null}function Rm(_,W,le,be,Be,qe,G,H,e){return _=new s8(_,W,le,H,e),W===1?(W=1,qe===!0&&(W|=8)):W=0,qe=eu(3,null,null,W),_.current=qe,qe.stateNode=_,qe.memoizedState={element:be,isDehydrated:le,cache:null,transitions:null,pendingSuspenseBoundaries:null},vm(qe),_}function l8(_,W,le){var be=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bv,key:be==null?null:""+be,children:_,containerInfo:W,implementation:le}}function Y2(_){if(!_)return $c;_=_._reactInternals;e:{if(Zh(_)!==_||_.tag!==1)throw Error(ya(170));var W=_;do{switch(W.tag){case 3:W=W.stateNode.context;break e;case 1:if(nl(W.type)){W=W.stateNode.__reactInternalMemoizedMergedChildContext;break e}}W=W.return}while(W!==null);throw Error(ya(171))}if(_.tag===1){var le=_.type;if(nl(le))return Ww(_,le,W)}return W}function Z2(_,W,le,be,Be,qe,G,H,e){return _=Rm(le,be,!0,_,Be,qe,G,H,e),_.context=Y2(null),le=_.current,be=Fs(),Be=Kc(le),qe=Wf(be,Be),qe.callback=W??null,Xc(le,qe,Be),_.current.lanes=Be,cp(_,Be,be),al(_,be),_}function vg(_,W,le,be){var Be=W.current,qe=Fs(),G=Kc(Be);return le=Y2(le),W.context===null?W.context=le:W.pendingContext=le,W=Wf(qe,G),W.payload={element:_},be=be===void 0?null:be,be!==null&&(W.callback=be),_=Xc(Be,W,G),_!==null&&(Fu(_,Be,G,qe),g0(_,Be,G)),G}function K0(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 5:return _.child.stateNode;default:return _.child.stateNode}}function s3(_,W){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var le=_.retryLane;_.retryLane=le!==0&&le<W?le:W}}function Dm(_,W){s3(_,W),(_=_.alternate)&&s3(_,W)}function u8(){return null}var X2=typeof reportError=="function"?reportError:function(_){console.error(_)};function Im(_){this._internalRoot=_}dg.prototype.render=Im.prototype.render=function(_){var W=this._internalRoot;if(W===null)throw Error(ya(409));vg(_,W,null,null)};dg.prototype.unmount=Im.prototype.unmount=function(){var _=this._internalRoot;if(_!==null){this._internalRoot=null;var W=_.containerInfo;Gh(function(){vg(null,_,null,null)}),W[Xf]=null}};function dg(_){this._internalRoot=_}dg.prototype.unstable_scheduleHydration=function(_){if(_){var W=Aw();_={blockedOn:null,target:_,priority:W};for(var le=0;le<Nc.length&&W!==0&&W<Nc[le].priority;le++);Nc.splice(le,0,_),le===0&&Sw(_)}};function km(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)}function pg(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11&&(_.nodeType!==8||_.nodeValue!==" react-mount-point-unstable "))}function l3(){}function f8(_,W,le,be,Be){if(Be){if(typeof be=="function"){var qe=be;be=function(){var y=K0(G);qe.call(y)}}var G=Z2(W,be,_,0,null,!1,!1,"",l3);return _._reactRootContainer=G,_[Xf]=G.current,Jd(_.nodeType===8?_.parentNode:_),Gh(),G}for(;Be=_.lastChild;)_.removeChild(Be);if(typeof be=="function"){var H=be;be=function(){var y=K0(e);H.call(y)}}var e=Rm(_,0,!1,null,null,!1,!1,"",l3);return _._reactRootContainer=e,_[Xf]=e.current,Jd(_.nodeType===8?_.parentNode:_),Gh(function(){vg(W,e,le,be)}),e}function gg(_,W,le,be,Be){var qe=le._reactRootContainer;if(qe){var G=qe;if(typeof Be=="function"){var H=Be;Be=function(){var e=K0(G);H.call(e)}}vg(W,G,_,Be)}else G=f8(le,W,_,Be,be);return K0(G)}ww=function(_){switch(_.tag){case 3:var W=_.stateNode;if(W.current.memoizedState.isDehydrated){var le=Rd(W.pendingLanes);le!==0&&($1(W,le|1),al(W,So()),!(wi&6)&&(Wv=So()+500,nh()))}break;case 13:Gh(function(){var be=jf(_,1);if(be!==null){var Be=Fs();Fu(be,_,1,Be)}}),Dm(_,1)}};q1=function(_){if(_.tag===13){var W=jf(_,134217728);if(W!==null){var le=Fs();Fu(W,_,134217728,le)}Dm(_,134217728)}};Tw=function(_){if(_.tag===13){var W=Kc(_),le=jf(_,W);if(le!==null){var be=Fs();Fu(le,_,W,be)}Dm(_,W)}};Aw=function(){return Di};Mw=function(_,W){var le=Di;try{return Di=_,W()}finally{Di=le}};Ky=function(_,W,le){switch(W){case"input":if(Vy(_,le),W=le.name,le.type==="radio"&&W!=null){for(le=_;le.parentNode;)le=le.parentNode;for(le=le.querySelectorAll("input[name="+JSON.stringify(""+W)+'][type="radio"]'),W=0;W<le.length;W++){var be=le[W];if(be!==_&&be.form===_.form){var Be=og(be);if(!Be)throw Error(ya(90));tw(be),Vy(be,Be)}}}break;case"textarea":nw(_,le);break;case"select":W=le.value,W!=null&&Iv(_,!!le.multiple,W,!1)}};fw=Em;cw=Gh;var c8={usingClientEntryPoint:!1,Events:[vp,Sv,og,lw,uw,Em]},Ed={findFiberByHostInstance:_h,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h8={bundleType:Ed.bundleType,version:Ed.version,rendererPackageName:Ed.rendererPackageName,rendererConfig:Ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qf.ReactCurrentDispatcher,findHostInstanceByFiber:function(_){return _=dw(_),_===null?null:_.stateNode},findFiberByHostInstance:Ed.findFiberByHostInstance||u8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l0.isDisabled&&l0.supportsFiber)try{rg=l0.inject(h8),cf=l0}catch{}}El.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c8;El.createPortal=function(_,W){var le=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(W))throw Error(ya(200));return l8(_,W,null,le)};El.createRoot=function(_,W){if(!km(_))throw Error(ya(299));var le=!1,be="",Be=X2;return W!=null&&(W.unstable_strictMode===!0&&(le=!0),W.identifierPrefix!==void 0&&(be=W.identifierPrefix),W.onRecoverableError!==void 0&&(Be=W.onRecoverableError)),W=Rm(_,1,!1,null,null,le,!1,be,Be),_[Xf]=W.current,Jd(_.nodeType===8?_.parentNode:_),new Im(W)};El.findDOMNode=function(_){if(_==null)return null;if(_.nodeType===1)return _;var W=_._reactInternals;if(W===void 0)throw typeof _.render=="function"?Error(ya(188)):(_=Object.keys(_).join(","),Error(ya(268,_)));return _=dw(W),_=_===null?null:_.stateNode,_};El.flushSync=function(_){return Gh(_)};El.hydrate=function(_,W,le){if(!pg(W))throw Error(ya(200));return gg(null,_,W,!0,le)};El.hydrateRoot=function(_,W,le){if(!km(_))throw Error(ya(405));var be=le!=null&&le.hydratedSources||null,Be=!1,qe="",G=X2;if(le!=null&&(le.unstable_strictMode===!0&&(Be=!0),le.identifierPrefix!==void 0&&(qe=le.identifierPrefix),le.onRecoverableError!==void 0&&(G=le.onRecoverableError)),W=Z2(W,null,_,1,le??null,Be,!1,qe,G),_[Xf]=W.current,Jd(_),be)for(_=0;_<be.length;_++)le=be[_],Be=le._getVersion,Be=Be(le._source),W.mutableSourceEagerHydrationData==null?W.mutableSourceEagerHydrationData=[le,Be]:W.mutableSourceEagerHydrationData.push(le,Be);return new dg(W)};El.render=function(_,W,le){if(!pg(W))throw Error(ya(200));return gg(null,_,W,!1,le)};El.unmountComponentAtNode=function(_){if(!pg(_))throw Error(ya(40));return _._reactRootContainer?(Gh(function(){gg(null,null,_,!1,function(){_._reactRootContainer=null,_[Xf]=null})}),!0):!1};El.unstable_batchedUpdates=Em;El.unstable_renderSubtreeIntoContainer=function(_,W,le,be){if(!pg(le))throw Error(ya(200));if(_==null||_._reactInternals===void 0)throw Error(ya(38));return gg(_,W,le,!1,be)};El.version="18.2.0-next-9e3b772b8-20220608";function j2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j2)}catch(_){console.error(_)}}j2(),Z3.exports=El;var v8=Z3.exports,u3=v8;zy.createRoot=u3.createRoot,zy.hydrateRoot=u3.hydrateRoot;var K2={exports:{}},J2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Ms;function d8(_,W){return _===W&&(_!==0||1/_===1/W)||_!==_&&W!==W}var p8=typeof Object.is=="function"?Object.is:d8,g8=pp.useSyncExternalStore,y8=pp.useRef,m8=pp.useEffect,x8=pp.useMemo,b8=pp.useDebugValue;J2.useSyncExternalStoreWithSelector=function(_,W,le,be,Be){var qe=y8(null);if(qe.current===null){var G={hasValue:!1,value:null};qe.current=G}else G=qe.current;qe=x8(function(){function e(M){if(!y){if(y=!0,P=M,M=be(M),Be!==void 0&&G.hasValue){var v=G.value;if(Be(v,M))return a=v}return a=M}if(v=a,p8(P,M))return v;var p=be(M);return Be!==void 0&&Be(v,p)?v:(P=M,a=p)}var y=!1,P,a,L=le===void 0?null:le;return[function(){return e(W())},L===null?void 0:function(){return e(L())}]},[W,le,be,Be]);var H=g8(_,qe[0],qe[1]);return m8(function(){G.hasValue=!0,G.value=H},[H]),b8(H),H};K2.exports=J2;var w8=K2.exports,wl="default"in nb?G1:nb,f3=Symbol.for("react-redux-context"),c3=typeof globalThis<"u"?globalThis:{};function T8(){if(!wl.createContext)return{};const _=c3[f3]??(c3[f3]=new Map);let W=_.get(wl.createContext);return W||(W=wl.createContext(null),_.set(wl.createContext,W)),W}var qc=T8(),A8=()=>{throw new Error("uSES not initialized!")};function _m(_=qc){return function(){return wl.useContext(_)}}var Q2=_m(),$2=A8,M8=_=>{$2=_},S8=(_,W)=>_===W;function E8(_=qc){const W=_===qc?Q2:_m(_),le=(be,Be={})=>{const{equalityFn:qe=S8,devModeChecks:G={}}=typeof Be=="function"?{equalityFn:Be}:Be,{store:H,subscription:e,getServerState:y,stabilityCheck:P,identityFunctionCheck:a}=W();wl.useRef(!0);const L=wl.useCallback({[be.name](v){return be(v)}}[be.name],[be,P,G.stabilityCheck]),M=$2(e.addNestedSub,H.getState,y||H.getState,L,qe);return wl.useDebugValue(M),M};return Object.assign(le,{withTypes:()=>le}),le}var h3=E8();function C8(_){_()}function L8(){let _=null,W=null;return{clear(){_=null,W=null},notify(){C8(()=>{let le=_;for(;le;)le.callback(),le=le.next})},get(){const le=[];let be=_;for(;be;)le.push(be),be=be.next;return le},subscribe(le){let be=!0;const Be=W={callback:le,next:null,prev:W};return Be.prev?Be.prev.next=Be:_=Be,function(){!be||_===null||(be=!1,Be.next?Be.next.prev=Be.prev:W=Be.prev,Be.prev?Be.prev.next=Be.next:_=Be.next)}}}}var v3={notify(){},get:()=>[]};function P8(_,W){let le,be=v3,Be=0,qe=!1;function G(p){P();const r=be.subscribe(p);let t=!1;return()=>{t||(t=!0,r(),a())}}function H(){be.notify()}function e(){v.onStateChange&&v.onStateChange()}function y(){return qe}function P(){Be++,le||(le=W?W.addNestedSub(e):_.subscribe(e),be=L8())}function a(){Be--,le&&Be===0&&(le(),le=void 0,be.clear(),be=v3)}function L(){qe||(qe=!0,P())}function M(){qe&&(qe=!1,a())}const v={addNestedSub:G,notifyNestedSubs:H,handleChangeWrapper:e,isSubscribed:y,trySubscribe:L,tryUnsubscribe:M,getListeners:()=>be};return v}var R8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D8=R8?wl.useLayoutEffect:wl.useEffect;function I8({store:_,context:W,children:le,serverState:be,stabilityCheck:Be="once",identityFunctionCheck:qe="once"}){const G=wl.useMemo(()=>{const y=P8(_);return{store:_,subscription:y,getServerState:be?()=>be:void 0,stabilityCheck:Be,identityFunctionCheck:qe}},[_,be,Be,qe]),H=wl.useMemo(()=>_.getState(),[_]);D8(()=>{const{subscription:y}=G;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),H!==_.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[G,H]);const e=W||qc;return wl.createElement(e.Provider,{value:G},le)}var k8=I8;function q2(_=qc){const W=_===qc?Q2:_m(_),le=()=>{const{store:be}=W();return be};return Object.assign(le,{withTypes:()=>le}),le}var _8=q2();function z8(_=qc){const W=_===qc?_8:q2(_),le=()=>W().dispatch;return Object.assign(le,{withTypes:()=>le}),le}var O8=z8();M8(w8.useSyncExternalStoreWithSelector);function ss(_){return`Minified Redux error #${_}; visit https://redux.js.org/Errors?code=${_} for the full message or use the non-minified dev environment for full errors. `}var F8=typeof Symbol=="function"&&Symbol.observable||"@@observable",d3=F8,Ly=()=>Math.random().toString(36).substring(7).split("").join("."),B8={INIT:`@@redux/INIT${Ly()}`,REPLACE:`@@redux/REPLACE${Ly()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ly()}`},J0=B8;function zm(_){if(typeof _!="object"||_===null)return!1;let W=_;for(;Object.getPrototypeOf(W)!==null;)W=Object.getPrototypeOf(W);return Object.getPrototypeOf(_)===W||Object.getPrototypeOf(_)===null}function eT(_,W,le){if(typeof _!="function")throw new Error(ss(2));if(typeof W=="function"&&typeof le=="function"||typeof le=="function"&&typeof arguments[3]=="function")throw new Error(ss(0));if(typeof W=="function"&&typeof le>"u"&&(le=W,W=void 0),typeof le<"u"){if(typeof le!="function")throw new Error(ss(1));return le(eT)(_,W)}let be=_,Be=W,qe=new Map,G=qe,H=0,e=!1;function y(){G===qe&&(G=new Map,qe.forEach((r,t)=>{G.set(t,r)}))}function P(){if(e)throw new Error(ss(3));return Be}function a(r){if(typeof r!="function")throw new Error(ss(4));if(e)throw new Error(ss(5));let t=!0;y();const o=H++;return G.set(o,r),function(){if(t){if(e)throw new Error(ss(6));t=!1,y(),G.delete(o),qe=null}}}function L(r){if(!zm(r))throw new Error(ss(7));if(typeof r.type>"u")throw new Error(ss(8));if(typeof r.type!="string")throw new Error(ss(17));if(e)throw new Error(ss(9));try{e=!0,Be=be(Be,r)}finally{e=!1}return(qe=G).forEach(o=>{o()}),r}function M(r){if(typeof r!="function")throw new Error(ss(10));be=r,L({type:J0.REPLACE})}function v(){const r=a;return{subscribe(t){if(typeof t!="object"||t===null)throw new Error(ss(11));function o(){const c=t;c.next&&c.next(P())}return o(),{unsubscribe:r(o)}},[d3](){return this}}}return L({type:J0.INIT}),{dispatch:L,subscribe:a,getState:P,replaceReducer:M,[d3]:v}}function N8(_){Object.keys(_).forEach(W=>{const le=_[W];if(typeof le(void 0,{type:J0.INIT})>"u")throw new Error(ss(12));if(typeof le(void 0,{type:J0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ss(13))})}function U8(_){const W=Object.keys(_),le={};for(let qe=0;qe<W.length;qe++){const G=W[qe];typeof _[G]=="function"&&(le[G]=_[G])}const be=Object.keys(le);let Be;try{N8(le)}catch(qe){Be=qe}return function(G={},H){if(Be)throw Be;let e=!1;const y={};for(let P=0;P<be.length;P++){const a=be[P],L=le[a],M=G[a],v=L(M,H);if(typeof v>"u")throw H&&H.type,new Error(ss(14));y[a]=v,e=e||v!==M}return e=e||be.length!==Object.keys(G).length,e?y:G}}function Q0(..._){return _.length===0?W=>W:_.length===1?_[0]:_.reduce((W,le)=>(...be)=>W(le(...be)))}function H8(..._){return W=>(le,be)=>{const Be=W(le,be);let qe=()=>{throw new Error(ss(15))};const G={getState:Be.getState,dispatch:(e,...y)=>qe(e,...y)},H=_.map(e=>e(G));return qe=Q0(...H)(Be.dispatch),{...Be,dispatch:qe}}}function V8(_){return zm(_)&&"type"in _&&typeof _.type=="string"}var tT=Symbol.for("immer-nothing"),p3=Symbol.for("immer-draftable"),Ml=Symbol.for("immer-state");function zu(_,...W){throw new Error(`[Immer] minified error nr: ${_}. Full error at: https://bit.ly/3cXEKWf`)}var Yv=Object.getPrototypeOf;function eh(_){return!!_&&!!_[Ml]}function Jf(_){var W;return _?rT(_)||Array.isArray(_)||!!_[p3]||!!((W=_.constructor)!=null&&W[p3])||mg(_)||xg(_):!1}var G8=Object.prototype.constructor.toString();function rT(_){if(!_||typeof _!="object")return!1;const W=Yv(_);if(W===null)return!0;const le=Object.hasOwnProperty.call(W,"constructor")&&W.constructor;return le===Object?!0:typeof le=="function"&&Function.toString.call(le)===G8}function ip(_,W){yg(_)===0?Object.entries(_).forEach(([le,be])=>{W(le,be,_)}):_.forEach((le,be)=>W(be,le,_))}function yg(_){const W=_[Ml];return W?W.type_:Array.isArray(_)?1:mg(_)?2:xg(_)?3:0}function L1(_,W){return yg(_)===2?_.has(W):Object.prototype.hasOwnProperty.call(_,W)}function nT(_,W,le){const be=yg(_);be===2?_.set(W,le):be===3?_.add(le):_[W]=le}function W8(_,W){return _===W?_!==0||1/_===1/W:_!==_&&W!==W}function mg(_){return _ instanceof Map}function xg(_){return _ instanceof Set}function kh(_){return _.copy_||_.base_}function P1(_,W){if(mg(_))return new Map(_);if(xg(_))return new Set(_);if(Array.isArray(_))return Array.prototype.slice.call(_);if(!W&&rT(_))return Yv(_)?{..._}:Object.assign(Object.create(null),_);const le=Object.getOwnPropertyDescriptors(_);delete le[Ml];let be=Reflect.ownKeys(le);for(let Be=0;Be<be.length;Be++){const qe=be[Be],G=le[qe];G.writable===!1&&(G.writable=!0,G.configurable=!0),(G.get||G.set)&&(le[qe]={configurable:!0,writable:!0,enumerable:G.enumerable,value:_[qe]})}return Object.create(Yv(_),le)}function Om(_,W=!1){return bg(_)||eh(_)||!Jf(_)||(yg(_)>1&&(_.set=_.add=_.clear=_.delete=Y8),Object.freeze(_),W&&ip(_,(le,be)=>Om(be,!0))),_}function Y8(){zu(2)}function bg(_){return Object.isFrozen(_)}var Z8={};function Wh(_){const W=Z8[_];return W||zu(0,_),W}var op;function aT(){return op}function X8(_,W){return{drafts_:[],parent_:_,immer_:W,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function g3(_,W){W&&(Wh("Patches"),_.patches_=[],_.inversePatches_=[],_.patchListener_=W)}function R1(_){D1(_),_.drafts_.forEach(j8),_.drafts_=null}function D1(_){_===op&&(op=_.parent_)}function y3(_){return op=X8(op,_)}function j8(_){const W=_[Ml];W.type_===0||W.type_===1?W.revoke_():W.revoked_=!0}function m3(_,W){W.unfinalizedDrafts_=W.drafts_.length;const le=W.drafts_[0];return _!==void 0&&_!==le?(le[Ml].modified_&&(R1(W),zu(4)),Jf(_)&&(_=$0(W,_),W.parent_||q0(W,_)),W.patches_&&Wh("Patches").generateReplacementPatches_(le[Ml].base_,_,W.patches_,W.inversePatches_)):_=$0(W,le,[]),R1(W),W.patches_&&W.patchListener_(W.patches_,W.inversePatches_),_!==tT?_:void 0}function $0(_,W,le){if(bg(W))return W;const be=W[Ml];if(!be)return ip(W,(Be,qe)=>x3(_,be,W,Be,qe,le)),W;if(be.scope_!==_)return W;if(!be.modified_)return q0(_,be.base_,!0),be.base_;if(!be.finalized_){be.finalized_=!0,be.scope_.unfinalizedDrafts_--;const Be=be.copy_;let qe=Be,G=!1;be.type_===3&&(qe=new Set(Be),Be.clear(),G=!0),ip(qe,(H,e)=>x3(_,be,Be,H,e,le,G)),q0(_,Be,!1),le&&_.patches_&&Wh("Patches").generatePatches_(be,le,_.patches_,_.inversePatches_)}return be.copy_}function x3(_,W,le,be,Be,qe,G){if(eh(Be)){const H=qe&&W&&W.type_!==3&&!L1(W.assigned_,be)?qe.concat(be):void 0,e=$0(_,Be,H);if(nT(le,be,e),eh(e))_.canAutoFreeze_=!1;else return}else G&&le.add(Be);if(Jf(Be)&&!bg(Be)){if(!_.immer_.autoFreeze_&&_.unfinalizedDrafts_<1)return;$0(_,Be),(!W||!W.scope_.parent_)&&q0(_,Be)}}function q0(_,W,le=!1){!_.parent_&&_.immer_.autoFreeze_&&_.canAutoFreeze_&&Om(W,le)}function K8(_,W){const le=Array.isArray(_),be={type_:le?1:0,scope_:W?W.scope_:aT(),modified_:!1,finalized_:!1,assigned_:{},parent_:W,base_:_,draft_:null,copy_:null,revoke_:null,isManual_:!1};let Be=be,qe=Fm;le&&(Be=[be],qe=sp);const{revoke:G,proxy:H}=Proxy.revocable(Be,qe);return be.draft_=H,be.revoke_=G,H}var Fm={get(_,W){if(W===Ml)return _;const le=kh(_);if(!L1(le,W))return J8(_,le,W);const be=le[W];return _.finalized_||!Jf(be)?be:be===Py(_.base_,W)?(Ry(_),_.copy_[W]=k1(be,_)):be},has(_,W){return W in kh(_)},ownKeys(_){return Reflect.ownKeys(kh(_))},set(_,W,le){const be=iT(kh(_),W);if(be!=null&&be.set)return be.set.call(_.draft_,le),!0;if(!_.modified_){const Be=Py(kh(_),W),qe=Be==null?void 0:Be[Ml];if(qe&&qe.base_===le)return _.copy_[W]=le,_.assigned_[W]=!1,!0;if(W8(le,Be)&&(le!==void 0||L1(_.base_,W)))return!0;Ry(_),I1(_)}return _.copy_[W]===le&&(le!==void 0||W in _.copy_)||Number.isNaN(le)&&Number.isNaN(_.copy_[W])||(_.copy_[W]=le,_.assigned_[W]=!0),!0},deleteProperty(_,W){return Py(_.base_,W)!==void 0||W in _.base_?(_.assigned_[W]=!1,Ry(_),I1(_)):delete _.assigned_[W],_.copy_&&delete _.copy_[W],!0},getOwnPropertyDescriptor(_,W){const le=kh(_),be=Reflect.getOwnPropertyDescriptor(le,W);return be&&{writable:!0,configurable:_.type_!==1||W!=="length",enumerable:be.enumerable,value:le[W]}},defineProperty(){zu(11)},getPrototypeOf(_){return Yv(_.base_)},setPrototypeOf(){zu(12)}},sp={};ip(Fm,(_,W)=>{sp[_]=function(){return arguments[0]=arguments[0][0],W.apply(this,arguments)}});sp.deleteProperty=function(_,W){return sp.set.call(this,_,W,void 0)};sp.set=function(_,W,le){return Fm.set.call(this,_[0],W,le,_[0])};function Py(_,W){const le=_[Ml];return(le?kh(le):_)[W]}function J8(_,W,le){var Be;const be=iT(W,le);return be?"value"in be?be.value:(Be=be.get)==null?void 0:Be.call(_.draft_):void 0}function iT(_,W){if(!(W in _))return;let le=Yv(_);for(;le;){const be=Object.getOwnPropertyDescriptor(le,W);if(be)return be;le=Yv(le)}}function I1(_){_.modified_||(_.modified_=!0,_.parent_&&I1(_.parent_))}function Ry(_){_.copy_||(_.copy_=P1(_.base_,_.scope_.immer_.useStrictShallowCopy_))}var Q8=class{constructor(_){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(W,le,be)=>{if(typeof W=="function"&&typeof le!="function"){const qe=le;le=W;const G=this;return function(e=qe,...y){return G.produce(e,P=>le.call(this,P,...y))}}typeof le!="function"&&zu(6),be!==void 0&&typeof be!="function"&&zu(7);let Be;if(Jf(W)){const qe=y3(this),G=k1(W,void 0);let H=!0;try{Be=le(G),H=!1}finally{H?R1(qe):D1(qe)}return g3(qe,be),m3(Be,qe)}else if(!W||typeof W!="object"){if(Be=le(W),Be===void 0&&(Be=W),Be===tT&&(Be=void 0),this.autoFreeze_&&Om(Be,!0),be){const qe=[],G=[];Wh("Patches").generateReplacementPatches_(W,Be,qe,G),be(qe,G)}return Be}else zu(1,W)},this.produceWithPatches=(W,le)=>{if(typeof W=="function")return(G,...H)=>this.produceWithPatches(G,e=>W(e,...H));let be,Be;return[this.produce(W,le,(G,H)=>{be=G,Be=H}),be,Be]},typeof(_==null?void 0:_.autoFreeze)=="boolean"&&this.setAutoFreeze(_.autoFreeze),typeof(_==null?void 0:_.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(_.useStrictShallowCopy)}createDraft(_){Jf(_)||zu(8),eh(_)&&(_=oT(_));const W=y3(this),le=k1(_,void 0);return le[Ml].isManual_=!0,D1(W),le}finishDraft(_,W){const le=_&&_[Ml];(!le||!le.isManual_)&&zu(9);const{scope_:be}=le;return g3(be,W),m3(void 0,be)}setAutoFreeze(_){this.autoFreeze_=_}setUseStrictShallowCopy(_){this.useStrictShallowCopy_=_}applyPatches(_,W){let le;for(le=W.length-1;le>=0;le--){const Be=W[le];if(Be.path.length===0&&Be.op==="replace"){_=Be.value;break}}le>-1&&(W=W.slice(le+1));const be=Wh("Patches").applyPatches_;return eh(_)?be(_,W):this.produce(_,Be=>be(Be,W))}};function k1(_,W){const le=mg(_)?Wh("MapSet").proxyMap_(_,W):xg(_)?Wh("MapSet").proxySet_(_,W):K8(_,W);return(W?W.scope_:aT()).drafts_.push(le),le}function oT(_){return eh(_)||zu(10,_),sT(_)}function sT(_){if(!Jf(_)||bg(_))return _;const W=_[Ml];let le;if(W){if(!W.modified_)return W.base_;W.finalized_=!0,le=P1(_,W.scope_.immer_.useStrictShallowCopy_)}else le=P1(_,!0);return ip(le,(be,Be)=>{nT(le,be,sT(Be))}),W&&(W.finalized_=!1),le}var Sl=new Q8,lT=Sl.produce;Sl.produceWithPatches.bind(Sl);Sl.setAutoFreeze.bind(Sl);Sl.setUseStrictShallowCopy.bind(Sl);Sl.applyPatches.bind(Sl);Sl.createDraft.bind(Sl);Sl.finishDraft.bind(Sl);function $8(_,W=`expected a function, instead received ${typeof _}`){if(typeof _!="function")throw new TypeError(W)}function q8(_,W=`expected an object, instead received ${typeof _}`){if(typeof _!="object")throw new TypeError(W)}function eS(_,W="expected all items to be functions, instead received the following types: "){if(!_.every(le=>typeof le=="function")){const le=_.map(be=>typeof be=="function"?`function ${be.name||"unnamed"}()`:typeof be).join(", ");throw new TypeError(`${W}[${le}]`)}}var b3=_=>Array.isArray(_)?_:[_];function tS(_){const W=Array.isArray(_[0])?_[0]:_;return eS(W,"createSelector expects all input-selectors to be functions, but received the following types: "),W}function rS(_,W){const le=[],{length:be}=_;for(let Be=0;Be<be;Be++)le.push(_[Be].apply(null,W));return le}var nS=class{constructor(_){this.value=_}deref(){return this.value}},aS=typeof WeakRef<"u"?WeakRef:nS,iS=0,w3=1;function u0(){return{s:iS,v:void 0,o:null,p:null}}function Bm(_,W={}){let le=u0();const{resultEqualityCheck:be}=W;let Be,qe=0;function G(){var a;let H=le;const{length:e}=arguments;for(let L=0,M=e;L<M;L++){const v=arguments[L];if(typeof v=="function"||typeof v=="object"&&v!==null){let p=H.o;p===null&&(H.o=p=new WeakMap);const r=p.get(v);r===void 0?(H=u0(),p.set(v,H)):H=r}else{let p=H.p;p===null&&(H.p=p=new Map);const r=p.get(v);r===void 0?(H=u0(),p.set(v,H)):H=r}}const y=H;let P;if(H.s===w3?P=H.v:(P=_.apply(null,arguments),qe++),y.s=w3,be){const L=((a=Be==null?void 0:Be.deref)==null?void 0:a.call(Be))??Be;L!=null&&be(L,P)&&(P=L,qe!==0&&qe--),Be=typeof P=="object"&&P!==null||typeof P=="function"?new aS(P):P}return y.v=P,P}return G.clearCache=()=>{le=u0(),G.resetResultsCount()},G.resultsCount=()=>qe,G.resetResultsCount=()=>{qe=0},G}function uT(_,...W){const le=typeof _=="function"?{memoize:_,memoizeOptions:W}:_,be=(...Be)=>{let qe=0,G=0,H,e={},y=Be.pop();typeof y=="object"&&(e=y,y=Be.pop()),$8(y,`createSelector expects an output function after the inputs, but received: [${typeof y}]`);const P={...le,...e},{memoize:a,memoizeOptions:L=[],argsMemoize:M=Bm,argsMemoizeOptions:v=[],devModeChecks:p={}}=P,r=b3(L),t=b3(v),o=tS(Be),n=a(function(){return qe++,y.apply(null,arguments)},...r),c=M(function(){G++;const l=rS(o,arguments);return H=n.apply(null,l),H},...t);return Object.assign(c,{resultFunc:y,memoizedResultFunc:n,dependencies:o,dependencyRecomputations:()=>G,resetDependencyRecomputations:()=>{G=0},lastResult:()=>H,recomputations:()=>qe,resetRecomputations:()=>{qe=0},memoize:a,argsMemoize:M})};return Object.assign(be,{withTypes:()=>be}),be}var oS=uT(Bm),sS=Object.assign((_,W=oS)=>{q8(_,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof _}`);const le=Object.keys(_),be=le.map(qe=>_[qe]);return W(be,(...qe)=>qe.reduce((G,H,e)=>(G[le[e]]=H,G),{}))},{withTypes:()=>sS});function fT(_){return({dispatch:le,getState:be})=>Be=>qe=>typeof qe=="function"?qe(le,be,_):Be(qe)}var lS=fT(),uS=fT,fS=(..._)=>{const W=uT(..._);return(...le)=>{const be=W(...le),Be=(qe,...G)=>be(eh(qe)?oT(qe):qe,...G);return Object.assign(Be,be),Be}};fS(Bm);var cS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Q0:Q0.apply(null,arguments)};function lp(_,W){function le(...be){if(W){let Be=W(...be);if(!Be)throw new Error(Bu(0));return{type:_,payload:Be.payload,..."meta"in Be&&{meta:Be.meta},..."error"in Be&&{error:Be.error}}}return{type:_,payload:be[0]}}return le.toString=()=>`${_}`,le.type=_,le.match=be=>V8(be)&&be.type===_,le}var cT=class Id extends Array{constructor(...W){super(...W),Object.setPrototypeOf(this,Id.prototype)}static get[Symbol.species](){return Id}concat(...W){return super.concat.apply(this,W)}prepend(...W){return W.length===1&&Array.isArray(W[0])?new Id(...W[0].concat(this)):new Id(...W.concat(this))}};function T3(_){return Jf(_)?lT(_,()=>{}):_}function A3(_,W,le){if(_.has(W)){let Be=_.get(W);return le.update&&(Be=le.update(Be,W,_),_.set(W,Be)),Be}if(!le.insert)throw new Error(Bu(10));const be=le.insert(W,_);return _.set(W,be),be}function hS(_){return typeof _=="boolean"}var vS=()=>function(W){const{thunk:le=!0,immutableCheck:be=!0,serializableCheck:Be=!0,actionCreatorCheck:qe=!0}=W??{};let G=new cT;return le&&(hS(le)?G.push(lS):G.push(uS(le.extraArgument))),G},dS="RTK_autoBatch",hT=_=>W=>{setTimeout(W,_)},pS=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hT(10),gS=(_={type:"raf"})=>W=>(...le)=>{const be=W(...le);let Be=!0,qe=!1,G=!1;const H=new Set,e=_.type==="tick"?queueMicrotask:_.type==="raf"?pS:_.type==="callback"?_.queueNotification:hT(_.timeout),y=()=>{G=!1,qe&&(qe=!1,H.forEach(P=>P()))};return Object.assign({},be,{subscribe(P){const a=()=>Be&&P(),L=be.subscribe(a);return H.add(P),()=>{L(),H.delete(P)}},dispatch(P){var a;try{return Be=!((a=P==null?void 0:P.meta)!=null&&a[dS]),qe=!Be,qe&&(G||(G=!0,e(y))),be.dispatch(P)}finally{Be=!0}}})},yS=_=>function(le){const{autoBatch:be=!0}=le??{};let Be=new cT(_);return be&&Be.push(gS(typeof be=="object"?be:void 0)),Be},mS=!0;function xS(_){const W=vS(),{reducer:le=void 0,middleware:be,devTools:Be=!0,preloadedState:qe=void 0,enhancers:G=void 0}=_||{};let H;if(typeof le=="function")H=le;else if(zm(le))H=U8(le);else throw new Error(Bu(1));let e;typeof be=="function"?e=be(W):e=W();let y=Q0;Be&&(y=cS({trace:!mS,...typeof Be=="object"&&Be}));const P=H8(...e),a=yS(P);let L=typeof G=="function"?G(a):a();const M=y(...L);return eT(H,qe,M)}function vT(_){const W={},le=[];let be;const Be={addCase(qe,G){const H=typeof qe=="string"?qe:qe.type;if(!H)throw new Error(Bu(28));if(H in W)throw new Error(Bu(29));return W[H]=G,Be},addMatcher(qe,G){return le.push({matcher:qe,reducer:G}),Be},addDefaultCase(qe){return be=qe,Be}};return _(Be),[W,le,be]}function bS(_){return typeof _=="function"}function wS(_,W){let[le,be,Be]=vT(W),qe;if(bS(_))qe=()=>T3(_());else{const H=T3(_);qe=()=>H}function G(H=qe(),e){let y=[le[e.type],...be.filter(({matcher:P})=>P(e)).map(({reducer:P})=>P)];return y.filter(P=>!!P).length===0&&(y=[Be]),y.reduce((P,a)=>{if(a)if(eh(P)){const M=a(P,e);return M===void 0?P:M}else{if(Jf(P))return lT(P,L=>a(L,e));{const L=a(P,e);if(L===void 0){if(P===null)return P;throw new Error(Bu(9))}return L}}return P},H)}return G.getInitialState=qe,G}var TS=Symbol.for("rtk-slice-createasyncthunk");function AS(_,W){return`${_}/${W}`}function MS({creators:_}={}){var le;const W=(le=_==null?void 0:_.asyncThunk)==null?void 0:le[TS];return function(Be){const{name:qe,reducerPath:G=qe}=Be;if(!qe)throw new Error(Bu(11));typeof process<"u";const H=(typeof Be.reducers=="function"?Be.reducers(ES()):Be.reducers)||{},e=Object.keys(H),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},P={addCase(r,t){const o=typeof r=="string"?r:r.type;if(!o)throw new Error(Bu(12));if(o in y.sliceCaseReducersByType)throw new Error(Bu(13));return y.sliceCaseReducersByType[o]=t,P},addMatcher(r,t){return y.sliceMatchers.push({matcher:r,reducer:t}),P},exposeAction(r,t){return y.actionCreators[r]=t,P},exposeCaseReducer(r,t){return y.sliceCaseReducersByName[r]=t,P}};e.forEach(r=>{const t=H[r],o={reducerName:r,type:AS(qe,r),createNotation:typeof Be.reducers=="function"};LS(t)?RS(o,t,P,W):CS(o,t,P)});function a(){const[r={},t=[],o=void 0]=typeof Be.extraReducers=="function"?vT(Be.extraReducers):[Be.extraReducers],n={...r,...y.sliceCaseReducersByType};return wS(Be.initialState,c=>{for(let u in n)c.addCase(u,n[u]);for(let u of y.sliceMatchers)c.addMatcher(u.matcher,u.reducer);for(let u of t)c.addMatcher(u.matcher,u.reducer);o&&c.addDefaultCase(o)})}const L=r=>r,M=new WeakMap;let v;const p={name:qe,reducerPath:G,reducer(r,t){return v||(v=a()),v(r,t)},actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState(){return v||(v=a()),v.getInitialState()},getSelectors(r=L){const t=A3(M,this,{insert:()=>new WeakMap});return A3(t,r,{insert:()=>{const o={};for(const[n,c]of Object.entries(Be.selectors??{}))o[n]=SS(this,c,r,this!==p);return o}})},selectSlice(r){let t=r[this.reducerPath];return typeof t>"u"&&this!==p&&(t=this.getInitialState()),t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(r,{reducerPath:t,...o}={}){const n=t??this.reducerPath;return r.inject({reducerPath:n,reducer:this.reducer},o),{...this,reducerPath:n}}};return p}}function SS(_,W,le,be){function Be(qe,...G){let H=le.call(_,qe);return typeof H>"u"&&be&&(H=_.getInitialState()),W(H,...G)}return Be.unwrapped=W,Be}MS();function ES(){function _(W,le){return{_reducerDefinitionType:"asyncThunk",payloadCreator:W,...le}}return _.withTypes=()=>_,{reducer(W){return Object.assign({[W.name](...le){return W(...le)}}[W.name],{_reducerDefinitionType:"reducer"})},preparedReducer(W,le){return{_reducerDefinitionType:"reducerWithPrepare",prepare:W,reducer:le}},asyncThunk:_}}function CS({type:_,reducerName:W,createNotation:le},be,Be){let qe,G;if("reducer"in be){if(le&&!PS(be))throw new Error(Bu(17));qe=be.reducer,G=be.prepare}else qe=be;Be.addCase(_,qe).exposeCaseReducer(W,qe).exposeAction(W,G?lp(_,G):lp(_))}function LS(_){return _._reducerDefinitionType==="asyncThunk"}function PS(_){return _._reducerDefinitionType==="reducerWithPrepare"}function RS({type:_,reducerName:W},le,be,Be){if(!Be)throw new Error(Bu(18));const{payloadCreator:qe,fulfilled:G,pending:H,rejected:e,settled:y,options:P}=le,a=Be(_,qe,P);be.exposeAction(W,a),G&&be.addCase(a.fulfilled,G),H&&be.addCase(a.pending,H),e&&be.addCase(a.rejected,e),y&&be.addMatcher(a.settled,y),be.exposeCaseReducer(W,{fulfilled:G||f0,pending:H||f0,rejected:e||f0,settled:y||f0})}function f0(){}var Nm="listenerMiddleware";lp(`${Nm}/add`);lp(`${Nm}/removeAll`);lp(`${Nm}/remove`);function Bu(_){return`Minified Redux Toolkit error #${_}; visit https://redux-toolkit.js.org/Errors?code=${_} for the full message or use the non-minified dev environment for full errors. `}const DS={data:[],timeFrame:"1D"};function IS(_=DS,W){switch(W.type){case"SET_DATA":return{..._,data:W.payload.data,timeFrame:W.payload.timeFrame};default:return _}}function dT(_,W){return function(){return _.apply(W,arguments)}}const{toString:kS}=Object.prototype,{getPrototypeOf:Um}=Object,wg=(_=>W=>{const le=kS.call(W);return _[le]||(_[le]=le.slice(8,-1).toLowerCase())})(Object.create(null)),vf=_=>(_=_.toLowerCase(),W=>wg(W)===_),Tg=_=>W=>typeof W===_,{isArray:Jv}=Array,up=Tg("undefined");function _S(_){return _!==null&&!up(_)&&_.constructor!==null&&!up(_.constructor)&&ru(_.constructor.isBuffer)&&_.constructor.isBuffer(_)}const pT=vf("ArrayBuffer");function zS(_){let W;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?W=ArrayBuffer.isView(_):W=_&&_.buffer&&pT(_.buffer),W}const OS=Tg("string"),ru=Tg("function"),gT=Tg("number"),Ag=_=>_!==null&&typeof _=="object",FS=_=>_===!0||_===!1,A0=_=>{if(wg(_)!=="object")return!1;const W=Um(_);return(W===null||W===Object.prototype||Object.getPrototypeOf(W)===null)&&!(Symbol.toStringTag in _)&&!(Symbol.iterator in _)},BS=vf("Date"),NS=vf("File"),US=vf("Blob"),HS=vf("FileList"),VS=_=>Ag(_)&&ru(_.pipe),GS=_=>{let W;return _&&(typeof FormData=="function"&&_ instanceof FormData||ru(_.append)&&((W=wg(_))==="formdata"||W==="object"&&ru(_.toString)&&_.toString()==="[object FormData]"))},WS=vf("URLSearchParams"),YS=_=>_.trim?_.trim():_.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gp(_,W,{allOwnKeys:le=!1}={}){if(_===null||typeof _>"u")return;let be,Be;if(typeof _!="object"&&(_=[_]),Jv(_))for(be=0,Be=_.length;be<Be;be++)W.call(null,_[be],be,_);else{const qe=le?Object.getOwnPropertyNames(_):Object.keys(_),G=qe.length;let H;for(be=0;be<G;be++)H=qe[be],W.call(null,_[H],H,_)}}function yT(_,W){W=W.toLowerCase();const le=Object.keys(_);let be=le.length,Be;for(;be-- >0;)if(Be=le[be],W===Be.toLowerCase())return Be;return null}const mT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xT=_=>!up(_)&&_!==mT;function _1(){const{caseless:_}=xT(this)&&this||{},W={},le=(be,Be)=>{const qe=_&&yT(W,Be)||Be;A0(W[qe])&&A0(be)?W[qe]=_1(W[qe],be):A0(be)?W[qe]=_1({},be):Jv(be)?W[qe]=be.slice():W[qe]=be};for(let be=0,Be=arguments.length;be<Be;be++)arguments[be]&&gp(arguments[be],le);return W}const ZS=(_,W,le,{allOwnKeys:be}={})=>(gp(W,(Be,qe)=>{le&&ru(Be)?_[qe]=dT(Be,le):_[qe]=Be},{allOwnKeys:be}),_),XS=_=>(_.charCodeAt(0)===65279&&(_=_.slice(1)),_),jS=(_,W,le,be)=>{_.prototype=Object.create(W.prototype,be),_.prototype.constructor=_,Object.defineProperty(_,"super",{value:W.prototype}),le&&Object.assign(_.prototype,le)},KS=(_,W,le,be)=>{let Be,qe,G;const H={};if(W=W||{},_==null)return W;do{for(Be=Object.getOwnPropertyNames(_),qe=Be.length;qe-- >0;)G=Be[qe],(!be||be(G,_,W))&&!H[G]&&(W[G]=_[G],H[G]=!0);_=le!==!1&&Um(_)}while(_&&(!le||le(_,W))&&_!==Object.prototype);return W},JS=(_,W,le)=>{_=String(_),(le===void 0||le>_.length)&&(le=_.length),le-=W.length;const be=_.indexOf(W,le);return be!==-1&&be===le},QS=_=>{if(!_)return null;if(Jv(_))return _;let W=_.length;if(!gT(W))return null;const le=new Array(W);for(;W-- >0;)le[W]=_[W];return le},$S=(_=>W=>_&&W instanceof _)(typeof Uint8Array<"u"&&Um(Uint8Array)),qS=(_,W)=>{const be=(_&&_[Symbol.iterator]).call(_);let Be;for(;(Be=be.next())&&!Be.done;){const qe=Be.value;W.call(_,qe[0],qe[1])}},eE=(_,W)=>{let le;const be=[];for(;(le=_.exec(W))!==null;)be.push(le);return be},tE=vf("HTMLFormElement"),rE=_=>_.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(le,be,Be){return be.toUpperCase()+Be}),M3=(({hasOwnProperty:_})=>(W,le)=>_.call(W,le))(Object.prototype),nE=vf("RegExp"),bT=(_,W)=>{const le=Object.getOwnPropertyDescriptors(_),be={};gp(le,(Be,qe)=>{let G;(G=W(Be,qe,_))!==!1&&(be[qe]=G||Be)}),Object.defineProperties(_,be)},aE=_=>{bT(_,(W,le)=>{if(ru(_)&&["arguments","caller","callee"].indexOf(le)!==-1)return!1;const be=_[le];if(ru(be)){if(W.enumerable=!1,"writable"in W){W.writable=!1;return}W.set||(W.set=()=>{throw Error("Can not rewrite read-only method '"+le+"'")})}})},iE=(_,W)=>{const le={},be=Be=>{Be.forEach(qe=>{le[qe]=!0})};return Jv(_)?be(_):be(String(_).split(W)),le},oE=()=>{},sE=(_,W)=>(_=+_,Number.isFinite(_)?_:W),Dy="abcdefghijklmnopqrstuvwxyz",S3="0123456789",wT={DIGIT:S3,ALPHA:Dy,ALPHA_DIGIT:Dy+Dy.toUpperCase()+S3},lE=(_=16,W=wT.ALPHA_DIGIT)=>{let le="";const{length:be}=W;for(;_--;)le+=W[Math.random()*be|0];return le};function uE(_){return!!(_&&ru(_.append)&&_[Symbol.toStringTag]==="FormData"&&_[Symbol.iterator])}const fE=_=>{const W=new Array(10),le=(be,Be)=>{if(Ag(be)){if(W.indexOf(be)>=0)return;if(!("toJSON"in be)){W[Be]=be;const qe=Jv(be)?[]:{};return gp(be,(G,H)=>{const e=le(G,Be+1);!up(e)&&(qe[H]=e)}),W[Be]=void 0,qe}}return be};return le(_,0)},cE=vf("AsyncFunction"),hE=_=>_&&(Ag(_)||ru(_))&&ru(_.then)&&ru(_.catch),ea={isArray:Jv,isArrayBuffer:pT,isBuffer:_S,isFormData:GS,isArrayBufferView:zS,isString:OS,isNumber:gT,isBoolean:FS,isObject:Ag,isPlainObject:A0,isUndefined:up,isDate:BS,isFile:NS,isBlob:US,isRegExp:nE,isFunction:ru,isStream:VS,isURLSearchParams:WS,isTypedArray:$S,isFileList:HS,forEach:gp,merge:_1,extend:ZS,trim:YS,stripBOM:XS,inherits:jS,toFlatObject:KS,kindOf:wg,kindOfTest:vf,endsWith:JS,toArray:QS,forEachEntry:qS,matchAll:eE,isHTMLForm:tE,hasOwnProperty:M3,hasOwnProp:M3,reduceDescriptors:bT,freezeMethods:aE,toObjectSet:iE,toCamelCase:rE,noop:oE,toFiniteNumber:sE,findKey:yT,global:mT,isContextDefined:xT,ALPHABET:wT,generateString:lE,isSpecCompliantForm:uE,toJSONObject:fE,isAsyncFn:cE,isThenable:hE};function mi(_,W,le,be,Be){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_,this.name="AxiosError",W&&(this.code=W),le&&(this.config=le),be&&(this.request=be),Be&&(this.response=Be)}ea.inherits(mi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ea.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const TT=mi.prototype,AT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_=>{AT[_]={value:_}});Object.defineProperties(mi,AT);Object.defineProperty(TT,"isAxiosError",{value:!0});mi.from=(_,W,le,be,Be,qe)=>{const G=Object.create(TT);return ea.toFlatObject(_,G,function(e){return e!==Error.prototype},H=>H!=="isAxiosError"),mi.call(G,_.message,W,le,be,Be),G.cause=_,G.name=_.name,qe&&Object.assign(G,qe),G};const vE=null;function z1(_){return ea.isPlainObject(_)||ea.isArray(_)}function MT(_){return ea.endsWith(_,"[]")?_.slice(0,-2):_}function E3(_,W,le){return _?_.concat(W).map(function(Be,qe){return Be=MT(Be),!le&&qe?"["+Be+"]":Be}).join(le?".":""):W}function dE(_){return ea.isArray(_)&&!_.some(z1)}const pE=ea.toFlatObject(ea,{},null,function(W){return/^is[A-Z]/.test(W)});function Mg(_,W,le){if(!ea.isObject(_))throw new TypeError("target must be an object");W=W||new FormData,le=ea.toFlatObject(le,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,r){return!ea.isUndefined(r[p])});const be=le.metaTokens,Be=le.visitor||P,qe=le.dots,G=le.indexes,e=(le.Blob||typeof Blob<"u"&&Blob)&&ea.isSpecCompliantForm(W);if(!ea.isFunction(Be))throw new TypeError("visitor must be a function");function y(v){if(v===null)return"";if(ea.isDate(v))return v.toISOString();if(!e&&ea.isBlob(v))throw new mi("Blob is not supported. Use a Buffer instead.");return ea.isArrayBuffer(v)||ea.isTypedArray(v)?e&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function P(v,p,r){let t=v;if(v&&!r&&typeof v=="object"){if(ea.endsWith(p,"{}"))p=be?p:p.slice(0,-2),v=JSON.stringify(v);else if(ea.isArray(v)&&dE(v)||(ea.isFileList(v)||ea.endsWith(p,"[]"))&&(t=ea.toArray(v)))return p=MT(p),t.forEach(function(n,c){!(ea.isUndefined(n)||n===null)&&W.append(G===!0?E3([p],c,qe):G===null?p:p+"[]",y(n))}),!1}return z1(v)?!0:(W.append(E3(r,p,qe),y(v)),!1)}const a=[],L=Object.assign(pE,{defaultVisitor:P,convertValue:y,isVisitable:z1});function M(v,p){if(!ea.isUndefined(v)){if(a.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));a.push(v),ea.forEach(v,function(t,o){(!(ea.isUndefined(t)||t===null)&&Be.call(W,t,ea.isString(o)?o.trim():o,p,L))===!0&&M(t,p?p.concat(o):[o])}),a.pop()}}if(!ea.isObject(_))throw new TypeError("data must be an object");return M(_),W}function C3(_){const W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_).replace(/[!'()~]|%20|%00/g,function(be){return W[be]})}function Hm(_,W){this._pairs=[],_&&Mg(_,this,W)}const ST=Hm.prototype;ST.append=function(W,le){this._pairs.push([W,le])};ST.toString=function(W){const le=W?function(be){return W.call(this,be,C3)}:C3;return this._pairs.map(function(Be){return le(Be[0])+"="+le(Be[1])},"").join("&")};function gE(_){return encodeURIComponent(_).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ET(_,W,le){if(!W)return _;const be=le&&le.encode||gE,Be=le&&le.serialize;let qe;if(Be?qe=Be(W,le):qe=ea.isURLSearchParams(W)?W.toString():new Hm(W,le).toString(be),qe){const G=_.indexOf("#");G!==-1&&(_=_.slice(0,G)),_+=(_.indexOf("?")===-1?"?":"&")+qe}return _}class L3{constructor(){this.handlers=[]}use(W,le,be){return this.handlers.push({fulfilled:W,rejected:le,synchronous:be?be.synchronous:!1,runWhen:be?be.runWhen:null}),this.handlers.length-1}eject(W){this.handlers[W]&&(this.handlers[W]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(W){ea.forEach(this.handlers,function(be){be!==null&&W(be)})}}const CT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yE=typeof URLSearchParams<"u"?URLSearchParams:Hm,mE=typeof FormData<"u"?FormData:null,xE=typeof Blob<"u"?Blob:null,bE={isBrowser:!0,classes:{URLSearchParams:yE,FormData:mE,Blob:xE},protocols:["http","https","file","blob","url","data"]},LT=typeof window<"u"&&typeof document<"u",wE=(_=>LT&&["ReactNative","NativeScript","NS"].indexOf(_)<0)(typeof navigator<"u"&&navigator.product),TE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:LT,hasStandardBrowserEnv:wE,hasStandardBrowserWebWorkerEnv:TE},Symbol.toStringTag,{value:"Module"})),ff={...AE,...bE};function ME(_,W){return Mg(_,new ff.classes.URLSearchParams,Object.assign({visitor:function(le,be,Be,qe){return ff.isNode&&ea.isBuffer(le)?(this.append(be,le.toString("base64")),!1):qe.defaultVisitor.apply(this,arguments)}},W))}function SE(_){return ea.matchAll(/\w+|\[(\w*)]/g,_).map(W=>W[0]==="[]"?"":W[1]||W[0])}function EE(_){const W={},le=Object.keys(_);let be;const Be=le.length;let qe;for(be=0;be<Be;be++)qe=le[be],W[qe]=_[qe];return W}function PT(_){function W(le,be,Be,qe){let G=le[qe++];if(G==="__proto__")return!0;const H=Number.isFinite(+G),e=qe>=le.length;return G=!G&&ea.isArray(Be)?Be.length:G,e?(ea.hasOwnProp(Be,G)?Be[G]=[Be[G],be]:Be[G]=be,!H):((!Be[G]||!ea.isObject(Be[G]))&&(Be[G]=[]),W(le,be,Be[G],qe)&&ea.isArray(Be[G])&&(Be[G]=EE(Be[G])),!H)}if(ea.isFormData(_)&&ea.isFunction(_.entries)){const le={};return ea.forEachEntry(_,(be,Be)=>{W(SE(be),Be,le,0)}),le}return null}function CE(_,W,le){if(ea.isString(_))try{return(W||JSON.parse)(_),ea.trim(_)}catch(be){if(be.name!=="SyntaxError")throw be}return(le||JSON.stringify)(_)}const Vm={transitional:CT,adapter:["xhr","http"],transformRequest:[function(W,le){const be=le.getContentType()||"",Be=be.indexOf("application/json")>-1,qe=ea.isObject(W);if(qe&&ea.isHTMLForm(W)&&(W=new FormData(W)),ea.isFormData(W))return Be&&Be?JSON.stringify(PT(W)):W;if(ea.isArrayBuffer(W)||ea.isBuffer(W)||ea.isStream(W)||ea.isFile(W)||ea.isBlob(W))return W;if(ea.isArrayBufferView(W))return W.buffer;if(ea.isURLSearchParams(W))return le.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),W.toString();let H;if(qe){if(be.indexOf("application/x-www-form-urlencoded")>-1)return ME(W,this.formSerializer).toString();if((H=ea.isFileList(W))||be.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Mg(H?{"files[]":W}:W,e&&new e,this.formSerializer)}}return qe||Be?(le.setContentType("application/json",!1),CE(W)):W}],transformResponse:[function(W){const le=this.transitional||Vm.transitional,be=le&&le.forcedJSONParsing,Be=this.responseType==="json";if(W&&ea.isString(W)&&(be&&!this.responseType||Be)){const G=!(le&&le.silentJSONParsing)&&Be;try{return JSON.parse(W)}catch(H){if(G)throw H.name==="SyntaxError"?mi.from(H,mi.ERR_BAD_RESPONSE,this,null,this.response):H}}return W}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ff.classes.FormData,Blob:ff.classes.Blob},validateStatus:function(W){return W>=200&&W<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ea.forEach(["delete","get","head","post","put","patch"],_=>{Vm.headers[_]={}});const Gm=Vm,LE=ea.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PE=_=>{const W={};let le,be,Be;return _&&_.split(`
`).forEach(function(G){Be=G.indexOf(":"),le=G.substring(0,Be).trim().toLowerCase(),be=G.substring(Be+1).trim(),!(!le||W[le]&&LE[le])&&(le==="set-cookie"?W[le]?W[le].push(be):W[le]=[be]:W[le]=W[le]?W[le]+", "+be:be)}),W},P3=Symbol("internals");function Cd(_){return _&&String(_).trim().toLowerCase()}function M0(_){return _===!1||_==null?_:ea.isArray(_)?_.map(M0):String(_)}function RE(_){const W=Object.create(null),le=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let be;for(;be=le.exec(_);)W[be[1]]=be[2];return W}const DE=_=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_.trim());function Iy(_,W,le,be,Be){if(ea.isFunction(be))return be.call(this,W,le);if(Be&&(W=le),!!ea.isString(W)){if(ea.isString(be))return W.indexOf(be)!==-1;if(ea.isRegExp(be))return be.test(W)}}function IE(_){return _.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(W,le,be)=>le.toUpperCase()+be)}function kE(_,W){const le=ea.toCamelCase(" "+W);["get","set","has"].forEach(be=>{Object.defineProperty(_,be+le,{value:function(Be,qe,G){return this[be].call(this,W,Be,qe,G)},configurable:!0})})}class Sg{constructor(W){W&&this.set(W)}set(W,le,be){const Be=this;function qe(H,e,y){const P=Cd(e);if(!P)throw new Error("header name must be a non-empty string");const a=ea.findKey(Be,P);(!a||Be[a]===void 0||y===!0||y===void 0&&Be[a]!==!1)&&(Be[a||e]=M0(H))}const G=(H,e)=>ea.forEach(H,(y,P)=>qe(y,P,e));return ea.isPlainObject(W)||W instanceof this.constructor?G(W,le):ea.isString(W)&&(W=W.trim())&&!DE(W)?G(PE(W),le):W!=null&&qe(le,W,be),this}get(W,le){if(W=Cd(W),W){const be=ea.findKey(this,W);if(be){const Be=this[be];if(!le)return Be;if(le===!0)return RE(Be);if(ea.isFunction(le))return le.call(this,Be,be);if(ea.isRegExp(le))return le.exec(Be);throw new TypeError("parser must be boolean|regexp|function")}}}has(W,le){if(W=Cd(W),W){const be=ea.findKey(this,W);return!!(be&&this[be]!==void 0&&(!le||Iy(this,this[be],be,le)))}return!1}delete(W,le){const be=this;let Be=!1;function qe(G){if(G=Cd(G),G){const H=ea.findKey(be,G);H&&(!le||Iy(be,be[H],H,le))&&(delete be[H],Be=!0)}}return ea.isArray(W)?W.forEach(qe):qe(W),Be}clear(W){const le=Object.keys(this);let be=le.length,Be=!1;for(;be--;){const qe=le[be];(!W||Iy(this,this[qe],qe,W,!0))&&(delete this[qe],Be=!0)}return Be}normalize(W){const le=this,be={};return ea.forEach(this,(Be,qe)=>{const G=ea.findKey(be,qe);if(G){le[G]=M0(Be),delete le[qe];return}const H=W?IE(qe):String(qe).trim();H!==qe&&delete le[qe],le[H]=M0(Be),be[H]=!0}),this}concat(...W){return this.constructor.concat(this,...W)}toJSON(W){const le=Object.create(null);return ea.forEach(this,(be,Be)=>{be!=null&&be!==!1&&(le[Be]=W&&ea.isArray(be)?be.join(", "):be)}),le}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([W,le])=>W+": "+le).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(W){return W instanceof this?W:new this(W)}static concat(W,...le){const be=new this(W);return le.forEach(Be=>be.set(Be)),be}static accessor(W){const be=(this[P3]=this[P3]={accessors:{}}).accessors,Be=this.prototype;function qe(G){const H=Cd(G);be[H]||(kE(Be,G),be[H]=!0)}return ea.isArray(W)?W.forEach(qe):qe(W),this}}Sg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ea.reduceDescriptors(Sg.prototype,({value:_},W)=>{let le=W[0].toUpperCase()+W.slice(1);return{get:()=>_,set(be){this[le]=be}}});ea.freezeMethods(Sg);const Yf=Sg;function ky(_,W){const le=this||Gm,be=W||le,Be=Yf.from(be.headers);let qe=be.data;return ea.forEach(_,function(H){qe=H.call(le,qe,Be.normalize(),W?W.status:void 0)}),Be.normalize(),qe}function RT(_){return!!(_&&_.__CANCEL__)}function yp(_,W,le){mi.call(this,_??"canceled",mi.ERR_CANCELED,W,le),this.name="CanceledError"}ea.inherits(yp,mi,{__CANCEL__:!0});function _E(_,W,le){const be=le.config.validateStatus;!le.status||!be||be(le.status)?_(le):W(new mi("Request failed with status code "+le.status,[mi.ERR_BAD_REQUEST,mi.ERR_BAD_RESPONSE][Math.floor(le.status/100)-4],le.config,le.request,le))}const zE=ff.hasStandardBrowserEnv?{write(_,W,le,be,Be,qe){const G=[_+"="+encodeURIComponent(W)];ea.isNumber(le)&&G.push("expires="+new Date(le).toGMTString()),ea.isString(be)&&G.push("path="+be),ea.isString(Be)&&G.push("domain="+Be),qe===!0&&G.push("secure"),document.cookie=G.join("; ")},read(_){const W=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return W?decodeURIComponent(W[3]):null},remove(_){this.write(_,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OE(_){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_)}function FE(_,W){return W?_.replace(/\/?\/$/,"")+"/"+W.replace(/^\/+/,""):_}function DT(_,W){return _&&!OE(W)?FE(_,W):W}const BE=ff.hasStandardBrowserEnv?function(){const W=/(msie|trident)/i.test(navigator.userAgent),le=document.createElement("a");let be;function Be(qe){let G=qe;return W&&(le.setAttribute("href",G),G=le.href),le.setAttribute("href",G),{href:le.href,protocol:le.protocol?le.protocol.replace(/:$/,""):"",host:le.host,search:le.search?le.search.replace(/^\?/,""):"",hash:le.hash?le.hash.replace(/^#/,""):"",hostname:le.hostname,port:le.port,pathname:le.pathname.charAt(0)==="/"?le.pathname:"/"+le.pathname}}return be=Be(window.location.href),function(G){const H=ea.isString(G)?Be(G):G;return H.protocol===be.protocol&&H.host===be.host}}():function(){return function(){return!0}}();function NE(_){const W=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_);return W&&W[1]||""}function UE(_,W){_=_||10;const le=new Array(_),be=new Array(_);let Be=0,qe=0,G;return W=W!==void 0?W:1e3,function(e){const y=Date.now(),P=be[qe];G||(G=y),le[Be]=e,be[Be]=y;let a=qe,L=0;for(;a!==Be;)L+=le[a++],a=a%_;if(Be=(Be+1)%_,Be===qe&&(qe=(qe+1)%_),y-G<W)return;const M=P&&y-P;return M?Math.round(L*1e3/M):void 0}}function R3(_,W){let le=0;const be=UE(50,250);return Be=>{const qe=Be.loaded,G=Be.lengthComputable?Be.total:void 0,H=qe-le,e=be(H),y=qe<=G;le=qe;const P={loaded:qe,total:G,progress:G?qe/G:void 0,bytes:H,rate:e||void 0,estimated:e&&G&&y?(G-qe)/e:void 0,event:Be};P[W?"download":"upload"]=!0,_(P)}}const HE=typeof XMLHttpRequest<"u",VE=HE&&function(_){return new Promise(function(le,be){let Be=_.data;const qe=Yf.from(_.headers).normalize();let{responseType:G,withXSRFToken:H}=_,e;function y(){_.cancelToken&&_.cancelToken.unsubscribe(e),_.signal&&_.signal.removeEventListener("abort",e)}let P;if(ea.isFormData(Be)){if(ff.hasStandardBrowserEnv||ff.hasStandardBrowserWebWorkerEnv)qe.setContentType(!1);else if((P=qe.getContentType())!==!1){const[p,...r]=P?P.split(";").map(t=>t.trim()).filter(Boolean):[];qe.setContentType([p||"multipart/form-data",...r].join("; "))}}let a=new XMLHttpRequest;if(_.auth){const p=_.auth.username||"",r=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";qe.set("Authorization","Basic "+btoa(p+":"+r))}const L=DT(_.baseURL,_.url);a.open(_.method.toUpperCase(),ET(L,_.params,_.paramsSerializer),!0),a.timeout=_.timeout;function M(){if(!a)return;const p=Yf.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),t={data:!G||G==="text"||G==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:p,config:_,request:a};_E(function(n){le(n),y()},function(n){be(n),y()},t),a=null}if("onloadend"in a?a.onloadend=M:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(M)},a.onabort=function(){a&&(be(new mi("Request aborted",mi.ECONNABORTED,_,a)),a=null)},a.onerror=function(){be(new mi("Network Error",mi.ERR_NETWORK,_,a)),a=null},a.ontimeout=function(){let r=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded";const t=_.transitional||CT;_.timeoutErrorMessage&&(r=_.timeoutErrorMessage),be(new mi(r,t.clarifyTimeoutError?mi.ETIMEDOUT:mi.ECONNABORTED,_,a)),a=null},ff.hasStandardBrowserEnv&&(H&&ea.isFunction(H)&&(H=H(_)),H||H!==!1&&BE(L))){const p=_.xsrfHeaderName&&_.xsrfCookieName&&zE.read(_.xsrfCookieName);p&&qe.set(_.xsrfHeaderName,p)}Be===void 0&&qe.setContentType(null),"setRequestHeader"in a&&ea.forEach(qe.toJSON(),function(r,t){a.setRequestHeader(t,r)}),ea.isUndefined(_.withCredentials)||(a.withCredentials=!!_.withCredentials),G&&G!=="json"&&(a.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&a.addEventListener("progress",R3(_.onDownloadProgress,!0)),typeof _.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",R3(_.onUploadProgress)),(_.cancelToken||_.signal)&&(e=p=>{a&&(be(!p||p.type?new yp(null,_,a):p),a.abort(),a=null)},_.cancelToken&&_.cancelToken.subscribe(e),_.signal&&(_.signal.aborted?e():_.signal.addEventListener("abort",e)));const v=NE(L);if(v&&ff.protocols.indexOf(v)===-1){be(new mi("Unsupported protocol "+v+":",mi.ERR_BAD_REQUEST,_));return}a.send(Be||null)})},O1={http:vE,xhr:VE};ea.forEach(O1,(_,W)=>{if(_){try{Object.defineProperty(_,"name",{value:W})}catch{}Object.defineProperty(_,"adapterName",{value:W})}});const D3=_=>`- ${_}`,GE=_=>ea.isFunction(_)||_===null||_===!1,IT={getAdapter:_=>{_=ea.isArray(_)?_:[_];const{length:W}=_;let le,be;const Be={};for(let qe=0;qe<W;qe++){le=_[qe];let G;if(be=le,!GE(le)&&(be=O1[(G=String(le)).toLowerCase()],be===void 0))throw new mi(`Unknown adapter '${G}'`);if(be)break;Be[G||"#"+qe]=be}if(!be){const qe=Object.entries(Be).map(([H,e])=>`adapter ${H} `+(e===!1?"is not supported by the environment":"is not available in the build"));let G=W?qe.length>1?`since :
`+qe.map(D3).join(`
`):" "+D3(qe[0]):"as no adapter specified";throw new mi("There is no suitable adapter to dispatch the request "+G,"ERR_NOT_SUPPORT")}return be},adapters:O1};function _y(_){if(_.cancelToken&&_.cancelToken.throwIfRequested(),_.signal&&_.signal.aborted)throw new yp(null,_)}function I3(_){return _y(_),_.headers=Yf.from(_.headers),_.data=ky.call(_,_.transformRequest),["post","put","patch"].indexOf(_.method)!==-1&&_.headers.setContentType("application/x-www-form-urlencoded",!1),IT.getAdapter(_.adapter||Gm.adapter)(_).then(function(be){return _y(_),be.data=ky.call(_,_.transformResponse,be),be.headers=Yf.from(be.headers),be},function(be){return RT(be)||(_y(_),be&&be.response&&(be.response.data=ky.call(_,_.transformResponse,be.response),be.response.headers=Yf.from(be.response.headers))),Promise.reject(be)})}const k3=_=>_ instanceof Yf?_.toJSON():_;function Zv(_,W){W=W||{};const le={};function be(y,P,a){return ea.isPlainObject(y)&&ea.isPlainObject(P)?ea.merge.call({caseless:a},y,P):ea.isPlainObject(P)?ea.merge({},P):ea.isArray(P)?P.slice():P}function Be(y,P,a){if(ea.isUndefined(P)){if(!ea.isUndefined(y))return be(void 0,y,a)}else return be(y,P,a)}function qe(y,P){if(!ea.isUndefined(P))return be(void 0,P)}function G(y,P){if(ea.isUndefined(P)){if(!ea.isUndefined(y))return be(void 0,y)}else return be(void 0,P)}function H(y,P,a){if(a in W)return be(y,P);if(a in _)return be(void 0,y)}const e={url:qe,method:qe,data:qe,baseURL:G,transformRequest:G,transformResponse:G,paramsSerializer:G,timeout:G,timeoutMessage:G,withCredentials:G,withXSRFToken:G,adapter:G,responseType:G,xsrfCookieName:G,xsrfHeaderName:G,onUploadProgress:G,onDownloadProgress:G,decompress:G,maxContentLength:G,maxBodyLength:G,beforeRedirect:G,transport:G,httpAgent:G,httpsAgent:G,cancelToken:G,socketPath:G,responseEncoding:G,validateStatus:H,headers:(y,P)=>Be(k3(y),k3(P),!0)};return ea.forEach(Object.keys(Object.assign({},_,W)),function(P){const a=e[P]||Be,L=a(_[P],W[P],P);ea.isUndefined(L)&&a!==H||(le[P]=L)}),le}const kT="1.6.5",Wm={};["object","boolean","number","function","string","symbol"].forEach((_,W)=>{Wm[_]=function(be){return typeof be===_||"a"+(W<1?"n ":" ")+_}});const _3={};Wm.transitional=function(W,le,be){function Be(qe,G){return"[Axios v"+kT+"] Transitional option '"+qe+"'"+G+(be?". "+be:"")}return(qe,G,H)=>{if(W===!1)throw new mi(Be(G," has been removed"+(le?" in "+le:"")),mi.ERR_DEPRECATED);return le&&!_3[G]&&(_3[G]=!0,console.warn(Be(G," has been deprecated since v"+le+" and will be removed in the near future"))),W?W(qe,G,H):!0}};function WE(_,W,le){if(typeof _!="object")throw new mi("options must be an object",mi.ERR_BAD_OPTION_VALUE);const be=Object.keys(_);let Be=be.length;for(;Be-- >0;){const qe=be[Be],G=W[qe];if(G){const H=_[qe],e=H===void 0||G(H,qe,_);if(e!==!0)throw new mi("option "+qe+" must be "+e,mi.ERR_BAD_OPTION_VALUE);continue}if(le!==!0)throw new mi("Unknown option "+qe,mi.ERR_BAD_OPTION)}}const F1={assertOptions:WE,validators:Wm},Oc=F1.validators;class eg{constructor(W){this.defaults=W,this.interceptors={request:new L3,response:new L3}}request(W,le){typeof W=="string"?(le=le||{},le.url=W):le=W||{},le=Zv(this.defaults,le);const{transitional:be,paramsSerializer:Be,headers:qe}=le;be!==void 0&&F1.assertOptions(be,{silentJSONParsing:Oc.transitional(Oc.boolean),forcedJSONParsing:Oc.transitional(Oc.boolean),clarifyTimeoutError:Oc.transitional(Oc.boolean)},!1),Be!=null&&(ea.isFunction(Be)?le.paramsSerializer={serialize:Be}:F1.assertOptions(Be,{encode:Oc.function,serialize:Oc.function},!0)),le.method=(le.method||this.defaults.method||"get").toLowerCase();let G=qe&&ea.merge(qe.common,qe[le.method]);qe&&ea.forEach(["delete","get","head","post","put","patch","common"],v=>{delete qe[v]}),le.headers=Yf.concat(G,qe);const H=[];let e=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(le)===!1||(e=e&&p.synchronous,H.unshift(p.fulfilled,p.rejected))});const y=[];this.interceptors.response.forEach(function(p){y.push(p.fulfilled,p.rejected)});let P,a=0,L;if(!e){const v=[I3.bind(this),void 0];for(v.unshift.apply(v,H),v.push.apply(v,y),L=v.length,P=Promise.resolve(le);a<L;)P=P.then(v[a++],v[a++]);return P}L=H.length;let M=le;for(a=0;a<L;){const v=H[a++],p=H[a++];try{M=v(M)}catch(r){p.call(this,r);break}}try{P=I3.call(this,M)}catch(v){return Promise.reject(v)}for(a=0,L=y.length;a<L;)P=P.then(y[a++],y[a++]);return P}getUri(W){W=Zv(this.defaults,W);const le=DT(W.baseURL,W.url);return ET(le,W.params,W.paramsSerializer)}}ea.forEach(["delete","get","head","options"],function(W){eg.prototype[W]=function(le,be){return this.request(Zv(be||{},{method:W,url:le,data:(be||{}).data}))}});ea.forEach(["post","put","patch"],function(W){function le(be){return function(qe,G,H){return this.request(Zv(H||{},{method:W,headers:be?{"Content-Type":"multipart/form-data"}:{},url:qe,data:G}))}}eg.prototype[W]=le(),eg.prototype[W+"Form"]=le(!0)});const S0=eg;class Ym{constructor(W){if(typeof W!="function")throw new TypeError("executor must be a function.");let le;this.promise=new Promise(function(qe){le=qe});const be=this;this.promise.then(Be=>{if(!be._listeners)return;let qe=be._listeners.length;for(;qe-- >0;)be._listeners[qe](Be);be._listeners=null}),this.promise.then=Be=>{let qe;const G=new Promise(H=>{be.subscribe(H),qe=H}).then(Be);return G.cancel=function(){be.unsubscribe(qe)},G},W(function(qe,G,H){be.reason||(be.reason=new yp(qe,G,H),le(be.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(W){if(this.reason){W(this.reason);return}this._listeners?this._listeners.push(W):this._listeners=[W]}unsubscribe(W){if(!this._listeners)return;const le=this._listeners.indexOf(W);le!==-1&&this._listeners.splice(le,1)}static source(){let W;return{token:new Ym(function(Be){W=Be}),cancel:W}}}const YE=Ym;function ZE(_){return function(le){return _.apply(null,le)}}function XE(_){return ea.isObject(_)&&_.isAxiosError===!0}const B1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B1).forEach(([_,W])=>{B1[W]=_});const jE=B1;function _T(_){const W=new S0(_),le=dT(S0.prototype.request,W);return ea.extend(le,S0.prototype,W,{allOwnKeys:!0}),ea.extend(le,W,null,{allOwnKeys:!0}),le.create=function(Be){return _T(Zv(_,Be))},le}const Eo=_T(Gm);Eo.Axios=S0;Eo.CanceledError=yp;Eo.CancelToken=YE;Eo.isCancel=RT;Eo.VERSION=kT;Eo.toFormData=Mg;Eo.AxiosError=mi;Eo.Cancel=Eo.CanceledError;Eo.all=function(W){return Promise.all(W)};Eo.spread=ZE;Eo.isAxiosError=XE;Eo.mergeConfig=Zv;Eo.AxiosHeaders=Yf;Eo.formToJSON=_=>PT(ea.isHTMLForm(_)?new FormData(_):_);Eo.getAdapter=IT.getAdapter;Eo.HttpStatusCode=jE;Eo.default=Eo;const KE=(_="",W="1D")=>le=>{Eo.get(`http://localhost:8000/api/get?ticker=${_}&time_frame=${W}`).then(be=>{le(zT({data:be.data,timeFrame:W}))}).catch(be=>{console.error("Error:",be)})},zT=_=>({type:"SET_DATA",payload:_}),JE=(_,W)=>le=>{Eo.get(`http://localhost:8000/api/get?ticker=${_}&time_frame=${W}`).then(be=>{le(zT({data:be.data,timeFrame:W}))}).catch(be=>{console.error("Error:",be)})},OT=xS({reducer:{data:IS},middleware:_=>_().concat()});OT.dispatch(KE());const QE={theme:"corporate"},$E={name:"Jamal N.C Morris",eMail:"jamalncmorris@gmail.com",socialGithub:"https://github.com/jamalncmorris"},qE={title:"Distribution of Stock Returns",text:`
            I am.
        `},FT={meta:QE,contact:$E,marketing:qE};var BT={},NT={},UT={exports:{}},e7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t7=e7,r7=t7;function HT(){}function VT(){}VT.resetWarningCache=HT;var n7=function(){function _(be,Be,qe,G,H,e){if(e!==r7){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}_.isRequired=_;function W(){return _}var le={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:W,element:_,elementType:_,instanceOf:W,node:_,objectOf:W,oneOf:W,oneOfType:W,shape:W,exact:W,checkPropTypes:VT,resetWarningCache:HT};return le.PropTypes=le,le};UT.exports=n7();var a7=UT.exports;(function(_){function W(u){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},W(u)}Object.defineProperty(_,"__esModule",{value:!0}),_.default=c;var le=G(Ms),be=Be(a7);function Be(u){return u&&u.__esModule?u:{default:u}}function qe(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,g=new WeakMap;return(qe=function(T){return T?g:l})(u)}function G(u,l){if(!l&&u&&u.__esModule)return u;if(u===null||W(u)!=="object"&&typeof u!="function")return{default:u};var g=qe(l);if(g&&g.has(u))return g.get(u);var f={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in u)if(h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)){var s=T?Object.getOwnPropertyDescriptor(u,h):null;s&&(s.get||s.set)?Object.defineProperty(f,h,s):f[h]=u[h]}return f.default=u,g&&g.set(u,f),f}function H(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function e(u,l){for(var g=0;g<l.length;g++){var f=l[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function y(u,l,g){return l&&e(u.prototype,l),g&&e(u,g),Object.defineProperty(u,"prototype",{writable:!1}),u}function P(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&a(u,l)}function a(u,l){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,T){return f.__proto__=T,f},a(u,l)}function L(u){var l=p();return function(){var f=r(u),T;if(l){var h=r(this).constructor;T=Reflect.construct(f,arguments,h)}else T=f.apply(this,arguments);return M(this,T)}}function M(u,l){if(l&&(W(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],o=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function c(u){var l=function(g){P(T,g);var f=L(T);function T(h){var s;return H(this,T),s=f.call(this,h),s.p=Promise.resolve(),s.resizeHandler=null,s.handlers={},s.syncWindowResize=s.syncWindowResize.bind(v(s)),s.syncEventHandlers=s.syncEventHandlers.bind(v(s)),s.attachUpdateEvents=s.attachUpdateEvents.bind(v(s)),s.getRef=s.getRef.bind(v(s)),s.handleUpdate=s.handleUpdate.bind(v(s)),s.figureCallback=s.figureCallback.bind(v(s)),s.updatePlotly=s.updatePlotly.bind(v(s)),s}return y(T,[{key:"updatePlotly",value:function(s,d,A){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return u.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(s),w.syncEventHandlers(),w.figureCallback(d),A&&w.attachUpdateEvents())}).catch(function(C){w.props.onError&&w.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(s){this.unmounting=!1;var d=s.frames&&s.frames.length?s.frames.length:0,A=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(s.layout===this.props.layout&&s.data===this.props.data&&s.config===this.props.config&&A===d),C=s.revision!==void 0,b=s.revision!==this.props.revision;!w&&(!C||C&&!b)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var s=this;!this.el||!this.el.removeListener||o.forEach(function(d){s.el.on(d,s.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var s=this;!this.el||!this.el.removeListener||o.forEach(function(d){s.el.removeListener(d,s.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(s){if(typeof s=="function"){var d=this.el,A=d.data,w=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,b={data:A,layout:w,frames:C};s(b,this.el)}}},{key:"syncWindowResize",value:function(s){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),s&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(s){this.el=s,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var s=this;t.forEach(function(d){var A=s.props["on"+d],w=s.handlers[d],C=!!w;A&&!C?s.addEventHandler(d,A):!A&&C?s.removeEventHandler(d):A&&C&&A!==w&&(s.removeEventHandler(d),s.addEventHandler(d,A))})}},{key:"addEventHandler",value:function(s,d){this.handlers[s]=d,this.el.on(this.getPlotlyEventName(s),this.handlers[s])}},{key:"removeEventHandler",value:function(s){this.el.removeListener(this.getPlotlyEventName(s),this.handlers[s]),delete this.handlers[s]}},{key:"getPlotlyEventName",value:function(s){return"plotly_"+s.toLowerCase()}},{key:"render",value:function(){return le.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(le.Component);return l.propTypes={data:be.default.arrayOf(be.default.object),config:be.default.object,layout:be.default.object,frames:be.default.arrayOf(be.default.object),revision:be.default.number,onInitialized:be.default.func,onPurge:be.default.func,onError:be.default.func,onUpdate:be.default.func,debug:be.default.bool,style:be.default.object,className:be.default.string,useResizeHandler:be.default.bool,divId:be.default.string},t.forEach(function(g){l.propTypes["on"+g]=be.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(NT);var GT={exports:{}};(function(_,W){(function(be,Be){_.exports=Be()})(self,function(){return function(){var le={98847:function(G,H,e){var y=e(71828),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in P){var L=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");y.addStyleRule(L,P[a])}},98222:function(G,H,e){G.exports=e(82887)},27206:function(G,H,e){G.exports=e(60822)},59893:function(G,H,e){G.exports=e(23381)},5224:function(G,H,e){G.exports=e(83832)},59509:function(G,H,e){G.exports=e(72201)},75557:function(G,H,e){G.exports=e(91815)},40338:function(G,H,e){G.exports=e(21462)},35080:function(G,H,e){G.exports=e(51319)},61396:function(G,H,e){G.exports=e(57516)},40549:function(G,H,e){G.exports=e(98128)},49866:function(G,H,e){G.exports=e(99442)},36089:function(G,H,e){G.exports=e(93740)},19548:function(G,H,e){G.exports=e(8729)},35831:function(G,H,e){G.exports=e(93814)},61039:function(G,H,e){G.exports=e(14382)},97040:function(G,H,e){G.exports=e(51759)},77986:function(G,H,e){G.exports=e(10421)},24296:function(G,H,e){G.exports=e(43102)},58872:function(G,H,e){G.exports=e(92165)},29626:function(G,H,e){G.exports=e(3325)},65591:function(G,H,e){G.exports=e(36071)},69738:function(G,H,e){G.exports=e(43905)},92650:function(G,H,e){G.exports=e(35902)},35630:function(G,H,e){G.exports=e(69816)},73434:function(G,H,e){G.exports=e(94507)},27909:function(G,H,e){var y=e(19548);y.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),G.exports=y},46163:function(G,H,e){G.exports=e(15154)},96881:function(G,H,e){G.exports=e(64943)},50581:function(G,H,e){G.exports=e(21164)},55334:function(G,H,e){G.exports=e(54186)},65317:function(G,H,e){G.exports=e(94873)},10021:function(G,H,e){G.exports=e(67618)},54201:function(G,H,e){G.exports=e(58810)},5861:function(G,H,e){G.exports=e(20593)},16122:function(G,H,e){G.exports=e(29396)},83043:function(G,H,e){G.exports=e(13551)},48131:function(G,H,e){G.exports=e(46858)},47582:function(G,H,e){G.exports=e(17988)},21641:function(G,H,e){G.exports=e(68868)},96268:function(G,H,e){G.exports=e(20467)},19440:function(G,H,e){G.exports=e(91271)},99488:function(G,H,e){G.exports=e(21461)},97393:function(G,H,e){G.exports=e(85956)},25743:function(G,H,e){G.exports=e(52979)},66398:function(G,H,e){G.exports=e(32275)},17280:function(G,H,e){G.exports=e(6419)},77900:function(G,H,e){G.exports=e(61510)},81299:function(G,H,e){G.exports=e(87619)},93005:function(G,H,e){G.exports=e(93601)},40344:function(G,H,e){G.exports=e(96595)},47645:function(G,H,e){G.exports=e(70954)},6197:function(G,H,e){G.exports=e(47462)},4534:function(G,H,e){G.exports=e(17659)},85461:function(G,H,e){G.exports=e(19990)},82884:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(G,H,e){var y=e(82884),P=e(41940),a=e(85555),L=e(44467).templatedArray;e(24695),G.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(G,H,e){var y=e(71828),P=e(89298),a=e(92605).draw;G.exports=function(p){var r=p._fullLayout,t=y.filterVisible(r.annotations);if(t.length&&p._fullData.length)return y.syncOrAsync([a,L],p)};function L(v){var p=v._fullLayout;y.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),o=P.getFromId(v,r.yref),n=P.getRefType(r.xref),c=P.getRefType(r.yref);r._extremes={},n==="range"&&M(r,t),c==="range"&&M(r,o)})}function M(v,p){var r=p._id,t=r.charAt(0),o=v[t],n=v["a"+t],c=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],g=v["_"+t+"padminus"],f={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,h=T+f,s=T-f,d=3*v.startarrowsize*v.arrowwidth||0,A=d+f,w=d-f,C;if(u===c){var b=P.findExtremes(p,[p.r2c(o)],{ppadplus:h,ppadminus:s}),S=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,A),ppadminus:Math.max(g,w)});C={min:[b.min[0],S.min[0]],max:[b.max[0],S.max[0]]}}else A=n?A+n:A,w=n?w-n:w,C=P.findExtremes(p,[p.r2c(o)],{ppadplus:Math.max(l,h,A),ppadminus:Math.max(g,s,w)});v._extremes[r]=C}},44317:function(G,H,e){var y=e(71828),P=e(73972),a=e(44467).arrayEditor;G.exports={hasClickToShow:L,onClick:M};function L(r,t){var o=v(r,t);return o.on.length>0||o.explicitOff.length>0}function M(r,t){var o=v(r,t),n=o.on,c=o.off.concat(o.explicitOff),u={},l=r._fullLayout.annotations,g,f;if(n.length||c.length){for(g=0;g<n.length;g++)f=a(r.layout,"annotations",l[n[g]]),f.modifyItem("visible",!0),y.extendFlat(u,f.getUpdateObj());for(g=0;g<c.length;g++)f=a(r.layout,"annotations",l[c[g]]),f.modifyItem("visible",!1),y.extendFlat(u,f.getUpdateObj());return P.call("update",r,{},u)}}function v(r,t){var o=r._fullLayout.annotations,n=[],c=[],u=[],l=(t||[]).length,g,f,T,h,s,d,A,w;for(g=0;g<o.length;g++)if(T=o[g],h=T.clicktoshow,h){for(f=0;f<l;f++)if(s=t[f],d=s.xaxis,A=s.yaxis,d._id===T.xref&&A._id===T.yref&&d.d2r(s.x)===p(T._xclick,d)&&A.d2r(s.y)===p(T._yclick,A)){T.visible?h==="onout"?w=c:w=u:w=n,w.push(g);break}f===l&&T.visible&&h==="onout"&&c.push(g)}return{on:n,off:c,explicitOff:u}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},25625:function(G,H,e){var y=e(71828),P=e(7901);G.exports=function(L,M,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),o=P.opacity(t);p("borderpad");var n=p("borderwidth"),c=p("showarrow");p("text",c?" ":v._dfltTitle.annotation),p("textangle"),y.coerceFont(p,"font",v.font),p("width"),p("align");var u=p("height");if(u&&p("valign"),c){var l=p("arrowside"),g,f;l.indexOf("end")!==-1&&(g=p("arrowhead"),f=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",g),p("startarrowsize",f)),p("arrowcolor",o?M.bordercolor:P.defaultLine),p("arrowwidth",(o&&n||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),h=v.hoverlabel||{};if(T){var s=p("hoverlabel.bgcolor",h.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",h.bordercolor||P.contrast(s));y.coerceFont(p,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||d})}p("captureevents",!!T)}},94128:function(G,H,e){var y=e(92770),P=e(58163);G.exports=function(L,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(!(r||t))return;var o=L._fullLayout.annotations,n=M._id.charAt(0),c,u;function l(f){var T=c[f],h=null;r?h=P(T,M.range):h=Math.pow(10,T),y(h)||(h=null),p(u+f,h)}for(var g=0;g<o.length;g++)c=o[g],u="annotations["+g+"].",c[n+"ref"]===M._id&&l(n),c["a"+n+"ref"]===M._id&&l("a"+n)}},84046:function(G,H,e){var y=e(71828),P=e(89298),a=e(85501),L=e(25625),M=e(50215);G.exports=function(r,t){a(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function o(x,i){return y.coerce(p,r,M,x,i)}var n=o("visible"),c=o("clicktoshow");if(n||c){L(p,r,t,o);for(var u=r.showarrow,l=["x","y"],g=[-10,-30],f={_fullLayout:t},T=0;T<2;T++){var h=l[T],s=P.coerceRef(p,r,f,h,"","paper");if(s!=="paper"){var d=P.getFromId(f,s);d._annIndices.push(r._index)}if(P.coercePosition(r,f,o,s,h,.5),u){var A="a"+h,w=P.coerceRef(p,r,f,A,"pixel",["pixel","paper"]);w!=="pixel"&&w!==s&&(w=r[A]="pixel");var C=w==="pixel"?g[T]:.4;P.coercePosition(r,f,o,w,A,C)}o(h+"anchor"),o(h+"shift")}if(y.noneOrAll(p,r,["x","y"]),u&&y.noneOrAll(p,r,["ax","ay"]),c){var b=o("xclick"),S=o("yclick");r._xclick=b===void 0?r.x:P.cleanPosition(b,f,r.xref),r._yclick=S===void 0?r.y:P.cleanPosition(S,f,r.yref)}}}},92605:function(G,H,e){var y=e(39898),P=e(73972),a=e(74875),L=e(71828),M=L.strTranslate,v=e(89298),p=e(7901),r=e(91424),t=e(30211),o=e(63893),n=e(6964),c=e(28569),u=e(44467).arrayEditor,l=e(13011);G.exports={draw:g,drawOne:f,drawRaw:h};function g(s){var d=s._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var A=0;A<d.annotations.length;A++)d.annotations[A].visible&&f(s,A);return a.previousPromises(s)}function f(s,d){var A=s._fullLayout,w=A.annotations[d]||{},C=v.getFromId(s,w.xref),b=v.getFromId(s,w.yref);C&&C.setScale(),b&&b.setScale(),h(s,w,d,!1,C,b)}function T(s,d,A,w,C){var b=C[A],S=C[A+"ref"],x=A.indexOf("y")!==-1,i=v.getRefType(S)==="domain",E=x?w.h:w.w;return s?i?b+(x?-d:d)/s._length:s.p2r(s.r2p(b)+d):b+(x?-d:d)/E}function h(s,d,A,w,C,b){var S=s._fullLayout,x=s._fullLayout._size,i=s._context.edits,E,m;w?(E="annotation-"+w,m=w+".annotations"):(E="annotation",m="annotations");var k=u(s.layout,m,d),I=k.modifyBase,U=k.modifyItem,z=k.getUpdateObj;S._infolayer.selectAll("."+E+'[data-index="'+A+'"]').remove();var F="clip"+S._uid+"_ann"+A;if(!d._input||d.visible===!1){y.selectAll("#"+F).remove();return}var B={x:{},y:{}},O=+d.textangle||0,N=S._infolayer.append("g").classed(E,!0).attr("data-index",String(A)).style("opacity",d.opacity),Y=N.append("g").classed("annotation-text-g",!0),$=i[d.showarrow?"annotationTail":"annotationPosition"],te=d.captureevents||i.annotationText||$;function ie(ye){var Ee={index:A,annotation:d._input,fullAnnotation:d,event:ye};return w&&(Ee.subplotId=w),Ee}var ce=Y.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){s._dragging=!1,s.emit("plotly_clickannotation",ie(y.event))});d.hovertext&&ce.on("mouseover",function(){var ye=d.hoverlabel,Ee=ye.font,Te=this.getBoundingClientRect(),ze=s.getBoundingClientRect();t.loneHover({x0:Te.left-ze.left,x1:Te.right-ze.left,y:(Te.top+Te.bottom)/2-ze.top,text:d.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Ee.family,fontSize:Ee.size,fontColor:Ee.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:s})}).on("mouseout",function(){t.loneUnhover(S._hoverlayer.node())});var J=d.borderwidth,Z=d.borderpad,ae=J+Z,j=ce.append("rect").attr("class","bg").style("stroke-width",J+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),q=d.width||d.height,oe=S._topclips.selectAll("#"+F).data(q?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),oe.exit().remove();var Q=d.font,K=S._meta?L.templateString(d.text,S._meta):d.text,se=ce.append("text").classed("annotation-text",!0).text(K);function ne(ye){return ye.call(r.font,Q).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),o.convertToTspans(ye,s,fe),ye}function fe(){var ye=se.selectAll("a");if(ye.size()===1&&ye.text()===se.text()){var Ee=ce.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"});Ee.node().appendChild(j.node())}var Te=ce.select(".annotation-text-math-group"),ze=!Te.empty(),ke=r.bBox((ze?Te:se).node()),Se=ke.width,me=ke.height,Ce=d.width||Se,Ne=d.height||me,He=Math.round(Ce+2*ae),De=Math.round(Ne+2*ae);function Ve(gr,sr){return sr==="auto"&&(gr<.3333333333333333?sr="left":gr>.6666666666666666?sr="right":sr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[sr]}for(var at=!1,lt=["x","y"],$e=0;$e<lt.length;$e++){var et=lt[$e],ct=d[et+"ref"]||et,dt=d["a"+et+"ref"],gt={x:C,y:b}[et],At=(O+(et==="x"?0:-90))*Math.PI/180,Rt=He*Math.cos(At),Vt=De*Math.sin(At),Je=Math.abs(Rt)+Math.abs(Vt),Ge=d[et+"anchor"],Ie=d[et+"shift"]*(et==="x"?1:-1),Fe=B[et],Pe,xe,ge,Me,Ae,Ue=v.getRefType(ct);if(gt&&Ue!=="domain"){var Ze=gt.r2fraction(d[et]);(Ze<0||Ze>1)&&(dt===ct?(Ze=gt.r2fraction(d["a"+et]),(Ze<0||Ze>1)&&(at=!0)):at=!0),Pe=gt._offset+gt.r2p(d[et]),Me=.5}else{var tt=Ue==="domain";et==="x"?(ge=d[et],Pe=tt?gt._offset+gt._length*ge:Pe=x.l+x.w*ge):(ge=1-d[et],Pe=tt?gt._offset+gt._length*ge:Pe=x.t+x.h*ge),Me=d.showarrow?.5:ge}if(d.showarrow){Fe.head=Pe;var ft=d["a"+et];if(Ae=Rt*Ve(.5,d.xanchor)-Vt*Ve(.5,d.yanchor),dt===ct){var pt=v.getRefType(dt);pt==="domain"?(et==="y"&&(ft=1-ft),Fe.tail=gt._offset+gt._length*ft):pt==="paper"?et==="y"?(ft=1-ft,Fe.tail=x.t+x.h*ft):Fe.tail=x.l+x.w*ft:Fe.tail=gt._offset+gt.r2p(ft),xe=Ae}else Fe.tail=Pe+ft,xe=Ae+ft;Fe.text=Fe.tail+Ae;var Yt=S[et==="x"?"width":"height"];if(ct==="paper"&&(Fe.head=L.constrain(Fe.head,1,Yt-1)),dt==="pixel"){var Jt=-Math.max(Fe.tail-3,Fe.text),Tt=Math.min(Fe.tail+3,Fe.text)-Yt;Jt>0?(Fe.tail+=Jt,Fe.text+=Jt):Tt>0&&(Fe.tail-=Tt,Fe.text-=Tt)}Fe.tail+=Ie,Fe.head+=Ie}else Ae=Je*Ve(Me,Ge),xe=Ae,Fe.text=Pe+Ae;Fe.text+=Ie,Ae+=Ie,xe+=Ie,d["_"+et+"padplus"]=Je/2+xe,d["_"+et+"padminus"]=Je/2-xe,d["_"+et+"size"]=Je,d["_"+et+"shift"]=Ae}if(at){ce.remove();return}var zt=0,$t=0;if(d.align!=="left"&&(zt=(Ce-Se)*(d.align==="center"?.5:1)),d.valign!=="top"&&($t=(Ne-me)*(d.valign==="middle"?.5:1)),ze)Te.select("svg").attr({x:ae+zt-1,y:ae+$t}).call(r.setClipUrl,q?F:null,s);else{var wr=ae+$t-ke.top,yt=ae+zt-ke.left;se.call(o.positionText,yt,wr).call(r.setClipUrl,q?F:null,s)}oe.select("rect").call(r.setRect,ae,ae,Ce,Ne),j.call(r.setRect,J/2,J/2,He-J,De-J),ce.call(r.setTranslate,Math.round(B.x.text-He/2),Math.round(B.y.text-De/2)),Y.attr({transform:"rotate("+O+","+B.x.text+","+B.y.text+")"});var Xt=function(gr,sr){N.selectAll(".annotation-arrow-g").remove();var vt=B.x.head,it=B.y.head,xt=B.x.tail+gr,Mt=B.y.tail+sr,Dt=B.x.text+gr,Lt=B.y.text+sr,Bt=L.rotationXYMatrix(O,Dt,Lt),Nt=L.apply2DTransform(Bt),jt=L.apply2DTransform2(Bt),lr=+j.attr("width"),fr=+j.attr("height"),hr=Dt-.5*lr,Ye=hr+lr,We=Lt-.5*fr,kt=We+fr,It=[[hr,We,hr,kt],[hr,kt,Ye,kt],[Ye,kt,Ye,We],[Ye,We,hr,We]].map(jt);if(!It.reduce(function(Rr,hn){return Rr^!!L.segmentsIntersect(vt,it,vt+1e6,it+1e6,hn[0],hn[1],hn[2],hn[3])},!1)){It.forEach(function(Rr){var hn=L.segmentsIntersect(xt,Mt,vt,it,Rr[0],Rr[1],Rr[2],Rr[3]);hn&&(xt=hn.x,Mt=hn.y)});var Zt=d.arrowwidth,rr=d.arrowcolor,ur=d.arrowside,er=N.append("g").style({opacity:p.opacity(rr)}).classed("annotation-arrow-g",!0),Ot=er.append("path").attr("d","M"+xt+","+Mt+"L"+vt+","+it).style("stroke-width",Zt+"px").call(p.stroke,p.rgb(rr));if(l(Ot,ur,d),i.annotationPosition&&Ot.node().parentNode&&!w){var vr=vt,yr=it;if(d.standoff){var pr=Math.sqrt(Math.pow(vt-xt,2)+Math.pow(it-Mt,2));vr+=d.standoff*(xt-vt)/pr,yr+=d.standoff*(Mt-it)/pr}var cr=er.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-vr)+","+(Mt-yr),transform:M(vr,yr)}).style("stroke-width",Zt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Ur,kr;c.init({element:cr.node(),gd:s,prepFn:function(){var Rr=r.getTranslate(ce);Ur=Rr.x,kr=Rr.y,C&&C.autorange&&I(C._name+".autorange",!0),b&&b.autorange&&I(b._name+".autorange",!0)},moveFn:function(Rr,hn){var tn=Nt(Ur,kr),Fn=tn[0]+Rr,mn=tn[1]+hn;ce.call(r.setTranslate,Fn,mn),U("x",T(C,Rr,"x",x,d)),U("y",T(b,hn,"y",x,d)),d.axref===d.xref&&U("ax",T(C,Rr,"ax",x,d)),d.ayref===d.yref&&U("ay",T(b,hn,"ay",x,d)),er.attr("transform",M(Rr,hn)),Y.attr({transform:"rotate("+O+","+Fn+","+mn+")"})},doneFn:function(){P.call("_guiRelayout",s,z());var Rr=document.querySelector(".js-notes-box-panel");Rr&&Rr.redraw(Rr.selectedObj)}})}}};if(d.showarrow&&Xt(0,0),$){var Qt;c.init({element:ce.node(),gd:s,prepFn:function(){Qt=Y.attr("transform")},moveFn:function(gr,sr){var vt="pointer";if(d.showarrow)d.axref===d.xref?U("ax",T(C,gr,"ax",x,d)):U("ax",d.ax+gr),d.ayref===d.yref?U("ay",T(b,sr,"ay",x.w,d)):U("ay",d.ay+sr),Xt(gr,sr);else{if(w)return;var it,xt;if(C)it=T(C,gr,"x",x,d);else{var Mt=d._xsize/x.w,Dt=d.x+(d._xshift-d.xshift)/x.w-Mt/2;it=c.align(Dt+gr/x.w,Mt,0,1,d.xanchor)}if(b)xt=T(b,sr,"y",x,d);else{var Lt=d._ysize/x.h,Bt=d.y-(d._yshift+d.yshift)/x.h-Lt/2;xt=c.align(Bt-sr/x.h,Lt,0,1,d.yanchor)}U("x",it),U("y",xt),(!C||!b)&&(vt=c.getCursor(C?.5:it,b?.5:xt,d.xanchor,d.yanchor))}Y.attr({transform:M(gr,sr)+Qt}),n(ce,vt)},clickFn:function(gr,sr){d.captureevents&&s.emit("plotly_clickannotation",ie(sr))},doneFn:function(){n(ce),P.call("_guiRelayout",s,z());var gr=document.querySelector(".js-notes-box-panel");gr&&gr.redraw(gr.selectedObj)}})}}i.annotationText?se.call(o.makeEditable,{delegate:ce,gd:s}).call(ne).on("edit",function(ye){d.text=ye,this.call(ne),U("text",ye),C&&C.autorange&&I(C._name+".autorange",!0),b&&b.autorange&&I(b._name+".autorange",!0),P.call("_guiRelayout",s,z())}):se.call(ne)}},13011:function(G,H,e){var y=e(39898),P=e(7901),a=e(82884),L=e(71828),M=L.strScale,v=L.strRotate,p=L.strTranslate;G.exports=function(t,o,n){var c=t.node(),u=a[n.arrowhead||0],l=a[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),f=(n.arrowwidth||1)*(n.startarrowsize||1),T=o.indexOf("start")>=0,h=o.indexOf("end")>=0,s=u.backoff*g+n.standoff,d=l.backoff*f+n.startstandoff,A,w,C,b;if(c.nodeName==="line"){A={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var S=A.x-w.x,x=A.y-w.y;if(C=Math.atan2(x,S),b=C+Math.PI,s&&d&&s+d>Math.sqrt(S*S+x*x)){Y();return}if(s){if(s*s>S*S+x*x){Y();return}var i=s*Math.cos(C),E=s*Math.sin(C);w.x+=i,w.y+=E,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>S*S+x*x){Y();return}var m=d*Math.cos(C),k=d*Math.sin(C);A.x-=m,A.y-=k,t.attr({x1:A.x,y1:A.y})}}else if(c.nodeName==="path"){var I=c.getTotalLength(),U="";if(I<s+d){Y();return}var z=c.getPointAtLength(0),F=c.getPointAtLength(.1);C=Math.atan2(z.y-F.y,z.x-F.x),A=c.getPointAtLength(Math.min(d,I)),U="0px,"+d+"px,";var B=c.getPointAtLength(I),O=c.getPointAtLength(I-.1);b=Math.atan2(B.y-O.y,B.x-O.x),w=c.getPointAtLength(Math.max(0,I-s));var N=U?d+s:s;U+=I-N+"px,"+I+"px",t.style("stroke-dasharray",U)}function Y(){t.style("stroke-dasharray","0px,100px")}function $(te,ie,ce,J){te.path&&(te.noRotate&&(ce=0),y.select(c.parentNode).append("path").attr({class:t.attr("class"),d:te.path,transform:p(ie.x,ie.y)+v(ce*180/Math.PI)+M(J)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}T&&$(l,A,C,f),h&&$(u,w,b,g)}},32745:function(G,H,e){var y=e(92605),P=e(44317);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:y.draw,drawOne:y.drawOne,drawRaw:y.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(94128)}},26997:function(G,H,e){var y=e(50215),P=e(30962).overrideAll,a=e(44467).templatedArray;G.exports=P(a("annotation",{visible:y.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:y.xanchor,xshift:y.xshift,yanchor:y.yanchor,yshift:y.yshift,text:y.text,textangle:y.textangle,font:y.font,width:y.width,height:y.height,opacity:y.opacity,align:y.align,valign:y.valign,bgcolor:y.bgcolor,bordercolor:y.bordercolor,borderpad:y.borderpad,borderwidth:y.borderwidth,showarrow:y.showarrow,arrowcolor:y.arrowcolor,arrowhead:y.arrowhead,startarrowhead:y.startarrowhead,arrowside:y.arrowside,arrowsize:y.arrowsize,startarrowsize:y.startarrowsize,arrowwidth:y.arrowwidth,standoff:y.standoff,startstandoff:y.startstandoff,hovertext:y.hovertext,hoverlabel:y.hoverlabel,captureevents:y.captureevents}),"calc","from-root")},5485:function(G,H,e){var y=e(71828),P=e(89298);G.exports=function(M){for(var v=M.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)a(p[r],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()};function a(L,M){var v=M.fullSceneLayout,p=v.domain,r=M.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},y.extendFlat(L._xa,t),P.setConvert(L._xa),L._xa._offset=r.l+p.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(p.x[1]-p.x[0])},L._ya={},y.extendFlat(L._ya,t),P.setConvert(L._ya),L._ya._offset=r.t+(1-p.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(p.y[1]-p.y[0])}}},20226:function(G,H,e){var y=e(71828),P=e(89298),a=e(85501),L=e(25625),M=e(26997);G.exports=function(r,t,o){a(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:o.fullLayout})};function v(p,r,t,o){function n(l,g){return y.coerce(p,r,M,l,g)}function c(l){var g=l+"axis",f={_fullLayout:{}};return f._fullLayout[g]=t[g],P.coercePosition(r,f,n,l,l,.5)}var u=n("visible");u&&(L(p,r,o.fullLayout,n),c("x"),c("y"),c("z"),y.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),y.noneOrAll(p,r,["ax","ay"])))}},82188:function(G,H,e){var y=e(92605).drawRaw,P=e(63538),a=["x","y","z"];G.exports=function(M){for(var v=M.fullSceneLayout,p=M.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var o=r[t],n=!1,c=0;c<3;c++){var u=a[c],l=o[u],g=v[u+"axis"],f=g.r2fraction(l);if(f<0||f>1){n=!0;break}}n?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+t+'"]').remove():(o._pdata=P(M.glplot.cameraParams,[v.xaxis.r2l(o.x)*p[0],v.yaxis.r2l(o.y)*p[1],v.zaxis.r2l(o.z)*p[2]]),y(M.graphDiv,o,t,M.id,o._xa,o._ya))}}},2468:function(G,H,e){var y=e(73972),P=e(71828);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:a,convert:e(5485),draw:e(82188)};function a(L,M){var v=y.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var o=r[t];p.test(o)&&(L[o].annotations||[]).length&&(P.pushUnique(M._basePlotModules,v),P.pushUnique(M._subplots.gl3d,o))}}},7561:function(G,H,e){G.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(G,H,e){var y=e(7561),P=e(71828),a=e(50606),L=a.EPOCHJD,M=a.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(y.calendars),editType:"calc",dflt:"gregorian"},p=function(C,b,S,x){var i={};return i[S]=v,P.coerce(C,b,i,S,x)},r=function(C,b,S,x){for(var i=0;i<S.length;i++)p(C,b,S[i]+"calendar",x.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},o={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},c="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:c,w:c,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(C,b,S){for(var x=Math.floor((b+.05)/M)+L,i=f(S).fromJD(x),E=0,m,k,I,U,z;(E=C.indexOf("%",E))!==-1;)m=C.charAt(E+1),m==="0"||m==="-"||m==="_"?(I=3,k=C.charAt(E+2),m==="_"&&(m="-")):(k=m,m="0",I=2),U=u[k],U?(U===c?z=c:z=i.formatDate(U[m]),C=C.substr(0,E)+z+C.substr(E+I),E+=z.length):E+=I;return C}var g={};function f(C){var b=g[C];return b||(b=g[C]=y.instance(C),b)}function T(C){return P.extendFlat({},v,{description:C})}function h(C){return"Sets the calendar system to use with `"+C+"` date data."}var s={xcalendar:T(h("x"))},d=P.extendFlat({},s,{ycalendar:T(h("y"))}),A=P.extendFlat({},d,{zcalendar:T(h("z"))}),w=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:A,surface:A,mesh3d:A,scattergl:d,ohlc:s,candlestick:s},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:o,CANONICAL_TICK:t,DFLTRANGE:n,getCal:f,worldCalFmt:l}},22399:function(G,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},7901:function(G,H,e){var y=e(84267),P=e(92770),a=e(73627).isTypedArray,L=G.exports={},M=e(22399);L.defaults=M.defaults;var v=L.defaultLine=M.defaultLine;L.lightLine=M.lightLine;var p=L.background=M.background;L.tinyRGB=function(t){var o=t.toRgb();return"rgb("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+")"},L.rgb=function(t){return L.tinyRGB(y(t))},L.opacity=function(t){return t?y(t).getAlpha():0},L.addOpacity=function(t,o){var n=y(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+o+")"},L.combine=function(t,o){var n=y(t).toRgb();if(n.a===1)return y(t).toRgbString();var c=y(o||p).toRgb(),u=c.a===1?c:{r:255*(1-c.a)+c.r*c.a,g:255*(1-c.a)+c.g*c.a,b:255*(1-c.a)+c.b*c.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return y(l).toRgbString()},L.contrast=function(t,o,n){var c=y(t);c.getAlpha()!==1&&(c=y(L.combine(t,p)));var u=c.isDark()?o?c.lighten(o):p:n?c.darken(n):v;return u.toString()},L.stroke=function(t,o){var n=y(o);t.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(t,o){var n=y(o);t.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var o=Object.keys(t),n,c,u,l;for(n=0;n<o.length;n++)if(u=o[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(c=0;c<l.length;c++)l[c]=r(l[c]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(c=0;c<l.length;c++)Array.isArray(l[c])&&(l[c][1]=r(l[c][1]));else if(Array.isArray(l)){var g=l[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(c=0;c<l.length;c++)L.clean(l[c])}else l&&typeof l=="object"&&!a(l)&&L.clean(l)}};function r(t){if(P(t)||typeof t!="string")return t;var o=t.trim();if(o.substr(0,3)!=="rgb")return t;var n=o.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var c=n[1].trim().split(/\s*[\s,]\s*/),u=o.charAt(3)==="a"&&c.length===4;if(!u&&c.length!==3)return t;for(var l=0;l<c.length;l++){if(!c[l].length||(c[l]=Number(c[l]),!(c[l]>=0)))return t;if(l===3)c[l]>1&&(c[l]=1);else if(c[l]>=1)return t}var g=Math.round(c[0]*255)+", "+Math.round(c[1]*255)+", "+Math.round(c[2]*255);return u?"rgba("+g+", "+c[3]+")":"rgb("+g+")"}},63583:function(G,H,e){var y=e(13838),P=e(41940),a=e(1426).extendFlat,L=e(30962).overrideAll;G.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:y.linecolor,outlinewidth:y.linewidth,bordercolor:y.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:a({},y.ticks,{dflt:""}),ticklabeloverflow:a({},y.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:P({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(G,H,e){var y=e(71828),P=e(44467),a=e(26218),L=e(38701),M=e(96115),v=e(89426),p=e(63583);G.exports=function(t,o,n){var c=P.newContainer(o,"colorbar"),u=t.colorbar||{};function l(B,O){return y.coerce(u,c,p,B,O)}var g=n.margin||{t:0,b:0,l:0,r:0},f=n.width-g.l-g.r,T=n.height-g.t-g.b,h=l("orientation"),s=h==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(s?f:T):30);var A=l("lenmode");l("len",A==="fraction"?1:s?T:f);var w=l("yref"),C=l("xref"),b=w==="paper",S=C==="paper",x,i,E,m="left";s?(E="middle",m=S?"left":"right",x=S?1.02:1,i=.5):(E=b?"bottom":"top",m="center",x=.5,i=b?1.02:1),y.coerce(u,c,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:x}},"x"),y.coerce(u,c,{y:{valType:"number",min:b?-2:0,max:b?3:1,dflt:i}},"y"),l("xanchor",m),l("xpad"),l("yanchor",E),l("ypad"),y.noneOrAll(u,c,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var k=y.coerce(u,c,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:s?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(u,c,l,"linear");var I=n.font,U={outerTicks:!1,font:I};k.indexOf("inside")!==-1&&(U.bgColor="black"),v(u,c,l,"linear",U),M(u,c,l,"linear",U),L(u,c,l,"linear",U),l("title.text",n._dfltTitle.colorbar);var z=c.showticklabels?c.tickfont:I,F=y.extendFlat({},z,{color:I.color,size:y.bigFont(z.size)});y.coerceFont(l,"title.font",F),l("title.side",s?"top":"right")}},98981:function(G,H,e){var y=e(39898),P=e(84267),a=e(74875),L=e(73972),M=e(89298),v=e(28569),p=e(71828),r=p.strTranslate,t=e(1426).extendFlat,o=e(6964),n=e(91424),c=e(7901),u=e(92998),l=e(63893),g=e(52075).flipScale,f=e(71453),T=e(52830),h=e(13838),s=e(18783),d=s.LINE_SPACING,A=s.FROM_TL,w=s.FROM_BR,C=e(30939).cn;function b(k){var I=k._fullLayout,U=I._infolayer.selectAll("g."+C.colorbar).data(S(k),function(z){return z._id});U.enter().append("g").attr("class",function(z){return z._id}).classed(C.colorbar,!0),U.each(function(z){var F=y.select(this);p.ensureSingle(F,"rect",C.cbbg),p.ensureSingle(F,"g",C.cbfills),p.ensureSingle(F,"g",C.cblines),p.ensureSingle(F,"g",C.cbaxis,function(O){O.classed(C.crisp,!0)}),p.ensureSingle(F,"g",C.cbtitleunshift,function(O){O.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(F,"rect",C.cboutline);var B=x(F,z,k);B&&B.then&&(k._promises||[]).push(B),k._context.edits.colorbarPosition&&i(F,z,k)}),U.exit().each(function(z){a.autoMargin(k,z._id)}).remove(),U.order()}function S(k){var I=k._fullLayout,U=k.calcdata,z=[],F,B,O,N;function Y(Q){return t(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function $(){typeof N.calc=="function"?N.calc(k,O,F):(F._fillgradient=B.reversescale?g(B.colorscale):B.colorscale,F._zrange=[B[N.min],B[N.max]])}for(var te=0;te<U.length;te++){var ie=U[te];if(O=ie[0].trace,!!O._module){var ce=O._module.colorbar;if(O.visible===!0&&ce)for(var J=Array.isArray(ce),Z=J?ce:[ce],ae=0;ae<Z.length;ae++){N=Z[ae];var j=N.container;B=j?O[j]:O,B&&B.showscale&&(F=Y(B.colorbar),F._id="cb"+O.uid+(J&&j?"-"+j:""),F._traceIndex=O.index,F._propPrefix=(j?j+".":"")+"colorbar.",F._meta=O._meta,$(),z.push(F))}}}for(var q in I._colorAxes)if(B=I[q],B.showscale){var oe=I._colorAxes[q];F=Y(B.colorbar),F._id="cb"+q,F._propPrefix=q+".colorbar.",F._meta=I._meta,N={min:"cmin",max:"cmax"},oe[0]!=="heatmap"&&(O=oe[1],N.calc=O._module.colorbar.calc),$(),z.push(F)}return z}function x(k,I,U){var z=I.orientation==="v",F=I.len,B=I.lenmode,O=I.thickness,N=I.thicknessmode,Y=I.outlinewidth,$=I.borderwidth,te=I.bgcolor,ie=I.xanchor,ce=I.yanchor,J=I.xpad,Z=I.ypad,ae=I.x,j=z?I.y:1-I.y,q=I.yref==="paper",oe=I.xref==="paper",Q=U._fullLayout,K=Q._size,se=I._fillcolor,ne=I._line,fe=I.title,ye=fe.side,Ee=I._zrange||y.extent((typeof se=="function"?se:ne.color).domain()),Te=typeof ne.color=="function"?ne.color:function(){return ne.color},ze=typeof se=="function"?se:function(){return se},ke=I._levels,Se=E(U,I,Ee),me=Se.fill,Ce=Se.line,Ne=Math.round(O*(N==="fraction"?z?K.w:K.h:1)),He=Ne/(z?K.w:K.h),De=Math.round(F*(B==="fraction"?z?K.h:K.w:1)),Ve=De/(z?K.h:K.w),at=oe?K.w:U._fullLayout.width,lt=q?K.h:U._fullLayout.height,$e=Math.round(z?ae*at+J:j*lt+Z),et={center:.5,right:1}[ie]||0,ct={top:1,middle:.5}[ce]||0,dt=z?ae-et*He:j-ct*He,gt=z?j-ct*Ve:ae-et*Ve,At=Math.round(z?lt*(1-gt):at*gt);I._lenFrac=Ve,I._thickFrac=He,I._uFrac=dt,I._vFrac=gt;var Rt=I._axis=m(U,I,Ee);Rt.position=He+(z?ae+J/K.w:j+Z/K.h);var Vt=["top","bottom"].indexOf(ye)!==-1;if(z&&Vt&&(Rt.title.side=ye,Rt.titlex=ae+J/K.w,Rt.titley=gt+(fe.side==="top"?Ve-Z/K.h:Z/K.h)),!z&&!Vt&&(Rt.title.side=ye,Rt.titley=j+Z/K.h,Rt.titlex=gt+J/K.w),ne.color&&I.tickmode==="auto"){Rt.tickmode="linear",Rt.tick0=ke.start;var Je=ke.size,Ge=p.constrain(De/50,4,15)+1,Ie=(Ee[1]-Ee[0])/((I.nticks||Ge)*Je);if(Ie>1){var Fe=Math.pow(10,Math.floor(Math.log(Ie)/Math.LN10));Je*=Fe*p.roundUp(Ie/Fe,[2,5,10]),(Math.abs(ke.start)/ke.size+1e-6)%1<2e-6&&(Rt.tick0=0)}Rt.dtick=Je}Rt.domain=z?[gt+Z/K.h,gt+Ve-Z/K.h]:[gt+J/K.w,gt+Ve-J/K.w],Rt.setScale(),k.attr("transform",r(Math.round(K.l),Math.round(K.t)));var Pe=k.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(K.l),-Math.round(K.t))),xe=Rt.ticklabelposition,ge=Rt.title.font.size,Me=k.select("."+C.cbaxis),Ae,Ue=0,Ze=0;function tt(Tt,zt){var $t={propContainer:Rt,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:k.select("."+C.cbtitle)},wr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;k.selectAll("."+wr+",."+wr+"-math-group").remove(),u.draw(U,Tt,t($t,zt||{}))}function ft(){if(z&&Vt||!z&&!Vt){var Tt,zt;ye==="top"&&(Tt=J+K.l+at*ae,zt=Z+K.t+lt*(1-gt-Ve)+3+ge*.75),ye==="bottom"&&(Tt=J+K.l+at*ae,zt=Z+K.t+lt*(1-gt)-3-ge*.25),ye==="right"&&(zt=Z+K.t+lt*j+3+ge*.75,Tt=J+K.l+at*gt),tt(Rt._id+"title",{attributes:{x:Tt,y:zt,"text-anchor":z?"start":"middle"}})}}function pt(){if(z&&!Vt||!z&&Vt){var Tt=Rt.position||0,zt=Rt._offset+Rt._length/2,$t,wr;if(ye==="right")wr=zt,$t=K.l+at*Tt+10+ge*(Rt.showticklabels?1:.5);else if($t=zt,ye==="bottom"&&(wr=K.t+lt*Tt+10+(xe.indexOf("inside")===-1?Rt.tickfont.size:0)+(Rt.ticks!=="intside"&&I.ticklen||0)),ye==="top"){var yt=fe.text.split("<br>").length;wr=K.t+lt*Tt+10-Ne-d*ge*yt}tt((z?"h":"v")+Rt._id+"title",{avoid:{selection:y.select(U).selectAll("g."+Rt._id+"tick"),side:ye,offsetTop:z?0:K.t,offsetLeft:z?K.l:0,maxShift:z?Q.width:Q.height},attributes:{x:$t,y:wr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Yt(){if(!z&&!Vt||z&&Vt){var Tt=k.select("."+C.cbtitle),zt=Tt.select("text"),$t=[-Y/2,Y/2],wr=Tt.select(".h"+Rt._id+"title-math-group").node(),yt=15.6;zt.node()&&(yt=parseInt(zt.node().style.fontSize,10)*d);var Xt;if(wr?(Xt=n.bBox(wr),Ze=Xt.width,Ue=Xt.height,Ue>yt&&($t[1]-=(Ue-yt)/2)):zt.node()&&!zt.classed(C.jsPlaceholder)&&(Xt=n.bBox(zt.node()),Ze=Xt.width,Ue=Xt.height),z){if(Ue){if(Ue+=5,ye==="top")Rt.domain[1]-=Ue/K.h,$t[1]*=-1;else{Rt.domain[0]+=Ue/K.h;var Qt=l.lineCount(zt);$t[1]+=(1-Qt)*yt}Tt.attr("transform",r($t[0],$t[1])),Rt.setScale()}}else Ze&&(ye==="right"&&(Rt.domain[0]+=(Ze+ge/2)/K.w),Tt.attr("transform",r($t[0],$t[1])),Rt.setScale())}k.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",z?r(0,Math.round(K.h*(1-Rt.domain[1]))):r(Math.round(K.w*Rt.domain[0]),0)),Me.attr("transform",z?r(0,Math.round(-K.t)):r(Math.round(-K.l),0));var gr=k.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(me);gr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),gr.exit().remove();var sr=Ee.map(Rt.c2p).map(Math.round).sort(function(Dt,Lt){return Dt-Lt});gr.each(function(Dt,Lt){var Bt=[Lt===0?Ee[0]:(me[Lt]+me[Lt-1])/2,Lt===me.length-1?Ee[1]:(me[Lt]+me[Lt+1])/2].map(Rt.c2p).map(Math.round);z&&(Bt[1]=p.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,sr[0],sr[1]));var Nt=y.select(this).attr(z?"x":"y",$e).attr(z?"y":"x",y.min(Bt)).attr(z?"width":"height",Math.max(Ne,2)).attr(z?"height":"width",Math.max(y.max(Bt)-y.min(Bt),2));if(I._fillgradient)n.gradient(Nt,U,I._id,z?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var jt=ze(Dt).replace("e-","");Nt.attr("fill",P(jt).toHexString())}});var vt=k.select("."+C.cblines).selectAll("path."+C.cbline).data(ne.color&&ne.width?Ce:[]);vt.enter().append("path").classed(C.cbline,!0),vt.exit().remove(),vt.each(function(Dt){var Lt=$e,Bt=Math.round(Rt.c2p(Dt))+ne.width/2%1;y.select(this).attr("d","M"+(z?Lt+","+Bt:Bt+","+Lt)+(z?"h":"v")+Ne).call(n.lineGroupStyle,ne.width,Te(Dt),ne.dash)}),Me.selectAll("g."+Rt._id+"tick,path").remove();var it=$e+Ne+(Y||0)/2-(I.ticks==="outside"?1:0),xt=M.calcTicks(Rt),Mt=M.getTickSigns(Rt)[2];return M.drawTicks(U,Rt,{vals:Rt.ticks==="inside"?M.clipEnds(Rt,xt):xt,layer:Me,path:M.makeTickPath(Rt,it,Mt),transFn:M.makeTransTickFn(Rt)}),M.drawLabels(U,Rt,{vals:xt,layer:Me,transFn:M.makeTransTickLabelFn(Rt),labelFns:M.makeLabelFns(Rt,it)})}function Jt(){var Tt,zt=Ne+Y/2;xe.indexOf("inside")===-1&&(Tt=n.bBox(Me.node()),zt+=z?Tt.width:Tt.height),Ae=Pe.select("text");var $t=0,wr=z&&ye==="top",yt=!z&&ye==="right",Xt=0;if(Ae.node()&&!Ae.classed(C.jsPlaceholder)){var Qt,gr=Pe.select(".h"+Rt._id+"title-math-group").node();gr&&(z&&Vt||!z&&!Vt)?(Tt=n.bBox(gr),$t=Tt.width,Qt=Tt.height):(Tt=n.bBox(Pe.node()),$t=Tt.right-K.l-(z?$e:At),Qt=Tt.bottom-K.t-(z?At:$e),!z&&ye==="top"&&(zt+=Tt.height,Xt=Tt.height)),yt&&(Ae.attr("transform",r($t/2+ge/2,0)),$t*=2),zt=Math.max(zt,z?$t:Qt)}var sr=(z?J:Z)*2+zt+$+Y/2,vt=0;!z&&fe.text&&ce==="bottom"&&j<=0&&(vt=sr/2,sr+=vt,Xt+=vt),Q._hColorbarMoveTitle=vt,Q._hColorbarMoveCBTitle=Xt;var it=$+Y,xt=(z?$e:At)-it/2-(z?J:0),Mt=(z?At:$e)-(z?De:Z+Xt-vt);k.select("."+C.cbbg).attr("x",xt).attr("y",Mt).attr(z?"width":"height",Math.max(sr-vt,2)).attr(z?"height":"width",Math.max(De+it,2)).call(c.fill,te).call(c.stroke,I.bordercolor).style("stroke-width",$);var Dt=yt?Math.max($t-10,0):0;k.selectAll("."+C.cboutline).attr("x",(z?$e:At+J)+Dt).attr("y",(z?At+Z-De:$e)+(wr?Ue:0)).attr(z?"width":"height",Math.max(Ne,2)).attr(z?"height":"width",Math.max(De-(z?2*Z+Ue:2*J+Dt),2)).call(c.stroke,I.outlinecolor).style({fill:"none","stroke-width":Y});var Lt=z?et*sr:0,Bt=z?0:(1-ct)*sr-Xt;if(Lt=oe?K.l-Lt:-Lt,Bt=q?K.t-Bt:-Bt,k.attr("transform",r(Lt,Bt)),!z&&($||P(te).getAlpha()&&!P.equals(Q.paper_bgcolor,te))){var Nt=Me.selectAll("text"),jt=Nt[0].length,lr=k.select("."+C.cbbg).node(),fr=n.bBox(lr),hr=n.getTranslate(k),Ye=2;Nt.each(function(yr,pr){var cr=0,Ur=jt-1;if(pr===cr||pr===Ur){var kr=n.bBox(this),Rr=n.getTranslate(this),hn;if(pr===Ur){var tn=kr.right+Rr.x,Fn=fr.right+hr.x+At-$-Ye+ae;hn=Fn-tn,hn>0&&(hn=0)}else if(pr===cr){var mn=kr.left+Rr.x,Mr=fr.left+hr.x+At+$+Ye;hn=Mr-mn,hn<0&&(hn=0)}hn&&(jt<3?this.setAttribute("transform","translate("+hn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var We={},kt=A[ie],It=w[ie],Zt=A[ce],rr=w[ce],ur=sr-Ne;z?(B==="pixels"?(We.y=j,We.t=De*Zt,We.b=De*rr):(We.t=We.b=0,We.yt=j+F*Zt,We.yb=j-F*rr),N==="pixels"?(We.x=ae,We.l=sr*kt,We.r=sr*It):(We.l=ur*kt,We.r=ur*It,We.xl=ae-O*kt,We.xr=ae+O*It)):(B==="pixels"?(We.x=ae,We.l=De*kt,We.r=De*It):(We.l=We.r=0,We.xl=ae+F*kt,We.xr=ae-F*It),N==="pixels"?(We.y=1-j,We.t=sr*Zt,We.b=sr*rr):(We.t=ur*Zt,We.b=ur*rr,We.yt=j-O*Zt,We.yb=j+O*rr));var er=I.y<.5?"b":"t",Ot=I.x<.5?"l":"r";U._fullLayout._reservedMargin[I._id]={};var vr={r:Q.width-xt-Lt,l:xt+We.r,b:Q.height-Mt-Bt,t:Mt+We.b};oe&&q?a.autoMargin(U,I._id,We):oe?U._fullLayout._reservedMargin[I._id][er]=vr[er]:q||z?U._fullLayout._reservedMargin[I._id][Ot]=vr[Ot]:U._fullLayout._reservedMargin[I._id][er]=vr[er]}return p.syncOrAsync([a.previousPromises,ft,Yt,pt,a.previousPromises,Jt],U)}function i(k,I,U){var z=I.orientation==="v",F=U._fullLayout,B=F._size,O,N,Y;v.init({element:k.node(),gd:U,prepFn:function(){O=k.attr("transform"),o(k)},moveFn:function($,te){k.attr("transform",O+r($,te)),N=v.align((z?I._uFrac:I._vFrac)+$/B.w,z?I._thickFrac:I._lenFrac,0,1,I.xanchor),Y=v.align((z?I._vFrac:1-I._uFrac)-te/B.h,z?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ie=v.getCursor(N,Y,I.xanchor,I.yanchor);o(k,ie)},doneFn:function(){if(o(k),N!==void 0&&Y!==void 0){var $={};$[I._propPrefix+"x"]=N,$[I._propPrefix+"y"]=Y,I._traceIndex!==void 0?L.call("_guiRestyle",U,$,I._traceIndex):L.call("_guiRelayout",U,$)}}})}function E(k,I,U){var z=I._levels,F=[],B=[],O,N,Y=z.end+z.size/100,$=z.size,te=1.001*U[0]-.001*U[1],ie=1.001*U[1]-.001*U[0];for(N=0;N<1e5&&(O=z.start+N*$,!($>0?O>=Y:O<=Y));N++)O>te&&O<ie&&F.push(O);if(I._fillgradient)B=[0];else if(typeof I._fillcolor=="function"){var ce=I._filllevels;if(ce)for(Y=ce.end+ce.size/100,$=ce.size,N=0;N<1e5&&(O=ce.start+N*$,!($>0?O>=Y:O<=Y));N++)O>U[0]&&O<U[1]&&B.push(O);else B=F.map(function(J){return J-z.size/2}),B.push(B[B.length-1]+z.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(B=[0]);return z.size<0&&(F.reverse(),B.reverse()),{line:F,fill:B}}function m(k,I,U){var z=k._fullLayout,F=I.orientation==="v",B={type:"linear",range:U,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},O=F?"y":"x",N={type:"linear",_id:O+I._id},Y={letter:O,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:z.calendar};function $(te,ie){return p.coerce(B,N,h,te,ie)}return f(B,N,$,Y,z),T(B,N,$,Y),N}G.exports={draw:b}},76228:function(G,H,e){var y=e(71828);G.exports=function(a){return y.isPlainObject(a.colorbar)}},12311:function(G,H,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(G,H,e){var y=e(63583),P=e(30587).counter,a=e(78607),L=e(63282).scales;a(L),G.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",o="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,c=p.editTypeOverride||"",u;"colorAttr"in p?(u=p.colorAttr,p.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",g=r+"min",f=r+"max",T=r+"mid",h={};h[g]=h[f]=void 0;var s={};s[l]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:c||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},d[g]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:s},d[f]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:s},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:o,editType:"calc"},d.colorbar=y),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(G,H,e){var y=e(92770),P=e(71828),a=e(52075).extractOpts;G.exports=function(M,v,p){var r=M._fullLayout,t=p.vals,o=p.containerStr,n=o?P.nestedProperty(v,o).get():v,c=a(n),u=c.auto!==!1,l=c.min,g=c.max,f=c.mid,T=function(){return P.aggNums(Math.min,null,t)},h=function(){return P.aggNums(Math.max,null,t)};if(l===void 0?l=T():u&&(n._colorAx&&y(l)?l=Math.min(l,T()):l=T()),g===void 0?g=h():u&&(n._colorAx&&y(g)?g=Math.max(g,h()):g=h()),u&&f!==void 0&&(g-f>f-l?l=f-(g-f):g-f<f-l&&(g=f+(f-l))),l===g&&(l-=.5,g+=.5),c._sync("min",l),c._sync("max",g),c.autocolorscale){var s;l*g<0?s=r.colorscale.diverging:l>=0?s=r.colorscale.sequential:s=r.colorscale.sequentialminus,c._sync("colorscale",s)}}},33046:function(G,H,e){var y=e(71828),P=e(52075).hasColorscale,a=e(52075).extractOpts;G.exports=function(M,v){function p(l,g){var f=l["_"+g];f!==void 0&&(l[g]=f)}function r(l,g){var f=g.container?y.nestedProperty(l,g.container).get():l;if(f)if(f.coloraxis)f._colorAx=v[f.coloraxis];else{var T=a(f),h=T.auto;(h||T.min===void 0)&&p(f,g.min),(h||T.max===void 0)&&p(f,g.max),T.autocolorscale&&p(f,"colorscale")}}for(var t=0;t<M.length;t++){var o=M[t],n=o._module.colorbar;if(n)if(Array.isArray(n))for(var c=0;c<n.length;c++)r(o,n[c]);else r(o,n);P(o,"marker.line")&&r(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},1586:function(G,H,e){var y=e(92770),P=e(71828),a=e(76228),L=e(62499),M=e(63282).isValid,v=e(73972).traceIs;function p(r,t){var o=t.slice(0,t.length-1);return t?P.nestedProperty(r,o).get()||{}:r}G.exports=function r(t,o,n,c,u){var l=u.prefix,g=u.cLetter,f="_module"in o,T=p(t,l),h=p(o,l),s=p(o._template||{},l)||{},d=function(){return delete t.coloraxis,delete o.coloraxis,r(t,o,n,c,u)};if(f){var A=n._colorAxes||{},w=c(l+"coloraxis");if(w){var C=v(o,"contour")&&P.nestedProperty(o,"contours.coloring").get()||"heatmap",b=A[w];b?(b[2].push(d),b[0]!==C&&(b[0]=!1,P.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):A[w]=[C,o,[d]];return}}var S=T[g+"min"],x=T[g+"max"],i=y(S)&&y(x)&&S<x,E=c(l+g+"auto",!i);E?c(l+g+"mid"):(c(l+g+"min"),c(l+g+"max"));var m=T.colorscale,k=s.colorscale,I;if(m!==void 0&&(I=!M(m)),k!==void 0&&(I=!M(k)),c(l+"autocolorscale",I),c(l+"colorscale"),c(l+"reversescale"),l!=="marker.line."){var U;l&&f&&(U=a(T));var z=c(l+"showscale",U);z&&(l&&s&&(h._template=s),L(T,h,n))}}},52075:function(G,H,e){var y=e(39898),P=e(84267),a=e(92770),L=e(71828),M=e(7901),v=e(63282).isValid;function p(f,T,h){var s=T?L.nestedProperty(f,T).get()||{}:f,d=s[h||"color"];d&&d._inputArray&&(d=d._inputArray);var A=!1;if(L.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(a(d[w])){A=!0;break}}return L.isPlainObject(s)&&(A||s.showscale===!0||a(s.cmin)&&a(s.cmax)||v(s.colorscale)||L.isPlainObject(s.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function o(f){var T=f._colorAx,h=T||f,s={},d,A,w;for(A=0;A<r.length;A++)w=r[A],s[w]=h[w];if(T)for(d="c",A=0;A<t.length;A++)w=t[A],s[w]=h["c"+w];else{var C;for(A=0;A<t.length;A++){if(w=t[A],C="c"+w,C in h){s[w]=h[C];continue}C="z"+w,C in h&&(s[w]=h[C])}d=C.charAt(0)}return s._sync=function(b,S){var x=t.indexOf(b)!==-1?d+b:b;h[x]=h["_"+x]=S},s}function n(f){for(var T=o(f),h=T.min,s=T.max,d=T.reversescale?c(T.colorscale):T.colorscale,A=d.length,w=new Array(A),C=new Array(A),b=0;b<A;b++){var S=d[b];w[b]=h+S[0]*(s-h),C[b]=S[1]}return{domain:w,range:C}}function c(f){for(var T=f.length,h=new Array(T),s=T-1,d=0;s>=0;s--,d++){var A=f[s];h[d]=[1-A[0],A[1]]}return h}function u(f,T){T=T||{};for(var h=f.domain,s=f.range,d=s.length,A=new Array(d),w=0;w<d;w++){var C=P(s[w]).toRgb();A[w]=[C.r,C.g,C.b,C.a]}var b=y.scale.linear().domain(h).range(A).clamp(!0),S=T.noNumericCheck,x=T.returnArray,i;return S&&x?i=b:S?i=function(E){return g(b(E))}:x?i=function(E){return a(E)?b(E):P(E).isValid()?E:M.defaultLine}:i=function(E){return a(E)?g(b(E)):P(E).isValid()?E:M.defaultLine},i.domain=b.domain,i.range=function(){return s},i}function l(f,T){return u(n(f),T)}function g(f){var T={r:f[0],g:f[1],b:f[2],a:f[3]};return P(T).toRgbString()}G.exports={hasColorscale:p,extractOpts:o,extractScale:n,flipScale:c,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},21081:function(G,H,e){var y=e(63282),P=e(52075);G.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:y.scales,defaultScale:y.defaultScale,getScale:y.get,isValidScale:y.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},72673:function(G,H,e){var y=e(1426).extendFlat,P=e(50693),a=e(63282).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:y({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(G,H,e){var y=e(71828),P=e(44467),a=e(72673),L=e(1586);G.exports=function(v,p){function r(f,T){return y.coerce(v,p,a,f,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,o,n;function c(f,T){return y.coerce(o,n,a.coloraxis,f,T)}for(var u in t){var l=t[u];if(l[0])o=v[u]||{},n=P.newContainer(p,u,"coloraxis"),n._name=u,L(o,n,p,c,{prefix:"",cLetter:"c"});else{for(var g=0;g<l[2].length;g++)l[2][g]();delete p._colorAxes[u]}}}},63282:function(G,H,e){var y=e(84267),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=P.RdBu;function L(p,r){if(r||(r=a),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),M(p)?p:r}function M(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var o=p[t];if(o.length!==2||+o[0]<r||!y(o[1]).isValid())return!1;r=+o[0]}return!0}function v(p){return P[p]!==void 0?!0:M(p)}G.exports={scales:P,defaultScale:a,get:L,isValid:v}},92807:function(G){G.exports=function(e,y,P,a,L){var M=(e-P)/(a-P),v=M+y/(a-P),p=(M+v)/2;return L==="left"||L==="bottom"?M:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:M<.6666666666666666-p?M:v>1.3333333333333333-p?v:p}},70461:function(G,H,e){var y=e(71828),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(L,M,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=y.constrain(Math.floor(L*3),0,2),p==="bottom"?M=0:p==="middle"?M=1:p==="top"?M=2:M=y.constrain(Math.floor(M*3),0,2),P[M][L]}},64505:function(G,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},28569:function(G,H,e){var y=e(48956),P=e(57035),a=e(38520),L=e(71828).removeElement,M=e(85555),v=G.exports={};v.align=e(92807),v.getCursor=e(70461);var p=e(26041);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var c=n.gd,u=1,l=c._context.doubleClickDelay,g=n.element,f,T,h,s,d,A,w,C;c._mouseDownTime||(c._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=x,a?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=x,g.addEventListener("touchstart",x,{passive:!1})):g.ontouchstart=x;function b(m,k,I){return Math.abs(m)<I&&(m=0),Math.abs(k)<I&&(k=0),[m,k]}var S=n.clampFn||b;function x(m){c._dragged=!1,c._dragging=!0;var k=t(m);f=k[0],T=k[1],w=m.target,A=m,C=m.buttons===2||m.ctrlKey,typeof m.clientX>"u"&&typeof m.clientY>"u"&&(m.clientX=f,m.clientY=T),h=new Date().getTime(),h-c._mouseDownTime<l?u+=1:(u=1,c._mouseDownTime=h),n.prepFn&&n.prepFn(m,f,T),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(g).cursor):P||(d=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(m.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(m){m.preventDefault();var k=t(m),I=n.minDrag||M.MINDRAG,U=S(k[0]-f,k[1]-T,I),z=U[0],F=U[1];(z||F)&&(c._dragged=!0,v.unhover(c,m)),c._dragged&&n.moveFn&&!C&&(c._dragdata={element:g,dx:z,dy:F},n.moveFn(z,F))}function E(m){if(delete c._dragdata,n.dragmode!==!1&&(m.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),P?L(d):s&&(d.documentElement.style.cursor=s,s=null),!c._dragging){c._dragged=!1;return}if(c._dragging=!1,new Date().getTime()-c._mouseDownTime>l&&(u=Math.max(u-1,1)),c._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,A),!C){var k;try{k=new MouseEvent("click",m)}catch{var I=t(m);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",m.bubbles,m.cancelable,m.view,m.detail,m.screenX,m.screenY,I[0],I[1],m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget)}w.dispatchEvent(k)}c._dragging=!1,c._dragged=!1}};function r(){var o=document.createElement("div");o.className="dragcover";var n=o.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(o),o}v.coverSlip=r;function t(o){return y(o.changedTouches?o.changedTouches[0]:o,document.body)}},26041:function(G,H,e){var y=e(11086),P=e(79990),a=e(24401).getGraphDiv,L=e(26675),M=G.exports={};M.wrapped=function(v,p,r){v=a(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),M.raw(v,p,r)},M.raw=function(p,r){var t=p._fullLayout,o=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&y.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&o&&p.emit("plotly_unhover",{event:r,points:o}))}},79952:function(G,H){H.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(G,H,e){var y=e(39898),P=e(71828),a=P.numberFormat,L=e(92770),M=e(84267),v=e(73972),p=e(7901),r=e(21081),t=P.strTranslate,o=e(63893),n=e(77922),c=e(18783),u=c.LINE_SPACING,l=e(37822).DESELECTDIM,g=e(34098),f=e(39984),T=e(23469).appendArrayPointValue,h=G.exports={};h.font=function(Se,me,Ce,Ne){P.isPlainObject(me)&&(Ne=me.color,Ce=me.size,me=me.family),me&&Se.style("font-family",me),Ce+1&&Se.style("font-size",Ce+"px"),Ne&&Se.call(p.fill,Ne)},h.setPosition=function(Se,me,Ce){Se.attr("x",me).attr("y",Ce)},h.setSize=function(Se,me,Ce){Se.attr("width",me).attr("height",Ce)},h.setRect=function(Se,me,Ce,Ne,He){Se.call(h.setPosition,me,Ce).call(h.setSize,Ne,He)},h.translatePoint=function(Se,me,Ce,Ne){var He=Ce.c2p(Se.x),De=Ne.c2p(Se.y);if(L(He)&&L(De)&&me.node())me.node().nodeName==="text"?me.attr("x",He).attr("y",De):me.attr("transform",t(He,De));else return!1;return!0},h.translatePoints=function(Se,me,Ce){Se.each(function(Ne){var He=y.select(this);h.translatePoint(Ne,He,me,Ce)})},h.hideOutsideRangePoint=function(Se,me,Ce,Ne,He,De){me.attr("display",Ce.isPtWithinRange(Se,He)&&Ne.isPtWithinRange(Se,De)?null:"none")},h.hideOutsideRangePoints=function(Se,me){if(me._hasClipOnAxisFalse){var Ce=me.xaxis,Ne=me.yaxis;Se.each(function(He){var De=He[0].trace,Ve=De.xcalendar,at=De.ycalendar,lt=v.traceIs(De,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(lt).each(function($e){h.hideOutsideRangePoint($e,y.select(this),Ce,Ne,Ve,at)})})}},h.crispRound=function(Se,me,Ce){return!me||!L(me)?Ce||0:Se._context.staticPlot?me:me<1?1:Math.round(me)},h.singleLineStyle=function(Se,me,Ce,Ne,He){me.style("fill","none");var De=(((Se||[])[0]||{}).trace||{}).line||{},Ve=Ce||De.width||0,at=He||De.dash||"";p.stroke(me,Ne||De.color),h.dashLine(me,at,Ve)},h.lineGroupStyle=function(Se,me,Ce,Ne){Se.style("fill","none").each(function(He){var De=(((He||[])[0]||{}).trace||{}).line||{},Ve=me||De.width||0,at=Ne||De.dash||"";y.select(this).call(p.stroke,Ce||De.color).call(h.dashLine,at,Ve)})},h.dashLine=function(Se,me,Ce){Ce=+Ce||0,me=h.dashStyle(me,Ce),Se.style({"stroke-dasharray":me,"stroke-width":Ce+"px"})},h.dashStyle=function(Se,me){me=+me||1;var Ce=Math.max(me,3);return Se==="solid"?Se="":Se==="dot"?Se=Ce+"px,"+Ce+"px":Se==="dash"?Se=3*Ce+"px,"+3*Ce+"px":Se==="longdash"?Se=5*Ce+"px,"+5*Ce+"px":Se==="dashdot"?Se=3*Ce+"px,"+Ce+"px,"+Ce+"px,"+Ce+"px":Se==="longdashdot"&&(Se=5*Ce+"px,"+2*Ce+"px,"+Ce+"px,"+2*Ce+"px"),Se};function s(Se,me,Ce){var Ne=me.fillpattern,He=Ne&&h.getPatternAttr(Ne.shape,0,"");if(He){var De=h.getPatternAttr(Ne.bgcolor,0,null),Ve=h.getPatternAttr(Ne.fgcolor,0,null),at=Ne.fgopacity,lt=h.getPatternAttr(Ne.size,0,8),$e=h.getPatternAttr(Ne.solidity,0,.3),et=me.uid;h.pattern(Se,"point",Ce,et,He,lt,$e,void 0,Ne.fillmode,De,Ve,at)}else me.fillcolor&&Se.call(p.fill,me.fillcolor)}h.singleFillStyle=function(Se,me){var Ce=y.select(Se.node()),Ne=Ce.data(),He=((Ne[0]||[])[0]||{}).trace||{};s(Se,He,me)},h.fillGroupStyle=function(Se,me){Se.style("stroke-width",0).each(function(Ce){var Ne=y.select(this);Ce[0].trace&&s(Ne,Ce[0].trace,me)})};var d=e(90998);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(d).forEach(function(Se){var me=d[Se],Ce=me.n;h.symbolList.push(Ce,String(Ce),Se,Ce+100,String(Ce+100),Se+"-open"),h.symbolNames[Ce]=Se,h.symbolFuncs[Ce]=me.f,h.symbolBackOffs[Ce]=me.backoff||0,me.needLine&&(h.symbolNeedLines[Ce]=!0),me.noDot?h.symbolNoDot[Ce]=!0:h.symbolList.push(Ce+200,String(Ce+200),Se+"-dot",Ce+300,String(Ce+300),Se+"-open-dot"),me.noFill&&(h.symbolNoFill[Ce]=!0)});var A=h.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Se){if(L(Se))Se=+Se;else if(typeof Se=="string"){var me=0;Se.indexOf("-open")>0&&(me=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(me+=200,Se=Se.replace("-dot","")),Se=h.symbolNames.indexOf(Se),Se>=0&&(Se+=me)}return Se%100>=A||Se>=400?0:Math.floor(Math.max(Se,0))};function C(Se,me,Ce,Ne){var He=Se%100;return h.symbolFuncs[He](me,Ce,Ne)+(Se>=200?w:"")}var b={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},x=a("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};h.gradient=function(Se,me,Ce,Ne,He,De){for(var Ve=He.length,at=i[Ne],lt=new Array(Ve),$e=0;$e<Ve;$e++)at.reversed?lt[Ve-1-$e]=[x((1-He[$e][0])*100),He[$e][1]]:lt[$e]=[x(He[$e][0]*100),He[$e][1]];var et=me._fullLayout,ct="g"+et._uid+"-"+Ce,dt=et._defs.select(".gradients").selectAll("#"+ct).data([Ne+lt.join(";")],P.identity);dt.exit().remove(),dt.enter().append(at.node).each(function(){var gt=y.select(this);at.attrs&&gt.attr(at.attrs),gt.attr("id",ct);var At=gt.selectAll("stop").data(lt);At.exit().remove(),At.enter().append("stop"),At.each(function(Rt){var Vt=M(Rt[1]);y.select(this).attr({offset:Rt[0]+"%","stop-color":p.tinyRGB(Vt),"stop-opacity":Vt.getAlpha()})})}),Se.style(De,Z(ct,me)).style(De+"-opacity",null),Se.classed("gradient_filled",!0)},h.pattern=function(Se,me,Ce,Ne,He,De,Ve,at,lt,$e,et,ct){var dt=me==="legend";at&&(lt==="overlay"?($e=at,et=p.contrast($e)):($e=void 0,et=at));var gt=Ce._fullLayout,At="p"+gt._uid+"-"+Ne,Rt,Vt,Je=function(ft,pt,Yt,Jt,Tt){return Jt+(Tt-Jt)*(ft-pt)/(Yt-pt)},Ge,Ie,Fe,Pe,xe={},ge=M(et),Me=p.tinyRGB(ge),Ae=ge.getAlpha(),Ue=ct*Ae;switch(He){case"/":Rt=De*Math.sqrt(2),Vt=De*Math.sqrt(2),Ge="M-"+Rt/4+","+Vt/4+"l"+Rt/2+",-"+Vt/2+"M0,"+Vt+"L"+Rt+",0M"+Rt/4*3+","+Vt/4*5+"l"+Rt/2+",-"+Vt/2,Ie=Ve*De,Pe="path",xe={d:Ge,opacity:Ue,stroke:Me,"stroke-width":Ie+"px"};break;case"\\":Rt=De*Math.sqrt(2),Vt=De*Math.sqrt(2),Ge="M"+Rt/4*3+",-"+Vt/4+"l"+Rt/2+","+Vt/2+"M0,0L"+Rt+","+Vt+"M-"+Rt/4+","+Vt/4*3+"l"+Rt/2+","+Vt/2,Ie=Ve*De,Pe="path",xe={d:Ge,opacity:Ue,stroke:Me,"stroke-width":Ie+"px"};break;case"x":Rt=De*Math.sqrt(2),Vt=De*Math.sqrt(2),Ge="M-"+Rt/4+","+Vt/4+"l"+Rt/2+",-"+Vt/2+"M0,"+Vt+"L"+Rt+",0M"+Rt/4*3+","+Vt/4*5+"l"+Rt/2+",-"+Vt/2+"M"+Rt/4*3+",-"+Vt/4+"l"+Rt/2+","+Vt/2+"M0,0L"+Rt+","+Vt+"M-"+Rt/4+","+Vt/4*3+"l"+Rt/2+","+Vt/2,Ie=De-De*Math.sqrt(1-Ve),Pe="path",xe={d:Ge,opacity:Ue,stroke:Me,"stroke-width":Ie+"px"};break;case"|":Rt=De,Vt=De,Pe="path",Ge="M"+Rt/2+",0L"+Rt/2+","+Vt,Ie=Ve*De,Pe="path",xe={d:Ge,opacity:Ue,stroke:Me,"stroke-width":Ie+"px"};break;case"-":Rt=De,Vt=De,Pe="path",Ge="M0,"+Vt/2+"L"+Rt+","+Vt/2,Ie=Ve*De,Pe="path",xe={d:Ge,opacity:Ue,stroke:Me,"stroke-width":Ie+"px"};break;case"+":Rt=De,Vt=De,Pe="path",Ge="M"+Rt/2+",0L"+Rt/2+","+Vt+"M0,"+Vt/2+"L"+Rt+","+Vt/2,Ie=De-De*Math.sqrt(1-Ve),Pe="path",xe={d:Ge,opacity:Ue,stroke:Me,"stroke-width":Ie+"px"};break;case".":Rt=De,Vt=De,Ve<Math.PI/4?Fe=Math.sqrt(Ve*De*De/Math.PI):Fe=Je(Ve,Math.PI/4,1,De/2,De/Math.sqrt(2)),Pe="circle",xe={cx:Rt/2,cy:Vt/2,r:Fe,opacity:Ue,fill:Me};break}var Ze=[He||"noSh",$e||"noBg",et||"noFg",De,Ve].join(";"),tt=gt._defs.select(".patterns").selectAll("#"+At).data([Ze],P.identity);tt.exit().remove(),tt.enter().append("pattern").each(function(){var ft=y.select(this);if(ft.attr({id:At,width:Rt+"px",height:Vt+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),$e){var pt=M($e),Yt=p.tinyRGB(pt),Jt=pt.getAlpha(),Tt=ft.selectAll("rect").data([0]);Tt.exit().remove(),Tt.enter().append("rect").attr({width:Rt+"px",height:Vt+"px",fill:Yt,"fill-opacity":Jt})}var zt=ft.selectAll(Pe).data([0]);zt.exit().remove(),zt.enter().append(Pe).attr(xe)}),Se.style("fill",Z(At,Ce)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},h.initGradients=function(Se){var me=Se._fullLayout,Ce=P.ensureSingle(me._defs,"g","gradients");Ce.selectAll("linearGradient,radialGradient").remove(),y.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Se){var me=Se._fullLayout,Ce=P.ensureSingle(me._defs,"g","patterns");Ce.selectAll("pattern").remove(),y.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Se,me,Ce){return Se&&P.isArrayOrTypedArray(Se)?me<Se.length?Se[me]:Ce:Se},h.pointStyle=function(Se,me,Ce,Ne){if(Se.size()){var He=h.makePointStyleFns(me);Se.each(function(De){h.singlePointStyle(De,y.select(this),me,He,Ce,Ne)})}},h.singlePointStyle=function(Se,me,Ce,Ne,He,De){var Ve=Ce.marker,at=Ve.line;if(De&&De.i>=0&&Se.i===void 0&&(Se.i=De.i),me.style("opacity",Ne.selectedOpacityFn?Ne.selectedOpacityFn(Se):Se.mo===void 0?Ve.opacity:Se.mo),Ne.ms2mrc){var lt;Se.ms==="various"||Ve.size==="various"?lt=3:lt=Ne.ms2mrc(Se.ms),Se.mrc=lt,Ne.selectedSizeFn&&(lt=Se.mrc=Ne.selectedSizeFn(Se));var $e=h.symbolNumber(Se.mx||Ve.symbol)||0;Se.om=$e%200>=100;var et=ke(Se,Ce),ct=q(Se,Ce);me.attr("d",C($e,lt,et,ct))}var dt=!1,gt,At,Rt;if(Se.so)Rt=at.outlierwidth,At=at.outliercolor,gt=Ve.outliercolor;else{var Vt=(at||{}).width;Rt=(Se.mlw+1||Vt+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Se?At=Se.mlcc=Ne.lineScale(Se.mlc):P.isArrayOrTypedArray(at.color)?At=p.defaultLine:At=at.color,P.isArrayOrTypedArray(Ve.color)&&(gt=p.defaultLine,dt=!0),"mc"in Se?gt=Se.mcc=Ne.markerScale(Se.mc):gt=Ve.color||Ve.colors||"rgba(0,0,0,0)",Ne.selectedColorFn&&(gt=Ne.selectedColorFn(Se))}if(Se.om)me.call(p.stroke,gt).style({"stroke-width":(Rt||1)+"px",fill:"none"});else{me.style("stroke-width",(Se.isBlank?0:Rt)+"px");var Je=Ve.gradient,Ge=Se.mgt;Ge?dt=!0:Ge=Je&&Je.type,P.isArrayOrTypedArray(Ge)&&(Ge=Ge[0],i[Ge]||(Ge=0));var Ie=Ve.pattern,Fe=Ie&&h.getPatternAttr(Ie.shape,Se.i,"");if(Ge&&Ge!=="none"){var Pe=Se.mgc;Pe?dt=!0:Pe=Je.color;var xe=Ce.uid;dt&&(xe+="-"+Se.i),h.gradient(me,He,xe,Ge,[[0,Pe],[1,gt]],"fill")}else if(Fe){var ge=!1,Me=Ie.fgcolor;!Me&&De&&De.color&&(Me=De.color,ge=!0);var Ae=h.getPatternAttr(Me,Se.i,De&&De.color||null),Ue=h.getPatternAttr(Ie.bgcolor,Se.i,null),Ze=Ie.fgopacity,tt=h.getPatternAttr(Ie.size,Se.i,8),ft=h.getPatternAttr(Ie.solidity,Se.i,.3);ge=ge||Se.mcc||P.isArrayOrTypedArray(Ie.shape)||P.isArrayOrTypedArray(Ie.bgcolor)||P.isArrayOrTypedArray(Ie.fgcolor)||P.isArrayOrTypedArray(Ie.size)||P.isArrayOrTypedArray(Ie.solidity);var pt=Ce.uid;ge&&(pt+="-"+Se.i),h.pattern(me,"point",He,pt,Fe,tt,ft,Se.mcc,Ie.fillmode,Ue,Ae,Ze)}else P.isArrayOrTypedArray(gt)?p.fill(me,gt[Se.i]):p.fill(me,gt);Rt&&p.stroke(me,At)}},h.makePointStyleFns=function(Se){var me={},Ce=Se.marker;return me.markerScale=h.tryColorscale(Ce,""),me.lineScale=h.tryColorscale(Ce,"line"),v.traceIs(Se,"symbols")&&(me.ms2mrc=g.isBubble(Se)?f(Se):function(){return(Ce.size||6)/2}),Se.selectedpoints&&P.extendFlat(me,h.makeSelectedPointStyleFns(Se)),me},h.makeSelectedPointStyleFns=function(Se){var me={},Ce=Se.selected||{},Ne=Se.unselected||{},He=Se.marker||{},De=Ce.marker||{},Ve=Ne.marker||{},at=He.opacity,lt=De.opacity,$e=Ve.opacity,et=lt!==void 0,ct=$e!==void 0;(P.isArrayOrTypedArray(at)||et||ct)&&(me.selectedOpacityFn=function(Fe){var Pe=Fe.mo===void 0?He.opacity:Fe.mo;return Fe.selected?et?lt:Pe:ct?$e:l*Pe});var dt=He.color,gt=De.color,At=Ve.color;(gt||At)&&(me.selectedColorFn=function(Fe){var Pe=Fe.mcc||dt;return Fe.selected?gt||Pe:At||Pe});var Rt=He.size,Vt=De.size,Je=Ve.size,Ge=Vt!==void 0,Ie=Je!==void 0;return v.traceIs(Se,"symbols")&&(Ge||Ie)&&(me.selectedSizeFn=function(Fe){var Pe=Fe.mrc||Rt/2;return Fe.selected?Ge?Vt/2:Pe:Ie?Je/2:Pe}),me},h.makeSelectedTextStyleFns=function(Se){var me={},Ce=Se.selected||{},Ne=Se.unselected||{},He=Se.textfont||{},De=Ce.textfont||{},Ve=Ne.textfont||{},at=He.color,lt=De.color,$e=Ve.color;return me.selectedTextColorFn=function(et){var ct=et.tc||at;return et.selected?lt||ct:$e||(lt?ct:p.addOpacity(ct,l))},me},h.selectedPointStyle=function(Se,me){if(!(!Se.size()||!me.selectedpoints)){var Ce=h.makeSelectedPointStyleFns(me),Ne=me.marker||{},He=[];Ce.selectedOpacityFn&&He.push(function(De,Ve){De.style("opacity",Ce.selectedOpacityFn(Ve))}),Ce.selectedColorFn&&He.push(function(De,Ve){p.fill(De,Ce.selectedColorFn(Ve))}),Ce.selectedSizeFn&&He.push(function(De,Ve){var at=Ve.mx||Ne.symbol||0,lt=Ce.selectedSizeFn(Ve);De.attr("d",C(h.symbolNumber(at),lt,ke(Ve,me),q(Ve,me))),Ve.mrc2=lt}),He.length&&Se.each(function(De){for(var Ve=y.select(this),at=0;at<He.length;at++)He[at](Ve,De)})}},h.tryColorscale=function(Se,me){var Ce=me?P.nestedProperty(Se,me).get():Se;if(Ce){var Ne=Ce.color;if((Ce.colorscale||Ce._colorAx)&&P.isArrayOrTypedArray(Ne))return r.makeColorScaleFuncFromTrace(Ce)}return P.identity};var E={start:1,end:-1,middle:0,bottom:1,top:-1};function m(Se,me,Ce,Ne,He){var De=y.select(Se.node().parentNode),Ve=me.indexOf("top")!==-1?"top":me.indexOf("bottom")!==-1?"bottom":"middle",at=me.indexOf("left")!==-1?"end":me.indexOf("right")!==-1?"start":"middle",lt=Ne?Ne/.8+1:0,$e=(o.lineCount(Se)-1)*u+1,et=E[at]*lt,ct=Ce*.75+E[Ve]*lt+(E[Ve]-1)*$e*Ce/2;Se.attr("text-anchor",at),He||De.attr("transform",t(et,ct))}function k(Se,me){var Ce=Se.ts||me.textfont.size;return L(Ce)&&Ce>0?Ce:0}h.textPointStyle=function(Se,me,Ce){if(Se.size()){var Ne;if(me.selectedpoints){var He=h.makeSelectedTextStyleFns(me);Ne=He.selectedTextColorFn}var De=me.texttemplate,Ve=Ce._fullLayout;Se.each(function(at){var lt=y.select(this),$e=De?P.extractOption(at,me,"txt","texttemplate"):P.extractOption(at,me,"tx","text");if(!$e&&$e!==0){lt.remove();return}if(De){var et=me._module.formatLabels,ct=et?et(at,me,Ve):{},dt={};T(dt,me,at.i);var gt=me._meta||{};$e=P.texttemplateString($e,ct,Ve._d3locale,dt,at,gt)}var At=at.tp||me.textposition,Rt=k(at,me),Vt=Ne?Ne(at):at.tc||me.textfont.color;lt.call(h.font,at.tf||me.textfont.family,Rt,Vt).text($e).call(o.convertToTspans,Ce).call(m,At,Rt,at.mrc)})}},h.selectedTextStyle=function(Se,me){if(!(!Se.size()||!me.selectedpoints)){var Ce=h.makeSelectedTextStyleFns(me);Se.each(function(Ne){var He=y.select(this),De=Ce.selectedTextColorFn(Ne),Ve=Ne.tp||me.textposition,at=k(Ne,me);p.fill(He,De);var lt=v.traceIs(me,"bar-like");m(He,Ve,at,Ne.mrc2||Ne.mrc,lt)})}};var I=.5;h.smoothopen=function(Se,me){if(Se.length<3)return"M"+Se.join("L");var Ce="M"+Se[0],Ne=[],He;for(He=1;He<Se.length-1;He++)Ne.push(N(Se[He-1],Se[He],Se[He+1],me));for(Ce+="Q"+Ne[0][0]+" "+Se[1],He=2;He<Se.length-1;He++)Ce+="C"+Ne[He-2][1]+" "+Ne[He-1][0]+" "+Se[He];return Ce+="Q"+Ne[Se.length-3][1]+" "+Se[Se.length-1],Ce},h.smoothclosed=function(Se,me){if(Se.length<3)return"M"+Se.join("L")+"Z";var Ce="M"+Se[0],Ne=Se.length-1,He=[N(Se[Ne],Se[0],Se[1],me)],De;for(De=1;De<Ne;De++)He.push(N(Se[De-1],Se[De],Se[De+1],me));for(He.push(N(Se[Ne-1],Se[Ne],Se[0],me)),De=1;De<=Ne;De++)Ce+="C"+He[De-1][1]+" "+He[De][0]+" "+Se[De];return Ce+="C"+He[Ne][1]+" "+He[0][0]+" "+Se[0]+"Z",Ce};var U,z;function F(Se,me,Ce){return Ce&&(Se=te(Se)),me?O(Se[1]):B(Se[0])}function B(Se){var me=y.round(Se,2);return U=me,me}function O(Se){var me=y.round(Se,2);return z=me,me}function N(Se,me,Ce,Ne){var He=Se[0]-me[0],De=Se[1]-me[1],Ve=Ce[0]-me[0],at=Ce[1]-me[1],lt=Math.pow(He*He+De*De,I/2),$e=Math.pow(Ve*Ve+at*at,I/2),et=($e*$e*He-lt*lt*Ve)*Ne,ct=($e*$e*De-lt*lt*at)*Ne,dt=3*$e*(lt+$e),gt=3*lt*(lt+$e);return[[B(me[0]+(dt&&et/dt)),O(me[1]+(dt&&ct/dt))],[B(me[0]-(gt&&et/gt)),O(me[1]-(gt&&ct/gt))]]}var Y={hv:function(Se,me,Ce){return"H"+B(me[0])+"V"+F(me,1,Ce)},vh:function(Se,me,Ce){return"V"+O(me[1])+"H"+F(me,0,Ce)},hvh:function(Se,me,Ce){return"H"+B((Se[0]+me[0])/2)+"V"+O(me[1])+"H"+F(me,0,Ce)},vhv:function(Se,me,Ce){return"V"+O((Se[1]+me[1])/2)+"H"+B(me[0])+"V"+F(me,1,Ce)}},$=function(Se,me,Ce){return"L"+F(me,0,Ce)+","+F(me,1,Ce)};h.steps=function(Se){var me=Y[Se]||$;return function(Ce){for(var Ne="M"+B(Ce[0][0])+","+O(Ce[0][1]),He=Ce.length,De=1;De<He;De++)Ne+=me(Ce[De-1],Ce[De],De===He-1);return Ne}};function te(Se,me){var Ce=Se.backoff,Ne=Se.trace,He=Se.d,De=Se.i;if(Ce&&Ne&&Ne.marker&&Ne.marker.angle%360===0&&Ne.line&&Ne.line.shape!=="spline"){var Ve=P.isArrayOrTypedArray(Ce),at=Se,lt=me?me[0]:U||0,$e=me?me[1]:z||0,et=at[0],ct=at[1],dt=et-lt,gt=ct-$e,At=Math.atan2(gt,dt),Rt=Ve?Ce[De]:Ce;if(Rt==="auto"){var Vt=at.i;Ne.type==="scatter"&&Vt--;var Je=at.marker,Ge=Je.symbol;P.isArrayOrTypedArray(Ge)&&(Ge=Ge[Vt]);var Ie=Je.size;P.isArrayOrTypedArray(Ie)&&(Ie=Ie[Vt]),Rt=Je?h.symbolBackOffs[h.symbolNumber(Ge)]*Ie:0,Rt+=h.getMarkerStandoff(He[Vt],Ne)||0}var Fe=et-Rt*Math.cos(At),Pe=ct-Rt*Math.sin(At);(Fe<=et&&Fe>=lt||Fe>=et&&Fe<=lt)&&(Pe<=ct&&Pe>=$e||Pe>=ct&&Pe<=$e)&&(Se=[Fe,Pe])}return Se}h.applyBackoff=te,h.makeTester=function(){var Se=P.ensureSingleById(y.select("body"),"svg","js-plotly-tester",function(Ce){Ce.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),me=P.ensureSingle(Se,"path","js-reference-point",function(Ce){Ce.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Se,h.testref=me},h.savedBBoxes={};var ie=0,ce=1e4;h.bBox=function(Se,me,Ce){Ce||(Ce=J(Se));var Ne;if(Ce){if(Ne=h.savedBBoxes[Ce],Ne)return P.extendFlat({},Ne)}else if(Se.childNodes.length===1){var He=Se.childNodes[0];if(Ce=J(He),Ce){var De=+He.getAttribute("x")||0,Ve=+He.getAttribute("y")||0,at=He.getAttribute("transform");if(!at){var lt=h.bBox(He,!1,Ce);return De&&(lt.left+=De,lt.right+=De),Ve&&(lt.top+=Ve,lt.bottom+=Ve),lt}if(Ce+="~"+De+"~"+Ve+"~"+at,Ne=h.savedBBoxes[Ce],Ne)return P.extendFlat({},Ne)}}var $e,et;me?$e=Se:(et=h.tester.node(),$e=Se.cloneNode(!0),et.appendChild($e)),y.select($e).attr("transform",null).call(o.positionText,0,0);var ct=$e.getBoundingClientRect(),dt=h.testref.node().getBoundingClientRect();me||et.removeChild($e);var gt={height:ct.height,width:ct.width,left:ct.left-dt.left,top:ct.top-dt.top,right:ct.right-dt.left,bottom:ct.bottom-dt.top};return ie>=ce&&(h.savedBBoxes={},ie=0),Ce&&(h.savedBBoxes[Ce]=gt),ie++,P.extendFlat({},gt)};function J(Se){var me=Se.getAttribute("data-unformatted");if(me!==null)return me+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}h.setClipUrl=function(Se,me,Ce){Se.attr("clip-path",Z(me,Ce))};function Z(Se,me){if(!Se)return null;var Ce=me._context,Ne=Ce._exportedPlot?"":Ce._baseUrl||"";return Ne?"url('"+Ne+"#"+Se+"')":"url(#"+Se+")"}h.getTranslate=function(Se){var me=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ce=Se.attr?"attr":"getAttribute",Ne=Se[Ce]("transform")||"",He=Ne.replace(me,function(De,Ve,at){return[Ve,at].join(" ")}).split(" ");return{x:+He[0]||0,y:+He[1]||0}},h.setTranslate=function(Se,me,Ce){var Ne=/(\btranslate\(.*?\);?)/,He=Se.attr?"attr":"getAttribute",De=Se.attr?"attr":"setAttribute",Ve=Se[He]("transform")||"";return me=me||0,Ce=Ce||0,Ve=Ve.replace(Ne,"").trim(),Ve+=t(me,Ce),Ve=Ve.trim(),Se[De]("transform",Ve),Ve},h.getScale=function(Se){var me=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ce=Se.attr?"attr":"getAttribute",Ne=Se[Ce]("transform")||"",He=Ne.replace(me,function(De,Ve,at){return[Ve,at].join(" ")}).split(" ");return{x:+He[0]||1,y:+He[1]||1}},h.setScale=function(Se,me,Ce){var Ne=/(\bscale\(.*?\);?)/,He=Se.attr?"attr":"getAttribute",De=Se.attr?"attr":"setAttribute",Ve=Se[He]("transform")||"";return me=me||1,Ce=Ce||1,Ve=Ve.replace(Ne,"").trim(),Ve+="scale("+me+","+Ce+")",Ve=Ve.trim(),Se[De]("transform",Ve),Ve};var ae=/\s*sc.*/;h.setPointGroupScale=function(Se,me,Ce){if(me=me||1,Ce=Ce||1,!!Se){var Ne=me===1&&Ce===1?"":"scale("+me+","+Ce+")";Se.each(function(){var He=(this.getAttribute("transform")||"").replace(ae,"");He+=Ne,He=He.trim(),this.setAttribute("transform",He)})}};var j=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Se,me,Ce){Se&&Se.each(function(){var Ne,He=y.select(this),De=He.select("text");if(De.node()){var Ve=parseFloat(De.attr("x")||0),at=parseFloat(De.attr("y")||0),lt=(He.attr("transform")||"").match(j);me===1&&Ce===1?Ne=[]:Ne=[t(Ve,at),"scale("+me+","+Ce+")",t(-Ve,-at)],lt&&Ne.push(lt),He.attr("transform",Ne.join(""))}})};function q(Se,me){var Ce;return Se&&(Ce=Se.mf),Ce===void 0&&(Ce=me.marker&&me.marker.standoff||0),!me._geo&&!me._xA?-Ce:Ce}h.getMarkerStandoff=q;var oe=Math.atan2,Q=Math.cos,K=Math.sin;function se(Se,me){var Ce=me[0],Ne=me[1];return[Ce*Q(Se)-Ne*K(Se),Ce*K(Se)+Ne*Q(Se)]}var ne,fe,ye,Ee,Te,ze;function ke(Se,me){var Ce=Se.ma;Ce===void 0&&(Ce=me.marker.angle,(!Ce||P.isArrayOrTypedArray(Ce))&&(Ce=0));var Ne,He,De=me.marker.angleref;if(De==="previous"||De==="north"){if(me._geo){var Ve=me._geo.project(Se.lonlat);Ne=Ve[0],He=Ve[1]}else{var at=me._xA,lt=me._yA;if(at&&lt)Ne=at.c2p(Se.x),He=lt.c2p(Se.y);else return 90}if(me._geo){var $e=Se.lonlat[0],et=Se.lonlat[1],ct=me._geo.project([$e,et+1e-5]),dt=me._geo.project([$e+1e-5,et]),gt=oe(dt[1]-He,dt[0]-Ne),At=oe(ct[1]-He,ct[0]-Ne),Rt;if(De==="north")Rt=Ce/180*Math.PI;else if(De==="previous"){var Vt=$e/180*Math.PI,Je=et/180*Math.PI,Ge=ne/180*Math.PI,Ie=fe/180*Math.PI,Fe=Ge-Vt,Pe=Q(Ie)*K(Fe),xe=K(Ie)*Q(Je)-Q(Ie)*K(Je)*Q(Fe);Rt=-oe(Pe,xe)-Math.PI,ne=$e,fe=et}var ge=se(gt,[Q(Rt),0]),Me=se(At,[K(Rt),0]);Ce=oe(ge[1]+Me[1],ge[0]+Me[0])/Math.PI*180,De==="previous"&&!(ze===me.uid&&Se.i===Te+1)&&(Ce=null)}if(De==="previous"&&!me._geo)if(ze===me.uid&&Se.i===Te+1&&L(Ne)&&L(He)){var Ae=Ne-ye,Ue=He-Ee,Ze=me.line&&me.line.shape||"",tt=Ze.slice(Ze.length-1);tt==="h"&&(Ue=0),tt==="v"&&(Ae=0),Ce+=oe(Ue,Ae)/Math.PI*180+90}else Ce=null}return ye=Ne,Ee=He,Te=Se.i,ze=me.uid,Ce}h.getMarkerAngle=ke},90998:function(G,H,e){var y=e(95616),P=e(39898).round,a="M0,0Z",L=Math.sqrt(2),M=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return T?l(f,T,s):s}},square:{n:1,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(g,f,T){if(t(f))return a;var h=P(g*1.3,2);return l(f,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(g,f,T){if(t(f))return a;var h=P(g*.4,2),s=P(g*1.2,2);return l(f,T,"M"+s+","+h+"H"+h+"V"+s+"H-"+h+"V"+h+"H-"+s+"V-"+h+"H-"+h+"V-"+s+"H"+h+"V-"+h+"H"+s+"Z")}},x:{n:4,f:function(g,f,T){if(t(f))return a;var h=P(g*.8/L,2),s="l"+h+","+h,d="l"+h+",-"+h,A="l-"+h+",-"+h,w="l-"+h+","+h;return l(f,T,"M0,"+h+s+d+A+d+A+w+A+w+s+w+s+"Z")}},"triangle-up":{n:5,f:function(g,f,T){if(t(f))return a;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M-"+h+","+s+"H"+h+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(g,f,T){if(t(f))return a;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M-"+h+",-"+s+"H"+h+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(g,f,T){if(t(f))return a;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M"+s+",-"+h+"V"+h+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(g,f,T){if(t(f))return a;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M-"+s+",-"+h+"V"+h+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(g,f,T){if(t(f))return a;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M-"+s+",-"+h+"H"+h+"V"+s+"Z")}},"triangle-se":{n:10,f:function(g,f,T){if(t(f))return a;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M"+h+",-"+s+"V"+h+"H-"+s+"Z")}},"triangle-sw":{n:11,f:function(g,f,T){if(t(f))return a;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M"+s+","+h+"H-"+h+"V-"+s+"Z")}},"triangle-nw":{n:12,f:function(g,f,T){if(t(f))return a;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M-"+h+","+s+"V-"+h+"H"+s+"Z")}},pentagon:{n:13,f:function(g,f,T){if(t(f))return a;var h=P(g*.951,2),s=P(g*.588,2),d=P(-g,2),A=P(g*-.309,2),w=P(g*.809,2);return l(f,T,"M"+h+","+A+"L"+s+","+w+"H-"+s+"L-"+h+","+A+"L0,"+d+"Z")}},hexagon:{n:14,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s=P(g/2,2),d=P(g*M/2,2);return l(f,T,"M"+d+",-"+s+"V"+s+"L0,"+h+"L-"+d+","+s+"V-"+s+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s=P(g/2,2),d=P(g*M/2,2);return l(f,T,"M-"+s+","+d+"H"+s+"L"+h+",0L"+s+",-"+d+"H-"+s+"L-"+h+",0Z")}},octagon:{n:16,f:function(g,f,T){if(t(f))return a;var h=P(g*.924,2),s=P(g*.383,2);return l(f,T,"M-"+s+",-"+h+"H"+s+"L"+h+",-"+s+"V"+s+"L"+s+","+h+"H-"+s+"L-"+h+","+s+"V-"+s+"Z")}},star:{n:17,f:function(g,f,T){if(t(f))return a;var h=g*1.4,s=P(h*.225,2),d=P(h*.951,2),A=P(h*.363,2),w=P(h*.588,2),C=P(-h,2),b=P(h*-.309,2),S=P(h*.118,2),x=P(h*.809,2),i=P(h*.382,2);return l(f,T,"M"+s+","+b+"H"+d+"L"+A+","+S+"L"+w+","+x+"L0,"+i+"L-"+w+","+x+"L-"+A+","+S+"L-"+d+","+b+"H-"+s+"L0,"+C+"Z")}},hexagram:{n:18,f:function(g,f,T){if(t(f))return a;var h=P(g*.66,2),s=P(g*.38,2),d=P(g*.76,2);return l(f,T,"M-"+d+",0l-"+s+",-"+h+"h"+d+"l"+s+",-"+h+"l"+s+","+h+"h"+d+"l-"+s+","+h+"l"+s+","+h+"h-"+d+"l-"+s+","+h+"l-"+s+",-"+h+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(g,f,T){if(t(f))return a;var h=P(g*M*.8,2),s=P(g*.8,2),d=P(g*1.6,2),A=P(g*4,2),w="A "+A+","+A+" 0 0 1 ";return l(f,T,"M-"+h+","+s+w+h+","+s+w+"0,-"+d+w+"-"+h+","+s+"Z")}},"star-triangle-down":{n:20,f:function(g,f,T){if(t(f))return a;var h=P(g*M*.8,2),s=P(g*.8,2),d=P(g*1.6,2),A=P(g*4,2),w="A "+A+","+A+" 0 0 1 ";return l(f,T,"M"+h+",-"+s+w+"-"+h+",-"+s+w+"0,"+d+w+h+",-"+s+"Z")}},"star-square":{n:21,f:function(g,f,T){if(t(f))return a;var h=P(g*1.1,2),s=P(g*2,2),d="A "+s+","+s+" 0 0 1 ";return l(f,T,"M-"+h+",-"+h+d+"-"+h+","+h+d+h+","+h+d+h+",-"+h+d+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(g,f,T){if(t(f))return a;var h=P(g*1.4,2),s=P(g*1.9,2),d="A "+s+","+s+" 0 0 1 ";return l(f,T,"M-"+h+",0"+d+"0,"+h+d+h+",0"+d+"0,-"+h+d+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(g,f,T){if(t(f))return a;var h=P(g*.7,2),s=P(g*1.4,2);return l(f,T,"M0,"+s+"L"+h+",0L0,-"+s+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(g,f,T){if(t(f))return a;var h=P(g*1.4,2),s=P(g*.7,2);return l(f,T,"M0,"+s+"L"+h+",0L0,-"+s+"L-"+h+",0Z")}},hourglass:{n:25,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s=P(g/L,2);return l(f,T,"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,f,T){if(t(f))return a;var h=P(g*1.3,2);return l(f,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,f,T){if(t(f))return a;var h=P(g*1.3,2),s=P(g*.65,2);return l(f,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+s+",-"+s+"L"+s+","+s+"M-"+s+","+s+"L"+s+",-"+s)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,f,T){if(t(f))return a;var h=P(g*1.4,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,f,T){if(t(f))return a;var h=P(g*1.2,2),s=P(g*.85,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,f,T){if(t(f))return a;var h=P(g/2,2),s=P(g,2);return l(f,T,"M"+h+","+s+"V-"+s+"M"+(h-s)+",-"+s+"V"+s+"M"+s+","+h+"H-"+s+"M-"+s+","+(h-s)+"H"+s)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,f,T){if(t(f))return a;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M-"+h+","+d+"L0,0M"+h+","+d+"L0,0M0,-"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,f,T){if(t(f))return a;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M-"+h+",-"+d+"L0,0M"+h+",-"+d+"L0,0M0,"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,f,T){if(t(f))return a;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M"+d+","+h+"L0,0M"+d+",-"+h+"L0,0M-"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,f,T){if(t(f))return a;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M-"+d+","+h+"L0,0M-"+d+",-"+h+"L0,0M"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,f,T){if(t(f))return a;var h=P(g*1.4,2);return l(f,T,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,f,T){if(t(f))return a;var h=P(g*1.4,2);return l(f,T,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,f,T){if(t(f))return a;var h=P(g,2);return l(f,T,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s=P(g*2,2);return l(f,T,"M0,0L-"+h+","+s+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s=P(g*2,2);return l(f,T,"M0,0L-"+h+",-"+s+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,f,T){if(t(f))return a;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,0L"+h+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,f,T){if(t(f))return a;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,0L-"+h+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s=P(g*2,2);return l(f,T,"M-"+h+",0H"+h+"M0,0L-"+h+","+s+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,f,T){if(t(f))return a;var h=P(g,2),s=P(g*2,2);return l(f,T,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+s+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,f,T){if(t(f))return a;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,-"+s+"V"+s+"M0,0L"+h+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,f,T){if(t(f))return a;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,-"+s+"V"+s+"M0,0L-"+h+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,f,T){if(t(f))return a;var h=v/2.5,s=2*g*p(h),d=2*g*r(h);return l(f,T,"M0,0L"+-s+","+d+"L"+s+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,f,T){if(t(f))return a;var h=v/4,s=2*g*p(h),d=2*g*r(h);return l(f,T,"M0,0L"+-s+","+d+"A "+2*g+","+2*g+" 0 0 1 "+s+","+d+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var o,n,c,u;function l(g,f,T){if((!g||g%360===0)&&!f)return T;if(c===g&&u===f&&o===T)return n;c=g,u=f,o=T;function h(I,U){var z=p(I),F=r(I),B=U[0],O=U[1]+(f||0);return[B*z-O*F,B*F+O*z]}for(var s=g/180*v,d=0,A=0,w=y(T),C="",b=0;b<w.length;b++){var S=w[b],x=S[0],i=d,E=A;if(x==="M"||x==="L")d=+S[1],A=+S[2];else if(x==="m"||x==="l")d+=+S[1],A+=+S[2];else if(x==="H")d=+S[1];else if(x==="h")d+=+S[1];else if(x==="V")A=+S[1];else if(x==="v")A+=+S[1];else if(x==="A"){d=+S[1],A=+S[2];var m=h(s,[+S[6],+S[7]]);S[6]=m[0],S[7]=m[1],S[3]=+S[3]+g}(x==="H"||x==="V")&&(x="L"),(x==="h"||x==="v")&&(x="l"),(x==="m"||x==="l")&&(d-=i,A-=E);var k=h(s,[d,A]);(x==="H"||x==="V")&&(x="L"),(x==="M"||x==="L"||x==="m"||x==="l")&&(S[1]=k[0],S[2]=k[1]),S[0]=x,C+=S[0]+S.slice(1).join(",")}return n=C,C}},25673:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(G,H,e){var y=e(92770),P=e(73972),a=e(89298),L=e(71828),M=e(45827);G.exports=function(r){for(var t=r.calcdata,o=0;o<t.length;o++){var n=t[o],c=n[0].trace;if(c.visible===!0&&P.traceIs(c,"errorBarsOK")){var u=a.getFromId(r,c.xaxis),l=a.getFromId(r,c.yaxis);v(n,c,u,"x"),v(n,c,l,"y")}}};function v(p,r,t,o){var n=r["error_"+o]||{},c=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(c){for(var l=M(n),g=0;g<p.length;g++){var f=p[g],T=f.i;if(T===void 0)T=g;else if(T===null)continue;var h=f[o];if(y(t.c2l(h))){var s=l(h,T);if(y(s[0])&&y(s[1])){var d=f[o+"s"]=h-s[0],A=f[o+"h"]=h+s[1];u.push(d,A)}}}var w=t._id,C=r._extremes[w],b=a.findExtremes(t,u,L.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(b.min),C.max=C.max.concat(b.max)}}},45827:function(G){G.exports=function(y){var P=y.type,a=y.symmetric;if(P==="data"){var L=y.array||[];if(a)return function(t,o){var n=+L[o];return[n,n]};var M=y.arrayminus||[];return function(t,o){var n=+L[o],c=+M[o];return!isNaN(n)||!isNaN(c)?[c||0,n||0]:[NaN,NaN]}}else{var v=H(P,y.value),p=H(P,y.valueminus);return a||y.valueminus===void 0?function(t){var o=v(t);return[o,o]}:function(t){return[p(t),v(t)]}}};function H(e,y){if(e==="percent")return function(P){return Math.abs(P*y/100)};if(e==="constant")return function(){return Math.abs(y)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},97587:function(G,H,e){var y=e(92770),P=e(73972),a=e(71828),L=e(44467),M=e(25673);G.exports=function(v,p,r,t){var o="error_"+t.axis,n=L.newContainer(p,o),c=v[o]||{};function u(d,A){return a.coerce(c,n,M,d,A)}var l=c.array!==void 0||c.value!==void 0||c.type==="sqrt",g=u("visible",l);if(g!==!1){var f=u("type","array"in c?"data":"percent"),T=!0;f!=="sqrt"&&(T=u("symmetric",!((f==="data"?"arrayminus":"valueminus")in c))),f==="data"?(u("array"),u("traceref"),T||(u("arrayminus"),u("tracerefminus"))):(f==="percent"||f==="constant")&&(u("value"),T||u("valueminus"));var h="copy_"+t.inherit+"style";if(t.inherit){var s=p["error_"+t.inherit];(s||{}).visible&&u(h,!(c.color||y(c.thickness)||y(c.width)))}(!t.inherit||!n[h])&&(u("color",r),u("thickness"),u("width",P.traceIs(p,"gl3d")?0:4))}}},37369:function(G,H,e){var y=e(71828),P=e(30962).overrideAll,a=e(25673),L={error_x:y.extendFlat({},a),error_y:y.extendFlat({},a)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var M={error_x:y.extendFlat({},a),error_y:y.extendFlat({},a),error_z:y.extendFlat({},a)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(M,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},19398:function(G,H,e){var y=e(39898),P=e(92770),a=e(91424),L=e(34098);G.exports=function(p,r,t,o){var n,c=t.xaxis,u=t.yaxis,l=o&&o.duration>0,g=p._context.staticPlot;r.each(function(f){var T=f[0].trace,h=T.error_x||{},s=T.error_y||{},d;T.ids&&(d=function(b){return b.id});var A=L.hasMarkers(T)&&T.marker.maxdisplayed>0;!s.visible&&!h.visible&&(f=[]);var w=y.select(this).selectAll("g.errorbar").data(f,d);if(w.exit().remove(),!!f.length){h.visible||w.selectAll("path.xerror").remove(),s.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var C=w.enter().append("g").classed("errorbar",!0);l&&C.style("opacity",0).transition().duration(o.duration).style("opacity",1),a.setClipUrl(w,t.layerClipId,p),w.each(function(b){var S=y.select(this),x=M(b,c,u);if(!(A&&!b.vis)){var i,E=S.select("path.yerror");if(s.visible&&P(x.x)&&P(x.yh)&&P(x.ys)){var m=s.width;i="M"+(x.x-m)+","+x.yh+"h"+2*m+"m-"+m+",0V"+x.ys,x.noYS||(i+="m-"+m+",0h"+2*m),n=!E.size(),n?E=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0):l&&(E=E.transition().duration(o.duration).ease(o.easing)),E.attr("d",i)}else E.remove();var k=S.select("path.xerror");if(h.visible&&P(x.y)&&P(x.xh)&&P(x.xs)){var I=(h.copy_ystyle?s:h).width;i="M"+x.xh+","+(x.y-I)+"v"+2*I+"m0,-"+I+"H"+x.xs,x.noXS||(i+="m0,-"+I+"v"+2*I),n=!k.size(),n?k=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0):l&&(k=k.transition().duration(o.duration).ease(o.easing)),k.attr("d",i)}else k.remove()}})}})};function M(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},62662:function(G,H,e){var y=e(39898),P=e(7901);G.exports=function(L){L.each(function(M){var v=M[0].trace,p=v.error_y||{},r=v.error_x||{},t=y.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},77914:function(G,H,e){var y=e(41940),P=e(528).hoverlabel,a=e(1426).extendFlat;G.exports={hoverlabel:{bgcolor:a({},P.bgcolor,{arrayOk:!0}),bordercolor:a({},P.bordercolor,{arrayOk:!0}),font:y({arrayOk:!0,editType:"none"}),align:a({},P.align,{arrayOk:!0}),namelength:a({},P.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(G,H,e){var y=e(71828),P=e(73972);G.exports=function(M){var v=M.calcdata,p=M._fullLayout;function r(u){return function(l){return y.coerceHoverinfo({hoverinfo:l},{_module:u._module},p)}}for(var t=0;t<v.length;t++){var o=v[t],n=o[0].trace;if(!P.traceIs(n,"pie-like")){var c=P.traceIs(n,"2dMap")?a:y.fillArray;c(n.hoverinfo,o,"hi",r(n)),n.hovertemplate&&c(n.hovertemplate,o,"ht"),n.hoverlabel&&(c(n.hoverlabel.bgcolor,o,"hbg"),c(n.hoverlabel.bordercolor,o,"hbc"),c(n.hoverlabel.font.size,o,"hts"),c(n.hoverlabel.font.color,o,"htc"),c(n.hoverlabel.font.family,o,"htf"),c(n.hoverlabel.namelength,o,"hnl"),c(n.hoverlabel.align,o,"hta"))}}};function a(L,M,v,p){p=p||y.identity,Array.isArray(L)&&(M[0][v]=p(L))}},75914:function(G,H,e){var y=e(73972),P=e(88335).hover;G.exports=function(L,M,v){var p=y.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,M,v,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:M})}L._hoverdata&&M&&M.target&&(p&&p.then?p.then(r):r(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},26675:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(G,H,e){var y=e(71828),P=e(77914),a=e(38048);G.exports=function(M,v,p,r){function t(n,c){return y.coerce(M,v,P,n,c)}var o=y.extendFlat({},r.hoverlabel);v.hovertemplate&&(o.namelength=-1),a(M,v,t,o)}},23469:function(G,H,e){var y=e(71828);H.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},H.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],o=p.yaxes||[],n=0;n<t.length;n++)for(var c=0;c<o.length;c++)if(r.indexOf(t[n]+o[c])!==-1)return!0;return!1}return r.indexOf(H.getSubplot(p))!==-1},H.flat=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=r;return t},H.p2c=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=p[o].p2c(r);return t},H.getDistanceFunction=function(p,r,t,o){return p==="closest"?o||H.quadrature(r,t):p.charAt(0)==="x"?r:t},H.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var o=0;o<p.length;o++){var n=r(p[o]);n<=t.distance&&(t.index=o,t.distance=n)}return t},H.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},H.quadrature=function(p,r){return function(t){var o=p(t),n=r(t);return Math.sqrt(o*o+n*n)}},H.makeEventData=function(p,r,t){var o="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var c=r._indexToPoints[o];c.length===1?n.pointIndex=c[0]:n.pointIndices=c}else n.pointIndex=o;return r._module.eventData?n=r._module.eventData(n,p,r,t,o):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),H.appendArrayPointValue(n,r,o),n},H.appendArrayPointValue=function(p,r,t){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var c=o[n],u=a(c);if(p[u]===void 0){var l=y.nestedProperty(r,c).get(),g=L(l,t);g!==void 0&&(p[u]=g)}}},H.appendArrayMultiPointValues=function(p,r,t){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var c=o[n],u=a(c);if(p[u]===void 0){for(var l=y.nestedProperty(r,c).get(),g=new Array(t.length),f=0;f<t.length;f++)g[f]=L(l,t[f]);p[u]=g}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(p){return P[p]||p}function L(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var M={x:!0,y:!0},v={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},H.isXYhover=function(p){return typeof p!="string"?!1:!!M[p]}},88335:function(G,H,e){var y=e(39898),P=e(92770),a=e(84267),L=e(71828),M=L.strTranslate,v=L.strRotate,p=e(11086),r=e(63893),t=e(39918),o=e(91424),n=e(7901),c=e(28569),u=e(89298),l=e(73972),g=e(23469),f=e(26675),T=e(99017),h=e(43969),s=f.YANGLE,d=Math.PI*s/180,A=1/Math.sin(d),w=Math.cos(d),C=Math.sin(d),b=f.HOVERARROWSIZE,S=f.HOVERTEXTPAD,x={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};H.hover=function(oe,Q,K,se){oe=L.getGraphDiv(oe);var ne=Q.target;L.throttle(oe._fullLayout._uid+f.HOVERID,f.HOVERMINTIME,function(){E(oe,Q,K,se,ne)})},H.loneHover=function(oe,Q){var K=!0;Array.isArray(oe)||(K=!1,oe=[oe]);var se=Q.gd,ne=Z(se),fe=ae(se),ye=oe.map(function(He){var De=He._x0||He.x0||He.x||0,Ve=He._x1||He.x1||He.x||0,at=He._y0||He.y0||He.y||0,lt=He._y1||He.y1||He.y||0,$e=He.eventData;if($e){var et=Math.min(De,Ve),ct=Math.max(De,Ve),dt=Math.min(at,lt),gt=Math.max(at,lt),At=He.trace;if(l.traceIs(At,"gl3d")){var Rt=se._fullLayout[At.scene]._scene.container,Vt=Rt.offsetLeft,Je=Rt.offsetTop;et+=Vt,ct+=Vt,dt+=Je,gt+=Je}$e.bbox={x0:et+fe,x1:ct+fe,y0:dt+ne,y1:gt+ne},Q.inOut_bbox&&Q.inOut_bbox.push($e.bbox)}else $e=!1;return{color:He.color||n.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:$e}}),Ee=!1,Te=I(ye,{gd:se,hovermode:"closest",rotateLabels:Ee,bgColor:Q.bgColor||n.background,container:y.select(Q.container),outerContainer:Q.outerContainer||Q.container}),ze=Te.hoverLabels,ke=5,Se=0,me=0;ze.sort(function(He,De){return He.y0-De.y0}).each(function(He,De){var Ve=He.y0-He.by/2;Ve-ke<Se?He.offset=Se-Ve+ke:He.offset=0,Se=Ve+He.by+He.offset,De===Q.anchorIndex&&(me=He.offset)}).each(function(He){He.offset-=me});var Ce=se._fullLayout._invScaleX,Ne=se._fullLayout._invScaleY;return O(ze,Ee,Ce,Ne),K?ze:ze.node()};function E(q,oe,Q,K,se){Q||(Q="xy");var ne=Array.isArray(Q)?Q:[Q],fe=q._fullLayout,ye=fe._plots||[],Ee=ye[Q],Te=fe._has("cartesian");if(Ee){var ze=Ee.overlays.map(function(Er){return Er.id});ne=ne.concat(ze)}for(var ke=ne.length,Se=new Array(ke),me=new Array(ke),Ce=!1,Ne=0;Ne<ke;Ne++){var He=ne[Ne];if(ye[He])Ce=!0,Se[Ne]=ye[He].xaxis,me[Ne]=ye[He].yaxis;else if(fe[He]&&fe[He]._subplot){var De=fe[He]._subplot;Se[Ne]=De.xaxis,me[Ne]=De.yaxis}else{L.warn("Unrecognized subplot: "+He);return}}var Ve=oe.hovermode||fe.hovermode;if(Ve&&!Ce&&(Ve="closest"),["x","y","closest","x unified","y unified"].indexOf(Ve)===-1||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return c.unhoverRaw(q,oe);var at=fe.hoverdistance;at===-1&&(at=1/0);var lt=fe.spikedistance;lt===-1&&(lt=1/0);var $e=[],et=[],ct,dt,gt,At,Rt,Vt,Je,Ge,Ie,Fe,Pe,xe,ge,Me={hLinePoint:null,vLinePoint:null},Ae=!1;if(Array.isArray(oe))for(Ve="array",gt=0;gt<oe.length;gt++)Rt=q.calcdata[oe[gt].curveNumber||0],Rt&&(Vt=Rt[0].trace,Rt[0].trace.hoverinfo!=="skip"&&(et.push(Rt),Vt.orientation==="h"&&(Ae=!0)));else{for(At=0;At<q.calcdata.length;At++)Rt=q.calcdata[At],Vt=Rt[0].trace,Vt.hoverinfo!=="skip"&&g.isTraceInSubplots(Vt,ne)&&(et.push(Rt),Vt.orientation==="h"&&(Ae=!0));var Ue=!se,Ze,tt;if(Ue)"xpx"in oe?Ze=oe.xpx:Ze=Se[0]._length/2,"ypx"in oe?tt=oe.ypx:tt=me[0]._length/2;else{if(p.triggerHandler(q,"plotly_beforehover",oe)===!1)return;var ft=se.getBoundingClientRect();Ze=oe.clientX-ft.left,tt=oe.clientY-ft.top,fe._calcInverseTransform(q);var pt=L.apply3DTransform(fe._invTransform)(Ze,tt);if(Ze=pt[0],tt=pt[1],Ze<0||Ze>Se[0]._length||tt<0||tt>me[0]._length)return c.unhoverRaw(q,oe)}if(oe.pointerX=Ze+Se[0]._offset,oe.pointerY=tt+me[0]._offset,"xval"in oe?ct=g.flat(ne,oe.xval):ct=g.p2c(Se,Ze),"yval"in oe?dt=g.flat(ne,oe.yval):dt=g.p2c(me,tt),!P(ct[0])||!P(dt[0]))return L.warn("Fx.hover failed",oe,q),c.unhoverRaw(q,oe)}var Yt=1/0;function Jt(Er,Wr){for(At=0;At<et.length;At++)if(Rt=et[At],!(!Rt||!Rt[0]||!Rt[0].trace)&&(Vt=Rt[0].trace,!(Vt.visible!==!0||Vt._length===0)&&["carpet","contourcarpet"].indexOf(Vt._module.name)===-1)){if(Vt.type==="splom"?(Ge=0,Je=ne[Ge]):(Je=g.getSubplot(Vt),Ge=ne.indexOf(Je)),Ie=Ve,g.isUnifiedHover(Ie)&&(Ie=Ie.charAt(0)),xe={cd:Rt,trace:Vt,xa:Se[Ge],ya:me[Ge],maxHoverDistance:at,maxSpikeDistance:lt,index:!1,distance:Math.min(Yt,at),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Vt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},fe[Je]&&(xe.subplot=fe[Je]._subplot),fe._splomScenes&&fe._splomScenes[Vt.uid]&&(xe.scene=fe._splomScenes[Vt.uid]),ge=$e.length,Ie==="array"){var Hr=oe[At];"pointNumber"in Hr?(xe.index=Hr.pointNumber,Ie="closest"):(Ie="","xval"in Hr&&(Fe=Hr.xval,Ie="x"),"yval"in Hr&&(Pe=Hr.yval,Ie=Ie?"closest":"y"))}else Er!==void 0&&Wr!==void 0?(Fe=Er,Pe=Wr):(Fe=ct[Ge],Pe=dt[Ge]);if(at!==0)if(Vt._module&&Vt._module.hoverPoints){var an=Vt._module.hoverPoints(xe,Fe,Pe,Ie,{finiteRange:!0,hoverLayer:fe._hoverlayer});if(an)for(var vn,pn=0;pn<an.length;pn++)vn=an[pn],P(vn.x0)&&P(vn.y0)&&$e.push(N(vn,Ve))}else L.log("Unrecognized trace type in hover:",Vt);if(Ve==="closest"&&$e.length>ge&&($e.splice(0,ge),Yt=$e[0].distance),Te&&lt!==0&&$e.length===0){xe.distance=lt,xe.index=!1;var En=Vt._module.hoverPoints(xe,Fe,Pe,"closest",{hoverLayer:fe._hoverlayer});if(En&&(En=En.filter(function(Jn){return Jn.spikeDistance<=lt})),En&&En.length){var _n,oa=En.filter(function(Jn){return Jn.xa.showspikes&&Jn.xa.spikesnap!=="hovered data"});if(oa.length){var Kn=oa[0];P(Kn.x0)&&P(Kn.y0)&&(_n=zt(Kn),(!Me.vLinePoint||Me.vLinePoint.spikeDistance>_n.spikeDistance)&&(Me.vLinePoint=_n))}var $n=En.filter(function(Jn){return Jn.ya.showspikes&&Jn.ya.spikesnap!=="hovered data"});if($n.length){var Yn=$n[0];P(Yn.x0)&&P(Yn.y0)&&(_n=zt(Yn),(!Me.hLinePoint||Me.hLinePoint.spikeDistance>_n.spikeDistance)&&(Me.hLinePoint=_n))}}}}}Jt();function Tt(Er,Wr,Hr){for(var an=null,vn=1/0,pn,En=0;En<Er.length;En++)pn=Er[En].spikeDistance,Hr&&En===0&&(pn=-1/0),pn<=vn&&pn<=Wr&&(an=Er[En],vn=pn);return an}function zt(Er){return Er?{xa:Er.xa,ya:Er.ya,x:Er.xSpike!==void 0?Er.xSpike:(Er.x0+Er.x1)/2,y:Er.ySpike!==void 0?Er.ySpike:(Er.y0+Er.y1)/2,distance:Er.distance,spikeDistance:Er.spikeDistance,curveNumber:Er.trace.index,color:Er.color,pointNumber:Er.index}:null}var $t={fullLayout:fe,container:fe._hoverlayer,event:oe},wr=q._spikepoints,yt={vLinePoint:Me.vLinePoint,hLinePoint:Me.hLinePoint};q._spikepoints=yt;var Xt=function(){$e.sort(function(Er,Wr){return Er.distance-Wr.distance}),$e=ce($e,Ve)};Xt();var Qt=Ve.charAt(0),gr=(Qt==="x"||Qt==="y")&&$e[0]&&i[$e[0].trace.type];if(Te&&lt!==0&&$e.length!==0){var sr=$e.filter(function(Er){return Er.ya.showspikes}),vt=Tt(sr,lt,gr);Me.hLinePoint=zt(vt);var it=$e.filter(function(Er){return Er.xa.showspikes}),xt=Tt(it,lt,gr);Me.vLinePoint=zt(xt)}if($e.length===0){var Mt=c.unhoverRaw(q,oe);return Te&&(Me.hLinePoint!==null||Me.vLinePoint!==null)&&te(wr)&&Y(q,Me,$t),Mt}if(Te&&te(wr)&&Y(q,Me,$t),g.isXYhover(Ie)&&$e[0].length!==0&&$e[0].trace.type!=="splom"){var Dt=$e[0];x[Dt.trace.type]?$e=$e.filter(function(Er){return Er.trace.index===Dt.trace.index}):$e=[Dt];var Lt=$e.length,Bt=J("x",Dt,fe),Nt=J("y",Dt,fe);Jt(Bt,Nt);var jt=[],lr={},fr=0,hr=function(Er){var Wr=x[Er.trace.type]?m(Er):Er.trace.index;if(!lr[Wr])fr++,lr[Wr]=fr,jt.push(Er);else{var Hr=lr[Wr]-1,an=jt[Hr];Hr>0&&Math.abs(Er.distance)<Math.abs(an.distance)&&(jt[Hr]=Er)}},Ye;for(Ye=0;Ye<Lt;Ye++)hr($e[Ye]);for(Ye=$e.length-1;Ye>Lt-1;Ye--)hr($e[Ye]);$e=jt,Xt()}var We=q._hoverdata,kt=[],It=Z(q),Zt=ae(q);for(gt=0;gt<$e.length;gt++){var rr=$e[gt],ur=g.makeEventData(rr,rr.trace,rr.cd);if(rr.hovertemplate!==!1){var er=!1;rr.cd[rr.index]&&rr.cd[rr.index].ht&&(er=rr.cd[rr.index].ht),rr.hovertemplate=er||rr.trace.hovertemplate||!1}if(rr.xa&&rr.ya){var Ot=rr.x0+rr.xa._offset,vr=rr.x1+rr.xa._offset,yr=rr.y0+rr.ya._offset,pr=rr.y1+rr.ya._offset,cr=Math.min(Ot,vr),Ur=Math.max(Ot,vr),kr=Math.min(yr,pr),Rr=Math.max(yr,pr);ur.bbox={x0:cr+Zt,x1:Ur+Zt,y0:kr+It,y1:Rr+It}}rr.eventData=[ur],kt.push(ur)}q._hoverdata=kt;var hn=Ve==="y"&&(et.length>1||$e.length>1)||Ve==="closest"&&Ae&&$e.length>1,tn=n.combine(fe.plot_bgcolor||n.background,fe.paper_bgcolor),Fn=I($e,{gd:q,hovermode:Ve,rotateLabels:hn,bgColor:tn,container:fe._hoverlayer,outerContainer:fe._paper.node(),commonLabelOpts:fe.hoverlabel,hoverdistance:fe.hoverdistance}),mn=Fn.hoverLabels;if(g.isUnifiedHover(Ve)||(z(mn,hn,fe,Fn.commonLabelBoundingBox),O(mn,hn,fe._invScaleX,fe._invScaleY)),se&&se.tagName){var Mr=l.getComponentMethod("annotations","hasClickToShow")(q,kt);t(y.select(se),Mr?"pointer":"")}!se||K||!$(q,oe,We)||(We&&q.emit("plotly_unhover",{event:oe,points:We}),q.emit("plotly_hover",{event:oe,points:q._hoverdata,xaxes:Se,yaxes:me,xvals:ct,yvals:dt}))}function m(q){return[q.trace.index,q.index,q.x0,q.y0,q.name,q.attr,q.xa?q.xa._id:"",q.ya?q.ya._id:""].join(",")}var k=/<extra>([\s\S]*)<\/extra>/;function I(q,oe){var Q=oe.gd,K=Q._fullLayout,se=oe.hovermode,ne=oe.rotateLabels,fe=oe.bgColor,ye=oe.container,Ee=oe.outerContainer,Te=oe.commonLabelOpts||{};if(q.length===0)return[[]];var ze=oe.fontFamily||f.HOVERFONT,ke=oe.fontSize||f.HOVERFONTSIZE,Se=q[0],me=Se.xa,Ce=Se.ya,Ne=se.charAt(0),He=Ne+"Label",De=Se[He];if(De===void 0&&me.type==="multicategory")for(var Ve=0;Ve<q.length&&(De=q[Ve][He],De===void 0);Ve++);var at=j(Q,Ee),lt=at.top,$e=at.width,et=at.height,ct=De!==void 0&&Se.distance<=oe.hoverdistance&&(se==="x"||se==="y");if(ct){var dt=!0,gt,At;for(gt=0;gt<q.length;gt++)if(dt&&q[gt].zLabel===void 0&&(dt=!1),At=q[gt].hoverinfo||q[gt].trace.hoverinfo,At){var Rt=Array.isArray(At)?At:At.split("+");if(Rt.indexOf("all")===-1&&Rt.indexOf(se)===-1){ct=!1;break}}dt&&(ct=!1)}var Vt=ye.selectAll("g.axistext").data(ct?[0]:[]);Vt.enter().append("g").classed("axistext",!0),Vt.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(Vt.each(function(){var Lt=y.select(this),Bt=L.ensureSingle(Lt,"path","",function(kr){kr.style({"stroke-width":"1px"})}),Nt=L.ensureSingle(Lt,"text","",function(kr){kr.attr("data-notex",1)}),jt=Te.bgcolor||n.defaultLine,lr=Te.bordercolor||n.contrast(jt),fr=n.contrast(jt),hr={family:Te.font.family||ze,size:Te.font.size||ke,color:Te.font.color||fr};Bt.style({fill:jt,stroke:lr}),Nt.text(De).call(o.font,hr).call(r.positionText,0,0).call(r.convertToTspans,Q),Lt.attr("transform","");var Ye=j(Q,Nt.node()),We,kt;if(se==="x"){var It=me.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(r.positionText,0,me.side==="top"?lt-Ye.bottom-b-S:lt-Ye.top+b+S),We=me._offset+(Se.x0+Se.x1)/2,kt=Ce._offset+(me.side==="top"?0:Ce._length);var Zt=Ye.width/2+S;We<Zt?(We=Zt,Bt.attr("d","M-"+(Zt-b)+",0L-"+(Zt-b*2)+","+It+b+"H"+Zt+"v"+It+(S*2+Ye.height)+"H-"+Zt+"V"+It+b+"Z")):We>K.width-Zt?(We=K.width-Zt,Bt.attr("d","M"+(Zt-b)+",0L"+Zt+","+It+b+"v"+It+(S*2+Ye.height)+"H-"+Zt+"V"+It+b+"H"+(Zt-b*2)+"Z")):Bt.attr("d","M0,0L"+b+","+It+b+"H"+Zt+"v"+It+(S*2+Ye.height)+"H-"+Zt+"V"+It+b+"H-"+b+"Z"),Je.minX=We-Zt,Je.maxX=We+Zt,me.side==="top"?(Je.minY=kt-(S*2+Ye.height),Je.maxY=kt-S):(Je.minY=kt+S,Je.maxY=kt+(S*2+Ye.height))}else{var rr,ur,er;Ce.side==="right"?(rr="start",ur=1,er="",We=me._offset+me._length):(rr="end",ur=-1,er="-",We=me._offset),kt=Ce._offset+(Se.y0+Se.y1)/2,Nt.attr("text-anchor",rr),Bt.attr("d","M0,0L"+er+b+","+b+"V"+(S+Ye.height/2)+"h"+er+(S*2+Ye.width)+"V-"+(S+Ye.height/2)+"H"+er+b+"V-"+b+"Z"),Je.minY=kt-(S+Ye.height/2),Je.maxY=kt+(S+Ye.height/2),Ce.side==="right"?(Je.minX=We+b,Je.maxX=We+b+(S*2+Ye.width)):(Je.minX=We-b-(S*2+Ye.width),Je.maxX=We-b);var Ot=Ye.height/2,vr=lt-Ye.top-Ot,yr="clip"+K._uid+"commonlabel"+Ce._id,pr;if(We<Ye.width+2*S+b){pr="M-"+(b+S)+"-"+Ot+"h-"+(Ye.width-S)+"V"+Ot+"h"+(Ye.width-S)+"Z";var cr=Ye.width-We+S;r.positionText(Nt,cr,vr),rr==="end"&&Nt.selectAll("tspan").each(function(){var kr=y.select(this),Rr=o.tester.append("text").text(kr.text()).call(o.font,hr),hn=j(Q,Rr.node());Math.round(hn.width)<Math.round(Ye.width)&&kr.attr("x",cr-hn.width),Rr.remove()})}else r.positionText(Nt,ur*(S+b),vr),pr=null;var Ur=K._topclips.selectAll("#"+yr).data(pr?[0]:[]);Ur.enter().append("clipPath").attr("id",yr).append("path"),Ur.exit().remove(),Ur.select("path").attr("d",pr),o.setClipUrl(Nt,pr?yr:null,Q)}Lt.attr("transform",M(We,kt))}),g.isUnifiedHover(se)){ye.selectAll("g.hovertext").remove();var Ge=q.filter(function(Lt){return Lt.hoverinfo!=="none"});if(Ge.length===0)return[];var Ie=K.hoverlabel,Fe=Ie.font,Pe={showlegend:!0,legend:{title:{text:De,font:Fe},font:Fe,bgcolor:Ie.bgcolor,bordercolor:Ie.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:K.legend?K.legend.traceorder:void 0,orientation:"v"}},xe={font:Fe};T(Pe,xe,Q._fullData);var ge=xe.legend;ge.entries=[];for(var Me=0;Me<Ge.length;Me++){var Ae=Ge[Me];if(Ae.hoverinfo!=="none"){var Ue=U(Ae,!0,se,K,De),Ze=Ue[0],tt=Ue[1];Ae.name=tt,tt!==""?Ae.text=tt+" : "+Ze:Ae.text=Ze;var ft=Ae.cd[Ae.index];ft&&(ft.mc&&(Ae.mc=ft.mc),ft.mcc&&(Ae.mc=ft.mcc),ft.mlc&&(Ae.mlc=ft.mlc),ft.mlcc&&(Ae.mlc=ft.mlcc),ft.mlw&&(Ae.mlw=ft.mlw),ft.mrc&&(Ae.mrc=ft.mrc),ft.dir&&(Ae.dir=ft.dir)),Ae._distinct=!0,ge.entries.push([Ae])}}ge.entries.sort(function(Lt,Bt){return Lt[0].trace.index-Bt[0].trace.index}),ge.layer=ye,ge._inHover=!0,ge._groupTitleFont=Ie.grouptitlefont,h(Q,ge);var pt=ye.select("g.legend"),Yt=j(Q,pt.node()),Jt=Yt.width+2*S,Tt=Yt.height+2*S,zt=Ge[0],$t=(zt.x0+zt.x1)/2,wr=(zt.y0+zt.y1)/2,yt=!(l.traceIs(zt.trace,"bar-like")||l.traceIs(zt.trace,"box-violin")),Xt,Qt;Ne==="y"?yt?(Qt=wr-S,Xt=wr+S):(Qt=Math.min.apply(null,Ge.map(function(Lt){return Math.min(Lt.y0,Lt.y1)})),Xt=Math.max.apply(null,Ge.map(function(Lt){return Math.max(Lt.y0,Lt.y1)}))):Qt=Xt=L.mean(Ge.map(function(Lt){return(Lt.y0+Lt.y1)/2}))-Tt/2;var gr,sr;Ne==="x"?yt?(gr=$t+S,sr=$t-S):(gr=Math.max.apply(null,Ge.map(function(Lt){return Math.max(Lt.x0,Lt.x1)})),sr=Math.min.apply(null,Ge.map(function(Lt){return Math.min(Lt.x0,Lt.x1)}))):gr=sr=L.mean(Ge.map(function(Lt){return(Lt.x0+Lt.x1)/2}))-Jt/2;var vt=me._offset,it=Ce._offset;Xt+=it,gr+=vt,sr+=vt-Jt,Qt+=it-Tt;var xt,Mt;return gr+Jt<$e&&gr>=0?xt=gr:sr+Jt<$e&&sr>=0?xt=sr:vt+Jt<$e?xt=vt:gr-$t<$t-sr+Jt?xt=$e-Jt:xt=0,xt+=S,Xt+Tt<et&&Xt>=0?Mt=Xt:Qt+Tt<et&&Qt>=0?Mt=Qt:it+Tt<et?Mt=it:Xt-wr<wr-Qt+Tt?Mt=et-Tt:Mt=0,Mt+=S,pt.attr("transform",M(xt-1,Mt-1)),pt}var Dt=ye.selectAll("g.hovertext").data(q,function(Lt){return m(Lt)});return Dt.enter().append("g").classed("hovertext",!0).each(function(){var Lt=y.select(this);Lt.append("rect").call(n.fill,n.addOpacity(fe,.8)),Lt.append("text").classed("name",!0),Lt.append("path").style("stroke-width","1px"),Lt.append("text").classed("nums",!0).call(o.font,ze,ke)}),Dt.exit().remove(),Dt.each(function(Lt){var Bt=y.select(this).attr("transform",""),Nt=Lt.color;Array.isArray(Nt)&&(Nt=Nt[Lt.eventData[0].pointNumber]);var jt=Lt.bgcolor||Nt,lr=n.combine(n.opacity(jt)?jt:n.defaultLine,fe),fr=n.combine(n.opacity(Nt)?Nt:n.defaultLine,fe),hr=Lt.borderColor||n.contrast(lr),Ye=U(Lt,ct,se,K,De,Bt),We=Ye[0],kt=Ye[1],It=Bt.select("text.nums").call(o.font,Lt.fontFamily||ze,Lt.fontSize||ke,Lt.fontColor||hr).text(We).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q),Zt=Bt.select("text.name"),rr=0,ur=0;if(kt&&kt!==We){Zt.call(o.font,Lt.fontFamily||ze,Lt.fontSize||ke,fr).text(kt).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q);var er=j(Q,Zt.node());rr=er.width+2*S,ur=er.height+2*S}else Zt.remove(),Bt.select("rect").remove();Bt.select("path").style({fill:lr,stroke:hr});var Ot=Lt.xa._offset+(Lt.x0+Lt.x1)/2,vr=Lt.ya._offset+(Lt.y0+Lt.y1)/2,yr=Math.abs(Lt.x1-Lt.x0),pr=Math.abs(Lt.y1-Lt.y0),cr=j(Q,It.node()),Ur=cr.width/K._invScaleX,kr=cr.height/K._invScaleY;Lt.ty0=(lt-cr.top)/K._invScaleY,Lt.bx=Ur+2*S,Lt.by=Math.max(kr+2*S,ur),Lt.anchor="start",Lt.txwidth=Ur,Lt.tx2width=rr,Lt.offset=0;var Rr=(Ur+b+S+rr)*K._invScaleX,hn,tn;if(ne)Lt.pos=Ot,hn=vr+pr/2+Rr<=et,tn=vr-pr/2-Rr>=0,(Lt.idealAlign==="top"||!hn)&&tn?(vr-=pr/2,Lt.anchor="end"):hn?(vr+=pr/2,Lt.anchor="start"):Lt.anchor="middle",Lt.crossPos=vr;else{if(Lt.pos=vr,hn=Ot+yr/2+Rr<=$e,tn=Ot-yr/2-Rr>=0,(Lt.idealAlign==="left"||!hn)&&tn)Ot-=yr/2,Lt.anchor="end";else if(hn)Ot+=yr/2,Lt.anchor="start";else{Lt.anchor="middle";var Fn=Rr/2,mn=Ot+Fn-$e,Mr=Ot-Fn;mn>0&&(Ot-=mn),Mr<0&&(Ot+=-Mr)}Lt.crossPos=Ot}It.attr("text-anchor",Lt.anchor),rr&&Zt.attr("text-anchor",Lt.anchor),Bt.attr("transform",M(Ot,vr)+(ne?v(s):""))}),{hoverLabels:Dt,commonLabelBoundingBox:Je}}function U(q,oe,Q,K,se,ne){var fe="",ye="";q.nameOverride!==void 0&&(q.name=q.nameOverride),q.name&&(q.trace._meta&&(q.name=L.templateString(q.name,q.trace._meta)),fe=ie(q.name,q.nameLength));var Ee=Q.charAt(0),Te=Ee==="x"?"y":"x";q.zLabel!==void 0?(q.xLabel!==void 0&&(ye+="x: "+q.xLabel+"<br>"),q.yLabel!==void 0&&(ye+="y: "+q.yLabel+"<br>"),q.trace.type!=="choropleth"&&q.trace.type!=="choroplethmapbox"&&(ye+=(ye?"z: ":"")+q.zLabel)):oe&&q[Ee+"Label"]===se?ye=q[Te+"Label"]||"":q.xLabel===void 0?q.yLabel!==void 0&&q.trace.type!=="scattercarpet"&&(ye=q.yLabel):q.yLabel===void 0?ye=q.xLabel:ye="("+q.xLabel+", "+q.yLabel+")",(q.text||q.text===0)&&!Array.isArray(q.text)&&(ye+=(ye?"<br>":"")+q.text),q.extraText!==void 0&&(ye+=(ye?"<br>":"")+q.extraText),ne&&ye===""&&!q.hovertemplate&&(fe===""&&ne.remove(),ye=fe);var ze=q.hovertemplate||!1;if(ze){var ke=q.hovertemplateLabels||q;q[Ee+"Label"]!==se&&(ke[Ee+"other"]=ke[Ee+"Val"],ke[Ee+"otherLabel"]=ke[Ee+"Label"]),ye=L.hovertemplateString(ze,ke,K._d3locale,q.eventData[0]||{},q.trace._meta),ye=ye.replace(k,function(Se,me){return fe=ie(me,q.nameLength),""})}return[ye,fe]}function z(q,oe,Q,K){var se=oe?"xa":"ya",ne=oe?"ya":"xa",fe=0,ye=1,Ee=q.size(),Te=new Array(Ee),ze=0,ke=K.minX,Se=K.maxX,me=K.minY,Ce=K.maxY,Ne=function(Fe){return Fe*Q._invScaleX},He=function(Fe){return Fe*Q._invScaleY};q.each(function(Fe){var Pe=Fe[se],xe=Fe[ne],ge=Pe._id.charAt(0)==="x",Me=Pe.range;ze===0&&Me&&Me[0]>Me[1]!==ge&&(ye=-1);var Ae=0,Ue=ge?Q.width:Q.height;if(Q.hovermode==="x"||Q.hovermode==="y"){var Ze=F(Fe,oe),tt=Fe.anchor,ft=tt==="end"?-1:1,pt,Yt;if(tt==="middle")pt=Fe.crossPos+(ge?He(Ze.y-Fe.by/2):Ne(Fe.bx/2+Fe.tx2width/2)),Yt=pt+(ge?He(Fe.by):Ne(Fe.bx));else if(ge)pt=Fe.crossPos+He(b+Ze.y)-He(Fe.by/2-b),Yt=pt+He(Fe.by);else{var Jt=Ne(ft*b+Ze.x),Tt=Jt+Ne(ft*Fe.bx);pt=Fe.crossPos+Math.min(Jt,Tt),Yt=Fe.crossPos+Math.max(Jt,Tt)}ge?me!==void 0&&Ce!==void 0&&Math.min(Yt,Ce)-Math.max(pt,me)>1&&(xe.side==="left"?(Ae=xe._mainLinePosition,Ue=Q.width):Ue=xe._mainLinePosition):ke!==void 0&&Se!==void 0&&Math.min(Yt,Se)-Math.max(pt,ke)>1&&(xe.side==="top"?(Ae=xe._mainLinePosition,Ue=Q.height):Ue=xe._mainLinePosition)}Te[ze++]=[{datum:Fe,traceIndex:Fe.trace.index,dp:0,pos:Fe.pos,posref:Fe.posref,size:Fe.by*(ge?A:1)/2,pmin:Ae,pmax:Ue}]}),Te.sort(function(Fe,Pe){return Fe[0].posref-Pe[0].posref||ye*(Pe[0].traceIndex-Fe[0].traceIndex)});var De,Ve,at,lt,$e,et,ct;function dt(Fe){var Pe=Fe[0],xe=Fe[Fe.length-1];if(Ve=Pe.pmin-Pe.pos-Pe.dp+Pe.size,at=xe.pos+xe.dp+xe.size-Pe.pmax,Ve>.01){for($e=Fe.length-1;$e>=0;$e--)Fe[$e].dp+=Ve;De=!1}if(!(at<.01)){if(Ve<-.01){for($e=Fe.length-1;$e>=0;$e--)Fe[$e].dp-=at;De=!1}if(De){var ge=0;for(lt=0;lt<Fe.length;lt++)et=Fe[lt],et.pos+et.dp+et.size>Pe.pmax&&ge++;for(lt=Fe.length-1;lt>=0&&!(ge<=0);lt--)et=Fe[lt],et.pos>Pe.pmax-1&&(et.del=!0,ge--);for(lt=0;lt<Fe.length&&!(ge<=0);lt++)if(et=Fe[lt],et.pos<Pe.pmin+1)for(et.del=!0,ge--,at=et.size*2,$e=Fe.length-1;$e>=0;$e--)Fe[$e].dp-=at;for(lt=Fe.length-1;lt>=0&&!(ge<=0);lt--)et=Fe[lt],et.pos+et.dp+et.size>Pe.pmax&&(et.del=!0,ge--)}}}for(;!De&&fe<=Ee;){for(fe++,De=!0,lt=0;lt<Te.length-1;){var gt=Te[lt],At=Te[lt+1],Rt=gt[gt.length-1],Vt=At[0];if(Ve=Rt.pos+Rt.dp+Rt.size-Vt.pos-Vt.dp+Vt.size,Ve>.01&&Rt.pmin===Vt.pmin&&Rt.pmax===Vt.pmax){for($e=At.length-1;$e>=0;$e--)At[$e].dp+=Ve;for(gt.push.apply(gt,At),Te.splice(lt+1,1),ct=0,$e=gt.length-1;$e>=0;$e--)ct+=gt[$e].dp;for(at=ct/gt.length,$e=gt.length-1;$e>=0;$e--)gt[$e].dp-=at;De=!1}else lt++}Te.forEach(dt)}for(lt=Te.length-1;lt>=0;lt--){var Je=Te[lt];for($e=Je.length-1;$e>=0;$e--){var Ge=Je[$e],Ie=Ge.datum;Ie.offset=Ge.dp,Ie.del=Ge.del}}}function F(q,oe){var Q=0,K=q.offset;return oe&&(K*=-C,Q=q.offset*w),{x:Q,y:K}}function B(q){var oe={start:1,end:-1,middle:0}[q.anchor],Q=oe*(b+S),K=Q+oe*(q.txwidth+S),se=q.anchor==="middle";return se&&(Q-=q.tx2width/2,K+=q.txwidth/2+S),{alignShift:oe,textShiftX:Q,text2ShiftX:K}}function O(q,oe,Q,K){var se=function(fe){return fe*Q},ne=function(fe){return fe*K};q.each(function(fe){var ye=y.select(this);if(fe.del)return ye.remove();var Ee=ye.select("text.nums"),Te=fe.anchor,ze=Te==="end"?-1:1,ke=B(fe),Se=F(fe,oe),me=Se.x,Ce=Se.y,Ne=Te==="middle";ye.select("path").attr("d",Ne?"M-"+se(fe.bx/2+fe.tx2width/2)+","+ne(Ce-fe.by/2)+"h"+se(fe.bx)+"v"+ne(fe.by)+"h-"+se(fe.bx)+"Z":"M0,0L"+se(ze*b+me)+","+ne(b+Ce)+"v"+ne(fe.by/2-b)+"h"+se(ze*fe.bx)+"v-"+ne(fe.by)+"H"+se(ze*b+me)+"V"+ne(Ce-b)+"Z");var He=me+ke.textShiftX,De=Ce+fe.ty0-fe.by/2+S,Ve=fe.textAlign||"auto";Ve!=="auto"&&(Ve==="left"&&Te!=="start"?(Ee.attr("text-anchor","start"),He=Ne?-fe.bx/2-fe.tx2width/2+S:-fe.bx-S):Ve==="right"&&Te!=="end"&&(Ee.attr("text-anchor","end"),He=Ne?fe.bx/2-fe.tx2width/2-S:fe.bx+S)),Ee.call(r.positionText,se(He),ne(De)),fe.tx2width&&(ye.select("text.name").call(r.positionText,se(ke.text2ShiftX+ke.alignShift*S+me),ne(Ce+fe.ty0-fe.by/2+S)),ye.select("rect").call(o.setRect,se(ke.text2ShiftX+(ke.alignShift-1)*fe.tx2width/2+me),ne(Ce-fe.by/2-1),se(fe.tx2width),ne(fe.by+2)))})}function N(q,oe){var Q=q.index,K=q.trace||{},se=q.cd[0],ne=q.cd[Q]||{};function fe(Se){return Se||P(Se)&&Se===0}var ye=Array.isArray(Q)?function(Se,me){var Ce=L.castOption(se,Q,Se);return fe(Ce)?Ce:L.extractOption({},K,"",me)}:function(Se,me){return L.extractOption(ne,K,Se,me)};function Ee(Se,me,Ce){var Ne=ye(me,Ce);fe(Ne)&&(q[Se]=Ne)}if(Ee("hoverinfo","hi","hoverinfo"),Ee("bgcolor","hbg","hoverlabel.bgcolor"),Ee("borderColor","hbc","hoverlabel.bordercolor"),Ee("fontFamily","htf","hoverlabel.font.family"),Ee("fontSize","hts","hoverlabel.font.size"),Ee("fontColor","htc","hoverlabel.font.color"),Ee("nameLength","hnl","hoverlabel.namelength"),Ee("textAlign","hta","hoverlabel.align"),q.posref=oe==="y"||oe==="closest"&&K.orientation==="h"?q.xa._offset+(q.x0+q.x1)/2:q.ya._offset+(q.y0+q.y1)/2,q.x0=L.constrain(q.x0,0,q.xa._length),q.x1=L.constrain(q.x1,0,q.xa._length),q.y0=L.constrain(q.y0,0,q.ya._length),q.y1=L.constrain(q.y1,0,q.ya._length),q.xLabelVal!==void 0&&(q.xLabel="xLabel"in q?q.xLabel:u.hoverLabelText(q.xa,q.xLabelVal,K.xhoverformat),q.xVal=q.xa.c2d(q.xLabelVal)),q.yLabelVal!==void 0&&(q.yLabel="yLabel"in q?q.yLabel:u.hoverLabelText(q.ya,q.yLabelVal,K.yhoverformat),q.yVal=q.ya.c2d(q.yLabelVal)),q.zLabelVal!==void 0&&q.zLabel===void 0&&(q.zLabel=String(q.zLabelVal)),!isNaN(q.xerr)&&!(q.xa.type==="log"&&q.xerr<=0)){var Te=u.tickText(q.xa,q.xa.c2l(q.xerr),"hover").text;q.xerrneg!==void 0?q.xLabel+=" +"+Te+" / -"+u.tickText(q.xa,q.xa.c2l(q.xerrneg),"hover").text:q.xLabel+="  "+Te,oe==="x"&&(q.distance+=1)}if(!isNaN(q.yerr)&&!(q.ya.type==="log"&&q.yerr<=0)){var ze=u.tickText(q.ya,q.ya.c2l(q.yerr),"hover").text;q.yerrneg!==void 0?q.yLabel+=" +"+ze+" / -"+u.tickText(q.ya,q.ya.c2l(q.yerrneg),"hover").text:q.yLabel+="  "+ze,oe==="y"&&(q.distance+=1)}var ke=q.hoverinfo||q.trace.hoverinfo;return ke&&ke!=="all"&&(ke=Array.isArray(ke)?ke:ke.split("+"),ke.indexOf("x")===-1&&(q.xLabel=void 0),ke.indexOf("y")===-1&&(q.yLabel=void 0),ke.indexOf("z")===-1&&(q.zLabel=void 0),ke.indexOf("text")===-1&&(q.text=void 0),ke.indexOf("name")===-1&&(q.name=void 0)),q}function Y(q,oe,Q){var K=Q.container,se=Q.fullLayout,ne=se._size,fe=Q.event,ye=!!oe.hLinePoint,Ee=!!oe.vLinePoint,Te,ze;if(K.selectAll(".spikeline").remove(),!!(Ee||ye)){var ke=n.combine(se.plot_bgcolor,se.paper_bgcolor);if(ye){var Se=oe.hLinePoint,me,Ce;Te=Se&&Se.xa,ze=Se&&Se.ya;var Ne=ze.spikesnap;Ne==="cursor"?(me=fe.pointerX,Ce=fe.pointerY):(me=Te._offset+Se.x,Ce=ze._offset+Se.y);var He=a.readability(Se.color,ke)<1.5?n.contrast(ke):Se.color,De=ze.spikemode,Ve=ze.spikethickness,at=ze.spikecolor||He,lt=u.getPxPosition(q,ze),$e,et;if(De.indexOf("toaxis")!==-1||De.indexOf("across")!==-1){if(De.indexOf("toaxis")!==-1&&($e=lt,et=me),De.indexOf("across")!==-1){var ct=ze._counterDomainMin,dt=ze._counterDomainMax;ze.anchor==="free"&&(ct=Math.min(ct,ze.position),dt=Math.max(dt,ze.position)),$e=ne.l+ct*ne.w,et=ne.l+dt*ne.w}K.insert("line",":first-child").attr({x1:$e,x2:et,y1:Ce,y2:Ce,"stroke-width":Ve,stroke:at,"stroke-dasharray":o.dashStyle(ze.spikedash,Ve)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:$e,x2:et,y1:Ce,y2:Ce,"stroke-width":Ve+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}De.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:lt+(ze.side!=="right"?Ve:-Ve),cy:Ce,r:Ve,fill:at}).classed("spikeline",!0)}if(Ee){var gt=oe.vLinePoint,At,Rt;Te=gt&&gt.xa,ze=gt&&gt.ya;var Vt=Te.spikesnap;Vt==="cursor"?(At=fe.pointerX,Rt=fe.pointerY):(At=Te._offset+gt.x,Rt=ze._offset+gt.y);var Je=a.readability(gt.color,ke)<1.5?n.contrast(ke):gt.color,Ge=Te.spikemode,Ie=Te.spikethickness,Fe=Te.spikecolor||Je,Pe=u.getPxPosition(q,Te),xe,ge;if(Ge.indexOf("toaxis")!==-1||Ge.indexOf("across")!==-1){if(Ge.indexOf("toaxis")!==-1&&(xe=Pe,ge=Rt),Ge.indexOf("across")!==-1){var Me=Te._counterDomainMin,Ae=Te._counterDomainMax;Te.anchor==="free"&&(Me=Math.min(Me,Te.position),Ae=Math.max(Ae,Te.position)),xe=ne.t+(1-Ae)*ne.h,ge=ne.t+(1-Me)*ne.h}K.insert("line",":first-child").attr({x1:At,x2:At,y1:xe,y2:ge,"stroke-width":Ie,stroke:Fe,"stroke-dasharray":o.dashStyle(Te.spikedash,Ie)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:At,x2:At,y1:xe,y2:ge,"stroke-width":Ie+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}Ge.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:At,cy:Pe-(Te.side!=="top"?Ie:-Ie),r:Ie,fill:Fe}).classed("spikeline",!0)}}}function $(q,oe,Q){if(!Q||Q.length!==q._hoverdata.length)return!0;for(var K=Q.length-1;K>=0;K--){var se=Q[K],ne=q._hoverdata[K];if(se.curveNumber!==ne.curveNumber||String(se.pointNumber)!==String(ne.pointNumber)||String(se.pointNumbers)!==String(ne.pointNumbers))return!0}return!1}function te(q,oe){return!oe||oe.vLinePoint!==q._spikepoints.vLinePoint||oe.hLinePoint!==q._spikepoints.hLinePoint}function ie(q,oe){return r.plainText(q||"",{len:oe,allowedTags:["br","sub","sup","b","i","em"]})}function ce(q,oe){for(var Q=oe.charAt(0),K=[],se=[],ne=[],fe=0;fe<q.length;fe++){var ye=q[fe];l.traceIs(ye.trace,"bar-like")||l.traceIs(ye.trace,"box-violin")?ne.push(ye):ye.trace[Q+"period"]?se.push(ye):K.push(ye)}return K.concat(se).concat(ne)}function J(q,oe,Q){var K=oe[q+"a"],se=oe[q+"Val"],ne=oe.cd[0];if(K.type==="category"||K.type==="multicategory")se=K._categoriesMap[se];else if(K.type==="date"){var fe=oe.trace[q+"periodalignment"];if(fe){var ye=oe.cd[oe.index],Ee=ye[q+"Start"];Ee===void 0&&(Ee=ye[q]);var Te=ye[q+"End"];Te===void 0&&(Te=ye[q]);var ze=Te-Ee;fe==="end"?se+=ze:fe==="middle"&&(se+=ze/2)}se=K.d2c(se)}return ne&&ne.t&&ne.t.posLetter===K._id&&(Q.boxmode==="group"||Q.violinmode==="group")&&(se+=ne.t.dPos),se}function Z(q){return q.offsetTop+q.clientTop}function ae(q){return q.offsetLeft+q.clientLeft}function j(q,oe){var Q=q._fullLayout,K=oe.getBoundingClientRect(),se=K.left,ne=K.top,fe=se+K.width,ye=ne+K.height,Ee=L.apply3DTransform(Q._invTransform)(se,ne),Te=L.apply3DTransform(Q._invTransform)(fe,ye),ze=Ee[0],ke=Ee[1],Se=Te[0],me=Te[1];return{x:ze,y:ke,width:Se-ze,height:me-ke,top:Math.min(ke,me),left:Math.min(ze,Se),right:Math.max(ze,Se),bottom:Math.max(ke,me)}}},38048:function(G,H,e){var y=e(71828),P=e(7901),a=e(23469).isUnifiedHover;G.exports=function(M,v,p,r){r=r||{};var t=v.legend;function o(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(r.font||(r.font={}),o("size"),o("family"),o("color"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),y.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},98212:function(G,H,e){var y=e(71828),P=e(528);G.exports=function(L,M){function v(p,r){return M[p]!==void 0?M[p]:y.coerce(L,M,P,p,r)}return v("clickmode"),v("hovermode")}},30211:function(G,H,e){var y=e(39898),P=e(71828),a=e(28569),L=e(23469),M=e(528),v=e(88335);G.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:M},attributes:e(77914),layoutAttributes:M,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(75914)};function p(o){var n=P.isD3Selection(o)?o:y.select(o);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(o,n,c){return P.castOption(o,n,"hoverlabel."+c)}function t(o,n,c){function u(l){return P.coerceHoverinfo({hoverinfo:l},{_module:o._module},n)}return P.castOption(o,c,"hoverinfo",u)}},528:function(G,H,e){var y=e(26675),P=e(41940),a=P({editType:"none"});a.family.dflt=y.HOVERFONT,a.size.dflt=y.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(G,H,e){var y=e(71828),P=e(528),a=e(98212),L=e(38048);G.exports=function(v,p){function r(l,g){return y.coerce(v,p,P,l,g)}var t=a(v,p);t&&(r("hoverdistance"),r("spikedistance"));var o=r("dragmode");o==="select"&&r("selectdirection");var n=p._has("mapbox"),c=p._has("geo"),u=p._basePlotModules.length;p.dragmode==="zoom"&&((n||c)&&u===1||n&&c&&u===2)&&(p.dragmode="pan"),L(v,p,r),y.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},22774:function(G,H,e){var y=e(71828),P=e(38048),a=e(528);G.exports=function(M,v){function p(r,t){return y.coerce(M,v,a,r,t)}P(M,v,p)}},83312:function(G,H,e){var y=e(71828),P=e(30587).counter,a=e(27670).Y,L=e(85555).idRegex,M=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(c,u,l){var g=u[l+"axes"],f=Object.keys((c._splomAxes||{})[l]||{});if(Array.isArray(g))return g;if(f.length)return f}function r(c,u){var l=c.grid||{},g=p(u,l,"x"),f=p(u,l,"y");if(!c.grid&&!g&&!f)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),h=Array.isArray(g),s=Array.isArray(f),d=h&&g!==l.xaxes&&s&&f!==l.yaxes,A,w;T?(A=l.subplots.length,w=l.subplots[0].length):(s&&(A=f.length),h&&(w=g.length));var C=M.newContainer(u,"grid");function b(F,B){return y.coerce(l,C,v,F,B)}var S=b("rows",A),x=b("columns",w);if(!(S*x>1)){delete u.grid;return}if(!T&&!h&&!s){var i=b("pattern")==="independent";i&&(T=!0)}C._hasSubplotGrid=T;var E=b("roworder"),m=E==="top to bottom",k=T?.2:.1,I=T?.3:.1,U,z;d&&u._splomGridDflt&&(U=u._splomGridDflt.xside,z=u._splomGridDflt.yside),C._domains={x:t("x",b,k,U,x),y:t("y",b,I,z,S,m)}}function t(c,u,l,g,f,T){var h=u(c+"gap",l),s=u("domain."+c);u(c+"side",g);for(var d=new Array(f),A=s[0],w=(s[1]-A)/(f-h),C=w*(1-h),b=0;b<f;b++){var S=A+w*b;d[T?f-1-b:b]=[S,S+C]}return d}function o(c,u){var l=u.grid;if(!(!l||!l._domains)){var g=c.grid||{},f=u._subplots,T=l._hasSubplotGrid,h=l.rows,s=l.columns,d=l.pattern==="independent",A,w,C,b,S,x,i,E=l._axisMap={};if(T){var m=g.subplots||[];x=l.subplots=new Array(h);var k=1;for(A=0;A<h;A++){var I=x[A]=new Array(s),U=m[A]||[];for(w=0;w<s;w++)if(d?(S=k===1?"xy":"x"+k+"y"+k,k++):S=U[w],I[w]="",f.cartesian.indexOf(S)!==-1){if(i=S.indexOf("y"),C=S.slice(0,i),b=S.slice(i),E[C]!==void 0&&E[C]!==w||E[b]!==void 0&&E[b]!==A)continue;I[w]=S,E[C]=w,E[b]=A}}}else{var z=p(u,g,"x"),F=p(u,g,"y");l.xaxes=n(z,f.xaxis,s,E,"x"),l.yaxes=n(F,f.yaxis,h,E,"y")}var B=l._anchors={},O=l.roworder==="top to bottom";for(var N in E){var Y=N.charAt(0),$=l[Y+"side"],te,ie,ce;if($.length<8)B[N]="free";else if(Y==="x"){if($.charAt(0)==="t"===O?(te=0,ie=1,ce=h):(te=h-1,ie=-1,ce=-1),T){var J=E[N];for(A=te;A!==ce;A+=ie)if(S=x[A][J],!!S&&(i=S.indexOf("y"),S.slice(0,i)===N)){B[N]=S.slice(i);break}}else for(A=te;A!==ce;A+=ie)if(b=l.yaxes[A],f.cartesian.indexOf(N+b)!==-1){B[N]=b;break}}else if($.charAt(0)==="l"?(te=0,ie=1,ce=s):(te=s-1,ie=-1,ce=-1),T){var Z=E[N];for(A=te;A!==ce;A+=ie)if(S=x[Z][A],!!S&&(i=S.indexOf("y"),S.slice(i)===N)){B[N]=S.slice(0,i);break}}else for(A=te;A!==ce;A+=ie)if(C=l.xaxes[A],f.cartesian.indexOf(C+N)!==-1){B[N]=C;break}}}}function n(c,u,l,g,f){var T=new Array(l),h;function s(d,A){u.indexOf(A)!==-1&&g[A]===void 0?(T[d]=A,g[A]=d):T[d]=""}if(Array.isArray(c))for(h=0;h<l;h++)s(h,c[h]);else for(s(0,f),h=1;h<l;h++)s(h,f+(h+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:o}},69819:function(G,H,e){var y=e(85555),P=e(44467).templatedArray;e(24695),G.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(G,H,e){var y=e(92770),P=e(58163);G.exports=function(L,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(r||t){for(var o=L._fullLayout.images,n=M._id.charAt(0),c,u,l=0;l<o.length;l++)if(c=o[l],u="images["+l+"].",c[n+"ref"]===M._id){var g=c[n],f=c["size"+n],T=null,h=null;if(r){T=P(g,M.range);var s=f/Math.pow(10,T)/2;h=2*Math.log(s+Math.sqrt(1+s*s))/Math.LN10}else T=Math.pow(10,g),h=T*(Math.pow(10,f/2)-Math.pow(10,-f/2));y(T)?y(h)||(h=null):(T=null,h=null),p(u+n,T),p(u+"size"+n,h)}}}},81603:function(G,H,e){var y=e(71828),P=e(89298),a=e(85501),L=e(69819),M="images";G.exports=function(r,t){var o={name:M,handleItemDefaults:v};a(r,t,o)};function v(p,r,t){function o(s,d){return y.coerce(p,r,L,s,d)}var n=o("source"),c=o("visible",!!n);if(!c)return r;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var u={_fullLayout:t},l=["x","y"],g=0;g<2;g++){var f=l[g],T=P.coerceRef(p,r,u,f,"paper",void 0);if(T!=="paper"){var h=P.getFromId(u,T);h._imgIndices.push(r._index)}P.coercePosition(r,u,o,T,f,0)}return r}},80750:function(G,H,e){var y=e(39898),P=e(91424),a=e(89298),L=e(41675),M=e(77922);G.exports=function(p){var r=p._fullLayout,t=[],o={},n=[],c,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){c=L.ref2id(l.xref)+L.ref2id(l.yref);var g=r._plots[c];if(!g){n.push(l);continue}g.mainplot&&(c=g.mainplot.id),o[c]||(o[c]=[]),o[c].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(b){var S=y.select(this);if(this._imgSrc!==b.source)if(S.attr("xmlns",M.svg),b.source&&b.source.slice(0,5)==="data:")S.attr("xlink:href",b.source),this._imgSrc=b.source;else{var x=new Promise((function(i){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=m,E.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var I=k.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var U=k.toDataURL("image/png");S.attr("xlink:href",U),i()},S.on("error",m),E.src=b.source,this._imgSrc=b.source;function m(){S.remove(),i()}}).bind(this));p._promises.push(x)}}function h(b){var S=y.select(this),x=a.getFromId(p,b.xref),i=a.getFromId(p,b.yref),E=a.getRefType(b.xref)==="domain",m=a.getRefType(b.yref)==="domain",k=r._size,I,U;x!==void 0?I=typeof b.xref=="string"&&E?x._length*b.sizex:Math.abs(x.l2p(b.sizex)-x.l2p(0)):I=b.sizex*k.w,i!==void 0?U=typeof b.yref=="string"&&m?i._length*b.sizey:Math.abs(i.l2p(b.sizey)-i.l2p(0)):U=b.sizey*k.h;var z=I*f.x[b.xanchor].offset,F=U*f.y[b.yanchor].offset,B=f.x[b.xanchor].sizing+f.y[b.yanchor].sizing,O,N;switch(x!==void 0?O=typeof b.xref=="string"&&E?x._length*b.x+x._offset:x.r2p(b.x)+x._offset:O=b.x*k.w+k.l,O+=z,i!==void 0?N=typeof b.yref=="string"&&m?i._length*(1-b.y)+i._offset:i.r2p(b.y)+i._offset:N=k.h-b.y*k.h+k.t,N+=F,b.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}S.attr({x:O,y:N,width:I,height:U,preserveAspectRatio:B,opacity:b.opacity});var Y=x&&a.getRefType(b.xref)!=="domain"?x._id:"",$=i&&a.getRefType(b.yref)!=="domain"?i._id:"",te=Y+$;P.setClipUrl(S,te?"clip"+r._uid+te:null,p)}var s=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);s.enter().append("image"),d.enter().append("image"),s.exit().remove(),d.exit().remove(),s.each(function(b){T.bind(this)(b),h.bind(this)(b)}),d.each(function(b){T.bind(this)(b),h.bind(this)(b)});var A=Object.keys(r._plots);for(u=0;u<A.length;u++){c=A[u];var w=r._plots[c];if(w.imagelayer){var C=w.imagelayer.selectAll("image").data(o[c]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(b){T.bind(this)(b),h.bind(this)(b)})}}}},68804:function(G,H,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(G,H,e){var y=e(41940),P=e(22399);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:y({editType:"legend"}),grouptitlefont:y({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:y({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(G,H,e){var y=e(73972),P=e(71828),a=e(44467),L=e(9012),M=e(33030),v=e(10820),p=e(10130);function r(t,o,n,c){var u=o[t]||{},l=a.newContainer(n,t);function g(ce,J){return P.coerce(u,l,M,ce,J)}var f=P.coerceFont(g,"font",n.font);g("bgcolor",n.paper_bgcolor),g("bordercolor");var T=g("visible");if(T){for(var h,s=function(ce,J){var Z=h._input,ae=h;return P.coerce(Z,ae,L,ce,J)},d=n.font||{},A=P.coerceFont(g,"grouptitlefont",P.extendFlat({},d,{size:Math.round(d.size*1.1)})),w=0,C=!1,b="normal",S=(n.shapes||[]).filter(function(ce){return ce.showlegend}),x=c.concat(S).filter(function(ce){return t===(ce.legend||"legend")}),i=0;i<x.length;i++)if(h=x[i],!!h.visible){var E=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(w++,h.showlegend&&(C=!0,(!E&&y.traceIs(h,"pie-like")||h._input.showlegend===!0)&&w++),P.coerceFont(s,"legendgrouptitle.font",A)),(!E&&y.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(b=p.isGrouped({traceorder:b})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(b=p.isReversed({traceorder:b})?"reversed+grouped":"grouped")}var m=P.coerce(o,n,v,"showlegend",C&&w>(t==="legend"?1:0));if(m===!1&&(n[t]=void 0),!(m===!1&&!u.uirevision)&&(g("uirevision",n.uirevision),m!==!1)){g("borderwidth");var k=g("orientation"),I=g("yref"),U=g("xref"),z=k==="h",F=I==="paper",B=U==="paper",O,N,Y,$="left";z?(O=0,y.getComponentMethod("rangeslider","isVisible")(o.xaxis)?F?(N=1.1,Y="bottom"):(N=1,Y="top"):F?(N=-.1,Y="top"):(N=0,Y="bottom")):(N=1,Y="auto",B?O=1.02:(O=1,$="right")),P.coerce(u,l,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:O}},"x"),P.coerce(u,l,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:N}},"y"),g("traceorder",b),p.isGrouped(n[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",$),g("yanchor",Y),g("valign"),P.noneOrAll(u,l,["x","y"]);var te=g("title.text");if(te){g("title.side",z?"left":"top");var ie=P.extendFlat({},f,{size:P.bigFont(f.size)});P.coerceFont(g,"title.font",ie)}}}}G.exports=function(o,n,c){var u,l=c.slice(),g=n.shapes;if(g)for(u=0;u<g.length;u++){var f=g[u];if(f.showlegend){var T={_input:f._input,visible:f.visible,showlegend:f.showlegend,legend:f.legend};l.push(T)}}var h=["legend"];for(u=0;u<l.length;u++)P.pushUnique(h,l[u].legend);for(n._legends=[],u=0;u<h.length;u++){var s=h[u];r(s,o,n,l),n[s]&&n[s].visible&&(n[s]._id=s),n._legends.push(s)}}},43969:function(G,H,e){var y=e(39898),P=e(71828),a=e(74875),L=e(73972),M=e(11086),v=e(28569),p=e(91424),r=e(7901),t=e(63893),o=e(85167),n=e(14928),c=e(18783),u=c.LINE_SPACING,l=c.FROM_TL,g=c.FROM_BR,f=e(82424),T=e(53630),h=e(10130),s=1,d=/^legend[0-9]*$/;G.exports=function(N,Y){if(Y)w(N,Y);else{var $=N._fullLayout,te=$._legends,ie=$._infolayer.selectAll('[class^="legend"]');ie.each(function(){var ae=y.select(this),j=ae.attr("class"),q=j.split(" ")[0];q.match(d)&&te.indexOf(q)===-1&&ae.remove()});for(var ce=0;ce<te.length;ce++){var J=te[ce],Z=N._fullLayout[J];w(N,Z)}}};function A(O,N,Y){if(!(N.title.side!=="top center"&&N.title.side!=="top right")){var $=N.title.font,te=$.size*u,ie=0,ce=O.node(),J=p.bBox(ce).width;N.title.side==="top center"?ie=.5*(N._width-2*Y-2*n.titlePad-J):N.title.side==="top right"&&(ie=N._width-2*Y-2*n.titlePad-J),t.positionText(O,Y+n.titlePad+ie,Y+te)}}function w(O,N){var Y=N||{},$=O._fullLayout,te=B(Y),ie,ce,J=Y._inHover;if(J?(ce=Y.layer,ie="hover"):(ce=$._infolayer,ie=te),!!ce){ie+=$._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0);var Z;if(J){if(!Y.entries)return;Z=f(Y.entries,Y)}else{for(var ae=(O.calcdata||[]).slice(),j=$.shapes,q=0;q<j.length;q++){var oe=j[q];if(oe.showlegend){var Q={_isShape:!0,_fullInput:oe,index:oe._index,name:oe.name||oe.label.text||"shape "+oe._index,legend:oe.legend,legendgroup:oe.legendgroup,legendgrouptitle:oe.legendgrouptitle,legendrank:oe.legendrank,legendwidth:oe.legendwidth,showlegend:oe.showlegend,visible:oe.visible,opacity:oe.opacity,mode:oe.type==="line"?"lines":"markers",line:oe.line,marker:{line:oe.line,color:oe.fillcolor,size:12,symbol:oe.type==="rect"?"square":oe.type==="circle"?"circle":"hexagon2"}};ae.push([{trace:Q}])}}Z=$.showlegend&&f(ae,Y,$._legends.length>1)}var K=$.hiddenlabels||[];if(!J&&(!$.showlegend||!Z.length))return ce.selectAll("."+te).remove(),$._topdefs.select("#"+ie).remove(),a.autoMargin(O,te);var se=P.ensureSingle(ce,"g",te,function(me){J||me.attr("pointer-events","all")}),ne=P.ensureSingleById($._topdefs,"clipPath",ie,function(me){me.append("rect")}),fe=P.ensureSingle(se,"rect","bg",function(me){me.attr("shape-rendering","crispEdges")});fe.call(r.stroke,Y.bordercolor).call(r.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var ye=P.ensureSingle(se,"g","scrollbox"),Ee=Y.title;Y._titleWidth=0,Y._titleHeight=0;var Te;Ee.text?(Te=P.ensureSingle(ye,"text",te+"titletext"),Te.attr("text-anchor","start").call(p.font,Ee.font).text(Ee.text),E(Te,ye,O,Y,s)):ye.selectAll("."+te+"titletext").remove();var ze=P.ensureSingle(se,"rect","scrollbar",function(me){me.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),ke=ye.selectAll("g.groups").data(Z);ke.enter().append("g").attr("class","groups"),ke.exit().remove();var Se=ke.selectAll("g.traces").data(P.identity);Se.enter().append("g").attr("class","traces"),Se.exit().remove(),Se.style("opacity",function(me){var Ce=me[0].trace;return L.traceIs(Ce,"pie-like")?K.indexOf(me[0].label)!==-1?.5:1:Ce.visible==="legendonly"?.5:1}).each(function(){y.select(this).call(S,O,Y)}).call(T,O,Y).each(function(){J||y.select(this).call(i,O,te)}),P.syncOrAsync([a.previousPromises,function(){return I(O,ke,Se,Y)},function(){var me=$._size,Ce=Y.borderwidth,Ne=Y.xref==="paper",He=Y.yref==="paper";if(Ee.text&&A(Te,Y,Ce),!J){var De,Ve;Ne?De=me.l+me.w*Y.x-l[z(Y)]*Y._width:De=$.width*Y.x-l[z(Y)]*Y._width,He?Ve=me.t+me.h*(1-Y.y)-l[F(Y)]*Y._effHeight:Ve=$.height*(1-Y.y)-l[F(Y)]*Y._effHeight;var at=U(O,te,De,Ve);if(at)return;if($.margin.autoexpand){var lt=De,$e=Ve;De=Ne?P.constrain(De,0,$.width-Y._width):lt,Ve=He?P.constrain(Ve,0,$.height-Y._effHeight):$e,De!==lt&&P.log("Constrain "+te+".x to make legend fit inside graph"),Ve!==$e&&P.log("Constrain "+te+".y to make legend fit inside graph")}p.setTranslate(se,De,Ve)}if(ze.on(".drag",null),se.on("wheel",null),J||Y._height<=Y._maxHeight||O._context.staticPlot){var et=Y._effHeight;J&&(et=Y._height),fe.attr({width:Y._width-Ce,height:et-Ce,x:Ce/2,y:Ce/2}),p.setTranslate(ye,0,0),ne.select("rect").attr({width:Y._width-2*Ce,height:et-2*Ce,x:Ce,y:Ce}),p.setClipUrl(ye,ie,O),p.setRect(ze,0,0,0,0),delete Y._scrollY}else{var ct=Math.max(n.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),dt=Y._effHeight-ct-2*n.scrollBarMargin,gt=Y._height-Y._effHeight,At=dt/gt,Rt=Math.min(Y._scrollY||0,gt);fe.attr({width:Y._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-Ce,x:Ce/2,y:Ce/2}),ne.select("rect").attr({width:Y._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-2*Ce,x:Ce,y:Ce+Rt}),p.setClipUrl(ye,ie,O),ge(Rt,ct,At),se.on("wheel",function(){Rt=P.constrain(Y._scrollY+y.event.deltaY/dt*gt,0,gt),ge(Rt,ct,At),Rt!==0&&Rt!==gt&&y.event.preventDefault()});var Vt,Je,Ge,Ie=function(tt,ft,pt){var Yt=(pt-ft)/At+tt;return P.constrain(Yt,0,gt)},Fe=function(tt,ft,pt){var Yt=(ft-pt)/At+tt;return P.constrain(Yt,0,gt)},Pe=y.behavior.drag().on("dragstart",function(){var tt=y.event.sourceEvent;tt.type==="touchstart"?Vt=tt.changedTouches[0].clientY:Vt=tt.clientY,Ge=Rt}).on("drag",function(){var tt=y.event.sourceEvent;tt.buttons===2||tt.ctrlKey||(tt.type==="touchmove"?Je=tt.changedTouches[0].clientY:Je=tt.clientY,Rt=Ie(Ge,Vt,Je),ge(Rt,ct,At))});ze.call(Pe);var xe=y.behavior.drag().on("dragstart",function(){var tt=y.event.sourceEvent;tt.type==="touchstart"&&(Vt=tt.changedTouches[0].clientY,Ge=Rt)}).on("drag",function(){var tt=y.event.sourceEvent;tt.type==="touchmove"&&(Je=tt.changedTouches[0].clientY,Rt=Fe(Ge,Vt,Je),ge(Rt,ct,At))});ye.call(xe)}function ge(tt,ft,pt){Y._scrollY=O._fullLayout[te]._scrollY=tt,p.setTranslate(ye,0,-tt),p.setRect(ze,Y._width,n.scrollBarMargin+tt*pt,n.scrollBarWidth,ft),ne.select("rect").attr("y",Ce+tt)}if(O._context.edits.legendPosition){var Me,Ae,Ue,Ze;se.classed("cursor-move",!0),v.init({element:se.node(),gd:O,prepFn:function(){var tt=p.getTranslate(se);Ue=tt.x,Ze=tt.y},moveFn:function(tt,ft){var pt=Ue+tt,Yt=Ze+ft;p.setTranslate(se,pt,Yt),Me=v.align(pt,Y._width,me.l,me.l+me.w,Y.xanchor),Ae=v.align(Yt+Y._height,-Y._height,me.t+me.h,me.t,Y.yanchor)},doneFn:function(){if(Me!==void 0&&Ae!==void 0){var tt={};tt[te+".x"]=Me,tt[te+".y"]=Ae,L.call("_guiRelayout",O,tt)}},clickFn:function(tt,ft){var pt=ce.selectAll("g.traces").filter(function(){var Yt=this.getBoundingClientRect();return ft.clientX>=Yt.left&&ft.clientX<=Yt.right&&ft.clientY>=Yt.top&&ft.clientY<=Yt.bottom});pt.size()>0&&b(O,se,pt,tt,ft)}})}}],O)}}function C(O,N,Y){var $=O[0],te=$.width,ie=N.entrywidthmode,ce=$.trace.legendwidth||N.entrywidth;return ie==="fraction"?N._maxWidth*ce:Y+(ce||te)}function b(O,N,Y,$,te){var ie=Y.data()[0][0].trace,ce={event:te,node:Y.node(),curveNumber:ie.index,expandedIndex:ie._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};ie._group&&(ce.group=ie._group),L.traceIs(ie,"pie-like")&&(ce.label=Y.datum()[0].label);var J=M.triggerHandler(O,"plotly_legendclick",ce);if($===1){if(J===!1)return;N._clickTimeout=setTimeout(function(){O._fullLayout&&o(Y,O,$)},O._context.doubleClickDelay)}else if($===2){N._clickTimeout&&clearTimeout(N._clickTimeout),O._legendMouseDownTime=0;var Z=M.triggerHandler(O,"plotly_legenddoubleclick",ce);Z!==!1&&J!==!1&&o(Y,O,$)}}function S(O,N,Y){var $=B(Y),te=O.data()[0][0],ie=te.trace,ce=L.traceIs(ie,"pie-like"),J=!Y._inHover&&N._context.edits.legendText&&!ce,Z=Y._maxNameLength,ae,j;te.groupTitle?(ae=te.groupTitle.text,j=te.groupTitle.font):(j=Y.font,Y.entries?ae=te.text:(ae=ce?te.label:ie.name,ie._meta&&(ae=P.templateString(ae,ie._meta))));var q=P.ensureSingle(O,"text",$+"text");q.attr("text-anchor","start").call(p.font,j).text(J?x(ae,Z):ae);var oe=Y.itemwidth+n.itemGap*2;t.positionText(q,oe,0),J?q.call(t.makeEditable,{gd:N,text:ae}).call(E,O,N,Y).on("edit",function(Q){this.text(x(Q,Z)).call(E,O,N,Y);var K=te.trace._fullInput||{},se={};if(L.hasTransform(K,"groupby")){var ne=L.getTransformIndices(K,"groupby"),fe=ne[ne.length-1],ye=P.keyedContainer(K,"transforms["+fe+"].styles","target","value.name");ye.set(te.trace._group,Q),se=ye.constructUpdate()}else se.name=Q;return K._isShape?L.call("_guiRelayout",N,"shapes["+ie.index+"].name",se.name):L.call("_guiRestyle",N,se,ie.index)}):E(q,O,N,Y)}function x(O,N){var Y=Math.max(4,N);if(O&&O.trim().length>=Y/2)return O;O=O||"";for(var $=Y-O.length;$>0;$--)O+=" ";return O}function i(O,N,Y){var $=N._context.doubleClickDelay,te,ie=1,ce=P.ensureSingle(O,"rect",Y+"toggle",function(J){N._context.staticPlot||J.style("cursor","pointer").attr("pointer-events","all"),J.call(r.fill,"rgba(0,0,0,0)")});N._context.staticPlot||(ce.on("mousedown",function(){te=new Date().getTime(),te-N._legendMouseDownTime<$?ie+=1:(ie=1,N._legendMouseDownTime=te)}),ce.on("mouseup",function(){if(!(N._dragged||N._editing)){var J=N._fullLayout[Y];new Date().getTime()-N._legendMouseDownTime>$&&(ie=Math.max(ie-1,1)),b(N,J,O,ie,y.event)}}))}function E(O,N,Y,$,te){$._inHover&&O.attr("data-notex",!0),t.convertToTspans(O,Y,function(){m(N,Y,$,te)})}function m(O,N,Y,$){var te=O.data()[0][0];if(!Y._inHover&&te&&!te.trace.showlegend){O.remove();return}var ie=O.select("g[class*=math-group]"),ce=ie.node(),J=B(Y);Y||(Y=N._fullLayout[J]);var Z=Y.borderwidth,ae;$===s?ae=Y.title.font:te.groupTitle?ae=te.groupTitle.font:ae=Y.font;var j=ae.size*u,q,oe;if(ce){var Q=p.bBox(ce);q=Q.height,oe=Q.width,$===s?p.setTranslate(ie,Z,Z+q*.75):p.setTranslate(ie,0,q*.25)}else{var K="."+J+($===s?"title":"")+"text",se=O.select(K),ne=t.lineCount(se),fe=se.node();if(q=j*ne,oe=fe?p.bBox(fe).width:0,$===s)Y.title.side==="left"&&(oe+=n.itemGap*2),t.positionText(se,Z+n.titlePad,Z+j);else{var ye=n.itemGap*2+Y.itemwidth;te.groupTitle&&(ye=n.itemGap,oe-=Y.itemwidth),t.positionText(se,ye,-j*((ne-1)/2-.3))}}$===s?(Y._titleWidth=oe,Y._titleHeight=q):(te.lineHeight=j,te.height=Math.max(q,16)+3,te.width=oe)}function k(O){var N=0,Y=0,$=O.title.side;return $&&($.indexOf("left")!==-1&&(N=O._titleWidth),$.indexOf("top")!==-1&&(Y=O._titleHeight)),[N,Y]}function I(O,N,Y,$){var te=O._fullLayout,ie=B($);$||($=te[ie]);var ce=te._size,J=h.isVertical($),Z=h.isGrouped($),ae=$.entrywidthmode==="fraction",j=$.borderwidth,q=2*j,oe=n.itemGap,Q=$.itemwidth+oe*2,K=2*(j+oe),se=F($),ne=$.y<0||$.y===0&&se==="top",fe=$.y>1||$.y===1&&se==="bottom",ye=$.tracegroupgap,Ee={};$._maxHeight=Math.max(ne||fe?te.height/2:ce.h,30);var Te=0;$._width=0,$._height=0;var ze=k($);if(J)Y.each(function(Ge){var Ie=Ge[0].height;p.setTranslate(this,j+ze[0],j+ze[1]+$._height+Ie/2+oe),$._height+=Ie,$._width=Math.max($._width,Ge[0].width)}),Te=Q+$._width,$._width+=oe+Q+q,$._height+=K,Z&&(N.each(function(Ge,Ie){p.setTranslate(this,0,Ie*$.tracegroupgap)}),$._height+=($._lgroupsLength-1)*$.tracegroupgap);else{var ke=z($),Se=$.x<0||$.x===0&&ke==="right",me=$.x>1||$.x===1&&ke==="left",Ce=fe||ne,Ne=te.width/2;$._maxWidth=Math.max(Se?Ce&&ke==="left"?ce.l+ce.w:Ne:me?Ce&&ke==="right"?ce.r+ce.w:Ne:ce.w,2*Q);var He=0,De=0;Y.each(function(Ge){var Ie=C(Ge,$,Q);He=Math.max(He,Ie),De+=Ie}),Te=null;var Ve=0;if(Z){var at=0,lt=0,$e=0;N.each(function(){var Ge=0,Ie=0;y.select(this).selectAll("g.traces").each(function(Pe){var xe=C(Pe,$,Q),ge=Pe[0].height;p.setTranslate(this,ze[0],ze[1]+j+oe+ge/2+Ie),Ie+=ge,Ge=Math.max(Ge,xe),Ee[Pe[0].trace.legendgroup]=Ge});var Fe=Ge+oe;lt>0&&Fe+j+lt>$._maxWidth?(Ve=Math.max(Ve,lt),lt=0,$e+=at+ye,at=Ie):at=Math.max(at,Ie),p.setTranslate(this,lt,$e),lt+=Fe}),$._width=Math.max(Ve,lt)+j,$._height=$e+at+K}else{var et=Y.size(),ct=De+q+(et-1)*oe<$._maxWidth,dt=0,gt=0,At=0,Rt=0;Y.each(function(Ge){var Ie=Ge[0].height,Fe=C(Ge,$,Q),Pe=ct?Fe:He;ae||(Pe+=oe),Pe+j+gt-oe>=$._maxWidth&&(Ve=Math.max(Ve,Rt),gt=0,At+=dt,$._height+=dt,dt=0),p.setTranslate(this,ze[0]+j+gt,ze[1]+j+At+Ie/2+oe),Rt=gt+Fe+oe,gt+=Pe,dt=Math.max(dt,Ie)}),ct?($._width=gt+q,$._height=dt+K):($._width=Math.max(Ve,Rt)+q,$._height+=dt+K)}}$._width=Math.ceil(Math.max($._width+ze[0],$._titleWidth+2*(j+n.titlePad))),$._height=Math.ceil(Math.max($._height+ze[1],$._titleHeight+2*(j+n.itemGap))),$._effHeight=Math.min($._height,$._maxHeight);var Vt=O._context.edits,Je=Vt.legendText||Vt.legendPosition;Y.each(function(Ge){var Ie=y.select(this).select("."+ie+"toggle"),Fe=Ge[0].height,Pe=Ge[0].trace.legendgroup,xe=C(Ge,$,Q);Z&&Pe!==""&&(xe=Ee[Pe]);var ge=Je?Q:Te||xe;!J&&!ae&&(ge+=oe/2),p.setRect(Ie,0,-Fe/2,ge,Fe)})}function U(O,N,Y,$){var te=O._fullLayout,ie=te[N],ce=z(ie),J=F(ie),Z=ie.xref==="paper",ae=ie.yref==="paper";O._fullLayout._reservedMargin[N]={};var j=ie.y<.5?"b":"t",q=ie.x<.5?"l":"r",oe={r:te.width-Y,l:Y+ie._width,b:te.height-$,t:$+ie._effHeight};if(Z&&ae)return a.autoMargin(O,N,{x:ie.x,y:ie.y,l:ie._width*l[ce],r:ie._width*g[ce],b:ie._effHeight*g[J],t:ie._effHeight*l[J]});Z?O._fullLayout._reservedMargin[N][j]=oe[j]:ae||ie.orientation==="v"?O._fullLayout._reservedMargin[N][q]=oe[q]:O._fullLayout._reservedMargin[N][j]=oe[j]}function z(O){return P.isRightAnchor(O)?"right":P.isCenterAnchor(O)?"center":"left"}function F(O){return P.isBottomAnchor(O)?"bottom":P.isMiddleAnchor(O)?"middle":"top"}function B(O){return O._id||"legend"}},82424:function(G,H,e){var y=e(73972),P=e(10130);G.exports=function(L,M,v){var p=M._inHover,r=P.isGrouped(M),t=P.isReversed(M),o={},n=[],c=!1,u={},l=0,g=0,f,T;function h(O,N,Y){if(M.visible!==!1&&!(v&&O!==M._id))if(N===""||!P.isGrouped(M)){var $="~~i"+l;n.push($),o[$]=[Y],l++}else n.indexOf(N)===-1?(n.push(N),c=!0,o[N]=[Y]):o[N].push(Y)}for(f=0;f<L.length;f++){var s=L[f],d=s[0],A=d.trace,w=A.legend,C=A.legendgroup;if(!(!p&&(!A.visible||!A.showlegend)))if(y.traceIs(A,"pie-like"))for(u[C]||(u[C]={}),T=0;T<s.length;T++){var b=s[T].label;u[C][b]||(h(w,C,{label:b,color:s[T].color,i:s[T].i,trace:A,pts:s[T].pts}),u[C][b]=!0,g=Math.max(g,(b||"").length))}else h(w,C,d),g=Math.max(g,(A.name||"").length)}if(!n.length)return[];var S=!c||!r,x=[];for(f=0;f<n.length;f++){var i=o[n[f]];S?x.push(i[0]):x.push(i)}for(S&&(x=[x]),f=0;f<x.length;f++){var E=1/0;for(T=0;T<x[f].length;T++){var m=x[f][T].trace.legendrank;E>m&&(E=m)}x[f][0]._groupMinRank=E,x[f][0]._preGroupSort=f}var k=function(O,N){return O[0]._groupMinRank-N[0]._groupMinRank||O[0]._preGroupSort-N[0]._preGroupSort},I=function(O,N){return O.trace.legendrank-N.trace.legendrank||O._preSort-N._preSort};for(x.forEach(function(O,N){O[0]._preGroupSort=N}),x.sort(k),f=0;f<x.length;f++){x[f].forEach(function(O,N){O._preSort=N}),x[f].sort(I);var U=x[f][0].trace,z=null;for(T=0;T<x[f].length;T++){var F=x[f][T].trace.legendgrouptitle;if(F&&F.text){z=F,p&&(F.font=M._groupTitleFont);break}}if(t&&x[f].reverse(),z){var B=!1;for(T=0;T<x[f].length;T++)if(y.traceIs(x[f][T].trace,"pie-like")){B=!0;break}x[f].unshift({i:-1,groupTitle:z,noClick:B,trace:{showlegend:U.showlegend,legendgroup:U.legendgroup,visible:M.groupclick==="toggleitem"?!0:U.visible}})}for(T=0;T<x[f].length;T++)x[f][T]=[x[f][T]]}return M._lgroupsLength=x.length,M._maxNameLength=g,x}},85167:function(G,H,e){var y=e(73972),P=e(71828),a=P.pushUnique,L=!0;G.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var o=t.legend.itemclick,n=t.legend.itemdoubleclick,c=t.legend.groupclick;r===1&&o==="toggle"&&n==="toggleothers"&&L&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),L=!1;var u;if(r===1?u=o:r===2&&(u=n),!u)return;var l=c==="togglegroup",g=t.hiddenlabels?t.hiddenlabels.slice():[],f=v.data()[0][0];if(f.groupTitle&&f.noClick)return;var T=p._fullData,h=(t.shapes||[]).filter(function(Ne){return Ne.showlegend}),s=T.concat(h),d=f.trace;d._isShape&&(d=d._fullInput);var A=d.legendgroup,w,C,b,S,x,i,E={},m=[],k=[],I=[];function U(Ne,He){var De=m.indexOf(Ne),Ve=E.visible;return Ve||(Ve=E.visible=[]),m.indexOf(Ne)===-1&&(m.push(Ne),De=m.length-1),Ve[De]=He,De}var z=(t.shapes||[]).map(function(Ne){return Ne._input}),F=!1;function B(Ne,He){z[Ne].visible=He,F=!0}function O(Ne,He){if(!(f.groupTitle&&!l)){var De=Ne._fullInput||Ne,Ve=De._isShape,at=De.index;if(at===void 0&&(at=De._index),y.hasTransform(De,"groupby")){var lt=k[at];if(!lt){var $e=y.getTransformIndices(De,"groupby"),et=$e[$e.length-1];lt=P.keyedContainer(De,"transforms["+et+"].styles","target","value.visible"),k[at]=lt}var ct=lt.get(Ne._group);ct===void 0&&(ct=!0),ct!==!1&&lt.set(Ne._group,He),I[at]=U(at,De.visible!==!1)}else{var dt=De.visible===!1?!1:He;Ve?B(at,dt):U(at,dt)}}}var N=d.legend,Y=d._fullInput,$=Y&&Y._isShape;if(!$&&y.traceIs(d,"pie-like")){var te=f.label,ie=g.indexOf(te);if(u==="toggle")ie===-1?g.push(te):g.splice(ie,1);else if(u==="toggleothers"){var ce=ie!==-1,J=[];for(w=0;w<p.calcdata.length;w++){var Z=p.calcdata[w];for(C=0;C<Z.length;C++){var ae=Z[C],j=ae.label;N===Z[0].trace.legend&&te!==j&&(g.indexOf(j)===-1&&(ce=!0),a(g,j),J.push(j))}}if(!ce)for(var q=0;q<J.length;q++){var oe=g.indexOf(J[q]);oe!==-1&&g.splice(oe,1)}}y.call("_guiRelayout",p,"hiddenlabels",g)}else{var Q=A&&A.length,K=[],se;if(Q)for(w=0;w<s.length;w++)se=s[w],se.visible&&se.legendgroup===A&&K.push(w);if(u==="toggle"){var ne;switch(d.visible){case!0:ne="legendonly";break;case!1:ne=!1;break;case"legendonly":ne=!0;break}if(Q)if(l)for(w=0;w<s.length;w++){var fe=s[w];fe.visible!==!1&&fe.legendgroup===A&&O(fe,ne)}else O(d,ne);else O(d,ne)}else if(u==="toggleothers"){var ye,Ee,Te,ze,ke,Se=!0;for(w=0;w<s.length;w++)if(ke=s[w],ye=ke===d,Te=ke.showlegend!==!0,!(ye||Te)&&(Ee=Q&&ke.legendgroup===A,!Ee&&ke.legend===N&&ke.visible===!0&&!y.traceIs(ke,"notLegendIsolatable"))){Se=!1;break}for(w=0;w<s.length;w++)if(ke=s[w],!(ke.visible===!1||ke.legend!==N)&&!y.traceIs(ke,"notLegendIsolatable"))switch(d.visible){case"legendonly":O(ke,!0);break;case!0:ze=Se?!0:"legendonly",ye=ke===d,Te=ke.showlegend!==!0&&!ke.legendgroup,Ee=ye||Q&&ke.legendgroup===A,O(ke,Ee||Te?!0:ze);break}}for(w=0;w<k.length;w++)if(b=k[w],!!b){var me=b.constructUpdate(),Ce=Object.keys(me);for(C=0;C<Ce.length;C++)S=Ce[C],i=E[S]=E[S]||[],i[I[w]]=me[S]}for(x=Object.keys(E),w=0;w<x.length;w++)for(S=x[w],C=0;C<m.length;C++)E[S].hasOwnProperty(C)||(E[S][C]=void 0);F?y.call("_guiUpdate",p,E,{shapes:z},m):y.call("_guiRestyle",p,E,m)}}},10130:function(G,H){H.isGrouped=function(y){return(y.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(y){return y.orientation!=="h"},H.isReversed=function(y){return(y.traceorder||"").indexOf("reversed")!==-1}},2199:function(G,H,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(G,H,e){var y=e(39898),P=e(73972),a=e(71828),L=a.strTranslate,M=e(91424),v=e(7901),p=e(52075).extractOpts,r=e(34098),t=e(63463),o=e(53581).castOption,n=e(14928),c=12,u=5,l=2,g=10,f=5;G.exports=function(A,w,C){var b=w._fullLayout;C||(C=b.legend);var S=C.itemsizing==="constant",x=C.itemwidth,i=(x+n.itemGap*2)/2,E=L(i,0),m=function(J,Z,ae,j){var q;if(J+1)q=J;else if(Z&&Z.width>0)q=Z.width;else return 0;return S?j:Math.min(q,ae)};A.each(function(J){var Z=y.select(this),ae=a.ensureSingle(Z,"g","layers");ae.style("opacity",J[0].trace.opacity);var j=C.valign,q=J[0].lineHeight,oe=J[0].height;if(j==="middle"||!q||!oe)ae.attr("transform",null);else{var Q={top:1,bottom:-1}[j],K=Q*(.5*(q-oe+3));ae.attr("transform",L(0,K))}var se=ae.selectAll("g.legendfill").data([J]);se.enter().append("g").classed("legendfill",!0);var ne=ae.selectAll("g.legendlines").data([J]);ne.enter().append("g").classed("legendlines",!0);var fe=ae.selectAll("g.legendsymbols").data([J]);fe.enter().append("g").classed("legendsymbols",!0),fe.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(ce).each(U).each(F).each(z).each(O).each(te).each($).each(k).each(I).each(N).each(Y);function k(J){var Z=h(J),ae=Z.showFill,j=Z.showLine,q=Z.showGradientLine,oe=Z.showGradientFill,Q=Z.anyFill,K=Z.anyLine,se=J[0],ne=se.trace,fe,ye,Ee=p(ne),Te=Ee.colorscale,ze=Ee.reversescale,ke=function(Ve){if(Ve.size())if(ae)M.fillGroupStyle(Ve,w);else{var at="legendfill-"+ne.uid;M.gradient(Ve,w,at,T(ze),Te,"fill")}},Se=function(Ve){if(Ve.size()){var at="legendline-"+ne.uid;M.lineGroupStyle(Ve),M.gradient(Ve,w,at,T(ze),Te,"stroke")}},me=r.hasMarkers(ne)||!Q?"M5,0":K?"M5,-2":"M5,-3",Ce=y.select(this),Ne=Ce.select(".legendfill").selectAll("path").data(ae||oe?[J]:[]);if(Ne.enter().append("path").classed("js-fill",!0),Ne.exit().remove(),Ne.attr("d",me+"h"+x+"v6h-"+x+"z").call(ke),j||q){var He=m(void 0,ne.line,g,u);ye=a.minExtend(ne,{line:{width:He}}),fe=[a.minExtend(se,{trace:ye})]}var De=Ce.select(".legendlines").selectAll("path").data(j||q?[fe]:[]);De.enter().append("path").classed("js-line",!0),De.exit().remove(),De.attr("d",me+(q?"l"+x+",0.0001":"h"+x)).call(j?M.lineGroupStyle:Se)}function I(J){var Z=h(J),ae=Z.anyFill,j=Z.anyLine,q=Z.showLine,oe=Z.showMarker,Q=J[0],K=Q.trace,se=!oe&&!j&&!ae&&r.hasText(K),ne,fe;function ye(Ne,He,De,Ve){var at=a.nestedProperty(K,Ne).get(),lt=a.isArrayOrTypedArray(at)&&He?He(at):at;if(S&&lt&&Ve!==void 0&&(lt=Ve),De){if(lt<De[0])return De[0];if(lt>De[1])return De[1]}return lt}function Ee(Ne){return Q._distinct&&Q.index&&Ne[Q.index]?Ne[Q.index]:Ne[0]}if(oe||se||q){var Te={},ze={};if(oe){Te.mc=ye("marker.color",Ee),Te.mx=ye("marker.symbol",Ee),Te.mo=ye("marker.opacity",a.mean,[.2,1]),Te.mlc=ye("marker.line.color",Ee),Te.mlw=ye("marker.line.width",a.mean,[0,5],l),ze.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ke=ye("marker.size",a.mean,[2,16],c);Te.ms=ke,ze.marker.size=ke}q&&(ze.line={width:ye("line.width",Ee,[0,10],u)}),se&&(Te.tx="Aa",Te.tp=ye("textposition",Ee),Te.ts=10,Te.tc=ye("textfont.color",Ee),Te.tf=ye("textfont.family",Ee)),ne=[a.minExtend(Q,Te)],fe=a.minExtend(K,ze),fe.selectedpoints=null,fe.texttemplate=null}var Se=y.select(this).select("g.legendpoints"),me=Se.selectAll("path.scatterpts").data(oe?ne:[]);me.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),me.exit().remove(),me.call(M.pointStyle,fe,w),oe&&(ne[0].mrc=3);var Ce=Se.selectAll("g.pointtext").data(se?ne:[]);Ce.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),Ce.exit().remove(),Ce.selectAll("text").call(M.textPointStyle,fe,w)}function U(J){var Z=J[0].trace,ae=Z.type==="waterfall";if(J[0]._distinct&&ae){var j=J[0].trace[J[0].dir].marker;return J[0].mc=j.color,J[0].mlw=j.line.width,J[0].mlc=j.line.color,B(J,this,"waterfall")}var q=[];Z.visible&&ae&&(q=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var oe=y.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);oe.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(Q){var K=y.select(this),se=Z[Q[0]].marker,ne=m(void 0,se.line,f,l);K.attr("d",Q[1]).style("stroke-width",ne+"px").call(v.fill,se.color),ne&&K.call(v.stroke,se.line.color)})}function z(J){B(J,this)}function F(J){B(J,this,"funnel")}function B(J,Z,ae){var j=J[0].trace,q=j.marker||{},oe=q.line||{},Q=ae?j.visible&&j.type===ae:P.traceIs(j,"bar"),K=y.select(Z).select("g.legendpoints").selectAll("path.legend"+ae).data(Q?[J]:[]);K.enter().append("path").classed("legend"+ae,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),K.exit().remove(),K.each(function(se){var ne=y.select(this),fe=se[0],ye=m(fe.mlw,q.line,f,l);ne.style("stroke-width",ye+"px");var Ee=fe.mcc;if(!C._inHover&&"mc"in fe){var Te=p(q),ze=Te.mid;ze===void 0&&(ze=(Te.max+Te.min)/2),Ee=M.tryColorscale(q,"")(ze)}var ke=Ee||fe.mc||q.color,Se=q.pattern,me=Se&&M.getPatternAttr(Se.shape,0,"");if(me){var Ce=M.getPatternAttr(Se.bgcolor,0,null),Ne=M.getPatternAttr(Se.fgcolor,0,null),He=Se.fgopacity,De=s(Se.size,8,10),Ve=s(Se.solidity,.5,1),at="legend-"+j.uid;ne.call(M.pattern,"legend",w,at,me,De,Ve,Ee,Se.fillmode,Ce,Ne,He)}else ne.call(v.fill,ke);ye&&v.stroke(ne,fe.mlc||oe.color)})}function O(J){var Z=J[0].trace,ae=y.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Z.visible&&P.traceIs(Z,"box-violin")?[J]:[]);ae.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),ae.exit().remove(),ae.each(function(){var j=y.select(this);if((Z.boxpoints==="all"||Z.points==="all")&&v.opacity(Z.fillcolor)===0&&v.opacity((Z.line||{}).color)===0){var q=a.minExtend(Z,{marker:{size:S?c:a.constrain(Z.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ae.call(M.pointStyle,q,w)}else{var oe=m(void 0,Z.line,f,l);j.style("stroke-width",oe+"px").call(v.fill,Z.fillcolor),oe&&v.stroke(j,Z.line.color)}})}function N(J){var Z=J[0].trace,ae=y.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Z.visible&&Z.type==="candlestick"?[J,J]:[]);ae.enter().append("path").classed("legendcandle",!0).attr("d",function(j,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),ae.exit().remove(),ae.each(function(j,q){var oe=y.select(this),Q=Z[q?"increasing":"decreasing"],K=m(void 0,Q.line,f,l);oe.style("stroke-width",K+"px").call(v.fill,Q.fillcolor),K&&v.stroke(oe,Q.line.color)})}function Y(J){var Z=J[0].trace,ae=y.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Z.visible&&Z.type==="ohlc"?[J,J]:[]);ae.enter().append("path").classed("legendohlc",!0).attr("d",function(j,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),ae.exit().remove(),ae.each(function(j,q){var oe=y.select(this),Q=Z[q?"increasing":"decreasing"],K=m(void 0,Q.line,f,l);oe.style("fill","none").call(M.dashLine,Q.line.dash,K),K&&v.stroke(oe,Q.line.color)})}function $(J){ie(J,this,"pie")}function te(J){ie(J,this,"funnelarea")}function ie(J,Z,ae){var j=J[0],q=j.trace,oe=ae?q.visible&&q.type===ae:P.traceIs(q,ae),Q=y.select(Z).select("g.legendpoints").selectAll("path.legend"+ae).data(oe?[J]:[]);if(Q.enter().append("path").classed("legend"+ae,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),Q.exit().remove(),Q.size()){var K=q.marker||{},se=m(o(K.line.width,j.pts),K.line,f,l),ne="pieLike",fe=a.minExtend(q,{marker:{line:{width:se}}},ne),ye=a.minExtend(j,{trace:fe},ne);t(Q,ye,fe,w)}}function ce(J){var Z=J[0].trace,ae,j=[];if(Z.visible)switch(Z.type){case"histogram2d":case"heatmap":j=[["M-15,-2V4H15V-2Z"]],ae=!0;break;case"choropleth":case"choroplethmapbox":j=[["M-6,-6V6H6V-6Z"]],ae=!0;break;case"densitymapbox":j=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ae="radial";break;case"cone":j=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ae=!1;break;case"streamtube":j=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ae=!1;break;case"surface":j=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ae=!0;break;case"mesh3d":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ae=!1;break;case"volume":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ae=!0;break;case"isosurface":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ae=!1;break}var q=y.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(j);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(oe,Q){var K=y.select(this),se=p(Z),ne=se.colorscale,fe=se.reversescale,ye=function(ke){if(ke.size()){var Se="legendfill-"+Z.uid;M.gradient(ke,w,Se,T(fe,ae==="radial"),ne,"fill")}},Ee;if(ne){if(!ae){var ze=ne.length;Ee=Q===0?ne[fe?ze-1:0][1]:Q===1?ne[fe?0:ze-1][1]:ne[Math.floor((ze-1)/2)][1]}}else{var Te=Z.vertexcolor||Z.facecolor||Z.color;Ee=a.isArrayOrTypedArray(Te)?Te[Q]||Te[0]:Te}K.attr("d",oe[0]),Ee?K.call(v.fill,Ee):K.call(ye)})}};function T(d,A){var w=A?"radial":"horizontal";return w+(d?"":"reversed")}function h(d){var A=d[0].trace,w=A.contours,C=r.hasLines(A),b=r.hasMarkers(A),S=A.visible&&A.fill&&A.fill!=="none",x=!1,i=!1;if(w){var E=w.coloring;E==="lines"?x=!0:C=E==="none"||E==="heatmap"||w.showlines,w.type==="constraint"?S=w._operation!=="=":(E==="fill"||E==="heatmap")&&(i=!0)}return{showMarker:b,showLine:C,showFill:S,showGradientLine:x,showGradientFill:i,anyLine:C||x,anyFill:S||i}}function s(d,A,w){return d&&a.isArrayOrTypedArray(d)?A:d>w?w:d}},42068:function(G,H,e){e(93348),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(G,H,e){var y=e(73972),P=e(74875),a=e(41675),L=e(24255),M=e(34031).eraseActiveShape,v=e(71828),p=v._,r=G.exports={};r.toImage={name:"toImage",title:function(d){var A=d._context.toImageButtonOptions||{},w=A.format||"png";return w==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var A=d._context.toImageButtonOptions,w={format:A.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(C){C in A&&(w[C]=A[C])}),y.call("downloadImage",d,w).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:M},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(d,A){var w=A.currentTarget,C=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,S=d._fullLayout,x={},i=a.list(d,null,!0),E=S._cartesianSpikesEnabled,m,k;if(C==="zoom"){var I=b==="in"?.5:2,U=(1+I)/2,z=(1-I)/2,F;for(k=0;k<i.length;k++)if(m=i[k],!m.fixedrange)if(F=m._name,b==="auto")x[F+".autorange"]=!0;else if(b==="reset")m._rangeInitial0===void 0&&m._rangeInitial1===void 0?x[F+".autorange"]=!0:m._rangeInitial0===void 0?(x[F+".autorange"]=m._autorangeInitial,x[F+".range"]=[null,m._rangeInitial1]):m._rangeInitial1===void 0?(x[F+".range"]=[m._rangeInitial0,null],x[F+".autorange"]=m._autorangeInitial):x[F+".range"]=[m._rangeInitial0,m._rangeInitial1],m._showSpikeInitial!==void 0&&(x[F+".showspikes"]=m._showSpikeInitial,E==="on"&&!m._showSpikeInitial&&(E="off"));else{var B=[m.r2l(m.range[0]),m.r2l(m.range[1])],O=[U*B[0]+z*B[1],U*B[1]+z*B[0]];x[F+".range[0]"]=m.l2r(O[0]),x[F+".range[1]"]=m.l2r(O[1])}}else C==="hovermode"&&(b==="x"||b==="y")&&(b=S._isHoriz?"y":"x",w.setAttribute("data-val",b)),x[C]=b;S._cartesianSpikesEnabled=E,y.call("_guiRelayout",d,x)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:o},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:o},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:o},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:o};function o(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],x={},i=C.split("."),E=0;E<S.length;E++)x[S[E]+"."+i[1]]=b;var m=b==="pan"?b:"zoom";x.dragmode=m,y.call("_guiRelayout",d,x)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-attr"),b=C==="resetLastSave",S=C==="resetDefault",x=d._fullLayout,i=x._subplots.gl3d||[],E={},m=0;m<i.length;m++){var k=i[m],I=k+".camera",U=k+".aspectratio",z=k+".aspectmode",F=x[k]._scene,B;b?(E[I+".up"]=F.viewInitial.up,E[I+".eye"]=F.viewInitial.eye,E[I+".center"]=F.viewInitial.center,B=!0):S&&(E[I+".up"]=null,E[I+".eye"]=null,E[I+".center"]=null,B=!0),B&&(E[U+".x"]=F.viewInitial.aspectratio.x,E[U+".y"]=F.viewInitial.aspectratio.y,E[U+".z"]=F.viewInitial.aspectratio.z,E[z]=F.viewInitial.aspectmode)}y.call("_guiRelayout",d,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:u};function c(d,A){var w=A.currentTarget,C=w._previousVal,b=d._fullLayout,S=b._subplots.gl3d||[],x=["xaxis","yaxis","zaxis"],i={},E={};if(C)E=C,w._previousVal=null;else{for(var m=0;m<S.length;m++){var k=S[m],I=b[k],U=k+".hovermode";i[U]=I.hovermode,E[U]=!1;for(var z=0;z<3;z++){var F=x[z],B=k+"."+F+".showspikes";E[B]=!1,i[B]=I[F].showspikes}}w._previousVal=i}return E}function u(d,A){var w=c(d,A);y.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:f};function l(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,S=d._fullLayout,x=S._subplots.geo||[],i=0;i<x.length;i++){var E=x[i],m=S[E];if(C==="zoom"){var k=m.projection.scale,I=b==="in"?2*k:.5*k;y.call("_guiRelayout",d,E+".projection.scale",I)}}C==="reset"&&s(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:f},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:f};function g(d){var A=d._fullLayout;return A.hovermode?!1:A._has("cartesian")?A._isHoriz?"y":"x":"closest"}function f(d){var A=g(d);y.call("_guiRelayout",d,"hovermode",A)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var A={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var C=d._fullData[w]._viewInitial;A["node.groups"].push(C.node.groups.slice()),A["node.x"].push(C.node.x.slice()),A["node.y"].push(C.node.y.slice())}y.call("restyle",d,A)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,A){var w=c(d,A);w.hovermode=g(d),y.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,A){var w=A.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,A),w.setAttribute("data-attr","resetLastSave"),n(d,A),s(d,"geo"),s(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var A=d._fullLayout,w=A._cartesianSpikesEnabled;A._cartesianSpikesEnabled=w==="on"?"off":"on",y.call("_guiRelayout",d,T(d))}};function T(d){for(var A=d._fullLayout,w=A._cartesianSpikesEnabled==="on",C=a.list(d,null,!0),b={},S=0;S<C.length;S++){var x=C[S];b[x._name+".showspikes"]=w?!0:x._showSpikeInitial}return b}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){s(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:h},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:h};function h(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-val"),b=d._fullLayout,S=b._subplots.mapbox||[],x=1.05,i={},E=0;E<S.length;E++){var m=S[E],k=b[m].zoom,I=C==="in"?x*k:k/x;i[m+".zoom"]=I}y.call("_guiRelayout",d,i)}function s(d,A){for(var w=d._fullLayout,C=w._subplots[A]||[],b={},S=0;S<C.length;S++)for(var x=C[S],i=w[x]._subplot,E=i.viewInitial,m=Object.keys(E),k=0;k<m.length;k++){var I=m[k];b[x+"."+I]=E[I]}y.call("_guiRelayout",d,b)}},93348:function(G,H,e){var y=e(26023),P=Object.keys(y),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),M=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();M.indexOf(r)===-1&&M.push(r),M.indexOf(t)===-1&&M.push(t)}};P.forEach(function(p){v(y[p])}),M.sort(),G.exports={DRAW_MODES:a,backButtons:L,foreButtons:M}},35750:function(G,H,e){var y=e(71828),P=e(7901),a=e(44467),L=e(42068);G.exports=function(v,p){var r=v.modebar||{},t=a.newContainer(p,"modebar");function o(c,u){return y.coerce(r,t,L,c,u)}o("orientation"),o("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));o("color",P.addOpacity(n,.3)),o("activecolor",P.addOpacity(n,.7)),o("uirevision",p.uirevision),o("add"),o("remove")}},64168:function(G,H,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(G,H,e){var y=e(41675),P=e(34098),a=e(73972),L=e(23469).isUnifiedHover,M=e(37676),v=e(26023),p=e(93348).DRAW_MODES,r=e(71828).extendDeep;G.exports=function(f){var T=f._fullLayout,h=f._context,s=T._modeBar;if(!h.displayModeBar&&!h.watermark){s&&(s.destroy(),delete T._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=h.modeBarButtons,A;Array.isArray(d)&&d.length?A=l(d):!h.displayModeBar&&h.watermark?A=[]:A=t(f),s?s.update(f,A):T._modeBar=M(f,A)};function t(g){var f=g._fullLayout,T=g._fullData,h=g._context;function s(Q,K){if(typeof K=="string"){if(K.toLowerCase()===Q.toLowerCase())return!0}else{var se=K.name,ne=K._cat||K.name;if(se===Q||ne===Q.toLowerCase())return!0}return!1}var d=f.modebar.add;typeof d=="string"&&(d=[d]);var A=f.modebar.remove;typeof A=="string"&&(A=[A]);var w=h.modeBarButtonsToAdd.concat(d.filter(function(Q){for(var K=0;K<h.modeBarButtonsToRemove.length;K++)if(s(Q,h.modeBarButtonsToRemove[K]))return!1;return!0})),C=h.modeBarButtonsToRemove.concat(A.filter(function(Q){for(var K=0;K<h.modeBarButtonsToAdd.length;K++)if(s(Q,h.modeBarButtonsToAdd[K]))return!1;return!0})),b=f._has("cartesian"),S=f._has("gl3d"),x=f._has("geo"),i=f._has("pie"),E=f._has("funnelarea"),m=f._has("gl2d"),k=f._has("ternary"),I=f._has("mapbox"),U=f._has("polar"),z=f._has("smith"),F=f._has("sankey"),B=o(f),O=L(f.hovermode),N=[];function Y(Q){if(Q.length){for(var K=[],se=0;se<Q.length;se++){for(var ne=Q[se],fe=v[ne],ye=fe.name.toLowerCase(),Ee=(fe._cat||fe.name).toLowerCase(),Te=!1,ze=0;ze<C.length;ze++){var ke=C[ze].toLowerCase();if(ke===ye||ke===Ee){Te=!0;break}}Te||K.push(v[ne])}N.push(K)}}var $=["toImage"];h.showEditInChartStudio?$.push("editInChartStudio"):h.showSendToCloud&&$.push("sendDataToCloud"),Y($);var te=[],ie=[],ce=[],J=[];(b||m||i||E||k)+x+S+I+U+z>1?(ie=["toggleHover"],ce=["resetViews"]):x?(te=["zoomInGeo","zoomOutGeo"],ie=["hoverClosestGeo"],ce=["resetGeo"]):S?(ie=["hoverClosest3d"],ce=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(te=["zoomInMapbox","zoomOutMapbox"],ie=["toggleHover"],ce=["resetViewMapbox"]):m?ie=["hoverClosestGl2d"]:i?ie=["hoverClosestPie"]:F?(ie=["hoverClosestCartesian","hoverCompareCartesian"],ce=["resetViewSankey"]):ie=["toggleHover"],b&&(ie=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(c(T)||O)&&(ie=[]),(b||m)&&!B&&(te=["zoomIn2d","zoomOut2d","autoScale2d"],ce[0]!=="resetViews"&&(ce=["resetScale2d"])),S?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(b||m)&&!B||k?J=["zoom2d","pan2d"]:I||x?J=["pan2d"]:U&&(J=["zoom2d"]),n(T)&&J.push("select2d","lasso2d");var Z=[],ae=function(Q){Z.indexOf(Q)===-1&&ie.indexOf(Q)!==-1&&Z.push(Q)};if(Array.isArray(w)){for(var j=[],q=0;q<w.length;q++){var oe=w[q];typeof oe=="string"?(oe=oe.toLowerCase(),p.indexOf(oe)!==-1?(f._has("mapbox")||f._has("cartesian"))&&J.push(oe):oe==="togglespikelines"?ae("toggleSpikelines"):oe==="togglehover"?ae("toggleHover"):oe==="hovercompare"?ae("hoverCompareCartesian"):oe==="hoverclosest"?(ae("hoverClosestCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie")):oe==="v1hovermode"&&(ae("toggleHover"),ae("hoverClosestCartesian"),ae("hoverCompareCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie"))):j.push(oe)}w=j}return Y(J),Y(te.concat(ce)),Y(Z),u(N,w)}function o(g){for(var f=y.list({_fullLayout:g},null,!0),T=0;T<f.length;T++)if(!f[T].fixedrange)return!1;return!0}function n(g){for(var f=!1,T=0;T<g.length&&!f;T++){var h=g[T];!h._module||!h._module.selectPoints||(a.traceIs(h,"scatter-like")?(P.hasMarkers(h)||P.hasText(h))&&(f=!0):a.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(f=!0):f=!0)}return f}function c(g){for(var f=0;f<g.length;f++)if(!a.traceIs(g[f],"noHover"))return!1;return!0}function u(g,f){if(f.length)if(Array.isArray(f[0]))for(var T=0;T<f.length;T++)g.push(f[T]);else g.push(f);return g}function l(g){for(var f=r([],g),T=0;T<f.length;T++)for(var h=f[T],s=0;s<h.length;s++){var d=h[s];if(typeof d=="string")if(v[d]!==void 0)f[T][s]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return f}},37676:function(G,H,e){var y=e(39898),P=e(92770),a=e(71828),L=e(24255),M=e(11506).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,c){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,g="modebar-"+l._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",c=c.reverse());var f=l.modebar,T=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(g),a.addRelatedStyleRule(g,T+"#"+g+" .modebar-group","background-color: "+f.bgcolor),a.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+f.color),a.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+f.activecolor),a.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+f.activecolor);var h=!this.hasButtons(c),s=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(h||s||d)&&(this.removeAllButtons(),this.updateButtons(c),u.watermark||u.displaylogo)){var A=this.getLogo();u.watermark&&(A.className=A.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var c=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=c.createGroup();u.forEach(function(g){var f=g.name;if(!f)throw new Error("must provide button 'name' in button config");if(c.buttonsNames.indexOf(f)!==-1)throw new Error("button name '"+f+"' is taken");c.buttonsNames.push(f);var T=c.createButton(g);c.buttonElements.push(T),l.appendChild(T)}),c.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var c=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var g=n.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),u.setAttribute("data-val",g));var f=n.click;if(typeof f!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(h){n.click(c.graphInfo,h),c.updateActiveButton(h.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&y.select(u).classed("active",!0);var T=n.icon;return typeof T=="function"?u.appendChild(T()):u.appendChild(this.createIcon(T||L.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var c=P(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,c].join(" ")),l.setAttribute("class","icon");var g=document.createElementNS(u,"path");g.setAttribute("d",n.path),n.transform?g.setAttribute("transform",n.transform):n.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(g)}if(n.svg){var f=v.parseFromString(n.svg,"application/xml");l=f.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var c=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var g=l.getAttribute("data-val")||!0,f=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",h=y.select(l);if(T)f===u&&h.classed("active",!h.classed("active"));else{var s=f===null?f:a.nestedProperty(c,f).get();h.classed("active",s===g)}})},r.hasButtons=function(n){var c=this.buttons;if(!c||n.length!==c.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==c[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==c[u][l].name)return!1}return!0};function t(n){return n+" (v"+M+")"}r.getLogo=function(){var n=this.createGroup(),c=document.createElement("a");return c.href="https://plotly.com/",c.target="_blank",c.setAttribute("data-title",t(a._(this.graphInfo,"Produced with Plotly.js"))),c.className="modebar-btn plotlyjsicon modebar-btn--logo",c.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(c),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function o(n,c){var u=n._fullLayout,l=new p({graphInfo:n,container:u._modebardiv.node(),buttons:c});return u._privateplot&&y.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}G.exports=o},37113:function(G,H,e){var y=e(41940),P=e(22399),a=e(44467).templatedArray,L=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:y({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(G,H,e){var y=e(71828),P=e(7901),a=e(44467),L=e(85501),M=e(37113),v=e(89573);G.exports=function(o,n,c,u,l){var g=o.rangeselector||{},f=a.newContainer(n,"rangeselector");function T(w,C){return y.coerce(g,f,M,w,C)}var h=L(g,f,{name:"buttons",handleItemDefaults:p,calendar:l}),s=T("visible",h.length>0);if(s){var d=r(n,c,u);T("x",d[0]),T("y",d[1]),y.noneOrAll(o,n,["x","y"]),T("xanchor"),T("yanchor"),y.coerceFont(T,"font",c.font);var A=T("bgcolor");T("activecolor",P.contrast(A,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(t,o,n,c){var u=c.calendar;function l(T,h){return y.coerce(t,o,M.buttons,T,h)}var g=l("visible");if(g){var f=l("step");f!=="all"&&(u&&u!=="gregorian"&&(f==="month"||f==="year")?o.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,o,n){for(var c=n.filter(function(f){return o[f].anchor===t._id}),u=0,l=0;l<c.length;l++){var g=o[c[l]].domain;g&&(u=Math.max(g[1],u))}return[t.domain[0],u+v.yPad]}},21598:function(G,H,e){var y=e(39898),P=e(73972),a=e(74875),L=e(7901),M=e(91424),v=e(71828),p=v.strTranslate,r=e(63893),t=e(41675),o=e(18783),n=o.LINE_SPACING,c=o.FROM_TL,u=o.FROM_BR,l=e(89573),g=e(70565);G.exports=function(S){var x=S._fullLayout,i=x._infolayer.selectAll(".rangeselector").data(f(S),T);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(E){var m=y.select(this),k=E,I=k.rangeselector,U=m.selectAll("g.button").data(v.filterVisible(I.buttons));U.enter().append("g").classed("button",!0),U.exit().remove(),U.each(function(z){var F=y.select(this),B=g(k,z);z._isActive=h(k,z,B),F.call(s,I,z),F.call(A,I,z,S),F.on("click",function(){S._dragged||P.call("_guiRelayout",S,B)}),F.on("mouseover",function(){z._isHovered=!0,F.call(s,I,z)}),F.on("mouseout",function(){z._isHovered=!1,F.call(s,I,z)})}),C(S,U,I,k._name,m)})};function f(b){for(var S=t.list(b,"x",!0),x=[],i=0;i<S.length;i++){var E=S[i];E.rangeselector&&E.rangeselector.visible&&x.push(E)}return x}function T(b){return b._id}function h(b,S,x){if(S.step==="all")return b.autorange===!0;var i=Object.keys(x);return b.range[0]===x[i[0]]&&b.range[1]===x[i[1]]}function s(b,S,x){var i=v.ensureSingle(b,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});i.attr({rx:l.rx,ry:l.ry}),i.call(L.stroke,S.bordercolor).call(L.fill,d(S,x)).style("stroke-width",S.borderwidth+"px")}function d(b,S){return S._isActive||S._isHovered?b.activecolor:b.bgcolor}function A(b,S,x,i){function E(k){r.convertToTspans(k,i)}var m=v.ensureSingle(b,"text","selector-text",function(k){k.attr("text-anchor","middle")});m.call(M.font,S.font).text(w(x,i._fullLayout._meta)).call(E)}function w(b,S){return b.label?S?v.templateString(b.label,S):b.label:b.step==="all"?"all":b.count+b.step.charAt(0)}function C(b,S,x,i,E){var m=0,k=0,I=x.borderwidth;S.each(function(){var N=y.select(this),Y=N.select(".selector-text"),$=x.font.size*n,te=Math.max($*r.lineCount(Y),16)+3;k=Math.max(k,te)}),S.each(function(){var N=y.select(this),Y=N.select(".selector-rect"),$=N.select(".selector-text"),te=$.node()&&M.bBox($.node()).width,ie=x.font.size*n,ce=r.lineCount($),J=Math.max(te+10,l.minButtonWidth);N.attr("transform",p(I+m,I)),Y.attr({x:0,y:0,width:J,height:k}),r.positionText($,J/2,k/2-(ce-1)*ie/2+3),m+=J+5});var U=b._fullLayout._size,z=U.l+U.w*x.x,F=U.t+U.h*(1-x.y),B="left";v.isRightAnchor(x)&&(z-=m,B="right"),v.isCenterAnchor(x)&&(z-=m/2,B="center");var O="top";v.isBottomAnchor(x)&&(F-=k,O="bottom"),v.isMiddleAnchor(x)&&(F-=k/2,O="middle"),m=Math.ceil(m),k=Math.ceil(k),z=Math.round(z),F=Math.round(F),a.autoMargin(b,i+"-range-selector",{x:x.x,y:x.y,l:m*c[B],r:m*u[B],b:k*u[O],t:k*c[O]}),E.attr("transform",p(z,F))}},70565:function(G,H,e){var y=e(81041),P=e(71828).titleCase;G.exports=function(M,v){var p=M._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=a(M,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function a(L,M){var v=L.range,p=new Date(L.r2l(v[1])),r=M.step,t=y["utc"+P(r)],o=M.count,n;switch(M.stepmode){case"backward":n=L.l2r(+t.offset(p,-o));break;case"todate":var c=t.offset(p,-o);n=L.l2r(+t.ceil(c));break}var u=v[1];return[n,u]}},97218:function(G,H,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(G,H,e){var y=e(22399);G.exports={bgcolor:{valType:"color",dflt:y.background,editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(G,H,e){var y=e(41675).list,P=e(71739).getAutoRange,a=e(73251);G.exports=function(M){for(var v=y(M,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(M,r))}}},73251:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(G,H,e){var y=e(71828),P=e(44467),a=e(41675),L=e(75148),M=e(47850);G.exports=function(p,r,t){var o=p[t],n=r[t];if(!(o.rangeslider||r._requestRangeslider[n._id]))return;y.isPlainObject(o.rangeslider)||(o.rangeslider={});var c=o.rangeslider,u=P.newContainer(n,"rangeslider");function l(i,E){return y.coerce(c,u,L,i,E)}var g,f;function T(i,E){return y.coerce(g,f,M,i,E)}var h=l("visible");if(h){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(c.range)),l("range");var s=r._subplots;if(s)for(var d=s.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===a.name2id(t)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),A=y.simpleMap(d,a.id2name),w=0;w<A.length;w++){var C=A[w];g=c[C]||{},f=P.newContainer(u,C,"yaxis");var b=r[C],S;g.range&&b.isValidRange(g.range)&&(S="fixed");var x=T("rangemode",S);x!=="match"&&T("range",b.range.slice())}u._input=c}}},72413:function(G,H,e){var y=e(39898),P=e(73972),a=e(74875),L=e(71828),M=L.strTranslate,v=e(91424),p=e(7901),r=e(92998),t=e(93612),o=e(41675),n=e(28569),c=e(6964),u=e(73251);G.exports=function(S){for(var x=S._fullLayout,i=x._rangeSliderData,E=0;E<i.length;E++){var m=i[E][u.name];m._clipId=m._id+"-"+x._uid}function k(U){return U._name}var I=x._infolayer.selectAll("g."+u.containerClassName).data(i,k);I.exit().each(function(U){var z=U[u.name];x._topdefs.select("#"+z._clipId).remove()}).remove(),i.length!==0&&(I.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),I.each(function(U){var z=y.select(this),F=U[u.name],B=x[o.id2name(U.anchor)],O=F[o.id2name(U.anchor)];if(F.range){var N=L.simpleMap(F.range,U.r2l),Y=L.simpleMap(U.range,U.r2l),$;Y[0]<Y[1]?$=[Math.min(N[0],Y[0]),Math.max(N[1],Y[1])]:$=[Math.max(N[0],Y[0]),Math.min(N[1],Y[1])],F.range=F._input.range=L.simpleMap($,U.l2r)}U.cleanRange("rangeslider.range");var te=x._size,ie=U.domain;F._width=te.w*(ie[1]-ie[0]);var ce=Math.round(te.l+te.w*ie[0]),J=Math.round(te.t+te.h*(1-U._counterDomainMin)+(U.side==="bottom"?U._depth:0)+F._offsetShift+u.extraPad);z.attr("transform",M(ce,J)),F._rl=L.simpleMap(F.range,U.r2l);var Z=F._rl[0],ae=F._rl[1],j=ae-Z;if(F.p2d=function(Te){return Te/F._width*j+Z},F.d2p=function(Te){return(Te-Z)/j*F._width},U.rangebreaks){var q=U.locateBreaks(Z,ae);if(q.length){var oe,Q,K=0;for(oe=0;oe<q.length;oe++)Q=q[oe],K+=Q.max-Q.min;var se=F._width/(ae-Z-K),ne=[-se*Z];for(oe=0;oe<q.length;oe++)Q=q[oe],ne.push(ne[ne.length-1]-se*(Q.max-Q.min));for(F.d2p=function(Te){for(var ze=ne[0],ke=0;ke<q.length;ke++){var Se=q[ke];if(Te>=Se.max)ze=ne[ke+1];else if(Te<Se.min)break}return ze+se*Te},oe=0;oe<q.length;oe++)Q=q[oe],Q.pmin=F.d2p(Q.min),Q.pmax=F.d2p(Q.max);F.p2d=function(Te){for(var ze=ne[0],ke=0;ke<q.length;ke++){var Se=q[ke];if(Te>=Se.pmax)ze=ne[ke+1];else if(Te<Se.pmin)break}return(Te-ze)/se}}}if(O.rangemode!=="match"){var fe=B.r2l(O.range[0]),ye=B.r2l(O.range[1]),Ee=ye-fe;F.d2pOppAxis=function(Te){return(Te-fe)/Ee*F._height}}z.call(h,S,U,F).call(s,S,U,F).call(d,S,U,F).call(w,S,U,F,O).call(C,S,U,F).call(b,S,U,F),g(z,S,U,F),T(z,S,U,F,B,O),U.side==="bottom"&&r.draw(S,U._id+"title",{propContainer:U,propName:U._name+".title",placeholder:x._dfltTitle.x,attributes:{x:U._offset+U._length/2,y:J+F._height+F._offsetShift+10+1.5*U.title.font.size,"text-anchor":"middle"}})}))};function l(S){return typeof S.clientX=="number"?S.clientX:S.touches&&S.touches.length>0?S.touches[0].clientX:0}function g(S,x,i,E){if(x._context.staticPlot)return;var m=S.select("rect."+u.slideBoxClassName).node(),k=S.select("rect."+u.grabAreaMinClassName).node(),I=S.select("rect."+u.grabAreaMaxClassName).node();function U(){var z=y.event,F=z.target,B=l(z),O=B-S.node().getBoundingClientRect().left,N=E.d2p(i._rl[0]),Y=E.d2p(i._rl[1]),$=n.coverSlip();this.addEventListener("touchmove",te),this.addEventListener("touchend",ie),$.addEventListener("mousemove",te),$.addEventListener("mouseup",ie);function te(ce){var J=l(ce),Z=+J-B,ae,j,q;switch(F){case m:if(q="ew-resize",N+Z>i._length||Y+Z<0)return;ae=N+Z,j=Y+Z;break;case k:if(q="col-resize",N+Z>i._length)return;ae=N+Z,j=Y;break;case I:if(q="col-resize",Y+Z<0)return;ae=N,j=Y+Z;break;default:q="ew-resize",ae=O,j=O+Z;break}if(j<ae){var oe=j;j=ae,ae=oe}E._pixelMin=ae,E._pixelMax=j,c(y.select($),q),f(S,x,i,E)}function ie(){$.removeEventListener("mousemove",te),$.removeEventListener("mouseup",ie),this.removeEventListener("touchmove",te),this.removeEventListener("touchend",ie),L.removeElement($)}}S.on("mousedown",U),S.on("touchstart",U)}function f(S,x,i,E){function m(U){return i.l2r(L.constrain(U,E._rl[0],E._rl[1]))}var k=m(E.p2d(E._pixelMin)),I=m(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",x,i._name+".range",[k,I])})}function T(S,x,i,E,m,k){var I=u.handleWidth/2;function U(ce){return L.constrain(ce,0,E._width)}function z(ce){return L.constrain(ce,0,E._height)}function F(ce){return L.constrain(ce,-I,E._width+I)}var B=U(E.d2p(i._rl[0])),O=U(E.d2p(i._rl[1]));if(S.select("rect."+u.slideBoxClassName).attr("x",B).attr("width",O-B),S.select("rect."+u.maskMinClassName).attr("width",B),S.select("rect."+u.maskMaxClassName).attr("x",O).attr("width",E._width-O),k.rangemode!=="match"){var N=E._height-z(E.d2pOppAxis(m._rl[1])),Y=E._height-z(E.d2pOppAxis(m._rl[0]));S.select("rect."+u.maskMinOppAxisClassName).attr("x",B).attr("height",N).attr("width",O-B),S.select("rect."+u.maskMaxOppAxisClassName).attr("x",B).attr("y",Y).attr("height",E._height-Y).attr("width",O-B),S.select("rect."+u.slideBoxClassName).attr("y",N).attr("height",Y-N)}var $=.5,te=Math.round(F(B-I))-$,ie=Math.round(F(O-I))+$;S.select("g."+u.grabberMinClassName).attr("transform",M(te,$)),S.select("g."+u.grabberMaxClassName).attr("transform",M(ie,$))}function h(S,x,i,E){var m=L.ensureSingle(S,"rect",u.bgClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,I=-E._offsetShift,U=v.crispRound(x,E.borderwidth);m.attr({width:E._width+k,height:E._height+k,transform:M(I,I),"stroke-width":U}).call(p.stroke,E.bordercolor).call(p.fill,E.bgcolor)}function s(S,x,i,E){var m=x._fullLayout,k=L.ensureSingleById(m._topdefs,"clipPath",E._clipId,function(I){I.append("rect").attr({x:0,y:0})});k.select("rect").attr({width:E._width,height:E._height})}function d(S,x,i,E){var m=x.calcdata,k=S.selectAll("g."+u.rangePlotClassName).data(i._subplotsWith,L.identity);k.enter().append("g").attr("class",function(U){return u.rangePlotClassName+" "+U}).call(v.setClipUrl,E._clipId,x),k.order(),k.exit().remove();var I;k.each(function(U,z){var F=y.select(this),B=z===0,O=o.getFromId(x,U,"y"),N=O._name,Y=E[N],$={data:[],layout:{xaxis:{type:i.type,domain:[0,1],range:E.range.slice(),calendar:i.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:x._context};i.rangebreaks&&($.layout.xaxis.rangebreaks=i.rangebreaks),$.layout[N]={type:O.type,domain:[0,1],range:Y.rangemode!=="match"?Y.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&($.layout[N].rangebreaks=O.rangebreaks),a.supplyDefaults($);var te=$._fullLayout.xaxis,ie=$._fullLayout[N];te.clearCalc(),te.setScale(),ie.clearCalc(),ie.setScale();var ce={id:U,plotgroup:F,xaxis:te,yaxis:ie,isRangePlot:!0};B?I=ce:(ce.mainplot="xy",ce.mainplotinfo=I),t.rangePlot(x,ce,A(m,U))})}function A(S,x){for(var i=[],E=0;E<S.length;E++){var m=S[E],k=m[0].trace;k.xaxis+k.yaxis===x&&i.push(m)}return i}function w(S,x,i,E,m){var k=L.ensureSingle(S,"rect",u.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});k.attr("height",E._height).call(p.fill,u.maskColor);var I=L.ensureSingle(S,"rect",u.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(I.attr("height",E._height).call(p.fill,u.maskColor),m.rangemode!=="match"){var U=L.ensureSingle(S,"rect",u.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",E._width).call(p.fill,u.maskOppAxisColor);var z=L.ensureSingle(S,"rect",u.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});z.attr("width",E._width).style("border-top",u.maskOppBorder).call(p.fill,u.maskOppAxisColor)}}function C(S,x,i,E){if(!x._context.staticPlot){var m=L.ensureSingle(S,"rect",u.slideBoxClassName,function(k){k.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});m.attr({height:E._height,fill:u.slideBoxFill})}}function b(S,x,i,E){var m=L.ensureSingle(S,"g",u.grabberMinClassName),k=L.ensureSingle(S,"g",u.grabberMaxClassName),I={x:0,width:u.handleWidth,rx:u.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},U={y:Math.round(E._height/4),height:Math.round(E._height/2)},z=L.ensureSingle(m,"rect",u.handleMinClassName,function(Y){Y.attr(I)});z.attr(U);var F=L.ensureSingle(k,"rect",u.handleMaxClassName,function(Y){Y.attr(I)});F.attr(U);var B={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:x._context.staticPlot?void 0:u.grabAreaCursor},O=L.ensureSingle(m,"rect",u.grabAreaMinClassName,function(Y){Y.attr(B)});O.attr("height",E._height);var N=L.ensureSingle(k,"rect",u.grabAreaMaxClassName,function(Y){Y.attr(B)});N.attr("height",E._height)}},549:function(G,H,e){var y=e(41675),P=e(63893),a=e(73251),L=e(18783).LINE_SPACING,M=a.name;function v(p){var r=p&&p[M];return r&&r.visible}H.isVisible=v,H.makeData=function(p){var r=y.list({_fullLayout:p},"x",!0),t=p.margin,o=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var c=r[n];if(v(c)){o.push(c);var u=c[M];u._id=M+c._id,u._height=(p.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}p._rangeSliderData=o},H.autoMarginOpts=function(p,r){var t=p._fullLayout,o=r[M],n=r._id.charAt(0),c=0,u=0;if(r.side==="bottom"&&(c=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+o._offsetShift;var l=(r.title.text.match(P.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:o._height+c+Math.max(t.margin.b,u),pad:a.extraPad+o._offsetShift*2}}},13137:function(G,H,e){var y=e(71828),P=e(75148),a=e(47850),L=e(549);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:y.extendFlat({},P,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},47850:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(G,H,e){var y=e(50215),P=e(82196).line,a=e(79952).P,L=e(1426).extendFlat,M=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),G.exports=M(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},y.xref,{}),yref:L({},y.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(G,H,e){var y=e(71828),P=e(89298),a=e(85501),L=e(8389),M=e(30477);G.exports=function(r,t){a(r,t,{name:"selections",handleItemDefaults:v});for(var o=t.selections,n=0;n<o.length;n++){var c=o[n];c&&c.path===void 0&&(c.x0===void 0||c.x1===void 0||c.y0===void 0||c.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function o(m,k){return y.coerce(p,r,L,m,k)}var n=o("path"),c=n?"path":"rect",u=o("type",c),l=u!=="path";l&&delete r.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var g=["x","y"],f=0;f<2;f++){var T=g[f],h={_fullLayout:t},s,d,A,w=P.coerceRef(p,r,h,T);if(s=P.getFromId(h,w),s._selectionIndices.push(r._index),A=M.rangeToShapePosition(s),d=M.shapePositionToRange(s),l){var C=T+"0",b=T+"1",S=p[C],x=p[b];p[C]=d(p[C],!0),p[b]=d(p[b],!0),P.coercePosition(r,h,o,w,C),P.coercePosition(r,h,o,w,b);var i=r[C],E=r[b];i!==void 0&&E!==void 0&&(r[C]=A(i),r[b]=A(E),p[C]=S,p[b]=x)}}l&&y.noneOrAll(p,r,["x0","x1","y0","y1"])}},32485:function(G,H,e){var y=e(60165).readPaths,P=e(42359),a=e(51873).clearOutlineControllers,L=e(7901),M=e(91424),v=e(44467).arrayEditor,p=e(30477),r=p.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:l};function t(f){var T=f._fullLayout;a(f),T._selectionLayer.selectAll("path").remove();for(var h in T._plots){var s=T._plots[h].selectionLayer;s&&s.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(f,d)}function o(f){return f._context.editSelection}function n(f,T){f._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var h=p.makeSelectionsOptionsAndPlotinfo(f,T),s=h.options,d=h.plotinfo;if(!s._input)return;A(f._fullLayout._selectionLayer);function A(w){var C=r(f,s),b={"data-index":T,"fill-rule":"evenodd",d:C},S=s.opacity,x="rgba(0,0,0,0)",i=s.line.color||L.contrast(f._fullLayout.plot_bgcolor),E=s.line.width,m=s.line.dash;E||(E=5,m="solid");var k=o(f)&&f._fullLayout._activeSelectionIndex===T;k&&(x=f._fullLayout.activeselection.fillcolor,S=f._fullLayout.activeselection.opacity);for(var I=[],U=1;U>=0;U--){var z=w.append("path").attr(b).style("opacity",U?.1:S).call(L.stroke,i).call(L.fill,x).call(M.dashLine,U?"solid":m,U?4+E:E);if(c(z,f,s),k){var F=v(f.layout,"selections",s);z.style({cursor:"move"});var B={element:z.node(),plotinfo:d,gd:f,editHelpers:F,isActiveSelection:!0},O=y(C,f);P(O,z,B)}else z.style("pointer-events",U?"all":"none");I[U]=z}var N=I[0],Y=I[1];Y.node().addEventListener("click",function(){return u(f,N)})}}function c(f,T,h){var s=h.xref+h.yref;M.setClipUrl(f,"clip"+T._fullLayout._uid+s,T)}function u(f,T){if(o(f)){var h=T.node(),s=+h.getAttribute("data-index");if(s>=0){if(s===f._fullLayout._activeSelectionIndex){g(f);return}f._fullLayout._activeSelectionIndex=s,f._fullLayout._deactivateSelection=g,t(f)}}}function l(f){if(o(f)){var T=f._fullLayout.selections.length-1;f._fullLayout._activeSelectionIndex=T,f._fullLayout._deactivateSelection=g,t(f)}}function g(f){if(o(f)){var T=f._fullLayout._activeSelectionIndex;T>=0&&(a(f),delete f._fullLayout._activeSelectionIndex,t(f))}}},53777:function(G,H,e){var y=e(79952).P,P=e(1426).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},y,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(G){G.exports=function(e,y,P){P("newselection.mode");var a=P("newselection.line.width");a&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},35855:function(G,H,e){var y=e(64505),P=y.selectMode,a=e(51873),L=a.clearOutline,M=e(60165),v=M.readPaths,p=M.writePaths,r=M.fixDatesForPaths;G.exports=function(o,n){if(o.length){var c=o[0][0];if(c){var u=c.getAttribute("d"),l=n.gd,g=l._fullLayout.newselection,f=n.plotinfo,T=f.xaxis,h=f.yaxis,s=n.isActiveSelection,d=n.dragmode,A=(l.layout||{}).selections||[];if(!P(d)&&s!==void 0){var w=l._fullLayout._activeSelectionIndex;if(w<A.length)switch(l._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(u,l,f,s),b={xref:T._id,yref:h._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}},S;C.length===1&&(S=C[0]),S&&S.length===5&&d==="select"?(b.type="rect",b.x0=S[0][1],b.y0=S[0][2],b.x1=S[2][1],b.y1=S[2][2]):(b.type="path",T&&h&&r(C,T,h),b.path=p(C),S=null),L(l);for(var x=n.editHelpers,i=(x||{}).modifyItem,E=[],m=0;m<A.length;m++){var k=l._fullLayout.selections[m];if(!k){E[m]=k;continue}if(E[m]=k._input,s!==void 0&&m===l._fullLayout._activeSelectionIndex){var I=b;switch(k.type){case"rect":i("x0",I.x0),i("x1",I.x1),i("y0",I.y0),i("y1",I.y1);break;case"path":i("path",I.path);break}}}return s===void 0?(E.push(b),E):x?x.getUpdateObj():{}}}}},75549:function(G,H,e){var y=e(71828).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function a(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function M(v){return y(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:P,r2p:a,axValue:L,getTransform:M}},47322:function(G,H,e){var y=e(32485),P=e(3937);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:y.draw,drawOne:y.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},3937:function(G,H,e){var y=e(52142),P=e(38258),a=e(73972),L=e(91424).dashStyle,M=e(7901),v=e(30211),p=e(23469).makeEventData,r=e(64505),t=r.freeMode,o=r.rectMode,n=r.drawMode,c=r.openMode,u=r.selectMode,l=e(30477),g=e(21459),f=e(42359),T=e(51873).clearOutline,h=e(60165),s=h.handleEllipse,d=h.readPaths,A=e(90551).newShapes,w=e(35855),C=e(32485).activateLastSelection,b=e(71828),S=b.sorterAsc,x=e(61082),i=e(79990),E=e(41675).getFromId,m=e(33306),k=e(61549).redrawReglTraces,I=e(34122),U=I.MINSELECT,z=x.filter,F=x.tester,B=e(75549),O=B.p2r,N=B.axValue,Y=B.getTransform;function $(Fe){return Fe.subplot!==void 0}function te(Fe,Pe,xe,ge,Me){var Ae=!$(ge),Ue=t(Me),Ze=o(Me),tt=c(Me),ft=n(Me),pt=u(Me),Yt=Me==="drawline",Jt=Me==="drawcircle",Tt=Yt||Jt,zt=ge.gd,$t=zt._fullLayout,wr=pt&&$t.newselection.mode==="immediate"&&Ae,yt=$t._zoomlayer,Xt=ge.element.getBoundingClientRect(),Qt=ge.plotinfo,gr=Y(Qt),sr=Pe-Xt.left,vt=xe-Xt.top;$t._calcInverseTransform(zt);var it=b.apply3DTransform($t._invTransform)(sr,vt);sr=it[0],vt=it[1];var xt=$t._invScaleX,Mt=$t._invScaleY,Dt=sr,Lt=vt,Bt="M"+sr+","+vt,Nt=ge.xaxes[0],jt=ge.yaxes[0],lr=Nt._length,fr=jt._length,hr=Fe.altKey&&!(n(Me)&&tt),Ye,We,kt,It,Zt,rr,ur;j(Fe,zt,ge),Ue&&(Ye=z([[sr,vt]],I.BENDPX));var er=yt.selectAll("path.select-outline-"+Qt.id).data([1]),Ot=ft?$t.newshape:$t.newselection;ft&&(ge.hasText=Ot.label.text||Ot.label.texttemplate);var vr=ft&&!tt?Ot.fillcolor:"rgba(0,0,0,0)",yr=Ot.line.color||(Ae?M.contrast(zt._fullLayout.plot_bgcolor):"#7f7f7f");er.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:ft?Ot.opacity/2:1,"stroke-dasharray":L(Ot.line.dash,Ot.line.width),"stroke-width":Ot.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,yr).call(M.fill,vr).attr("fill-rule","evenodd").classed("cursor-move",!!ft).attr("transform",gr).attr("d",Bt+"Z");var pr=yt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",gr).attr("d","M0,0Z");if(ft&&ge.hasText){var cr=yt.select(".label-temp");cr.empty()&&(cr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ur=$t._uid+I.SELECTID,kr=[],Rr=se(zt,ge.xaxes,ge.yaxes,ge.subplot);wr&&!Fe.shiftKey&&(ge._clearSubplotSelections=function(){if(Ae){var tn=Nt._id,Fn=jt._id;lt(zt,tn,Fn,Rr);for(var mn=(zt.layout||{}).selections||[],Mr=[],Er=!1,Wr=0;Wr<mn.length;Wr++){var Hr=$t.selections[Wr];Hr.xref!==tn||Hr.yref!==Fn?Mr.push(mn[Wr]):Er=!0}Er&&(zt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",zt,{selections:Mr}))}});var hn=Vt(ge);ge.moveFn=function(tn,Fn){ge._clearSubplotSelections&&(ge._clearSubplotSelections(),ge._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(lr,xt*tn+sr)),Lt=Math.max(0,Math.min(fr,Mt*Fn+vt));var mn=Math.abs(Dt-sr),Mr=Math.abs(Lt-vt);if(Ze){var Er,Wr,Hr;if(pt){var an=$t.selectdirection;switch(an==="any"?Mr<Math.min(mn*.6,U)?Er="h":mn<Math.min(Mr*.6,U)?Er="v":Er="d":Er=an,Er){case"h":Wr=Jt?fr/2:0,Hr=fr;break;case"v":Wr=Jt?lr/2:0,Hr=lr;break}}if(ft)switch($t.newshape.drawdirection){case"vertical":Er="h",Wr=Jt?fr/2:0,Hr=fr;break;case"horizontal":Er="v",Wr=Jt?lr/2:0,Hr=lr;break;case"ortho":mn<Mr?(Er="h",Wr=vt,Hr=Lt):(Er="v",Wr=sr,Hr=Dt);break;default:Er="d"}Er==="h"?(It=Tt?s(Jt,[Dt,Wr],[Dt,Hr]):[[sr,Wr],[sr,Hr],[Dt,Hr],[Dt,Wr]],It.xmin=Tt?Dt:Math.min(sr,Dt),It.xmax=Tt?Dt:Math.max(sr,Dt),It.ymin=Math.min(Wr,Hr),It.ymax=Math.max(Wr,Hr),pr.attr("d","M"+It.xmin+","+(vt-U)+"h-4v"+2*U+"h4ZM"+(It.xmax-1)+","+(vt-U)+"h4v"+2*U+"h-4Z")):Er==="v"?(It=Tt?s(Jt,[Wr,Lt],[Hr,Lt]):[[Wr,vt],[Wr,Lt],[Hr,Lt],[Hr,vt]],It.xmin=Math.min(Wr,Hr),It.xmax=Math.max(Wr,Hr),It.ymin=Tt?Lt:Math.min(vt,Lt),It.ymax=Tt?Lt:Math.max(vt,Lt),pr.attr("d","M"+(sr-U)+","+It.ymin+"v-4h"+2*U+"v4ZM"+(sr-U)+","+(It.ymax-1)+"v4h"+2*U+"v-4Z")):Er==="d"&&(It=Tt?s(Jt,[sr,vt],[Dt,Lt]):[[sr,vt],[sr,Lt],[Dt,Lt],[Dt,vt]],It.xmin=Math.min(sr,Dt),It.xmax=Math.max(sr,Dt),It.ymin=Math.min(vt,Lt),It.ymax=Math.max(vt,Lt),pr.attr("d","M0,0Z"))}else Ue&&(Ye.addPt([Dt,Lt]),It=Ye.filtered);if(ge.selectionDefs&&ge.selectionDefs.length?(kt=me(ge.mergedPolygons,It,hr),It.subtract=hr,We=ae(ge.selectionDefs.concat([It]))):(kt=[It],We=F(It)),f(Ne(kt,tt),er,ge),pt){var vn=De(zt,!1),pn=vn.eventData?vn.eventData.points.slice():[];vn=De(zt,!1,We,Rr,ge),We=vn.selectionTesters,ur=vn.eventData;var En;Ye?En=Ye.filtered:En=gt(kt),i.throttle(Ur,I.SELECTDELAY,function(){kr=He(We,Rr);for(var _n=kr.slice(),oa=0;oa<pn.length;oa++){for(var Kn=pn[oa],$n=!1,Yn=0;Yn<_n.length;Yn++)if(_n[Yn].curveNumber===Kn.curveNumber&&_n[Yn].pointNumber===Kn.pointNumber){$n=!0;break}$n||_n.push(Kn)}_n.length&&(ur||(ur={}),ur.points=_n),hn(ur,En),Je(zt,ur)})}},ge.clickFn=function(tn,Fn){if(pr.remove(),zt._fullLayout._activeShapeIndex>=0){zt._fullLayout._deactivateShape(zt);return}if(!ft){var mn=$t.clickmode;i.done(Ur).then(function(){if(i.clear(Ur),tn===2){for(er.remove(),Zt=0;Zt<Rr.length;Zt++)rr=Rr[Zt],rr._module.selectPoints(rr,!1);if(ke(zt,Rr),Q(ge),Ie(zt),Rr.length){var Mr=Rr[0].xaxis,Er=Rr[0].yaxis;if(Mr&&Er){for(var Wr=[],Hr=zt._fullLayout.selections,an=0;an<Hr.length;an++){var vn=Hr[an];vn&&(vn.xref!==Mr._id||vn.yref!==Er._id)&&Wr.push(vn)}Wr.length<Hr.length&&(zt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",zt,{selections:Wr}))}}}else mn.indexOf("select")>-1&&ie(Fn,zt,ge.xaxes,ge.yaxes,ge.subplot,ge,er),mn==="event"&&Ge(zt,void 0);v.click(zt,Fn,Qt.id)}).catch(b.error)}},ge.doneFn=function(){pr.remove(),i.done(Ur).then(function(){i.clear(Ur),!wr&&It&&ge.selectionDefs&&(It.subtract=hr,ge.selectionDefs.push(It),ge.mergedPolygons.length=0,[].push.apply(ge.mergedPolygons,kt)),(wr||ft)&&Q(ge,wr),ge.doneFnCompleted&&ge.doneFnCompleted(kr),pt&&Ge(zt,ur)}).catch(b.error)}}function ie(Fe,Pe,xe,ge,Me,Ae,Ue){var Ze=Pe._hoverdata,tt=Pe._fullLayout,ft=tt.clickmode,pt=ft.indexOf("event")>-1,Yt=[],Jt,Tt,zt,$t,wr,yt,Xt,Qt,gr,sr;if(fe(Ze)){j(Fe,Pe,Ae),Jt=se(Pe,xe,ge,Me);var vt=ye(Ze,Jt),it=vt.pointNumbers.length>0;if(it?Te(Jt,vt):ze(Jt)&&(Xt=Ee(vt))){for(Ue&&Ue.remove(),sr=0;sr<Jt.length;sr++)Tt=Jt[sr],Tt._module.selectPoints(Tt,!1);ke(Pe,Jt),Q(Ae),pt&&Ie(Pe)}else{Qt=Fe.shiftKey&&(Xt!==void 0?Xt:Ee(vt)),zt=ce(vt.pointNumber,vt.searchInfo,Qt);var xt=Ae.selectionDefs.concat([zt]);for($t=ae(xt),sr=0;sr<Jt.length;sr++)if(wr=Jt[sr]._module.selectPoints(Jt[sr],$t),yt=Ce(wr,Jt[sr]),Yt.length)for(var Mt=0;Mt<yt.length;Mt++)Yt.push(yt[Mt]);else Yt=yt;if(gr={points:Yt},ke(Pe,Jt,gr),zt&&Ae&&Ae.selectionDefs.push(zt),Ue){var Dt=Ae.mergedPolygons,Lt=c(Ae.dragmode);f(Ne(Dt,Lt),Ue,Ae)}pt&&Ge(Pe,gr)}}}function ce(Fe,Pe,xe){return{pointNumber:Fe,searchInfo:Pe,subtract:!!xe}}function J(Fe){return"pointNumber"in Fe&&"searchInfo"in Fe}function Z(Fe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Pe,xe,ge,Me){var Ae=Fe.searchInfo.cd[0].trace._expandedIndex,Ue=Me.cd[0].trace._expandedIndex;return Ue===Ae&&ge===Fe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Fe.subtract}}function ae(Fe){if(!Fe.length)return;for(var Pe=[],xe=J(Fe[0])?0:Fe[0][0][0],ge=xe,Me=J(Fe[0])?0:Fe[0][0][1],Ae=Me,Ue=0;Ue<Fe.length;Ue++)if(J(Fe[Ue]))Pe.push(Z(Fe[Ue]));else{var Ze=F(Fe[Ue]);Ze.subtract=!!Fe[Ue].subtract,Pe.push(Ze),xe=Math.min(xe,Ze.xmin),ge=Math.max(ge,Ze.xmax),Me=Math.min(Me,Ze.ymin),Ae=Math.max(Ae,Ze.ymax)}function tt(ft,pt,Yt,Jt){for(var Tt=!1,zt=0;zt<Pe.length;zt++)Pe[zt].contains(ft,pt,Yt,Jt)&&(Tt=!Pe[zt].subtract);return Tt}return{xmin:xe,xmax:ge,ymin:Me,ymax:Ae,pts:[],contains:tt,isRect:!1,degenerate:!1}}function j(Fe,Pe,xe){var ge=Pe._fullLayout,Me=xe.plotinfo,Ae=xe.dragmode,Ue=ge._lastSelectedSubplot&&ge._lastSelectedSubplot===Me.id,Ze=(Fe.shiftKey||Fe.altKey)&&!(n(Ae)&&c(Ae));Ue&&Ze&&Me.selection&&Me.selection.selectionDefs&&!xe.selectionDefs?(xe.selectionDefs=Me.selection.selectionDefs,xe.mergedPolygons=Me.selection.mergedPolygons):(!Ze||!Me.selection)&&Q(xe),Ue||(T(Pe),ge._lastSelectedSubplot=Me.id)}function q(Fe){return Fe._fullLayout._activeShapeIndex>=0}function oe(Fe){return Fe._fullLayout._activeSelectionIndex>=0}function Q(Fe,Pe){var xe=Fe.dragmode,ge=Fe.plotinfo,Me=Fe.gd;q(Me)&&Me._fullLayout._deactivateShape(Me),oe(Me)&&Me._fullLayout._deactivateSelection(Me);var Ae=Me._fullLayout,Ue=Ae._zoomlayer,Ze=n(xe),tt=u(xe);if(Ze||tt){var ft=Ue.selectAll(".select-outline-"+ge.id);if(ft&&Me._fullLayout._outlining){var pt;Ze&&(pt=A(ft,Fe)),pt&&a.call("_guiRelayout",Me,{shapes:pt});var Yt;tt&&!$(Fe)&&(Yt=w(ft,Fe)),Yt&&(Me._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Me,{selections:Yt}).then(function(){Pe&&C(Me)})),Me._fullLayout._outlining=!1}}ge.selection={},ge.selection.selectionDefs=Fe.selectionDefs=[],ge.selection.mergedPolygons=Fe.mergedPolygons=[]}function K(Fe){return Fe._id}function se(Fe,Pe,xe,ge){if(!Fe.calcdata)return[];var Me=[],Ae=Pe.map(K),Ue=xe.map(K),Ze,tt,ft;for(ft=0;ft<Fe.calcdata.length;ft++)if(Ze=Fe.calcdata[ft],tt=Ze[0].trace,!(tt.visible!==!0||!tt._module||!tt._module.selectPoints))if($({subplot:ge})&&(tt.subplot===ge||tt.geo===ge))Me.push(ne(tt._module,Ze,Pe[0],xe[0]));else if(tt.type==="splom"){if(tt._xaxes[Ae[0]]&&tt._yaxes[Ue[0]]){var pt=ne(tt._module,Ze,Pe[0],xe[0]);pt.scene=Fe._fullLayout._splomScenes[tt.uid],Me.push(pt)}}else if(tt.type==="sankey"){var Yt=ne(tt._module,Ze,Pe[0],xe[0]);Me.push(Yt)}else{if(Ae.indexOf(tt.xaxis)===-1||Ue.indexOf(tt.yaxis)===-1)continue;Me.push(ne(tt._module,Ze,E(Fe,tt.xaxis),E(Fe,tt.yaxis)))}return Me}function ne(Fe,Pe,xe,ge){return{_module:Fe,cd:Pe,xaxis:xe,yaxis:ge}}function fe(Fe){return Fe&&Array.isArray(Fe)&&Fe[0].hoverOnBox!==!0}function ye(Fe,Pe){var xe=Fe[0],ge=-1,Me=[],Ae,Ue;for(Ue=0;Ue<Pe.length;Ue++)if(Ae=Pe[Ue],xe.fullData._expandedIndex===Ae.cd[0].trace._expandedIndex){if(xe.hoverOnBox===!0)break;xe.pointNumber!==void 0?ge=xe.pointNumber:xe.binNumber!==void 0&&(ge=xe.binNumber,Me=xe.pointNumbers);break}return{pointNumber:ge,pointNumbers:Me,searchInfo:Ae}}function Ee(Fe){var Pe=Fe.searchInfo.cd[0].trace,xe=Fe.pointNumber,ge=Fe.pointNumbers,Me=ge.length>0,Ae=Me?ge[0]:xe;return Pe.selectedpoints?Pe.selectedpoints.indexOf(Ae)>-1:!1}function Te(Fe,Pe){var xe=[],ge,Me,Ae,Ue;for(Ue=0;Ue<Fe.length;Ue++)ge=Fe[Ue],ge.cd[0].trace.selectedpoints&&ge.cd[0].trace.selectedpoints.length>0&&xe.push(ge);if(xe.length===1&&(Ae=xe[0]===Pe.searchInfo,Ae&&(Me=Pe.searchInfo.cd[0].trace,Me.selectedpoints.length===Pe.pointNumbers.length))){for(Ue=0;Ue<Pe.pointNumbers.length;Ue++)if(Me.selectedpoints.indexOf(Pe.pointNumbers[Ue])<0)return!1;return!0}return!1}function ze(Fe){var Pe=0,xe,ge,Me;for(Me=0;Me<Fe.length;Me++)if(xe=Fe[Me],ge=xe.cd[0].trace,ge.selectedpoints&&(ge.selectedpoints.length>1||(Pe+=ge.selectedpoints.length,Pe>1)))return!1;return Pe===1}function ke(Fe,Pe,xe){var ge;for(ge=0;ge<Pe.length;ge++){var Me=Pe[ge].cd[0].trace._fullInput,Ae=Fe._fullLayout._tracePreGUI[Me.uid]||{};Ae.selectedpoints===void 0&&(Ae.selectedpoints=Me._input.selectedpoints||null)}var Ue;if(xe){var Ze=xe.points||[];for(ge=0;ge<Pe.length;ge++)Ue=Pe[ge].cd[0].trace,Ue._input.selectedpoints=Ue._fullInput.selectedpoints=[],Ue._fullInput!==Ue&&(Ue.selectedpoints=[]);for(var tt=0;tt<Ze.length;tt++){var ft=Ze[tt],pt=ft.data,Yt=ft.fullData,Jt=ft.pointIndex,Tt=ft.pointIndices;Tt?([].push.apply(pt.selectedpoints,Tt),Ue._fullInput!==Ue&&[].push.apply(Yt.selectedpoints,Tt)):(pt.selectedpoints.push(Jt),Ue._fullInput!==Ue&&Yt.selectedpoints.push(Jt))}}else for(ge=0;ge<Pe.length;ge++)Ue=Pe[ge].cd[0].trace,delete Ue.selectedpoints,delete Ue._input.selectedpoints,Ue._fullInput!==Ue&&delete Ue._fullInput.selectedpoints;Se(Fe,Pe)}function Se(Fe,Pe){for(var xe=!1,ge=0;ge<Pe.length;ge++){var Me=Pe[ge],Ae=Me.cd;a.traceIs(Ae[0].trace,"regl")&&(xe=!0);var Ue=Me._module,Ze=Ue.styleOnSelect||Ue.style;Ze&&(Ze(Fe,Ae,Ae[0].node3),Ae[0].nodeRangePlot3&&Ze(Fe,Ae,Ae[0].nodeRangePlot3))}xe&&(m(Fe),k(Fe))}function me(Fe,Pe,xe){for(var ge=xe?y.difference:y.union,Me=ge({regions:Fe},{regions:[Pe]}),Ae=Me.regions.reverse(),Ue=0;Ue<Ae.length;Ue++){var Ze=Ae[Ue];Ze.subtract=ct(Ze,Ae.slice(0,Ue))}return Ae}function Ce(Fe,Pe){if(Array.isArray(Fe))for(var xe=Pe.cd,ge=Pe.cd[0].trace,Me=0;Me<Fe.length;Me++)Fe[Me]=p(Fe[Me],ge,xe);return Fe}function Ne(Fe,Pe){for(var xe=[],ge=0;ge<Fe.length;ge++){xe[ge]=[];for(var Me=0;Me<Fe[ge].length;Me++){xe[ge][Me]=[],xe[ge][Me][0]=Me?"L":"M";for(var Ae=0;Ae<Fe[ge][Me].length;Ae++)xe[ge][Me].push(Fe[ge][Me][Ae])}Pe||xe[ge].push(["Z",xe[ge][0][1],xe[ge][0][2]])}return xe}function He(Fe,Pe){for(var xe=[],ge,Me,Ae=0;Ae<Pe.length;Ae++){var Ue=Pe[Ae];Me=Ue._module.selectPoints(Ue,Fe),ge=Ce(Me,Ue),xe=xe.concat(ge)}return xe}function De(Fe,Pe,xe,ge,Me){var Ae=!!ge,Ue,Ze,tt;Me&&(Ue=Me.plotinfo,Ze=Me.xaxes[0]._id,tt=Me.yaxes[0]._id);var ft=[],pt=[],Yt=et(Fe),Jt=Fe._fullLayout;if(Ue){var Tt=Jt._zoomlayer,zt=Jt.dragmode,$t=n(zt),wr=u(zt);if($t||wr){var yt=E(Fe,Ze,"x"),Xt=E(Fe,tt,"y");if(yt&&Xt){var Qt=Tt.selectAll(".select-outline-"+Ue.id);if(Qt&&Fe._fullLayout._outlining&&Qt.length){for(var gr=Qt[0][0],sr=gr.getAttribute("d"),vt=d(sr,Fe,Ue),it=[],xt=0;xt<vt.length;xt++){for(var Mt=vt[xt],Dt=[],Lt=0;Lt<Mt.length;Lt++)Dt.push([dt(yt,Mt[Lt][1]),dt(Xt,Mt[Lt][2])]);Dt.xref=Ze,Dt.yref=tt,Dt.subtract=ct(Dt,it),it.push(Dt)}Yt=Yt.concat(it)}}}}var Bt=Ze&&tt?[Ze+tt]:Jt._subplots.cartesian;Ve(Fe);for(var Nt={},jt=0;jt<Bt.length;jt++){var lr=Bt[jt],fr=lr.indexOf("y"),hr=lr.slice(0,fr),Ye=lr.slice(fr),We=Ze&&tt?xe:void 0;if(We=$e(Yt,hr,Ye,We),We){var kt=ge;if(!Ae){var It=E(Fe,hr,"x"),Zt=E(Fe,Ye,"y");kt=se(Fe,[It],[Zt],lr);for(var rr=0;rr<kt.length;rr++){var ur=kt[rr],er=ur.cd[0],Ot=er.trace;if(ur._module.name==="scattergl"&&!er.t.xpx){var vr=Ot.x,yr=Ot.y,pr=Ot._length;er.t.xpx=[],er.t.ypx=[];for(var cr=0;cr<pr;cr++)er.t.xpx[cr]=It.c2p(vr[cr]),er.t.ypx[cr]=Zt.c2p(yr[cr])}ur._module.name==="splom"&&(Nt[Ot.uid]||(Nt[Ot.uid]=!0))}}var Ur=He(We,kt);ft=ft.concat(Ur),pt=pt.concat(kt)}}var kr={points:ft};ke(Fe,pt,kr);var Rr=Jt.clickmode,hn=Rr.indexOf("event")>-1&&Pe;if(!Ue&&Pe){var tn=et(Fe,!0);if(tn.length){var Fn=tn[0].xref,mn=tn[0].yref;if(Fn&&mn){var Mr=gt(tn),Er=Rt([E(Fe,Fn,"x"),E(Fe,mn,"y")]);Er(kr,Mr)}}Fe._fullLayout._noEmitSelectedAtStart?Fe._fullLayout._noEmitSelectedAtStart=!1:hn&&Ge(Fe,kr),Jt._reselect=!1}if(!Ue&&Jt._deselect){var Wr=Jt._deselect;Ze=Wr.xref,tt=Wr.yref,at(Ze,tt,pt)||lt(Fe,Ze,tt,ge),hn&&(kr.points.length?Ge(Fe,kr):Ie(Fe)),Jt._deselect=!1}return{eventData:kr,selectionTesters:xe}}function Ve(Fe){var Pe=Fe.calcdata;if(Pe)for(var xe=0;xe<Pe.length;xe++){var ge=Pe[xe][0],Me=ge.trace,Ae=Fe._fullLayout._splomScenes;if(Ae){var Ue=Ae[Me.uid];Ue&&(Ue.selectBatch=[])}}}function at(Fe,Pe,xe){for(var ge=0;ge<xe.length;ge++){var Me=xe[ge];if(Me.xaxis&&Me.xaxis._id===Fe&&Me.yaxis&&Me.yaxis._id===Pe)return!0}return!1}function lt(Fe,Pe,xe,ge){ge=se(Fe,[E(Fe,Pe,"x")],[E(Fe,xe,"y")],Pe+xe);for(var Me=0;Me<ge.length;Me++){var Ae=ge[Me];Ae._module.selectPoints(Ae,!1)}ke(Fe,ge)}function $e(Fe,Pe,xe,ge){for(var Me,Ae=0;Ae<Fe.length;Ae++){var Ue=Fe[Ae];if(!(Pe!==Ue.xref||xe!==Ue.yref))if(Me){var Ze=!!Ue.subtract;Me=me(Me,Ue,Ze),ge=ae(Me)}else Me=[Ue],ge=F(Ue)}return ge}function et(Fe,Pe){for(var xe=[],ge=Fe._fullLayout,Me=ge.selections,Ae=Me.length,Ue=0;Ue<Ae;Ue++)if(!(Pe&&Ue!==ge._activeSelectionIndex)){var Ze=Me[Ue];if(Ze){var tt=Ze.xref,ft=Ze.yref,pt=E(Fe,tt,"x"),Yt=E(Fe,ft,"y"),Jt,Tt,zt,$t,wr;if(Ze.type==="rect"){wr=[];var yt=dt(pt,Ze.x0),Xt=dt(pt,Ze.x1),Qt=dt(Yt,Ze.y0),gr=dt(Yt,Ze.y1);wr=[[yt,Qt],[yt,gr],[Xt,gr],[Xt,Qt]],Jt=Math.min(yt,Xt),Tt=Math.max(yt,Xt),zt=Math.min(Qt,gr),$t=Math.max(Qt,gr),wr.xmin=Jt,wr.xmax=Tt,wr.ymin=zt,wr.ymax=$t,wr.xref=tt,wr.yref=ft,wr.subtract=!1,wr.isRect=!0,xe.push(wr)}else if(Ze.type==="path")for(var sr=Ze.path.split("Z"),vt=[],it=0;it<sr.length;it++){var xt=sr[it];if(xt){xt+="Z";var Mt=l.extractPathCoords(xt,g.paramIsX,"raw"),Dt=l.extractPathCoords(xt,g.paramIsY,"raw");Jt=1/0,Tt=-1/0,zt=1/0,$t=-1/0,wr=[];for(var Lt=0;Lt<Mt.length;Lt++){var Bt=dt(pt,Mt[Lt]),Nt=dt(Yt,Dt[Lt]);wr.push([Bt,Nt]),Jt=Math.min(Bt,Jt),Tt=Math.max(Bt,Tt),zt=Math.min(Nt,zt),$t=Math.max(Nt,$t)}wr.xmin=Jt,wr.xmax=Tt,wr.ymin=zt,wr.ymax=$t,wr.xref=tt,wr.yref=ft,wr.subtract=ct(wr,vt),vt.push(wr),xe.push(wr)}}}}return xe}function ct(Fe,Pe){for(var xe=!1,ge=0;ge<Pe.length;ge++)for(var Me=Pe[ge],Ae=0;Ae<Fe.length;Ae++)if(P(Fe[Ae],Me)){xe=!xe;break}return xe}function dt(Fe,Pe){return Fe.type==="date"&&(Pe=Pe.replace("_"," ")),Fe.type==="log"?Fe.c2p(Pe):Fe.r2p(Pe,null,Fe.calendar)}function gt(Fe){for(var Pe=Fe.length,xe=[],ge=0;ge<Pe;ge++){var Me=Fe[ge];xe=xe.concat(Me),xe=xe.concat([Me[0]])}return At(xe)}function At(Fe){return Fe.isRect=Fe.length===5&&Fe[0][0]===Fe[4][0]&&Fe[0][1]===Fe[4][1]&&Fe[0][0]===Fe[1][0]&&Fe[2][0]===Fe[3][0]&&Fe[0][1]===Fe[3][1]&&Fe[1][1]===Fe[2][1]||Fe[0][1]===Fe[1][1]&&Fe[2][1]===Fe[3][1]&&Fe[0][0]===Fe[3][0]&&Fe[1][0]===Fe[2][0],Fe.isRect&&(Fe.xmin=Math.min(Fe[0][0],Fe[2][0]),Fe.xmax=Math.max(Fe[0][0],Fe[2][0]),Fe.ymin=Math.min(Fe[0][1],Fe[2][1]),Fe.ymax=Math.max(Fe[0][1],Fe[2][1])),Fe}function Rt(Fe){return function(Pe,xe){for(var ge,Me,Ae=0;Ae<Fe.length;Ae++){var Ue=Fe[Ae],Ze=Ue._id,tt=Ze.charAt(0);if(xe.isRect){ge||(ge={});var ft=xe[tt+"min"],pt=xe[tt+"max"];ft!==void 0&&pt!==void 0&&(ge[Ze]=[O(Ue,ft),O(Ue,pt)].sort(S))}else Me||(Me={}),Me[Ze]=xe.map(N(Ue))}ge&&(Pe.range=ge),Me&&(Pe.lassoPoints=Me)}}function Vt(Fe){var Pe=Fe.plotinfo;return Pe.fillRangeItems||Rt(Fe.xaxes.concat(Fe.yaxes))}function Je(Fe,Pe){Fe.emit("plotly_selecting",Pe)}function Ge(Fe,Pe){Pe&&(Pe.selections=(Fe.layout||{}).selections||[]),Fe.emit("plotly_selected",Pe)}function Ie(Fe){Fe.emit("plotly_deselect",null)}G.exports={reselect:De,prepSelect:te,clearOutline:T,clearSelectionsCache:Q,selectOnClick:ie}},89827:function(G,H,e){var y=e(50215),P=e(41940),a=e(82196).line,L=e(79952).P,M=e(1426).extendFlat,v=e(44467).templatedArray;e(24695);var p=e(9012),r=e(5386).R,t=e(37281);G.exports=v("shape",{visible:M({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},p.legend,{editType:"calc+arraydraw"}),legendgroup:M({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:M({},y.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:M({},y.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},a.color,{editType:"arraydraw"}),width:M({},a.width,{editType:"calc+arraydraw"}),dash:M({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(G,H,e){var y=e(71828),P=e(89298),a=e(21459),L=e(30477);G.exports=function(o){var n=o._fullLayout,c=y.filterVisible(n.shapes);if(!(!c.length||!o._fullData.length))for(var u=0;u<c.length;u++){var l=c[u];l._extremes={};var g,f,T=P.getRefType(l.xref),h=P.getRefType(l.yref);if(l.xref!=="paper"&&T!=="domain"){var s=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;g=P.getFromId(o,l.xref),f=r(g,s,d,l.path,a.paramIsX),f&&(l._extremes[g._id]=P.findExtremes(g,f,M(l)))}if(l.yref!=="paper"&&h!=="domain"){var A=l.ysizemode==="pixel"?l.yanchor:l.y0,w=l.ysizemode==="pixel"?l.yanchor:l.y1;g=P.getFromId(o,l.yref),f=r(g,A,w,l.path,a.paramIsY),f&&(l._extremes[g._id]=P.findExtremes(g,f,v(l)))}}};function M(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,o,n,c,u,l){var g=t/2,f=l;if(o==="pixel"){var T=u?L.extractPathCoords(u,l?a.paramIsY:a.paramIsX):[n,c],h=y.aggNums(Math.max,null,T),s=y.aggNums(Math.min,null,T),d=s<0?Math.abs(s)+g:g,A=h>0?h+g:g;return{ppad:g,ppadplus:f?d:A,ppadminus:f?A:d}}else return{ppad:g}}function r(t,o,n,c,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(o!==void 0)return[l(o),l(n)];if(c){var g=1/0,f=-1/0,T=c.match(a.segmentRE),h,s,d,A,w;for(t.type==="date"&&(l=L.decodeDate(l)),h=0;h<T.length;h++)s=T[h],d=u[s.charAt(0)].drawn,d!==void 0&&(A=T[h].substr(1).match(a.paramRE),!(!A||A.length<d)&&(w=l(A[d]),w<g&&(g=w),w>f&&(f=w)));if(f>=g)return[g,f]}}},21459:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(G,H,e){var y=e(71828),P=e(89298),a=e(85501),L=e(89827),M=e(30477);G.exports=function(t,o){a(t,o,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,o){function n(J,Z){return y.coerce(r,t,L,J,Z)}t._isShape=!0;var c=n("visible");if(c){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),y.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),g=l?"path":"rect",f=n("type",g),T=f!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var s=n("xsizemode"),d=n("ysizemode"),A=["x","y"],w=0;w<2;w++){var C=A[w],b=C+"anchor",S=C==="x"?s:d,x={_fullLayout:o},i,E,m,k=P.coerceRef(r,t,x,C,void 0,"paper"),I=P.getRefType(k);if(I==="range"?(i=P.getFromId(x,k),i._shapeIndices.push(t._index),m=M.rangeToShapePosition(i),E=M.shapePositionToRange(i)):E=m=y.identity,T){var U=.25,z=.75,F=C+"0",B=C+"1",O=r[F],N=r[B];r[F]=E(r[F],!0),r[B]=E(r[B],!0),S==="pixel"?(n(F,0),n(B,10)):(P.coercePosition(t,x,n,k,F,U),P.coercePosition(t,x,n,k,B,z)),t[F]=m(t[F]),t[B]=m(t[B]),r[F]=O,r[B]=N}if(S==="pixel"){var Y=r[b];r[b]=E(r[b],!0),P.coercePosition(t,x,n,k,b,.25),t[b]=m(t[b]),r[b]=Y}}T&&y.noneOrAll(r,t,["x0","x1","y0","y1"]);var $=f==="line",te,ie;if(T&&(te=n("label.texttemplate")),te||(ie=n("label.text")),ie||te){n("label.textangle");var ce=n("label.textposition",$?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v($,ce)),n("label.padding"),y.coerceFont(n,"label.font",o.font)}}}},48100:function(G,H,e){var y=e(71828),P=e(89298),a=e(63893),L=e(91424),M=e(60165).readPaths,v=e(30477),p=v.getPathString,r=e(37281),t=e(18783).FROM_TL;G.exports=function(u,l,g,f){if(f.selectAll(".shape-label").remove(),!!(g.label.text||g.label.texttemplate)){var T;if(g.label.texttemplate){var h={};if(g.type!=="path"){var s=P.getFromId(u,g.xref),d=P.getFromId(u,g.yref);for(var A in r){var w=r[A](g,s,d);w!==void 0&&(h[A]=w)}}T=y.texttemplateStringForShapes(g.label.texttemplate,{},u._fullLayout._d3locale,h)}else T=g.label.text;var C={"data-index":l},b=g.label.font,S={"data-notex":1},x=f.append("g").attr(C).classed("shape-label",!0),i=x.append("text").attr(S).classed("shape-label-text",!0).text(T),E,m,k,I;if(g.path){var U=p(u,g),z=M(U,u);E=1/0,k=1/0,m=-1/0,I=-1/0;for(var F=0;F<z.length;F++)for(var B=0;B<z[F].length;B++)for(var O=z[F][B],N=1;N<O.length;N+=2){var Y=O[N],$=O[N+1];E=Math.min(E,Y),m=Math.max(m,Y),k=Math.min(k,$),I=Math.max(I,$)}}else{var te=P.getFromId(u,g.xref),ie=P.getRefType(g.xref),ce=P.getFromId(u,g.yref),J=P.getRefType(g.yref),Z=v.getDataToPixel(u,te,!1,ie),ae=v.getDataToPixel(u,ce,!0,J);E=Z(g.x0),m=Z(g.x1),k=ae(g.y0),I=ae(g.y1)}var j=g.label.textangle;j==="auto"&&(g.type==="line"?j=o(E,k,m,I):j=0),i.call(function(ne){return ne.call(L.font,b).attr({}),a.convertToTspans(ne,u),ne});var q=L.bBox(i.node()),oe=n(E,k,m,I,g,j,q),Q=oe.textx,K=oe.texty,se=oe.xanchor;i.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:K,x:Q,transform:"rotate("+j+","+Q+","+K+")"}).call(a.positionText,Q,K)}};function o(c,u,l,g){var f,T;return T=Math.abs(l-c),l>=c?f=u-g:f=g-u,-180/Math.PI*Math.atan2(f,T)}function n(c,u,l,g,f,T,h){var s=f.label.textposition,d=f.label.textangle,A=f.label.padding,w=f.type,C=Math.PI/180*T,b=Math.sin(C),S=Math.cos(C),x=f.label.xanchor,i=f.label.yanchor,E,m,k,I;if(w==="line"){s==="start"?(E=c,m=u):s==="end"?(E=l,m=g):(E=(c+l)/2,m=(u+g)/2),x==="auto"&&(s==="start"?d==="auto"?l>c?x="left":l<c?x="right":x="center":l>c?x="right":l<c?x="left":x="center":s==="end"?d==="auto"?l>c?x="right":l<c?x="left":x="center":l>c?x="left":l<c?x="right":x="center":x="center");var U={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(d==="auto"){var F=z[i];k=-A*b*F,I=A*S*F}else{var B=U[x],O=z[i];k=A*B,I=A*O}E=E+k,m=m+I}else k=A+3,s.indexOf("right")!==-1?(E=Math.max(c,l)-k,x==="auto"&&(x="right")):s.indexOf("left")!==-1?(E=Math.min(c,l)+k,x==="auto"&&(x="left")):(E=(c+l)/2,x==="auto"&&(x="center")),s.indexOf("top")!==-1?m=Math.min(u,g):s.indexOf("bottom")!==-1?m=Math.max(u,g):m=(u+g)/2,I=A,i==="bottom"?m=m-I:i==="top"&&(m=m+I);var N=t[i],Y=f.label.font.size,$=h.height,te=($*N-Y)*b,ie=-($*N-Y)*S;return{textx:E+te,texty:m+ie,xanchor:x}}},42359:function(G,H,e){var y=e(71828),P=y.strTranslate,a=e(28569),L=e(64505),M=L.drawMode,v=L.selectMode,p=e(73972),r=e(7901),t=e(89995),o=t.i000,n=t.i090,c=t.i180,u=t.i270,l=e(51873),g=l.clearOutlineControllers,f=e(60165),T=f.pointsOnRectangle,h=f.pointsOnEllipse,s=f.writePaths,d=e(90551).newShapes,A=e(90551).createShapeObj,w=e(35855),C=e(48100);G.exports=function i(E,m,k,I){I||(I=0);var U=k.gd;function z(){i(E,m,k,I++),(h(E[0])||k.hasText)&&F({redrawing:!0})}function F(me){var Ce={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,Ce=d(m,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,Ce=w(m,k),U._fullLayout._reselect=!0),Object.keys(Ce).length&&p.call((me||{}).redrawing?"relayout":"_guiRelayout",U,Ce)}var B=U._fullLayout,O=B._zoomlayer,N=k.dragmode,Y=M(N),$=v(N);(Y||$)&&(U._fullLayout._outlining=!0),g(U),m.attr("d",s(E));var te,ie,ce,J,Z;if(!I&&(k.isActiveShape||k.isActiveSelection)){Z=b([],E);var ae=O.append("g").attr("class","outline-controllers");fe(ae),Se()}if(Y&&k.hasText){var j=O.select(".label-temp"),q=A(m,k,k.dragmode);C(U,"label-temp",q,j)}function oe(me){ce=+me.srcElement.getAttribute("data-i"),J=+me.srcElement.getAttribute("data-j"),te[ce][J].moveFn=Q}function Q(me,Ce){if(E.length){var Ne=Z[ce][J][1],He=Z[ce][J][2],De=E[ce],Ve=De.length;if(T(De)){var at=me,lt=Ce;if(k.isActiveSelection){var $e=S(De,J);$e[1]===De[J][1]?lt=0:at=0}for(var et=0;et<Ve;et++)if(et!==J){var ct=De[et];ct[1]===De[J][1]&&(ct[1]=Ne+at),ct[2]===De[J][2]&&(ct[2]=He+lt)}if(De[J][1]=Ne+at,De[J][2]=He+lt,!T(De))for(var dt=0;dt<Ve;dt++)for(var gt=0;gt<De[dt].length;gt++)De[dt][gt]=Z[ce][dt][gt]}else De[J][1]=Ne+me,De[J][2]=He+Ce;z()}}function K(){F()}function se(){if(E.length&&E[ce]&&E[ce].length){for(var me=[],Ce=0;Ce<E[ce].length;Ce++)Ce!==J&&me.push(E[ce][Ce]);me.length>1&&!(me.length===2&&me[1][0]==="Z")&&(J===0&&(me[0][0]="M"),E[ce]=me,z(),F())}}function ne(me,Ce){if(me===2){ce=+Ce.srcElement.getAttribute("data-i"),J=+Ce.srcElement.getAttribute("data-j");var Ne=E[ce];!T(Ne)&&!h(Ne)&&se()}}function fe(me){te=[];for(var Ce=0;Ce<E.length;Ce++){var Ne=E[Ce],He=T(Ne),De=!He&&h(Ne);te[Ce]=[];for(var Ve=Ne.length,at=0;at<Ve;at++)if(Ne[at][0]!=="Z"&&!(De&&at!==o&&at!==n&&at!==c&&at!==u)){var lt=He&&k.isActiveSelection,$e;lt&&($e=S(Ne,at));var et=Ne[at][1],ct=Ne[at][2],dt=me.append(lt?"rect":"circle").attr("data-i",Ce).attr("data-j",at).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(lt){var gt=$e[1]-et,At=$e[2]-ct,Rt=At?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Vt=gt?5:Math.max(Math.min(25,Math.abs(At)-5),5);dt.classed(At?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Rt).attr("height",Vt).attr("x",et-Rt/2).attr("y",ct-Vt/2).attr("transform",P(gt/2,At/2))}else dt.classed("cursor-grab",!0).attr("r",5).attr("cx",et).attr("cy",ct);te[Ce][at]={element:dt.node(),gd:U,prepFn:oe,doneFn:K,clickFn:ne},a.init(te[Ce][at])}}}function ye(me,Ce){if(E.length)for(var Ne=0;Ne<E.length;Ne++)for(var He=0;He<E[Ne].length;He++)for(var De=0;De+2<E[Ne][He].length;De+=2)E[Ne][He][De+1]=Z[Ne][He][De+1]+me,E[Ne][He][De+2]=Z[Ne][He][De+2]+Ce}function Ee(me,Ce){ye(me,Ce),z()}function Te(me){ce=+me.srcElement.getAttribute("data-i"),ce||(ce=0),ie[ce].moveFn=Ee}function ze(){F()}function ke(me){me===2&&x(U)}function Se(){if(ie=[],!!E.length){var me=0;ie[me]={element:m[0][0],gd:U,prepFn:Te,doneFn:ze,clickFn:ke},a.init(ie[me])}}};function b(i,E){for(var m=0;m<E.length;m++){var k=E[m];i[m]=[];for(var I=0;I<k.length;I++){i[m][I]=[];for(var U=0;U<k[I].length;U++)i[m][I][U]=k[I][U]}}return i}function S(i,E){var m=i[E][1],k=i[E][2],I=i.length,U,z,F;return U=(E+1)%I,z=i[U][1],F=i[U][2],z===m&&F===k&&(U=(E+2)%I,z=i[U][1],F=i[U][2]),[U,z,F]}function x(i){if(v(i._fullLayout.dragmode)){g(i);var E=i._fullLayout._activeSelectionIndex,m=(i.layout||{}).selections||[];if(E<m.length){for(var k=[],I=0;I<m.length;I++)I!==E&&k.push(m[I]);delete i._fullLayout._activeSelectionIndex;var U=i._fullLayout.selections[E];i._fullLayout._deselect={xref:U.xref,yref:U.yref},p.call("_guiRelayout",i,{selections:k})}}}},34031:function(G,H,e){var y=e(39898),P=e(73972),a=e(71828),L=e(89298),M=e(60165).readPaths,v=e(42359),p=e(48100),r=e(51873).clearOutlineControllers,t=e(7901),o=e(91424),n=e(44467).arrayEditor,c=e(28569),u=e(6964),l=e(21459),g=e(30477),f=g.getPathString;G.exports={draw:T,drawOne:d,eraseActiveShape:x,drawLabel:p};function T(i){var E=i._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var m in E._plots){var k=E._plots[m].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var I=0;I<E.shapes.length;I++)E.shapes[I].visible===!0&&d(i,I)}function h(i){return!!i._fullLayout._outlining}function s(i){return!i._context.edits.shapePosition}function d(i,E){i._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var m=g.makeShapesOptionsAndPlotinfo(i,E),k=m.options,I=m.plotinfo;if(!k._input||k.visible!==!0)return;if(k.layer!=="below")z(i._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")z(i._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var U=I.mainplotinfo||I;z(U.shapelayer)}else z(i._fullLayout._shapeLowerLayer);function z(F){var B=f(i,k),O={"data-index":E,"fill-rule":k.fillrule,d:B},N=k.opacity,Y=k.fillcolor,$=k.line.width?k.line.color:"rgba(0,0,0,0)",te=k.line.width,ie=k.line.dash;!te&&k.editable===!0&&(te=5,ie="solid");var ce=B[B.length-1]!=="Z",J=s(i)&&k.editable&&i._fullLayout._activeShapeIndex===E;J&&(Y=ce?"rgba(0,0,0,0)":i._fullLayout.activeshape.fillcolor,N=i._fullLayout.activeshape.opacity);var Z=F.append("g").classed("shape-group",!0).attr({"data-index":E}),ae=Z.append("path").attr(O).style("opacity",N).call(t.stroke,$).call(t.fill,Y).call(o.dashLine,ie,te);A(Z,i,k),p(i,E,k,Z);var j;if((J||i._context.edits.shapePosition)&&(j=n(i.layout,"shapes",k)),J){ae.style({cursor:"move"});var q={element:ae.node(),plotinfo:I,gd:i,editHelpers:j,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},oe=M(B,i);v(oe,ae,q)}else i._context.edits.shapePosition?w(i,ae,k,E,F,j):k.editable===!0&&ae.style("pointer-events",ce||t.opacity(Y)*N<=.5?"stroke":"all");ae.node().addEventListener("click",function(){return b(i,ae)})}}function A(i,E,m){var k=(m.xref+m.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");o.setClipUrl(i,k?"clip"+E._fullLayout._uid+k:null,E)}function w(i,E,m,k,I,U){var z=10,F=10,B=m.xsizemode==="pixel",O=m.ysizemode==="pixel",N=m.type==="line",Y=m.type==="path",$=U.modifyItem,te,ie,ce,J,Z,ae,j,q,oe,Q,K,se,ne,fe,ye,Ee=y.select(E.node().parentNode),Te=L.getFromId(i,m.xref),ze=L.getRefType(m.xref),ke=L.getFromId(i,m.yref),Se=L.getRefType(m.yref),me=g.getDataToPixel(i,Te,!1,ze),Ce=g.getDataToPixel(i,ke,!0,Se),Ne=g.getPixelToData(i,Te,!1,ze),He=g.getPixelToData(i,ke,!0,Se),De=lt(),Ve={element:De.node(),gd:i,prepFn:ct,doneFn:dt,clickFn:gt},at;c.init(Ve),De.node().onmousemove=et;function lt(){return N?$e():E}function $e(){var Ie=10,Fe=Math.max(m.line.width,Ie),Pe=I.append("g").attr("data-index",k).attr("drag-helper",!0);Pe.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":Fe,"stroke-opacity":"0"});var xe={"fill-opacity":"0"},ge=Math.max(Fe/2,Ie);return Pe.append("circle").attr({"data-line-point":"start-point",cx:B?me(m.xanchor)+m.x0:me(m.x0),cy:O?Ce(m.yanchor)-m.y0:Ce(m.y0),r:ge}).style(xe).classed("cursor-grab",!0),Pe.append("circle").attr({"data-line-point":"end-point",cx:B?me(m.xanchor)+m.x1:me(m.x1),cy:O?Ce(m.yanchor)-m.y1:Ce(m.y1),r:ge}).style(xe).classed("cursor-grab",!0),Pe}function et(Ie){if(h(i)){at=null;return}if(N)Ie.target.tagName==="path"?at="move":at=Ie.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Fe=Ve.element.getBoundingClientRect(),Pe=Fe.right-Fe.left,xe=Fe.bottom-Fe.top,ge=Ie.clientX-Fe.left,Me=Ie.clientY-Fe.top,Ae=!Y&&Pe>z&&xe>F&&!Ie.shiftKey?c.getCursor(ge/Pe,1-Me/xe):"move";u(E,Ae),at=Ae.split("-")[0]}}function ct(Ie){h(i)||(B&&(Z=me(m.xanchor)),O&&(ae=Ce(m.yanchor)),m.type==="path"?ye=m.path:(te=B?m.x0:me(m.x0),ie=O?m.y0:Ce(m.y0),ce=B?m.x1:me(m.x1),J=O?m.y1:Ce(m.y1)),te<ce?(oe=te,ne="x0",Q=ce,fe="x1"):(oe=ce,ne="x1",Q=te,fe="x0"),!O&&ie<J||O&&ie>J?(j=ie,K="y0",q=J,se="y1"):(j=J,K="y1",q=ie,se="y0"),et(Ie),Vt(I,m),Ge(E,m,i),Ve.moveFn=at==="move"?At:Rt,Ve.altKey=Ie.altKey)}function dt(){h(i)||(u(E),Je(I),A(E,i,m),P.call("_guiRelayout",i,U.getUpdateObj()))}function gt(){h(i)||Je(I)}function At(Ie,Fe){if(m.type==="path"){var Pe=function(Me){return Me},xe=Pe,ge=Pe;B?$("xanchor",m.xanchor=Ne(Z+Ie)):(xe=function(Ae){return Ne(me(Ae)+Ie)},Te&&Te.type==="date"&&(xe=g.encodeDate(xe))),O?$("yanchor",m.yanchor=He(ae+Fe)):(ge=function(Ae){return He(Ce(Ae)+Fe)},ke&&ke.type==="date"&&(ge=g.encodeDate(ge))),$("path",m.path=C(ye,xe,ge))}else B?$("xanchor",m.xanchor=Ne(Z+Ie)):($("x0",m.x0=Ne(te+Ie)),$("x1",m.x1=Ne(ce+Ie))),O?$("yanchor",m.yanchor=He(ae+Fe)):($("y0",m.y0=He(ie+Fe)),$("y1",m.y1=He(J+Fe)));E.attr("d",f(i,m)),Vt(I,m),p(i,k,m,Ee)}function Rt(Ie,Fe){if(Y){var Pe=function(yt){return yt},xe=Pe,ge=Pe;B?$("xanchor",m.xanchor=Ne(Z+Ie)):(xe=function(Xt){return Ne(me(Xt)+Ie)},Te&&Te.type==="date"&&(xe=g.encodeDate(xe))),O?$("yanchor",m.yanchor=He(ae+Fe)):(ge=function(Xt){return He(Ce(Xt)+Fe)},ke&&ke.type==="date"&&(ge=g.encodeDate(ge))),$("path",m.path=C(ye,xe,ge))}else if(N){if(at==="resize-over-start-point"){var Me=te+Ie,Ae=O?ie-Fe:ie+Fe;$("x0",m.x0=B?Me:Ne(Me)),$("y0",m.y0=O?Ae:He(Ae))}else if(at==="resize-over-end-point"){var Ue=ce+Ie,Ze=O?J-Fe:J+Fe;$("x1",m.x1=B?Ue:Ne(Ue)),$("y1",m.y1=O?Ze:He(Ze))}}else{var tt=function(yt){return at.indexOf(yt)!==-1},ft=tt("n"),pt=tt("s"),Yt=tt("w"),Jt=tt("e"),Tt=ft?j+Fe:j,zt=pt?q+Fe:q,$t=Yt?oe+Ie:oe,wr=Jt?Q+Ie:Q;O&&(ft&&(Tt=j-Fe),pt&&(zt=q-Fe)),(!O&&zt-Tt>F||O&&Tt-zt>F)&&($(K,m[K]=O?Tt:He(Tt)),$(se,m[se]=O?zt:He(zt))),wr-$t>z&&($(ne,m[ne]=B?$t:Ne($t)),$(fe,m[fe]=B?wr:Ne(wr)))}E.attr("d",f(i,m)),Vt(I,m),p(i,k,m,Ee)}function Vt(Ie,Fe){(B||O)&&Pe();function Pe(){var xe=Fe.type!=="path",ge=Ie.selectAll(".visual-cue").data([0]),Me=1;ge.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Me}).classed("visual-cue",!0);var Ae=me(B?Fe.xanchor:a.midRange(xe?[Fe.x0,Fe.x1]:g.extractPathCoords(Fe.path,l.paramIsX))),Ue=Ce(O?Fe.yanchor:a.midRange(xe?[Fe.y0,Fe.y1]:g.extractPathCoords(Fe.path,l.paramIsY)));if(Ae=g.roundPositionForSharpStrokeRendering(Ae,Me),Ue=g.roundPositionForSharpStrokeRendering(Ue,Me),B&&O){var Ze="M"+(Ae-1-Me)+","+(Ue-1-Me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ge.attr("d",Ze)}else if(B){var tt="M"+(Ae-1-Me)+","+(Ue-9-Me)+"v18 h2 v-18 Z";ge.attr("d",tt)}else{var ft="M"+(Ae-9-Me)+","+(Ue-1-Me)+"h18 v2 h-18 Z";ge.attr("d",ft)}}}function Je(Ie){Ie.selectAll(".visual-cue").remove()}function Ge(Ie,Fe,Pe){var xe=Fe.xref,ge=Fe.yref,Me=L.getFromId(Pe,xe),Ae=L.getFromId(Pe,ge),Ue="";xe!=="paper"&&!Me.autorange&&(Ue+=xe),ge!=="paper"&&!Ae.autorange&&(Ue+=ge),o.setClipUrl(Ie,Ue?"clip"+Pe._fullLayout._uid+Ue:null,Pe)}}function C(i,E,m){return i.replace(l.segmentRE,function(k){var I=0,U=k.charAt(0),z=l.paramIsX[U],F=l.paramIsY[U],B=l.numParams[U],O=k.substr(1).replace(l.paramRE,function(N){return I>=B||(z[I]?N=E(N):F[I]&&(N=m(N)),I++),N});return U+O})}function b(i,E){if(s(i)){var m=E.node(),k=+m.getAttribute("data-index");if(k>=0){if(k===i._fullLayout._activeShapeIndex){S(i);return}i._fullLayout._activeShapeIndex=k,i._fullLayout._deactivateShape=S,T(i)}}}function S(i){if(s(i)){var E=i._fullLayout._activeShapeIndex;E>=0&&(r(i),delete i._fullLayout._activeShapeIndex,T(i))}}function x(i){if(s(i)){r(i);var E=i._fullLayout._activeShapeIndex,m=(i.layout||{}).shapes||[];if(E<m.length){for(var k=[],I=0;I<m.length;I++)I!==E&&k.push(m[I]);return delete i._fullLayout._activeShapeIndex,P.call("_guiRelayout",i,{shapes:k})}}}},29241:function(G,H,e){var y=e(30962).overrideAll,P=e(9012),a=e(41940),L=e(79952).P,M=e(1426).extendFlat,v=e(5386).R,p=e(37281);G.exports=y({newshape:{visible:M({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},P.legend,{}),legendgroup:M({},P.legendgroup,{}),legendgrouptitle:{text:M({},P.legendgrouptitle.text,{}),font:a({})},legendrank:M({},P.legendrank,{}),legendwidth:M({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(G){var H=32;G.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(G,H,e){var y=e(7901),P=e(71828);function a(L,M){return L?"bottom":M.indexOf("top")!==-1?"top":M.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(M,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(M||{}).plot_bgcolor||"#FFF";p("newshape.line.color",y.contrast(t)),p("newshape.line.dash")}var o=M.dragmode==="drawline",n=p("newshape.label.text"),c=p("newshape.label.texttemplate");if(n||c){p("newshape.label.textangle");var u=p("newshape.label.textposition",o?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",a(o,u)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},60165:function(G,H,e){var y=e(95616),P=e(89995),a=P.CIRCLE_SIDES,L=P.SQRT2,M=e(75549),v=M.p2r,p=M.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];H.writePaths=function(c){var u=c.length;if(!u)return"M0,0Z";for(var l="",g=0;g<u;g++)for(var f=c[g].length,T=0;T<f;T++){var h=c[g][T][0];if(h==="Z")l+="Z";else for(var s=c[g][T].length,d=0;d<s;d++){var A=d;h==="Q"||h==="S"?A=t[d]:h==="C"&&(A=r[d]),l+=c[g][T][A],d>0&&d<s-1&&(l+=",")}}return l},H.readPaths=function(c,u,l,g){var f=y(c),T=[],h=-1,s=function(){h++,T[h]=[]},d,A=0,w=0,C,b,S=function(){C=A,b=w};S();for(var x=0;x<f.length;x++){var i=[],E,m,k,I,U=f[x][0],z=U;switch(U){case"M":s(),A=+f[x][1],w=+f[x][2],i.push([z,A,w]),S();break;case"Q":case"S":E=+f[x][1],k=+f[x][2],A=+f[x][3],w=+f[x][4],i.push([z,A,w,E,k]);break;case"C":E=+f[x][1],k=+f[x][2],m=+f[x][3],I=+f[x][4],A=+f[x][5],w=+f[x][6],i.push([z,A,w,E,k,m,I]);break;case"T":case"L":A=+f[x][1],w=+f[x][2],i.push([z,A,w]);break;case"H":z="L",A=+f[x][1],i.push([z,A,w]);break;case"V":z="L",w=+f[x][1],i.push([z,A,w]);break;case"A":z="L";var F=+f[x][1],B=+f[x][2];+f[x][4]||(F=-F,B=-B);var O=A-F,N=w;for(d=1;d<=a/2;d++){var Y=2*Math.PI*d/a;i.push([z,O+F*Math.cos(Y),N+B*Math.sin(Y)])}break;case"Z":(A!==C||w!==b)&&(A=C,w=b,i.push([z,A,w]));break}for(var $=(l||{}).domain,te=u._fullLayout._size,ie=l&&l.xsizemode==="pixel",ce=l&&l.ysizemode==="pixel",J=g===!1,Z=0;Z<i.length;Z++){for(d=0;d+2<7;d+=2){var ae=i[Z][d+1],j=i[Z][d+2];ae===void 0||j===void 0||(A=ae,w=j,l&&(l.xaxis&&l.xaxis.p2r?(J&&(ae-=l.xaxis._offset),ie?ae=p(l.xaxis,l.xanchor)+ae:ae=v(l.xaxis,ae)):(J&&(ae-=te.l),$?ae=$.x[0]+ae/te.w:ae=ae/te.w),l.yaxis&&l.yaxis.p2r?(J&&(j-=l.yaxis._offset),ce?j=p(l.yaxis,l.yanchor)-j:j=v(l.yaxis,j)):(J&&(j-=te.t),$?j=$.y[1]-j/te.h:j=1-j/te.h)),i[Z][d+1]=ae,i[Z][d+2]=j)}T[h].push(i[Z].slice())}}return T};function o(c,u){return Math.abs(c-u)<=1e-6}function n(c,u){var l=u[1]-c[1],g=u[2]-c[2];return Math.sqrt(l*l+g*g)}H.pointsOnRectangle=function(c){var u=c.length;if(u!==5)return!1;for(var l=1;l<3;l++){var g=c[0][l]-c[1][l],f=c[3][l]-c[2][l];if(!o(g,f))return!1;var T=c[0][l]-c[3][l],h=c[1][l]-c[2][l];if(!o(T,h))return!1}return!o(c[0][1],c[1][1])&&!o(c[0][1],c[3][1])?!1:!!(n(c[0],c[1])*n(c[0],c[3]))},H.pointsOnEllipse=function(c){var u=c.length;if(u!==a+1)return!1;u=a;for(var l=0;l<u;l++){var g=(u*2-l)%u,f=(u/2+g)%u,T=(u/2+l)%u;if(!o(n(c[l],c[T]),n(c[g],c[f])))return!1}return!0},H.handleEllipse=function(c,u,l){if(!c)return[u,l];var g=H.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),f=(g.x1+g.x0)/2,T=(g.y1+g.y0)/2,h=(g.x1-g.x0)/2,s=(g.y1-g.y0)/2;h||(h=s=s/L),s||(s=h=h/L);for(var d=[],A=0;A<a;A++){var w=A*2*Math.PI/a;d.push([f+h*Math.cos(w),T+s*Math.sin(w)])}return d},H.ellipseOver=function(c){var u=c.x0,l=c.y0,g=c.x1,f=c.y1,T=g-u,h=f-l;u-=T,l-=h;var s=(u+g)/2,d=(l+f)/2,A=L;return T*=A,h*=A,{x0:s-T,y0:d-h,x1:s+T,y1:d+h}},H.fixDatesForPaths=function(c,u,l){var g=u.type==="date",f=l.type==="date";if(!g&&!f)return c;for(var T=0;T<c.length;T++)for(var h=0;h<c[T].length;h++)for(var s=0;s+2<c[T][h].length;s+=2)g&&(c[T][h][s+1]=c[T][h][s+1].replace(" ","_")),f&&(c[T][h][s+2]=c[T][h][s+2].replace(" ","_"));return c}},90551:function(G,H,e){var y=e(64505),P=y.drawMode,a=y.openMode,L=e(89995),M=L.i000,v=L.i090,p=L.i180,r=L.i270,t=L.cos45,o=L.sin45,n=e(75549),c=n.p2r,u=n.r2p,l=e(51873),g=l.clearOutline,f=e(60165),T=f.readPaths,h=f.writePaths,s=f.ellipseOver,d=f.fixDatesForPaths;function A(C,b){if(C.length){var S=C[0][0];if(S){var x=b.gd,i=b.isActiveShape,E=b.dragmode,m=(x.layout||{}).shapes||[];if(!P(E)&&i!==void 0){var k=x._fullLayout._activeShapeIndex;if(k<m.length)switch(x._fullLayout.shapes[k].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var I=m[k].path||"";I[I.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var U=w(C,b,E);g(x);for(var z=b.editHelpers,F=(z||{}).modifyItem,B=[],O=0;O<m.length;O++){var N=x._fullLayout.shapes[O];if(B[O]=N._input,i!==void 0&&O===x._fullLayout._activeShapeIndex){var Y=U;switch(N.type){case"line":case"rect":case"circle":F("x0",Y.x0),F("x1",Y.x1),F("y0",Y.y0),F("y1",Y.y1);break;case"path":F("path",Y.path);break}}}return i===void 0?(B.push(U),B):z?z.getUpdateObj():{}}}}function w(C,b,S){var x=C[0][0],i=b.gd,E=x.getAttribute("d"),m=i._fullLayout.newshape,k=b.plotinfo,I=b.isActiveShape,U=k.xaxis,z=k.yaxis,F=!!k.domain||!k.xaxis,B=!!k.domain||!k.yaxis,O=a(S),N=T(E,i,k,I),Y={editable:!0,visible:m.visible,name:m.name,showlegend:m.showlegend,legend:m.legend,legendwidth:m.legendwidth,legendgroup:m.legendgroup,legendgrouptitle:{text:m.legendgrouptitle.text,font:m.legendgrouptitle.font},legendrank:m.legendrank,label:m.label,xref:F?"paper":U._id,yref:B?"paper":z._id,layer:m.layer,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}};O||(Y.fillcolor=m.fillcolor,Y.fillrule=m.fillrule);var $;if(N.length===1&&($=N[0]),$&&$.length===5&&S==="drawrect")Y.type="rect",Y.x0=$[0][1],Y.y0=$[0][2],Y.x1=$[2][1],Y.y1=$[2][2];else if($&&S==="drawline")Y.type="line",Y.x0=$[0][1],Y.y0=$[0][2],Y.x1=$[1][1],Y.y1=$[1][2];else if($&&S==="drawcircle"){Y.type="circle";var te=$[M][1],ie=$[v][1],ce=$[p][1],J=$[r][1],Z=$[M][2],ae=$[v][2],j=$[p][2],q=$[r][2],oe=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),Q=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");oe&&(te=u(k.xaxis,te),ie=u(k.xaxis,ie),ce=u(k.xaxis,ce),J=u(k.xaxis,J)),Q&&(Z=u(k.yaxis,Z),ae=u(k.yaxis,ae),j=u(k.yaxis,j),q=u(k.yaxis,q));var K=(ie+J)/2,se=(Z+j)/2,ne=(J-ie+ce-te)/2,fe=(q-ae+j-Z)/2,ye=s({x0:K,y0:se,x1:K+ne*t,y1:se+fe*o});oe&&(ye.x0=c(k.xaxis,ye.x0),ye.x1=c(k.xaxis,ye.x1)),Q&&(ye.y0=c(k.yaxis,ye.y0),ye.y1=c(k.yaxis,ye.y1)),Y.x0=ye.x0,Y.y0=ye.y0,Y.x1=ye.x1,Y.y1=ye.y1}else Y.type="path",U&&z&&d(N,U,z),Y.path=h(N),$=null;return Y}G.exports={newShapes:A,createShapeObj:w}},51873:function(G){function H(y){var P=y._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(y){var P=y._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),y._fullLayout._outlining=!1}G.exports={clearOutlineControllers:H,clearOutline:e}},30477:function(G,H,e){var y=e(21459),P=e(71828),a=e(89298);H.rangeToShapePosition=function(M){return M.type==="log"?M.r2d:function(v){return v}},H.shapePositionToRange=function(M){return M.type==="log"?M.d2r:function(v){return v}},H.decodeDate=function(M){return function(v){return v.replace&&(v=v.replace("_"," ")),M(v)}},H.encodeDate=function(M){return function(v){return M(v).replace(" ","_")}},H.extractPathCoords=function(M,v,p){var r=[],t=M.match(y.segmentRE);return t.forEach(function(o){var n=v[o.charAt(0)].drawn;if(n!==void 0){var c=o.substr(1).match(y.paramRE);if(!(!c||c.length<n)){var u=c[n],l=p?u:P.cleanNumber(u);r.push(l)}}}),r},H.getDataToPixel=function(M,v,p,r){var t=M._fullLayout._size,o;if(v)if(r==="domain")o=function(c){return v._length*(p?1-c:c)+v._offset};else{var n=H.shapePositionToRange(v);o=function(c){return v._offset+v.r2p(n(c,!0))},v.type==="date"&&(o=H.decodeDate(o))}else p?o=function(c){return t.t+t.h*(1-c)}:o=function(c){return t.l+t.w*c};return o},H.getPixelToData=function(M,v,p,r){var t=M._fullLayout._size,o;if(v)if(r==="domain")o=function(c){var u=(c-v._offset)/v._length;return p?1-u:u};else{var n=H.rangeToShapePosition(v);o=function(c){return n(v.p2r(c-v._offset))}}else p?o=function(c){return 1-(c-t.t)/t.h}:o=function(c){return(c-t.l)/t.w};return o},H.roundPositionForSharpStrokeRendering=function(M,v){var p=Math.round(v%2)===1,r=Math.round(M);return p?r+.5:r},H.makeShapesOptionsAndPlotinfo=function(M,v){var p=M._fullLayout.shapes[v]||{},r=M._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=M._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=M._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},H.makeSelectionsOptionsAndPlotinfo=function(M,v){var p=M._fullLayout.selections[v]||{},r=M._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=M._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=M._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},H.getPathString=function(M,v){var p=v.type,r=a.getRefType(v.xref),t=a.getRefType(v.yref),o=a.getFromId(M,v.xref),n=a.getFromId(M,v.yref),c=M._fullLayout._size,u,l,g,f,T,h,s,d;if(o?r==="domain"?l=function(k){return o._offset+o._length*k}:(u=H.shapePositionToRange(o),l=function(k){return o._offset+o.r2p(u(k,!0))}):l=function(k){return c.l+c.w*k},n?t==="domain"?f=function(k){return n._offset+n._length*(1-k)}:(g=H.shapePositionToRange(n),f=function(k){return n._offset+n.r2p(g(k,!0))}):f=function(k){return c.t+c.h*(1-k)},p==="path")return o&&o.type==="date"&&(l=H.decodeDate(l)),n&&n.type==="date"&&(f=H.decodeDate(f)),L(v,l,f);if(v.xsizemode==="pixel"){var A=l(v.xanchor);T=A+v.x0,h=A+v.x1}else T=l(v.x0),h=l(v.x1);if(v.ysizemode==="pixel"){var w=f(v.yanchor);s=w-v.y0,d=w-v.y1}else s=f(v.y0),d=f(v.y1);if(p==="line")return"M"+T+","+s+"L"+h+","+d;if(p==="rect")return"M"+T+","+s+"H"+h+"V"+d+"H"+T+"Z";var C=(T+h)/2,b=(s+d)/2,S=Math.abs(C-T),x=Math.abs(b-s),i="A"+S+","+x,E=C+S+","+b,m=C+","+(b-x);return"M"+E+i+" 0 1,1 "+m+i+" 0 0,1 "+E+"Z"};function L(M,v,p){var r=M.path,t=M.xsizemode,o=M.ysizemode,n=M.xanchor,c=M.yanchor;return r.replace(y.segmentRE,function(u){var l=0,g=u.charAt(0),f=y.paramIsX[g],T=y.paramIsY[g],h=y.numParams[g],s=u.substr(1).replace(y.paramRE,function(d){return f[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):T[l]&&(o==="pixel"?d=p(c)-Number(d):d=p(d)),l++,l>h&&(d="X"),d});return l>h&&(s=s.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+u)),g+s})}},89853:function(G,H,e){var y=e(34031);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:y.draw,drawOne:y.drawOne}},37281:function(G){function H(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function y(u){return u.x0}function P(u){return u.x1}function a(u){return u.y0}function L(u){return u.y1}function M(u,l){return H(u.x1,l)-H(u.x0,l)}function v(u,l,g){return H(u.y1,g)-H(u.y0,g)}function p(u,l){return Math.abs(M(u,l))}function r(u,l,g){return Math.abs(v(u,l,g))}function t(u,l,g){return u.type!=="line"?void 0:Math.sqrt(Math.pow(M(u,l),2)+Math.pow(v(u,l,g),2))}function o(u,l){return e((H(u.x1,l)+H(u.x0,l))/2,l)}function n(u,l,g){return e((H(u.y1,g)+H(u.y0,g))/2,g)}function c(u,l,g){return u.type!=="line"?void 0:v(u,l,g)/M(u,l)}G.exports={x0:y,x1:P,y0:a,y1:L,slope:c,dx:M,dy:v,width:p,height:r,length:t,xcenter:o,ycenter:n}},75067:function(G,H,e){var y=e(41940),P=e(35025),a=e(1426).extendDeepAll,L=e(30962).overrideAll,M=e(85594),v=e(44467).templatedArray,p=e(98292),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:y({})},font:y({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},98292:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(G,H,e){var y=e(71828),P=e(85501),a=e(75067),L=e(98292),M=L.name,v=a.steps;G.exports=function(o,n){P(o,n,{name:M,handleItemDefaults:p})};function p(t,o,n){function c(d,A){return y.coerce(t,o,a,d,A)}for(var u=P(t,o,{name:"steps",handleItemDefaults:r}),l=0,g=0;g<u.length;g++)u[g].visible&&l++;var f;if(l<2?f=o.visible=!1:f=c("visible"),!!f){o._stepCount=l;var T=o._visibleSteps=y.filterVisible(u),h=c("active");(u[h]||{}).visible||(o.active=T[0]._index),c("x"),c("y"),y.noneOrAll(t,o,["x","y"]),c("xanchor"),c("yanchor"),c("len"),c("lenmode"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),y.coerceFont(c,"font",n.font);var s=c("currentvalue.visible");s&&(c("currentvalue.xanchor"),c("currentvalue.prefix"),c("currentvalue.suffix"),c("currentvalue.offset"),y.coerceFont(c,"currentvalue.font",o.font)),c("transition.duration"),c("transition.easing"),c("bgcolor"),c("activebgcolor"),c("bordercolor"),c("borderwidth"),c("ticklen"),c("tickwidth"),c("tickcolor"),c("minorticklen")}}function r(t,o){function n(l,g){return y.coerce(t,o,v,l,g)}var c;if(t.method!=="skip"&&!Array.isArray(t.args)?c=o.visible=!1:c=n("visible"),c){n("method"),n("args");var u=n("label","step-"+o._index);n("value",u),n("execute")}}},44504:function(G,H,e){var y=e(39898),P=e(74875),a=e(7901),L=e(91424),M=e(71828),v=M.strTranslate,p=e(63893),r=e(44467).arrayEditor,t=e(98292),o=e(18783),n=o.LINE_SPACING,c=o.FROM_TL,u=o.FROM_BR;G.exports=function(F){var B=F._context.staticPlot,O=F._fullLayout,N=g(O,F),Y=O._infolayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);Y.enter().append("g").classed(t.containerClassName,!0).style("cursor",B?null:"ew-resize");function $(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),P.autoMargin(F,l(J))}if(Y.exit().each(function(){y.select(this).selectAll("g."+t.groupClassName).each($)}).remove(),N.length!==0){var te=Y.selectAll("g."+t.groupClassName).data(N,f);te.enter().append("g").classed(t.groupClassName,!0),te.exit().each($).remove();for(var ie=0;ie<N.length;ie++){var ce=N[ie];T(F,ce)}te.each(function(J){var Z=y.select(this);i(J),P.manageCommandObserver(F,J,J._visibleSteps,function(ae){var j=Z.data()[0];j.active!==ae.index&&(j._dragging||b(F,Z,j,ae.index,!1,!0))}),h(F,y.select(this),J)})}};function l(z){return t.autoMarginIdRoot+z._index}function g(z,F){for(var B=z[t.name],O=[],N=0;N<B.length;N++){var Y=B[N];Y.visible&&(Y._gd=F,O.push(Y))}return O}function f(z){return z._index}function T(z,F){var B=L.tester.selectAll("g."+t.labelGroupClass).data(F._visibleSteps);B.enter().append("g").classed(t.labelGroupClass,!0);var O=0,N=0;B.each(function(q){var oe=y.select(this),Q=A(oe,{step:q},F),K=Q.node();if(K){var se=L.bBox(K);N=Math.max(N,se.height),O=Math.max(O,se.width)}}),B.remove();var Y=F._dims={};Y.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var $=z._fullLayout._size;Y.lx=$.l+$.w*F.x,Y.ly=$.t+$.h*(1-F.y),F.lenmode==="fraction"?Y.outerLength=Math.round($.w*F.len):Y.outerLength=F.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-F.pad.l-F.pad.r);var te=Y.inputAreaLength-2*t.stepInset,ie=te/(F._stepCount-1),ce=O+t.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(ce/ie)),Y.labelHeight=N,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,F.currentvalue.visible){var J=L.tester.append("g");B.each(function(q){var oe=s(J,F,q.label),Q=oe.node()&&L.bBox(oe.node())||{width:0,height:0},K=p.lineCount(oe);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(Q.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(Q.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,K)}),Y.currentValueTotalHeight=Y.currentValueHeight+F.currentvalue.offset,J.remove()}Y.height=Y.currentValueTotalHeight+t.tickOffset+F.ticklen+t.labelOffset+Y.labelHeight+F.pad.t+F.pad.b;var Z="left";M.isRightAnchor(F)&&(Y.lx-=Y.outerLength,Z="right"),M.isCenterAnchor(F)&&(Y.lx-=Y.outerLength/2,Z="center");var ae="top";M.isBottomAnchor(F)&&(Y.ly-=Y.height,ae="bottom"),M.isMiddleAnchor(F)&&(Y.ly-=Y.height/2,ae="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var j={y:F.y,b:Y.height*u[ae],t:Y.height*c[ae]};F.lenmode==="fraction"?(j.l=0,j.xl=F.x-F.len*c[Z],j.r=0,j.xr=F.x+F.len*u[Z]):(j.x=F.x,j.l=Y.outerLength*c[Z],j.r=Y.outerLength*u[Z]),P.autoMargin(z,l(F),j)}function h(z,F,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),F.call(s,B).call(U,B).call(w,B).call(x,B).call(I,z,B).call(d,z,B);var O=B._dims;L.setTranslate(F,O.lx+B.pad.l,O.ly+B.pad.t),F.call(E,B,!1),F.call(s,B)}function s(z,F,B){if(F.currentvalue.visible){var O=F._dims,N,Y;switch(F.currentvalue.xanchor){case"right":N=O.inputAreaLength-t.currentValueInset-O.currentValueMaxWidth,Y="left";break;case"center":N=O.inputAreaLength*.5,Y="middle";break;default:N=t.currentValueInset,Y="left"}var $=M.ensureSingle(z,"text",t.labelClass,function(ae){ae.attr({"text-anchor":Y,"data-notex":1})}),te=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof B=="string")te+=B;else{var ie=F.steps[F.active].label,ce=F._gd._fullLayout._meta;ce&&(ie=M.templateString(ie,ce)),te+=ie}F.currentvalue.suffix&&(te+=F.currentvalue.suffix),$.call(L.font,F.currentvalue.font).text(te).call(p.convertToTspans,F._gd);var J=p.lineCount($),Z=(O.currentValueMaxLines+1-J)*F.currentvalue.font.size*n;return p.positionText($,N,Z),$}}function d(z,F,B){var O=M.ensureSingle(z,"rect",t.gripRectClass,function(N){N.call(S,F,z,B).style("pointer-events","all")});O.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function A(z,F,B){var O=M.ensureSingle(z,"text",t.labelClass,function($){$.attr({"text-anchor":"middle","data-notex":1})}),N=F.step.label,Y=B._gd._fullLayout._meta;return Y&&(N=M.templateString(N,Y)),O.call(L.font,B.font).text(N).call(p.convertToTspans,B._gd),O}function w(z,F){var B=M.ensureSingle(z,"g",t.labelsClass),O=F._dims,N=B.selectAll("g."+t.labelGroupClass).data(O.labelSteps);N.enter().append("g").classed(t.labelGroupClass,!0),N.exit().remove(),N.each(function(Y){var $=y.select(this);$.call(A,Y,F),L.setTranslate($,m(F,Y.fraction),t.tickOffset+F.ticklen+F.font.size*n+t.labelOffset+O.currentValueTotalHeight)})}function C(z,F,B,O,N){var Y=Math.round(O*(B._stepCount-1)),$=B._visibleSteps[Y]._index;$!==B.active&&b(z,F,B,$,!0,N)}function b(z,F,B,O,N,Y){var $=B.active;B.active=O,r(z.layout,t.name,B).applyUpdate("active",O);var te=B.steps[B.active];F.call(E,B,Y),F.call(s,B),z.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:N,previousActive:$}),te&&te.method&&N&&(F._nextMethod?(F._nextMethod.step=te,F._nextMethod.doCallback=N,F._nextMethod.doTransition=Y):(F._nextMethod={step:te,doCallback:N,doTransition:Y},F._nextMethodRaf=window.requestAnimationFrame(function(){var ie=F._nextMethod.step;ie.method&&(ie.execute&&P.executeAPICommand(z,ie.method,ie.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function S(z,F,B){if(F._context.staticPlot)return;var O=B.node(),N=y.select(F);function Y(){return B.data()[0]}function $(){var te=Y();F.emit("plotly_sliderstart",{slider:te});var ie=B.select("."+t.gripRectClass);y.event.stopPropagation(),y.event.preventDefault(),ie.call(a.fill,te.activebgcolor);var ce=k(te,y.mouse(O)[0]);C(F,B,te,ce,!0),te._dragging=!0;function J(){var ae=Y(),j=k(ae,y.mouse(O)[0]);C(F,B,ae,j,!1)}N.on("mousemove",J),N.on("touchmove",J);function Z(){var ae=Y();ae._dragging=!1,ie.call(a.fill,ae.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),F.emit("plotly_sliderend",{slider:ae,step:ae.steps[ae.active]})}N.on("mouseup",Z),N.on("touchend",Z)}z.on("mousedown",$),z.on("touchstart",$)}function x(z,F){var B=z.selectAll("rect."+t.tickRectClass).data(F._visibleSteps),O=F._dims;B.enter().append("rect").classed(t.tickRectClass,!0),B.exit().remove(),B.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(N,Y){var $=Y%O.labelStride===0,te=y.select(this);te.attr({height:$?F.ticklen:F.minorticklen}).call(a.fill,F.tickcolor),L.setTranslate(te,m(F,Y/(F._stepCount-1))-.5*F.tickwidth,($?t.tickOffset:t.minorTickOffset)+O.currentValueTotalHeight)})}function i(z){var F=z._dims;F.labelSteps=[];for(var B=z._stepCount,O=0;O<B;O+=F.labelStride)F.labelSteps.push({fraction:O/(B-1),step:z._visibleSteps[O]})}function E(z,F,B){for(var O=z.select("rect."+t.gripRectClass),N=0,Y=0;Y<F._stepCount;Y++)if(F._visibleSteps[Y]._index===F.active){N=Y;break}var $=m(F,N/(F._stepCount-1));if(!F._invokingCommand){var te=O;B&&F.transition.duration>0&&(te=te.transition().duration(F.transition.duration).ease(F.transition.easing)),te.attr("transform",v($-t.gripWidth*.5,F._dims.currentValueTotalHeight))}}function m(z,F){var B=z._dims;return B.inputAreaStart+t.stepInset+(B.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,F))}function k(z,F){var B=z._dims;return Math.min(1,Math.max(0,(F-t.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*t.stepInset-2*B.inputAreaStart)))}function I(z,F,B){var O=B._dims,N=M.ensureSingle(z,"rect",t.railTouchRectClass,function(Y){Y.call(S,F,z,B).style("pointer-events","all")});N.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,t.tickOffset+B.ticklen+O.labelHeight)}).call(a.fill,B.bgcolor).attr("opacity",0),L.setTranslate(N,0,O.currentValueTotalHeight)}function U(z,F){var B=F._dims,O=B.inputAreaLength-t.railInset*2,N=M.ensureSingle(z,"rect",t.railRectClass);N.attr({width:O,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,F.bordercolor).call(a.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),L.setTranslate(N,t.railInset,(B.inputAreaWidth-t.railWidth)*.5+B.currentValueTotalHeight)}},23243:function(G,H,e){var y=e(98292);G.exports={moduleType:"component",name:y.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(G,H,e){var y=e(39898),P=e(92770),a=e(74875),L=e(73972),M=e(71828),v=M.strTranslate,p=e(91424),r=e(7901),t=e(63893),o=e(37822),n=e(18783).OPPOSITE_SIDE,c=/ [XY][0-9]* /;function u(l,g,f){var T=f.propContainer,h=f.propName,s=f.placeholder,d=f.traceIndex,A=f.avoid||{},w=f.attributes,C=f.transform,b=f.containerGroup,S=l._fullLayout,x=1,i=!1,E=T.title,m=(E&&E.text?E.text:"").trim(),k=E&&E.font?E.font:{},I=k.family,U=k.size,z=k.color,F;h==="title.text"?F="titleText":h.indexOf("axis")!==-1?F="axisTitleText":h.indexOf("colorbar"!==-1)&&(F="colorbarTitleText");var B=l._context.edits[F];m===""?x=0:m.replace(c," % ")===s.replace(c," % ")&&(x=.2,i=!0,B||(m="")),f._meta?m=M.templateString(m,f._meta):S._meta&&(m=M.templateString(m,S._meta));var O=m||B,N;b||(b=M.ensureSingle(S._infolayer,"g","g-"+g),N=S._hColorbarMoveTitle);var Y=b.selectAll("text").data(O?[0]:[]);if(Y.enter().append("text"),Y.text(m).attr("class",g),Y.exit().remove(),!O)return b;function $(J){M.syncOrAsync([te,ie],J)}function te(J){var Z;return!C&&N&&(C={}),C?(Z="",C.rotate&&(Z+="rotate("+[C.rotate,w.x,w.y]+")"),(C.offset||N)&&(Z+=v(0,(C.offset||0)-(N||0)))):Z=null,J.attr("transform",Z),J.style({"font-family":I,"font-size":y.round(U,2)+"px",fill:r.rgb(z),opacity:x*r.opacity(z),"font-weight":a.fontWeight}).attr(w).call(t.convertToTspans,l),a.previousPromises(l)}function ie(J){var Z=y.select(J.node().parentNode);if(A&&A.selection&&A.side&&m){Z.attr("transform",null);var ae=n[A.side],j=A.side==="left"||A.side==="top"?-1:1,q=P(A.pad)?A.pad:2,oe=p.bBox(Z.node()),Q={t:0,b:0,l:0,r:0},K=l._fullLayout._reservedMargin;for(var se in K)for(var ne in K[se]){var fe=K[se][ne];Q[ne]=Math.max(Q[ne],fe)}var ye={left:Q.l,top:Q.t,right:S.width-Q.r,bottom:S.height-Q.b},Ee=A.maxShift||j*(ye[A.side]-oe[A.side]),Te=0;if(Ee<0)Te=Ee;else{var ze=A.offsetLeft||0,ke=A.offsetTop||0;oe.left-=ze,oe.right-=ze,oe.top-=ke,oe.bottom-=ke,A.selection.each(function(){var me=p.bBox(this);M.bBoxIntersect(oe,me,q)&&(Te=Math.max(Te,j*(me[A.side]-oe[ae])+q))}),Te=Math.min(Ee,Te),T._titleScoot=Math.abs(Te)}if(Te>0||Ee<0){var Se={left:[-Te,0],right:[Te,0],top:[0,-Te],bottom:[0,Te]}[A.side];Z.attr("transform",v(Se[0],Se[1]))}}}Y.call($);function ce(){x=0,i=!0,Y.text(s).on("mouseover.opacity",function(){y.select(this).transition().duration(o.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){y.select(this).transition().duration(o.HIDE_PLACEHOLDER).style("opacity",0)})}return B&&(m?Y.on(".opacity",null):ce(),Y.call(t.makeEditable,{gd:l}).on("edit",function(J){d!==void 0?L.call("_guiRestyle",l,h,J,d):L.call("_guiRelayout",l,h,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(J){this.text(J||" ").call(t.positionText,w.x,w.y)})),Y.classed("js-placeholder",i),b}G.exports={draw:u}},7163:function(G,H,e){var y=e(41940),P=e(22399),a=e(1426).extendFlat,L=e(30962).overrideAll,M=e(35025),v=e(44467).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(M({editType:"arraydraw"}),{}),font:y({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(G,H,e){var y=e(71828),P=e(85501),a=e(7163),L=e(75909),M=L.name,v=a.buttons;G.exports=function(o,n){var c={name:M,handleItemDefaults:p};P(o,n,c)};function p(t,o,n){function c(g,f){return y.coerce(t,o,a,g,f)}var u=P(t,o,{name:"buttons",handleItemDefaults:r}),l=c("visible",u.length>0);l&&(c("active"),c("direction"),c("type"),c("showactive"),c("x"),c("y"),y.noneOrAll(t,o,["x","y"]),c("xanchor"),c("yanchor"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),y.coerceFont(c,"font",n.font),c("bgcolor",n.paper_bgcolor),c("bordercolor"),c("borderwidth"))}function r(t,o){function n(u,l){return y.coerce(t,o,v,u,l)}var c=n("visible",t.method==="skip"||Array.isArray(t.args));c&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(G,H,e){var y=e(39898),P=e(74875),a=e(7901),L=e(91424),M=e(71828),v=e(63893),p=e(44467).arrayEditor,r=e(18783).LINE_SPACING,t=e(75909),o=e(25849);G.exports=function(k){var I=k._fullLayout,U=M.filterVisible(I[t.name]);function z(ie){P.autoMargin(k,x(ie))}var F=I._menulayer.selectAll("g."+t.containerClassName).data(U.length>0?[0]:[]);if(F.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){y.select(this).selectAll("g."+t.headerGroupClassName).each(z)}).remove(),U.length!==0){var B=F.selectAll("g."+t.headerGroupClassName).data(U,n);B.enter().append("g").classed(t.headerGroupClassName,!0);for(var O=M.ensureSingle(F,"g",t.dropdownButtonGroupClassName,function(ie){ie.style("pointer-events","all")}),N=0;N<U.length;N++){var Y=U[N];S(k,Y)}var $="updatemenus"+I._uid,te=new o(k,O,$);B.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(E)),B.exit().each(function(ie){O.call(E),z(ie)}).remove(),B.each(function(ie){var ce=y.select(this),J=ie.type==="dropdown"?O:null;P.manageCommandObserver(k,ie,ie.buttons,function(Z){l(k,ie,ie.buttons[Z.index],ce,J,te,Z.index,!0)}),ie.type==="dropdown"?(g(k,ce,O,te,ie),u(O,ie)&&f(k,ce,O,te,ie)):f(k,ce,null,null,ie)})}};function n(m){return m._index}function c(m){return+m.attr(t.menuIndexAttrName)==-1}function u(m,k){return+m.attr(t.menuIndexAttrName)===k._index}function l(m,k,I,U,z,F,B,O){k.active=B,p(m.layout,t.name,k).applyUpdate("active",B),k.type==="buttons"?f(m,U,null,null,k):k.type==="dropdown"&&(z.attr(t.menuIndexAttrName,"-1"),g(m,U,z,F,k),O||f(m,U,z,F,k))}function g(m,k,I,U,z){var F=M.ensureSingle(k,"g",t.headerClassName,function(ie){ie.style("pointer-events","all")}),B=z._dims,O=z.active,N=z.buttons[O]||t.blankHeaderOpts,Y={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},$={width:B.headerWidth,height:B.headerHeight};F.call(s,z,N,m).call(i,z,Y,$);var te=M.ensureSingle(k,"text",t.headerArrowClassName,function(ie){ie.attr("text-anchor","end").call(L.font,z.font).text(t.arrowSymbol[z.direction])});te.attr({x:B.headerWidth-t.arrowOffsetX+z.pad.l,y:B.headerHeight/2+t.textOffsetY+z.pad.t}),F.on("click",function(){I.call(E,String(u(I,z)?-1:z._index)),f(m,k,I,U,z)}),F.on("mouseover",function(){F.call(C)}),F.on("mouseout",function(){F.call(b,z)}),L.setTranslate(k,B.lx,B.ly)}function f(m,k,I,U,z){I||(I=k,I.attr("pointer-events","all"));var F=!c(I)||z.type==="buttons"?z.buttons:[],B=z.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,O=I.selectAll("g."+B).data(M.filterVisible(F)),N=O.enter().append("g").classed(B,!0),Y=O.exit();z.type==="dropdown"?(N.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var $=0,te=0,ie=z._dims,ce=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ce?te=ie.headerHeight+t.gapButtonHeader:$=ie.headerWidth+t.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(te=-t.gapButtonHeader+t.gapButton-ie.openHeight),z.type==="dropdown"&&z.direction==="left"&&($=-t.gapButtonHeader+t.gapButton-ie.openWidth);var J={x:ie.lx+$+z.pad.l,y:ie.ly+te+z.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Z={l:J.x+z.borderwidth,t:J.y+z.borderwidth};O.each(function(ae,j){var q=y.select(this);q.call(s,z,ae,m).call(i,z,J),q.on("click",function(){y.event.defaultPrevented||(ae.execute&&(ae.args2&&z.active===j?(l(m,z,ae,k,I,U,-1),P.executeAPICommand(m,ae.method,ae.args2)):(l(m,z,ae,k,I,U,j),P.executeAPICommand(m,ae.method,ae.args))),m.emit("plotly_buttonclicked",{menu:z,button:ae,active:z.active}))}),q.on("mouseover",function(){q.call(C)}),q.on("mouseout",function(){q.call(b,z),O.call(w,z)})}),O.call(w,z),ce?(Z.w=Math.max(ie.openWidth,ie.headerWidth),Z.h=J.y-Z.t):(Z.w=J.x-Z.l,Z.h=Math.max(ie.openHeight,ie.headerHeight)),Z.direction=z.direction,U&&(O.size()?T(m,k,I,U,z,Z):h(U))}function T(m,k,I,U,z,F){var B=z.direction,O=B==="up"||B==="down",N=z._dims,Y=z.active,$,te,ie;if(O)for(te=0,ie=0;ie<Y;ie++)te+=N.heights[ie]+t.gapButton;else for($=0,ie=0;ie<Y;ie++)$+=N.widths[ie]+t.gapButton;U.enable(F,$,te),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(m){var k=!!m.hbar,I=!!m.vbar;k&&m.hbar.transition().attr("opacity","0").each("end",function(){k=!1,I||m.disable()}),I&&m.vbar.transition().attr("opacity","0").each("end",function(){I=!1,k||m.disable()})}function s(m,k,I,U){m.call(d,k).call(A,k,I,U)}function d(m,k){var I=M.ensureSingle(m,"rect",t.itemRectClassName,function(U){U.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});I.call(a.stroke,k.bordercolor).call(a.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function A(m,k,I,U){var z=M.ensureSingle(m,"text",t.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),F=I.label,B=U._fullLayout._meta;B&&(F=M.templateString(F,B)),z.call(L.font,k.font).text(F).call(v.convertToTspans,U)}function w(m,k){var I=k.active;m.each(function(U,z){var F=y.select(this);z===I&&k.showactive&&F.select("rect."+t.itemRectClassName).call(a.fill,t.activeColor)})}function C(m){m.select("rect."+t.itemRectClassName).call(a.fill,t.hoverColor)}function b(m,k){m.select("rect."+t.itemRectClassName).call(a.fill,k.bgcolor)}function S(m,k){var I=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=L.tester.selectAll("g."+t.dropdownButtonClassName).data(M.filterVisible(k.buttons));U.enter().append("g").classed(t.dropdownButtonClassName,!0);var z=["up","down"].indexOf(k.direction)!==-1;U.each(function($,te){var ie=y.select(this);ie.call(s,k,$,m);var ce=ie.select("."+t.itemTextClassName),J=ce.node()&&L.bBox(ce.node()).width,Z=Math.max(J+t.textPadX,t.minWidth),ae=k.font.size*r,j=v.lineCount(ce),q=Math.max(ae*j,t.minHeight)+t.textOffsetY;q=Math.ceil(q),Z=Math.ceil(Z),I.widths[te]=Z,I.heights[te]=q,I.height1=Math.max(I.height1,q),I.width1=Math.max(I.width1,Z),z?(I.totalWidth=Math.max(I.totalWidth,Z),I.openWidth=I.totalWidth,I.totalHeight+=q+t.gapButton,I.openHeight+=q+t.gapButton):(I.totalWidth+=Z+t.gapButton,I.openWidth+=Z+t.gapButton,I.totalHeight=Math.max(I.totalHeight,q),I.openHeight=I.totalHeight)}),z?I.totalHeight-=t.gapButton:I.totalWidth-=t.gapButton,I.headerWidth=I.width1+t.arrowPadX,I.headerHeight=I.height1,k.type==="dropdown"&&(z?(I.width1+=t.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=t.arrowPadX),U.remove();var F=I.totalWidth+k.pad.l+k.pad.r,B=I.totalHeight+k.pad.t+k.pad.b,O=m._fullLayout._size;I.lx=O.l+O.w*k.x,I.ly=O.t+O.h*(1-k.y);var N="left";M.isRightAnchor(k)&&(I.lx-=F,N="right"),M.isCenterAnchor(k)&&(I.lx-=F/2,N="center");var Y="top";M.isBottomAnchor(k)&&(I.ly-=B,Y="bottom"),M.isMiddleAnchor(k)&&(I.ly-=B/2,Y="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),P.autoMargin(m,x(k),{x:k.x,y:k.y,l:F*({right:1,center:.5}[N]||0),r:F*({left:1,center:.5}[N]||0),b:B*({top:1,middle:.5}[Y]||0),t:B*({bottom:1,middle:.5}[Y]||0)})}function x(m){return t.autoMarginIdRoot+m._index}function i(m,k,I,U){U=U||{};var z=m.select("."+t.itemRectClassName),F=m.select("."+t.itemTextClassName),B=k.borderwidth,O=I.index,N=k._dims;L.setTranslate(m,B+I.x,B+I.y);var Y=["up","down"].indexOf(k.direction)!==-1,$=U.height||(Y?N.heights[O]:N.height1);z.attr({x:0,y:0,width:U.width||(Y?N.width1:N.widths[O]),height:$});var te=k.font.size*r,ie=v.lineCount(F),ce=(ie-1)*te/2;v.positionText(F,t.textOffsetX,$/2-ce+t.textOffsetY),Y?I.y+=N.heights[O]+I.yPad:I.x+=N.widths[O]+I.xPad,I.index++}function E(m,k){m.attr(t.menuIndexAttrName,k||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},20763:function(G,H,e){var y=e(75909);G.exports={moduleType:"component",name:y.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(G,H,e){G.exports=M;var y=e(39898),P=e(7901),a=e(91424),L=e(71828);function M(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(p,r,t){var o=this.gd._fullLayout,n=o.width,c=o.height;this.position=p;var u=this.position.l,l=this.position.w,g=this.position.t,f=this.position.h,T=this.position.direction,h=T==="down",s=T==="left",d=T==="right",A=T==="up",w=l,C=f,b,S,x,i;!h&&!s&&!d&&!A&&(this.position.direction="down",h=!0);var E=h||A;E?(b=u,S=b+w,h?(x=g,i=Math.min(x+C,c),C=i-x):(i=g+C,x=Math.max(i-C,0),C=i-x)):(x=g,i=x+C,s?(S=u+w,b=Math.max(S-w,0),w=S-b):(b=u,S=Math.min(b+w,n),w=S-b)),this._box={l:b,t:x,w,h:C};var m=l>w,k=M.barLength+2*M.barPad,I=M.barWidth+2*M.barPad,U=u,z=g+f;z+I>c&&(z=c-I);var F=this.container.selectAll("rect.scrollbar-horizontal").data(m?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,M.barColor),m?(this.hbar=F.attr({rx:M.barRadius,ry:M.barRadius,x:U,y:z,width:k,height:I}),this._hbarXMin=U+k/2,this._hbarTranslateMax=w-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=f>C,O=M.barWidth+2*M.barPad,N=M.barLength+2*M.barPad,Y=u+l,$=g;Y+O>n&&(Y=n-O);var te=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,M.barColor),B?(this.vbar=te.attr({rx:M.barRadius,ry:M.barRadius,x:Y,y:$,width:O,height:N}),this._vbarYMin=$+N/2,this._vbarTranslateMax=C-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ie=this.id,ce=b-.5,J=B?S+O+.5:S+.5,Z=x-.5,ae=m?i+I+.5:i+.5,j=o._topdefs.selectAll("#"+ie).data(m||B?[0]:[]);if(j.exit().remove(),j.enter().append("clipPath").attr("id",ie).append("rect"),m||B?(this._clipRect=j.select("rect").attr({x:Math.floor(ce),y:Math.floor(Z),width:Math.ceil(J)-Math.floor(ce),height:Math.ceil(ae)-Math.floor(Z)}),this.container.call(a.setClipUrl,ie,this.gd),this.bg.attr({x:u,y:g,width:l,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),m||B){var q=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var oe=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault(),y.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));m&&this.hbar.on(".drag",null).call(oe),B&&this.vbar.on(".drag",null).call(oe)}this.setTranslate(r,t)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=y.event.dx),this.vbar&&(r-=y.event.dy),this.setTranslate(p,r)},M.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=y.event.deltaY),this.vbar&&(r+=y.event.deltaY),this.setTranslate(p,r)},M.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,o=t+this._hbarTranslateMax,n=L.constrain(y.event.x,t,o),c=(n-t)/(o-t),u=this.position.w-this._box.w;p=c*u}if(this.vbar){var l=r+this._vbarYMin,g=l+this._vbarTranslateMax,f=L.constrain(y.event.y,l,g),T=(f-l)/(g-l),h=this.position.h-this._box.h;r=T*h}this.setTranslate(p,r)},M.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,o=this.position.h-this._box.h;if(p=L.constrain(p||0,0,t),r=L.constrain(r||0,0,o),this.translateX=p,this.translateY=r,this.container.call(a.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(a.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var c=r/o;this.vbar.call(a.setTranslate,p,r+c*this._vbarTranslateMax)}}},18783:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(G){G.exports={axisRefDescription:function(H,e,y){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+y+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",y,"of the domain of the","second",H,"axis."].join(" ")}}},22372:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(G){G.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(G,H){H.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],H.STYLE=H.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(G,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},8729:function(G,H,e){H.version=e(11506).version,e(7417),e(98847);for(var y=e(73972),P=H.register=y.register,a=e(10641),L=Object.keys(a),M=0;M<L.length;M++){var v=L[M];v.charAt(0)!=="_"&&(H[v]=a[v]),P({moduleType:"apiMethod",name:v,fn:a[v]})}P(e(67368)),P([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),P([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(24255);var p=e(30211),r=e(74875);H.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},H.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},H.Snapshot=e(44511),H.PlotSchema=e(86281)},24255:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(G,H){H.isLeftAnchor=function(y){return y.xanchor==="left"||y.xanchor==="auto"&&y.x<=.3333333333333333},H.isCenterAnchor=function(y){return y.xanchor==="center"||y.xanchor==="auto"&&y.x>.3333333333333333&&y.x<.6666666666666666},H.isRightAnchor=function(y){return y.xanchor==="right"||y.xanchor==="auto"&&y.x>=.6666666666666666},H.isTopAnchor=function(y){return y.yanchor==="top"||y.yanchor==="auto"&&y.y>=.6666666666666666},H.isMiddleAnchor=function(y){return y.yanchor==="middle"||y.yanchor==="auto"&&y.y>.3333333333333333&&y.y<.6666666666666666},H.isBottomAnchor=function(y){return y.yanchor==="bottom"||y.yanchor==="auto"&&y.y<=.3333333333333333}},26348:function(G,H,e){var y=e(64872),P=y.mod,a=y.modHalf,L=Math.PI,M=2*L;function v(T){return T/180*L}function p(T){return T/L*180}function r(T){return Math.abs(T[1]-T[0])>M-1e-14}function t(T,h){return a(h-T,M)}function o(T,h){return Math.abs(t(T,h))}function n(T,h){if(r(h))return!0;var s,d;h[0]<h[1]?(s=h[0],d=h[1]):(s=h[1],d=h[0]),s=P(s,M),d=P(d,M),s>d&&(d+=M);var A=P(T,M),w=A+M;return A>=s&&A<=d||w>=s&&w<=d}function c(T,h,s,d){if(!n(h,d))return!1;var A,w;return s[0]<s[1]?(A=s[0],w=s[1]):(A=s[1],w=s[0]),T>=A&&T<=w}function u(T,h,s,d,A,w,C){A=A||0,w=w||0;var b=r([s,d]),S,x,i,E,m;b?(S=0,x=L,i=M):s<d?(S=s,i=d):(S=d,i=s),T<h?(E=T,m=h):(E=h,m=T);function k(F,B){return[F*Math.cos(B)+A,w-F*Math.sin(B)]}var I=Math.abs(i-S)<=L?0:1;function U(F,B,O){return"A"+[F,F]+" "+[0,I,O]+" "+k(F,B)}var z;return b?E===null?z="M"+k(m,S)+U(m,x,0)+U(m,i,0)+"Z":z="M"+k(E,S)+U(E,x,0)+U(E,i,0)+"ZM"+k(m,S)+U(m,x,1)+U(m,i,1)+"Z":E===null?(z="M"+k(m,S)+U(m,i,0),C&&(z+="L0,0Z")):z="M"+k(E,S)+"L"+k(m,S)+U(m,i,0)+"L"+k(E,i)+U(E,S,1)+"Z",z}function l(T,h,s,d,A){return u(null,T,h,s,d,A,0)}function g(T,h,s,d,A){return u(null,T,h,s,d,A,1)}function f(T,h,s,d,A,w){return u(T,h,s,d,A,w,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:o,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:c,pathArc:l,pathSector:g,pathAnnulus:f}},73627:function(G,H,e){var y=e(11631).decode,P=e(41965),a=Array.isArray,L=ArrayBuffer,M=DataView;function v(u){return L.isView(u)&&!(u instanceof M)}H.isTypedArray=v;function p(u){return a(u)||v(u)}H.isArrayOrTypedArray=p;function r(u){return!p(u[0])}H.isArray1D=r,H.ensureArray=function(u,l){return a(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function o(u){return u.constructor===ArrayBuffer}H.isArrayBuffer=o,H.decodeTypedArraySpec=function(u){var l=[],g=n(u),f=g.dtype,T=t[f];if(!T)throw new Error('Error in dtype: "'+f+'"');var h=T.BYTES_PER_ELEMENT,s=g.bdata;o(s)||(s=y(s));var d=g.shape===void 0?[s.byteLength/h]:(""+g.shape).split(",");d.reverse();var A=d.length,w,C,b=+d[0],S=h*b,x=0;if(A===1)l=new T(s);else if(A===2)for(w=+d[1],C=0;C<w;C++)l[C]=new T(s,x,b),x+=S;else if(A===3){w=+d[1];for(var i=+d[2],E=0;E<i;E++)for(l[E]=[],C=0;C<w;C++)l[E][C]=new T(s,x,b),x+=S}else throw new Error("ndim: "+A+'is not supported with the shape:"'+g.shape+'"');return l.bdata=g.bdata,l.dtype=g.dtype,l.shape=d.reverse().join(","),u._inputArray=l,l},H.isTypedArraySpec=function(u){return P(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||o(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}H.concat=function(){var u=[],l=!0,g=0,f,T,h,s,d,A,w,C;for(h=0;h<arguments.length;h++)s=arguments[h],A=s.length,A&&(T?u.push(s):(T=s,d=A),a(s)?f=!1:(l=!1,g?f!==s.constructor&&(f=!1):f=s.constructor),g+=A);if(!g)return[];if(!u.length)return T;if(l)return T.concat.apply(T,u);if(f){for(w=new f(g),w.set(T),h=0;h<u.length;h++)s=u[h],w.set(s,d),d+=s.length;return w}for(w=new Array(g),C=0;C<T.length;C++)w[C]=T[C];for(h=0;h<u.length;h++){for(s=u[h],C=0;C<s.length;C++)w[d+C]=s[C];d+=C}return w},H.maxRowLength=function(u){return c(u,Math.max,0)},H.minRowLength=function(u){return c(u,Math.min,1/0)};function c(u,l,g){if(p(u))if(p(u[0])){for(var f=g,T=0;T<u.length;T++)f=l(f,u[T].length);return f}else return u.length;return 0}},95218:function(G,H,e){var y=e(92770),P=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(M){return typeof M=="string"&&(M=M.replace(a,"")),y(M)?Number(M):P}},33306:function(G){G.exports=function(e){var y=e._fullLayout;y._glcanvas&&y._glcanvas.size()&&y._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},86367:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(G,H,e){var y=e(92770),P=e(84267),a=e(9012),L=e(63282),M=e(7901),v=e(37822).DESELECTDIM,p=e(65487),r=e(30587).counter,t=e(64872).modHalf,o=e(73627).isArrayOrTypedArray,n=e(73627).isTypedArraySpec,c=e(73627).decodeTypedArraySpec;H.valObjectMeta={data_array:{coerceFunction:function(l,g,f){g.set(o(l)?l:n(l)?c(l):f)}},enumerated:{coerceFunction:function(l,g,f,T){T.coerceNumber&&(l=+l),T.values.indexOf(l)===-1?g.set(f):g.set(l)},validateFunction:function(l,g){g.coerceNumber&&(l=+l);for(var f=g.values,T=0;T<f.length;T++){var h=String(f[T]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){var s=new RegExp(h.substr(1,h.length-2));if(s.test(l))return!0}else if(l===f[T])return!0}return!1}},boolean:{coerceFunction:function(l,g,f){l===!0||l===!1?g.set(l):g.set(f)}},number:{coerceFunction:function(l,g,f,T){!y(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?g.set(f):g.set(+l)}},integer:{coerceFunction:function(l,g,f,T){l%1||!y(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?g.set(f):g.set(+l)}},string:{coerceFunction:function(l,g,f,T){if(typeof l!="string"){var h=typeof l=="number";T.strict===!0||!h?g.set(f):g.set(String(l))}else T.noBlank&&!l?g.set(f):g.set(l)}},color:{coerceFunction:function(l,g,f){P(l).isValid()?g.set(l):g.set(f)}},colorlist:{coerceFunction:function(l,g,f){function T(h){return P(h).isValid()}!Array.isArray(l)||!l.length?g.set(f):l.every(T)?g.set(l):g.set(f)}},colorscale:{coerceFunction:function(l,g,f){g.set(L.get(l,f))}},angle:{coerceFunction:function(l,g,f){l==="auto"?g.set("auto"):y(l)?g.set(t(+l,360)):g.set(f)}},subplotid:{coerceFunction:function(l,g,f,T){var h=T.regex||r(f);if(typeof l=="string"&&h.test(l)){g.set(l);return}g.set(f)},validateFunction:function(l,g){var f=g.dflt;return l===f?!0:typeof l!="string"?!1:!!r(f).test(l)}},flaglist:{coerceFunction:function(l,g,f,T){if((T.extras||[]).indexOf(l)!==-1){g.set(l);return}if(typeof l!="string"){g.set(f);return}for(var h=l.split("+"),s=0;s<h.length;){var d=h[s];T.flags.indexOf(d)===-1||h.indexOf(d)<s?h.splice(s,1):s++}h.length?g.set(h.join("+")):g.set(f)}},any:{coerceFunction:function(l,g,f){l===void 0?g.set(f):g.set(n(l)?c(l):l)}},info_array:{coerceFunction:function(l,g,f,T){function h(U,z,F){var B,O={set:function(N){B=N}};return F===void 0&&(F=z.dflt),H.valObjectMeta[z.valType].coerceFunction(U,O,F,z),B}if(n(l)&&(l=c(l)),!o(l)){g.set(f);return}var s=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(l)&&o(l[0]),d=T.items,A=[],w=Array.isArray(d),C=w&&s&&o(d[0]),b=s&&w&&!C,S=w&&!b?d.length:l.length,x,i,E,m,k,I;if(f=Array.isArray(f)?f:[],s)for(x=0;x<S;x++)for(A[x]=[],E=o(l[x])?l[x]:[],b?k=d.length:w?k=d[x].length:k=E.length,i=0;i<k;i++)b?m=d[i]:w?m=d[x][i]:m=d,I=h(E[i],m,(f[x]||[])[i]),I!==void 0&&(A[x][i]=I);else for(x=0;x<S;x++)I=h(l[x],w?d[x]:d,f[x]),I!==void 0&&(A[x]=I);g.set(A)},validateFunction:function(l,g){if(!o(l))return!1;var f=g.items,T=Array.isArray(f),h=g.dimensions===2;if(!g.freeLength&&l.length!==f.length)return!1;for(var s=0;s<l.length;s++)if(h){if(!o(l[s])||!g.freeLength&&l[s].length!==f[s].length)return!1;for(var d=0;d<l[s].length;d++)if(!u(l[s][d],T?f[s][d]:f))return!1}else if(!u(l[s],T?f[s]:f))return!1;return!0}}},H.coerce=function(l,g,f,T,h){var s=p(f,T).get(),d=p(l,T),A=p(g,T),w=d.get(),C=g._template;if(w===void 0&&C&&(w=p(C,T).get(),C=0),h===void 0&&(h=s.dflt),s.arrayOk){if(o(w))return A.set(w),w;if(n(w))return w=c(w),A.set(w),w}var b=H.valObjectMeta[s.valType].coerceFunction;b(w,A,h,s);var S=A.get();return C&&S===h&&!u(w,s)&&(w=p(C,T).get(),b(w,A,h,s),S=A.get()),S},H.coerce2=function(l,g,f,T,h){var s=p(l,T),d=H.coerce(l,g,f,T,h),A=s.get();return A!=null?d:!1},H.coerceFont=function(l,g,f){var T={};return f=f||{},T.family=l(g+".family",f.family),T.size=l(g+".size",f.size),T.color=l(g+".color",f.color),T},H.coercePattern=function(l,g,f,T){var h=l(g+".shape");if(h){l(g+".solidity"),l(g+".size");var s=l(g+".fillmode"),d=s==="overlay";if(!T){var A=l(g+".bgcolor",d?f:void 0);l(g+".fgcolor",d?M.contrast(A):f)}l(g+".fgopacity",d?.5:1)}},H.coerceHoverinfo=function(l,g,f){var T=g._module.attributes,h=T.hoverinfo?T:a,s=h.hoverinfo,d;if(f._dataLength===1){var A=s.dflt==="all"?s.flags.slice():s.dflt.split("+");A.splice(A.indexOf("name"),1),d=A.join("+")}return H.coerce(l,g,h,"hoverinfo",d)},H.coerceSelectionMarkerOpacity=function(l,g){if(l.marker){var f=l.marker.opacity;if(f!==void 0){var T,h;!o(f)&&!l.selected&&!l.unselected&&(T=f,h=v*f),g("selected.marker.opacity",T),g("unselected.marker.opacity",h)}}};function u(l,g){var f=H.valObjectMeta[g.valType];if(g.arrayOk&&o(l))return!0;if(f.validateFunction)return f.validateFunction(l,g);var T={},h=T,s={set:function(d){h=d}};return f.coerceFunction(l,s,T,g),h!==T}H.validate=u},41631:function(G,H,e){var y=e(84096).i$,P=e(92770),a=e(47769),L=e(64872).mod,M=e(50606),v=M.BADNUM,p=M.ONEDAY,r=M.ONEHOUR,t=M.ONEMIN,o=M.ONESEC,n=M.EPOCHJD,c=e(73972),u=e(84096).g0,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,f=new Date().getFullYear()-70;function T(z){return z&&c.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}H.dateTick0=function(z,F){var B=h(z,!!F);if(F<2)return B;var O=H.dateTime2ms(B,z);return O+=p*(F-1),H.ms2DateTime(O,0,z)};function h(z,F){return T(z)?F?c.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:c.getComponentMethod("calendars","CANONICAL_TICK")[z]:F?"2000-01-02":"2000-01-01"}H.dfltRange=function(z){return T(z)?c.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},H.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var s,d;H.dateTime2ms=function(z,F){if(H.isJSDate(z)){var B=z.getTimezoneOffset()*t,O=(z.getUTCMinutes()-z.getMinutes())*t+(z.getUTCSeconds()-z.getSeconds())*o+(z.getUTCMilliseconds()-z.getMilliseconds());if(O){var N=3*t;B=B-N/2+L(O-B+N/2,N)}return z=Number(z)-B,z>=s&&z<=d?z:v}if(typeof z!="string"&&typeof z!="number")return v;z=String(z);var Y=T(F),$=z.charAt(0);Y&&($==="G"||$==="g")&&(z=z.substr(1),F="");var te=Y&&F.substr(0,7)==="chinese",ie=z.match(te?g:l);if(!ie)return v;var ce=ie[1],J=ie[3]||"1",Z=Number(ie[5]||1),ae=Number(ie[7]||0),j=Number(ie[9]||0),q=Number(ie[11]||0);if(Y){if(ce.length===2)return v;ce=Number(ce);var oe;try{var Q=c.getComponentMethod("calendars","getCal")(F);if(te){var K=J.charAt(J.length-1)==="i";J=parseInt(J,10),oe=Q.newDate(ce,Q.toMonthIndex(ce,J,K),Z)}else oe=Q.newDate(ce,Number(J),Z)}catch{return v}return oe?(oe.toJD()-n)*p+ae*r+j*t+q*o:v}ce.length===2?ce=(Number(ce)+2e3-f)%100+f:ce=Number(ce),J-=1;var se=new Date(Date.UTC(2e3,J,Z,ae,j));return se.setUTCFullYear(ce),se.getUTCMonth()!==J||se.getUTCDate()!==Z?v:se.getTime()+q*o},s=H.MIN_MS=H.dateTime2ms("-9999"),d=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(z,F){return H.dateTime2ms(z,F)!==v};function A(z,F){return String(z+Math.pow(10,F)).substr(1)}var w=90*p,C=3*r,b=5*t;H.ms2DateTime=function(z,F,B){if(typeof z!="number"||!(z>=s&&z<=d))return v;F||(F=0);var O=Math.floor(L(z+.05,1)*10),N=Math.round(z-O/10),Y,$,te,ie,ce,J;if(T(B)){var Z=Math.floor(N/p)+n,ae=Math.floor(L(z,p));try{Y=c.getComponentMethod("calendars","getCal")(B).fromJD(Z).formatDate("yyyy-mm-dd")}catch{Y=u("G%Y-%m-%d")(new Date(N))}if(Y.charAt(0)==="-")for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;$=F<w?Math.floor(ae/r):0,te=F<w?Math.floor(ae%r/t):0,ie=F<C?Math.floor(ae%t/o):0,ce=F<b?ae%o*10+O:0}else J=new Date(N),Y=u("%Y-%m-%d")(J),$=F<w?J.getUTCHours():0,te=F<w?J.getUTCMinutes():0,ie=F<C?J.getUTCSeconds():0,ce=F<b?J.getUTCMilliseconds()*10+O:0;return S(Y,$,te,ie,ce)},H.ms2DateTimeLocal=function(z){if(!(z>=s+p&&z<=d-p))return v;var F=Math.floor(L(z+.05,1)*10),B=new Date(Math.round(z-F/10)),O=y("%Y-%m-%d")(B),N=B.getHours(),Y=B.getMinutes(),$=B.getSeconds(),te=B.getUTCMilliseconds()*10+F;return S(O,N,Y,$,te)};function S(z,F,B,O,N){if((F||B||O||N)&&(z+=" "+A(F,2)+":"+A(B,2),(O||N)&&(z+=":"+A(O,2),N))){for(var Y=4;N%10===0;)Y-=1,N/=10;z+="."+A(N,Y)}return z}H.cleanDate=function(z,F,B){if(z===v)return F;if(H.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(T(B))return a.error("JS Dates and milliseconds are incompatible with world calendars",z),F;if(z=H.ms2DateTimeLocal(+z),!z&&F!==void 0)return F}else if(!H.isDateTime(z,B))return a.error("unrecognized date",z),F;return z};var x=/%\d?f/g,i=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function m(z,F,B,O){z=z.replace(x,function(Y){var $=Math.min(+Y.charAt(1)||6,6),te=(F/1e3%1+2).toFixed($).substr(2).replace(/0+$/,"")||"0";return te});var N=new Date(Math.floor(F+.05));if(z=z.replace(i,function(){return E[B("%q")(N)]}),T(O))try{z=c.getComponentMethod("calendars","worldCalFmt")(z,F,O)}catch{return"Invalid"}return B(z)(N)}var k=[59,59.9,59.99,59.999,59.9999];function I(z,F){var B=L(z+.05,p),O=A(Math.floor(B/r),2)+":"+A(L(Math.floor(B/t),60),2);if(F!=="M"){P(F)||(F=0);var N=Math.min(L(z/o,60),k[F]),Y=(100+N).toFixed(F).substr(1);F>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+Y}return O}H.formatDate=function(z,F,B,O,N,Y){if(N=T(N)&&N,!F)if(B==="y")F=Y.year;else if(B==="m")F=Y.month;else if(B==="d")F=Y.dayMonth+`
`+Y.year;else return I(z,B)+`
`+m(Y.dayMonthYear,z,O,N);return m(F,z,O,N)};var U=3*p;H.incrementMonth=function(z,F,B){B=T(B)&&B;var O=L(z,p);if(z=Math.round(z-O),B)try{var N=Math.round(z/p)+n,Y=c.getComponentMethod("calendars","getCal")(B),$=Y.fromJD(N);return F%12?Y.add($,F,"m"):Y.add($,F/12,"y"),($.toJD()-n)*p+O}catch{a.error("invalid ms "+z+" in calendar "+B)}var te=new Date(z+U);return te.setUTCMonth(te.getUTCMonth()+F)+O-U},H.findExactDates=function(z,F){for(var B=0,O=0,N=0,Y=0,$,te,ie=T(F)&&c.getComponentMethod("calendars","getCal")(F),ce=0;ce<z.length;ce++){if(te=z[ce],!P(te)){Y++;continue}if(!(te%p))if(ie)try{$=ie.fromJD(te/p+n),$.day()===1?$.month()===1?B++:O++:N++}catch{}else $=new Date(te),$.getUTCDate()===1?$.getUTCMonth()===0?B++:O++:N++}O+=B,N+=O;var J=z.length-Y;return{exactYears:B/J,exactMonths:O/J,exactDays:N/J}}},24401:function(G,H,e){var y=e(39898),P=e(47769),a=e(35657),L=e(79576);function M(f){var T;if(typeof f=="string"){if(T=document.getElementById(f),T===null)throw new Error("No DOM element with id '"+f+"' exists on the page.");return T}else if(f==null)throw new Error("DOM element provided is null or undefined");return f}function v(f){var T=y.select(f);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(f){var T=f&&f.parentNode;T&&T.removeChild(f)}function r(f,T){t("global",f,T)}function t(f,T,h){var s="plotly.js-style-"+f,d=document.getElementById(s);d||(d=document.createElement("style"),d.setAttribute("id",s),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var A=d.sheet;A.insertRule?A.insertRule(T+"{"+h+"}",0):A.addRule?A.addRule(T,h,0):P.warn("addStyleRule failed")}function o(f){var T="plotly.js-style-"+f,h=document.getElementById(T);h&&p(h)}function n(f){var T=u(f),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(s){var d=c(s);if(d){var A=a.convertCssMatrix(d);h=L.multiply(h,h,A)}}),h}function c(f){var T=window.getComputedStyle(f,null),h=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function u(f){for(var T=[];l(f);)T.push(f),f=f.parentNode;return T}function l(f){return f&&(f instanceof Element||f instanceof HTMLElement)}function g(f,T){return f&&T&&f.top===T.top&&f.left===T.left&&f.right===T.right&&f.bottom===T.bottom}G.exports={getGraphDiv:M,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:o,getFullTransformMatrix:n,getElementTransformMatrix:c,getElementAndAncestors:u,equalDomRects:g}},11086:function(G,H,e){var y=e(15398).EventEmitter,P={init:function(a){if(a._ev instanceof y)return a;var L=new y,M=new y;return a._ev=L,a._internalEv=M,a.on=L.on.bind(L),a.once=L.once.bind(L),a.removeListener=L.removeListener.bind(L),a.removeAllListeners=L.removeAllListeners.bind(L),a._internalOn=M.on.bind(M),a._internalOnce=M.once.bind(M),a._removeInternalListener=M.removeListener.bind(M),a._removeAllInternalListeners=M.removeAllListeners.bind(M),a.emit=function(v,p){typeof jQuery<"u"&&jQuery(a).trigger(v,p),L.emit(v,p),M.emit(v,p)},a},triggerHandler:function(a,L,M){var v,p;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(L,M));var r=a._ev;if(!r)return v;var t=r._events[L];if(!t)return v;function o(c){if(c.listener){if(r.removeListener(L,c.listener),!c.fired)return c.fired=!0,c.listener.apply(r,[M])}else return c.apply(r,[M])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)o(t[n]);return p=o(t[n]),v!==void 0?v:p},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};G.exports=P},1426:function(G,H,e){var y=e(41965),P=Array.isArray;function a(M,v){var p,r;for(p=0;p<M.length;p++){if(r=M[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}H.extendFlat=function(){return L(arguments,!1,!1,!1)},H.extendDeep=function(){return L(arguments,!0,!1,!1)},H.extendDeepAll=function(){return L(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(M,v,p,r){var t=M[0],o=M.length,n,c,u,l,g,f,T;if(o===2&&P(t)&&P(M[1])&&t.length===0){if(T=a(M[1],t),T)return t;t.splice(0,t.length)}for(var h=1;h<o;h++){n=M[h];for(c in n)u=t[c],l=n[c],r&&P(l)?t[c]=l:v&&l&&(y(l)||(g=P(l)))?(g?(g=!1,f=u&&P(u)?u:[]):f=u&&y(u)?u:{},t[c]=L([f,l],v,p,r)):(typeof l<"u"||p)&&(t[c]=l)}return t}},75744:function(G){G.exports=function(e){for(var y={},P=[],a=0,L=0;L<e.length;L++){var M=e[L];y[M]!==1&&(y[M]=1,P[a++]=M)}return P}},76756:function(G){G.exports=function(a){for(var L=y(a)?e:H,M=[],v=0;v<a.length;v++){var p=a[v];L(p)&&M.push(p)}return M};function H(P){return P.visible===!0}function e(P){var a=P[0].trace;return a.visible===!0&&a._length!==0}function y(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},41327:function(G,H,e){var y=e(39898),P=e(24138),a=e(30774),L=e(29261),M=e(85268),v=e(23389),p=e(47769),r=e(41965),t=e(65487),o=e(61082),n=Object.keys(P),c={"ISO-3":v,"USA-states":v,"country names":u};function u(A){for(var w=0;w<n.length;w++){var C=n[w],b=new RegExp(P[C]);if(b.test(A.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+A+"."),!1}function l(A,w,C){if(!w||typeof w!="string")return!1;var b=c[A](w),S,x,i;if(b){if(A==="USA-states")for(S=[],i=0;i<C.length;i++)x=C[i],x.properties&&x.properties.gu&&x.properties.gu==="USA"&&S.push(x);else S=C;for(i=0;i<S.length;i++)if(x=S[i],x.id===b)return x;p.log(["Location with id",b,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function g(A){var w=A.geometry,C=w.coordinates,b=A.id,S=[],x,i,E,m;function k(I){for(var U=0;U<I.length-1;U++)if(I[U][0]>0&&I[U+1][0]<0)return U;return null}switch(b==="RUS"||b==="FJI"?x=function(I){var U;if(k(I)===null)U=I;else for(U=new Array(I.length),m=0;m<I.length;m++)U[m]=[I[m][0]<0?I[m][0]+360:I[m][0],I[m][1]];S.push(o.tester(U))}:b==="ATA"?x=function(I){var U=k(I);if(U===null)return S.push(o.tester(I));var z=new Array(I.length+1),F=0;for(m=0;m<I.length;m++)m>U?z[F++]=[I[m][0]+360,I[m][1]]:m===U?(z[F++]=I[m],z[F++]=[I[m][0],-90]):z[F++]=I[m];var B=o.tester(z);B.pts.pop(),S.push(B)}:x=function(I){S.push(o.tester(I))},w.type){case"MultiPolygon":for(i=0;i<C.length;i++)for(E=0;E<C[i].length;E++)x(C[i][E]);break;case"Polygon":for(i=0;i<C.length;i++)x(C[i]);break}return S}function f(A){var w=A.geojson,C=window.PlotlyGeoAssets||{},b=typeof w=="string"?C[w]:w;return r(b)?b:(p.error("Oops ... something went wrong when fetching "+w),!1)}function T(A){var w=A[0].trace,C=f(w);if(!C)return!1;var b={},S=[],x;for(x=0;x<w._length;x++){var i=A[x];(i.loc||i.loc===0)&&(b[i.loc]=i)}function E(I){var U=t(I,w.featureidkey||"id").get(),z=b[U];if(z){var F=I.geometry;if(F.type==="Polygon"||F.type==="MultiPolygon"){var B={type:"Feature",id:U,geometry:F,properties:{}};B.properties.ct=h(B),z.fIn=I,z.fOut=B,S.push(B)}else p.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete b[U]}switch(C.type){case"FeatureCollection":var m=C.features;for(x=0;x<m.length;x++)E(m[x]);break;case"Feature":E(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in b)p.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return S}function h(A){var w=A.geometry,C;if(w.type==="MultiPolygon")for(var b=w.coordinates,S=0,x=0;x<b.length;x++){var i={type:"Polygon",coordinates:b[x]},E=a.default(i);E>S&&(S=E,C=i)}else C=w;return L.default(C).geometry.coordinates}function s(A){var w=window.PlotlyGeoAssets||{},C=[];function b(m){return new Promise(function(k,I){y.json(m,function(U,z){if(U){delete w[m];var F=U.status===404?'GeoJSON at URL "'+m+'" does not exist.':"Unexpected error while fetching from "+m;return I(new Error(F))}return w[m]=z,k(z)})})}function S(m){return new Promise(function(k,I){var U=0,z=setInterval(function(){if(w[m]&&w[m]!=="pending")return clearInterval(z),k(w[m]);if(U>100)return clearInterval(z),I("Unexpected error while fetching from "+m);U++},50)})}for(var x=0;x<A.length;x++){var i=A[x][0].trace,E=i.geojson;typeof E=="string"&&(w[E]?w[E]==="pending"&&C.push(S(E)):(w[E]="pending",C.push(b(E))))}return C}function d(A){return M.default(A)}G.exports={locationToFeature:l,feature2polygons:g,getTraceGeojson:f,extractTraceFeature:T,fetchTraceGeoData:s,computeBbox:d}},18214:function(G,H,e){var y=e(50606).BADNUM;H.calcTraceToLineCoords=function(P){for(var a=P[0].trace,L=a.connectgaps,M=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==y?v.push(t):!L&&v.length>0&&(M.push(v),v=[])}return v.length>0&&M.push(v),M},H.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},H.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var a=new Array(P.length),L=0;L<P.length;L++)a[L]=[P[L]];return{type:"MultiPolygon",coordinates:a}},H.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(G,H,e){var y=e(64872).mod;H.segmentsIntersect=P;function P(p,r,t,o,n,c,u,l){var g=t-p,f=n-p,T=u-n,h=o-r,s=c-r,d=l-c,A=g*d-T*h;if(A===0)return null;var w=(f*d-T*s)/A,C=(f*h-g*s)/A;return C<0||C>1||w<0||w>1?null:{x:p+g*w,y:r+h*w}}H.segmentDistance=function(r,t,o,n,c,u,l,g){if(P(r,t,o,n,c,u,l,g))return 0;var f=o-r,T=n-t,h=l-c,s=g-u,d=f*f+T*T,A=h*h+s*s,w=Math.min(a(f,T,d,c-r,u-t),a(f,T,d,l-r,g-t),a(h,s,A,r-c,t-u),a(h,s,A,o-c,n-u));return Math.sqrt(w)};function a(p,r,t,o,n){var c=o*p+n*r;if(c<0)return o*o+n*n;if(c>t){var u=o-p,l=n-r;return u*u+l*l}else{var g=o*r-n*p;return g*g/t}}var L,M,v;H.getTextLocation=function(r,t,o,n){if((r!==M||n!==v)&&(L={},M=r,v=n),L[o])return L[o];var c=r.getPointAtLength(y(o-n/2,t)),u=r.getPointAtLength(y(o+n/2,t)),l=Math.atan((u.y-c.y)/(u.x-c.x)),g=r.getPointAtLength(y(o,t)),f=(g.x*4+c.x+u.x)/6,T=(g.y*4+c.y+u.y)/6,h={x:f,y:T,theta:l};return L[o]=h,h},H.clearLocationCache=function(){M=null},H.getVisibleSegment=function(r,t,o){var n=t.left,c=t.right,u=t.top,l=t.bottom,g=0,f=r.getTotalLength(),T=f,h,s;function d(w){var C=r.getPointAtLength(w);w===0?h=C:w===f&&(s=C);var b=C.x<n?n-C.x:C.x>c?C.x-c:0,S=C.y<u?u-C.y:C.y>l?C.y-l:0;return Math.sqrt(b*b+S*S)}for(var A=d(g);A;){if(g+=A+o,g>T)return;A=d(g)}for(A=d(T);A;){if(T-=A+o,g>T)return;A=d(T)}return{min:g,max:T,len:T-g,total:f,isClosed:g===0&&T===f&&Math.abs(h.x-s.x)<.1&&Math.abs(h.y-s.y)<.1}},H.findPointOnPath=function(r,t,o,n){n=n||{};for(var c=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,g=r.getPointAtLength(0)[o]>r.getPointAtLength(c)[o]?-1:1,f=0,T=0,h=c,s,d,A;f<l;){if(s=(T+h)/2,d=r.getPointAtLength(s),A=d[o]-t,Math.abs(A)<u)return d;g*A>0?h=s:T=s,f++}return d}},81697:function(G,H,e){var y=e(92770),P=e(84267),a=e(25075),L=e(21081),M=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,p=a(M),r=1;function t(l,g){var f=l;return f[3]*=g,f}function o(l){if(y(l))return p;var g=a(l);return g.length?g:p}function n(l){return y(l)?l:r}function c(l,g,f){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var h=v(T),s=v(g),d=L.extractOpts(l),A=[],w,C,b,S,x;if(d.colorscale!==void 0?w=L.makeColorScaleFuncFromTrace(l):w=o,h?C=function(E,m){return E[m]===void 0?p:a(w(E[m]))}:C=o,s?b=function(E,m){return E[m]===void 0?r:n(E[m])}:b=n,h||s)for(var i=0;i<f;i++)S=C(T,i),x=b(g,i),A[i]=t(S,x);else A=t(a(T),g);return A}function u(l){var g=L.extractOpts(l),f=g.colorscale;return g.reversescale&&(f=L.flipScale(g.colorscale)),f.map(function(T){var h=T[0],s=P(T[1]),d=s.toRgb();return{index:h,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:c,parseColorScale:u}},28984:function(G,H,e){var y=e(23389);function P(a){return[a]}G.exports={keyFun:function(a){return a.key},repeat:P,descend:y,wrap:P,unwrap:function(a){return a[0]}}},23389:function(G){G.exports=function(e){return e}},39240:function(G){G.exports=function(e,y){if(!y)return e;var P=1/Math.abs(y),a=P>1?(P*e+P*y)/P:e+y,L=String(a).length;if(L>16){var M=String(y).length,v=String(e).length;if(L>=v+M){var p=parseFloat(a).toPrecision(12);p.indexOf("e+")===-1&&(a=+p)}}return a}},71828:function(G,H,e){var y=e(39898),P=e(84096).g0,a=e(60721).WU,L=e(92770),M=e(50606),v=M.FP_SAFE,p=-v,r=M.BADNUM,t=G.exports={};t.adjustFormat=function(oe){return!oe||/^\d[.]\df/.test(oe)||/[.]\d%/.test(oe)?oe:oe==="0.f"?"~f":/^\d%/.test(oe)?"~%":/^\ds/.test(oe)?"~s":!/^[~,.0$]/.test(oe)&&/[&fps]/.test(oe)?"~"+oe:oe};var o={};t.warnBadFormat=function(q){var oe=String(q);o[oe]||(o[oe]=1,t.warn('encountered bad format: "'+oe+'"'))},t.noFormat=function(q){return String(q)},t.numberFormat=function(q){var oe;try{oe=a(t.adjustFormat(q))}catch{return t.warnBadFormat(q),t.noFormat}return oe},t.nestedProperty=e(65487),t.keyedContainer=e(66636),t.relativeAttr=e(6962),t.isPlainObject=e(41965),t.toLogRange=e(58163),t.relinkPrivateKeys=e(51332);var n=e(73627);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var c=e(64872);t.mod=c.mod,t.modHalf=c.modHalf;var u=e(96554);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(41631);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var g=e(65888);t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=e(78607);var f=e(80038);t.aggNums=f.aggNums,t.len=f.len,t.mean=f.mean,t.median=f.median,t.midRange=f.midRange,t.variance=f.variance,t.stdev=f.stdev,t.interp=f.interp;var T=e(35657);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var h=e(26348);t.deg2rad=h.deg2rad,t.rad2deg=h.rad2deg,t.angleDelta=h.angleDelta,t.angleDist=h.angleDist,t.isFullCircle=h.isFullCircle,t.isAngleInsideSector=h.isAngleInsideSector,t.isPtInsideSector=h.isPtInsideSector,t.pathArc=h.pathArc,t.pathSector=h.pathSector,t.pathAnnulus=h.pathAnnulus;var s=e(99863);t.isLeftAnchor=s.isLeftAnchor,t.isCenterAnchor=s.isCenterAnchor,t.isRightAnchor=s.isRightAnchor,t.isTopAnchor=s.isTopAnchor,t.isMiddleAnchor=s.isMiddleAnchor,t.isBottomAnchor=s.isBottomAnchor;var d=e(87642);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var A=e(1426);t.extendFlat=A.extendFlat,t.extendDeep=A.extendDeep,t.extendDeepAll=A.extendDeepAll,t.extendDeepNoArrays=A.extendDeepNoArrays;var w=e(47769);t.log=w.log,t.warn=w.warn,t.error=w.error;var C=e(30587);t.counterRegex=C.counter;var b=e(79990);t.throttle=b.throttle,t.throttleDone=b.done,t.clearThrottle=b.clear;var S=e(24401);t.getGraphDiv=S.getGraphDiv,t.isPlotDiv=S.isPlotDiv,t.removeElement=S.removeElement,t.addStyleRule=S.addStyleRule,t.addRelatedStyleRule=S.addRelatedStyleRule,t.deleteRelatedStyleRule=S.deleteRelatedStyleRule,t.getFullTransformMatrix=S.getFullTransformMatrix,t.getElementTransformMatrix=S.getElementTransformMatrix,t.getElementAndAncestors=S.getElementAndAncestors,t.equalDomRects=S.equalDomRects,t.clearResponsive=e(86367),t.preserveDrawingBuffer=e(45142),t.makeTraceGroups=e(77310),t._=e(15867),t.notifier=e(75046),t.filterUnique=e(75744),t.filterVisible=e(76756),t.pushUnique=e(75138),t.increment=e(39240),t.cleanNumber=e(95218),t.ensureNumber=function(oe){return L(oe)?(oe=Number(oe),oe>v||oe<p?r:oe):r},t.isIndex=function(q,oe){return oe!==void 0&&q>=oe?!1:L(q)&&q>=0&&q%1===0},t.noop=e(64213),t.identity=e(23389),t.repeat=function(q,oe){for(var Q=new Array(oe),K=0;K<oe;K++)Q[K]=q;return Q},t.swapAttrs=function(q,oe,Q,K){Q||(Q="x"),K||(K="y");for(var se=0;se<oe.length;se++){var ne=oe[se],fe=t.nestedProperty(q,ne.replace("?",Q)),ye=t.nestedProperty(q,ne.replace("?",K)),Ee=fe.get();fe.set(ye.get()),ye.set(Ee)}},t.raiseToTop=function(oe){oe.parentNode.appendChild(oe)},t.cancelTransition=function(q){return q.transition().duration(0)},t.constrain=function(q,oe,Q){return oe>Q?Math.max(Q,Math.min(oe,q)):Math.max(oe,Math.min(Q,q))},t.bBoxIntersect=function(q,oe,Q){return Q=Q||0,q.left<=oe.right+Q&&oe.left<=q.right+Q&&q.top<=oe.bottom+Q&&oe.top<=q.bottom+Q},t.simpleMap=function(q,oe,Q,K,se){for(var ne=q.length,fe=new Array(ne),ye=0;ye<ne;ye++)fe[ye]=oe(q[ye],Q,K,se);return fe},t.randstr=function q(oe,Q,K,se){if(K||(K=16),Q===void 0&&(Q=24),Q<=0)return"0";var ne=Math.log(Math.pow(2,Q))/Math.log(K),fe="",ye,Ee,Te;for(ye=2;ne===1/0;ye*=2)ne=Math.log(Math.pow(2,Q/ye))/Math.log(K)*ye;var ze=ne-Math.floor(ne);for(ye=0;ye<Math.floor(ne);ye++)Te=Math.floor(Math.random()*K).toString(K),fe=Te+fe;ze&&(Ee=Math.pow(K,ze),Te=Math.floor(Math.random()*Ee).toString(K),fe=Te+fe);var ke=parseInt(fe,K);return oe&&oe[fe]||ke!==1/0&&ke>=Math.pow(2,Q)?se>10?(t.warn("randstr failed uniqueness"),fe):q(oe,Q,K,(se||0)+1):fe},t.OptionControl=function(q,oe){q||(q={}),oe||(oe="opt");var Q={};return Q.optionList=[],Q._newoption=function(K){K[oe]=q,Q[K.name]=K,Q.optionList.push(K)},Q["_"+oe]=q,Q},t.smooth=function(q,oe){if(oe=Math.round(oe)||0,oe<2)return q;var Q=q.length,K=2*Q,se=2*oe-1,ne=new Array(se),fe=new Array(Q),ye,Ee,Te,ze;for(ye=0;ye<se;ye++)ne[ye]=(1-Math.cos(Math.PI*(ye+1)/oe))/(2*oe);for(ye=0;ye<Q;ye++){for(ze=0,Ee=0;Ee<se;Ee++)Te=ye+Ee+1-oe,Te<-Q?Te-=K*Math.round(Te/K):Te>=K&&(Te-=K*Math.floor(Te/K)),Te<0?Te=-1-Te:Te>=Q&&(Te=K-1-Te),ze+=q[Te]*ne[Ee];fe[ye]=ze}return fe},t.syncOrAsync=function(q,oe,Q){var K,se;function ne(){return t.syncOrAsync(q,oe,Q)}for(;q.length;)if(se=q.splice(0,1)[0],K=se(oe),K&&K.then)return K.then(ne);return Q&&Q(oe)},t.stripTrailingSlash=function(q){return q.substr(-1)==="/"?q.substr(0,q.length-1):q},t.noneOrAll=function(q,oe,Q){if(q){var K=!1,se=!0,ne,fe;for(ne=0;ne<Q.length;ne++)fe=q[Q[ne]],fe!=null?K=!0:se=!1;if(K&&!se)for(ne=0;ne<Q.length;ne++)q[Q[ne]]=oe[Q[ne]]}},t.mergeArray=function(q,oe,Q,K){var se=typeof K=="function";if(t.isArrayOrTypedArray(q))for(var ne=Math.min(q.length,oe.length),fe=0;fe<ne;fe++){var ye=q[fe];oe[fe][Q]=se?K(ye):ye}},t.mergeArrayCastPositive=function(q,oe,Q){return t.mergeArray(q,oe,Q,function(K){var se=+K;return isFinite(se)&&se>0?se:0})},t.fillArray=function(q,oe,Q,K){if(K=K||t.identity,t.isArrayOrTypedArray(q))for(var se=0;se<oe.length;se++)oe[se][Q]=K(q[se])},t.castOption=function(q,oe,Q,K){K=K||t.identity;var se=t.nestedProperty(q,Q).get();return t.isArrayOrTypedArray(se)?Array.isArray(oe)&&t.isArrayOrTypedArray(se[oe[0]])?K(se[oe[0]][oe[1]]):K(se[oe]):se},t.extractOption=function(q,oe,Q,K){if(Q in q)return q[Q];var se=t.nestedProperty(oe,K).get();if(!Array.isArray(se))return se};function x(q){var oe={};for(var Q in q)for(var K=q[Q],se=0;se<K.length;se++)oe[K[se]]=+Q;return oe}t.tagSelected=function(q,oe,Q){var K=oe.selectedpoints,se=oe._indexToPoints,ne;se&&(ne=x(se));function fe(ke){return ke!==void 0&&ke<q.length}for(var ye=0;ye<K.length;ye++){var Ee=K[ye];if(t.isIndex(Ee)||t.isArrayOrTypedArray(Ee)&&t.isIndex(Ee[0])&&t.isIndex(Ee[1])){var Te=ne?ne[Ee]:Ee,ze=Q?Q[Te]:Te;fe(ze)&&(q[ze].selected=1)}}},t.selIndices2selPoints=function(q){var oe=q.selectedpoints,Q=q._indexToPoints;if(Q){for(var K=x(Q),se=[],ne=0;ne<oe.length;ne++){var fe=oe[ne];if(t.isIndex(fe)){var ye=K[fe];t.isIndex(ye)&&se.push(ye)}}return se}else return oe},t.getTargetArray=function(q,oe){var Q=oe.target;if(typeof Q=="string"&&Q){var K=t.nestedProperty(q,Q).get();return t.isArrayOrTypedArray(K)?K:!1}else if(t.isArrayOrTypedArray(Q))return Q;return!1};function i(q,oe,Q){var K={};typeof oe!="object"&&(oe={});var se=Q==="pieLike"?-1:3,ne=Object.keys(q),fe,ye,Ee;for(fe=0;fe<ne.length;fe++)ye=ne[fe],Ee=q[ye],!(ye.charAt(0)==="_"||typeof Ee=="function")&&(ye==="module"?K[ye]=Ee:Array.isArray(Ee)?ye==="colorscale"||se===-1?K[ye]=Ee.slice():K[ye]=Ee.slice(0,se):t.isTypedArray(Ee)?se===-1?K[ye]=Ee.subarray():K[ye]=Ee.subarray(0,se):Ee&&typeof Ee=="object"?K[ye]=i(q[ye],oe[ye],Q):K[ye]=Ee);for(ne=Object.keys(oe),fe=0;fe<ne.length;fe++)ye=ne[fe],Ee=oe[ye],(typeof Ee!="object"||!(ye in K)||typeof K[ye]!="object")&&(K[ye]=Ee);return K}t.minExtend=i,t.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},t.containsAny=function(q,oe){for(var Q=0;Q<oe.length;Q++)if(q.indexOf(oe[Q])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var m=/iPad|iPhone|iPod/;t.isIOS=function(){return m.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var q=k.exec(window.navigator.userAgent);if(q&&q.length===2){var oe=parseInt(q[1]);if(!isNaN(oe))return oe}return null},t.isD3Selection=function(q){return q instanceof y.selection},t.ensureSingle=function(q,oe,Q,K){var se=q.select(oe+(Q?"."+Q:""));if(se.size())return se;var ne=q.append(oe);return Q&&ne.classed(Q,!0),K&&ne.call(K),ne},t.ensureSingleById=function(q,oe,Q,K){var se=q.select(oe+"#"+Q);if(se.size())return se;var ne=q.append(oe).attr("id",Q);return K&&ne.call(K),ne},t.objectFromPath=function(q,oe){for(var Q=q.split("."),K,se=K={},ne=0;ne<Q.length;ne++){var fe=Q[ne],ye=null,Ee=Q[ne].match(/(.*)\[([0-9]+)\]/);Ee?(fe=Ee[1],ye=Ee[2],K=K[fe]=[],ne===Q.length-1?K[ye]=oe:K[ye]={},K=K[ye]):(ne===Q.length-1?K[fe]=oe:K[fe]={},K=K[fe])}return se};var I=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function z(q){return q.slice(0,2)==="__"}t.expandObjectPaths=function(q){var oe,Q,K,se,ne,fe,ye;if(typeof q=="object"&&!Array.isArray(q)){for(Q in q)if(q.hasOwnProperty(Q))if(oe=Q.match(I)){if(se=q[Q],K=oe[1],z(K))continue;delete q[Q],q[K]=t.extendDeepNoArrays(q[K]||{},t.objectFromPath(Q,t.expandObjectPaths(se))[K])}else if(oe=Q.match(U)){if(se=q[Q],K=oe[1],z(K))continue;if(ne=parseInt(oe[2]),delete q[Q],q[K]=q[K]||[],oe[3]===".")ye=oe[4],fe=q[K][ne]=q[K][ne]||{},t.extendDeepNoArrays(fe,t.objectFromPath(ye,t.expandObjectPaths(se)));else{if(z(K))continue;q[K][ne]=t.expandObjectPaths(se)}}else{if(z(Q))continue;q[Q]=t.expandObjectPaths(q[Q])}}return q},t.numSeparate=function(q,oe,Q){if(Q||(Q=!1),typeof oe!="string"||oe.length===0)throw new Error("Separator string required for formatting!");typeof q=="number"&&(q=String(q));var K=/(\d+)(\d{3})/,se=oe.charAt(0),ne=oe.charAt(1),fe=q.split("."),ye=fe[0],Ee=fe.length>1?se+fe[1]:"";if(ne&&(fe.length>1||ye.length>4||Q))for(;K.test(ye);)ye=ye.replace(K,"$1"+ne+"$2");return ye+Ee},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;t.templateString=function(q,oe){var Q={};return q.replace(t.TEMPLATE_STRING_REGEX,function(K,se){var ne;return F.test(se)?ne=oe[se]:(Q[se]=Q[se]||t.nestedProperty(oe,se).get,ne=Q[se]()),t.isValidTextValue(ne)?ne:""})};var B={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ie.apply(B,arguments)};var O={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ie.apply(O,arguments)};var N=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Y(q){var oe=q.match(N);return oe?{key:oe[1],op:oe[2],number:Number(oe[3])}:{key:q,op:null,number:null}}var $={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ie.apply($,arguments)};var te=/^[:|\|]/;function ie(q,oe,Q){var K=this,se=arguments;oe||(oe={});var ne={};return q.replace(t.TEMPLATE_STRING_REGEX,function(fe,ye,Ee){var Te=ye==="xother"||ye==="yother",ze=ye==="_xother"||ye==="_yother",ke=ye==="_xother_"||ye==="_yother_",Se=ye==="xother_"||ye==="yother_",me=Te||ze||Se||ke,Ce=ye;(ze||ke)&&(Ce=Ce.substring(1)),(Se||ke)&&(Ce=Ce.substring(0,Ce.length-1));var Ne=null,He=null;if(K.parseMultDiv){var De=Y(Ce);Ce=De.key,Ne=De.op,He=De.number}var Ve;if(me){if(Ve=oe[Ce],Ve===void 0)return""}else{var at,lt;for(lt=3;lt<se.length;lt++)if(at=se[lt],!!at){if(at.hasOwnProperty(Ce)){Ve=at[Ce];break}if(F.test(Ce)||(Ve=t.nestedProperty(at,Ce).get(),Ve=ne[Ce]||t.nestedProperty(at,Ce).get(),Ve&&(ne[Ce]=Ve)),Ve!==void 0)break}}if(Ve!==void 0&&(Ne==="*"&&(Ve*=He),Ne==="/"&&(Ve/=He)),Ve===void 0&&K)return K.count<K.max&&(t.warn("Variable '"+Ce+"' in "+K.name+" could not be found!"),Ve=fe),K.count===K.max&&t.warn("Too many "+K.name+" warnings - additional warnings will be suppressed"),K.count++,fe;if(Ee){var $e;if(Ee[0]===":"&&($e=Q?Q.numberFormat:t.numberFormat,Ve=$e(Ee.replace(te,""))(Ve)),Ee[0]==="|"){$e=Q?Q.timeFormat:P;var et=t.dateTime2ms(Ve);Ve=t.formatDate(et,Ee.replace(te,""),!1,$e)}}else{var ct=Ce+"Label";oe.hasOwnProperty(ct)&&(Ve=oe[ct])}return me&&(Ve="("+Ve+")",(ze||ke)&&(Ve=" "+Ve),(Se||ke)&&(Ve=Ve+" ")),Ve})}var ce=48,J=57;t.subplotSort=function(q,oe){for(var Q=Math.min(q.length,oe.length)+1,K=0,se=0,ne=0;ne<Q;ne++){var fe=q.charCodeAt(ne)||0,ye=oe.charCodeAt(ne)||0,Ee=fe>=ce&&fe<=J,Te=ye>=ce&&ye<=J;if(Ee&&(K=10*K+fe-ce),Te&&(se=10*se+ye-ce),!Ee||!Te){if(K!==se)return K-se;if(fe!==ye)return fe-ye}}return se-K};var Z=2e9;t.seedPseudoRandom=function(){Z=2e9},t.pseudoRandom=function(){var q=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-q)<429496729?t.pseudoRandom():Z/4294967296},t.fillText=function(q,oe,Q){var K=Array.isArray(Q)?function(fe){Q.push(fe)}:function(fe){Q.text=fe},se=t.extractOption(q,oe,"htx","hovertext");if(t.isValidTextValue(se))return K(se);var ne=t.extractOption(q,oe,"tx","text");if(t.isValidTextValue(ne))return K(ne)},t.isValidTextValue=function(q){return q||q===0},t.formatPercent=function(q,oe){oe=oe||0;for(var Q=(Math.round(100*q*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",K=0;K<oe;K++)Q.indexOf(".")!==-1&&(Q=Q.replace("0%","%"),Q=Q.replace(".%","%"));return Q},t.isHidden=function(q){var oe=window.getComputedStyle(q).display;return!oe||oe==="none"},t.strTranslate=function(q,oe){return q||oe?"translate("+q+","+oe+")":""},t.strRotate=function(q){return q?"rotate("+q+")":""},t.strScale=function(q){return q!==1?"scale("+q+")":""},t.getTextTransform=function(q){var oe=q.noCenter,Q=q.textX,K=q.textY,se=q.targetX,ne=q.targetY,fe=q.anchorX||0,ye=q.anchorY||0,Ee=q.rotate,Te=q.scale;return Te?Te>1&&(Te=1):Te=0,t.strTranslate(se-Te*(Q+fe),ne-Te*(K+ye))+t.strScale(Te)+(Ee?"rotate("+Ee+(oe?"":" "+Q+" "+K)+")":"")},t.setTransormAndDisplay=function(q,oe){q.attr("transform",t.getTextTransform(oe)),q.style("display",oe.scale?null:"none")},t.ensureUniformFontSize=function(q,oe){var Q=t.extendFlat({},oe);return Q.size=Math.max(oe.size,q._fullLayout.uniformtext.minsize||0),Q},t.join2=function(q,oe,Q){var K=q.length;return K>1?q.slice(0,-1).join(oe)+Q+q[K-1]:q.join(oe)},t.bigFont=function(q){return Math.round(1.2*q)};var ae=t.getFirefoxVersion(),j=ae!==null&&ae<86;t.getPositionFromD3Event=function(){return j?[y.event.layerX,y.event.layerY]:[y.event.offsetX,y.event.offsetY]}},41965:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(G,H,e){var y=e(65487),P=/^\w*$/,a=0,L=1,M=2,v=3,p=4;G.exports=function(t,o,n,c){n=n||"name",c=c||"value";var u,l,g,f={};o&&o.length?(g=y(t,o),l=g.get()):l=t,o=o||"";var T={};if(l)for(u=0;u<l.length;u++)T[l[u][n]]=u;var h=P.test(c),s={set:function(d,A){var w=A===null?p:a;if(!l){if(!g||w===p)return;l=[],g.set(l)}var C=T[d];if(C===void 0){if(w===p)return;w=w|v,C=l.length,T[d]=C}else A!==(h?l[C][c]:y(l[C],c).get())&&(w=w|M);var b=l[C]=l[C]||{};return b[n]=d,h?b[c]=A:y(b,c).set(A),A!==null&&(w=w&~p),f[C]=f[C]|w,s},get:function(d){if(l){var A=T[d];if(A!==void 0)return h?l[A][c]:y(l[A],c).get()}},rename:function(d,A){var w=T[d];return w===void 0||(f[w]=f[w]|L,T[A]=w,delete T[d],l[w][n]=A),s},remove:function(d){var A=T[d];if(A===void 0)return s;var w=l[A];if(Object.keys(w).length>2)return f[A]=f[A]|M,s.set(d,null);if(h){for(u=A;u<l.length;u++)f[u]=f[u]|v;for(u=A;u<l.length;u++)T[l[u][n]]--;l.splice(A,1),delete T[d]}else y(w,c).set(null),f[A]=f[A]|M|p;return s},constructUpdate:function(){for(var d,A,w={},C=Object.keys(f),b=0;b<C.length;b++)A=C[b],d=o+"["+A+"]",l[A]?(f[A]&L&&(w[d+"."+n]=l[A][n]),f[A]&M&&(h?w[d+"."+c]=f[A]&p?null:l[A][c]:w[d+"."+c]=f[A]&p?null:y(l[A],c).get())):w[d]=null;return w}};return s}},15867:function(G,H,e){var y=e(73972);G.exports=function(a,L){for(var M=a._context.locale,v=0;v<2;v++){for(var p=a._context.locales,r=0;r<2;r++){var t=(p[M]||{}).dictionary;if(t){var o=t[L];if(o)return o}p=y.localeRegistry}var n=M.split("-")[0];if(n===M)break;M=n}return L}},47769:function(G,H,e){var y=e(72075).dfltConfig,P=e(75046),a=G.exports={};a.log=function(){var L;if(y.logging>1){var M=["LOG:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.trace.apply(console,M)}if(y.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},a.warn=function(){var L;if(y.logging>0){var M=["WARN:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.trace.apply(console,M)}if(y.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},a.error=function(){var L;if(y.logging>0){var M=["ERROR:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.error.apply(console,M)}if(y.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},77310:function(G,H,e){var y=e(39898);G.exports=function(a,L,M){var v=a.selectAll("g."+M.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",M),v.order();var p=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=y.select(this)}),v}},35657:function(G,H,e){var y=e(79576);H.init2dArray=function(P,a){for(var L=new Array(P),M=0;M<P;M++)L[M]=new Array(a);return L},H.transposeRagged=function(P){var a=0,L=P.length,M,v;for(M=0;M<L;M++)a=Math.max(a,P[M].length);var p=new Array(a);for(M=0;M<a;M++)for(p[M]=new Array(L),v=0;v<L;v++)p[M][v]=P[v][M];return p},H.dot=function(P,a){if(!(P.length&&a.length)||P.length!==a.length)return null;var L=P.length,M,v;if(P[0].length)for(M=new Array(L),v=0;v<L;v++)M[v]=H.dot(P[v],a);else if(a[0].length){var p=H.transposeRagged(a);for(M=new Array(p.length),v=0;v<p.length;v++)M[v]=H.dot(P,p[v])}else for(M=0,v=0;v<L;v++)M+=P[v]*a[v];return M},H.translationMatrix=function(P,a){return[[1,0,P],[0,1,a],[0,0,1]]},H.rotationMatrix=function(P){var a=P*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},H.rotationXYMatrix=function(P,a,L){return H.dot(H.dot(H.translationMatrix(a,L),H.rotationMatrix(P)),H.translationMatrix(-a,-L))},H.apply3DTransform=function(P){return function(){var a=arguments,L=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return H.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},H.apply2DTransform=function(P){return function(){var a=arguments;a.length===3&&(a=a[0]);var L=arguments.length===1?a[0]:[a[0],a[1]];return H.dot(P,[L[0],L[1],1]).slice(0,2)}},H.apply2DTransform2=function(P){var a=H.apply2DTransform(P);return function(L){return a(L.slice(0,2)).concat(a(L.slice(2,4)))}},H.convertCssMatrix=function(P){if(P){var a=P.length;if(a===16)return P;if(a===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(P){var a=[];return y.invert(a,P),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(G){function H(y,P){var a=y%P;return a<0?a+P:a}function e(y,P){return Math.abs(y)>P/2?y-Math.round(y/P)*P:y}G.exports={mod:H,modHalf:e}},65487:function(G,H,e){var y=e(92770),P=e(73627).isArrayOrTypedArray;G.exports=function(c,u){if(y(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),g,f,T,h;for(h=0;h<l.length;h++)if(String(l[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<l.length;){if(g=String(l[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])l[h]=g[1];else if(h===0)l.splice(0,1);else throw"bad property string";for(f=g[2].substr(1,g[2].length-2).split("]["),T=0;T<f.length;T++)h++,l.splice(h,0,Number(f[T]))}h++}return typeof c!="object"?o(c,u,l):{set:v(c,l,u),get:a(c,l),astr:u,parts:l,obj:c}};function a(n,c){return function(){var u=n,l,g,f,T,h;for(T=0;T<c.length-1;T++){if(l=c[T],l===-1){for(g=!0,f=[],h=0;h<u.length;h++)f[h]=a(u[h],c.slice(T+1))(),f[h]!==f[0]&&(g=!1);return g?f[0]:f}if(typeof l=="number"&&!P(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(f=u[c[T]],f!==null))return f}}var L=/(^|\.)args\[/;function M(n,c){return n===void 0||n===null&&!c.match(L)}function v(n,c,u){return function(l){var g=n,f="",T=M(l,u),h,s;for(s=0;s<c.length-1;s++){if(h=c[s],typeof h=="number"&&!P(g))throw"array index but container is not an array";if(h===-1){if(T=!r(g,c.slice(s+1),l,u),T)break;return}if(!t(g,h,c[s+1],T))break;if(g=g[h],typeof g!="object"||g===null)throw"container is not an object";f=p(f,h)}if(T){if(s===c.length-1&&(delete g[c[s]],Array.isArray(g)&&+c[s]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[c[s]]=l}}function p(n,c){var u=c;return y(c)?u="["+c+"]":n&&(u="."+c),n+u}function r(n,c,u,l){var g=P(u),f=!0,T=u,h=l.replace("-1",0),s=g?!1:M(u,h),d=c[0],A;for(A=0;A<n.length;A++)h=l.replace("-1",A),g&&(T=u[A%u.length],s=M(T,h)),s&&(f=!1),t(n,A,d,s)&&v(n[A],c,l.replace("-1",A))(T);return f}function t(n,c,u,l){if(n[c]===void 0){if(l)return!1;typeof u=="number"?n[c]=[]:n[c]={}}return!0}function o(n,c,u){return{set:function(){throw"bad container"},get:function(){},astr:c,parts:u,obj:n}}},64213:function(G){G.exports=function(){}},75046:function(G,H,e){var y=e(39898),P=e(92770),a=[];G.exports=function(L,M){if(a.indexOf(L)!==-1)return;a.push(L);var v=1e3;P(M)?v=M:M==="long"&&(v=3e3);var p=y.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(a);function t(o){o.duration(700).style("opacity",0).each("end",function(n){var c=a.indexOf(n);c!==-1&&a.splice(c,1),y.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var n=y.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var c=n.append("p"),u=o.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&c.append("br"),c.append("span").text(u[l]);M==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},39918:function(G,H,e){var y=e(6964),P="data-savedcursor",a="!!";G.exports=function(M,v){var p=M.attr(P);if(v){if(!p){for(var r=(M.attr("class")||"").split(" "),t=0;t<r.length;t++){var o=r[t];o.indexOf("cursor-")===0&&M.attr(P,o.substr(7)).classed(o,!1)}M.attr(P)||M.attr(P,a)}y(M,v)}else p&&(M.attr(P,null),p===a?y(M):y(M,p))}},61082:function(G,H,e){var y=e(35657).dot,P=e(50606).BADNUM,a=G.exports={};a.tester=function(M){var v=M.slice(),p=v[0][0],r=p,t=v[0][1],o=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),o=Math.max(o,v[n][1]);var c=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(c=!0,u=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(c=!0,u=function(h){return h[1]===v[0][1]}));function l(h,s){var d=h[0],A=h[1];return!(d===P||d<p||d>r||A===P||A<t||A>o||s&&u(h))}function g(h,s){var d=h[0],A=h[1];if(d===P||d<p||d>r||A===P||A<t||A>o)return!1;var w=v.length,C=v[0][0],b=v[0][1],S=0,x,i,E,m,k;for(x=1;x<w;x++)if(i=C,E=b,C=v[x][0],b=v[x][1],m=Math.min(i,C),!(d<m||d>Math.max(i,C)||A>Math.max(E,b)))if(A<Math.min(E,b))d!==m&&S++;else{if(C===i?k=A:k=E+(d-i)*(b-E)/(C-i),A===k)return!(x===1&&s);A<=k&&d!==m&&S++}return S%2===1}var f=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){f=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:o,pts:v,contains:c?l:g,isRect:c,degenerate:f}},a.isSegmentBent=function(M,v,p,r){var t=M[v],o=[M[p][0]-t[0],M[p][1]-t[1]],n=y(o,o),c=Math.sqrt(n),u=[-o[1]/c,o[0]/c],l,g,f;for(l=v+1;l<p;l++)if(g=[M[l][0]-t[0],M[l][1]-t[1]],f=y(g,o),f<0||f>n||Math.abs(y(g,u))>r)return!0;return!1},a.filter=function(M,v){var p=[M[0]],r=0,t=0;function o(c){M.push(c);var u=p.length,l=r;p.splice(t+1);for(var g=l+1;g<M.length;g++)(g===M.length-1||a.isSegmentBent(M,l,g+1,v))&&(p.push(M[g]),p.length<u-2&&(r=g,t=p.length-1),l=g)}if(M.length>1){var n=M.pop();o(n)}return{addPt:o,raw:M,filtered:p}}},79749:function(G,H,e){var y=e(58617),P=e(98580);G.exports=function(L,M,v){var p=L._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:M||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(o){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:o,layer:t.key})},!1)}}),r||y({container:p._glcontainer.node()}),r}},45142:function(G,H,e){var y=e(92770),P=e(35791);G.exports=function(M){var v;if(M&&M.hasOwnProperty("userAgent")?v=M.userAgent:v=a(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var o=r[t];if(o.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var c=r[n];if(c.substr(0,8)==="Version/"){var u=c.substr(8).split(".")[0];if(y(u)&&(u=+u),u>=13)return!0}}}return p};function a(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},75138:function(G){G.exports=function(e,y){if(y instanceof RegExp){for(var P=y.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===P)return e;e.push(y)}else(y||y===0)&&e.indexOf(y)===-1&&e.push(y);return e}},10847:function(G,H,e){var y=e(71828),P=e(72075).dfltConfig;function a(M,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===M?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?y.extendDeep([],r):y.extendDeepAll({},r):p[t]=r;return p}var L={};L.add=function(M,v,p,r,t){var o,n;if(M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},n=M.undoQueue.index,M.autoplay){M.undoQueue.inSequence||(M.autoplay=!1);return}!M.undoQueue.sequence||M.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},M.undoQueue.queue.splice(n,M.undoQueue.queue.length-n,o),M.undoQueue.index+=1):o=M.undoQueue.queue[n-1],M.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(v),o.undo.args.unshift(p),o.redo.calls.push(r),o.redo.args.push(t)),M.undoQueue.queue.length>P.queueLength&&(M.undoQueue.queue.shift(),M.undoQueue.index--)},L.startSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!0,M.undoQueue.beginSequence=!0},L.stopSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!1,M.undoQueue.beginSequence=!1},L.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)L.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)L.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(M,v,p){M.autoplay=!0,p=a(M,p),v.apply(null,p)},G.exports=L},30587:function(G,H){H.counter=function(e,y,P,a){var L=(y||"")+(P?"":"$"),M=a===!1?"":"^";return e==="xy"?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(M+e+"([2-9]|[1-9][0-9]+)?"+L)}},6962:function(G){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(y,P){for(;P;){var a=y.match(H);if(a)y=a[1];else if(y.match(e))y="";else throw new Error("bad relativeAttr call:"+[y,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return y&&P.charAt(0)!=="["?y+"."+P:y+P}},51332:function(G,H,e){var y=e(73627).isArrayOrTypedArray,P=e(41965);G.exports=function a(L,M){for(var v in M){var p=M[v],r=L[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(y(p)&&y(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),o=0;o<t;o++)r[o]!==p[o]&&P(p[o])&&P(r[o])&&a(r[o],p[o])}else P(p)&&P(r)&&(a(r,p),Object.keys(r).length||delete L[v])}}},65888:function(G,H,e){var y=e(92770),P=e(47769),a=e(23389),L=e(50606).BADNUM,M=1e-9;H.findBin=function(o,n,c){if(y(n.start))return c?Math.ceil((o-n.start)/n.size-M)-1:Math.floor((o-n.start)/n.size+M);var u=0,l=n.length,g=0,f=l>1?(n[l-1]-n[0])/(l-1):1,T,h;for(f>=0?h=c?v:p:h=c?t:r,o+=f*M*(c?-1:1)*(f>=0?1:-1);u<l&&g++<100;)T=Math.floor((u+l)/2),h(n[T],o)?u=T+1:l=T;return g>90&&P.log("Long binary search..."),u-1};function v(o,n){return o<n}function p(o,n){return o<=n}function r(o,n){return o>n}function t(o,n){return o>=n}H.sorterAsc=function(o,n){return o-n},H.sorterDes=function(o,n){return n-o},H.distinctVals=function(o){var n=o.slice();n.sort(H.sorterAsc);var c;for(c=n.length-1;c>-1&&n[c]===L;c--);for(var u=n[c]-n[0]||1,l=u/(c||1)/1e4,g=[],f,T=0;T<=c;T++){var h=n[T],s=h-f;f===void 0?(g.push(h),f=h):s>l&&(u=Math.min(u,s),g.push(h),f=h)}return{vals:g,minDiff:u}},H.roundUp=function(o,n,c){for(var u=0,l=n.length-1,g,f=0,T=c?0:1,h=c?1:0,s=c?Math.ceil:Math.floor;u<l&&f++<100;)g=s((u+l)/2),n[g]<=o?u=g+T:l=g-h;return n[u]},H.sort=function(o,n){for(var c=0,u=0,l=1;l<o.length;l++){var g=n(o[l],o[l-1]);if(g<0?c=1:g>0&&(u=1),c&&u)return o.sort(n)}return u?o:o.reverse()},H.findIndexOfMin=function(o,n){n=n||a;for(var c=1/0,u,l=0;l<o.length;l++){var g=n(o[l]);g<c&&(c=g,u=l)}return u}},6964:function(G){G.exports=function(e,y){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),y&&e.classed("cursor-"+y,!0)}},58617:function(G,H,e){var y=e(7901),P=function(){};G.exports=function(L){for(var M in L)typeof L[M]=="function"&&(L[M]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=y.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=y.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(G){G.exports=function(e){return Object.keys(e).sort()}},80038:function(G,H,e){var y=e(92770),P=e(73627).isArrayOrTypedArray;H.aggNums=function(a,L,M,v){var p,r;if((!v||v>M.length)&&(v=M.length),y(L)||(L=!1),P(M[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=H.aggNums(a,L,M[p]);M=r}for(p=0;p<v;p++)y(L)?y(M[p])&&(L=a(+L,+M[p])):L=M[p];return L},H.len=function(a){return H.aggNums(function(L){return L+1},0,a)},H.mean=function(a,L){return L||(L=H.len(a)),H.aggNums(function(M,v){return M+v},0,a)/L},H.midRange=function(a){if(!(a===void 0||a.length===0))return(H.aggNums(Math.max,null,a)+H.aggNums(Math.min,null,a))/2},H.variance=function(a,L,M){return L||(L=H.len(a)),y(M)||(M=H.mean(a,L)),H.aggNums(function(v,p){return v+Math.pow(p-M,2)},0,a)/L},H.stdev=function(a,L,M){return Math.sqrt(H.variance(a,L,M))},H.median=function(a){var L=a.slice().sort();return H.interp(L,.5)},H.interp=function(a,L){if(!y(L))throw"n should be a finite number";if(L=L*a.length-.5,L<0)return a[0];if(L>a.length-1)return a[a.length-1];var M=L%1;return M*a[Math.ceil(L)]+(1-M)*a[Math.floor(L)]}},78614:function(G,H,e){var y=e(25075);function P(a){return a?y(a):[0,0,0,1]}G.exports=P},3883:function(G,H,e){var y=e(32396),P=e(91424),a=e(71828),L=null;function M(){if(L!==null)return L;L=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(y.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=p.some(function(c){return r.apply(null,c)});else{var t=P.tester.append("image").attr("style",y.STYLE),o=window.getComputedStyle(t.node()),n=o.imageRendering;L=p.some(function(c){var u=c[1];return n===u||n===u.toLowerCase()}),t.remove()}}return L}G.exports=M},63893:function(G,H,e){var y=e(39898),P=e(71828),a=P.strTranslate,L=e(77922),M=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(B,O,N){var Y=B.text(),$=!B.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&Y.match(v),te=y.select(B.node().parentNode);if(te.empty())return;var ie=B.attr("class")?B.attr("class").split(" ")[0]:"text";ie+="-math",te.selectAll("svg."+ie).remove(),te.selectAll("g."+ie+"-group").remove(),B.style("display",null).attr({"data-unformatted":Y,"data-math":"N"});function ce(){te.empty()||(ie=B.attr("class")+"-math",te.select("svg."+ie).remove()),B.text("").style("white-space","pre");var J=I(B.node(),Y);J&&B.style("pointer-events","all"),H.positionText(B),N&&N.call(B)}return $?(O&&O._promises||[]).push(new Promise(function(J){B.style("display","none");var Z=parseInt(B.node().style.fontSize,10),ae={fontSize:Z};n($[2],ae,function(j,q,oe){te.selectAll("svg."+ie).remove(),te.selectAll("g."+ie+"-group").remove();var Q=j&&j.select("svg");if(!Q||!Q.node()){ce(),J();return}var K=te.append("g").classed(ie+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});K.node().appendChild(Q.node()),q&&q.node()&&Q.node().insertBefore(q.node().cloneNode(!0),Q.node().firstChild);var se=oe.width,ne=oe.height;Q.attr({class:ie,height:ne,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=B.node().style.fill||"black",ye=Q.select("g");ye.attr({fill:fe,stroke:fe});var Ee=ye.node().getBoundingClientRect(),Te=Ee.width,ze=Ee.height;(Te>se||ze>ne)&&(Q.style("overflow","hidden"),Ee=Q.node().getBoundingClientRect(),Te=Ee.width,ze=Ee.height);var ke=+B.attr("x"),Se=+B.attr("y"),me=Z||B.node().getBoundingClientRect().height,Ce=-me/4;if(ie[0]==="y")K.attr({transform:"rotate("+[-90,ke,Se]+")"+a(-Te/2,Ce-ze/2)});else if(ie[0]==="l")Se=Ce-ze/2;else if(ie[0]==="a"&&ie.indexOf("atitle")!==0)ke=0,Se=Ce;else{var Ne=B.attr("text-anchor");ke=ke-Te*(Ne==="middle"?.5:Ne==="end"?1:0),Se=Se+Ce-ze/2}Q.attr({x:ke,y:Se}),N&&N.call(B,K),J(K)})})):ce(),B};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(B){return B.replace(p,"\\lt ").replace(r,"\\gt ")}var o=[["$","$"],["\\(","\\)"]];function n(B,O,N){var Y=parseInt((MathJax.version||"").split(".")[0]);if(Y!==2&&Y!==3){P.warn("No MathJax version:",MathJax.version);return}var $,te,ie,ce,J=function(){return te=P.extendDeepAll({},MathJax.Hub.config),ie=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},Z=function(){te=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o},ae=function(){if($=MathJax.Hub.config.menuSettings.renderer,$!=="SVG")return MathJax.Hub.setRenderer("SVG")},j=function(){$=MathJax.config.startup.output,$!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var fe="math-output-"+P.randstr({},64);ce=y.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(t(B));var ye=ce.node();return Y===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},oe=function(){var fe=ce.select(Y===2?".MathJax_SVG":".MathJax"),ye=!fe.empty()&&ce.select("svg").node();if(!ye)P.log("There was an error in the tex syntax.",B),N();else{var Ee=ye.getBoundingClientRect(),Te;Y===2?Te=y.select("body").select("#MathJax_SVG_glyphs"):Te=fe.select("defs"),N(fe,Te,Ee)}ce.remove()},Q=function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},K=function(){$!=="svg"&&(MathJax.config.startup.output=$)},se=function(){return ie!==void 0&&(MathJax.Hub.processSectionDelay=ie),MathJax.Hub.Config(te)},ne=function(){MathJax.config=te};Y===2?MathJax.Hub.Queue(J,ae,q,oe,Q,se):Y===3&&(Z(),j(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),oe(),K(),ne()}))}var c={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},g="",f=["http:","https:","mailto:","",void 0,":"],T=H.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,s=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,b=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(B,O){if(!B)return null;var N=B.match(O),Y=N&&(N[3]||N[4]);return Y&&m(Y)}var x=/(^|;)\s*color:/;H.plainText=function(B,O){O=O||{};for(var N=O.len!==void 0&&O.len!==-1?O.len:1/0,Y=O.allowedTags!==void 0?O.allowedTags:["br"],$="...",te=$.length,ie=B.split(h),ce=[],J="",Z=0,ae=0;ae<ie.length;ae++){var j=ie[ae],q=j.match(s),oe=q&&q[2].toLowerCase();if(oe)Y.indexOf(oe)!==-1&&(ce.push(j),J=oe);else{var Q=j.length;if(Z+Q<N)ce.push(j),Z+=Q;else if(Z<N){var K=N-Z;J&&(J!=="br"||K<=te||Q<=te)&&ce.pop(),N>te?ce.push(j.substr(0,K-te)+$):ce.push(j.substr(0,K));break}J=""}}return ce.join("")};var i={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function m(B){return B.replace(E,function(O,N){var Y;return N.charAt(0)==="#"?Y=k(N.charAt(1)==="x"?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):Y=i[N],Y||O})}H.convertEntities=m;function k(B){if(!(B>1114111)){var O=String.fromCodePoint;if(O)return O(B);var N=String.fromCharCode;return B<=65535?N(B):N((B>>10)+55232,B%1024+56320)}}function I(B,O){O=O.replace(T," ");var N=!1,Y=[],$,te=-1;function ie(){te++;var ze=document.createElementNS(L.svg,"tspan");y.select(ze).attr({class:"line",dy:te*M+"em"}),B.appendChild(ze),$=ze;var ke=Y;if(Y=[{node:ze}],ke.length>1)for(var Se=1;Se<ke.length;Se++)ce(ke[Se])}function ce(ze){var ke=ze.type,Se={},me;if(ke==="a"){me="a";var Ce=ze.target,Ne=ze.href,He=ze.popup;Ne&&(Se={"xlink:xlink:show":Ce==="_blank"||Ce.charAt(0)!=="_"?"new":"replace",target:Ce,"xlink:xlink:href":Ne},He&&(Se.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+He+'");return false;'))}else me="tspan";ze.style&&(Se.style=ze.style);var De=document.createElementNS(L.svg,me);if(ke==="sup"||ke==="sub"){J($,g),$.appendChild(De);var Ve=document.createElementNS(L.svg,"tspan");J(Ve,g),y.select(Ve).attr("dy",l[ke]),Se.dy=u[ke],$.appendChild(De),$.appendChild(Ve)}else $.appendChild(De);y.select(De).attr(Se),$=ze.node=De,Y.push(ze)}function J(ze,ke){ze.appendChild(document.createTextNode(ke))}function Z(ze){if(Y.length===1){P.log("Ignoring unexpected end tag </"+ze+">.",O);return}var ke=Y.pop();ze!==ke.type&&P.log("Start tag <"+ke.type+"> doesnt match end tag <"+ze+">. Pretending it did match.",O),$=Y[Y.length-1].node}var ae=d.test(O);ae?ie():($=B,Y=[{node:B}]);for(var j=O.split(h),q=0;q<j.length;q++){var oe=j[q],Q=oe.match(s),K=Q&&Q[2].toLowerCase(),se=c[K];if(K==="br")ie();else if(se===void 0)J($,m(oe));else if(Q[1])Z(K);else{var ne=Q[4],fe={type:K},ye=S(ne,A);if(ye?(ye=ye.replace(x,"$1 fill:"),se&&(ye+=";"+se)):se&&(ye=se),ye&&(fe.style=ye),K==="a"){N=!0;var Ee=S(ne,w);if(Ee){var Te=U(Ee);Te&&(fe.href=Te,fe.target=S(ne,C)||"_blank",fe.popup=S(ne,b))}}ce(fe)}}return N}function U(B){var O=encodeURI(decodeURI(B)),N=document.createElement("a"),Y=document.createElement("a");N.href=B,Y.href=O;var $=N.protocol,te=Y.protocol;return f.indexOf($)!==-1&&f.indexOf(te)!==-1?O:""}H.sanitizeHTML=function(O){O=O.replace(T," ");for(var N=document.createElement("p"),Y=N,$=[],te=O.split(h),ie=0;ie<te.length;ie++){var ce=te[ie],J=ce.match(s),Z=J&&J[2].toLowerCase();if(Z in c)if(J[1])$.length&&(Y=$.pop());else{var ae=J[4],j=S(ae,A),q=j?{style:j}:{};if(Z==="a"){var oe=S(ae,w);if(oe){var Q=U(oe);if(Q){q.href=Q;var K=S(ae,C);K&&(q.target=K)}}}var se=document.createElement(Z);Y.appendChild(se),y.select(se).attr(q),Y=se,$.push(se)}else Y.appendChild(document.createTextNode(m(ce)))}var ne="innerHTML";return N[ne]},H.lineCount=function(O){return O.selectAll("tspan.line").size()||1},H.positionText=function(O,N,Y){return O.each(function(){var $=y.select(this);function te(J,Z){return Z===void 0?(Z=$.attr(J),Z===null&&($.attr(J,0),Z=0)):$.attr(J,Z),Z}var ie=te("x",N),ce=te("y",Y);this.nodeName==="text"&&$.selectAll("tspan.line").attr({x:ie,y:ce})})};function z(B,O,N){var Y=N.horizontalAlign,$=N.verticalAlign||"top",te=B.node().getBoundingClientRect(),ie=O.node().getBoundingClientRect(),ce,J,Z;return $==="bottom"?J=function(){return te.bottom-ce.height}:$==="middle"?J=function(){return te.top+(te.height-ce.height)/2}:J=function(){return te.top},Y==="right"?Z=function(){return te.right-ce.width}:Y==="center"?Z=function(){return te.left+(te.width-ce.width)/2}:Z=function(){return te.left},function(){ce=this.node().getBoundingClientRect();var ae=Z()-ie.left,j=J()-ie.top,q=N.gd||{};if(N.gd){q._fullLayout._calcInverseTransform(q);var oe=P.apply3DTransform(q._fullLayout._invTransform)(ae,j);ae=oe[0],j=oe[1]}return this.style({top:j+"px",left:ae+"px","z-index":1e3}),this}}var F="1px ";H.makeTextShadow=function(B){var O=F,N=F,Y=F;return O+N+Y+B+", -"+O+"-"+N+Y+B+", "+O+"-"+N+Y+B+", -"+O+N+Y+B},H.makeEditable=function(B,O){var N=O.gd,Y=O.delegate,$=y.dispatch("edit","input","cancel"),te=Y||B;if(B.style({"pointer-events":Y?"none":"all"}),B.size()!==1)throw new Error("boo");function ie(){J(),B.style({opacity:0});var Z=te.attr("class"),ae;Z?ae="."+Z.split(" ")[0]+"-math-group":ae="[class*=-math-group]",ae&&y.select(B.node().parentNode).select(ae).style({opacity:0})}function ce(Z){var ae=Z.node(),j=document.createRange();j.selectNodeContents(ae);var q=window.getSelection();q.removeAllRanges(),q.addRange(j),ae.focus()}function J(){var Z=y.select(N),ae=Z.select(".svg-container"),j=ae.append("div"),q=B.node().style,oe=parseFloat(q.fontSize||12),Q=O.text;Q===void 0&&(Q=B.attr("data-unformatted")),j.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":oe,color:O.fill||q.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-oe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(z(B,ae,O)).on("blur",function(){N._editing=!1,B.text(this.textContent).style({opacity:1});var K=y.select(this).attr("class"),se;K?se="."+K.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&y.select(B.node().parentNode).select(se).style({opacity:0});var ne=this.textContent;y.select(this).transition().duration(0).remove(),y.select(document).on("mouseup",null),$.edit.call(B,ne)}).on("focus",function(){var K=this;N._editing=!0,y.select(document).on("mouseup",function(){if(y.event.target===K)return!1;document.activeElement===j.node()&&j.node().blur()})}).on("keyup",function(){y.event.which===27?(N._editing=!1,B.style({opacity:1}),y.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),$.cancel.call(B,this.textContent)):($.input.call(B,this.textContent),y.select(this).call(z(B,ae,O)))}).on("keydown",function(){y.event.which===13&&this.blur()}).call(ce)}return O.immediate?ie():te.on("click",ie),y.rebind(B,$,"on")}},79990:function(G,H){var e={};H.throttle=function(a,L,M){var v=e[a],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[a]={ts:0,timer:null}}y(v);function t(){M(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){t();return}v.timer=setTimeout(function(){t(),v.timer=null},L)},H.done=function(P){var a=e[P];return!a||!a.timer?Promise.resolve():new Promise(function(L){var M=a.onDone;a.onDone=function(){M&&M(),L(),a.onDone=null}})},H.clear=function(P){if(P)y(e[P]),delete e[P];else for(var a in e)H.clear(a)};function y(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},58163:function(G,H,e){var y=e(92770);G.exports=function(a,L){if(a>0)return Math.log(a)/Math.LN10;var M=Math.log(Math.min(L[0],L[1]))/Math.LN10;return y(M)||(M=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),M}},90973:function(G,H,e){var y=G.exports={},P=e(78776).locationmodeToLayer,a=e(96892).zL;y.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},y.getTopojsonPath=function(L,M){return L+M+".json"},y.getTopojsonFeatures=function(L,M){var v=P[L.locationmode],p=M.objects[v];return a(M,p).features}},37815:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(G,H,e){var y=e(73972);G.exports=function(a){for(var L=y.layoutArrayContainers,M=y.layoutArrayRegexes,v=a.split("[")[0],p,r,t=0;t<M.length;t++)if(r=a.match(M[t]),r&&r.index===0){p=r[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var o=a.substr(p.length);return o?(r=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},30962:function(G,H,e){var y=e(1426).extendFlat,P=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=a.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");G.exports={traces:a,layout:L,traceFlags:function(){return p(M)},layoutFlags:function(){return p(v)},update:function(o,n){var c=n.editType;if(c&&c!=="none")for(var u=c.split("+"),l=0;l<u.length;l++)o[u[l]]=!0},overrideAll:r};function p(o){for(var n={},c=0;c<o.length;c++)n[o[c]]=!1;return n}function r(o,n,c){var u=y({},o);for(var l in u){var g=u[l];P(g)&&(u[l]=t(g,n,c,l))}return c==="from-root"&&(u.editType=n),u}function t(o,n,c,u){if(o.valType){var l=y({},o);if(l.editType=n,Array.isArray(o.items)){l.items=new Array(o.items.length);for(var g=0;g<o.items.length;g++)l.items[g]=t(o.items[g],n)}return l}else return r(o,n,u.charAt(0)==="_"?"nested":"from-root")}},58377:function(G,H,e){var y=e(92770),P=e(27812),a=e(73972),L=e(71828),M=e(74875),v=e(41675),p=e(7901),r=v.cleanId,t=v.getFromTrace,o=a.traceIs;H.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},H.cleanLayout=function(d){var A,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(M.subplotsRegistry.cartesian||{}).attrRegex,b=(M.subplotsRegistry.polar||{}).attrRegex,S=(M.subplotsRegistry.ternary||{}).attrRegex,x=(M.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(d);for(A=0;A<i.length;A++){var E=i[A];if(C&&C.test(E)){var m=d[E];m.anchor&&m.anchor!=="free"&&(m.anchor=r(m.anchor)),m.overlaying&&(m.overlaying=r(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":m.isdate===!1&&m.islog===!1&&(m.type="linear")),(m.autorange==="withzero"||m.autorange==="tozero")&&(m.autorange=!0,m.rangemode="tozero"),m.insiderange&&delete m.range,delete m.islog,delete m.isdate,delete m.categories,f(m,"domain")&&delete m.domain,m.autotick!==void 0&&(m.tickmode===void 0&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),c(m)}else if(b&&b.test(E)){var k=d[E];c(k.radialaxis)}else if(S&&S.test(E)){var I=d[E];c(I.aaxis),c(I.baxis),c(I.caxis)}else if(x&&x.test(E)){var U=d[E],z=U.cameraposition;if(Array.isArray(z)&&z[0].length===4){var F=z[0],B=z[1],O=z[2],N=P([],F),Y=[];for(w=0;w<3;++w)Y[w]=B[w]+O*N[2+4*w];U.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}c(U.xaxis),c(U.yaxis),c(U.zaxis)}}var $=Array.isArray(d.annotations)?d.annotations.length:0;for(A=0;A<$;A++){var te=d.annotations[A];L.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var ie=Array.isArray(d.shapes)?d.shapes.length:0;for(A=0;A<ie;A++){var ce=d.shapes[A];L.isPlainObject(ce)&&(n(ce,"xref"),n(ce,"yref"))}var J=Array.isArray(d.images)?d.images.length:0;for(A=0;A<J;A++){var Z=d.images[A];L.isPlainObject(Z)&&(n(Z,"xref"),n(Z,"yref"))}var ae=d.legend;return ae&&(ae.x>3?(ae.x=1.02,ae.xanchor="left"):ae.x<-2&&(ae.x=-.02,ae.xanchor="right"),ae.y>3?(ae.y=1.02,ae.yanchor="bottom"):ae.y<-2&&(ae.y=-.02,ae.yanchor="top")),c(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&H.cleanLayout(d.template.layout),d};function n(d,A){var w=d[A],C=A.charAt(0);w&&w!=="paper"&&(d[A]=r(w,C,!0))}function c(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),A("titlefont","font"),A("titleposition","position"),A("titleside","side"),A("titleoffset","offset"));function A(w,C){var b=d[w],S=d.title&&d.title[C];b&&!S&&(d.title||(d.title={}),d.title[C]=d[w],delete d[w])}}H.cleanData=function(d){for(var A=0;A<d.length;A++){var w=d[A],C;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var b=p.defaults,S=w.error_y.color||(o(w,"bar")?p.defaultLine:b[A%b.length]);w.error_y.color=p.addOpacity(p.rgb(S),p.opacity(S)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(o(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",H.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&H.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),o(w,"gl3d")&&w.scene&&(w.scene=M.subplotsRegistry.gl3d.cleanId(w.scene)),!o(w,"pie-like")&&!o(w,"bar-like"))if(Array.isArray(w.textposition))for(C=0;C<w.textposition.length;C++)w.textposition[C]=g(w.textposition[C]);else w.textposition&&(w.textposition=g(w.textposition));var x=a.getModule(w);if(x&&x.colorbar){var i=x.colorbar.container,E=i?w[i]:w;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(w.type==="surface"&&L.isPlainObject(w.contours)){var m=["x","y","z"];for(C=0;C<m.length;C++){var k=w.contours[m[C]];L.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var I=(w.increasing||{}).showlegend!==!1,U=(w.decreasing||{}).showlegend!==!1,z=u(w.increasing),F=u(w.decreasing);if(z!==!1&&F!==!1){var B=l(z,F,I,U);B&&(w.name=B)}else(z||F)&&!w.name&&(w.name=z||F)}if(Array.isArray(w.transforms)){var O=w.transforms;for(C=0;C<O.length;C++){var N=O[C];if(L.isPlainObject(N))switch(N.type){case"filter":N.filtersrc&&(N.target=N.filtersrc,delete N.filtersrc),N.calendar&&(N.valuecalendar||(N.valuecalendar=N.calendar),delete N.calendar);break;case"groupby":if(N.styles=N.styles||N.style,N.styles&&!Array.isArray(N.styles)){var Y=N.styles,$=Object.keys(Y);N.styles=[];for(var te=0;te<$.length;te++)N.styles.push({target:$[te],value:Y[$[te]]})}break}}}f(w,"line")&&delete w.line,"marker"in w&&(f(w.marker,"line")&&delete w.marker.line,f(w,"marker")&&delete w.marker),p.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),c(w),w.colorbar&&c(w.colorbar),w.marker&&w.marker.colorbar&&c(w.marker.colorbar),w.line&&w.line.colorbar&&c(w.line.colorbar),w.aaxis&&c(w.aaxis),w.baxis&&c(w.baxis)}};function u(d){if(!L.isPlainObject(d))return!1;var A=d.name;return delete d.name,delete d.showlegend,(typeof A=="string"||typeof A=="number")&&String(A)}function l(d,A,w,C){if(w&&!C)return d;if(C&&!w||!d.trim())return A;if(!A.trim())return d;var b=Math.min(d.length,A.length),S;for(S=0;S<b&&d.charAt(S)===A.charAt(S);S++);var x=d.substr(0,S);return x.trim()}function g(d){var A="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?A="top":d.indexOf("bottom")!==-1&&(A="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),A+" "+w}function f(d,A){return A in d&&typeof d[A]=="object"&&Object.keys(d[A]).length===0}H.swapXYData=function(d){var A;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,C="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);L.swapAttrs(d,["error_?.copy_ystyle"]),C&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var b=d.hoverinfo.split("+");for(A=0;A<b.length;A++)b[A]==="x"?b[A]="y":b[A]==="y"&&(b[A]="x");d.hoverinfo=b.join("+")}},H.coerceTraceIndices=function(d,A){if(y(A))return[A];if(!Array.isArray(A)||!A.length)return d.data.map(function(b,S){return S});if(Array.isArray(A)){for(var w=[],C=0;C<A.length;C++)L.isIndex(A[C],d.data.length)?w.push(A[C]):L.warn("trace index (",A[C],") is not a number or is out of bounds");return w}return A},H.manageArrayContainers=function(d,A,w){var C=d.obj,b=d.parts,S=b.length,x=b[S-1],i=y(x);if(i&&A===null){var E=b.slice(0,S-1).join("."),m=L.nestedProperty(C,E).get();m.splice(x,1)}else i&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(A)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(d){var A=d.search(T);if(A>0)return d.substr(0,A)}H.hasParent=function(d,A){for(var w=h(A);w;){if(w in d)return!0;w=h(w)}return!1};var s=["x","y","z"];H.clearAxisTypes=function(d,A,w){for(var C=0;C<A.length;C++)for(var b=d._fullData[C],S=0;S<3;S++){var x=t(d,b,s[S]);if(x&&x.type!=="log"){var i=x._name,E=x._id.substr(1);if(E.substr(0,5)==="scene"){if(w[E]!==void 0)continue;i=E+"."+i}var m=i+".type";w[i]===void 0&&w[m]===void 0&&L.nestedProperty(d.layout,m).set(null)}}}},10641:function(G,H,e){var y=e(72391);H._doPlot=y._doPlot,H.newPlot=y.newPlot,H.restyle=y.restyle,H.relayout=y.relayout,H.redraw=y.redraw,H.update=y.update,H._guiRestyle=y._guiRestyle,H._guiRelayout=y._guiRelayout,H._guiUpdate=y._guiUpdate,H._storeDirectGUIEdit=y._storeDirectGUIEdit,H.react=y.react,H.extendTraces=y.extendTraces,H.prependTraces=y.prependTraces,H.addTraces=y.addTraces,H.deleteTraces=y.deleteTraces,H.moveTraces=y.moveTraces,H.purge=y.purge,H.addFrames=y.addFrames,H.deleteFrames=y.deleteFrames,H.animate=y.animate,H.setPlotConfig=y.setPlotConfig;var P=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;H.deleteActiveShape=function(M){return a(P(M))},H.toImage=e(403),H.validate=e(84936),H.downloadImage=e(7239);var L=e(96318);H.makeTemplate=L.makeTemplate,H.validateTemplate=L.validateTemplate},6611:function(G,H,e){var y=e(41965),P=e(64213),a=e(47769),L=e(65888).sorterAsc,M=e(73972);H.containerArrayMatch=e(14458);var v=H.isAddVal=function(t){return t==="add"||y(t)},p=H.isRemoveVal=function(t){return t===null||t==="remove"};H.applyContainerArrayChanges=function(t,o,n,c,u){var l=o.astr,g=M.getComponentMethod(l,"supplyLayoutDefaults"),f=M.getComponentMethod(l,"draw"),T=M.getComponentMethod(l,"drawOne"),h=c.replot||c.recalc||g===P||f===P,s=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var A=n[""][""];if(p(A))o.set(null);else if(Array.isArray(A))o.set(A);else return a.warn("Unrecognized full array edit value",l,A),!0;return h?!1:(g(s,d),f(t),!0)}var w=Object.keys(n).map(Number).sort(L),C=o.get(),b=C||[],S=u(d,l).get(),x=[],i=-1,E=b.length,m,k,I,U,z,F,B,O;for(m=0;m<w.length;m++){if(I=w[m],U=n[I],z=Object.keys(U),F=U[""],B=v(F),I<0||I>b.length-(B?0:1)){a.warn("index out of range",l,I);continue}if(F!==void 0)z.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,I),p(F)?x.push(I):B?(F==="add"&&(F={}),b.splice(I,0,F),S&&S.splice(I,0,{})):a.warn("Unrecognized full object edit value",l,I,F),i===-1&&(i=I);else for(k=0;k<z.length;k++)O=l+"["+I+"].",u(b[I],z[k],O).set(U[z[k]])}for(m=x.length-1;m>=0;m--)b.splice(x[m],1),S&&S.splice(x[m],1);if(b.length?C||o.set(b):o.set(null),h)return!1;if(g(s,d),T!==P){var N;if(i===-1)N=w;else{for(E=Math.max(b.length,E),N=[],m=0;m<w.length&&(I=w[m],!(I>=i));m++)N.push(I);for(m=i;m<E;m++)N.push(m)}for(m=0;m<N.length;m++)T(t,N[m])}else f(t);return!0}},72391:function(G,H,e){var y=e(39898),P=e(92770),a=e(57035),L=e(71828),M=L.nestedProperty,v=e(11086),p=e(10847),r=e(73972),t=e(86281),o=e(74875),n=e(89298),c=e(23608),u=e(13838),l=e(91424),g=e(7901),f=e(4305).initInteractions,T=e(77922),h=e(47322).clearOutline,s=e(72075).dfltConfig,d=e(6611),A=e(58377),w=e(61549),C=e(30962),b=e(85555).AX_NAME_PATTERN,S=0,x=5;function i(Ae,Ue,Ze,tt){var ft;if(Ae=L.getGraphDiv(Ae),v.init(Ae),L.isPlainObject(Ue)){var pt=Ue;Ue=pt.data,Ze=pt.layout,tt=pt.config,ft=pt.frames}var Yt=v.triggerHandler(Ae,"plotly_beforeplot",[Ue,Ze,tt]);if(Yt===!1)return Promise.reject();!Ue&&!Ze&&!L.isPlotDiv(Ae)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ae);function Jt(){if(ft)return H.addFrames(Ae,ft)}U(Ae,tt),Ze||(Ze={}),y.select(Ae).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Ae._promises)||(Ae._promises=[]);var Tt=(Ae.data||[]).length===0&&Array.isArray(Ue);Array.isArray(Ue)&&(A.cleanData(Ue),Tt?Ae.data=Ue:Ae.data.push.apply(Ae.data,Ue),Ae.empty=!1),(!Ae.layout||Tt)&&(Ae.layout=A.cleanLayout(Ze)),o.supplyDefaults(Ae);var zt=Ae._fullLayout,$t=zt._has("cartesian");zt._replotting=!0,(Tt||zt._shouldCreateBgLayer)&&(Me(Ae),zt._shouldCreateBgLayer&&delete zt._shouldCreateBgLayer),l.initGradients(Ae),l.initPatterns(Ae),Tt&&n.saveShowSpikeInitial(Ae);var wr=!Ae.calcdata||Ae.calcdata.length!==(Ae._fullData||[]).length;wr&&o.doCalcdata(Ae);for(var yt=0;yt<Ae.calcdata.length;yt++)Ae.calcdata[yt][0].trace=Ae._fullData[yt];Ae._context.responsive?Ae._responsiveChartHandler||(Ae._responsiveChartHandler=function(){L.isHidden(Ae)||o.resize(Ae)},window.addEventListener("resize",Ae._responsiveChartHandler)):L.clearResponsive(Ae);var Xt=L.extendFlat({},zt._size),Qt=0;function gr(){for(var Bt=zt._basePlotModules,Nt=0;Nt<Bt.length;Nt++)Bt[Nt].drawFramework&&Bt[Nt].drawFramework(Ae);!zt._glcanvas&&zt._has("gl")&&(zt._glcanvas=zt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(hr){return hr.key}),zt._glcanvas.enter().append("canvas").attr("class",function(hr){return"gl-canvas gl-canvas-"+hr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var jt=Ae._context.plotGlPixelRatio;if(zt._glcanvas){zt._glcanvas.attr("width",zt.width*jt).attr("height",zt.height*jt).style("width",zt.width+"px").style("height",zt.height+"px");var lr=zt._glcanvas.data()[0].regl;if(lr&&(Math.floor(zt.width*jt)!==lr._gl.drawingBufferWidth||Math.floor(zt.height*jt)!==lr._gl.drawingBufferHeight)){var fr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)L.error(fr);else return L.log(fr+" Clearing graph and plotting again."),o.cleanPlot([],{},Ae._fullData,zt),o.supplyDefaults(Ae),zt=Ae._fullLayout,o.doCalcdata(Ae),Qt++,gr()}}return zt.modebar.orientation==="h"?zt._modebardiv.style("height",null).style("width","100%"):zt._modebardiv.style("width",null).style("height",zt.height+"px"),o.previousPromises(Ae)}function sr(){if(o.clearAutoMarginIds(Ae),w.drawMarginPushers(Ae),n.allowAutoMargin(Ae),Ae._fullLayout.title.text&&Ae._fullLayout.title.automargin&&o.allowAutoMargin(Ae,"title.automargin"),zt._has("pie"))for(var Bt=Ae._fullData,Nt=0;Nt<Bt.length;Nt++){var jt=Bt[Nt];jt.type==="pie"&&jt.automargin&&o.allowAutoMargin(Ae,"pie."+jt.uid+".automargin")}return o.doAutoMargin(Ae),o.previousPromises(Ae)}function vt(){if(o.didMarginChange(Xt,zt._size))return L.syncOrAsync([sr,w.layoutStyles],Ae)}function it(){if(!wr){xt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),xt],Ae)}function xt(){Ae._transitioning||(w.doAutoRangeAndConstraints(Ae),Tt&&n.saveRangeInitial(Ae),r.getComponentMethod("rangeslider","calcAutorange")(Ae))}function Mt(){return n.draw(Ae,Tt?"":"redraw")}var Dt=[o.previousPromises,Jt,gr,sr,vt];$t&&Dt.push(it),Dt.push(w.layoutStyles),$t&&Dt.push(Mt,function(Nt){var jt=Nt._fullLayout._insideTickLabelsUpdaterange;if(jt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Ee(Nt,jt).then(function(){n.saveRangeInitial(Nt,!0)})}),Dt.push(w.drawData,w.finalDraw,f,o.addLinks,o.rehover,o.redrag,o.reselect,o.doAutoMargin,o.previousPromises);var Lt=L.syncOrAsync(Dt,Ae);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return E(Ae),Ae})}function E(Ae){var Ue=Ae._fullLayout;Ue._redrawFromAutoMarginCount?Ue._redrawFromAutoMarginCount--:Ae.emit("plotly_afterplot")}function m(Ae){return L.extendFlat(s,Ae)}function k(Ae,Ue){try{Ae._fullLayout._paper.style("background",Ue)}catch(Ze){L.error(Ze)}}function I(Ae,Ue){var Ze=g.combine(Ue,"white");k(Ae,Ze)}function U(Ae,Ue){if(!Ae._context){Ae._context=L.extendDeep({},s);var Ze=y.select("base");Ae._context._baseUrl=Ze.size()&&Ze.attr("href")?window.location.href.split("#")[0]:""}var tt=Ae._context,ft,pt,Yt;if(Ue){for(pt=Object.keys(Ue),ft=0;ft<pt.length;ft++)Yt=pt[ft],!(Yt==="editable"||Yt==="edits")&&Yt in tt&&(Yt==="setBackground"&&Ue[Yt]==="opaque"?tt[Yt]=I:tt[Yt]=Ue[Yt]);Ue.plot3dPixelRatio&&!tt.plotGlPixelRatio&&(tt.plotGlPixelRatio=tt.plot3dPixelRatio);var Jt=Ue.editable;if(Jt!==void 0)for(tt.editable=Jt,pt=Object.keys(tt.edits),ft=0;ft<pt.length;ft++)tt.edits[pt[ft]]=Jt;if(Ue.edits)for(pt=Object.keys(Ue.edits),ft=0;ft<pt.length;ft++)Yt=pt[ft],Yt in tt.edits&&(tt.edits[Yt]=Ue.edits[Yt]);tt._exportedPlot=Ue._exportedPlot}tt.staticPlot&&(tt.editable=!1,tt.edits={},tt.autosizable=!1,tt.scrollZoom=!1,tt.doubleClick=!1,tt.showTips=!1,tt.showLink=!1,tt.displayModeBar=!1),tt.displayModeBar==="hover"&&!a&&(tt.displayModeBar=!0),(tt.setBackground==="transparent"||typeof tt.setBackground!="function")&&(tt.setBackground=k),tt._hasZeroHeight=tt._hasZeroHeight||Ae.clientHeight===0,tt._hasZeroWidth=tt._hasZeroWidth||Ae.clientWidth===0;var Tt=tt.scrollZoom,zt=tt._scrollZoom={};if(Tt===!0)zt.cartesian=1,zt.gl3d=1,zt.geo=1,zt.mapbox=1;else if(typeof Tt=="string"){var $t=Tt.split("+");for(ft=0;ft<$t.length;ft++)zt[$t[ft]]=1}else Tt!==!1&&(zt.gl3d=1,zt.geo=1,zt.mapbox=1)}function z(Ae){if(Ae=L.getGraphDiv(Ae),!L.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae);return A.cleanData(Ae.data),A.cleanLayout(Ae.layout),Ae.calcdata=void 0,H._doPlot(Ae).then(function(){return Ae.emit("plotly_redraw"),Ae})}function F(Ae,Ue,Ze,tt){return Ae=L.getGraphDiv(Ae),o.cleanPlot([],{},Ae._fullData||[],Ae._fullLayout||{}),o.purge(Ae),H._doPlot(Ae,Ue,Ze,tt)}function B(Ae,Ue){var Ze=Ue+1,tt=[],ft,pt;for(ft=0;ft<Ae.length;ft++)pt=Ae[ft],pt<0?tt.push(Ze+pt):tt.push(pt);return tt}function O(Ae,Ue,Ze){var tt,ft;for(tt=0;tt<Ue.length;tt++){if(ft=Ue[tt],ft!==parseInt(ft,10))throw new Error("all values in "+Ze+" must be integers");if(ft>=Ae.data.length||ft<-Ae.data.length)throw new Error(Ze+" must be valid indices for gd.data.");if(Ue.indexOf(ft,tt+1)>-1||ft>=0&&Ue.indexOf(-Ae.data.length+ft)>-1||ft<0&&Ue.indexOf(Ae.data.length+ft)>-1)throw new Error("each index in "+Ze+" must be unique.")}}function N(Ae,Ue,Ze){if(!Array.isArray(Ae.data))throw new Error("gd.data must be an array.");if(typeof Ue>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ue)||(Ue=[Ue]),O(Ae,Ue,"currentIndices"),typeof Ze<"u"&&!Array.isArray(Ze)&&(Ze=[Ze]),typeof Ze<"u"&&O(Ae,Ze,"newIndices"),typeof Ze<"u"&&Ue.length!==Ze.length)throw new Error("current and new indices must be of equal length.")}function Y(Ae,Ue,Ze){var tt,ft;if(!Array.isArray(Ae.data))throw new Error("gd.data must be an array.");if(typeof Ue>"u")throw new Error("traces must be defined.");for(Array.isArray(Ue)||(Ue=[Ue]),tt=0;tt<Ue.length;tt++)if(ft=Ue[tt],typeof ft!="object"||Array.isArray(ft)||ft===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ze<"u"&&!Array.isArray(Ze)&&(Ze=[Ze]),typeof Ze<"u"&&Ze.length!==Ue.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function $(Ae,Ue,Ze,tt){var ft=L.isPlainObject(tt);if(!Array.isArray(Ae.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(Ue))throw new Error("update must be a key:value object");if(typeof Ze>"u")throw new Error("indices must be an integer or array of integers");O(Ae,Ze,"indices");for(var pt in Ue){if(!Array.isArray(Ue[pt])||Ue[pt].length!==Ze.length)throw new Error("attribute "+pt+" must be an array of length equal to indices array length");if(ft&&(!(pt in tt)||!Array.isArray(tt[pt])||tt[pt].length!==Ue[pt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function te(Ae,Ue,Ze,tt){var ft=L.isPlainObject(tt),pt=[],Yt,Jt,Tt,zt,$t;Array.isArray(Ze)||(Ze=[Ze]),Ze=B(Ze,Ae.data.length-1);for(var wr in Ue)for(var yt=0;yt<Ze.length;yt++){if(Yt=Ae.data[Ze[yt]],Tt=M(Yt,wr),Jt=Tt.get(),zt=Ue[wr][yt],!L.isArrayOrTypedArray(zt))throw new Error("attribute: "+wr+" index: "+yt+" must be an array");if(!L.isArrayOrTypedArray(Jt))throw new Error("cannot extend missing or non-array attribute: "+wr);if(Jt.constructor!==zt.constructor)throw new Error("cannot extend array with an array of a different type: "+wr);$t=ft?tt[wr][yt]:tt,P($t)||($t=-1),pt.push({prop:Tt,target:Jt,insert:zt,maxp:Math.floor($t)})}return pt}function ie(Ae,Ue,Ze,tt,ft){$(Ae,Ue,Ze,tt);for(var pt=te(Ae,Ue,Ze,tt),Yt={},Jt={},Tt=0;Tt<pt.length;Tt++){var zt=pt[Tt].prop,$t=pt[Tt].maxp,wr=ft(pt[Tt].target,pt[Tt].insert,$t);zt.set(wr[0]),Array.isArray(Yt[zt.astr])||(Yt[zt.astr]=[]),Yt[zt.astr].push(wr[1]),Array.isArray(Jt[zt.astr])||(Jt[zt.astr]=[]),Jt[zt.astr].push(pt[Tt].target.length)}return{update:Yt,maxPoints:Jt}}function ce(Ae,Ue){var Ze=new Ae.constructor(Ae.length+Ue.length);return Ze.set(Ae),Ze.set(Ue,Ae.length),Ze}function J(Ae,Ue,Ze,tt){Ae=L.getGraphDiv(Ae);function ft(Tt,zt,$t){var wr,yt;if(L.isTypedArray(Tt))if($t<0){var Xt=new Tt.constructor(0),Qt=ce(Tt,zt);$t<0?(wr=Qt,yt=Xt):(wr=Xt,yt=Qt)}else if(wr=new Tt.constructor($t),yt=new Tt.constructor(Tt.length+zt.length-$t),$t===zt.length)wr.set(zt),yt.set(Tt);else if($t<zt.length){var gr=zt.length-$t;wr.set(zt.subarray(gr)),yt.set(Tt),yt.set(zt.subarray(0,gr),Tt.length)}else{var sr=$t-zt.length,vt=Tt.length-sr;wr.set(Tt.subarray(vt)),wr.set(zt,sr),yt.set(Tt.subarray(0,vt))}else wr=Tt.concat(zt),yt=$t>=0&&$t<wr.length?wr.splice(0,wr.length-$t):[];return[wr,yt]}var pt=ie(Ae,Ue,Ze,tt,ft),Yt=H.redraw(Ae),Jt=[Ae,pt.update,Ze,pt.maxPoints];return p.add(Ae,H.prependTraces,Jt,J,arguments),Yt}function Z(Ae,Ue,Ze,tt){Ae=L.getGraphDiv(Ae);function ft(Tt,zt,$t){var wr,yt;if(L.isTypedArray(Tt))if($t<=0){var Xt=new Tt.constructor(0),Qt=ce(zt,Tt);$t<0?(wr=Qt,yt=Xt):(wr=Xt,yt=Qt)}else if(wr=new Tt.constructor($t),yt=new Tt.constructor(Tt.length+zt.length-$t),$t===zt.length)wr.set(zt),yt.set(Tt);else if($t<zt.length){var gr=zt.length-$t;wr.set(zt.subarray(0,gr)),yt.set(zt.subarray(gr)),yt.set(Tt,gr)}else{var sr=$t-zt.length;wr.set(zt),wr.set(Tt.subarray(0,sr),zt.length),yt.set(Tt.subarray(sr))}else wr=zt.concat(Tt),yt=$t>=0&&$t<wr.length?wr.splice($t,wr.length):[];return[wr,yt]}var pt=ie(Ae,Ue,Ze,tt,ft),Yt=H.redraw(Ae),Jt=[Ae,pt.update,Ze,pt.maxPoints];return p.add(Ae,H.extendTraces,Jt,Z,arguments),Yt}function ae(Ae,Ue,Ze){Ae=L.getGraphDiv(Ae);var tt=[],ft=H.deleteTraces,pt=ae,Yt=[Ae,tt],Jt=[Ae,Ue],Tt,zt;for(Y(Ae,Ue,Ze),Array.isArray(Ue)||(Ue=[Ue]),Ue=Ue.map(function($t){return L.extendFlat({},$t)}),A.cleanData(Ue),Tt=0;Tt<Ue.length;Tt++)Ae.data.push(Ue[Tt]);for(Tt=0;Tt<Ue.length;Tt++)tt.push(-Ue.length+Tt);if(typeof Ze>"u")return zt=H.redraw(Ae),p.add(Ae,ft,Yt,pt,Jt),zt;Array.isArray(Ze)||(Ze=[Ze]);try{N(Ae,tt,Ze)}catch($t){throw Ae.data.splice(Ae.data.length-Ue.length,Ue.length),$t}return p.startSequence(Ae),p.add(Ae,ft,Yt,pt,Jt),zt=H.moveTraces(Ae,tt,Ze),p.stopSequence(Ae),zt}function j(Ae,Ue){Ae=L.getGraphDiv(Ae);var Ze=[],tt=H.addTraces,ft=j,pt=[Ae,Ze,Ue],Yt=[Ae,Ue],Jt,Tt;if(typeof Ue>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ue)||(Ue=[Ue]),O(Ae,Ue,"indices"),Ue=B(Ue,Ae.data.length-1),Ue.sort(L.sorterDes),Jt=0;Jt<Ue.length;Jt+=1)Tt=Ae.data.splice(Ue[Jt],1)[0],Ze.push(Tt);var zt=H.redraw(Ae);return p.add(Ae,tt,pt,ft,Yt),zt}function q(Ae,Ue,Ze){Ae=L.getGraphDiv(Ae);var tt=[],ft=[],pt=q,Yt=q,Jt=[Ae,Ze,Ue],Tt=[Ae,Ue,Ze],zt;if(N(Ae,Ue,Ze),Ue=Array.isArray(Ue)?Ue:[Ue],typeof Ze>"u")for(Ze=[],zt=0;zt<Ue.length;zt++)Ze.push(-Ue.length+zt);for(Ze=Array.isArray(Ze)?Ze:[Ze],Ue=B(Ue,Ae.data.length-1),Ze=B(Ze,Ae.data.length-1),zt=0;zt<Ae.data.length;zt++)Ue.indexOf(zt)===-1&&tt.push(Ae.data[zt]);for(zt=0;zt<Ue.length;zt++)ft.push({newIndex:Ze[zt],trace:Ae.data[Ue[zt]]});for(ft.sort(function(wr,yt){return wr.newIndex-yt.newIndex}),zt=0;zt<ft.length;zt+=1)tt.splice(ft[zt].newIndex,0,ft[zt].trace);Ae.data=tt;var $t=H.redraw(Ae);return p.add(Ae,pt,Jt,Yt,Tt),$t}function oe(Ae,Ue,Ze,tt){Ae=L.getGraphDiv(Ae),A.clearPromiseQueue(Ae);var ft={};if(typeof Ue=="string")ft[Ue]=Ze;else if(L.isPlainObject(Ue))ft=L.extendFlat({},Ue),tt===void 0&&(tt=Ze);else return L.warn("Restyle fail.",Ue,Ze,tt),Promise.reject();Object.keys(ft).length&&(Ae.changed=!0);var pt=A.coerceTraceIndices(Ae,tt),Yt=fe(Ae,ft,pt),Jt=Yt.flags;Jt.calc&&(Ae.calcdata=void 0),Jt.clearAxisTypes&&A.clearAxisTypes(Ae,pt,{});var Tt=[];Jt.fullReplot?Tt.push(H._doPlot):(Tt.push(o.previousPromises),o.supplyDefaults(Ae),Jt.markerSize&&(o.doCalcdata(Ae),ze(Tt)),Jt.style&&Tt.push(w.doTraceStyle),Jt.colorbars&&Tt.push(w.doColorBars),Tt.push(E)),Tt.push(o.rehover,o.redrag,o.reselect),p.add(Ae,oe,[Ae,Yt.undoit,Yt.traces],oe,[Ae,Yt.redoit,Yt.traces]);var zt=L.syncOrAsync(Tt,Ae);return(!zt||!zt.then)&&(zt=Promise.resolve()),zt.then(function(){return Ae.emit("plotly_restyle",Yt.eventData),Ae})}function Q(Ae){return Ae===void 0?null:Ae}function K(Ae,Ue){return Ue?function(Ze,tt,ft){var pt=M(Ze,tt),Yt=pt.set;return pt.set=function(Jt){var Tt=(ft||"")+tt;se(Tt,pt.get(),Jt,Ae),Yt(Jt)},pt}:M}function se(Ae,Ue,Ze,tt){if(Array.isArray(Ue)||Array.isArray(Ze))for(var ft=Array.isArray(Ue)?Ue:[],pt=Array.isArray(Ze)?Ze:[],Yt=Math.max(ft.length,pt.length),Jt=0;Jt<Yt;Jt++)se(Ae+"["+Jt+"]",ft[Jt],pt[Jt],tt);else if(L.isPlainObject(Ue)||L.isPlainObject(Ze)){var Tt=L.isPlainObject(Ue)?Ue:{},zt=L.isPlainObject(Ze)?Ze:{},$t=L.extendFlat({},Tt,zt);for(var wr in $t)se(Ae+"."+wr,Tt[wr],zt[wr],tt)}else tt[Ae]===void 0&&(tt[Ae]=Q(Ue))}function ne(Ae,Ue,Ze){for(var tt in Ze){var ft=M(Ae,tt);se(tt,ft.get(),Ze[tt],Ue)}}function fe(Ae,Ue,Ze){var tt=Ae._fullLayout,ft=Ae._fullData,pt=Ae.data,Yt=tt._guiEditing,Jt=K(tt._preGUI,Yt),Tt=L.extendDeepAll({},Ue),zt;ye(Ue);var $t=C.traceFlags(),wr={},yt={},Xt;function Qt(){return Ze.map(function(){})}function gr(mn){var Mr=n.id2name(mn);Xt.indexOf(Mr)===-1&&Xt.push(Mr)}function sr(mn){return"LAYOUT"+mn+".autorange"}function vt(mn){return"LAYOUT"+mn+".range"}function it(mn){for(var Mr=mn;Mr<ft.length;Mr++)if(ft[Mr]._input===pt[mn])return ft[Mr]}function xt(mn,Mr,Er){if(Array.isArray(mn)){mn.forEach(function(vn){xt(vn,Mr,Er)});return}if(!(mn in Ue||A.hasParent(Ue,mn))){var Wr;if(mn.substr(0,6)==="LAYOUT")Wr=Jt(Ae.layout,mn.replace("LAYOUT",""));else{var Hr=Ze[Er],an=tt._tracePreGUI[it(Hr)._fullInput.uid];Wr=K(an,Yt)(pt[Hr],mn)}mn in yt||(yt[mn]=Qt()),yt[mn][Er]===void 0&&(yt[mn][Er]=Q(Wr.get())),Mr!==void 0&&Wr.set(Mr)}}function Mt(mn){return function(Mr){return ft[Mr][mn]}}function Dt(mn){return function(Mr,Er){return Mr===!1?ft[Ze[Er]][mn]:null}}for(var Lt in Ue){if(A.hasParent(Ue,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");var Bt=Ue[Lt],Nt,jt,lr,fr,hr,Ye;if((Lt==="autobinx"||Lt==="autobiny")&&(Lt=Lt.charAt(Lt.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Lt)):Bt===!1?Bt=Ze.map(Mt(Lt)):Bt=null),wr[Lt]=Bt,Lt.substr(0,6)==="LAYOUT"){lr=Jt(Ae.layout,Lt.replace("LAYOUT","")),yt[Lt]=[Q(lr.get())],lr.set(Array.isArray(Bt)?Bt[0]:Bt),$t.calc=!0;continue}for(yt[Lt]=Qt(),zt=0;zt<Ze.length;zt++){Nt=pt[Ze[zt]],jt=it(Ze[zt]);var We=tt._tracePreGUI[jt._fullInput.uid];if(lr=K(We,Yt)(Nt,Lt),fr=lr.get(),hr=Array.isArray(Bt)?Bt[zt%Bt.length]:Bt,hr!==void 0){var kt=lr.parts[lr.parts.length-1],It=Lt.substr(0,Lt.length-kt.length-1),Zt=It?It+".":"",rr=It?M(jt,It).get():jt;if(Ye=t.getTraceValObject(jt,lr.parts),Ye&&Ye.impliedEdits&&hr!==null)for(var ur in Ye.impliedEdits)xt(L.relativeAttr(Lt,ur),Ye.impliedEdits[ur],zt);else if((kt==="thicknessmode"||kt==="lenmode")&&fr!==hr&&(hr==="fraction"||hr==="pixels")&&rr){var er=tt._size,Ot=rr.orient,vr=Ot==="top"||Ot==="bottom";if(kt==="thicknessmode"){var yr=vr?er.h:er.w;xt(Zt+"thickness",rr.thickness*(hr==="fraction"?1/yr:yr),zt)}else{var pr=vr?er.w:er.h;xt(Zt+"len",rr.len*(hr==="fraction"?1/pr:pr),zt)}}else if(Lt==="type"&&(hr==="pie"!=(fr==="pie")||hr==="funnelarea"!=(fr==="funnelarea"))){var cr="x",Ur="y";(hr==="bar"||fr==="bar")&&Nt.orientation==="h"&&(cr="y",Ur="x"),L.swapAttrs(Nt,["?","?src"],"labels",cr),L.swapAttrs(Nt,["d?","?0"],"label",cr),L.swapAttrs(Nt,["?","?src"],"values",Ur),fr==="pie"||fr==="funnelarea"?(M(Nt,"marker.color").set(M(Nt,"marker.colors").get()),tt._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&M(Nt,"marker.colors").set(M(Nt,"marker.color").get())}yt[Lt][zt]=Q(fr);var kr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(kr.indexOf(Lt)!==-1){if(Lt==="orientation"){lr.set(hr);var Rr=Nt.x&&!Nt.y?"h":"v";if((lr.get()||Rr)===jt.orientation)continue}else Lt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[jt.orientation]);A.swapXYData(Nt),$t.calc=$t.clearAxisTypes=!0}else o.dataArrayContainers.indexOf(lr.parts[0])!==-1?(A.manageArrayContainers(lr,hr,yt),$t.calc=!0):(Ye?Ye.arrayOk&&!r.traceIs(jt,"regl")&&(L.isArrayOrTypedArray(hr)||L.isArrayOrTypedArray(fr))?$t.calc=!0:C.update($t,Ye):$t.calc=!0,lr.set(hr))}}if(["swapxyaxes","orientationaxes"].indexOf(Lt)!==-1&&n.swap(Ae,Ze),Lt==="orientationaxes"){var hn=M(Ae.layout,"hovermode"),tn=hn.get();tn==="x"?hn.set("y"):tn==="y"?hn.set("x"):tn==="x unified"?hn.set("y unified"):tn==="y unified"&&hn.set("x unified")}if(["orientation","type"].indexOf(Lt)!==-1){for(Xt=[],zt=0;zt<Ze.length;zt++){var Fn=pt[Ze[zt]];r.traceIs(Fn,"cartesian")&&(gr(Fn.xaxis||"x"),gr(Fn.yaxis||"y"))}xt(Xt.map(sr),!0,0),xt(Xt.map(vt),[0,1],0)}}return($t.calc||$t.plot)&&($t.fullReplot=!0),{flags:$t,undoit:yt,redoit:wr,traces:Ze,eventData:L.extendDeepNoArrays([],[Tt,Ze])}}function ye(Ae){var Ue=L.counterRegex("axis",".title",!1,!1),Ze=/colorbar\.title$/,tt=Object.keys(Ae),ft,pt,Yt;for(ft=0;ft<tt.length;ft++)pt=tt[ft],Yt=Ae[pt],(pt==="title"||Ue.test(pt)||Ze.test(pt))&&(typeof Yt=="string"||typeof Yt=="number")?Jt(pt,pt.replace("title","title.text")):pt.indexOf("titlefont")>-1&&pt.indexOf("grouptitlefont")===-1?Jt(pt,pt.replace("titlefont","title.font")):pt.indexOf("titleposition")>-1?Jt(pt,pt.replace("titleposition","title.position")):pt.indexOf("titleside")>-1?Jt(pt,pt.replace("titleside","title.side")):pt.indexOf("titleoffset")>-1&&Jt(pt,pt.replace("titleoffset","title.offset"));function Jt(Tt,zt){Ae[zt]=Ae[Tt],delete Ae[Tt]}}function Ee(Ae,Ue,Ze){Ae=L.getGraphDiv(Ae),A.clearPromiseQueue(Ae);var tt={};if(typeof Ue=="string")tt[Ue]=Ze;else if(L.isPlainObject(Ue))tt=L.extendFlat({},Ue);else return L.warn("Relayout fail.",Ue,Ze),Promise.reject();Object.keys(tt).length&&(Ae.changed=!0);var ft=Ce(Ae,tt),pt=ft.flags;pt.calc&&(Ae.calcdata=void 0);var Yt=[o.previousPromises];pt.layoutReplot?Yt.push(w.layoutReplot):Object.keys(tt).length&&(Te(Ae,pt,ft)||o.supplyDefaults(Ae),pt.legend&&Yt.push(w.doLegend),pt.layoutstyle&&Yt.push(w.layoutStyles),pt.axrange&&ze(Yt,ft.rangesAltered),pt.ticks&&Yt.push(w.doTicksRelayout),pt.modebar&&Yt.push(w.doModeBar),pt.camera&&Yt.push(w.doCamera),pt.colorbars&&Yt.push(w.doColorBars),Yt.push(E)),Yt.push(o.rehover,o.redrag,o.reselect),p.add(Ae,Ee,[Ae,ft.undoit],Ee,[Ae,ft.redoit]);var Jt=L.syncOrAsync(Yt,Ae);return(!Jt||!Jt.then)&&(Jt=Promise.resolve(Ae)),Jt.then(function(){return Ae.emit("plotly_relayout",ft.eventData),Ae})}function Te(Ae,Ue,Ze){var tt=Ae._fullLayout;if(!Ue.axrange)return!1;for(var ft in Ue)if(ft!=="axrange"&&Ue[ft])return!1;var pt,Yt,Jt=function(Xt,Qt){return L.coerce(pt,Yt,u,Xt,Qt)},Tt={};for(var zt in Ze.rangesAltered){var $t=n.id2name(zt);if(pt=Ae.layout[$t],Yt=tt[$t],c(pt,Yt,Jt,Tt),Yt._matchGroup){for(var wr in Yt._matchGroup)if(wr!==zt){var yt=tt[n.id2name(wr)];yt.autorange=Yt.autorange,yt.range=Yt.range.slice(),yt._input.range=Yt.range.slice()}}}return!0}function ze(Ae,Ue){var Ze=Ue?function(tt){var ft=[],pt=!0;for(var Yt in Ue){var Jt=n.getFromId(tt,Yt);if(ft.push(Yt),(Jt.ticklabelposition||"").indexOf("inside")!==-1&&Jt._anchorAxis&&ft.push(Jt._anchorAxis._id),Jt._matchGroup)for(var Tt in Jt._matchGroup)Ue[Tt]||ft.push(Tt)}return n.draw(tt,ft,{skipTitle:pt})}:function(tt){return n.draw(tt,"redraw")};Ae.push(h,w.doAutoRangeAndConstraints,Ze,w.drawData,w.finalDraw)}var ke=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Se=/^[xyz]axis[0-9]*\.autorange$/,me=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ce(Ae,Ue){var Ze=Ae.layout,tt=Ae._fullLayout,ft=tt._guiEditing,pt=K(tt._preGUI,ft),Yt=Object.keys(Ue),Jt=n.list(Ae),Tt=L.extendDeepAll({},Ue),zt={},$t,wr,yt;for(ye(Ue),Yt=Object.keys(Ue),wr=0;wr<Yt.length;wr++)if(Yt[wr].indexOf("allaxes")===0){for(yt=0;yt<Jt.length;yt++){var Xt=Jt[yt]._id.substr(1),Qt=Xt.indexOf("scene")!==-1?Xt+".":"",gr=Yt[wr].replace("allaxes",Qt+Jt[yt]._name);Ue[gr]||(Ue[gr]=Ue[Yt[wr]])}delete Ue[Yt[wr]]}var sr=C.layoutFlags(),vt={},it={};function xt(an,vn){if(Array.isArray(an)){an.forEach(function(En){xt(En,vn)});return}if(!(an in Ue||A.hasParent(Ue,an))){var pn=pt(Ze,an);an in it||(it[an]=Q(pn.get())),vn!==void 0&&pn.set(vn)}}var Mt={},Dt;function Lt(an){var vn=n.name2id(an.split(".")[0]);return Mt[vn]=1,vn}for(var Bt in Ue){if(A.hasParent(Ue,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Nt=pt(Ze,Bt),jt=Ue[Bt],lr=Nt.parts.length,fr=lr-1;fr>0&&typeof Nt.parts[fr]!="string";)fr--;var hr=Nt.parts[fr],Ye=Nt.parts[fr-1]+"."+hr,We=Nt.parts.slice(0,fr).join("."),kt=M(Ae.layout,We).get(),It=M(tt,We).get(),Zt=Nt.get();if(jt!==void 0){vt[Bt]=jt,it[Bt]=hr==="reverse"?jt:Q(Zt);var rr=t.getLayoutValObject(tt,Nt.parts);if(rr&&rr.impliedEdits&&jt!==null)for(var ur in rr.impliedEdits)xt(L.relativeAttr(Bt,ur),rr.impliedEdits[ur]);if(["width","height"].indexOf(Bt)!==-1)if(jt){xt("autosize",null);var er=Bt==="height"?"width":"height";xt(er,tt[er])}else tt[Bt]=Ae._initialAutoSize[Bt];else if(Bt==="autosize")xt("width",jt?null:tt.width),xt("height",jt?null:tt.height);else if(Ye.match(ke))Lt(Ye),M(tt,We+"._inputRange").set(null);else if(Ye.match(Se)){Lt(Ye),M(tt,We+"._inputRange").set(null);var Ot=M(tt,We).get();Ot._inputDomain&&(Ot._input.domain=Ot._inputDomain.slice())}else Ye.match(me)&&M(tt,We+"._inputDomain").set(null);if(hr==="type"){Dt=kt;var vr=It.type==="linear"&&jt==="log",yr=It.type==="log"&&jt==="linear";if(vr||yr){if(!Dt||!Dt.range)xt(We+".autorange",!0);else if(It.autorange)vr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var pr=Dt.range[0],cr=Dt.range[1];vr?(pr<=0&&cr<=0&&xt(We+".autorange",!0),pr<=0?pr=cr/1e6:cr<=0&&(cr=pr/1e6),xt(We+".range[0]",Math.log(pr)/Math.LN10),xt(We+".range[1]",Math.log(cr)/Math.LN10)):(xt(We+".range[0]",Math.pow(10,pr)),xt(We+".range[1]",Math.pow(10,cr)))}Array.isArray(tt._subplots.polar)&&tt._subplots.polar.length&&tt[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete tt[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Ae,It,jt,xt),r.getComponentMethod("images","convertCoords")(Ae,It,jt,xt)}else xt(We+".autorange",!0),xt(We+".range",null);M(tt,We+"._inputRange").set(null)}else if(hr.match(b)){var Ur=M(tt,Bt).get(),kr=(jt||{}).type;(!kr||kr==="-")&&(kr="linear"),r.getComponentMethod("annotations","convertCoords")(Ae,Ur,kr,xt),r.getComponentMethod("images","convertCoords")(Ae,Ur,kr,xt)}var Rr=d.containerArrayMatch(Bt);if(Rr){$t=Rr.array,wr=Rr.index;var hn=Rr.property,tn=rr||{editType:"calc"};wr!==""&&hn===""&&(d.isAddVal(jt)?it[Bt]=null:d.isRemoveVal(jt)?it[Bt]=(M(Ze,$t).get()||[])[wr]:L.warn("unrecognized full object value",Ue)),C.update(sr,tn),zt[$t]||(zt[$t]={});var Fn=zt[$t][wr];Fn||(Fn=zt[$t][wr]={}),Fn[hn]=jt,delete Ue[Bt]}else hr==="reverse"?(kt.range?kt.range.reverse():(xt(We+".autorange",!0),kt.range=[1,0]),It.autorange?sr.calc=!0:sr.plot=!0):(Bt==="dragmode"&&(jt===!1&&Zt!==!1||jt!==!1&&Zt===!1)||tt._has("scatter-like")&&tt._has("regl")&&Bt==="dragmode"&&(jt==="lasso"||jt==="select")&&!(Zt==="lasso"||Zt==="select")||tt._has("gl2d")?sr.plot=!0:rr?C.update(sr,rr):sr.calc=!0,Nt.set(jt))}}for($t in zt){var mn=d.applyContainerArrayChanges(Ae,pt(Ze,$t),zt[$t],sr,pt);mn||(sr.plot=!0)}for(var Mr in Mt){Dt=n.getFromId(Ae,Mr);var Er=Dt&&Dt._constraintGroup;if(Er){sr.calc=!0;for(var Wr in Er)Mt[Wr]||(n.getFromId(Ae,Wr)._constraintShrinkable=!0)}}(Ne(Ae)||Ue.height||Ue.width)&&(sr.plot=!0);var Hr=tt.shapes;for(wr=0;wr<Hr.length;wr++)if(Hr[wr].showlegend){sr.calc=!0;break}return(sr.plot||sr.calc)&&(sr.layoutReplot=!0),{flags:sr,rangesAltered:Mt,undoit:it,redoit:vt,eventData:Tt}}function Ne(Ae){var Ue=Ae._fullLayout,Ze=Ue.width,tt=Ue.height;return Ae.layout.autosize&&o.plotAutoSize(Ae,Ae.layout,Ue),Ue.width!==Ze||Ue.height!==tt}function He(Ae,Ue,Ze,tt){Ae=L.getGraphDiv(Ae),A.clearPromiseQueue(Ae),L.isPlainObject(Ue)||(Ue={}),L.isPlainObject(Ze)||(Ze={}),Object.keys(Ue).length&&(Ae.changed=!0),Object.keys(Ze).length&&(Ae.changed=!0);var ft=A.coerceTraceIndices(Ae,tt),pt=fe(Ae,L.extendFlat({},Ue),ft),Yt=pt.flags,Jt=Ce(Ae,L.extendFlat({},Ze)),Tt=Jt.flags;(Yt.calc||Tt.calc)&&(Ae.calcdata=void 0),Yt.clearAxisTypes&&A.clearAxisTypes(Ae,ft,Ze);var zt=[];Tt.layoutReplot?zt.push(w.layoutReplot):Yt.fullReplot?zt.push(H._doPlot):(zt.push(o.previousPromises),Te(Ae,Tt,Jt)||o.supplyDefaults(Ae),Yt.style&&zt.push(w.doTraceStyle),(Yt.colorbars||Tt.colorbars)&&zt.push(w.doColorBars),Tt.legend&&zt.push(w.doLegend),Tt.layoutstyle&&zt.push(w.layoutStyles),Tt.axrange&&ze(zt,Jt.rangesAltered),Tt.ticks&&zt.push(w.doTicksRelayout),Tt.modebar&&zt.push(w.doModeBar),Tt.camera&&zt.push(w.doCamera),zt.push(E)),zt.push(o.rehover,o.redrag,o.reselect),p.add(Ae,He,[Ae,pt.undoit,Jt.undoit,pt.traces],He,[Ae,pt.redoit,Jt.redoit,pt.traces]);var $t=L.syncOrAsync(zt,Ae);return(!$t||!$t.then)&&($t=Promise.resolve(Ae)),$t.then(function(){return Ae.emit("plotly_update",{data:pt.eventData,layout:Jt.eventData}),Ae})}function De(Ae){return function(Ze){Ze._fullLayout._guiEditing=!0;var tt=Ae.apply(null,arguments);return Ze._fullLayout._guiEditing=!1,tt}}var Ve=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],at=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function lt(Ae,Ue){for(var Ze=0;Ze<Ue.length;Ze++){var tt=Ue[Ze],ft=Ae.match(tt.pattern);if(ft){var pt=ft[1]||"";return{head:pt,tail:Ae.substr(pt.length+1),attr:tt.attr}}}}function $e(Ae,Ue){var Ze=M(Ue,Ae).get();if(Ze!==void 0)return Ze;var tt=Ae.split(".");for(tt.pop();tt.length>1;)if(tt.pop(),Ze=M(Ue,tt.join(".")+".uirevision").get(),Ze!==void 0)return Ze;return Ue.uirevision}function et(Ae,Ue){for(var Ze=0;Ze<Ue.length;Ze++)if(Ue[Ze]._fullInput.uid===Ae)return Ze;return-1}function ct(Ae,Ue,Ze){for(var tt=0;tt<Ue.length;tt++)if(Ue[tt].uid===Ae)return tt;return!Ue[Ze]||Ue[Ze].uid?-1:Ze}function dt(Ae,Ue){var Ze=L.isPlainObject(Ae),tt=Array.isArray(Ae);return Ze||tt?(Ze&&L.isPlainObject(Ue)||tt&&Array.isArray(Ue))&&JSON.stringify(Ae)===JSON.stringify(Ue):Ae===Ue}function gt(Ae,Ue,Ze,tt){var ft=tt._preGUI,pt,Yt,Jt,Tt,zt,$t,wr,yt,Xt,Qt,gr=[],sr={},vt={};for(pt in ft){if(zt=lt(pt,Ve),zt){if(Xt=zt.head,Qt=zt.tail,Yt=zt.attr||Xt+".uirevision",Jt=M(tt,Yt).get(),Tt=Jt&&$e(Yt,Ue),Tt&&Tt===Jt){if($t=ft[pt],$t===null&&($t=void 0),wr=M(Ue,pt),yt=wr.get(),dt(yt,$t)){yt===void 0&&Qt==="autorange"&&gr.push(Xt),wr.set(Q(M(tt,pt).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var it=ft[Xt+".range[0]"],xt=ft[Xt+".range[1]"],Mt=ft[Xt+".autorange"];if(Mt||Mt===null&&it===null&&xt===null){if(!(Xt in sr)){var Dt=M(Ue,Xt).get();sr[Xt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(sr[Xt]){wr.set(Q(M(tt,pt).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+pt);delete ft[pt],zt&&zt.tail.substr(0,6)==="range["&&(vt[zt.head]=1)}for(var Lt=0;Lt<gr.length;Lt++){var Bt=gr[Lt];if(vt[Bt]){var Nt=M(Ue,Bt).get();Nt&&delete Nt.autorange}}var jt=tt._tracePreGUI;for(var lr in jt){var fr=jt[lr],hr=null,Ye;for(pt in fr){if(!hr){var We=et(lr,Ze);if(We<0){delete jt[lr];break}var kt=Ze[We];Ye=kt._fullInput;var It=ct(lr,Ae,Ye.index);if(It<0){delete jt[lr];break}hr=Ae[It]}if(zt=lt(pt,at),zt){if(zt.attr?(Jt=M(tt,zt.attr).get(),Tt=Jt&&$e(zt.attr,Ue)):(Jt=Ye.uirevision,Tt=hr.uirevision,Tt===void 0&&(Tt=Ue.uirevision)),Tt&&Tt===Jt&&($t=fr[pt],$t===null&&($t=void 0),wr=M(hr,pt),yt=wr.get(),dt(yt,$t))){wr.set(Q(M(Ye,pt).get()));continue}}else L.warn("unrecognized GUI edit: "+pt+" in trace uid "+lr);delete fr[pt]}}}function At(Ae,Ue,Ze,tt){var ft,pt;function Yt(){return H.addFrames(Ae,ft)}Ae=L.getGraphDiv(Ae),A.clearPromiseQueue(Ae);var Jt=Ae._fullData,Tt=Ae._fullLayout;if(!L.isPlotDiv(Ae)||!Jt||!Tt)pt=H.newPlot(Ae,Ue,Ze,tt);else{if(L.isPlainObject(Ue)){var zt=Ue;Ue=zt.data,Ze=zt.layout,tt=zt.config,ft=zt.frames}var $t=!1;if(tt){var wr=L.extendDeep({},Ae._context);Ae._context=void 0,U(Ae,tt),$t=Ge(wr,Ae._context)}Ae.data=Ue||[],A.cleanData(Ae.data),Ae.layout=Ze||{},A.cleanLayout(Ae.layout),gt(Ae.data,Ae.layout,Jt,Tt),o.supplyDefaults(Ae,{skipUpdateCalc:!0});var yt=Ae._fullData,Xt=Ae._fullLayout,Qt=Xt.datarevision===void 0,gr=Xt.transition,sr=Vt(Ae,Tt,Xt,Qt,gr),vt=sr.newDataRevision,it=Rt(Ae,Jt,yt,Qt,gr,vt);if(Ne(Ae)&&(sr.layoutReplot=!0),it.calc||sr.calc){Ae.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(Xt),Mt=0;Mt<xt.length;Mt++){var Dt=xt[Mt],Lt=Dt.substring(0,5);if(Lt==="xaxis"||Lt==="yaxis"){var Bt=Xt[Dt]._emptyCategories;Bt&&Bt()}}}else o.supplyDefaultsUpdateCalc(Ae.calcdata,yt);var Nt=[];if(ft&&(Ae._transitionData={},o.createTransitionData(Ae),Nt.push(Yt)),Xt.transition&&!$t&&(it.anim||sr.anim))sr.ticks&&Nt.push(w.doTicksRelayout),o.doCalcdata(Ae),w.doAutoRangeAndConstraints(Ae),Nt.push(function(){return o.transitionFromReact(Ae,it,sr,Tt)});else if(it.fullReplot||sr.layoutReplot||$t)Ae._fullLayout._skipDefaults=!0,Nt.push(H._doPlot);else{for(var jt in sr.arrays){var lr=sr.arrays[jt];if(lr.length){var fr=r.getComponentMethod(jt,"drawOne");if(fr!==L.noop)for(var hr=0;hr<lr.length;hr++)fr(Ae,lr[hr]);else{var Ye=r.getComponentMethod(jt,"draw");if(Ye===L.noop)throw new Error("cannot draw components: "+jt);Ye(Ae)}}}Nt.push(o.previousPromises),it.style&&Nt.push(w.doTraceStyle),(it.colorbars||sr.colorbars)&&Nt.push(w.doColorBars),sr.legend&&Nt.push(w.doLegend),sr.layoutstyle&&Nt.push(w.layoutStyles),sr.axrange&&ze(Nt),sr.ticks&&Nt.push(w.doTicksRelayout),sr.modebar&&Nt.push(w.doModeBar),sr.camera&&Nt.push(w.doCamera),Nt.push(E)}Nt.push(o.rehover,o.redrag,o.reselect),pt=L.syncOrAsync(Nt,Ae),(!pt||!pt.then)&&(pt=Promise.resolve(Ae))}return pt.then(function(){return Ae.emit("plotly_react",{data:Ue,layout:Ze}),Ae})}function Rt(Ae,Ue,Ze,tt,ft,pt){var Yt=Ue.length===Ze.length;if(!ft&&!Yt)return{fullReplot:!0,calc:!0};var Jt=C.traceFlags();Jt.arrays={},Jt.nChanges=0,Jt.nChangesAnim=0;var Tt,zt;function $t(Xt){var Qt=t.getTraceValObject(zt,Xt);return!zt._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var wr={getValObject:$t,flags:Jt,immutable:tt,transition:ft,newDataRevision:pt,gd:Ae},yt={};for(Tt=0;Tt<Ue.length;Tt++)if(Ze[Tt]){if(zt=Ze[Tt]._fullInput,o.hasMakesDataTransform(zt)&&(zt=Ze[Tt]),yt[zt.uid])continue;yt[zt.uid]=1,Je(Ue[Tt]._fullInput,zt,[],wr)}return(Jt.calc||Jt.plot)&&(Jt.fullReplot=!0),ft&&Jt.nChanges&&Jt.nChangesAnim&&(Jt.anim=Jt.nChanges===Jt.nChangesAnim&&Yt?"all":"some"),Jt}function Vt(Ae,Ue,Ze,tt,ft){var pt=C.layoutFlags();pt.arrays={},pt.rangesAltered={},pt.nChanges=0,pt.nChangesAnim=0;function Yt(Tt){return t.getLayoutValObject(Ze,Tt)}var Jt={getValObject:Yt,flags:pt,immutable:tt,transition:ft,gd:Ae};return Je(Ue,Ze,[],Jt),(pt.plot||pt.calc)&&(pt.layoutReplot=!0),ft&&pt.nChanges&&pt.nChangesAnim&&(pt.anim=pt.nChanges===pt.nChangesAnim?"all":"some"),pt}function Je(Ae,Ue,Ze,tt){var ft,pt,Yt,Jt=tt.getValObject,Tt=tt.flags,zt=tt.immutable,$t=tt.inArray,wr=tt.arrayIndex;function yt(){var We=ft.editType;if($t&&We.indexOf("arraydraw")!==-1){L.pushUnique(Tt.arrays[$t],wr);return}C.update(Tt,ft),We!=="none"&&Tt.nChanges++,tt.transition&&ft.anim&&Tt.nChangesAnim++,(ke.test(Yt)||Se.test(Yt))&&(Tt.rangesAltered[Ze[0]]=1),me.test(Yt)&&M(Ue,"_inputDomain").set(null),pt==="datarevision"&&(Tt.newDataRevision=1)}function Xt(We){return We.valType==="data_array"||We.arrayOk}for(pt in Ae){if(Tt.calc&&!tt.transition)return;var Qt=Ae[pt],gr=Ue[pt],sr=Ze.concat(pt);if(Yt=sr.join("."),!(pt.charAt(0)==="_"||typeof Qt=="function"||Qt===gr)){if((pt==="tick0"||pt==="dtick")&&Ze[0]!=="geo"){var vt=Ue.tickmode;if(vt==="auto"||vt==="array"||!vt)continue}if(!(pt==="range"&&Ue.autorange)&&!((pt==="zmin"||pt==="zmax")&&Ue.type==="contourcarpet")&&(ft=Jt(sr),!!ft&&!(ft._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(gr)))){var it=ft.valType,xt,Mt=Xt(ft),Dt=Array.isArray(Qt),Lt=Array.isArray(gr);if(Dt&&Lt){var Bt="_input_"+pt,Nt=Ae[Bt],jt=Ue[Bt];if(Array.isArray(Nt)&&Nt===jt)continue}if(gr===void 0)Mt&&Dt?Tt.calc=!0:yt();else if(ft._isLinkedToArray){var lr=[],fr=!1;$t||(Tt.arrays[pt]=lr);var hr=Math.min(Qt.length,gr.length),Ye=Math.max(Qt.length,gr.length);if(hr!==Ye)if(ft.editType==="arraydraw")fr=!0;else{yt();continue}for(xt=0;xt<hr;xt++)Je(Qt[xt],gr[xt],sr.concat(xt),L.extendFlat({inArray:pt,arrayIndex:xt},tt));if(fr)for(xt=hr;xt<Ye;xt++)lr.push(xt)}else!it&&L.isPlainObject(Qt)?Je(Qt,gr,sr,tt):Mt?Dt&&Lt?(zt&&(Tt.calc=!0),(zt||tt.newDataRevision)&&yt()):Dt!==Lt?Tt.calc=!0:yt():Dt&&Lt?(Qt.length!==gr.length||String(Qt)!==String(gr))&&yt():yt()}}}for(pt in Ue)if(!(pt in Ae||pt.charAt(0)==="_"||typeof Ue[pt]=="function"))if(ft=Jt(Ze.concat(pt)),Xt(ft)&&Array.isArray(Ue[pt])){Tt.calc=!0;return}else yt()}function Ge(Ae,Ue){var Ze;for(Ze in Ae)if(Ze.charAt(0)!=="_"){var tt=Ae[Ze],ft=Ue[Ze];if(tt!==ft)if(L.isPlainObject(tt)&&L.isPlainObject(ft)){if(Ge(tt,ft))return!0}else if(Array.isArray(tt)&&Array.isArray(ft)){if(tt.length!==ft.length)return!0;for(var pt=0;pt<tt.length;pt++)if(tt[pt]!==ft[pt])if(L.isPlainObject(tt[pt])&&L.isPlainObject(ft[pt])){if(Ge(tt[pt],ft[pt]))return!0}else return!0}else return!0}}function Ie(Ae,Ue,Ze){if(Ae=L.getGraphDiv(Ae),!L.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var tt=Ae._transitionData;tt._frameQueue||(tt._frameQueue=[]),Ze=o.supplyAnimationDefaults(Ze);var ft=Ze.transition,pt=Ze.frame;tt._frameWaitingCnt===void 0&&(tt._frameWaitingCnt=0);function Yt(zt){return Array.isArray(ft)?zt>=ft.length?ft[0]:ft[zt]:ft}function Jt(zt){return Array.isArray(pt)?zt>=pt.length?pt[0]:pt[zt]:pt}function Tt(zt,$t){var wr=0;return function(){if(zt&&++wr===$t)return zt()}}return new Promise(function(zt,$t){function wr(){if(tt._frameQueue.length!==0){for(;tt._frameQueue.length;){var hr=tt._frameQueue.pop();hr.onInterrupt&&hr.onInterrupt()}Ae.emit("plotly_animationinterrupted",[])}}function yt(hr){if(hr.length!==0){for(var Ye=0;Ye<hr.length;Ye++){var We;hr[Ye].type==="byname"?We=o.computeFrame(Ae,hr[Ye].name):We=hr[Ye].data;var kt=Jt(Ye),It=Yt(Ye);It.duration=Math.min(It.duration,kt.duration);var Zt={frame:We,name:hr[Ye].name,frameOpts:kt,transitionOpts:It};Ye===hr.length-1&&(Zt.onComplete=Tt(zt,2),Zt.onInterrupt=$t),tt._frameQueue.push(Zt)}Ze.mode==="immediate"&&(tt._lastFrameAt=-1/0),tt._animationRaf||gr()}}function Xt(){Ae.emit("plotly_animated"),window.cancelAnimationFrame(tt._animationRaf),tt._animationRaf=null}function Qt(){tt._currentFrame&&tt._currentFrame.onComplete&&tt._currentFrame.onComplete();var hr=tt._currentFrame=tt._frameQueue.shift();if(hr){var Ye=hr.name?hr.name.toString():null;Ae._fullLayout._currentFrame=Ye,tt._lastFrameAt=Date.now(),tt._timeToNext=hr.frameOpts.duration,o.transition(Ae,hr.frame.data,hr.frame.layout,A.coerceTraceIndices(Ae,hr.frame.traces),hr.frameOpts,hr.transitionOpts).then(function(){hr.onComplete&&hr.onComplete()}),Ae.emit("plotly_animatingframe",{name:Ye,frame:hr.frame,animation:{frame:hr.frameOpts,transition:hr.transitionOpts}})}else Xt()}function gr(){Ae.emit("plotly_animating"),tt._lastFrameAt=-1/0,tt._timeToNext=0,tt._runningTransitions=0,tt._currentFrame=null;var hr=function(){tt._animationRaf=window.requestAnimationFrame(hr),Date.now()-tt._lastFrameAt>tt._timeToNext&&Qt()};hr()}var sr=0;function vt(hr){return Array.isArray(ft)?sr>=ft.length?hr.transitionOpts=ft[sr]:hr.transitionOpts=ft[0]:hr.transitionOpts=ft,sr++,hr}var it,xt,Mt=[],Dt=Ue==null,Lt=Array.isArray(Ue),Bt=!Dt&&!Lt&&L.isPlainObject(Ue);if(Bt)Mt.push({type:"object",data:vt(L.extendFlat({},Ue))});else if(Dt||["string","number"].indexOf(typeof Ue)!==-1)for(it=0;it<tt._frames.length;it++)xt=tt._frames[it],xt&&(Dt||String(xt.group)===String(Ue))&&Mt.push({type:"byname",name:String(xt.name),data:vt({name:xt.name})});else if(Lt)for(it=0;it<Ue.length;it++){var Nt=Ue[it];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Mt.push({type:"byname",name:Nt,data:vt({name:Nt})})):L.isPlainObject(Nt)&&Mt.push({type:"object",data:vt(L.extendFlat({},Nt))})}for(it=0;it<Mt.length;it++)if(xt=Mt[it],xt.type==="byname"&&!tt._frameHash[xt.data.name]){L.warn('animate failure: frame not found: "'+xt.data.name+'"'),$t();return}["next","immediate"].indexOf(Ze.mode)!==-1&&wr(),Ze.direction==="reverse"&&Mt.reverse();var jt=Ae._fullLayout._currentFrame;if(jt&&Ze.fromcurrent){var lr=-1;for(it=0;it<Mt.length;it++)if(xt=Mt[it],xt.type==="byname"&&xt.name===jt){lr=it;break}if(lr>0&&lr<Mt.length-1){var fr=[];for(it=0;it<Mt.length;it++)xt=Mt[it],(Mt[it].type!=="byname"||it>lr)&&fr.push(xt);Mt=fr}}Mt.length>0?yt(Mt):(Ae.emit("plotly_animated"),zt())})}function Fe(Ae,Ue,Ze){if(Ae=L.getGraphDiv(Ae),Ue==null)return Promise.resolve();if(!L.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var tt,ft,pt,Yt,Jt=Ae._transitionData._frames,Tt=Ae._transitionData._frameHash;if(!Array.isArray(Ue))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ue);var zt=Jt.length+Ue.length*2,$t=[],wr={};for(tt=Ue.length-1;tt>=0;tt--)if(L.isPlainObject(Ue[tt])){var yt=Ue[tt].name,Xt=(Tt[yt]||wr[yt]||{}).name,Qt=Ue[tt].name,gr=Tt[Xt]||wr[Xt];Xt&&Qt&&typeof Qt=="number"&&gr&&S<x&&(S++,L.warn('addFrames: overwriting frame "'+(Tt[Xt]||wr[Xt]).name+'" with a frame whose name of type "number" also equates to "'+Xt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===x&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),wr[yt]={name:yt},$t.push({frame:o.supplyFrameDefaults(Ue[tt]),index:Ze&&Ze[tt]!==void 0&&Ze[tt]!==null?Ze[tt]:zt+tt})}$t.sort(function(Bt,Nt){return Bt.index>Nt.index?-1:Bt.index<Nt.index?1:0});var sr=[],vt=[],it=Jt.length;for(tt=$t.length-1;tt>=0;tt--){if(ft=$t[tt].frame,typeof ft.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ft.name)for(;Tt[ft.name="frame "+Ae._transitionData._counter++];);if(Tt[ft.name]){for(pt=0;pt<Jt.length&&(Jt[pt]||{}).name!==ft.name;pt++);sr.push({type:"replace",index:pt,value:ft}),vt.unshift({type:"replace",index:pt,value:Jt[pt]})}else Yt=Math.max(0,Math.min($t[tt].index,it)),sr.push({type:"insert",index:Yt,value:ft}),vt.unshift({type:"delete",index:Yt}),it++}var xt=o.modifyFrames,Mt=o.modifyFrames,Dt=[Ae,vt],Lt=[Ae,sr];return p&&p.add(Ae,xt,Dt,Mt,Lt),o.modifyFrames(Ae,sr)}function Pe(Ae,Ue){if(Ae=L.getGraphDiv(Ae),!L.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae);var Ze,tt,ft=Ae._transitionData._frames,pt=[],Yt=[];if(!Ue)for(Ue=[],Ze=0;Ze<ft.length;Ze++)Ue.push(Ze);for(Ue=Ue.slice(),Ue.sort(),Ze=Ue.length-1;Ze>=0;Ze--)tt=Ue[Ze],pt.push({type:"delete",index:tt}),Yt.unshift({type:"insert",index:tt,value:ft[tt]});var Jt=o.modifyFrames,Tt=o.modifyFrames,zt=[Ae,Yt],$t=[Ae,pt];return p&&p.add(Ae,Jt,zt,Tt,$t),o.modifyFrames(Ae,pt)}function xe(Ae){Ae=L.getGraphDiv(Ae);var Ue=Ae._fullLayout||{},Ze=Ae._fullData||[];return o.cleanPlot([],{},Ze,Ue),o.purge(Ae),v.purge(Ae),Ue._container&&Ue._container.remove(),delete Ae._context,Ae}function ge(Ae){var Ue=Ae._fullLayout,Ze=Ae.getBoundingClientRect();if(!L.equalDomRects(Ze,Ue._lastBBox)){var tt=Ue._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(Ae));Ue._invScaleX=Math.sqrt(tt[0][0]*tt[0][0]+tt[0][1]*tt[0][1]+tt[0][2]*tt[0][2]),Ue._invScaleY=Math.sqrt(tt[1][0]*tt[1][0]+tt[1][1]*tt[1][1]+tt[1][2]*tt[1][2]),Ue._lastBBox=Ze}}function Me(Ae){var Ue=y.select(Ae),Ze=Ae._fullLayout;if(Ze._calcInverseTransform=ge,Ze._calcInverseTransform(Ae),Ze._container=Ue.selectAll(".plot-container").data([0]),Ze._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ze._paperdiv=Ze._container.selectAll(".svg-container").data([0]),Ze._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ze._glcontainer=Ze._paperdiv.selectAll(".gl-container").data([{}]),Ze._glcontainer.enter().append("div").classed("gl-container",!0),Ze._paperdiv.selectAll(".main-svg").remove(),Ze._paperdiv.select(".modebar-container").remove(),Ze._paper=Ze._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ze._toppaper=Ze._paperdiv.append("svg").classed("main-svg",!0),Ze._modebardiv=Ze._paperdiv.append("div"),delete Ze._modeBar,Ze._hoverpaper=Ze._paperdiv.append("svg").classed("main-svg",!0),!Ze._uid){var tt={};y.selectAll("defs").each(function(){this.id&&(tt[this.id.split("-")[1]]=1)}),Ze._uid=L.randstr(tt)}Ze._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ze._defs=Ze._paper.append("defs").attr("id","defs-"+Ze._uid),Ze._clips=Ze._defs.append("g").classed("clips",!0),Ze._topdefs=Ze._toppaper.append("defs").attr("id","topdefs-"+Ze._uid),Ze._topclips=Ze._topdefs.append("g").classed("clips",!0),Ze._bgLayer=Ze._paper.append("g").classed("bglayer",!0),Ze._draggers=Ze._paper.append("g").classed("draglayer",!0);var ft=Ze._paper.append("g").classed("layer-below",!0);Ze._imageLowerLayer=ft.append("g").classed("imagelayer",!0),Ze._shapeLowerLayer=ft.append("g").classed("shapelayer",!0),Ze._cartesianlayer=Ze._paper.append("g").classed("cartesianlayer",!0),Ze._polarlayer=Ze._paper.append("g").classed("polarlayer",!0),Ze._smithlayer=Ze._paper.append("g").classed("smithlayer",!0),Ze._ternarylayer=Ze._paper.append("g").classed("ternarylayer",!0),Ze._geolayer=Ze._paper.append("g").classed("geolayer",!0),Ze._funnelarealayer=Ze._paper.append("g").classed("funnelarealayer",!0),Ze._pielayer=Ze._paper.append("g").classed("pielayer",!0),Ze._iciclelayer=Ze._paper.append("g").classed("iciclelayer",!0),Ze._treemaplayer=Ze._paper.append("g").classed("treemaplayer",!0),Ze._sunburstlayer=Ze._paper.append("g").classed("sunburstlayer",!0),Ze._indicatorlayer=Ze._toppaper.append("g").classed("indicatorlayer",!0),Ze._glimages=Ze._paper.append("g").classed("glimages",!0);var pt=Ze._toppaper.append("g").classed("layer-above",!0);Ze._imageUpperLayer=pt.append("g").classed("imagelayer",!0),Ze._shapeUpperLayer=pt.append("g").classed("shapelayer",!0),Ze._selectionLayer=Ze._toppaper.append("g").classed("selectionlayer",!0),Ze._infolayer=Ze._toppaper.append("g").classed("infolayer",!0),Ze._menulayer=Ze._toppaper.append("g").classed("menulayer",!0),Ze._zoomlayer=Ze._toppaper.append("g").classed("zoomlayer",!0),Ze._hoverlayer=Ze._hoverpaper.append("g").classed("hoverlayer",!0),Ze._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Ae.emit("plotly_framework")}H.animate=Ie,H.addFrames=Fe,H.deleteFrames=Pe,H.addTraces=ae,H.deleteTraces=j,H.extendTraces=J,H.moveTraces=q,H.prependTraces=Z,H.newPlot=F,H._doPlot=i,H.purge=xe,H.react=At,H.redraw=z,H.relayout=Ee,H.restyle=oe,H.setPlotConfig=m,H.update=He,H._guiRelayout=De(Ee),H._guiRestyle=De(oe),H._guiUpdate=De(He),H._storeDirectGUIEdit=ne},72075:function(G){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function y(P,a){for(var L in P){var M=P[L];M.valType?a[L]=M.dflt:(a[L]||(a[L]={}),y(M,a[L]))}}y(H,e),G.exports={configAttributes:H,dfltConfig:e}},86281:function(G,H,e){var y=e(73972),P=e(71828),a=e(9012),L=e(10820),M=e(31391),v=e(85594),p=e(72075).configAttributes,r=e(30962),t=P.extendDeepAll,o=P.isPlainObject,n=P.isArrayOrTypedArray,c=P.nestedProperty,u=P.valObjectMeta,l="_isSubplotObj",g="_isLinkedToArray",f="_arrayAttrRegexps",T="_deprecated",h=[l,g,f,T];H.IS_SUBPLOT_OBJ=l,H.IS_LINKED_TO_ARRAY=g,H.DEPRECATED=T,H.UNDERSCORE_ATTRS=h,H.get=function(){var U={};y.allTypes.forEach(function(F){U[F]=w(F)});var z={};return Object.keys(y.transformsRegistry).forEach(function(F){z[F]=b(F)}),{defs:{valObjects:u,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:U,layout:C(),transforms:z,frames:S(),animation:x(v),config:x(p)}},H.crawl=function(U,z,F,B){var O=F||0;B=B||"",Object.keys(U).forEach(function(N){var Y=U[N];if(h.indexOf(N)===-1){var $=(B?B+".":"")+N;z(Y,N,U,O,$),!H.isValObject(Y)&&o(Y)&&N!=="impliedEdits"&&H.crawl(Y,z,O+1,$)}})},H.isValObject=function(U){return U&&U.valType!==void 0},H.findArrayAttributes=function(U){var z=[],F=[],B=[],O,N;function Y(Z,ae,j,q){F=F.slice(0,q).concat([ae]),B=B.slice(0,q).concat([Z&&Z._isLinkedToArray]);var oe=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(F[q-1]==="colorbar"&&(ae==="ticktext"||ae==="tickvals"));oe&&$(O,0,"")}function $(Z,ae,j){var q=Z[F[ae]],oe=j+F[ae];if(ae===F.length-1)n(q)&&z.push(N+oe);else if(B[ae]){if(Array.isArray(q))for(var Q=0;Q<q.length;Q++)o(q[Q])&&$(q[Q],ae+1,oe+"["+Q+"].")}else o(q)&&$(q,ae+1,oe+".")}O=U,N="",H.crawl(a,Y),U._module&&U._module.attributes&&H.crawl(U._module.attributes,Y);var te=U.transforms;if(te)for(var ie=0;ie<te.length;ie++){var ce=te[ie],J=ce._module;J&&(N="transforms["+ie+"].",O=ce,H.crawl(J.attributes,Y))}return z},H.getTraceValObject=function(U,z){var F=z[0],B=1,O,N;if(F==="transforms"){if(z.length===1)return a.transforms;var Y=U.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var $=z[1];if(!A($)||$>=Y.length)return!1;O=(y.transformsRegistry[Y[$].type]||{}).attributes,N=O&&O[z[2]],B=3}else{var te=U._module;if(te||(te=(y.modules[U.type||a.type.dflt]||{})._module),!te)return!1;if(O=te.attributes,N=O&&O[F],!N){var ie=te.basePlotModule;ie&&ie.attributes&&(N=ie.attributes[F])}N||(N=a[F])}return d(N,z,B)},H.getLayoutValObject=function(U,z){var F=s(U,z[0]);return d(F,z,1)};function s(U,z){var F,B,O,N,Y=U._basePlotModules;if(Y){var $;for(F=0;F<Y.length;F++){if(O=Y[F],O.attrRegex&&O.attrRegex.test(z)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!$&&O.layoutAttributes&&($=O.layoutAttributes)}var te=O.baseLayoutAttrOverrides;if(te&&z in te)return te[z]}if($)return $}var ie=U._modules;if(ie){for(F=0;F<ie.length;F++)if(N=ie[F].layoutAttributes,N&&z in N)return N[z]}for(B in y.componentsRegistry){if(O=y.componentsRegistry[B],O.name==="colorscale"&&z.indexOf("coloraxis")===0)return O.layoutAttributes[z];if(!O.schema&&z===O.name)return O.layoutAttributes}return z in L?L[z]:!1}function d(U,z,F){if(!U)return!1;if(U._isLinkedToArray){if(A(z[F]))F++;else if(F<z.length)return!1}for(;F<z.length;F++){var B=U[z[F]];if(o(B))U=B;else break;if(F===z.length-1)break;if(U._isLinkedToArray){if(F++,!A(z[F]))return!1}else if(U.valType==="info_array"){F++;var O=z[F];if(!A(O))return!1;var N=U.items;if(Array.isArray(N)){if(O>=N.length)return!1;if(U.dimensions===2){if(F++,z.length===F)return U;var Y=z[F];if(!A(Y))return!1;U=N[O][Y]}else U=N[O]}else U=N}}return U}function A(U){return U===Math.round(U)&&U>=0}function w(U){var z,F;z=y.modules[U]._module,F=z.basePlotModule;var B={};B.type=null;var O=t({},a),N=t({},z.attributes);H.crawl(N,function(te,ie,ce,J,Z){c(O,Z).set(void 0),te===void 0&&c(N,Z).set(void 0)}),t(B,O),y.traceIs(U,"noOpacity")&&delete B.opacity,y.traceIs(U,"showLegend")||(delete B.showlegend,delete B.legendgroup),y.traceIs(U,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),z.selectPoints||delete B.selectedpoints,t(B,N),F.attributes&&t(B,F.attributes),B.type=U;var Y={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:U,attributes:x(B)};if(z.layoutAttributes){var $={};t($,z.layoutAttributes),Y.layoutAttributes=x($)}return z.animatable||H.crawl(Y,function(te){H.isValObject(te)&&"anim"in te&&delete te.anim}),Y}function C(){var U={},z,F;t(U,L);for(z in y.subplotsRegistry)if(F=y.subplotsRegistry[z],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var B=0;B<F.attr.length;B++)k(U,F,F.attr[B]);else{var O=F.attr==="subplot"?F.name:F.attr;k(U,F,O)}for(z in y.componentsRegistry){F=y.componentsRegistry[z];var N=F.schema;if(N&&(N.subplots||N.layout)){var Y=N.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var $ in Y.xaxis)delete U.yaxis[$];delete U.xaxis.shift,delete U.xaxis.autoshift}else F.name==="colorscale"?t(U,F.layoutAttributes):F.layoutAttributes&&I(U,F.layoutAttributes,F.name)}return{layoutAttributes:x(U)}}function b(U){var z=y.transformsRegistry[U],F=t({},z.attributes);return Object.keys(y.componentsRegistry).forEach(function(B){var O=y.componentsRegistry[B];O.schema&&O.schema.transforms&&O.schema.transforms[U]&&Object.keys(O.schema.transforms[U]).forEach(function(N){I(F,O.schema.transforms[U][N],N)})}),{attributes:x(F)}}function S(){var U={frames:t({},M)};return x(U),U.frames}function x(U){return i(U),E(U),m(U),U}function i(U){function z(B){return{valType:"string",editType:"none"}}function F(B,O,N){H.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(N[O+"src"]=z()):o(B)&&(B.role="object")}H.crawl(U,F)}function E(U){function z(F,B,O){if(F){var N=F[g];N&&(delete F[g],O[B]={items:{}},O[B].items[N]=F,O[B].role="object")}}H.crawl(U,z)}function m(U){function z(F){for(var B in F)if(o(F[B]))z(F[B]);else if(Array.isArray(F[B]))for(var O=0;O<F[B].length;O++)z(F[B][O]);else F[B]instanceof RegExp&&(F[B]=F[B].toString())}z(U)}function k(U,z,F){var B=c(U,F),O=t({},z.layoutAttributes);O[l]=!0,B.set(O)}function I(U,z,F){var B=c(U,F);B.set(t(B.get()||{},z))}},44467:function(G,H,e){var y=e(71828),P=e(9012),a="templateitemname",L={name:{valType:"string",editType:"none"}};L[a]={valType:"string",editType:"calc"},H.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=L.name,r[a]=L[a],r},H.traceTemplater=function(p){var r={},t,o;for(t in p)o=p[t],Array.isArray(o)&&o.length&&(r[t]=0);function n(c){t=y.coerce(c,{},P,"type");var u={type:t,_template:null};if(t in r){o=p[t];var l=r[t]%o.length;r[t]++,u._template=o[l]}return u}return{newTrace:n}},H.newContainer=function(p,r,t){var o=p._template,n=o&&(o[r]||t&&o[t]);y.isPlainObject(n)||(n=null);var c=p[r]={_template:n};return c},H.arrayTemplater=function(p,r,t){var o=p._template,n=o&&o[v(r)],c=o&&o[r];(!Array.isArray(c)||!c.length)&&(c=[]);var u={};function l(f){var T={name:f.name,_input:f},h=T[a]=f[a];if(!M(h))return T._template=n,T;for(var s=0;s<c.length;s++){var d=c[s];if(d.name===h)return u[h]=1,T._template=d,T}return T[t]=f[t]||!1,T._template=!1,T}function g(){for(var f=[],T=0;T<c.length;T++){var h=c[T],s=h.name;if(M(s)&&!u[s]){var d={_template:h,name:s,_input:{_templateitemname:s}};d[a]=h[a],f.push(d),u[s]=1}}return f}return{newItem:l,defaultItems:g}};function M(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&y.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}H.arrayDefaultKey=v,H.arrayEditor=function(p,r,t){var o=(y.nestedProperty(p,r).get()||[]).length,n=t._index,c=n>=o&&(t._input||{})._templateitemname;c&&(n=o);var u=r+"["+n+"]",l;function g(){l={},c&&(l[u]={},l[u][a]=c)}g();function f(d,A){l[d]=A}function T(d,A){c?y.nestedProperty(l[u],d).set(A):l[u+"."+d]=A}function h(){var d=l;return g(),d}function s(d,A){d&&T(d,A);var w=h();for(var C in w)y.nestedProperty(p,C).set(w[C])}return{modifyBase:f,modifyItem:T,getUpdateObj:h,applyUpdate:s}}},61549:function(G,H,e){var y=e(39898),P=e(73972),a=e(74875),L=e(71828),M=e(63893),v=e(33306),p=e(7901),r=e(91424),t=e(92998),o=e(64168),n=e(89298),c=e(18783),u=e(99082),l=u.enforce,g=u.clean,f=e(71739).doAutoRange,T="start",h="middle",s="end";H.layoutStyles=function(F){return L.syncOrAsync([a.doAutoMargin,A],F)};function d(F,B,O){for(var N=0;N<O.length;N++){var Y=O[N][0],$=O[N][1];if(!(Y[0]>=F[1]||Y[1]<=F[0])&&$[0]<B[1]&&$[1]>B[0])return!0}return!1}function A(F){var B=F._fullLayout,O=B._size,N=O.p,Y=n.list(F,"",!0),$,te,ie,ce,J,Z;if(B._paperdiv.style({width:F._context.responsive&&B.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":B.width+"px",height:F._context.responsive&&B.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(r.setSize,B.width,B.height),F._context.setBackground(F,B.paper_bgcolor),H.drawMainTitle(F),o.manage(F),!B._has("cartesian"))return a.previousPromises(F);function ae(xe,ge,Me){var Ae=xe._lw/2;if(xe._id.charAt(0)==="x"){if(ge){if(Me==="top")return ge._offset-N-Ae}else return O.t+O.h*(1-(xe.position||0))+Ae%1;return ge._offset+ge._length+N+Ae}if(ge){if(Me==="right")return ge._offset+ge._length+N+Ae}else return O.l+O.w*(xe.position||0)+Ae%1;return ge._offset-N-Ae}for($=0;$<Y.length;$++){ce=Y[$];var j=ce._anchorAxis;ce._linepositions={},ce._lw=r.crispRound(F,ce.linewidth,1),ce._mainLinePosition=ae(ce,j,ce.side),ce._mainMirrorPosition=ce.mirror&&j?ae(ce,j,c.OPPOSITE_SIDE[ce.side]):null}var q=[],oe=[],Q=[],K=p.opacity(B.paper_bgcolor)===1&&p.opacity(B.plot_bgcolor)===1&&B.paper_bgcolor===B.plot_bgcolor;for(te in B._plots)if(ie=B._plots[te],ie.mainplot)ie.bg&&ie.bg.remove(),ie.bg=void 0;else{var se=ie.xaxis.domain,ne=ie.yaxis.domain,fe=ie.plotgroup;if(d(se,ne,Q)){var ye=fe.node(),Ee=ie.bg=L.ensureSingle(fe,"rect","bg");ye.insertBefore(Ee.node(),ye.childNodes[0]),oe.push(te)}else fe.select("rect.bg").remove(),Q.push([se,ne]),K||(q.push(te),oe.push(te))}var Te=B._bgLayer.selectAll(".bg").data(q);for(Te.enter().append("rect").classed("bg",!0),Te.exit().remove(),Te.each(function(xe){B._plots[xe].bg=y.select(this)}),$=0;$<oe.length;$++)ie=B._plots[oe[$]],J=ie.xaxis,Z=ie.yaxis,ie.bg&&J._offset!==void 0&&Z._offset!==void 0&&ie.bg.call(r.setRect,J._offset-N,Z._offset-N,J._length+2*N,Z._length+2*N).call(p.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(te in B._plots){ie=B._plots[te],J=ie.xaxis,Z=ie.yaxis;var ze=ie.clipId="clip"+B._uid+te+"plot",ke=L.ensureSingleById(B._clips,"clipPath",ze,function(xe){xe.classed("plotclip",!0).append("rect")});ie.clipRect=ke.select("rect").attr({width:J._length,height:Z._length}),r.setTranslate(ie.plot,J._offset,Z._offset);var Se,me;ie._hasClipOnAxisFalse?(Se=null,me=ze):(Se=ze,me=null),r.setClipUrl(ie.plot,Se,F),ie.layerClipId=me}var Ce,Ne,He,De,Ve,at,lt,$e,et,ct,dt,gt,At;function Rt(xe){return"M"+Ce+","+xe+"H"+Ne}function Vt(xe){return"M"+J._offset+","+xe+"h"+J._length}function Je(xe){return"M"+xe+","+$e+"V"+lt}function Ge(xe){return Z._shift!==void 0&&(xe+=Z._shift),"M"+xe+","+Z._offset+"v"+Z._length}function Ie(xe,ge,Me){if(!xe.showline||te!==xe._mainSubplot)return"";if(!xe._anchorAxis)return Me(xe._mainLinePosition);var Ae=ge(xe._mainLinePosition);return xe.mirror&&(Ae+=ge(xe._mainMirrorPosition)),Ae}for(te in B._plots){ie=B._plots[te],J=ie.xaxis,Z=ie.yaxis;var Fe="M0,0";w(J,te)&&(Ve=b(J,"left",Z,Y),Ce=J._offset-(Ve?N+Ve:0),at=b(J,"right",Z,Y),Ne=J._offset+J._length+(at?N+at:0),He=ae(J,Z,"bottom"),De=ae(J,Z,"top"),At=!J._anchorAxis||te!==J._mainSubplot,At&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[te]=[He,De]),Fe=Ie(J,Rt,Vt),At&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(Fe+=Rt(He)+Rt(De)),ie.xlines.style("stroke-width",J._lw+"px").call(p.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),ie.xlines.attr("d",Fe);var Pe="M0,0";w(Z,te)&&(dt=b(Z,"bottom",J,Y),lt=Z._offset+Z._length+(dt?N:0),gt=b(Z,"top",J,Y),$e=Z._offset-(gt?N:0),et=ae(Z,J,"left"),ct=ae(Z,J,"right"),At=!Z._anchorAxis||te!==Z._mainSubplot,At&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[te]=[et,ct]),Pe=Ie(Z,Je,Ge),At&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(Pe+=Je(et)+Je(ct)),ie.ylines.style("stroke-width",Z._lw+"px").call(p.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),ie.ylines.attr("d",Pe)}return n.makeClipPaths(F),a.previousPromises(F)}function w(F,B){return(F.ticks||F.showline)&&(B===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function C(F,B,O){if(!O.showline||!O._lw)return!1;if(O.mirror==="all"||O.mirror==="allticks")return!0;var N=O._anchorAxis;if(!N)return!1;var Y=c.FROM_BL[B];return O.side===B?N.domain[Y]===F.domain[Y]:O.mirror&&N.domain[1-Y]===F.domain[1-Y]}function b(F,B,O,N){if(C(F,B,O))return O._lw;for(var Y=0;Y<N.length;Y++){var $=N[Y];if($._mainAxis===O._mainAxis&&C(F,B,$))return $._lw}return 0}H.drawMainTitle=function(F){var B=F._fullLayout.title,O=F._fullLayout,N=U(O),Y=z(O),$=k(O,Y),te=m(O,N);if(t.draw(F,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:te,y:$,"text-anchor":N,dy:Y}}),B.text&&B.automargin){var ie=y.selectAll(".gtitle"),ce=r.bBox(ie.node()).height,J=i(F,B,ce);if(J>0){E(F,$,J,ce),ie.attr({x:te,y:$,"text-anchor":N,dy:I(B.yanchor)}).call(M.positionText,te,$);var Z=(B.text.match(M.BR_TAG_ALL)||[]).length;if(Z){var ae=c.LINE_SPACING*Z+c.MID_SHIFT;B.y===0&&(ae=-ae),ie.selectAll(".line").each(function(){var j=+this.getAttribute("dy").slice(0,-2)-ae+"em";this.setAttribute("dy",j)})}}}};function S(F,B,O,N,Y){var $=B.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,te=L.isTopAnchor(B)?N:N-Y,ie=O==="b"?$-te:te;return L.isTopAnchor(B)&&O==="t"||L.isBottomAnchor(B)&&O==="b"?!1:ie<Y}function x(F,B,O,N,Y){var $=0;return O==="middle"&&($+=Y/2),F==="t"?(O==="top"&&($+=Y),$+=N-B*N):(O==="bottom"&&($+=Y),$+=B*N),$}function i(F,B,O){var N=B.y,Y=B.yanchor,$=N>.5?"t":"b",te=F._fullLayout.margin[$],ie=0;return B.yref==="paper"?ie=O+B.pad.t+B.pad.b:B.yref==="container"&&(ie=x($,N,Y,F._fullLayout.height,O)+B.pad.t+B.pad.b),ie>te?ie:0}function E(F,B,O,N){var Y="title.automargin",$=F._fullLayout.title,te=$.y>.5?"t":"b",ie={x:$.x,y:$.y,t:0,b:0},ce={};$.yref==="paper"&&S(F,$,te,B,N)?ie[te]=O:$.yref==="container"&&(ce[te]=O,F._fullLayout._reservedMargin[Y]=ce),a.allowAutoMargin(F,Y),a.autoMargin(F,Y,ie)}function m(F,B){var O=F.title,N=F._size,Y=0;switch(B===T?Y=O.pad.l:B===s&&(Y=-O.pad.r),O.xref){case"paper":return N.l+N.w*O.x+Y;case"container":default:return F.width*O.x+Y}}function k(F,B){var O=F.title,N=F._size,Y=0;if(B==="0em"||!B?Y=-O.pad.b:B===c.CAP_SHIFT+"em"&&(Y=O.pad.t),O.y==="auto")return N.t/2;switch(O.yref){case"paper":return N.t+N.h-N.h*O.y+Y;case"container":default:return F.height-F.height*O.y+Y}}function I(F){return F==="top"?c.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":c.MID_SHIFT+"em"}function U(F){var B=F.title,O=h;return L.isRightAnchor(B)?O=s:L.isLeftAnchor(B)&&(O=T),O}function z(F){var B=F.title,O="0em";return L.isTopAnchor(B)?O=c.CAP_SHIFT+"em":L.isMiddleAnchor(B)&&(O=c.MID_SHIFT+"em"),O}H.doTraceStyle=function(F){var B=F.calcdata,O=[],N;for(N=0;N<B.length;N++){var Y=B[N],$=Y[0]||{},te=$.trace||{},ie=te._module||{},ce=ie.arraysToCalcdata;ce&&ce(Y,te);var J=ie.editStyle;J&&O.push({fn:J,cd0:$})}if(O.length){for(N=0;N<O.length;N++){var Z=O[N];Z.fn(F,Z.cd0)}v(F),H.redrawReglTraces(F)}return a.style(F),P.getComponentMethod("legend","draw")(F),a.previousPromises(F)},H.doColorBars=function(F){return P.getComponentMethod("colorbar","draw")(F),a.previousPromises(F)},H.layoutReplot=function(F){var B=F.layout;return F.layout=void 0,P.call("_doPlot",F,"",B)},H.doLegend=function(F){return P.getComponentMethod("legend","draw")(F),a.previousPromises(F)},H.doTicksRelayout=function(F){return n.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(F),v(F),H.redrawReglTraces(F)),H.drawMainTitle(F),a.previousPromises(F)},H.doModeBar=function(F){var B=F._fullLayout;o.manage(F);for(var O=0;O<B._basePlotModules.length;O++){var N=B._basePlotModules[O].updateFx;N&&N(F)}return a.previousPromises(F)},H.doCamera=function(F){for(var B=F._fullLayout,O=B._subplots.gl3d,N=0;N<O.length;N++){var Y=B[O[N]],$=Y._scene;$.setViewport(Y)}},H.drawData=function(F){var B=F._fullLayout;v(F);for(var O=B._basePlotModules,N=0;N<O.length;N++)O[N].plot(F);return H.redrawReglTraces(F),a.style(F),P.getComponentMethod("selections","draw")(F),P.getComponentMethod("shapes","draw")(F),P.getComponentMethod("annotations","draw")(F),P.getComponentMethod("images","draw")(F),B._replotting=!1,a.previousPromises(F)},H.redrawReglTraces=function(F){var B=F._fullLayout;if(B._has("regl")){var O=F._fullData,N=[],Y=[],$,te;for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),$=0;$<O.length;$++){var ie=O[$];ie.visible===!0&&ie._length!==0&&(ie.type==="splom"?B._splomScenes[ie.uid].draw():ie.type==="scattergl"?L.pushUnique(N,ie.xaxis+ie.yaxis):ie.type==="scatterpolargl"&&L.pushUnique(Y,ie.subplot))}for($=0;$<N.length;$++)te=B._plots[N[$]],te._scene&&te._scene.draw();for($=0;$<Y.length;$++)te=B[Y[$]]._subplot,te._scene&&te._scene.draw()}},H.doAutoRangeAndConstraints=function(F){for(var B=n.list(F,"",!0),O,N={},Y=0;Y<B.length;Y++)if(O=B[Y],!N[O._id]){N[O._id]=1,g(F,O),f(F,O);var $=O._matchGroup;if($)for(var te in $){var ie=n.getFromId(F,te);f(F,ie,O.range),N[te]=1}}l(F)},H.finalDraw=function(F){P.getComponentMethod("rangeslider","draw")(F),P.getComponentMethod("rangeselector","draw")(F)},H.drawMarginPushers=function(F){P.getComponentMethod("legend","draw")(F),P.getComponentMethod("rangeselector","draw")(F),P.getComponentMethod("sliders","draw")(F),P.getComponentMethod("updatemenus","draw")(F),P.getComponentMethod("colorbar","draw")(F)}},96318:function(G,H,e){var y=e(71828),P=y.isPlainObject,a=e(86281),L=e(74875),M=e(9012),v=e(44467),p=e(72075).dfltConfig;H.makeTemplate=function(f){f=y.isPlainObject(f)?f:y.getGraphDiv(f),f=y.extendDeep({_context:p},{data:f.data,layout:f.layout}),L.supplyDefaults(f);var T=f.data||[],h=f.layout||{};h._basePlotModules=f._fullLayout._basePlotModules,h._modules=f._fullLayout._modules;var s={data:{},layout:{}};T.forEach(function(m){var k={};o(m,k,c.bind(null,m));var I=y.coerce(m,{},M,"type"),U=s.data[I];U||(U=s.data[I]=[]),U.push(k)}),o(h,s.layout,n.bind(null,h)),delete s.layout.template;var d=h.template;if(P(d)){var A=d.layout,w,C,b,S,x,i;P(A)&&r(A,s.layout);var E=d.data;if(P(E)){for(C in s.data)if(b=E[C],Array.isArray(b)){for(x=s.data[C],i=x.length,S=b.length,w=0;w<i;w++)r(b[w%S],x[w]);for(w=i;w<S;w++)x.push(y.extendDeep({},b[w]))}for(C in E)C in s.data||(s.data[C]=y.extendDeep([],E[C]))}}return s};function r(f,T){f=y.extendDeep({},f);var h=Object.keys(f).sort(),s,d;function A(x,i,E){if(P(i)&&P(x))r(x,i);else if(Array.isArray(i)&&Array.isArray(x)){var m=v.arrayTemplater({_template:f},E);for(d=0;d<i.length;d++){var k=i[d],I=m.newItem(k)._template;I&&r(I,k)}var U=m.defaultItems();for(d=0;d<U.length;d++)i.push(U[d]._template);for(d=0;d<i.length;d++)delete i[d].templateitemname}}for(s=0;s<h.length;s++){var w=h[s],C=f[w];if(w in T?A(C,T[w],w):T[w]=C,t(w)===w)for(var b in T){var S=t(b);b!==S&&S===w&&!(b in f)&&A(C,T[b],w)}}}function t(f){return f.replace(/[0-9]+$/,"")}function o(f,T,h,s,d){var A=d&&h(d);for(var w in f){var C=f[w],b=u(f,w,s),S=u(f,w,d),x=h(S);if(!x){var i=t(w);i!==w&&(S=u(f,i,d),x=h(S))}if(!(A&&A===x)&&!(!x||x._noTemplating||x.valType==="data_array"||x.arrayOk&&Array.isArray(C)))if(!x.valType&&P(C))o(C,T,h,b,S);else if(x._isLinkedToArray&&Array.isArray(C))for(var E=!1,m=0,k={},I=0;I<C.length;I++){var U=C[I];if(P(U)){var z=U.name;if(z)k[z]||(o(U,T,h,u(C,m,b),u(C,m,S)),m++,k[z]=1);else if(!E){var F=v.arrayDefaultKey(w),B=u(f,F,s),O=u(C,m,b);o(U,T,h,O,u(C,m,S));var N=y.nestedProperty(T,O),Y=y.nestedProperty(T,B);Y.set(N.get()),N.set(null),E=!0}}}else{var $=y.nestedProperty(T,b);$.set(C)}}}function n(f,T){return a.getLayoutValObject(f,y.nestedProperty({},T).parts)}function c(f,T){return a.getTraceValObject(f,y.nestedProperty({},T).parts)}function u(f,T,h){var s;return h?Array.isArray(f)?s=h+"["+T+"]":s=h+"."+T:s=T,s}H.validateTemplate=function(f,T){var h=y.extendDeep({},{_context:p,data:f.data,layout:f.layout}),s=h.layout||{};P(T)||(T=s.template||{});var d=T.layout,A=T.data,w=[];h.layout=s,h.layout.template=T,L.supplyDefaults(h);var C=h._fullLayout,b=h._fullData,S={};function x(B,O){for(var N in B)if(N.charAt(0)!=="_"&&P(B[N])){var Y=t(N),$=[],te;for(te=0;te<O.length;te++)$.push(u(B,N,O[te])),Y!==N&&$.push(u(B,Y,O[te]));for(te=0;te<$.length;te++)S[$[te]]=1;x(B[N],$)}}function i(B,O){for(var N in B)if(N.indexOf("defaults")===-1&&P(B[N])){var Y=u(B,N,O);S[Y]?i(B[N],Y):w.push({code:"unused",path:Y})}}if(P(d)?(x(C,["layout"]),i(d,"layout")):w.push({code:"layout"}),!P(A))w.push({code:"data"});else{for(var E={},m,k=0;k<b.length;k++){var I=b[k];m=I.type,E[m]=(E[m]||0)+1,I._fullInput._template||w.push({code:"missing",index:I._fullInput.index,traceType:m})}for(m in A){var U=A[m].length,z=E[m]||0;U>z?w.push({code:"unused",traceType:m,templateCount:U,dataCount:z}):z>U&&w.push({code:"reused",traceType:m,templateCount:U,dataCount:z})}}function F(B,O){for(var N in B)if(N.charAt(0)!=="_"){var Y=B[N],$=u(B,N,O);P(Y)?(Array.isArray(B)&&Y._template===!1&&Y.templateitemname&&w.push({code:"missing",path:$,templateitemname:Y.templateitemname}),F(Y,$)):Array.isArray(Y)&&l(Y)&&F(Y,$)}}if(F({data:b,layout:C},""),w.length)return w.map(g)};function l(f){for(var T=0;T<f.length;T++)if(P(f[T]))return!0}function g(f){var T;switch(f.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":f.path?T="There are no templates for item "+f.path+" with name "+f.templateitemname:T="There are no templates for trace "+f.index+", of type "+f.traceType+".";break;case"unused":f.path?T="The template item at "+f.path+" was not used in constructing the plot.":f.dataCount?T="Some of the templates of type "+f.traceType+" were not used. The template has "+f.templateCount+" traces, the data only has "+f.dataCount+" of this type.":T="The template has "+f.templateCount+" traces of type "+f.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+f.traceType+" were used more than once. The template has "+f.templateCount+" traces, the data has "+f.dataCount+" of this type.";break}return f.msg=T,f}},403:function(G,H,e){var y=e(92770),P=e(72391),a=e(74875),L=e(71828),M=e(25095),v=e(5900),p=e(70942),r=e(11506).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function o(n,c){c=c||{};var u,l,g,f;L.isPlainObject(n)?(u=n.data||[],l=n.layout||{},g=n.config||{},f={}):(n=L.getGraphDiv(n),u=L.extendDeep([],n.data),l=L.extendDeep({},n.layout),g=n._context,f=n._fullLayout||{});function T(z){return!(z in c)||L.validate(c[z],t[z])}if(!T("width")&&c.width!==null||!T("height")&&c.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var h={};function s(z,F){return L.coerce(c,h,t,z,F)}var d=s("format"),A=s("width"),w=s("height"),C=s("scale"),b=s("setBackground"),S=s("imageDataOnly"),x=document.createElement("div");x.style.position="absolute",x.style.left="-5000px",document.body.appendChild(x);var i=L.extendFlat({},l);A?i.width=A:c.width===null&&y(f.width)&&(i.width=f.width),w?i.height=w:c.height===null&&y(f.height)&&(i.height=f.height);var E=L.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:b}),m=M.getRedrawFunc(x);function k(){return new Promise(function(z){setTimeout(z,M.getDelay(x._fullLayout))})}function I(){return new Promise(function(z,F){var B=v(x,d,C),O=x._fullLayout.width,N=x._fullLayout.height;function Y(){P.purge(x),document.body.removeChild(x)}if(d==="full-json"){var $=a.graphJson(x,!1,"keepdata","object",!0,!0);return $.version=r,$=JSON.stringify($),Y(),z(S?$:M.encodeJSON($))}if(Y(),d==="svg")return z(S?B:M.encodeSVG(B));var te=document.createElement("canvas");te.id=L.randstr(),p({format:d,width:O,height:N,scale:C,canvas:te,svg:B,promise:!0}).then(z).catch(F)})}function U(z){return S?z.replace(M.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,F){P.newPlot(x,u,i,E).then(m).then(k).then(I).then(function(B){z(U(B))}).catch(function(B){F(B)})})}G.exports=o},84936:function(G,H,e){var y=e(71828),P=e(74875),a=e(86281),L=e(72075).dfltConfig,M=y.isPlainObject,v=Array.isArray,p=y.isArrayOrTypedArray;G.exports=function(s,d){s===void 0&&(s=[]),d===void 0&&(d={});var A=a.get(),w=[],C={_context:y.extendFlat({},L)},b,S;v(s)?(C.data=y.extendDeep([],s),b=s):(C.data=[],b=[],w.push(c("array","data"))),M(d)?(C.layout=y.extendDeep({},d),S=d):(C.layout={},S={},arguments.length>1&&w.push(c("object","layout"))),P.supplyDefaults(C);for(var x=C._fullData,i=b.length,E=0;E<i;E++){var m=b[E],k=["data",E];if(!M(m)){w.push(c("object",k));continue}var I=x[E],U=I.type,z=A.traces[U].attributes;z.type={valType:"enumerated",values:[U]},I.visible===!1&&m.visible!==!1&&w.push(c("invisible",k)),r(m,I,z,w,k);var F=m.transforms,B=I.transforms;if(F){v(F)||w.push(c("array",k,["transforms"])),k.push("transforms");for(var O=0;O<F.length;O++){var N=["transforms",O],Y=F[O].type;if(!M(F[O])){w.push(c("object",k,N));continue}var $=A.transforms[Y]?A.transforms[Y].attributes:{};$.type={valType:"enumerated",values:Object.keys(A.transforms)},r(F[O],B[O],$,w,k,N)}}}var te=C._fullLayout,ie=t(A,x);return r(S,te,ie,w,"layout"),w.length===0?void 0:w};function r(h,s,d,A,w,C){C=C||[];for(var b=Object.keys(h),S=0;S<b.length;S++){var x=b[S];if(x!=="transforms"){var i=C.slice();i.push(x);var E=h[x],m=s[x],k=l(d,x),I=(k||{}).valType,U=I==="info_array",z=I==="colorscale",F=(k||{}).items;if(!u(d,x))A.push(c("schema",w,i));else if(M(E)&&M(m)&&I!=="any")r(E,m,k,A,w,i);else if(U&&v(E)){E.length>m.length&&A.push(c("unused",w,i.concat(m.length)));var B=m.length,O=Array.isArray(F);O&&(B=Math.min(B,F.length));var N,Y,$,te,ie;if(k.dimensions===2)for(Y=0;Y<B;Y++)if(v(E[Y])){E[Y].length>m[Y].length&&A.push(c("unused",w,i.concat(Y,m[Y].length)));var ce=m[Y].length;for(N=0;N<(O?Math.min(ce,F[Y].length):ce);N++)$=O?F[Y][N]:F,te=E[Y][N],ie=m[Y][N],y.validate(te,$)?ie!==te&&ie!==+te&&A.push(c("dynamic",w,i.concat(Y,N),te,ie)):A.push(c("value",w,i.concat(Y,N),te))}else A.push(c("array",w,i.concat(Y),E[Y]));else for(Y=0;Y<B;Y++)$=O?F[Y]:F,te=E[Y],ie=m[Y],y.validate(te,$)?ie!==te&&ie!==+te&&A.push(c("dynamic",w,i.concat(Y),te,ie)):A.push(c("value",w,i.concat(Y),te))}else if(k.items&&!U&&v(E)){var J=F[Object.keys(F)[0]],Z=[],ae,j;for(ae=0;ae<m.length;ae++){var q=m[ae]._index||ae;if(j=i.slice(),j.push(q),M(E[q])&&M(m[ae])){Z.push(q);var oe=E[q],Q=m[ae];M(oe)&&oe.visible!==!1&&Q.visible===!1?A.push(c("invisible",w,j)):r(oe,Q,J,A,w,j)}}for(ae=0;ae<E.length;ae++)j=i.slice(),j.push(ae),M(E[ae])?Z.indexOf(ae)===-1&&A.push(c("unused",w,j)):A.push(c("object",w,j,E[ae]))}else!M(E)&&M(m)?A.push(c("object",w,i,E)):!p(E)&&p(m)&&!U&&!z?A.push(c("array",w,i,E)):x in s?y.validate(E,k)?k.valType==="enumerated"&&(k.coerceNumber&&E!==+m||E!==m)&&A.push(c("dynamic",w,i,E,m)):A.push(c("value",w,i,E)):A.push(c("unused",w,i,E))}}return A}function t(h,s){for(var d=h.layout.layoutAttributes,A=0;A<s.length;A++){var w=s[A],C=h.traces[w.type],b=C.layoutAttributes;b&&(w.subplot?y.extendFlat(d[C.attributes.subplot.dflt],b):y.extendFlat(d,b))}return d}var o={object:function(h,s){var d;return h==="layout"&&s===""?d="The layout argument":h[0]==="data"&&s===""?d="Trace "+h[1]+" in the data argument":d=n(h)+"key "+s,d+" must be linked to an object container"},array:function(h,s){var d;return h==="data"?d="The data argument":d=n(h)+"key "+s,d+" must be linked to an array container"},schema:function(h,s){return n(h)+"key "+s+" is not part of the schema"},unused:function(h,s,d){var A=M(d)?"container":"key";return n(h)+A+" "+s+" did not get coerced"},dynamic:function(h,s,d,A){return[n(h)+"key",s,"(set to '"+d+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(h,s){return(s?n(h)+"item "+s:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,s,d){return[n(h)+"key "+s,"is set to an invalid value ("+d+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function c(h,s,d,A,w){d=d||"";var C,b;v(s)?(C=s[0],b=s[1]):(C=s,b=null);var S=T(d),x=o[h](s,S,A,w);return y.log(x),{code:h,container:C,trace:b,path:d,astr:S,msg:x}}function u(h,s){var d=f(s),A=d.keyMinusId,w=d.id;return A in h&&h[A]._isSubplotObj&&w?!0:s in h}function l(h,s){if(s in h)return h[s];var d=f(s);return h[d.keyMinusId]}var g=y.counterRegex("([a-z]+)");function f(h){var s=h.match(g);return{keyMinusId:s&&s[1],id:s&&s[2]}}function T(h){if(!v(h))return String(h);for(var s="",d=0;d<h.length;d++){var A=h[d];typeof A=="number"?s=s.substr(0,s.length-1)+"["+A+"]":s+=A,d<h.length-1&&(s+=".")}return s}},85594:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(G,H,e){var y=e(71828),P=e(44467);G.exports=function(L,M,v){var p=v.name,r=v.inclusionAttr||"visible",t=M[p],o=y.isArrayOrTypedArray(L[p])?L[p]:[],n=M[p]=[],c=P.arrayTemplater(M,p,r),u,l;for(u=0;u<o.length;u++){var g=o[u];y.isPlainObject(g)?l=c.newItem(g):(l=c.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(g,l,M,v),n.push(l)}var f=c.defaultItems();for(u=0;u<f.length;u++)l=f[u],l._index=n.length,v.handleItemDefaults({},l,M,v,{}),n.push(l);if(y.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(u=0;u<T;u++)y.relinkPrivateKeys(n[u],t[u])}return n}},9012:function(G,H,e){var y=e(41940),P=e(77914);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:y({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(G,H,e){var y=e(92770),P=e(71828),a=P.dateTime2ms,L=P.incrementMonth,M=e(50606),v=M.ONEAVGMONTH;G.exports=function(r,t,o,n){if(t.type!=="date")return{vals:n};var c=r[o+"periodalignment"];if(!c)return{vals:n};var u=r[o+"period"],l;if(y(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var g=+u.substring(1);if(g>0&&Math.round(g)===g)l=g;else return{vals:n}}for(var f=t.calendar,T=c==="start",h=c==="end",s=r[o+"period0"],d=a(s,f)||0,A=[],w=[],C=[],b=n.length,S=0;S<b;S++){var x=n[S],i,E,m;if(l){for(i=Math.round((x-d)/(l*v)),m=L(d,l*i,f);m>x;)m=L(m,-l,f);for(;m<=x;)m=L(m,l,f);E=L(m,-l,f)}else{for(i=Math.round((x-d)/u),m=d+i*u;m>x;)m-=u;for(;m<=x;)m+=u;E=m-u}A[S]=T?E:h?m:(E+m)/2,w[S]=E,C[S]=m}return{vals:A,starts:w,ends:C}}},89502:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(G,H,e){var y=e(39898),P=e(92770),a=e(71828),L=e(50606).FP_SAFE,M=e(73972),v=e(91424),p=e(41675),r=p.getFromId,t=p.isLinked;G.exports={applyAutorangeOptions:i,getAutoRange:o,makePadFn:c,doAutoRange:f,findExtremes:T,concatExtremes:g};function o(E,m){var k,I,U=[],z=E._fullLayout,F=c(z,m,0),B=c(z,m,1),O=g(E,m),N=O.min,Y=O.max;if(N.length===0||Y.length===0)return a.simpleMap(m.range,m.r2l);var $=N[0].val,te=Y[0].val;for(k=1;k<N.length&&$===te;k++)$=Math.min($,N[k].val);for(k=1;k<Y.length&&$===te;k++)te=Math.max(te,Y[k].val);var ie=m.autorange,ce=ie==="reversed"||ie==="min reversed"||ie==="max reversed";if(!ce&&m.range){var J=a.simpleMap(m.range,m.r2l);ce=J[1]<J[0]}m.autorange==="reversed"&&(m.autorange=!0);var Z=m.rangemode,ae=Z==="tozero",j=Z==="nonnegative",q=m._length,oe=q/10,Q=0,K,se,ne,fe,ye,Ee;for(k=0;k<N.length;k++)for(K=N[k],I=0;I<Y.length;I++)se=Y[I],Ee=se.val-K.val-n(m,K.val,se.val),Ee>0&&(ye=q-F(K)-B(se),ye>oe?Ee/ye>Q&&(ne=K,fe=se,Q=Ee/ye):Ee/q>Q&&(ne={val:K.val,nopad:1},fe={val:se.val,nopad:1},Q=Ee/q));function Te(Ce,Ne){return Math.max(Ce,B(Ne))}if($===te){var ze=$-1,ke=$+1;if(ae)if($===0)U=[0,1];else{var Se=($>0?Y:N).reduce(Te,0),me=$/(1-Math.min(.5,Se/q));U=$>0?[0,me]:[me,0]}else j?U=[Math.max(0,ze),Math.max(1,ke)]:U=[ze,ke]}else ae?(ne.val>=0&&(ne={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):j&&(ne.val-Q*F(ne)<0&&(ne={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),Q=(fe.val-ne.val-n(m,K.val,se.val))/(q-F(ne)-B(fe)),U=[ne.val-Q*F(ne),fe.val+Q*B(fe)];return U=i(U,m),m.limitRange&&m.limitRange(),ce&&U.reverse(),a.simpleMap(U,m.l2r||Number)}function n(E,m,k){var I=0;if(E.rangebreaks)for(var U=E.locateBreaks(m,k),z=0;z<U.length;z++){var F=U[z];I+=F.max-F.min}return I}function c(E,m,k){var I=.05*m._length,U=m._anchorAxis||{};if((m.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var z=m.isReversed();if(!z){var F=a.simpleMap(m.range,m.r2l);z=F[1]<F[0]}z&&(k=!k)}var B=0;return t(E,m._id)||(B=l(E,m,k)),I=Math.max(B,I),m.constrain==="domain"&&m._inputDomain&&(I*=(m._inputDomain[1]-m._inputDomain[0])/(m.domain[1]-m.domain[0])),function(N){return N.nopad?0:N.pad+(N.extrapad?I:B)}}var u=3;function l(E,m,k){var I=0,U=m._id.charAt(0)==="x";for(var z in E._plots){var F=E._plots[z];if(!(m._id!==F.xaxis._id&&m._id!==F.yaxis._id)){var B=(U?F.yaxis:F.xaxis)||{};if((B.ticklabelposition||"").indexOf("inside")!==-1&&(!k&&(B.side==="left"||B.side==="bottom")||k&&(B.side==="top"||B.side==="right"))){if(B._vals){var O=a.deg2rad(B._tickAngles[B._id+"tick"]||0),N=Math.abs(Math.cos(O)),Y=Math.abs(Math.sin(O));if(!B._vals[0].bb){var $=B._id+"tick",te=B._selections[$];te.each(function(j){var q=y.select(this),oe=q.select(".text-math-group");oe.empty()&&(j.bb=v.bBox(q.node()))})}for(var ie=0;ie<B._vals.length;ie++){var ce=B._vals[ie],J=ce.bb;if(J){var Z=2*u+J.width,ae=2*u+J.height;I=Math.max(I,U?Math.max(Z*N,ae*Y):Math.max(ae*N,Z*Y))}}}B.ticks==="inside"&&B.ticklabelposition==="inside"&&(I+=B.ticklen||0)}}}return I}function g(E,m,k){var I=m._id,U=E._fullData,z=E._fullLayout,F=[],B=[],O,N,Y;function $(Z,ae){for(O=0;O<ae.length;O++){var j=Z[ae[O]],q=(j._extremes||{})[I];if(j.visible===!0&&q){for(N=0;N<q.min.length;N++)Y=q.min[N],h(F,Y.val,Y.pad,{extrapad:Y.extrapad});for(N=0;N<q.max.length;N++)Y=q.max[N],s(B,Y.val,Y.pad,{extrapad:Y.extrapad})}}}if($(U,m._traceIndices),$(z.annotations||[],m._annIndices||[]),$(z.shapes||[],m._shapeIndices||[]),m._matchGroup&&!k){for(var te in m._matchGroup)if(te!==m._id){var ie=r(E,te),ce=g(E,ie,!0),J=m._length/ie._length;for(N=0;N<ce.min.length;N++)Y=ce.min[N],h(F,Y.val,Y.pad*J,{extrapad:Y.extrapad});for(N=0;N<ce.max.length;N++)Y=ce.max[N],s(B,Y.val,Y.pad*J,{extrapad:Y.extrapad})}}return{min:F,max:B}}function f(E,m,k){if(m.setScale(),m.autorange){m.range=k?k.slice():o(E,m),m._r=m.range.slice(),m._rl=a.simpleMap(m._r,m.r2l);var I=m._input,U={};U[m._attr+".range"]=m.range,U[m._attr+".autorange"]=m.autorange,M.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,U),I.range=m.range.slice(),I.autorange=m.autorange}var z=m._anchorAxis;if(z&&z.rangeslider){var F=z.rangeslider[m._name];F&&F.rangemode==="auto"&&(F.range=o(E,m)),z._input.rangeslider[m._name]=a.extendFlat({},F)}}function T(E,m,k){k||(k={}),E._m||E.setScale();var I=[],U=[],z=m.length,F=k.padded||!1,B=k.tozero&&(E.type==="linear"||E.type==="-"),O=E.type==="log",N=!1,Y=k.vpadLinearized||!1,$,te,ie,ce,J,Z,ae,j,q;function oe(Te){if(Array.isArray(Te))return N=!0,function(ke){return Math.max(Number(Te[ke]||0),0)};var ze=Math.max(Number(Te||0),0);return function(){return ze}}var Q=oe((E._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),K=oe((E._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),se=oe(k.vpadplus||k.vpad),ne=oe(k.vpadminus||k.vpad);if(!N){if(j=1/0,q=-1/0,O)for($=0;$<z;$++)te=m[$],te<j&&te>0&&(j=te),te>q&&te<L&&(q=te);else for($=0;$<z;$++)te=m[$],te<j&&te>-L&&(j=te),te>q&&te<L&&(q=te);m=[j,q],z=2}var fe={tozero:B,extrapad:F};function ye(Te){ie=m[Te],P(ie)&&(Z=Q(Te),ae=K(Te),Y?(ce=E.c2l(ie)-ne(Te),J=E.c2l(ie)+se(Te)):(j=ie-ne(Te),q=ie+se(Te),O&&j<q/10&&(j=q/10),ce=E.c2l(j),J=E.c2l(q)),B&&(ce=Math.min(0,ce),J=Math.max(0,J)),A(ce)&&h(I,ce,ae,fe),A(J)&&s(U,J,Z,fe))}var Ee=Math.min(6,z);for($=0;$<Ee;$++)ye($);for($=z-1;$>=Ee;$--)ye($);return{min:I,max:U,opts:k}}function h(E,m,k,I){d(E,m,k,I,w)}function s(E,m,k,I){d(E,m,k,I,C)}function d(E,m,k,I,U){for(var z=I.tozero,F=I.extrapad,B=!0,O=0;O<E.length&&B;O++){var N=E[O];if(U(N.val,m)&&N.pad>=k&&(N.extrapad||!F)){B=!1;break}else U(m,N.val)&&N.pad<=k&&(F||!N.extrapad)&&(E.splice(O,1),O--)}if(B){var Y=z&&m===0;E.push({val:m,pad:Y?0:k,extrapad:Y?!1:F})}}function A(E){return P(E)&&Math.abs(E)<L}function w(E,m){return E<=m}function C(E,m){return E>=m}function b(E,m){var k=m.autorangeoptions;return k&&k.minallowed!==void 0&&x(m,k.minallowed,k.maxallowed)?k.minallowed:k&&k.clipmin!==void 0&&x(m,k.clipmin,k.clipmax)?Math.max(E,m.d2l(k.clipmin)):E}function S(E,m){var k=m.autorangeoptions;return k&&k.maxallowed!==void 0&&x(m,k.minallowed,k.maxallowed)?k.maxallowed:k&&k.clipmax!==void 0&&x(m,k.clipmin,k.clipmax)?Math.min(E,m.d2l(k.clipmax)):E}function x(E,m,k){return m!==void 0&&k!==void 0?(m=E.d2l(m),k=E.d2l(k),m<k):!0}function i(E,m){if(!m||!m.autorangeoptions)return E;var k=E[0],I=E[1],U=m.autorangeoptions.include;if(U!==void 0){var z=m.d2l(k),F=m.d2l(I);a.isArrayOrTypedArray(U)||(U=[U]);for(var B=0;B<U.length;B++){var O=m.d2l(U[B]);z>=O&&(z=O,k=O),F<=O&&(F=O,I=O)}}return k=b(k,m),I=S(I,m),[k,I]}},23074:function(G){G.exports=function(e,y,P){var a,L;if(P){var M=y==="reversed"||y==="min reversed"||y==="max reversed";a=P[M?1:0],L=P[M?0:1]}var v=e("autorangeoptions.minallowed",L===null?a:void 0),p=e("autorangeoptions.maxallowed",a===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(G,H,e){var y=e(39898),P=e(92770),a=e(74875),L=e(73972),M=e(71828),v=M.strTranslate,p=e(63893),r=e(92998),t=e(7901),o=e(91424),n=e(13838),c=e(66287),u=e(50606),l=u.ONEMAXYEAR,g=u.ONEAVGYEAR,f=u.ONEMINYEAR,T=u.ONEMAXQUARTER,h=u.ONEAVGQUARTER,s=u.ONEMINQUARTER,d=u.ONEMAXMONTH,A=u.ONEAVGMONTH,w=u.ONEMINMONTH,C=u.ONEWEEK,b=u.ONEDAY,S=b/2,x=u.ONEHOUR,i=u.ONEMIN,E=u.ONESEC,m=u.MINUS_SIGN,k=u.BADNUM,I={K:"zeroline"},U={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},B={K:"tick",L:"text"},O={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},N=e(18783),Y=N.MID_SHIFT,$=N.CAP_SHIFT,te=N.LINE_SPACING,ie=N.OPPOSITE_SIDE,ce=3,J=G.exports={};J.setConvert=e(21994);var Z=e(4322),ae=e(41675),j=ae.idSort,q=ae.isLinked;J.id2name=ae.id2name,J.name2id=ae.name2id,J.cleanId=ae.cleanId,J.list=ae.list,J.listIds=ae.listIds,J.getFromId=ae.getFromId,J.getFromTrace=ae.getFromTrace;var oe=e(71739);J.getAutoRange=oe.getAutoRange,J.findExtremes=oe.findExtremes;var Q=1e-4;function K(Ye){var We=(Ye[1]-Ye[0])*Q;return[Ye[0]-We,Ye[1]+We]}J.coerceRef=function(Ye,We,kt,It,Zt,rr){var ur=It.charAt(It.length-1),er=kt._fullLayout._subplots[ur+"axis"],Ot=It+"ref",vr={};return Zt||(Zt=er[0]||(typeof rr=="string"?rr:rr[0])),rr||(rr=Zt),er=er.concat(er.map(function(yr){return yr+" domain"})),vr[Ot]={valType:"enumerated",values:er.concat(rr?typeof rr=="string"?[rr]:rr:[]),dflt:Zt},M.coerce(Ye,We,vr,Ot)},J.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},J.coercePosition=function(Ye,We,kt,It,Zt,rr){var ur,er,Ot=J.getRefType(It);if(Ot!=="range")ur=M.ensureNumber,er=kt(Zt,rr);else{var vr=J.getFromId(We,It);rr=vr.fraction2r(rr),er=kt(Zt,rr),ur=vr.cleanPos}Ye[Zt]=ur(er)},J.cleanPosition=function(Ye,We,kt){var It=kt==="paper"||kt==="pixel"?M.ensureNumber:J.getFromId(We,kt).cleanPos;return It(Ye)},J.redrawComponents=function(Ye,We){We=We||J.listIds(Ye);var kt=Ye._fullLayout;function It(Zt,rr,ur,er){for(var Ot=L.getComponentMethod(Zt,rr),vr={},yr=0;yr<We.length;yr++)for(var pr=kt[J.id2name(We[yr])],cr=pr[ur],Ur=0;Ur<cr.length;Ur++){var kr=cr[Ur];if(!vr[kr]&&(Ot(Ye,kr),vr[kr]=1,er))return}}It("annotations","drawOne","_annIndices"),It("shapes","drawOne","_shapeIndices"),It("images","draw","_imgIndices",!0),It("selections","drawOne","_selectionIndices")};var se=J.getDataConversions=function(Ye,We,kt,It){var Zt,rr=kt==="x"||kt==="y"||kt==="z"?kt:It;if(M.isArrayOrTypedArray(rr)){if(Zt={type:Z(It,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(Zt),Zt.type==="category")for(var ur=0;ur<It.length;ur++)Zt.d2c(It[ur])}else Zt=J.getFromTrace(Ye,We,rr);return Zt?{d2c:Zt.d2c,c2d:Zt.c2d}:rr==="ids"?{d2c:fe,c2d:fe}:{d2c:ne,c2d:ne}};function ne(Ye){return+Ye}function fe(Ye){return String(Ye)}J.getDataToCoordFunc=function(Ye,We,kt,It){return se(Ye,We,kt,It).d2c},J.counterLetter=function(Ye){var We=Ye.charAt(0);if(We==="x")return"y";if(We==="y")return"x"},J.minDtick=function(Ye,We,kt,It){["log","category","multicategory"].indexOf(Ye.type)!==-1||!It?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=We,Ye._forceTick0=kt):Ye._minDtick&&((Ye._minDtick/We+1e-6)%1<2e-6&&((kt-Ye._forceTick0)/We%1+1.000001)%1<2e-6?(Ye._minDtick=We,Ye._forceTick0=kt):((We/Ye._minDtick+1e-6)%1>2e-6||((kt-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},J.saveRangeInitial=function(Ye,We){for(var kt=J.list(Ye,"",!0),It=!1,Zt=0;Zt<kt.length;Zt++){var rr=kt[Zt],ur=rr._rangeInitial0===void 0&&rr._rangeInitial1===void 0,er=ur||rr.range[0]!==rr._rangeInitial0||rr.range[1]!==rr._rangeInitial1,Ot=rr.autorange;(ur&&Ot!==!0||We&&er)&&(rr._rangeInitial0=Ot==="min"||Ot==="max reversed"?void 0:rr.range[0],rr._rangeInitial1=Ot==="max"||Ot==="min reversed"?void 0:rr.range[1],rr._autorangeInitial=Ot,It=!0)}return It},J.saveShowSpikeInitial=function(Ye,We){for(var kt=J.list(Ye,"",!0),It=!1,Zt="on",rr=0;rr<kt.length;rr++){var ur=kt[rr],er=ur._showSpikeInitial===void 0,Ot=er||ur.showspikes!==ur._showspikes;(er||We&&Ot)&&(ur._showSpikeInitial=ur.showspikes,It=!0),Zt==="on"&&!ur.showspikes&&(Zt="off")}return Ye._fullLayout._cartesianSpikesEnabled=Zt,It},J.autoBin=function(Ye,We,kt,It,Zt,rr){var ur=M.aggNums(Math.min,null,Ye),er=M.aggNums(Math.max,null,Ye);if(We.type==="category"||We.type==="multicategory")return{start:ur-.5,end:er+.5,size:Math.max(1,Math.round(rr)||1),_dataSpan:er-ur};Zt||(Zt=We.calendar);var Ot;if(We.type==="log"?Ot={type:"linear",range:[ur,er]}:Ot={type:We.type,range:M.simpleMap([ur,er],We.c2r,0,Zt),calendar:Zt},J.setConvert(Ot),rr=rr&&c.dtick(rr,Ot.type),rr)Ot.dtick=rr,Ot.tick0=c.tick0(void 0,Ot.type,Zt);else{var vr;if(kt)vr=(er-ur)/kt;else{var yr=M.distinctVals(Ye),pr=Math.pow(10,Math.floor(Math.log(yr.minDiff)/Math.LN10)),cr=pr*M.roundUp(yr.minDiff/pr,[.9,1.9,4.9,9.9],!0);vr=Math.max(cr,2*M.stdev(Ye)/Math.pow(Ye.length,It?.25:.4)),P(vr)||(vr=1)}J.autoTicks(Ot,vr)}var Ur=Ot.dtick,kr=J.tickIncrement(J.tickFirst(Ot),Ur,"reverse",Zt),Rr,hn;if(typeof Ur=="number")kr=ye(kr,Ye,Ot,ur,er),hn=1+Math.floor((er-kr)/Ur),Rr=kr+hn*Ur;else for(Ot.dtick.charAt(0)==="M"&&(kr=Ee(kr,Ye,Ur,ur,Zt)),Rr=kr,hn=0;Rr<=er;)Rr=J.tickIncrement(Rr,Ur,!1,Zt),hn++;return{start:We.c2r(kr,0,Zt),end:We.c2r(Rr,0,Zt),size:Ur,_dataSpan:er-ur}};function ye(Ye,We,kt,It,Zt){var rr=0,ur=0,er=0,Ot=0;function vr(Ur){return(1+(Ur-Ye)*100/kt.dtick)%100<2}for(var yr=0;yr<We.length;yr++)We[yr]%1===0?er++:P(We[yr])||Ot++,vr(We[yr])&&rr++,vr(We[yr]+kt.dtick/2)&&ur++;var pr=We.length-Ot;if(er===pr&&kt.type!=="date")kt.dtick<1?Ye=It-.5*kt.dtick:(Ye-=.5,Ye+kt.dtick<It&&(Ye+=kt.dtick));else if(ur<pr*.1&&(rr>pr*.3||vr(It)||vr(Zt))){var cr=kt.dtick/2;Ye+=Ye+cr<It?cr:-cr}return Ye}function Ee(Ye,We,kt,It,Zt){var rr=M.findExactDates(We,Zt),ur=.8;if(rr.exactDays>ur){var er=Number(kt.substr(1));rr.exactYears>ur&&er%12===0?Ye=J.tickIncrement(Ye,"M6","reverse")+b*1.5:rr.exactMonths>ur?Ye=J.tickIncrement(Ye,"M1","reverse")+b*15.5:Ye-=S;var Ot=J.tickIncrement(Ye,kt);if(Ot<=It)return Ot}return Ye}J.prepMinorTicks=function(Ye,We,kt){if(!We.minor.dtick){delete Ye.dtick;var It=We.dtick&&P(We._tmin),Zt;if(It){var rr=J.tickIncrement(We._tmin,We.dtick,!0);Zt=[We._tmin,rr*.99+We._tmin*.01]}else{var ur=M.simpleMap(We.range,We.r2l);Zt=[ur[0],.8*ur[0]+.2*ur[1]]}if(Ye.range=M.simpleMap(Zt,We.l2r),Ye._isMinor=!0,J.prepTicks(Ye,kt),It){var er=P(We.dtick),Ot=P(Ye.dtick),vr=er?We.dtick:+We.dtick.substring(1),yr=Ot?Ye.dtick:+Ye.dtick.substring(1);er&&Ot?Te(vr,yr)?vr===2*C&&yr===2*b&&(Ye.dtick=C):vr===2*C&&yr===3*b?Ye.dtick=C:vr===C&&!(We._input.minor||{}).nticks?Ye.dtick=b:ze(vr/yr,2.5)?Ye.dtick=vr/2:Ye.dtick=vr:String(We.dtick).charAt(0)==="M"?Ot?Ye.dtick="M1":Te(vr,yr)?vr>=12&&yr===2&&(Ye.dtick="M3"):Ye.dtick=We.dtick:String(Ye.dtick).charAt(0)==="L"?String(We.dtick).charAt(0)==="L"?Te(vr,yr)||(Ye.dtick=ze(vr/yr,2.5)?We.dtick/2:We.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+We.dtick>1&&(Ye.dtick=1)}Ye.range=We.range}We.minor._tick0Init===void 0&&(Ye.tick0=We.tick0)};function Te(Ye,We){return Math.abs((Ye/We+.5)%1-.5)<.001}function ze(Ye,We){return Math.abs(Ye/We-1)<.001}J.prepTicks=function(Ye,We){var kt=M.simpleMap(Ye.range,Ye.r2l,void 0,void 0,We);if(Ye.tickmode==="auto"||!Ye.dtick){var It=Ye.nticks,Zt;It||(Ye.type==="category"||Ye.type==="multicategory"?(Zt=Ye.tickfont?M.bigFont(Ye.tickfont.size||12):15,It=Ye._length/Zt):(Zt=Ye._id.charAt(0)==="y"?40:80,It=M.constrain(Ye._length/Zt,4,9)+1),Ye._name==="radialaxis"&&(It*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(It*=100),Ye._roughDTick=Math.abs(kt[1]-kt[0])/It,J.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Se(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),gt(Ye)};function ke(Ye){return+Ye.substring(1)}function Se(Ye){var We;function kt(){return!(P(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var It=kt(),Zt=J.getTickFormat(Ye);if(Zt){var rr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(Zt)||(/%[HI]/.test(Zt)?(We=x,rr&&!It&&Ye.dtick<x&&(Ye.dtick=x)):/%p/.test(Zt)?(We=S,rr&&!It&&Ye.dtick<S&&(Ye.dtick=S)):/%[Aadejuwx]/.test(Zt)?(We=b,rr&&!It&&Ye.dtick<b&&(Ye.dtick=b)):/%[UVW]/.test(Zt)?(We=C,rr&&!It&&Ye.dtick<C&&(Ye.dtick=C)):/%[Bbm]/.test(Zt)?(We=A,rr&&(It?ke(Ye.dtick)<1:Ye.dtick<w)&&(Ye.dtick="M1")):/%[q]/.test(Zt)?(We=h,rr&&(It?ke(Ye.dtick)<3:Ye.dtick<s)&&(Ye.dtick="M3")):/%[Yy]/.test(Zt)&&(We=g,rr&&(It?ke(Ye.dtick)<12:Ye.dtick<f)&&(Ye.dtick="M12")))}It=kt(),It&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=We}function me(Ye,We,kt){for(var It=0;It<Ye.length;It++){var Zt=Ye[It].value,rr=It,ur=It+1;It<Ye.length-1?(rr=It,ur=It+1):It>0?(rr=It-1,ur=It):(rr=It,ur=It);var er=Ye[rr].value,Ot=Ye[ur].value,vr=Math.abs(Ot-er),yr=kt||vr,pr=0;yr>=f?vr>=f&&vr<=l?pr=vr:pr=g:kt===h&&yr>=s?vr>=s&&vr<=T?pr=vr:pr=h:yr>=w?vr>=w&&vr<=d?pr=vr:pr=A:kt===C&&yr>=C?pr=C:yr>=b?pr=b:kt===S&&yr>=S?pr=S:kt===x&&yr>=x&&(pr=x);var cr;pr>=vr&&(pr=vr,cr=!0);var Ur=Zt+pr;if(We.rangebreaks&&pr>0){for(var kr=84,Rr=0,hn=0;hn<kr;hn++){var tn=(hn+.5)/kr;We.maskBreaks(Zt*(1-tn)+tn*Ur)!==k&&Rr++}pr*=Rr/kr,pr||(Ye[It].drop=!0),cr&&vr>C&&(pr=vr)}(pr>0||It===0)&&(Ye[It].periodX=Zt+pr/2)}}J.calcTicks=function(We,kt){for(var It=We.type,Zt=We.calendar,rr=We.ticklabelstep,ur=We.ticklabelmode==="period",er=M.simpleMap(We.range,We.r2l,void 0,void 0,kt),Ot=er[1]<er[0],vr=Math.min(er[0],er[1]),yr=Math.max(er[0],er[1]),pr=Math.max(1e3,We._length||0),cr=[],Ur=[],kr=[],Rr=[],hn=We.minor&&(We.minor.ticks||We.minor.showgrid),tn=1;tn>=(hn?0:1);tn--){var Fn=!tn;tn?(We._dtickInit=We.dtick,We._tick0Init=We.tick0):(We.minor._dtickInit=We.minor.dtick,We.minor._tick0Init=We.minor.tick0);var mn=tn?We:M.extendFlat({},We,We.minor);if(Fn?J.prepMinorTicks(mn,We,kt):J.prepTicks(mn,kt),mn.tickmode==="array"){tn?(kr=[],cr=He(We,!Fn)):(Rr=[],Ur=He(We,!Fn));continue}if(mn.tickmode==="sync"){kr=[],cr=Ne(We);continue}var Mr=K(er),Er=Mr[0],Wr=Mr[1],Hr=P(mn.dtick),an=It==="log"&&!(Hr||mn.dtick.charAt(0)==="L"),vn=J.tickFirst(mn,kt);if(tn){if(We._tmin=vn,vn<Er!==Ot)break;(It==="category"||It==="multicategory")&&(Wr=Ot?Math.max(-.5,Wr):Math.min(We._categories.length-.5,Wr))}var pn=null,En=vn,_n;if(tn){var oa;Hr?oa=We.dtick:It==="date"?typeof We.dtick=="string"&&We.dtick.charAt(0)==="M"&&(oa=A*We.dtick.substring(1)):oa=We._roughDTick,_n=Math.round((We.r2l(En)-We.r2l(We.tick0))/oa)-1}var Kn=mn.dtick;for(mn.rangebreaks&&mn._tick0Init!==mn.tick0&&(En=Nt(En,We),Ot||(En=J.tickIncrement(En,Kn,!Ot,Zt))),tn&&ur&&(En=J.tickIncrement(En,Kn,!Ot,Zt),_n--);Ot?En>=Wr:En<=Wr;En=J.tickIncrement(En,Kn,Ot,Zt)){if(tn&&_n++,mn.rangebreaks&&!Ot){if(En<Er)continue;if(mn.maskBreaks(En)===k&&Nt(En,mn)>=yr)break}if(kr.length>pr||En===pn)break;pn=En;var $n={value:En};tn?(an&&En!==(En|0)&&($n.simpleLabel=!0),rr>1&&_n%rr&&($n.skipLabel=!0),kr.push($n)):($n.minor=!0,Rr.push($n))}}if(hn){var Yn=We.minor.ticks==="inside"&&We.ticks==="outside"||We.minor.ticks==="outside"&&We.ticks==="inside";if(!Yn){for(var Jn=kr.map(function(gn){return gn.value}),Tr=[],on=0;on<Rr.length;on++){var rn=Rr[on],dn=rn.value;if(Jn.indexOf(dn)===-1){for(var Gn=!1,Tn=0;!Gn&&Tn<kr.length;Tn++)1e7+kr[Tn].value===1e7+dn&&(Gn=!0);Gn||Tr.push(rn)}}Rr=Tr}}ur&&me(kr,We,We._definedDelta);var Mn;if(We.rangebreaks){var Un=We._id.charAt(0)==="y",qn=1;We.tickmode==="auto"&&(qn=We.tickfont?We.tickfont.size:12);var ba=NaN;for(Mn=kr.length-1;Mn>-1;Mn--){if(kr[Mn].drop){kr.splice(Mn,1);continue}kr[Mn].value=Nt(kr[Mn].value,We);var Va=We.c2p(kr[Mn].value);(Un?ba>Va-qn:ba<Va+qn)?kr.splice(Ot?Mn+1:Mn,1):ba=Va}}Bt(We)&&Math.abs(er[1]-er[0])===360&&kr.pop(),We._tmax=(kr[kr.length-1]||{}).value,We._prevDateHead="",We._inCalcTicks=!0;var Sr,Nr=function(gn){gn.text="",We._prevDateHead=Sr};kr=kr.concat(Rr);var br,zr;for(Mn=0;Mn<kr.length;Mn++){var bn=kr[Mn].minor,Pn=kr[Mn].value;bn?Ur.push({x:Pn,minor:!0}):(Sr=We._prevDateHead,br=J.tickText(We,Pn,!1,kr[Mn].simpleLabel),zr=kr[Mn].periodX,zr!==void 0&&(br.periodX=zr,(zr>yr||zr<vr)&&(zr>yr&&(br.periodX=yr),zr<vr&&(br.periodX=vr),Nr(br))),kr[Mn].skipLabel&&Nr(br),cr.push(br))}return cr=cr.concat(Ur),We._inCalcTicks=!1,ur&&cr.length&&(cr[0].noTick=!0),cr};function Ce(Ye,We){return Ye.rangebreaks&&(We=We.filter(function(kt){return Ye.maskBreaks(kt.x)!==k})),We}function Ne(Ye){var We=Ye._mainAxis,kt=[];if(We._vals){for(var It=0;It<We._vals.length;It++)if(!We._vals[It].noTick){var Zt=We.l2p(We._vals[It].x),rr=Ye.p2l(Zt),ur=J.tickText(Ye,rr);We._vals[It].minor&&(ur.minor=!0,ur.text=""),kt.push(ur)}}return kt=Ce(Ye,kt),kt}function He(Ye,We){var kt=M.simpleMap(Ye.range,Ye.r2l),It=K(kt),Zt=Math.min(It[0],It[1]),rr=Math.max(It[0],It[1]),ur=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var er=[],Ot=0;Ot<=1;Ot++)if(!(We!==void 0&&(We&&Ot||We===!1&&!Ot))&&!(Ot&&!Ye.minor)){var vr=Ot?Ye.minor.tickvals:Ye.tickvals,yr=Ot?[]:Ye.ticktext;if(vr){M.isArrayOrTypedArray(yr)||(yr=[]);for(var pr=0;pr<vr.length;pr++){var cr=ur(vr[pr]);if(cr>Zt&&cr<rr){var Ur=yr[pr]===void 0?J.tickText(Ye,cr):At(Ye,cr,String(yr[pr]));Ot&&(Ur.minor=!0,Ur.text=""),er.push(Ur)}}}}return er=Ce(Ye,er),er}var De=[2,5,10],Ve=[1,2,3,6,12],at=[1,2,5,10,15,30],lt=[1,2,3,7,14],$e=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],et=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function dt(Ye,We,kt){return We*M.roundUp(Ye/We,kt)}J.autoTicks=function(Ye,We,kt){var It;function Zt(pr){return Math.pow(pr,Math.floor(Math.log(We)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=M.dateTick0(Ye.calendar,0);var rr=2*We;if(rr>g)We/=g,It=Zt(10),Ye.dtick="M"+12*dt(We,It,De);else if(rr>A)We/=A,Ye.dtick="M"+dt(We,1,Ve);else if(rr>b){if(Ye.dtick=dt(We,b,Ye._hasDayOfWeekBreaks?[1,2,7,14]:lt),!kt){var ur=J.getTickFormat(Ye),er=Ye.ticklabelmode==="period";er&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(ur)?Ye.tick0=M.dateTick0(Ye.calendar,2):Ye.tick0=M.dateTick0(Ye.calendar,1),er&&(Ye._dowTick0=Ye.tick0)}}else rr>x?Ye.dtick=dt(We,x,Ve):rr>i?Ye.dtick=dt(We,i,at):rr>E?Ye.dtick=dt(We,E,at):(It=Zt(10),Ye.dtick=dt(We,It,De))}else if(Ye.type==="log"){Ye.tick0=0;var Ot=M.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(We*=1.5),We>.7)Ye.dtick=Math.ceil(We);else if(Math.abs(Ot[1]-Ot[0])<1){var vr=1.5*Math.abs((Ot[1]-Ot[0])/We);We=Math.abs(Math.pow(10,Ot[1])-Math.pow(10,Ot[0]))/vr,It=Zt(10),Ye.dtick="L"+dt(We,It,De)}else Ye.dtick=We>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(We,1))):Bt(Ye)?(Ye.tick0=0,It=1,Ye.dtick=dt(We,It,ct)):(Ye.tick0=0,It=Zt(10),Ye.dtick=dt(We,It,De));if(Ye.dtick===0&&(Ye.dtick=1),!P(Ye.dtick)&&typeof Ye.dtick!="string"){var yr=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(yr)}};function gt(Ye){var We=Ye.dtick;if(Ye._tickexponent=0,!P(We)&&typeof We!="string"&&(We=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var kt=Ye.r2l(Ye.tick0),It=Ye.l2r(kt).replace(/(^-|i)/g,""),Zt=It.length;if(String(We).charAt(0)==="M")Zt>10||It.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+We.substr(1)%12===0?"y":"m";else if(We>=b&&Zt<=10||We>=b*15)Ye._tickround="d";else if(We>=i&&Zt<=16||We>=x)Ye._tickround="M";else if(We>=E&&Zt<=19||We>=i)Ye._tickround="S";else{var rr=Ye.l2r(kt+We).replace(/^-/,"").length;Ye._tickround=Math.max(Zt,rr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(P(We)||We.charAt(0)==="L"){var ur=Ye.range.map(Ye.r2d||Number);P(We)||(We=Number(We.substr(1))),Ye._tickround=2-Math.floor(Math.log(We)/Math.LN10+.01);var er=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Ot=Math.floor(Math.log(er)/Math.LN10+.01),vr=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(Ot)>vr&&(ge(Ye.exponentformat)&&!Me(Ot)?Ye._tickexponent=3*Math.round((Ot-1)/3):Ye._tickexponent=Ot)}else Ye._tickround=null}J.tickIncrement=function(Ye,We,kt,It){var Zt=kt?-1:1;if(P(We))return M.increment(Ye,Zt*We);var rr=We.charAt(0),ur=Zt*Number(We.substr(1));if(rr==="M")return M.incrementMonth(Ye,ur,It);if(rr==="L")return Math.log(Math.pow(10,Ye)+ur)/Math.LN10;if(rr==="D"){var er=We==="D2"?et:$e,Ot=Ye+Zt*.01,vr=M.roundUp(M.mod(Ot,1),er,kt);return Math.floor(Ot)+Math.log(y.round(Math.pow(10,vr),1))/Math.LN10}throw"unrecognized dtick "+String(We)},J.tickFirst=function(Ye,We){var kt=Ye.r2l||Number,It=M.simpleMap(Ye.range,kt,void 0,void 0,We),Zt=It[1]<It[0],rr=Zt?Math.floor:Math.ceil,ur=K(It)[0],er=Ye.dtick,Ot=kt(Ye.tick0);if(P(er)){var vr=rr((ur-Ot)/er)*er+Ot;return(Ye.type==="category"||Ye.type==="multicategory")&&(vr=M.constrain(vr,0,Ye._categories.length-1)),vr}var yr=er.charAt(0),pr=Number(er.substr(1));if(yr==="M"){for(var cr=0,Ur=Ot,kr,Rr,hn;cr<10;){if(kr=J.tickIncrement(Ur,er,Zt,Ye.calendar),(kr-ur)*(Ur-ur)<=0)return Zt?Math.min(Ur,kr):Math.max(Ur,kr);Rr=(ur-(Ur+kr)/2)/(kr-Ur),hn=yr+(Math.abs(Math.round(Rr))||1)*pr,Ur=J.tickIncrement(Ur,hn,Rr<0?!Zt:Zt,Ye.calendar),cr++}return M.error("tickFirst did not converge",Ye),Ur}else{if(yr==="L")return Math.log(rr((Math.pow(10,ur)-Ot)/pr)*pr+Ot)/Math.LN10;if(yr==="D"){var tn=er==="D2"?et:$e,Fn=M.roundUp(M.mod(ur,1),tn,Zt);return Math.floor(ur)+Math.log(y.round(Math.pow(10,Fn),1))/Math.LN10}else throw"unrecognized dtick "+String(er)}},J.tickText=function(Ye,We,kt,It){var Zt=At(Ye,We),rr=Ye.tickmode==="array",ur=kt||rr,er=Ye.type,Ot=er==="category"?Ye.d2l_noadd:Ye.d2l,vr;if(rr&&M.isArrayOrTypedArray(Ye.ticktext)){var yr=M.simpleMap(Ye.range,Ye.r2l),pr=(Math.abs(yr[1]-yr[0])-(Ye._lBreaks||0))/1e4;for(vr=0;vr<Ye.ticktext.length&&!(Math.abs(We-Ot(Ye.tickvals[vr]))<pr);vr++);if(vr<Ye.ticktext.length)return Zt.text=String(Ye.ticktext[vr]),Zt}function cr(hn){if(hn===void 0)return!0;if(kt)return hn==="none";var tn={first:Ye._tmin,last:Ye._tmax}[hn];return hn!=="all"&&We!==tn}var Ur=kt?"never":Ye.exponentformat!=="none"&&cr(Ye.showexponent)?"hide":"";if(er==="date"?Rt(Ye,Zt,kt,ur):er==="log"?Vt(Ye,Zt,kt,ur,Ur):er==="category"?Je(Ye,Zt):er==="multicategory"?Ge(Ye,Zt,kt):Bt(Ye)?Fe(Ye,Zt,kt,ur,Ur):Ie(Ye,Zt,kt,ur,Ur),It||(Ye.tickprefix&&!cr(Ye.showtickprefix)&&(Zt.text=Ye.tickprefix+Zt.text),Ye.ticksuffix&&!cr(Ye.showticksuffix)&&(Zt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(Zt.text)){var kr=Ye.labelalias[Zt.text];typeof kr=="string"&&(Zt.text=kr)}if(Ye.tickson==="boundaries"||Ye.showdividers){var Rr=function(hn){var tn=Ye.l2p(hn);return tn>=0&&tn<=Ye._length?hn:null};Zt.xbnd=[Rr(Zt.x-.5),Rr(Zt.x+Ye.dtick-.5)]}return Zt},J.hoverLabelText=function(Ye,We,kt){kt&&(Ye=M.extendFlat({},Ye,{hoverformat:kt}));var It=M.isArrayOrTypedArray(We)?We[0]:We,Zt=M.isArrayOrTypedArray(We)?We[1]:void 0;if(Zt!==void 0&&Zt!==It)return J.hoverLabelText(Ye,It,kt)+" - "+J.hoverLabelText(Ye,Zt,kt);var rr=Ye.type==="log"&&It<=0,ur=J.tickText(Ye,Ye.c2l(rr?-It:It),"hover").text;return rr?It===0?"0":m+ur:ur};function At(Ye,We,kt){var It=Ye.tickfont||{};return{x:We,dx:0,dy:0,text:kt||"",fontSize:It.size,font:It.family,fontColor:It.color}}function Rt(Ye,We,kt,It){var Zt=Ye._tickround,rr=kt&&Ye.hoverformat||J.getTickFormat(Ye);It=!rr&&It,It&&(P(Zt)?Zt=4:Zt={y:"m",m:"d",d:"M",M:"S",S:4}[Zt]);var ur=M.formatDate(We.x,rr,Zt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),er,Ot=ur.indexOf(`
`);if(Ot!==-1&&(er=ur.substr(Ot+1),ur=ur.substr(0,Ot)),It&&(er!==void 0&&(ur==="00:00:00"||ur==="00:00")?(ur=er,er=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),er)if(kt)Zt==="d"?ur+=", "+er:ur=er+(ur?", "+ur:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==er)Ye._prevDateHead=er,ur+="<br>"+er;else{var vr=jt(Ye),yr=Ye._trueSide||Ye.side;(!vr&&yr==="top"||vr&&yr==="bottom")&&(ur+="<br> ")}We.text=ur}function Vt(Ye,We,kt,It,Zt){var rr=Ye.dtick,ur=We.x,er=Ye.tickformat,Ot=typeof rr=="string"&&rr.charAt(0);if(Zt==="never"&&(Zt=""),It&&Ot!=="L"&&(rr="L3",Ot="L"),er||Ot==="L")We.text=Ae(Math.pow(10,ur),Ye,Zt,It);else if(P(rr)||Ot==="D"&&M.mod(ur+.01,1)<.1){var vr=Math.round(ur),yr=Math.abs(vr),pr=Ye.exponentformat;pr==="power"||ge(pr)&&Me(vr)?(vr===0?We.text=1:vr===1?We.text="10":We.text="10<sup>"+(vr>1?"":m)+yr+"</sup>",We.fontSize*=1.25):(pr==="e"||pr==="E")&&yr>2?We.text="1"+pr+(vr>0?"+":m)+yr:(We.text=Ae(Math.pow(10,ur),Ye,"","fakehover"),rr==="D1"&&Ye._id.charAt(0)==="y"&&(We.dy-=We.fontSize/6))}else if(Ot==="D")We.text=String(Math.round(Math.pow(10,M.mod(ur,1)))),We.fontSize*=.75;else throw"unrecognized dtick "+String(rr);if(Ye.dtick==="D1"){var cr=String(We.text).charAt(0);(cr==="0"||cr==="1")&&(Ye._id.charAt(0)==="y"?We.dx-=We.fontSize/4:(We.dy+=We.fontSize/2,We.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*We.fontSize*(ur<0?.5:.25)))}}function Je(Ye,We){var kt=Ye._categories[Math.round(We.x)];kt===void 0&&(kt=""),We.text=String(kt)}function Ge(Ye,We,kt){var It=Math.round(We.x),Zt=Ye._categories[It]||[],rr=Zt[1]===void 0?"":String(Zt[1]),ur=Zt[0]===void 0?"":String(Zt[0]);kt?We.text=ur+" - "+rr:(We.text=rr,We.text2=ur)}function Ie(Ye,We,kt,It,Zt){Zt==="never"?Zt="":Ye.showexponent==="all"&&Math.abs(We.x/Ye.dtick)<1e-6&&(Zt="hide"),We.text=Ae(We.x,Ye,Zt,It)}function Fe(Ye,We,kt,It,Zt){if(Ye.thetaunit==="radians"&&!kt){var rr=We.x/180;if(rr===0)We.text="0";else{var ur=Pe(rr);if(ur[1]>=100)We.text=Ae(M.deg2rad(We.x),Ye,Zt,It);else{var er=We.x<0;ur[1]===1?ur[0]===1?We.text="":We.text=ur[0]+"":We.text=["<sup>",ur[0],"</sup>","","<sub>",ur[1],"</sub>",""].join(""),er&&(We.text=m+We.text)}}}else We.text=Ae(We.x,Ye,Zt,It)}function Pe(Ye){function We(er,Ot){return Math.abs(er-Ot)<=1e-6}function kt(er,Ot){return We(Ot,0)?er:kt(Ot,er%Ot)}function It(er){for(var Ot=1;!We(Math.round(er*Ot)/Ot,er);)Ot*=10;return Ot}var Zt=It(Ye),rr=Ye*Zt,ur=Math.abs(kt(rr,Zt));return[Math.round(rr/ur),Math.round(Zt/ur)]}var xe=["f","p","n","","m","","k","M","G","T"];function ge(Ye){return Ye==="SI"||Ye==="B"}function Me(Ye){return Ye>14||Ye<-15}function Ae(Ye,We,kt,It){var Zt=Ye<0,rr=We._tickround,ur=kt||We.exponentformat||"B",er=We._tickexponent,Ot=J.getTickFormat(We),vr=We.separatethousands;if(It){var yr={exponentformat:ur,minexponent:We.minexponent,dtick:We.showexponent==="none"?We.dtick:P(Ye)&&Math.abs(Ye)||1,range:We.showexponent==="none"?We.range.map(We.r2d):[0,Ye||1]};gt(yr),rr=(Number(yr._tickround)||0)+4,er=yr._tickexponent,We.hoverformat&&(Ot=We.hoverformat)}if(Ot)return We._numFormat(Ot)(Ye).replace(/-/g,m);var pr=Math.pow(10,-rr)/2;if(ur==="none"&&(er=0),Ye=Math.abs(Ye),Ye<pr)Ye="0",Zt=!1;else{if(Ye+=pr,er&&(Ye*=Math.pow(10,-er),rr+=er),rr===0)Ye=String(Math.floor(Ye));else if(rr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+rr);for(var cr=rr;cr<0;cr++)Ye+="0"}else{Ye=String(Ye);var Ur=Ye.indexOf(".")+1;Ur&&(Ye=Ye.substr(0,Ur+rr).replace(/\.?0+$/,""))}Ye=M.numSeparate(Ye,We._separators,vr)}if(er&&ur!=="hide"){ge(ur)&&Me(er)&&(ur="power");var kr;er<0?kr=m+-er:ur!=="power"?kr="+"+er:kr=String(er),ur==="e"||ur==="E"?Ye+=ur+kr:ur==="power"?Ye+="10<sup>"+kr+"</sup>":ur==="B"&&er===9?Ye+="B":ge(ur)&&(Ye+=xe[er/3+5])}return Zt?m+Ye:Ye}J.getTickFormat=function(Ye){var We;function kt(Ot){return typeof Ot!="string"?Ot:Number(Ot.replace("M",""))*A}function It(Ot,vr){var yr=["L","D"];if(typeof Ot==typeof vr){if(typeof Ot=="number")return Ot-vr;var pr=yr.indexOf(Ot.charAt(0)),cr=yr.indexOf(vr.charAt(0));return pr===cr?Number(Ot.replace(/(L|D)/g,""))-Number(vr.replace(/(L|D)/g,"")):pr-cr}else return typeof Ot=="number"?1:-1}function Zt(Ot,vr,yr){var pr=yr||function(kr){return kr},cr=vr[0],Ur=vr[1];return(!cr&&typeof cr!="number"||pr(cr)<=pr(Ot))&&(!Ur&&typeof Ur!="number"||pr(Ur)>=pr(Ot))}function rr(Ot,vr){var yr=vr[0]===null,pr=vr[1]===null,cr=It(Ot,vr[0])>=0,Ur=It(Ot,vr[1])<=0;return(yr||cr)&&(pr||Ur)}var ur,er;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(We=0;We<Ye.tickformatstops.length;We++)if(er=Ye.tickformatstops[We],er.enabled&&Zt(Ye.dtick,er.dtickrange,kt)){ur=er;break}break}case"log":{for(We=0;We<Ye.tickformatstops.length;We++)if(er=Ye.tickformatstops[We],er.enabled&&rr(Ye.dtick,er.dtickrange)){ur=er;break}break}}return ur?ur.value:Ye.tickformat},J.getSubplots=function(Ye,We){var kt=Ye._fullLayout._subplots,It=kt.cartesian.concat(kt.gl2d||[]),Zt=We?J.findSubplotsWithAxis(It,We):It;return Zt.sort(function(rr,ur){var er=rr.substr(1).split("y"),Ot=ur.substr(1).split("y");return er[0]===Ot[0]?+er[1]-+Ot[1]:+er[0]-+Ot[0]}),Zt},J.findSubplotsWithAxis=function(Ye,We){for(var kt=new RegExp(We._id.charAt(0)==="x"?"^"+We._id+"y":We._id+"$"),It=[],Zt=0;Zt<Ye.length;Zt++){var rr=Ye[Zt];kt.test(rr)&&It.push(rr)}return It},J.makeClipPaths=function(Ye){var We=Ye._fullLayout;if(!We._hasOnlyLargeSploms){var kt={_offset:0,_length:We.width,_id:""},It={_offset:0,_length:We.height,_id:""},Zt=J.list(Ye,"x",!0),rr=J.list(Ye,"y",!0),ur=[],er,Ot;for(er=0;er<Zt.length;er++)for(ur.push({x:Zt[er],y:It}),Ot=0;Ot<rr.length;Ot++)er===0&&ur.push({x:kt,y:rr[Ot]}),ur.push({x:Zt[er],y:rr[Ot]});var vr=We._clips.selectAll(".axesclip").data(ur,function(yr){return yr.x._id+yr.y._id});vr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(yr){return"clip"+We._uid+yr.x._id+yr.y._id}).append("rect"),vr.exit().remove(),vr.each(function(yr){y.select(this).select("rect").attr({x:yr.x._offset||0,y:yr.y._offset||0,width:yr.x._length||1,height:yr.y._length||1})})}},J.draw=function(Ye,We,kt){var It=Ye._fullLayout;We==="redraw"&&It._paper.selectAll("g.subplot").each(function(Ot){var vr=Ot[0],yr=It._plots[vr];if(yr){var pr=yr.xaxis,cr=yr.yaxis;yr.xaxislayer.selectAll("."+pr._id+"tick").remove(),yr.yaxislayer.selectAll("."+cr._id+"tick").remove(),yr.xaxislayer.selectAll("."+pr._id+"tick2").remove(),yr.yaxislayer.selectAll("."+cr._id+"tick2").remove(),yr.xaxislayer.selectAll("."+pr._id+"divider").remove(),yr.yaxislayer.selectAll("."+cr._id+"divider").remove(),yr.minorGridlayer&&yr.minorGridlayer.selectAll("path").remove(),yr.gridlayer&&yr.gridlayer.selectAll("path").remove(),yr.zerolinelayer&&yr.zerolinelayer.selectAll("path").remove(),It._infolayer.select(".g-"+pr._id+"title").remove(),It._infolayer.select(".g-"+cr._id+"title").remove()}});var Zt=!We||We==="redraw"?J.listIds(Ye):We,rr=J.list(Ye),ur=rr.filter(function(Ot){return Ot.autoshift}).map(function(Ot){return Ot.overlaying});Zt.map(function(Ot){var vr=J.getFromId(Ye,Ot);if(vr.tickmode==="sync"&&vr.overlaying){var yr=Zt.findIndex(function(pr){return pr===vr.overlaying});yr>=0&&Zt.unshift(Zt.splice(yr,1).shift())}});var er={false:{left:0,right:0}};return M.syncOrAsync(Zt.map(function(Ot){return function(){if(Ot){var vr=J.getFromId(Ye,Ot);kt||(kt={}),kt.axShifts=er,kt.overlayingShiftedAx=ur;var yr=J.drawOne(Ye,vr,kt);return vr._shiftPusher&&fr(vr,vr._fullDepth||0,er,!0),vr._r=vr.range.slice(),vr._rl=M.simpleMap(vr._r,vr.r2l),yr}}}))},J.drawOne=function(Ye,We,kt){kt=kt||{};var It=kt.axShifts||{},Zt=kt.overlayingShiftedAx||[],rr,ur,er;We.setScale();var Ot=Ye._fullLayout,vr=We._id,yr=vr.charAt(0),pr=J.counterLetter(vr),cr=Ot._plots[We._mainSubplot];if(!cr)return;if(We._shiftPusher=We.autoshift||Zt.indexOf(We._id)!==-1||Zt.indexOf(We.overlaying)!==-1,We._shiftPusher&We.anchor==="free"){var Ur=We.linewidth/2||0;We.ticks==="inside"&&(Ur+=We.ticklen),fr(We,Ur,It,!0),fr(We,We.shift||0,It,!1)}(kt.skipTitle!==!0||We._shift===void 0)&&(We._shift=hr(We,It));var kr=cr[yr+"axislayer"],Rr=We._mainLinePosition,hn=Rr+=We._shift,tn=We._mainMirrorPosition,Fn=We._vals=J.calcTicks(We),mn=[We.mirror,hn,tn].join("_");for(rr=0;rr<Fn.length;rr++)Fn[rr].axInfo=mn;We._selections={},We._tickAngles&&(We._prevTickAngles=We._tickAngles),We._tickAngles={},We._depth=null;var Mr={};function Er(Gr){var Qr=vr+(Gr||"tick");return Mr[Qr]||(Mr[Qr]=pt(We,Qr)),Mr[Qr]}if(We.visible){var Wr=J.makeTransTickFn(We),Hr=J.makeTransTickLabelFn(We),an,vn,pn=We.ticks==="inside",En=We.ticks==="outside";if(We.tickson==="boundaries"){var _n=Ze(We,Fn);vn=J.clipEnds(We,_n),an=pn?vn:_n}else vn=J.clipEnds(We,Fn),an=pn&&We.ticklabelmode!=="period"?vn:Fn;var oa=We._gridVals=vn,Kn=ft(We,Fn);if(!Ot._hasOnlyLargeSploms){var $n=We._subplotsWith,Yn={};for(rr=0;rr<$n.length;rr++){ur=$n[rr],er=Ot._plots[ur];var Jn=er[pr+"axis"],Tr=Jn._mainAxis._id;if(!Yn[Tr]){Yn[Tr]=1;var on=yr==="x"?"M0,"+Jn._offset+"v"+Jn._length:"M"+Jn._offset+",0h"+Jn._length;J.drawGrid(Ye,We,{vals:oa,counterAxis:Jn,layer:er.gridlayer.select("."+vr),minorLayer:er.minorGridlayer.select("."+vr),path:on,transFn:Wr}),J.drawZeroLine(Ye,We,{counterAxis:Jn,layer:er.zerolinelayer,path:on,transFn:Wr})}}}var rn,dn=J.getTickSigns(We),Gn=J.getTickSigns(We,"minor");if(We.ticks||We.minor&&We.minor.ticks){var Tn=J.makeTickPath(We,hn,dn[2]),Mn=J.makeTickPath(We,hn,Gn[2],{minor:!0}),Un,qn,ba,Va;if(We._anchorAxis&&We.mirror&&We.mirror!==!0?(Un=J.makeTickPath(We,tn,dn[3]),qn=J.makeTickPath(We,tn,Gn[3],{minor:!0}),ba=Tn+Un,Va=Mn+qn):(Un="",qn="",ba=Tn,Va=Mn),We.showdividers&&En&&We.tickson==="boundaries"){var Sr={};for(rr=0;rr<Kn.length;rr++)Sr[Kn[rr].x]=1;rn=function(Gr){return Sr[Gr.x]?Un:ba}}else rn=function(Gr){return Gr.minor?Va:ba}}if(J.drawTicks(Ye,We,{vals:an,layer:kr,path:rn,transFn:Wr}),We.mirror==="allticks"){var Nr=Object.keys(We._linepositions||{});for(rr=0;rr<Nr.length;rr++){ur=Nr[rr],er=Ot._plots[ur];var br=We._linepositions[ur]||[],zr=br[0],bn=br[1],Pn=br[2],gn=J.makeTickPath(We,zr,Pn?dn[0]:Gn[0],{minor:Pn})+J.makeTickPath(We,bn,Pn?dn[1]:Gn[1],{minor:Pn});J.drawTicks(Ye,We,{vals:an,layer:er[yr+"axislayer"],path:gn,transFn:Wr})}}var cn=[];if(cn.push(function(){return J.drawLabels(Ye,We,{vals:Fn,layer:kr,plotinfo:er,transFn:Hr,labelFns:J.makeLabelFns(We,hn)})}),We.type==="multicategory"){var Lr={x:2,y:10}[yr];cn.push(function(){var Gr={x:"height",y:"width"}[yr],Qr=Er()[Gr]+Lr+(We._tickAngles[vr+"tick"]?We.tickfont.size*te:0);return J.drawLabels(Ye,We,{vals:tt(We,Fn),layer:kr,cls:vr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Wr,labelFns:J.makeLabelFns(We,hn+Qr*dn[4])})}),cn.push(function(){return We._depth=dn[4]*(Er("tick2")[We.side]-hn),zt(Ye,We,{vals:Kn,layer:kr,path:J.makeTickPath(We,hn,dn[4],{len:We._depth}),transFn:Wr})})}else We.title.hasOwnProperty("standoff")&&cn.push(function(){We._depth=dn[4]*(Er()[We.side]-hn)});var jr=L.getComponentMethod("rangeslider","isVisible")(We);return!kt.skipTitle&&!(jr&&We.side==="bottom")&&cn.push(function(){return wr(Ye,We)}),cn.push(function(){var Gr=We.side.charAt(0),Qr=ie[We.side].charAt(0),wn=J.getPxPosition(Ye,We),kn=En?We.ticklen:0,Dn,Nn,On,ga;(We.automargin||jr||We._shiftPusher)&&(We.type==="multicategory"?Dn=Er("tick2"):(Dn=Er(),yr==="x"&&Gr==="b"&&(We._depth=Math.max(Dn.width>0?Dn.bottom-wn:0,kn))));var la=0,pa=0;if(We._shiftPusher&&(la=Math.max(kn,Dn.height>0?Gr==="l"?wn-Dn.left:Dn.right-wn:0),We.title.text!==Ot._dfltTitle[yr]&&(pa=(We._titleStandoff||0)+(We._titleScoot||0),Gr==="l"&&(pa+=$t(We))),We._fullDepth=Math.max(la,pa)),We.automargin){Nn={x:0,y:0,r:0,l:0,t:0,b:0};var La=[0,1],vi=typeof We._shift=="number"?We._shift:0;if(yr==="x"){if(Gr==="b"?Nn[Gr]=We._depth:(Nn[Gr]=We._depth=Math.max(Dn.width>0?wn-Dn.top:0,kn),La.reverse()),Dn.width>0){var ti=Dn.right-(We._offset+We._length);ti>0&&(Nn.xr=1,Nn.r=ti);var _o=We._offset-Dn.left;_o>0&&(Nn.xl=0,Nn.l=_o)}}else if(Gr==="l"?(We._depth=Math.max(Dn.height>0?wn-Dn.left:0,kn),Nn[Gr]=We._depth-vi):(We._depth=Math.max(Dn.height>0?Dn.right-wn:0,kn),Nn[Gr]=We._depth+vi,La.reverse()),Dn.height>0){var Co=Dn.bottom-(We._offset+We._length);Co>0&&(Nn.yb=0,Nn.b=Co);var eo=We._offset-Dn.top;eo>0&&(Nn.yt=1,Nn.t=eo)}Nn[pr]=We.anchor==="free"?We.position:We._anchorAxis.domain[La[0]],We.title.text!==Ot._dfltTitle[yr]&&(Nn[Gr]+=$t(We)+(We.title.standoff||0)),We.mirror&&We.anchor!=="free"&&(On={x:0,y:0,r:0,l:0,t:0,b:0},On[Qr]=We.linewidth,We.mirror&&We.mirror!==!0&&(On[Qr]+=kn),We.mirror===!0||We.mirror==="ticks"?On[pr]=We._anchorAxis.domain[La[1]]:(We.mirror==="all"||We.mirror==="allticks")&&(On[pr]=[We._counterDomainMin,We._counterDomainMax][La[1]]))}jr&&(ga=L.getComponentMethod("rangeslider","autoMarginOpts")(Ye,We)),typeof We.automargin=="string"&&(Ue(Nn,We.automargin),Ue(On,We.automargin)),a.autoMargin(Ye,sr(We),Nn),a.autoMargin(Ye,vt(We),On),a.autoMargin(Ye,it(We),ga)}),M.syncOrAsync(cn)}};function Ue(Ye,We){if(Ye){var kt=Object.keys(O).reduce(function(It,Zt){return We.indexOf(Zt)!==-1&&O[Zt].forEach(function(rr){It[rr]=1}),It},{});Object.keys(Ye).forEach(function(It){kt[It]||(It.length===1?Ye[It]=0:delete Ye[It])})}}function Ze(Ye,We){var kt=[],It,Zt=function(rr,ur){var er=rr.xbnd[ur];er!==null&&kt.push(M.extendFlat({},rr,{x:er}))};if(We.length){for(It=0;It<We.length;It++)Zt(We[It],0);Zt(We[It-1],1)}return kt}function tt(Ye,We){for(var kt=[],It={},Zt=0;Zt<We.length;Zt++){var rr=We[Zt];It[rr.text2]?It[rr.text2].push(rr.x):It[rr.text2]=[rr.x]}for(var ur in It)kt.push(At(Ye,M.interp(It[ur],.5),ur));return kt}function ft(Ye,We){var kt=[],It,Zt,rr=We.length&&We[We.length-1].x<We[0].x,ur=function(Ot,vr){var yr=Ot.xbnd[vr];yr!==null&&kt.push(M.extendFlat({},Ot,{x:yr}))};if(Ye.showdividers&&We.length){for(It=0;It<We.length;It++){var er=We[It];er.text2!==Zt&&ur(er,rr?1:0),Zt=er.text2}ur(We[It-1],rr?0:1)}return kt}function pt(Ye,We){var kt,It,Zt,rr;return Ye._selections[We].size()?(kt=1/0,It=-1/0,Zt=1/0,rr=-1/0,Ye._selections[We].each(function(){var ur=gr(this),er=o.bBox(ur.node().parentNode);kt=Math.min(kt,er.top),It=Math.max(It,er.bottom),Zt=Math.min(Zt,er.left),rr=Math.max(rr,er.right)})):(kt=0,It=0,Zt=0,rr=0),{top:kt,bottom:It,left:Zt,right:rr,height:It-kt,width:rr-Zt}}J.getTickSigns=function(Ye,We){var kt=Ye._id.charAt(0),It={x:"top",y:"right"}[kt],Zt=Ye.side===It?1:-1,rr=[-1,1,Zt,-Zt],ur=We?(Ye.minor||{}).ticks:Ye.ticks;return ur!=="inside"==(kt==="x")&&(rr=rr.map(function(er){return-er})),Ye.side&&rr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),rr},J.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(We){return v(Ye._offset+Ye.l2p(We.x),0)}:function(We){return v(0,Ye._offset+Ye.l2p(We.x))}},J.makeTransTickLabelFn=function(Ye){var We=Jt(Ye),kt=We[0],It=We[1];return Ye._id.charAt(0)==="x"?function(Zt){return v(kt+Ye._offset+Ye.l2p(Yt(Zt)),It)}:function(Zt){return v(It,kt+Ye._offset+Ye.l2p(Yt(Zt)))}};function Yt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function Jt(Ye){var We=Ye.ticklabelposition||"",kt=function(Ur){return We.indexOf(Ur)!==-1},It=kt("top"),Zt=kt("left"),rr=kt("right"),ur=kt("bottom"),er=kt("inside"),Ot=ur||Zt||It||rr;if(!Ot&&!er)return[0,0];var vr=Ye.side,yr=Ot?(Ye.tickwidth||0)/2:0,pr=ce,cr=Ye.tickfont?Ye.tickfont.size:12;return(ur||It)&&(yr+=cr*$,pr+=(Ye.linewidth||0)/2),(Zt||rr)&&(yr+=(Ye.linewidth||0)/2,pr+=ce),er&&vr==="top"&&(pr-=cr*(1-$)),(Zt||It)&&(yr=-yr),(vr==="bottom"||vr==="right")&&(pr=-pr),[Ot?yr:0,er?pr:0]}J.makeTickPath=function(Ye,We,kt,It){It||(It={});var Zt=It.minor;if(Zt&&!Ye.minor)return"";var rr=It.len!==void 0?It.len:Zt?Ye.minor.ticklen:Ye.ticklen,ur=Ye._id.charAt(0),er=(Ye.linewidth||1)/2;return ur==="x"?"M0,"+(We+er*kt)+"v"+rr*kt:"M"+(We+er*kt)+",0h"+rr*kt},J.makeLabelFns=function(Ye,We,kt){var It=Ye.ticklabelposition||"",Zt=function(_n){return It.indexOf(_n)!==-1},rr=Zt("top"),ur=Zt("left"),er=Zt("right"),Ot=Zt("bottom"),vr=Ot||ur||rr||er,yr=Zt("inside"),pr=It==="inside"&&Ye.ticks==="inside"||!yr&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",cr=0,Ur=0,kr=pr?Ye.ticklen:0;if(yr?kr*=-1:vr&&(kr=0),pr&&(cr+=kr,kt)){var Rr=M.deg2rad(kt);cr=kr*Math.cos(Rr)+1,Ur=kr*Math.sin(Rr)}Ye.showticklabels&&(pr||Ye.showline)&&(cr+=.2*Ye.tickfont.size),cr+=(Ye.linewidth||1)/2*(yr?-1:1);var hn={labelStandoff:cr,labelShift:Ur},tn,Fn,mn,Mr,Er=0,Wr=Ye.side,Hr=Ye._id.charAt(0),an=Ye.tickangle,vn;if(Hr==="x")vn=!yr&&Wr==="bottom"||yr&&Wr==="top",Mr=vn?1:-1,yr&&(Mr*=-1),tn=Ur*Mr,Fn=We+cr*Mr,mn=vn?1:-.2,Math.abs(an)===90&&(yr?mn+=Y:an===-90&&Wr==="bottom"?mn=$:an===90&&Wr==="top"?mn=Y:mn=.5,Er=Y/2*(an/90)),hn.xFn=function(_n){return _n.dx+tn+Er*_n.fontSize},hn.yFn=function(_n){return _n.dy+Fn+_n.fontSize*mn},hn.anchorFn=function(_n,oa){if(vr){if(ur)return"end";if(er)return"start"}return!P(oa)||oa===0||oa===180?"middle":oa*Mr<0!==yr?"end":"start"},hn.heightFn=function(_n,oa,Kn){return oa<-60||oa>60?-.5*Kn:Ye.side==="top"!==yr?-Kn:0};else if(Hr==="y"){if(vn=!yr&&Wr==="left"||yr&&Wr==="right",Mr=vn?1:-1,yr&&(Mr*=-1),tn=cr,Fn=Ur*Mr,mn=0,!yr&&Math.abs(an)===90&&(an===-90&&Wr==="left"||an===90&&Wr==="right"?mn=$:mn=.5),yr){var pn=P(an)?+an:0;if(pn!==0){var En=M.deg2rad(pn);Er=Math.abs(Math.sin(En))*$*Mr,mn=0}}hn.xFn=function(_n){return _n.dx+We-(tn+_n.fontSize*mn)*Mr+Er*_n.fontSize},hn.yFn=function(_n){return _n.dy+Fn+_n.fontSize*Y},hn.anchorFn=function(_n,oa){return P(oa)&&Math.abs(oa)===90?"middle":vn?"end":"start"},hn.heightFn=function(_n,oa,Kn){return Ye.side==="right"&&(oa*=-1),oa<-30?-Kn:oa<30?-.5*Kn:0}}return hn};function Tt(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}J.drawTicks=function(Ye,We,kt){kt=kt||{};var It=We._id+"tick",Zt=[].concat(We.minor&&We.minor.ticks?kt.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(We.ticks?kt.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),rr=kt.layer.selectAll("path."+It).data(Zt,Tt);rr.exit().remove(),rr.enter().append("path").classed(It,1).classed("ticks",1).classed("crisp",kt.crisp!==!1).each(function(ur){return t.stroke(y.select(this),ur.minor?We.minor.tickcolor:We.tickcolor)}).style("stroke-width",function(ur){return o.crispRound(Ye,ur.minor?We.minor.tickwidth:We.tickwidth,1)+"px"}).attr("d",kt.path).style("display",null),lr(We,[F]),rr.attr("transform",kt.transFn)},J.drawGrid=function(Ye,We,kt){if(kt=kt||{},We.tickmode!=="sync"){var It=We._id+"grid",Zt=We.minor&&We.minor.showgrid,rr=Zt?kt.vals.filter(function(tn){return tn.minor}):[],ur=We.showgrid?kt.vals.filter(function(tn){return!tn.minor}):[],er=kt.counterAxis;if(er&&J.shouldShowZeroLine(Ye,We,er))for(var Ot=We.tickmode==="array",vr=0;vr<ur.length;vr++){var yr=ur[vr].x;if(Ot?!yr:Math.abs(yr)<We.dtick/100)if(ur=ur.slice(0,vr).concat(ur.slice(vr+1)),Ot)vr--;else break}We._gw=o.crispRound(Ye,We.gridwidth,1);for(var pr=Zt?o.crispRound(Ye,We.minor.gridwidth,1):0,cr=kt.layer,Ur=kt.minorLayer,kr=1;kr>=0;kr--){var Rr=kr?cr:Ur;if(Rr){var hn=Rr.selectAll("path."+It).data(kr?ur:rr,Tt);hn.exit().remove(),hn.enter().append("path").classed(It,1).classed("crisp",kt.crisp!==!1),hn.attr("transform",kt.transFn).attr("d",kt.path).each(function(tn){return t.stroke(y.select(this),tn.minor?We.minor.gridcolor:We.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return o.dashStyle(tn.minor?We.minor.griddash:We.griddash,tn.minor?We.minor.gridwidth:We.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?pr:We._gw)+"px"}).style("display",null),typeof kt.path=="function"&&hn.attr("d",kt.path)}}lr(We,[U,z])}},J.drawZeroLine=function(Ye,We,kt){kt=kt||kt;var It=We._id+"zl",Zt=J.shouldShowZeroLine(Ye,We,kt.counterAxis),rr=kt.layer.selectAll("path."+It).data(Zt?[{x:0,id:We._id}]:[]);rr.exit().remove(),rr.enter().append("path").classed(It,1).classed("zl",1).classed("crisp",kt.crisp!==!1).each(function(){kt.layer.selectAll("path").sort(function(ur,er){return j(ur.id,er.id)})}),rr.attr("transform",kt.transFn).attr("d",kt.path).call(t.stroke,We.zerolinecolor||t.defaultLine).style("stroke-width",o.crispRound(Ye,We.zerolinewidth,We._gw||1)+"px").style("display",null),lr(We,[I])},J.drawLabels=function(Ye,We,kt){kt=kt||{};var It=Ye._fullLayout,Zt=We._id,rr=Zt.charAt(0),ur=kt.cls||Zt+"tick",er=kt.vals.filter(function(Kn){return Kn.text}),Ot=kt.labelFns,vr=kt.secondary?0:We.tickangle,yr=(We._prevTickAngles||{})[ur],pr=kt.layer.selectAll("g."+ur).data(We.showticklabels?er:[],Tt),cr=[];pr.enter().append("g").classed(ur,1).append("text").attr("text-anchor","middle").each(function(Kn){var $n=y.select(this),Yn=Ye._promises.length;$n.call(p.positionText,Ot.xFn(Kn),Ot.yFn(Kn)).call(o.font,Kn.font,Kn.fontSize,Kn.fontColor).text(Kn.text).call(p.convertToTspans,Ye),Ye._promises[Yn]?cr.push(Ye._promises.pop().then(function(){Ur($n,vr)})):Ur($n,vr)}),lr(We,[B]),pr.exit().remove(),kt.repositionOnUpdate&&pr.each(function(Kn){y.select(this).select("text").call(p.positionText,Ot.xFn(Kn),Ot.yFn(Kn))});function Ur(Kn,$n){Kn.each(function(Yn){var Jn=y.select(this),Tr=Jn.select(".text-math-group"),on=Ot.anchorFn(Yn,$n),rn=kt.transFn.call(Jn.node(),Yn)+(P($n)&&+$n!=0?" rotate("+$n+","+Ot.xFn(Yn)+","+(Ot.yFn(Yn)-Yn.fontSize/2)+")":""),dn=p.lineCount(Jn),Gn=te*Yn.fontSize,Tn=Ot.heightFn(Yn,P($n)?+$n:0,(dn-1)*Gn);if(Tn&&(rn+=v(0,Tn)),Tr.empty()){var Mn=Jn.select("text");Mn.attr({transform:rn,"text-anchor":on}),Mn.style("opacity",1),We._adjustTickLabelsOverflow&&We._adjustTickLabelsOverflow()}else{var Un=o.bBox(Tr.node()).width,qn=Un*{end:-.5,start:.5}[on];Tr.attr("transform",rn+v(qn,0))}})}We._adjustTickLabelsOverflow=function(){var Kn=We.ticklabeloverflow;if(!(!Kn||Kn==="allow")){var $n=Kn.indexOf("hide")!==-1,Yn=We._id.charAt(0)==="x",Jn=0,Tr=Yn?Ye._fullLayout.width:Ye._fullLayout.height;if(Kn.indexOf("domain")!==-1){var on=M.simpleMap(We.range,We.r2l);Jn=We.l2p(on[0])+We._offset,Tr=We.l2p(on[1])+We._offset}var rn=Math.min(Jn,Tr),dn=Math.max(Jn,Tr),Gn=We.side,Tn=1/0,Mn=-1/0;pr.each(function(Va){var Sr=y.select(this),Nr=Sr.select(".text-math-group");if(Nr.empty()){var br=o.bBox(Sr.node()),zr=0;Yn?(br.right>dn||br.left<rn)&&(zr=1):(br.bottom>dn||br.top+(We.tickangle?0:Va.fontSize/4)<rn)&&(zr=1);var bn=Sr.select("text");zr?$n&&bn.style("opacity",0):(bn.style("opacity",1),Gn==="bottom"||Gn==="right"?Tn=Math.min(Tn,Yn?br.top:br.left):Tn=-1/0,Gn==="top"||Gn==="left"?Mn=Math.max(Mn,Yn?br.bottom:br.right):Mn=1/0)}});for(var Un in It._plots){var qn=It._plots[Un];if(!(We._id!==qn.xaxis._id&&We._id!==qn.yaxis._id)){var ba=Yn?qn.yaxis:qn.xaxis;ba&&(ba["_visibleLabelMin_"+We._id]=Tn,ba["_visibleLabelMax_"+We._id]=Mn)}}}},We._hideCounterAxisInsideTickLabels=function(Kn){var $n=We._id.charAt(0)==="x",Yn=[];for(var Jn in It._plots){var Tr=It._plots[Jn];We._id!==Tr.xaxis._id&&We._id!==Tr.yaxis._id||Yn.push($n?Tr.yaxis:Tr.xaxis)}Yn.forEach(function(on,rn){on&&jt(on)&&(Kn||[I,z,U,F,B]).forEach(function(dn){var Gn=dn.K==="tick"&&dn.L==="text"&&We.ticklabelmode==="period",Tn=It._plots[We._mainSubplot],Mn;dn.K===I.K?Mn=Tn.zerolinelayer.selectAll("."+We._id+"zl"):dn.K===z.K?Mn=Tn.minorGridlayer.selectAll("."+We._id):dn.K===U.K?Mn=Tn.gridlayer.selectAll("."+We._id):Mn=Tn[We._id.charAt(0)+"axislayer"],Mn.each(function(){var Un=y.select(this);dn.L&&(Un=Un.selectAll(dn.L)),Un.each(function(qn){var ba=We.l2p(Gn?Yt(qn):qn.x)+We._offset,Va=y.select(this);ba<We["_visibleLabelMax_"+on._id]&&ba>We["_visibleLabelMin_"+on._id]?Va.style("display","none"):dn.K==="tick"&&!rn&&Va.style("display",null)})})})})},Ur(pr,yr+1?yr:vr);function kr(){return cr.length&&Promise.all(cr)}var Rr=null;function hn(){if(Ur(pr,vr),er.length&&rr==="x"&&!P(vr)&&(We.type!=="log"||String(We.dtick).charAt(0)!=="D")){Rr=0;var Kn=0,$n=[],Yn;if(pr.each(function(br){Kn=Math.max(Kn,br.fontSize);var zr=We.l2p(br.x),bn=gr(this),Pn=o.bBox(bn.node());$n.push({top:0,bottom:10,height:10,left:zr-Pn.width/2,right:zr+Pn.width/2+2,width:Pn.width+2})}),(We.tickson==="boundaries"||We.showdividers)&&!kt.secondary){var Jn=2;for(We.ticks&&(Jn+=We.tickwidth/2),Yn=0;Yn<$n.length;Yn++){var Tr=er[Yn].xbnd,on=$n[Yn];if(Tr[0]!==null&&on.left-We.l2p(Tr[0])<Jn||Tr[1]!==null&&We.l2p(Tr[1])-on.right<Jn){Rr=90;break}}}else{var rn=er.length,dn=Math.abs((er[rn-1].x-er[0].x)*We._m)/(rn-1),Gn=We.ticklabelposition||"",Tn=function(br){return Gn.indexOf(br)!==-1},Mn=Tn("top"),Un=Tn("left"),qn=Tn("right"),ba=Tn("bottom"),Va=ba||Un||Mn||qn,Sr=Va?(We.tickwidth||0)+2*ce:0,Nr=dn<Kn*2.5||We.type==="multicategory"||We._name==="realaxis";for(Yn=0;Yn<$n.length-1;Yn++)if(M.bBoxIntersect($n[Yn],$n[Yn+1],Sr)){Rr=Nr?90:30;break}}Rr&&Ur(pr,Rr)}}We._selections&&(We._selections[ur]=pr);var tn=[kr];We.automargin&&It._redrawFromAutoMarginCount&&yr===90?(Rr=90,tn.push(function(){Ur(pr,yr)})):tn.push(hn),We._tickAngles&&tn.push(function(){We._tickAngles[ur]=Rr===null?P(vr)?vr:0:Rr});var Fn=function(){var Kn=0,$n=0;return pr.each(function(Yn,Jn){var Tr=gr(this),on=Tr.select(".text-math-group");if(on.empty()){var rn;We._vals[Jn]&&(rn=We._vals[Jn].bb||o.bBox(Tr.node()),We._vals[Jn].bb=rn),Kn=Math.max(Kn,rn.width),$n=Math.max($n,rn.height)}}),{labelsMaxW:Kn,labelsMaxH:$n}},mn=We._anchorAxis;if(mn&&(mn.autorange||mn.insiderange)&&jt(We)&&!q(It,We._id)&&(It._insideTickLabelsUpdaterange||(It._insideTickLabelsUpdaterange={}),mn.autorange&&(It._insideTickLabelsUpdaterange[mn._name+".autorange"]=mn.autorange,tn.push(Fn)),mn.insiderange)){var Mr=Fn(),Er=We._id.charAt(0)==="y"?Mr.labelsMaxW:Mr.labelsMaxH;Er+=2*ce,We.ticklabelposition==="inside"&&(Er+=We.ticklen||0);var Wr=We.side==="right"||We.side==="top"?1:-1,Hr=Wr===1?1:0,an=Wr===1?0:1,vn=[];vn[an]=mn.range[an];var pn=mn.d2p(mn.range[Hr]),En=mn.d2p(mn.range[an]),_n=Math.abs(En-pn);_n-Er>0?(_n-=Er,Er*=1+Er/_n):Er=0,We._id.charAt(0)!=="y"&&(Er=-Er),vn[Hr]=mn.p2d(mn.d2p(mn.range[Hr])+Wr*Er),mn.autorange==="min"||mn.autorange==="max reversed"?(vn[0]=null,mn._rangeInitial0=void 0,mn._rangeInitial1=void 0):(mn.autorange==="max"||mn.autorange==="min reversed")&&(vn[1]=null,mn._rangeInitial0=void 0,mn._rangeInitial1=void 0),It._insideTickLabelsUpdaterange[mn._name+".range"]=vn}var oa=M.syncOrAsync(tn);return oa&&oa.then&&Ye._promises.push(oa),oa};function zt(Ye,We,kt){var It=We._id+"divider",Zt=kt.vals,rr=kt.layer.selectAll("path."+It).data(Zt,Tt);rr.exit().remove(),rr.enter().insert("path",":first-child").classed(It,1).classed("crisp",1).call(t.stroke,We.dividercolor).style("stroke-width",o.crispRound(Ye,We.dividerwidth,1)+"px"),rr.attr("transform",kt.transFn).attr("d",kt.path)}J.getPxPosition=function(Ye,We){var kt=Ye._fullLayout._size,It=We._id.charAt(0),Zt=We.side,rr;if(We.anchor!=="free"?rr=We._anchorAxis:It==="x"?rr={_offset:kt.t+(1-(We.position||0))*kt.h,_length:0}:It==="y"&&(rr={_offset:kt.l+(We.position||0)*kt.w+We._shift,_length:0}),Zt==="top"||Zt==="left")return rr._offset;if(Zt==="bottom"||Zt==="right")return rr._offset+rr._length};function $t(Ye){var We=Ye.title.font.size,kt=(Ye.title.text.match(p.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?kt?We*($+kt*te):We*$:kt?We*(kt+1)*te:We}function wr(Ye,We){var kt=Ye._fullLayout,It=We._id,Zt=It.charAt(0),rr=We.title.font.size,ur;if(We.title.hasOwnProperty("standoff"))ur=We._depth+We.title.standoff+$t(We);else{var er=jt(We);if(We.type==="multicategory")ur=We._depth;else{var Ot=1.5*rr;er&&(Ot=.5*rr,We.ticks==="outside"&&(Ot+=We.ticklen)),ur=10+Ot+(We.linewidth?We.linewidth-1:0)}er||(Zt==="x"?ur+=We.side==="top"?rr*(We.showticklabels?1:0):rr*(We.showticklabels?1.5:.5):ur+=We.side==="right"?rr*(We.showticklabels?1:.5):rr*(We.showticklabels?.5:0))}var vr=J.getPxPosition(Ye,We),yr,pr,cr;Zt==="x"?(pr=We._offset+We._length/2,cr=We.side==="top"?vr-ur:vr+ur):(cr=We._offset+We._length/2,pr=We.side==="right"?vr+ur:vr-ur,yr={rotate:"-90",offset:0});var Ur;if(We.type!=="multicategory"){var kr=We._selections[We._id+"tick"];if(Ur={selection:kr,side:We.side},kr&&kr.node()&&kr.node().parentNode){var Rr=o.getTranslate(kr.node().parentNode);Ur.offsetLeft=Rr.x,Ur.offsetTop=Rr.y}We.title.hasOwnProperty("standoff")&&(Ur.pad=0)}return We._titleStandoff=ur,r.draw(Ye,It+"title",{propContainer:We,propName:We._name+".title.text",placeholder:kt._dfltTitle[Zt],avoid:Ur,transform:yr,attributes:{x:pr,y:cr,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(Ye,We,kt){var It=M.simpleMap(We.range,We.r2l);return It[0]*It[1]<=0&&We.zeroline&&(We.type==="linear"||We.type==="-")&&!(We.rangebreaks&&We.maskBreaks(0)===k)&&(yt(We,0)||!Xt(Ye,We,kt,It)||Qt(Ye,We))},J.clipEnds=function(Ye,We){return We.filter(function(kt){return yt(Ye,kt.x)})};function yt(Ye,We){var kt=Ye.l2p(We);return kt>1&&kt<Ye._length-1}function Xt(Ye,We,kt,It){var Zt=kt._mainAxis;if(!Zt)return;var rr=Ye._fullLayout,ur=We._id.charAt(0),er=J.counterLetter(We._id),Ot=We._offset+(Math.abs(It[0])<Math.abs(It[1])==(ur==="x")?0:We._length);function vr(kr){if(!kr.showline||!kr.linewidth)return!1;var Rr=Math.max((kr.linewidth+We.zerolinewidth)/2,1);function hn(mn){return typeof mn=="number"&&Math.abs(mn-Ot)<Rr}if(hn(kr._mainLinePosition)||hn(kr._mainMirrorPosition))return!0;var tn=kr._linepositions||{};for(var Fn in tn)if(hn(tn[Fn][0])||hn(tn[Fn][1]))return!0}var yr=rr._plots[kt._mainSubplot];if(!(yr.mainplotinfo||yr).overlays.length)return vr(kt);for(var pr=J.list(Ye,er),cr=0;cr<pr.length;cr++){var Ur=pr[cr];if(Ur._mainAxis===Zt&&vr(Ur))return!0}}function Qt(Ye,We){for(var kt=Ye._fullData,It=We._mainSubplot,Zt=We._id.charAt(0),rr=0;rr<kt.length;rr++){var ur=kt[rr];if(ur.visible===!0&&ur.xaxis+ur.yaxis===It&&(L.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Zt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Zt))return!0}return!1}function gr(Ye){var We=y.select(Ye),kt=We.select(".text-math-group");return kt.empty()?We.select("text"):kt}J.allowAutoMargin=function(Ye){for(var We=J.list(Ye,"",!0),kt=0;kt<We.length;kt++){var It=We[kt];It.automargin&&(a.allowAutoMargin(Ye,sr(It)),It.mirror&&a.allowAutoMargin(Ye,vt(It))),L.getComponentMethod("rangeslider","isVisible")(It)&&a.allowAutoMargin(Ye,it(It))}};function sr(Ye){return Ye._id+".automargin"}function vt(Ye){return sr(Ye)+".mirror"}function it(Ye){return Ye._id+".rangeslider"}J.swap=function(Ye,We){for(var kt=xt(Ye,We),It=0;It<kt.length;It++)Dt(Ye,kt[It].x,kt[It].y)};function xt(Ye,We){var kt=[],It,Zt;for(It=0;It<We.length;It++){var rr=[],ur=Ye._fullData[We[It]].xaxis,er=Ye._fullData[We[It]].yaxis;if(!(!ur||!er)){for(Zt=0;Zt<kt.length;Zt++)(kt[Zt].x.indexOf(ur)!==-1||kt[Zt].y.indexOf(er)!==-1)&&rr.push(Zt);if(!rr.length){kt.push({x:[ur],y:[er]});continue}var Ot=kt[rr[0]],vr;if(rr.length>1)for(Zt=1;Zt<rr.length;Zt++)vr=kt[rr[Zt]],Mt(Ot.x,vr.x),Mt(Ot.y,vr.y);Mt(Ot.x,[ur]),Mt(Ot.y,[er])}}return kt}function Mt(Ye,We){for(var kt=0;kt<We.length;kt++)Ye.indexOf(We[kt])===-1&&Ye.push(We[kt])}function Dt(Ye,We,kt){var It=[],Zt=[],rr=Ye.layout,ur,er;for(ur=0;ur<We.length;ur++)It.push(J.getFromId(Ye,We[ur]));for(ur=0;ur<kt.length;ur++)Zt.push(J.getFromId(Ye,kt[ur]));var Ot=Object.keys(n),vr=["anchor","domain","overlaying","position","side","tickangle","editType"],yr=["linear","log"];for(ur=0;ur<Ot.length;ur++){var pr=Ot[ur],cr=It[0][pr],Ur=Zt[0][pr],kr=!0,Rr=!1,hn=!1;if(!(pr.charAt(0)==="_"||typeof cr=="function"||vr.indexOf(pr)!==-1)){for(er=1;er<It.length&&kr;er++){var tn=It[er][pr];pr==="type"&&yr.indexOf(cr)!==-1&&yr.indexOf(tn)!==-1&&cr!==tn?Rr=!0:tn!==cr&&(kr=!1)}for(er=1;er<Zt.length&&kr;er++){var Fn=Zt[er][pr];pr==="type"&&yr.indexOf(Ur)!==-1&&yr.indexOf(Fn)!==-1&&Ur!==Fn?hn=!0:Zt[er][pr]!==Ur&&(kr=!1)}kr&&(Rr&&(rr[It[0]._name].type="linear"),hn&&(rr[Zt[0]._name].type="linear"),Lt(rr,pr,It,Zt,Ye._fullLayout._dfltTitle))}}for(ur=0;ur<Ye._fullLayout.annotations.length;ur++){var mn=Ye._fullLayout.annotations[ur];We.indexOf(mn.xref)!==-1&&kt.indexOf(mn.yref)!==-1&&M.swapAttrs(rr.annotations[ur],["?"])}}function Lt(Ye,We,kt,It,Zt){var rr=M.nestedProperty,ur=rr(Ye[kt[0]._name],We).get(),er=rr(Ye[It[0]._name],We).get(),Ot;for(We==="title"&&(ur&&ur.text===Zt.x&&(ur.text=Zt.y),er&&er.text===Zt.y&&(er.text=Zt.x)),Ot=0;Ot<kt.length;Ot++)rr(Ye,kt[Ot]._name+"."+We).set(er);for(Ot=0;Ot<It.length;Ot++)rr(Ye,It[Ot]._name+"."+We).set(ur)}function Bt(Ye){return Ye._id==="angularaxis"}function Nt(Ye,We){for(var kt=We._rangebreaks.length,It=0;It<kt;It++){var Zt=We._rangebreaks[It];if(Ye>=Zt.min&&Ye<Zt.max)return Zt.max}return Ye}function jt(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function lr(Ye,We){jt(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(We)}function fr(Ye,We,kt,It){var Zt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,rr;It?rr=Ye.side==="right"?We:-We:rr=We,Zt in kt||(kt[Zt]={}),Ye.side in kt[Zt]||(kt[Zt][Ye.side]=0),kt[Zt][Ye.side]+=rr}function hr(Ye,We){return Ye.autoshift?We[Ye.overlaying][Ye.side]:Ye.shift||0}},4322:function(G,H,e){var y=e(92770),P=e(71828),a=e(50606).BADNUM,L=P.isArrayOrTypedArray,M=P.isDateTime,v=P.cleanNumber,p=Math.round;G.exports=function(g,f,T){var h=g,s=T.noMultiCategory;if(L(h)&&!h.length)return"-";if(!s&&u(h))return"multicategory";if(s&&Array.isArray(h[0])){for(var d=[],A=0;A<h.length;A++)if(L(h[A]))for(var w=0;w<h[A].length;w++)d.push(h[A][w]);h=d}if(o(h,f))return"date";var C=T.autotypenumbers!=="strict";return c(h,C)?"category":t(h,C)?"linear":"-"};function r(l,g){return g?y(l):typeof l=="number"}function t(l,g){for(var f=l.length,T=0;T<f;T++)if(r(l[T],g))return!0;return!1}function o(l,g){for(var f=l.length,T=n(f),h=0,s=0,d={},A=0;A<f;A+=T){var w=p(A),C=l[w],b=String(C);d[b]||(d[b]=1,M(C,g)&&h++,y(C)&&s++)}return h>s*2}function n(l){return Math.max(1,(l-1)/1e3)}function c(l,g){for(var f=l.length,T=n(f),h=0,s=0,d={},A=0;A<f;A+=T){var w=p(A),C=l[w],b=String(C);if(!d[b]){d[b]=1;var S=typeof C;S==="boolean"?s++:(g?v(C)!==a:S==="number")?h++:S==="string"&&s++}}return s>h*2}function u(l){return L(l[0])&&L(l[1])}},71453:function(G,H,e){var y=e(92770),P=e(73972),a=e(71828),L=e(44467),M=e(85501),v=e(13838),p=e(26218),r=e(38701),t=e(96115),o=e(89426),n=e(15258),c=e(92128),u=e(23608),l=e(21994),g=e(85555).WEEKDAY_PATTERN,f=e(85555).HOUR_PATTERN;G.exports=function(A,w,C,b,S){var x=b.letter,i=b.font||{},E=b.splomStash||{},m=C("visible",!b.visibleDflt),k=w._template||{},I=w.type||k.type||"-",U;if(I==="date"){var z=P.getComponentMethod("calendars","handleDefaults");z(A,w,"calendar",b.calendar),b.noTicklabelmode||(U=C("ticklabelmode"))}var F="";(!b.noTicklabelposition||I==="multicategory")&&(F=a.coerce(A,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:U==="period"?["outside","inside"]:x==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),b.noTicklabeloverflow||C("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),l(w,S),u(A,w,C,b),n(A,w,C,b),I!=="category"&&!b.noHover&&C("hoverformat");var B=C("color"),O=B!==v.color.dflt?B:i.color,N=E.label||S._dfltTitle[x];if(o(A,w,C,I,b),!m)return w;C("title.text",N),a.coerceFont(C,"title.font",{family:i.family,size:a.bigFont(i.size),color:O}),p(A,w,C,I);var Y=b.hasMinor;if(Y&&(L.newContainer(w,"minor"),p(A,w,C,I,{isMinor:!0})),t(A,w,C,I,b),r(A,w,C,b),Y){var $=b.isMinor;b.isMinor=!0,r(A,w,C,b),b.isMinor=$}c(A,w,C,{dfltColor:B,bgColor:b.bgColor,showGrid:b.showGrid,hasMinor:Y,attributes:v}),Y&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&C("mirror");var te=I==="multicategory";if(!b.noTickson&&(I==="category"||te)&&(w.ticks||w.showgrid)){var ie;te&&(ie="boundaries");var ce=C("tickson",ie);ce==="boundaries"&&delete w.ticklabelposition}if(te){var J=C("showdividers");J&&(C("dividercolor"),C("dividerwidth"))}if(I==="date")if(M(A,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var Z=0;Z<w.rangebreaks.length;Z++)if(w.rangebreaks[Z].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(l(w,S),S._has("scattergl")||S._has("splom"))for(var ae=0;ae<b.data.length;ae++){var j=b.data[ae];(j.type==="scattergl"||j.type==="splom")&&(j.visible=!1,a.warn(j.type+" traces do not work on axes with rangebreaks. Setting trace "+j.index+" to `visible: false`."))}}return w};function T(d,A,w){function C(U,z){return a.coerce(d,A,v.rangebreaks,U,z)}var b=C("enabled");if(b){var S=C("bounds");if(S&&S.length>=2){var x="",i,E;if(S.length===2){for(i=0;i<2;i++)if(E=s(S[i]),E){x=g;break}}var m=C("pattern",x);if(m===g)for(i=0;i<2;i++)E=s(S[i]),E&&(A.bounds[i]=S[i]=E-1);if(m)for(i=0;i<2;i++)switch(E=S[i],m){case g:if(!y(E)){A.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){A.enabled=!1;return}A.bounds[i]=S[i]=E;break;case f:if(!y(E)){A.enabled=!1;return}if(E=+E,E<0||E>24){A.enabled=!1;return}A.bounds[i]=S[i]=E;break}if(w.autorange===!1){var k=w.range;if(k[0]<k[1]){if(S[0]<k[0]&&S[1]>k[1]){A.enabled=!1;return}}else if(S[0]>k[0]&&S[1]<k[1]){A.enabled=!1;return}}}else{var I=C("values");if(I&&I.length)C("dvalue");else{A.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function s(d){if(typeof d=="string")return h[d.substr(0,3).toLowerCase()]}},12663:function(G,H,e){var y=e(31562),P=y.FORMAT_LINK,a=y.DATE_FORMAT_LINK;function L(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?M:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function M(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return M(p,r)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:L,descriptionOnlyNumbers:M,descriptionWithDates:v}},41675:function(G,H,e){var y=e(73972),P=e(85555);H.id2name=function(M){if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))){var v=M.split(" ")[0].substr(1);return v==="1"&&(v=""),M.charAt(0)+"axis"+v}},H.name2id=function(M){if(M.match(P.AX_NAME_PATTERN)){var v=M.substr(5);return v==="1"&&(v=""),M.charAt(0)+v}},H.cleanId=function(M,v,p){var r=/( domain)$/.test(M);if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))&&!(v&&M.charAt(0)!==v)&&!(r&&!p)){var t=M.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),M.charAt(0)+t+(r&&p?" domain":"")}},H.list=function(L,M,v){var p=L._fullLayout;if(!p)return[];var r=H.listIds(L,M),t=new Array(r.length),o;for(o=0;o<r.length;o++){var n=r[o];t[o]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var c=p._subplots.gl3d||[];for(o=0;o<c.length;o++){var u=p[c[o]];M?t.push(u[M+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},H.listIds=function(L,M){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return M?p[M+"axis"]:p.xaxis.concat(p.yaxis)},H.getFromId=function(L,M,v){var p=L._fullLayout;return M=M===void 0||typeof M!="string"?M:M.replace(" domain",""),v==="x"?M=M.replace(/y[0-9]*/,""):v==="y"&&(M=M.replace(/x[0-9]*/,"")),p[H.id2name(M)]},H.getFromTrace=function(L,M,v){var p=L._fullLayout,r=null;if(y.traceIs(M,"gl3d")){var t=M.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=H.getFromId(L,M[v+"axis"]||v);return r},H.idSort=function(L,M){var v=L.charAt(0),p=M.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(M.substr(1)||1)},H.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function a(L,M){if(M&&M.length){for(var v=0;v<M.length;v++)if(M[v][L])return!0}return!1}H.isLinked=function(L,M){return a(M,L._axisMatchGroups)||a(M,L._axisConstraintGroups)}},15258:function(G,H,e){var y=e(73627).isTypedArraySpec;function P(a,L){var M=L.dataAttr||a._id.charAt(0),v={},p,r,t;if(L.axData)p=L.axData;else for(p=[],r=0;r<L.data.length;r++){var o=L.data[r];o[M+"axis"]===a._id&&p.push(o)}for(r=0;r<p.length;r++){var n=p[r][M];for(t=0;t<n.length;t++){var c=n[t];c!=null&&(v[c]=1)}}return Object.keys(v)}G.exports=function(L,M,v,p){if(M.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||y(r),o;t&&(o="array");var n=v("categoryorder",o),c;n==="array"&&(c=v("categoryarray")),!t&&n==="array"&&(n=M.categoryorder="trace"),n==="trace"?M._initialCategories=[]:n==="array"?M._initialCategories=c.slice():(c=P(M,p).sort(),n==="category ascending"?M._initialCategories=c:n==="category descending"&&(M._initialCategories=c.reverse()))}}},66287:function(G,H,e){var y=e(92770),P=e(71828),a=e(50606),L=a.ONEDAY,M=a.ONEWEEK;H.dtick=function(v,p){var r=p==="log",t=p==="date",o=p==="category",n=t?L:1;if(!v)return n;if(y(v))return v=Number(v),v<=0?n:o?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var c=v.charAt(0),u=v.substr(1);return u=y(u)?Number(u):0,u<=0||!(t&&c==="M"&&u===Math.round(u)||r&&c==="L"||r&&c==="D"&&(u===1||u===2))?n:v},H.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%M===0?1:0));if(!(t==="D1"||t==="D2"))return y(v)?Number(v):0}},85555:function(G,H,e){var y=e(30587).counter;G.exports={idRegex:{x:y("x","( domain)?"),y:y("y","( domain)?")},attrRegex:y("[xy]axis"),xAxisMatch:y("xaxis"),yAxisMatch:y("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(G,H,e){var y=e(71828),P=e(71739),a=e(41675).id2name,L=e(13838),M=e(42449),v=e(21994),p=e(50606).ALMOST_EQUAL,r=e(18783).FROM_BL;H.handleDefaults=function(f,T,h){var s=h.axIds,d=h.axHasImage,A=T._axisConstraintGroups=[],w=T._axisMatchGroups=[],C,b,S,x,i,E,m,k;for(C=0;C<s.length;C++)x=a(s[C]),i=f[x],E=T[x],t(i,E,{axIds:s,layoutOut:T,hasImage:d[x]});function I(te,ie){for(C=0;C<te.length;C++){b=te[C];for(S in b)T[a(S)][ie]=b}}for(I(w,"_matchGroup"),C=0;C<A.length;C++){b=A[C];for(S in b)if(E=T[a(S)],E.fixedrange){for(var U in b){var z=a(U);(f[z]||{}).fixedrange===!1&&y.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),T[z].fixedrange=!0}break}}for(C=0;C<A.length;){b=A[C];for(S in b){E=T[a(S)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(b).length&&(A.splice(C,1),C--);break}C++}I(A,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,O=!1;function N(){k=E[m],m==="rangebreaks"&&(O=E._hasDayOfWeekBreaks)}for(C=0;C<w.length;C++){b=w[C];for(var Y=0;Y<F.length;Y++){m=F[Y],k=null;var $;for(S in b)if(x=a(S),i=f[x],E=T[x],m in E){if(!E.matches&&($=E,m in i)){N();break}k===null&&m in i&&N()}if(m==="range"&&k&&i.range&&i.range.length===2&&i.range[0]!==null&&i.range[1]!==null&&(B=!0),m==="autorange"&&k===null&&B&&(k=!1),k===null&&m in $&&(k=$[m]),k!==null)for(S in b)E=T[a(S)],E[m]=m==="range"?k.slice():k,m==="rangebreaks"&&(E._hasDayOfWeekBreaks=O,v(E,T))}}};function t(f,T,h){var s=h.axIds,d=h.layoutOut,A=h.hasImage,w=d._axisConstraintGroups,C=d._axisMatchGroups,b=T._id,S=b.charAt(0),x=((d._splomAxes||{})[S]||{})[b]||{},i=T._id,E=i.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function m(Z,ae){return y.coerce(f,T,L,Z,ae)}m("constrain",A?"domain":"range"),y.coerce(f,T,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var k=T.type,I,U,z=[];for(I=0;I<s.length;I++)if(U=s[I],U!==i){var F=d[a(U)];F.type===k&&z.push(U)}var B=n(w,i);if(B){var O=[];for(I=0;I<z.length;I++)U=z[I],B[U]||O.push(U);z=O}var N=z.length,Y,$;N&&(f.matches||x.matches)&&(Y=y.coerce(f,T,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(x.matches)!==-1?x.matches:void 0}},"matches"));var te=A&&!E?T.anchor:void 0;if(N&&!Y&&(f.scaleanchor||te)&&($=y.coerce(f,T,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",te)),Y){T._matchGroup=c(C,i,Y,1);var ie=d[a(Y)],ce=o(d,T)/o(d,ie);E!==(Y.charAt(0)==="x")&&(ce=(E?"x":"y")+ce),c(w,i,Y,ce)}else f.matches&&s.indexOf(f.matches)!==-1&&y.warn("ignored "+T._name+'.matches: "'+f.matches+'" to avoid an infinite loop');if($){var J=m("scaleratio");J||(J=T.scaleratio=1),c(w,i,$,J)}else f.scaleanchor&&s.indexOf(f.scaleanchor)!==-1&&y.warn("ignored "+T._name+'.scaleanchor: "'+f.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function o(f,T){var h=T.domain;return h||(h=f[a(T.overlaying)].domain),h[1]-h[0]}function n(f,T){for(var h=0;h<f.length;h++)if(f[h][T])return f[h];return null}function c(f,T,h,s){var d,A,w,C,b,S=n(f,T);S===null?(S={},S[T]=1,b=f.length,f.push(S)):b=f.indexOf(S);var x=Object.keys(S);for(d=0;d<f.length;d++)if(w=f[d],d!==b&&w[h]){var i=w[h];for(A=0;A<x.length;A++)C=x[A],w[C]=u(i,u(s,S[C]));f.splice(b,1);return}if(s!==1)for(A=0;A<x.length;A++){var E=x[A];S[E]=u(s,S[E])}S[h]=1}function u(f,T){var h="",s="",d,A;typeof f=="string"&&(h=f.match(/^[xy]*/)[0],d=h.length,f=+f.substr(d)),typeof T=="string"&&(s=T.match(/^[xy]*/)[0],A=s.length,T=+T.substr(A));var w=f*T;return!d&&!A?w:!d||!A||h.charAt(0)===s.charAt(0)?h+s+f*T:d===A?w:(d>A?h.substr(A):s.substr(d))+w}function l(f,T){for(var h=T._size,s=h.h/h.w,d={},A=Object.keys(f),w=0;w<A.length;w++){var C=A[w],b=f[C];if(typeof b=="string"){var S=b.match(/^[xy]*/)[0],x=S.length;b=+b.substr(x);for(var i=S.charAt(0)==="y"?s:1/s,E=0;E<x;E++)b*=i}d[C]=b}return d}H.enforce=function(T){var h=T._fullLayout,s=h._axisConstraintGroups||[],d,A,w,C,b,S,x,i;for(d=0;d<s.length;d++){w=l(s[d],h);var E=Object.keys(w),m=1/0,k=0,I=1/0,U={},z={},F=!1;for(A=0;A<E.length;A++)C=E[A],z[C]=b=h[a(C)],b._inputDomain?b.domain=b._inputDomain.slice():b._inputDomain=b.domain.slice(),b._inputRange||(b._inputRange=b.range.slice()),b.setScale(),U[C]=S=Math.abs(b._m)/w[C],m=Math.min(m,S),(b.constrain==="domain"||!b._constraintShrinkable)&&(I=Math.min(I,S)),delete b._constraintShrinkable,k=Math.max(k,S),b.constrain==="domain"&&(F=!0);if(!(m>p*k&&!F)){for(A=0;A<E.length;A++)if(C=E[A],S=U[C],b=z[C],x=b.constrain,S!==I||x==="domain")if(i=S/I,x==="range")M(b,i);else{var B=b._inputDomain,O=(b.domain[1]-b.domain[0])/(B[1]-B[0]),N=(b.r2l(b.range[1])-b.r2l(b.range[0]))/(b.r2l(b._inputRange[1])-b.r2l(b._inputRange[0]));if(i/=O,i*N<1){b.domain=b._input.domain=B.slice(),M(b,i);continue}if(N<1&&(b.range=b._input.range=b._inputRange.slice(),i*=N),b.autorange){var Y=b.r2l(b.range[0]),$=b.r2l(b.range[1]),te=(Y+$)/2,ie=te,ce=te,J=Math.abs($-te),Z=te-J*i*1.0001,ae=te+J*i*1.0001,j=P.makePadFn(h,b,0),q=P.makePadFn(h,b,1);g(b,i);var oe=Math.abs(b._m),Q=P.concatExtremes(T,b),K=Q.min,se=Q.max,ne,fe;for(fe=0;fe<K.length;fe++)ne=K[fe].val-j(K[fe])/oe,ne>Z&&ne<ie&&(ie=ne);for(fe=0;fe<se.length;fe++)ne=se[fe].val+q(se[fe])/oe,ne<ae&&ne>ce&&(ce=ne);var ye=(ce-ie)/(2*J);i/=ye,ie=b.l2r(ie),ce=b.l2r(ce),b.range=b._input.range=Y<$?[ie,ce]:[ce,ie]}g(b,i)}}}},H.getAxisGroup=function(T,h){for(var s=T._axisMatchGroups,d=0;d<s.length;d++){var A=s[d];if(A[h])return"g"+d}return h},H.clean=function(T,h){if(h._inputDomain){for(var s=!1,d=h._id,A=T._fullLayout._axisConstraintGroups,w=0;w<A.length;w++)if(A[w][d]){s=!0;break}(!s||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function g(f,T){var h=f._inputDomain,s=r[f.constraintoward],d=h[0]+(h[1]-h[0])*s;f.domain=f._input.domain=[d+(h[0]-d)/T,d+(h[1]-d)/T],f.setScale()}},29323:function(G,H,e){var y=e(39898),P=e(71828),a=P.numberFormat,L=e(84267),M=e(38520),v=e(73972),p=P.strTranslate,r=e(63893),t=e(7901),o=e(91424),n=e(30211),c=e(89298),u=e(6964),l=e(28569),g=e(64505),f=g.selectingOrDrawing,T=g.freeMode,h=e(18783).FROM_TL,s=e(33306),d=e(61549).redrawReglTraces,A=e(74875),w=e(41675).getFromId,C=e(47322).prepSelect,b=e(47322).clearOutline,S=e(47322).selectOnClick,x=e(42449),i=e(85555),E=i.MINDRAG,m=i.MINZOOM,k=!0;function I(ne,fe,ye,Ee,Te,ze,ke,Se){var me=ne._fullLayout._zoomlayer,Ce=ke+Se==="nsew",Ne=(ke+Se).length===1,He,De,Ve,at,lt,$e,et,ct,dt,gt,At,Rt,Vt,Je,Ge,Ie,Fe,Pe,xe,ge,Me,Ae,Ue;ye+=fe.yaxis._shift;function Ze(){if(He=fe.xaxis,De=fe.yaxis,dt=He._length,gt=De._length,et=He._offset,ct=De._offset,Ve={},Ve[He._id]=He,at={},at[De._id]=De,ke&&Se)for(var er=fe.overlays,Ot=0;Ot<er.length;Ot++){var vr=er[Ot].xaxis;Ve[vr._id]=vr;var yr=er[Ot].yaxis;at[yr._id]=yr}lt=se(Ve),$e=se(at),Vt=F(lt,Se),Je=F($e,ke),Ge=!Je&&!Vt,Rt=Q(ne,ne._fullLayout._axisMatchGroups,Ve,at),At=Q(ne,ne._fullLayout._axisConstraintGroups,Ve,at,Rt);var pr=At.isSubplotConstrained||Rt.isSubplotConstrained;Ie=Se||pr,Fe=ke||pr;var cr=ne._fullLayout;Pe=cr._has("scattergl"),xe=cr._has("splom"),ge=cr._has("svg")}Ze();var tt=$(Je+Vt,ne._fullLayout.dragmode,Ce),ft=z(fe,ke+Se+"drag",tt,ye,Ee,Te,ze);if(Ge&&!Ce)return ft.onmousedown=null,ft.style.pointerEvents="none",ft;var pt={element:ft,gd:ne,plotinfo:fe};pt.prepFn=function(er,Ot,vr){var yr=pt.dragmode,pr=ne._fullLayout.dragmode;pr!==yr&&(pt.dragmode=pr),Ze(),Ae=ne._fullLayout._invScaleX,Ue=ne._fullLayout._invScaleY,Ge||(Ce?er.shiftKey?pr==="pan"?pr="zoom":f(pr)||(pr="pan"):er.ctrlKey&&(pr="pan"):pr="pan"),T(pr)?pt.minDrag=1:pt.minDrag=void 0,f(pr)?(pt.xaxes=lt,pt.yaxes=$e,C(er,Ot,vr,pt,pr)):(pt.clickFn=Jt,f(yr)&&Yt(),Ge||(pr==="zoom"?(pt.moveFn=xt,pt.doneFn=Dt,pt.minDrag=1,it(er,Ot,vr)):pr==="pan"&&(pt.moveFn=fr,pt.doneFn=kt))),ne._fullLayout._redrag=function(){var cr=ne._dragdata;if(cr&&cr.element===ft){var Ur=ne._fullLayout.dragmode;f(Ur)||(Ze(),It([0,0,dt,gt]),pt.moveFn(cr.dx,cr.dy))}}};function Yt(){pt.plotinfo.selection=!1,b(ne)}function Jt(er,Ot){var vr=pt.gd;if(vr._fullLayout._activeShapeIndex>=0){vr._fullLayout._deactivateShape(vr);return}var yr=vr._fullLayout.clickmode;if(Z(vr),er===2&&!Ne&&We(),Ce)yr.indexOf("select")>-1&&S(Ot,vr,lt,$e,fe.id,pt),yr.indexOf("event")>-1&&n.click(vr,Ot,fe.id);else if(er===1&&Ne){var pr=ke?De:He,cr=ke==="s"||Se==="w"?0:1,Ur=pr._name+".range["+cr+"]",kr=B(pr,cr),Rr="left",hn="middle";if(pr.fixedrange)return;ke?(hn=ke==="n"?"top":"bottom",pr.side==="right"&&(Rr="right")):Se==="e"&&(Rr="right"),vr._context.showAxisRangeEntryBoxes&&y.select(ft).call(r.makeEditable,{gd:vr,immediate:!0,background:vr._fullLayout.paper_bgcolor,text:String(kr),fill:pr.tickfont?pr.tickfont.color:"#444",horizontalAlign:Rr,verticalAlign:hn}).on("edit",function(tn){var Fn=pr.d2r(tn);Fn!==void 0&&v.call("_guiRelayout",vr,Ur,Fn)})}}l.init(pt);var Tt,zt,$t,wr,yt,Xt,Qt,gr,sr,vt;function it(er,Ot,vr){var yr=ft.getBoundingClientRect();Tt=Ot-yr.left,zt=vr-yr.top,ne._fullLayout._calcInverseTransform(ne);var pr=P.apply3DTransform(ne._fullLayout._invTransform)(Tt,zt);Tt=pr[0],zt=pr[1],$t={l:Tt,r:Tt,w:0,t:zt,b:zt,h:0},wr=ne._hmpixcount?ne._hmlumcount/ne._hmpixcount:L(ne._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+dt+"V"+gt+"H0V0",Xt=!1,Qt="xy",vt=!1,gr=te(me,wr,et,ct,yt),sr=ie(me,et,ct)}function xt(er,Ot){if(ne._transitioningWithDuration)return!1;var vr=Math.max(0,Math.min(dt,Ae*er+Tt)),yr=Math.max(0,Math.min(gt,Ue*Ot+zt)),pr=Math.abs(vr-Tt),cr=Math.abs(yr-zt);$t.l=Math.min(Tt,vr),$t.r=Math.max(Tt,vr),$t.t=Math.min(zt,yr),$t.b=Math.max(zt,yr);function Ur(){Qt="",$t.r=$t.l,$t.t=$t.b,sr.attr("d","M0,0Z")}if(At.isSubplotConstrained)pr>m||cr>m?(Qt="xy",pr/dt>cr/gt?(cr=pr*gt/dt,zt>yr?$t.t=zt-cr:$t.b=zt+cr):(pr=cr*dt/gt,Tt>vr?$t.l=Tt-pr:$t.r=Tt+pr),sr.attr("d",oe($t))):Ur();else if(Rt.isSubplotConstrained)if(pr>m||cr>m){Qt="xy";var kr=Math.min($t.l/dt,(gt-$t.b)/gt),Rr=Math.max($t.r/dt,(gt-$t.t)/gt);$t.l=kr*dt,$t.r=Rr*dt,$t.b=(1-kr)*gt,$t.t=(1-Rr)*gt,sr.attr("d",oe($t))}else Ur();else!Je||cr<Math.min(Math.max(pr*.6,E),m)?pr<E||!Vt?Ur():($t.t=0,$t.b=gt,Qt="x",sr.attr("d",j($t,zt))):!Vt||pr<Math.min(cr*.6,m)?($t.l=0,$t.r=dt,Qt="y",sr.attr("d",q($t,Tt))):(Qt="xy",sr.attr("d",oe($t)));$t.w=$t.r-$t.l,$t.h=$t.b-$t.t,Qt&&(vt=!0),ne._dragged=vt,ce(gr,sr,$t,yt,Xt,wr),Mt(),ne.emit("plotly_relayouting",Me),Xt=!0}function Mt(){Me={},(Qt==="xy"||Qt==="x")&&(O(lt,$t.l/dt,$t.r/dt,Me,At.xaxes),hr("x",Me)),(Qt==="xy"||Qt==="y")&&(O($e,(gt-$t.b)/gt,(gt-$t.t)/gt,Me,At.yaxes),hr("y",Me))}function Dt(){Mt(),Z(ne),kt(),ae(ne)}var Lt=[0,0,dt,gt],Bt=null,Nt=i.REDRAWDELAY,jt=fe.mainplot?ne._fullLayout._plots[fe.mainplot]:fe;function lr(er){if(!ne._context._scrollZoom.cartesian&&!ne._fullLayout._enablescrollzoom)return;if(Yt(),ne._transitioningWithDuration){er.preventDefault(),er.stopPropagation();return}Ze(),clearTimeout(Bt);var Ot=-er.deltaY;if(isFinite(Ot)||(Ot=er.wheelDelta/10),!isFinite(Ot)){P.log("Did not find wheel motion attributes: ",er);return}var vr=Math.exp(-Math.min(Math.max(Ot,-20),20)/200),yr=jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),pr=(er.clientX-yr.left)/yr.width,cr=(yr.bottom-er.clientY)/yr.height,Ur;function kr(Rr,hn,tn){if(Rr.fixedrange)return;var Fn=P.simpleMap(Rr.range,Rr.r2l),mn=Fn[0]+(Fn[1]-Fn[0])*hn;function Mr(Er){return Rr.l2r(mn+(Er-mn)*tn)}Rr.range=Fn.map(Mr)}if(Ie){for(Se||(pr=.5),Ur=0;Ur<lt.length;Ur++)kr(lt[Ur],pr,vr);hr("x"),Lt[2]*=vr,Lt[0]+=Lt[2]*pr*(1/vr-1)}if(Fe){for(ke||(cr=.5),Ur=0;Ur<$e.length;Ur++)kr($e[Ur],cr,vr);hr("y"),Lt[3]*=vr,Lt[1]+=Lt[3]*(1-cr)*(1/vr-1)}It(Lt),Ye(),ne.emit("plotly_relayouting",Me),Bt=setTimeout(function(){ne._fullLayout&&(Lt=[0,0,dt,gt],kt())},Nt),er.preventDefault()}ke.length*Se.length!==1&&K(ft,lr);function fr(er,Ot){if(er=er*Ae,Ot=Ot*Ue,ne._transitioningWithDuration)return;if(ne._fullLayout._replotting=!0,Vt==="ew"||Je==="ns"){var vr=Vt?-er:0,yr=Je?-Ot:0;if(Rt.isSubplotConstrained){if(Vt&&Je){var pr=(er/dt-Ot/gt)/2;er=pr*dt,Ot=-pr*gt,vr=-er,yr=-Ot}Je?vr=-yr*dt/gt:yr=-vr*gt/dt}Vt&&(N(lt,er),hr("x")),Je&&(N($e,Ot),hr("y")),It([vr,yr,dt,gt]),Ye(),ne.emit("plotly_relayouting",Me);return}function cr(Mr,Er,Wr){for(var Hr=1-Er,an,vn,pn=0;pn<Mr.length;pn++){var En=Mr[pn];if(!En.fixedrange){an=En,vn=En._rl[Hr]+(En._rl[Er]-En._rl[Hr])/Y(Wr/En._length);var _n=En.l2r(vn);_n!==!1&&_n!==void 0&&(En.range[Er]=_n)}}return an._length*(an._rl[Er]-vn)/(an._rl[Er]-an._rl[Hr])}var Ur=Vt==="w"==(Je==="n")?1:-1;if(Vt&&Je&&(At.isSubplotConstrained||Rt.isSubplotConstrained)){var kr=(er/dt+Ur*Ot/gt)/2;er=kr*dt,Ot=Ur*kr*gt}var Rr,hn;if(Vt==="w"?er=cr(lt,0,er):Vt==="e"?er=cr(lt,1,-er):Vt||(er=0),Je==="n"?Ot=cr($e,1,Ot):Je==="s"?Ot=cr($e,0,-Ot):Je||(Ot=0),Rr=Vt==="w"?er:0,hn=Je==="n"?Ot:0,At.isSubplotConstrained&&!Rt.isSubplotConstrained||Rt.isSubplotConstrained&&Vt&&Je&&Ur>0){var tn;if(Rt.isSubplotConstrained||!Vt&&Je.length===1){for(tn=0;tn<lt.length;tn++)lt[tn].range=lt[tn]._r.slice(),x(lt[tn],1-Ot/gt);er=Ot*dt/gt,Rr=er/2}if(Rt.isSubplotConstrained||!Je&&Vt.length===1){for(tn=0;tn<$e.length;tn++)$e[tn].range=$e[tn]._r.slice(),x($e[tn],1-er/dt);Ot=er*gt/dt,hn=Ot/2}}(!Rt.isSubplotConstrained||!Je)&&hr("x"),(!Rt.isSubplotConstrained||!Vt)&&hr("y");var Fn=dt-er,mn=gt-Ot;Rt.isSubplotConstrained&&!(Vt&&Je)&&(Vt?(hn=Rr?0:er*gt/dt,mn=Fn*gt/dt):(Rr=hn?0:Ot*dt/gt,Fn=mn*dt/gt)),It([Rr,hn,Fn,mn]),Ye(),ne.emit("plotly_relayouting",Me)}function hr(er,Ot){for(var vr=Rt.isSubplotConstrained?{x:$e,y:lt}[er]:Rt[er+"axes"],yr=Rt.isSubplotConstrained?{x:lt,y:$e}[er]:[],pr=0;pr<vr.length;pr++){var cr=vr[pr],Ur=cr._id,kr=Rt.xLinks[Ur]||Rt.yLinks[Ur],Rr=yr[0]||Ve[kr]||at[kr];Rr&&(Ot?(Ot[cr._name+".range[0]"]=Ot[Rr._name+".range[0]"],Ot[cr._name+".range[1]"]=Ot[Rr._name+".range[1]"]):cr.range=Rr.range.slice())}}function Ye(){var er=[],Ot;function vr(Ur){for(Ot=0;Ot<Ur.length;Ot++)Ur[Ot].fixedrange||er.push(Ur[Ot]._id)}function yr(Ur,kr){for(Ot=0;Ot<Ur.length;Ot++){var Rr=Ur[Ot],hn=Rr[kr];!Rr.fixedrange&&hn.tickmode==="sync"&&er.push(hn._id)}}for(Ie&&(vr(lt),vr(At.xaxes),vr(Rt.xaxes),yr(fe.overlays,"xaxis")),Fe&&(vr($e),vr(At.yaxes),vr(Rt.yaxes),yr(fe.overlays,"yaxis")),Me={},Ot=0;Ot<er.length;Ot++){var pr=er[Ot],cr=w(ne,pr);c.drawOne(ne,cr,{skipTitle:!0}),Me[cr._name+".range[0]"]=cr.range[0],Me[cr._name+".range[1]"]=cr.range[1]}c.redrawComponents(ne,er)}function We(){if(!ne._transitioningWithDuration){var er=ne._context.doubleClick,Ot=[];Vt&&(Ot=Ot.concat(lt)),Je&&(Ot=Ot.concat($e)),Rt.xaxes&&(Ot=Ot.concat(Rt.xaxes)),Rt.yaxes&&(Ot=Ot.concat(Rt.yaxes));var vr={},yr,pr;if(er==="reset+autosize")for(er="autosize",pr=0;pr<Ot.length;pr++){yr=Ot[pr];var cr=yr._rangeInitial0,Ur=yr._rangeInitial1,kr=cr!==void 0||Ur!==void 0;if(kr&&(cr!==void 0&&cr!==yr.range[0]||Ur!==void 0&&Ur!==yr.range[1])||!kr&&yr.autorange!==!0){er="reset";break}}if(er==="autosize")for(pr=0;pr<Ot.length;pr++)yr=Ot[pr],yr.fixedrange||(vr[yr._name+".autorange"]=!0);else if(er==="reset"){for((Vt||At.isSubplotConstrained)&&(Ot=Ot.concat(At.xaxes)),Je&&!At.isSubplotConstrained&&(Ot=Ot.concat(At.yaxes)),At.isSubplotConstrained&&(Vt?Je||(Ot=Ot.concat($e)):Ot=Ot.concat(lt)),pr=0;pr<Ot.length;pr++)if(yr=Ot[pr],!yr.fixedrange){var Rr=yr._name,hn=yr._autorangeInitial;yr._rangeInitial0===void 0&&yr._rangeInitial1===void 0?vr[Rr+".autorange"]=!0:yr._rangeInitial0===void 0?(vr[Rr+".autorange"]=hn,vr[Rr+".range"]=[null,yr._rangeInitial1]):yr._rangeInitial1===void 0?(vr[Rr+".range"]=[yr._rangeInitial0,null],vr[Rr+".autorange"]=hn):vr[Rr+".range"]=[yr._rangeInitial0,yr._rangeInitial1]}}ne.emit("plotly_doubleclick",null),v.call("_guiRelayout",ne,vr)}}function kt(){It([0,0,dt,gt]),P.syncOrAsync([A.previousPromises,function(){ne._fullLayout._replotting=!1,v.call("_guiRelayout",ne,Me)}],ne)}function It(er){var Ot=ne._fullLayout,vr=Ot._plots,yr=Ot._subplots.cartesian,pr,cr,Ur,kr;if(xe&&v.subplotsRegistry.splom.drag(ne),Pe){for(pr=0;pr<yr.length;pr++)if(cr=vr[yr[pr]],Ur=cr.xaxis,kr=cr.yaxis,cr._scene){var Rr=P.simpleMap(Ur.range,Ur.r2l),hn=P.simpleMap(kr.range,kr.r2l);Ur.limitRange&&Ur.limitRange(),kr.limitRange&&kr.limitRange(),Rr=Ur.range,hn=kr.range,cr._scene.update({range:[Rr[0],hn[0],Rr[1],hn[1]]})}}if((xe||Pe)&&(s(ne),d(ne)),ge){var tn=er[2]/He._length,Fn=er[3]/De._length;for(pr=0;pr<yr.length;pr++){cr=vr[yr[pr]],Ur=cr.xaxis,kr=cr.yaxis;var mn=(Ie||Rt.isSubplotConstrained)&&!Ur.fixedrange&&Ve[Ur._id],Mr=(Fe||Rt.isSubplotConstrained)&&!kr.fixedrange&&at[kr._id],Er,Wr,Hr,an;if(mn?(Er=tn,Hr=Se||Rt.isSubplotConstrained?er[0]:ur(Ur,Er)):Rt.xaHash[Ur._id]?(Er=tn,Hr=er[0]*Ur._length/He._length):Rt.yaHash[Ur._id]?(Er=Fn,Hr=Je==="ns"?-er[1]*Ur._length/De._length:ur(Ur,Er,{n:"top",s:"bottom"}[Je])):(Er=Zt(Ur,tn,Fn),Hr=rr(Ur,Er)),Er>1&&(Ur.maxallowed!==void 0&&Ie===(Ur.range[0]<Ur.range[1]?"e":"w")||Ur.minallowed!==void 0&&Ie===(Ur.range[0]<Ur.range[1]?"w":"e"))&&(Er=1,Hr=0),Mr?(Wr=Fn,an=ke||Rt.isSubplotConstrained?er[1]:ur(kr,Wr)):Rt.yaHash[kr._id]?(Wr=Fn,an=er[1]*kr._length/De._length):Rt.xaHash[kr._id]?(Wr=tn,an=Vt==="ew"?-er[0]*kr._length/He._length:ur(kr,Wr,{e:"right",w:"left"}[Vt])):(Wr=Zt(kr,tn,Fn),an=rr(kr,Wr)),Wr>1&&(kr.maxallowed!==void 0&&Fe===(kr.range[0]<kr.range[1]?"n":"s")||kr.minallowed!==void 0&&Fe===(kr.range[0]<kr.range[1]?"s":"n"))&&(Wr=1,an=0),!(!Er&&!Wr)){Er||(Er=1),Wr||(Wr=1);var vn=Ur._offset-Hr/Er,pn=kr._offset-an/Wr;cr.clipRect.call(o.setTranslate,Hr,an).call(o.setScale,Er,Wr),cr.plot.call(o.setTranslate,vn,pn).call(o.setScale,1/Er,1/Wr),(Er!==cr.xScaleFactor||Wr!==cr.yScaleFactor)&&(o.setPointGroupScale(cr.zoomScalePts,Er,Wr),o.setTextPointsScale(cr.zoomScaleTxt,Er,Wr)),o.hideOutsideRangePoints(cr.clipOnAxisFalseTraces,cr),cr.xScaleFactor=Er,cr.yScaleFactor=Wr}}}}function Zt(er,Ot,vr){return er.fixedrange?0:Ie&&At.xaHash[er._id]?Ot:Fe&&(At.isSubplotConstrained?At.xaHash:At.yaHash)[er._id]?vr:0}function rr(er,Ot){return Ot?(er.range=er._r.slice(),x(er,Ot),ur(er,Ot)):0}function ur(er,Ot,vr){return er._length*(1-Ot)*h[vr||er.constraintoward||"middle"]}return ft}function U(ne,fe,ye,Ee){var Te=P.ensureSingle(ne.draglayer,fe,ye,function(ze){ze.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ne.id)});return Te.call(u,Ee),Te.node()}function z(ne,fe,ye,Ee,Te,ze,ke){var Se=U(ne,"rect",fe,ye);return y.select(Se).call(o.setRect,Ee,Te,ze,ke),Se}function F(ne,fe){for(var ye=0;ye<ne.length;ye++)if(!ne[ye].fixedrange)return fe;return""}function B(ne,fe){var ye=ne.range[fe],Ee=Math.abs(ye-ne.range[1-fe]),Te;return ne.type==="date"?ye:ne.type==="log"?(Te=Math.ceil(Math.max(0,-Math.log(Ee)/Math.LN10))+3,a("."+Te+"g")(Math.pow(10,ye))):(Te=Math.floor(Math.log(Math.abs(ye))/Math.LN10)-Math.floor(Math.log(Ee)/Math.LN10)+4,a("."+String(Te)+"g")(ye))}function O(ne,fe,ye,Ee,Te){for(var ze=0;ze<ne.length;ze++){var ke=ne[ze];if(!ke.fixedrange)if(ke.rangebreaks){var Se=ke._id.charAt(0)==="y",me=Se?1-fe:fe,Ce=Se?1-ye:ye;Ee[ke._name+".range[0]"]=ke.l2r(ke.p2l(me*ke._length)),Ee[ke._name+".range[1]"]=ke.l2r(ke.p2l(Ce*ke._length))}else{var Ne=ke._rl[0],He=ke._rl[1]-Ne;Ee[ke._name+".range[0]"]=ke.l2r(Ne+He*fe),Ee[ke._name+".range[1]"]=ke.l2r(Ne+He*ye)}}if(Te&&Te.length){var De=(fe+(1-ye))/2;O(Te,De,1-De,Ee,[])}}function N(ne,fe){for(var ye=0;ye<ne.length;ye++){var Ee=ne[ye];if(!Ee.fixedrange){if(Ee.rangebreaks){var Te=0,ze=Ee._length,ke=Ee.p2l(Te+fe)-Ee.p2l(Te),Se=Ee.p2l(ze+fe)-Ee.p2l(ze),me=(ke+Se)/2;Ee.range=[Ee.l2r(Ee._rl[0]-me),Ee.l2r(Ee._rl[1]-me)]}else Ee.range=[Ee.l2r(Ee._rl[0]-fe/Ee._m),Ee.l2r(Ee._rl[1]-fe/Ee._m)];Ee.limitRange&&Ee.limitRange()}}}function Y(ne){return 1-(ne>=0?Math.min(ne,.9):1/(1/Math.max(ne,-.3)+3.222))}function $(ne,fe,ye){return ne?ne==="nsew"?ye?"":fe==="pan"?"move":"crosshair":ne.toLowerCase()+"-resize":"pointer"}function te(ne,fe,ye,Ee,Te){return ne.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ye,Ee)).attr("d",Te+"Z")}function ie(ne,fe,ye){return ne.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(fe,ye)).attr("d","M0,0Z")}function ce(ne,fe,ye,Ee,Te,ze){ne.attr("d",Ee+"M"+ye.l+","+ye.t+"v"+ye.h+"h"+ye.w+"v-"+ye.h+"h-"+ye.w+"Z"),J(ne,fe,Te,ze)}function J(ne,fe,ye,Ee){ye||(ne.transition().style("fill",Ee>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function Z(ne){y.select(ne).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ae(ne){k&&ne.data&&ne._context.showTips&&(P.notifier(P._(ne,"Double-click to zoom back out"),"long"),k=!1)}function j(ne,fe){return"M"+(ne.l-.5)+","+(fe-m-.5)+"h-3v"+(2*m+1)+"h3ZM"+(ne.r+.5)+","+(fe-m-.5)+"h3v"+(2*m+1)+"h-3Z"}function q(ne,fe){return"M"+(fe-m-.5)+","+(ne.t-.5)+"v-3h"+(2*m+1)+"v3ZM"+(fe-m-.5)+","+(ne.b+.5)+"v3h"+(2*m+1)+"v-3Z"}function oe(ne){var fe=Math.floor(Math.min(ne.b-ne.t,ne.r-ne.l,m)/2);return"M"+(ne.l-3.5)+","+(ne.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(ne.r+3.5)+","+(ne.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(ne.r+3.5)+","+(ne.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(ne.l-3.5)+","+(ne.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function Q(ne,fe,ye,Ee,Te){for(var ze=!1,ke={},Se={},me,Ce,Ne,He,De=(Te||{}).xaHash,Ve=(Te||{}).yaHash,at=0;at<fe.length;at++){var lt=fe[at];for(me in ye)if(lt[me]){for(Ne in lt)!(Te&&(De[Ne]||Ve[Ne]))&&!(Ne.charAt(0)==="x"?ye:Ee)[Ne]&&(ke[Ne]=me);for(Ce in Ee)!(Te&&(De[Ce]||Ve[Ce]))&&lt[Ce]&&(ze=!0)}for(Ce in Ee)if(lt[Ce])for(He in lt)!(Te&&(De[He]||Ve[He]))&&!(He.charAt(0)==="x"?ye:Ee)[He]&&(Se[He]=Ce)}ze&&(P.extendFlat(ke,Se),Se={});var $e={},et=[];for(Ne in ke){var ct=w(ne,Ne);et.push(ct),$e[ct._id]=ct}var dt={},gt=[];for(He in Se){var At=w(ne,He);gt.push(At),dt[At._id]=At}return{xaHash:$e,yaHash:dt,xaxes:et,yaxes:gt,xLinks:ke,yLinks:Se,isSubplotConstrained:ze}}function K(ne,fe){if(!M)ne.onwheel!==void 0?ne.onwheel=fe:ne.onmousewheel!==void 0?ne.onmousewheel=fe:ne.isAddedWheelEvent||(ne.isAddedWheelEvent=!0,ne.addEventListener("wheel",fe,{passive:!1}));else{var ye=ne.onwheel!==void 0?"wheel":"mousewheel";ne._onwheel&&ne.removeEventListener(ye,ne._onwheel),ne._onwheel=fe,ne.addEventListener(ye,fe,{passive:!1})}}function se(ne){var fe=[];for(var ye in ne)fe.push(ne[ye]);return fe}G.exports={makeDragBox:I,makeDragger:U,makeRectDragger:z,makeZoombox:te,makeCorners:ie,updateZoombox:ce,xyCorners:oe,transitionZoombox:J,removeZoombox:Z,showDoubleClickNotifier:ae,attachWheelEventHandler:K}},4305:function(G,H,e){var y=e(39898),P=e(30211),a=e(28569),L=e(6964),M=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;H.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){y.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var o=Object.keys(t._plots||{}).sort(function(c,u){if((t._plots[c].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=c.split("y"),g=u.split("y");return l[0]===g[0]?Number(l[1]||1)-Number(g[1]||1):Number(l[0]||1)-Number(g[0]||1)}return t._plots[c].mainplot?1:-1});o.forEach(function(c){var u=t._plots[c],l=u.xaxis,g=u.yaxis;if(!u.mainplot){var f=M(r,u,l._offset,g._offset,l._length,g._length,"ns","ew");f.onmousemove=function(s){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===c&&r._fullLayout._plots[c]&&P.hover(r,s,c)},P.hover(r,s,c),r._fullLayout._lasthover=f,r._fullLayout._hoversubplot=c},f.onmouseout=function(s){r._dragging||(r._fullLayout._hoversubplot=null,a.unhover(r,s))},r._context.showAxisDragHandles&&(M(r,u,l._offset-v,g._offset-v,v,v,"n","w"),M(r,u,l._offset+l._length,g._offset-v,v,v,"n","e"),M(r,u,l._offset-v,g._offset+g._length,v,v,"s","w"),M(r,u,l._offset+l._length,g._offset+g._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(c===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),M(r,u,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),M(r,u,l._offset,T,l._length*.1,v,"","w"),M(r,u,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(c===g._mainSubplot){var h=g._mainLinePosition;g.side!=="right"&&(h-=v),M(r,u,h,g._offset+g._length*.1,v,g._length*.8,"ns",""),M(r,u,h,g._offset+g._length*.9,v,g._length*.1,"s",""),M(r,u,h,g._offset,v,g._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(c){c.target=r._fullLayout._lasthover,P.hover(r,c,t._hoversubplot)},n.onclick=function(c){c.target=r._fullLayout._lasthover,P.click(r,c)},n.onmousedown=function(c){r._fullLayout._lasthover.onmousedown(c)},H.updateFx(r)}},H.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},76325:function(G,H,e){var y=e(73972),P=e(71828),a=e(41675);G.exports=function(M){return function(p,r){var t=p[M];if(Array.isArray(t))for(var o=y.subplotsRegistry.cartesian,n=o.idRegex,c=r._subplots,u=c.xaxis,l=c.yaxis,g=c.cartesian,f=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var h=t[T];if(P.isPlainObject(h)){var s=a.cleanId(h.xref,"x",!1),d=a.cleanId(h.yref,"y",!1),A=n.x.test(s),w=n.y.test(d);if(A||w){f||P.pushUnique(r._basePlotModules,o);var C=!1;A&&u.indexOf(s)===-1&&(u.push(s),C=!0),w&&l.indexOf(d)===-1&&(l.push(d),C=!0),C&&A&&w&&g.push(s+d)}}}}}},93612:function(G,H,e){var y=e(39898),P=e(73972),a=e(71828),L=e(74875),M=e(91424),v=e(27659).a0,p=e(41675),r=e(85555),t=e(77922),o=a.ensureSingle;function n(T,h,s){return a.ensureSingle(T,h,s,function(d){d.datum(s)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=r.idRegex,H.attrRegex=r.attrRegex,H.attributes=e(89502),H.layoutAttributes=e(13838),H.supplyLayoutDefaults=e(86763),H.transitionAxes=e(66847),H.finalizeSubplots=function(T,h){var s=h._subplots,d=s.xaxis,A=s.yaxis,w=s.cartesian,C=w.concat(s.gl2d||[]),b={},S={},x,i,E;for(x=0;x<C.length;x++){var m=C[x].split("y");b[m[0]]=1,S["y"+m[1]]=1}for(x=0;x<d.length;x++)i=d[x],b[i]||(E=(T[p.id2name(i)]||{}).anchor,r.idRegex.y.test(E)||(E="y"),w.push(i+E),C.push(i+E),S[E]||(S[E]=1,a.pushUnique(A,E)));for(x=0;x<A.length;x++)E=A[x],S[E]||(i=(T[p.id2name(E)]||{}).anchor,r.idRegex.x.test(i)||(i="x"),w.push(i+E),C.push(i+E),b[i]||(b[i]=1,a.pushUnique(d,i)));if(!C.length){i="",E="";for(var k in T)if(r.attrRegex.test(k)){var I=k.charAt(0);I==="x"?(!i||+k.substr(5)<+i.substr(5))&&(i=k):(!E||+k.substr(5)<+E.substr(5))&&(E=k)}i=i?p.name2id(i):"x",E=E?p.name2id(E):"y",d.push(i),A.push(E),w.push(i+E)}},H.plot=function(T,h,s,d){var A=T._fullLayout,w=A._subplots.cartesian,C=T.calcdata,b;if(!Array.isArray(h))for(h=[],b=0;b<C.length;b++)h.push(b);for(b=0;b<w.length;b++){for(var S=w[b],x=A._plots[S],i=[],E,m=0;m<C.length;m++){var k=C[m],I=k[0].trace;I.xaxis+I.yaxis===S&&((h.indexOf(I.index)!==-1||I.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&i.indexOf(E)===-1&&i.push(E),i.push(k)),E=k)}c(T,x,i,s,d)}};function c(T,h,s,d,A){for(var w=r.traceLayerClasses,C=T._fullLayout,b=C._modules,S,x,i,E=[],m=[],k=0;k<b.length;k++){S=b[k];var I=S.name,U=P.modules[I].categories;if(U.svg){var z=S.layerName||I+"layer",F=S.plot;x=v(s,F),i=x[0],s=x[1],i.length&&E.push({i:w.indexOf(z),className:z,plotMethod:F,cdModule:i}),U.zoomScale&&m.push("."+z)}}E.sort(function(N,Y){return N.i-Y.i});var B=h.plot.selectAll("g.mlayer").data(E,function(N){return N.className});if(B.enter().append("g").attr("class",function(N){return N.className}).classed("mlayer",!0).classed("rangeplot",h.isRangePlot),B.exit().remove(),B.order(),B.each(function(N){var Y=y.select(this),$=N.className;N.plotMethod(T,h,N.cdModule,Y,d,A),r.clipOnAxisFalseQuery.indexOf("."+$)===-1&&M.setClipUrl(Y,h.layerClipId,T)}),C._has("scattergl")&&(S=P.getModule("scattergl"),i=v(s,S)[0],S.plot(T,h,i)),!T._context.staticPlot&&(h._hasClipOnAxisFalse&&(h.clipOnAxisFalseTraces=h.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var O=h.plot.selectAll(m.join(",")).selectAll(".trace");h.zoomScalePts=O.selectAll("path.point"),h.zoomScaleTxt=O.selectAll(".textpoint")}}H.clean=function(T,h,s,d){var A=d._plots||{},w=h._plots||{},C=d._subplots||{},b,S,x;if(d._hasOnlyLargeSploms&&!h._hasOnlyLargeSploms)for(x in A)b=A[x],b.plotgroup&&b.plotgroup.remove();var i=d._has&&d._has("gl"),E=h._has&&h._has("gl");if(i&&!E)for(x in A)b=A[x],b._scene&&b._scene.destroy();if(C.xaxis&&C.yaxis){var m=p.listIds({_fullLayout:d});for(S=0;S<m.length;S++){var k=m[S];h[p.id2name(k)]||d._infolayer.selectAll(".g-"+k+"title").remove()}}var I=d._has&&d._has("cartesian"),U=h._has&&h._has("cartesian");if(I&&!U)g(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(S=0;S<C.cartesian.length;S++){var z=C.cartesian[S];if(!w[z]){var F="."+z+",."+z+"-x,."+z+"-y";d._cartesianlayer.selectAll(F).remove(),f(z,d)}}},H.drawFramework=function(T){var h=T._fullLayout,s=u(T),d=h._cartesianlayer.selectAll(".subplot").data(s,String);d.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),d.order(),d.exit().call(g,h),d.each(function(A){var w=A[0],C=h._plots[w];C.plotgroup=y.select(this),l(T,C),C.draglayer=o(h._draggers,"g",w)})},H.rangePlot=function(T,h,s){l(T,h),c(T,h,s),L.style(T)};function u(T){var h=T._fullLayout,s=h._subplots.cartesian,d=s.length,A,w,C,b,S,x,i=[],E=[];for(A=0;A<d;A++){C=s[A],b=h._plots[C],S=b.xaxis,x=b.yaxis;var m=S._mainAxis,k=x._mainAxis,I=m._id+k._id,U=h._plots[I];b.overlays=[],I!==C&&U?(b.mainplot=I,b.mainplotinfo=U,E.push(C)):(b.mainplot=void 0,b.mainplotinfo=void 0,i.push(C))}for(A=0;A<E.length;A++)C=E[A],b=h._plots[C],b.mainplotinfo.overlays.push(b);var z=i.concat(E),F=new Array(d);for(A=0;A<d;A++){C=z[A],b=h._plots[C],S=b.xaxis,x=b.yaxis;var B=[C,S.layer,x.layer,S.overlaying||"",x.overlaying||""];for(w=0;w<b.overlays.length;w++)B.push(b.overlays[w].id);F[A]=B}return F}function l(T,h){var s=h.plotgroup,d=h.id,A=r.layerValue2layerClass[h.xaxis.layer],w=r.layerValue2layerClass[h.yaxis.layer],C=T._fullLayout._hasOnlyLargeSploms;if(h.mainplot){var S=h.mainplotinfo,x=S.plotgroup,i=d+"-x",E=d+"-y";h.minorGridlayer=S.minorGridlayer,h.gridlayer=S.gridlayer,h.zerolinelayer=S.zerolinelayer,o(S.overlinesBelow,"path",i),o(S.overlinesBelow,"path",E),o(S.overaxesBelow,"g",i),o(S.overaxesBelow,"g",E),h.plot=o(S.overplot,"g",d),o(S.overlinesAbove,"path",i),o(S.overlinesAbove,"path",E),o(S.overaxesAbove,"g",i),o(S.overaxesAbove,"g",E),h.xlines=x.select(".overlines-"+A).select("."+i),h.ylines=x.select(".overlines-"+w).select("."+E),h.xaxislayer=x.select(".overaxes-"+A).select("."+i),h.yaxislayer=x.select(".overaxes-"+w).select("."+E)}else if(C)h.xlines=o(s,"path","xlines-above"),h.ylines=o(s,"path","ylines-above"),h.xaxislayer=o(s,"g","xaxislayer-above"),h.yaxislayer=o(s,"g","yaxislayer-above");else{var b=o(s,"g","layer-subplot");h.shapelayer=o(b,"g","shapelayer"),h.imagelayer=o(b,"g","imagelayer"),h.minorGridlayer=o(s,"g","minor-gridlayer"),h.gridlayer=o(s,"g","gridlayer"),h.zerolinelayer=o(s,"g","zerolinelayer"),o(s,"path","xlines-below"),o(s,"path","ylines-below"),h.overlinesBelow=o(s,"g","overlines-below"),o(s,"g","xaxislayer-below"),o(s,"g","yaxislayer-below"),h.overaxesBelow=o(s,"g","overaxes-below"),h.plot=o(s,"g","plot"),h.overplot=o(s,"g","overplot"),h.xlines=o(s,"path","xlines-above"),h.ylines=o(s,"path","ylines-above"),h.overlinesAbove=o(s,"g","overlines-above"),o(s,"g","xaxislayer-above"),o(s,"g","yaxislayer-above"),h.overaxesAbove=o(s,"g","overaxes-above"),h.xlines=s.select(".xlines-"+A),h.ylines=s.select(".ylines-"+w),h.xaxislayer=s.select(".xaxislayer-"+A),h.yaxislayer=s.select(".yaxislayer-"+w)}C||(n(h.minorGridlayer,"g",h.xaxis._id),n(h.minorGridlayer,"g",h.yaxis._id),h.minorGridlayer.selectAll("g").map(function(m){return m[0]}).sort(p.idSort),n(h.gridlayer,"g",h.xaxis._id),n(h.gridlayer,"g",h.yaxis._id),h.gridlayer.selectAll("g").map(function(m){return m[0]}).sort(p.idSort)),h.xlines.style("fill","none").classed("crisp",!0),h.ylines.style("fill","none").classed("crisp",!0)}function g(T,h){if(T){var s={};T.each(function(S){var x=S[0],i=y.select(this);i.remove(),f(x,h),s[x]=!0});for(var d in h._plots)for(var A=h._plots[d],w=A.overlays||[],C=0;C<w.length;C++){var b=w[C];s[b.id]&&b.plot.selectAll(".trace").remove()}}}function f(T,h){h._draggers.selectAll("g."+T).remove(),h._defs.select("#clip"+h._uid+T+"plot").remove()}H.toSVG=function(T){var h=T._fullLayout._glimages,s=y.select(T).selectAll(".svg-container"),d=s.filter(function(w,C){return C===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function A(){var w=this,C=w.toDataURL("image/png"),b=h.append("svg:image");b.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}d.each(A)},H.updateFx=e(4305).updateFx},13838:function(G,H,e){var y=e(41940),P=e(22399),a=e(79952).P,L=e(1426).extendFlat,M=e(44467).templatedArray,v=e(12663).descriptionWithDates,p=e(50606).ONEDAY,r=e(85555),t=r.HOUR_PATTERN,o=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},c=L({},n,{values:n.values.slice().concat(["sync"])});function u(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},f={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(S){var x={valType:"number",min:0,editType:"ticks"};return S||(x.dflt=5),x}function s(S){var x={valType:"number",min:0,editType:"ticks"};return S||(x.dflt=1),x}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},A={valType:"color",dflt:P.lightLine,editType:"ticks"};function w(S){var x={valType:"number",min:0,editType:"ticks"};return S||(x.dflt=1),x}var C=L({},a,{editType:"ticks"}),b={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:y({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[o,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:c,nticks:u(),tick0:l,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:f,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:s(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:y({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:b,gridcolor:A,gridwidth:w(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:g,tickvals:f,ticks:T,ticklen:h("minor"),tickwidth:s("minor"),tickcolor:d,gridcolor:A,gridwidth:w("minor"),griddash:C,showgrid:b,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:y({editType:"ticks"})}}},86763:function(G,H,e){var y=e(71828),P=e(7901),a=e(23469).isUnifiedHover,L=e(98212),M=e(44467),v=e(10820),p=e(13838),r=e(951),t=e(71453),o=e(99082),n=e(52830),c=e(41675),u=c.id2name,l=c.name2id,g=e(85555).AX_ID_PATTERN,f=e(73972),T=f.traceIs,h=f.getComponentMethod;function s(d,A,w){Array.isArray(d[A])?d[A].push(w):d[A]=[w]}G.exports=function(A,w,C){var b=w.autotypenumbers,S={},x={},i={},E={},m={},k={},I={},U={},z={},F={},B,O;for(B=0;B<C.length;B++){var N=C[B];if(!(!T(N,"cartesian")&&!T(N,"gl2d"))){var Y;if(N.xaxis)Y=u(N.xaxis),s(S,Y,N);else if(N.xaxes)for(O=0;O<N.xaxes.length;O++)s(S,u(N.xaxes[O]),N);var $;if(N.yaxis)$=u(N.yaxis),s(S,$,N);else if(N.yaxes)for(O=0;O<N.yaxes.length;O++)s(S,u(N.yaxes[O]),N);if(N.type==="funnel"?N.orientation==="h"?(Y&&(x[Y]=!0),$&&(I[$]=!0)):$&&(i[$]=!0):N.type==="image"?($&&(U[$]=!0),Y&&(U[Y]=!0)):($&&(m[$]=!0,k[$]=!0),(!T(N,"carpet")||N.type==="carpet"&&!N._cheater)&&Y&&(E[Y]=!0)),N.type==="carpet"&&N._cheater&&Y&&(x[Y]=!0),T(N,"2dMap")&&(z[Y]=!0,z[$]=!0),T(N,"oriented")){var te=N.orientation==="h"?$:Y;F[te]=!0}}}var ie=w._subplots,ce=ie.xaxis,J=ie.yaxis,Z=y.simpleMap(ce,u),ae=y.simpleMap(J,u),j=Z.concat(ae),q=P.background;ce.length&&J.length&&(q=y.coerce(A,w,v,"plot_bgcolor"));var oe=P.combine(q,w.paper_bgcolor),Q,K,se,ne,fe;function ye(){var Ae=S[Q]||[];fe._traceIndices=Ae.map(function(Ue){return Ue._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=Q,fe._id=K}function Ee(Ae,Ue){return y.coerce(ne,fe,p,Ae,Ue)}function Te(Ae,Ue){return y.coerce2(ne,fe,p,Ae,Ue)}function ze(Ae){return Ae==="x"?J:ce}function ke(Ae,Ue){for(var Ze=Ae==="x"?Z:ae,tt=[],ft=0;ft<Ze.length;ft++){var pt=Ze[ft];pt!==Ue&&!(A[pt]||{}).overlaying&&tt.push(l(pt))}return tt}var Se={x:ze("x"),y:ze("y")},me=Se.x.concat(Se.y),Ce={},Ne=[];function He(){var Ae=ne.matches;g.test(Ae)&&me.indexOf(Ae)===-1&&(Ce[Ae]=ne.type,Ne=Object.keys(Ce))}var De=L(A,w),Ve=a(De);for(B=0;B<j.length;B++){Q=j[B],K=l(Q),se=Q.charAt(0),y.isPlainObject(A[Q])||(A[Q]={}),ne=A[Q],fe=M.newContainer(w,Q,se+"axis"),ye();var at=se==="x"&&!E[Q]&&x[Q]||se==="y"&&!m[Q]&&i[Q],lt=se==="y"&&(!k[Q]&&I[Q]||U[Q]),$e={hasMinor:!0,letter:se,font:w.font,outerTicks:z[Q],showGrid:!F[Q],data:S[Q]||[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:at,reverseDflt:lt,autotypenumbersDflt:b,splomStash:((w._splomAxes||{})[se]||{})[K]};Ee("uirevision",w.uirevision),r(ne,fe,Ee,$e),t(ne,fe,Ee,$e,w);var et=Ve&&se===De.charAt(0),ct=Te("spikecolor",Ve?fe.color:void 0),dt=Te("spikethickness",Ve?1.5:void 0),gt=Te("spikedash",Ve?"dot":void 0),At=Te("spikemode",Ve?"across":void 0),Rt=Te("spikesnap"),Vt=Ee("showspikes",!!et||!!ct||!!dt||!!gt||!!At||!!Rt);Vt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var Je=u(ne.overlaying),Ge=[0,1];if(w[Je]!==void 0){var Ie=u(w[Je].anchor);w[Ie]!==void 0&&(Ge=w[Ie].domain)}n(ne,fe,Ee,{letter:se,counterAxes:Se[se],overlayableAxes:ke(se,Q),grid:w.grid,overlayingDomain:Ge}),Ee("title.standoff"),He(),fe._input=ne}for(B=0;B<Ne.length;){K=Ne[B++],Q=u(K),se=Q.charAt(0),y.isPlainObject(A[Q])||(A[Q]={}),ne=A[Q],fe=M.newContainer(w,Q,se+"axis"),ye();var Fe={letter:se,font:w.font,outerTicks:z[Q],showGrid:!F[Q],data:[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:b,splomStash:((w._splomAxes||{})[se]||{})[K]};Ee("uirevision",w.uirevision),fe.type=Ce[K]||"linear",t(ne,fe,Ee,Fe,w),n(ne,fe,Ee,{letter:se,counterAxes:Se[se],overlayableAxes:ke(se,Q),grid:w.grid}),Ee("fixedrange"),He(),fe._input=ne}var Pe=h("rangeslider","handleDefaults"),xe=h("rangeselector","handleDefaults");for(B=0;B<Z.length;B++)Q=Z[B],ne=A[Q],fe=w[Q],Pe(A,w,Q),fe.type==="date"&&xe(ne,fe,w,ae,fe.calendar),Ee("fixedrange");for(B=0;B<ae.length;B++){Q=ae[B],ne=A[Q],fe=w[Q];var ge=w[u(fe.anchor)],Me=h("rangeslider","isVisible")(ge);Ee("fixedrange",Me)}o.handleDefaults(A,w,{axIds:me.concat(Ne).sort(c.idSort),axHasImage:U})}},92128:function(G,H,e){var y=e(84267).mix,P=e(22399),a=e(71828);G.exports=function(M,v,p,r){r=r||{};var t=r.dfltColor;function o(i,E){return a.coerce2(M,v,r.attributes,i,E)}var n=o("linecolor",t),c=o("linewidth"),u=p("showline",r.showLine||!!n||!!c);u||(delete v.linecolor,delete v.linewidth);var l=y(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),g=o("gridcolor",l),f=o("gridwidth"),T=o("griddash"),h=p("showgrid",r.showGrid||!!g||!!f||!!T);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var s=y(v.gridcolor,r.bgColor,67).toRgbString(),d=o("minor.gridcolor",s),A=o("minor.gridwidth",v.gridwidth||1),w=o("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!A||!!w);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var b=o("zerolinecolor",t),S=o("zerolinewidth"),x=p("zeroline",r.showGrid||!!b||!!S);x||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(G,H,e){var y=e(92770),P=e(71828);G.exports=function(L,M,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],o=p.letter,n=p.grid,c=p.overlayingDomain,u,l,g,f,T,h;n&&(l=n._domains[o][n._axisMap[M._id]],u=n._anchors[M._id],l&&(g=n[o+"side"].split(" ")[0],f=n.domain[o][g==="right"||g==="top"?1:0])),l=l||[0,1],u=u||(y(L.position)?"free":r[0]||"free"),g=g||(o==="x"?"bottom":"left"),f=f||0,T=0,h=!1;var s=P.coerce(L,M,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=P.coerce(L,M,{side:{valType:"enumerated",values:o==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(s==="free"){if(o==="y"){var A=v("autoshift");A&&(f=d==="left"?c[0]:c[1],h=M.automargin?M.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",f)}v("automargin",h);var w=!1;if(t.length&&(w=P.coerce(L,M,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var C=v("domain",l);C[0]>C[1]-.000244140625&&(M.domain=l),P.noneOrAll(L.domain,M.domain,l),M.tickmode==="sync"&&(M.tickmode="auto")}return v("layer"),M}},89426:function(G,H,e){var y=e(59652);G.exports=function(a,L,M,v,p){p||(p={});var r=p.tickSuffixDflt,t=y(a),o=M("tickprefix");o&&M("showtickprefix",t);var n=M("ticksuffix",r);n&&M("showticksuffix",t)}},23608:function(G,H,e){var y=e(23074);G.exports=function(a,L,M,v){var p=L._template||{},r=L.type||p.type||"-";M("minallowed"),M("maxallowed");var t=M("range");if(!t){var o;!v.noInsiderange&&r!=="log"&&(o=M("insiderange"),o&&(o[0]===null||o[1]===null)&&(L.insiderange=!1,o=void 0),o&&(t=M("range",o)))}var n=L.getAutorangeDflt(t,v),c=M("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(c==="reversed"||c===!0)||t[0]!==null&&(c==="min"||c==="max reversed")||t[1]!==null&&(c==="max"||c==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,u=!0),u||(n=L.getAutorangeDflt(t,v),c=M("autorange",n)),c&&(y(M,c,t),(r==="linear"||r==="-")&&M("rangemode")),L.cleanRange()}},42449:function(G,H,e){var y=e(18783).FROM_BL;G.exports=function(a,L,M){M===void 0&&(M=y[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],p=v[0]+(v[1]-v[0])*M;a.range=a._input.range=[a.l2r(p+(v[0]-p)*L),a.l2r(p+(v[1]-p)*L)],a.setScale()}},21994:function(G,H,e){var y=e(39898),P=e(84096).g0,a=e(71828),L=a.numberFormat,M=e(92770),v=a.cleanNumber,p=a.ms2DateTime,r=a.dateTime2ms,t=a.ensureNumber,o=a.isArrayOrTypedArray,n=e(50606),c=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,g=n.ONEWEEK,f=n.ONEDAY,T=n.ONEHOUR,h=n.ONEMIN,s=n.ONESEC,d=e(41675),A=e(85555),w=A.HOUR_PATTERN,C=A.WEEKDAY_PATTERN;function b(x){return Math.pow(10,x)}function S(x){return x!=null}G.exports=function(i,E){E=E||{};var m=i._id||"x",k=m.charAt(0);function I(j,q){if(j>0)return Math.log(j)/Math.LN10;if(j<=0&&q&&i.range&&i.range.length===2){var oe=i.range[0],Q=i.range[1];return .5*(oe+Q-2*l*Math.abs(oe-Q))}else return u}function U(j,q,oe,Q){if((Q||{}).msUTC&&M(j))return+j;var K=r(j,oe||i.calendar);if(K===u)if(M(j)){j=+j;var se=Math.floor(a.mod(j+.05,1)*10),ne=Math.round(j-se/10);K=r(new Date(ne))+se/10}else return u;return K}function z(j,q,oe){return p(j,q,oe||i.calendar)}function F(j){return i._categories[Math.round(j)]}function B(j){if(S(j)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[j]!==void 0)return i._categoriesMap[j];i._categories.push(typeof j=="number"?String(j):j);var q=i._categories.length-1;return i._categoriesMap[j]=q,q}return u}function O(j,q){for(var oe=new Array(q),Q=0;Q<q;Q++){var K=(j[0]||[])[Q],se=(j[1]||[])[Q];oe[Q]=N([K,se])}return oe}function N(j){if(i._categoriesMap)return i._categoriesMap[j]}function Y(j){var q=N(j);if(q!==void 0)return q;if(M(j))return+j}function $(j){return M(j)?+j:N(j)}function te(j,q,oe){return y.round(oe+q*j,2)}function ie(j,q,oe){return(j-oe)/q}var ce=function(q){return M(q)?te(q,i._m,i._b):u},J=function(j){return ie(j,i._m,i._b)};if(i.rangebreaks){var Z=k==="y";ce=function(j){if(!M(j))return u;var q=i._rangebreaks.length;if(!q)return te(j,i._m,i._b);var oe=Z;i.range[0]>i.range[1]&&(oe=!oe);for(var Q=oe?-1:1,K=Q*j,se=0,ne=0;ne<q;ne++){var fe=Q*i._rangebreaks[ne].min,ye=Q*i._rangebreaks[ne].max;if(K<fe)break;if(K>ye)se=ne+1;else{se=K<(fe+ye)/2?ne:ne+1;break}}var Ee=i._B[se]||0;return isFinite(Ee)?te(j,i._m2,Ee):0},J=function(j){var q=i._rangebreaks.length;if(!q)return ie(j,i._m,i._b);for(var oe=0,Q=0;Q<q&&!(j<i._rangebreaks[Q].pmin);Q++)j>i._rangebreaks[Q].pmax&&(oe=Q+1);return ie(j,i._m2,i._B[oe])}}i.c2l=i.type==="log"?I:t,i.l2c=i.type==="log"?b:t,i.l2p=ce,i.p2l=J,i.c2p=i.type==="log"?function(j,q){return ce(I(j,q))}:ce,i.p2c=i.type==="log"?function(j){return b(J(j))}:J,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=v,i.c2d=i.c2r=i.l2d=i.l2r=t,i.d2p=i.r2p=function(j){return i.l2p(v(j))},i.p2d=i.p2r=J,i.cleanPos=t):i.type==="log"?(i.d2r=i.d2l=function(j,q){return I(v(j),q)},i.r2d=i.r2c=function(j){return b(v(j))},i.d2c=i.r2l=v,i.c2d=i.l2r=t,i.c2r=I,i.l2d=b,i.d2p=function(j,q){return i.l2p(i.d2r(j,q))},i.p2d=function(j){return b(J(j))},i.r2p=function(j){return i.l2p(v(j))},i.p2r=J,i.cleanPos=t):i.type==="date"?(i.d2r=i.r2d=a.identity,i.d2c=i.r2c=i.d2l=i.r2l=U,i.c2d=i.c2r=i.l2d=i.l2r=z,i.d2p=i.r2p=function(j,q,oe){return i.l2p(U(j,0,oe))},i.p2d=i.p2r=function(j,q,oe){return z(J(j),q,oe)},i.cleanPos=function(j){return a.cleanDate(j,u,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=B,i.r2d=i.c2d=i.l2d=F,i.d2r=i.d2l_noadd=Y,i.r2c=function(j){var q=$(j);return q!==void 0?q:i.fraction2r(.5)},i.l2r=i.c2r=t,i.r2l=$,i.d2p=function(j){return i.l2p(i.r2c(j))},i.p2d=function(j){return F(J(j))},i.r2p=i.d2p,i.p2r=J,i.cleanPos=function(j){return typeof j=="string"&&j!==""?j:t(j)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=F,i.d2r=i.d2l_noadd=Y,i.r2c=function(j){var q=Y(j);return q!==void 0?q:i.fraction2r(.5)},i.r2c_just_indices=N,i.l2r=i.c2r=t,i.r2l=Y,i.d2p=function(j){return i.l2p(i.r2c(j))},i.p2d=function(j){return F(J(j))},i.r2p=i.d2p,i.p2r=J,i.cleanPos=function(j){return Array.isArray(j)||typeof j=="string"&&j!==""?j:t(j)},i.setupMultiCategory=function(j){var q=i._traceIndices,oe,Q,K=i._matchGroup;if(K&&i._categories.length===0){for(var se in K)if(se!==m){var ne=E[d.id2name(se)];q=q.concat(ne._traceIndices)}}var fe=[[0,{}],[0,{}]],ye=[];for(oe=0;oe<q.length;oe++){var Ee=j[q[oe]];if(k in Ee){var Te=Ee[k],ze=Ee._length||a.minRowLength(Te);if(o(Te[0])&&o(Te[1]))for(Q=0;Q<ze;Q++){var ke=Te[0][Q],Se=Te[1][Q];S(ke)&&S(Se)&&(ye.push([ke,Se]),ke in fe[0][1]||(fe[0][1][ke]=fe[0][0]++),Se in fe[1][1]||(fe[1][1][Se]=fe[1][0]++))}}}for(ye.sort(function(me,Ce){var Ne=fe[0][1],He=Ne[me[0]]-Ne[Ce[0]];if(He)return He;var De=fe[1][1];return De[me[1]]-De[Ce[1]]}),oe=0;oe<ye.length;oe++)B(ye[oe])}),i.fraction2r=function(j){var q=i.r2l(i.range[0]),oe=i.r2l(i.range[1]);return i.l2r(q+j*(oe-q))},i.r2fraction=function(j){var q=i.r2l(i.range[0]),oe=i.r2l(i.range[1]);return(i.r2l(j)-q)/(oe-q)},i.limitRange=function(j){var q=i.minallowed,oe=i.maxallowed;if(!(q===void 0&&oe===void 0)){j||(j="range");var Q=a.nestedProperty(i,j).get(),K=a.simpleMap(Q,i.r2l),se=K[1]<K[0];se&&K.reverse();var ne=a.simpleMap([q,oe],i.r2l);if(q!==void 0&&K[0]<ne[0]&&(Q[se?1:0]=q),oe!==void 0&&K[1]>ne[1]&&(Q[se?0:1]=oe),Q[0]===Q[1]){var fe=i.l2r(q),ye=i.l2r(oe);if(q!==void 0){var Ee=fe+1;oe!==void 0&&(Ee=Math.min(Ee,ye)),Q[se?1:0]=Ee}if(oe!==void 0){var Te=ye+1;q!==void 0&&(Te=Math.max(Te,fe)),Q[se?0:1]=Te}}}},i.cleanRange=function(j,q){i._cleanRange(j,q),i.limitRange(j)},i._cleanRange=function(j,q){q||(q={}),j||(j="range");var oe=a.nestedProperty(i,j).get(),Q,K;if(i.type==="date"?K=a.dfltRange(i.calendar):k==="y"?K=A.DFLTRANGEY:i._name==="realaxis"?K=[0,1]:K=q.dfltRange||A.DFLTRANGEX,K=K.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&(K[0]=0),!oe||oe.length!==2){a.nestedProperty(i,j).set(K);return}var se=oe[0]===null,ne=oe[1]===null;for(i.type==="date"&&!i.autorange&&(oe[0]=a.cleanDate(oe[0],u,i.calendar),oe[1]=a.cleanDate(oe[1],u,i.calendar)),Q=0;Q<2;Q++)if(i.type==="date"){if(!a.isDateTime(oe[Q],i.calendar)){i[j]=K;break}if(i.r2l(oe[0])===i.r2l(oe[1])){var fe=a.constrain(i.r2l(oe[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);oe[0]=i.l2r(fe-1e3),oe[1]=i.l2r(fe+1e3);break}}else{if(!M(oe[Q]))if(!(se||ne)&&M(oe[1-Q]))oe[Q]=oe[1-Q]*(Q?10:.1);else{i[j]=K;break}if(oe[Q]<-c?oe[Q]=-c:oe[Q]>c&&(oe[Q]=c),oe[0]===oe[1]){var ye=Math.max(1,Math.abs(oe[0]*1e-6));oe[0]-=ye,oe[1]+=ye}}},i.setScale=function(j){var q=E._size;if(i.overlaying){var oe=d.getFromId({_fullLayout:E},i.overlaying);i.domain=oe.domain}var Q=j&&i._r?"_r":"range",K=i.calendar;i.cleanRange(Q);var se=i.r2l(i[Q][0],K),ne=i.r2l(i[Q][1],K),fe=k==="y";if(fe?(i._offset=q.t+(1-i.domain[1])*q.h,i._length=q.h*(i.domain[1]-i.domain[0]),i._m=i._length/(se-ne),i._b=-i._m*ne):(i._offset=q.l+i.domain[0]*q.w,i._length=q.w*(i.domain[1]-i.domain[0]),i._m=i._length/(ne-se),i._b=-i._m*se),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var ye,Ee;if(i._rangebreaks=i.locateBreaks(Math.min(se,ne),Math.max(se,ne)),i._rangebreaks.length){for(ye=0;ye<i._rangebreaks.length;ye++)Ee=i._rangebreaks[ye],i._lBreaks+=Math.abs(Ee.max-Ee.min);var Te=fe;se>ne&&(Te=!Te),Te&&i._rangebreaks.reverse();var ze=Te?-1:1;for(i._m2=ze*i._length/(Math.abs(ne-se)-i._lBreaks),i._B.push(-i._m2*(fe?ne:se)),ye=0;ye<i._rangebreaks.length;ye++)Ee=i._rangebreaks[ye],i._B.push(i._B[i._B.length-1]-ze*i._m2*(Ee.max-Ee.min));for(ye=0;ye<i._rangebreaks.length;ye++)Ee=i._rangebreaks[ye],Ee.pmin=ce(Ee.min),Ee.pmax=ce(Ee.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(j){var q=i.rangebreaks||[],oe,Q,K,se,ne;q._cachedPatterns||(q._cachedPatterns=q.map(function(Ne){return Ne.enabled&&Ne.bounds?a.simpleMap(Ne.bounds,Ne.pattern?v:i.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Ne){return Ne.enabled&&Ne.values?a.simpleMap(Ne.values,i.d2c).sort(a.sorterAsc):null}));for(var fe=0;fe<q.length;fe++){var ye=q[fe];if(ye.enabled){if(ye.bounds){var Ee=ye.pattern;switch(oe=q._cachedPatterns[fe],Q=oe[0],K=oe[1],Ee){case C:ne=new Date(j),se=ne.getUTCDay(),Q>K&&(K+=7,se<Q&&(se+=7));break;case w:ne=new Date(j);var Te=ne.getUTCHours(),ze=ne.getUTCMinutes(),ke=ne.getUTCSeconds(),Se=ne.getUTCMilliseconds();se=Te+(ze/60+ke/3600+Se/36e5),Q>K&&(K+=24,se<Q&&(se+=24));break;case"":se=j;break}if(se>=Q&&se<K)return u}else for(var me=q._cachedValues[fe],Ce=0;Ce<me.length;Ce++)if(Q=me[Ce],K=Q+ye.dvalue,j>=Q&&j<K)return u}}return j},i.locateBreaks=function(j,q){var oe,Q,K,se,ne=[];if(!i.rangebreaks)return ne;var fe=i.rangebreaks.slice().sort(function(De,Ve){return De.pattern===C&&Ve.pattern===w?-1:Ve.pattern===C&&De.pattern===w?1:0}),ye=function(De,Ve){if(De=a.constrain(De,j,q),Ve=a.constrain(Ve,j,q),De!==Ve){for(var at=!0,lt=0;lt<ne.length;lt++){var $e=ne[lt];De<$e.max&&Ve>=$e.min&&(De<$e.min&&($e.min=De),Ve>$e.max&&($e.max=Ve),at=!1)}at&&ne.push({min:De,max:Ve})}};for(oe=0;oe<fe.length;oe++){var Ee=fe[oe];if(Ee.enabled)if(Ee.bounds){var Te=j,ze=q;Ee.pattern&&(Te=Math.floor(Te)),Q=a.simpleMap(Ee.bounds,Ee.pattern?v:i.r2l),K=Q[0],se=Q[1];var ke=new Date(Te),Se,me;switch(Ee.pattern){case C:me=g,Se=((se<K?7:0)+(se-K))*f,Te+=K*f-(ke.getUTCDay()*f+ke.getUTCHours()*T+ke.getUTCMinutes()*h+ke.getUTCSeconds()*s+ke.getUTCMilliseconds());break;case w:me=f,Se=((se<K?24:0)+(se-K))*T,Te+=K*T-(ke.getUTCHours()*T+ke.getUTCMinutes()*h+ke.getUTCSeconds()*s+ke.getUTCMilliseconds());break;default:Te=Math.min(Q[0],Q[1]),ze=Math.max(Q[0],Q[1]),me=ze-Te,Se=me}for(var Ce=Te;Ce<ze;Ce+=me)ye(Ce,Ce+Se)}else for(var Ne=a.simpleMap(Ee.values,i.d2c),He=0;He<Ne.length;He++)K=Ne[He],se=K+Ee.dvalue,ye(K,se)}return ne.sort(function(De,Ve){return De.min-Ve.min}),ne},i.makeCalcdata=function(j,q,oe){var Q,K,se,ne,fe=i.type,ye=fe==="date"&&j[q+"calendar"];if(q in j){if(Q=j[q],ne=j._length||a.minRowLength(Q),a.isTypedArray(Q)&&(fe==="linear"||fe==="log")){if(ne===Q.length)return Q;if(Q.subarray)return Q.subarray(0,ne)}if(fe==="multicategory")return O(Q,ne);for(K=new Array(ne),se=0;se<ne;se++)K[se]=i.d2c(Q[se],0,ye,oe)}else{var Ee=q+"0"in j?i.d2c(j[q+"0"],0,ye):0,Te=j["d"+q]?Number(j["d"+q]):1;for(Q=j[{x:"y",y:"x"}[q]],ne=j._length||Q.length,K=new Array(ne),se=0;se<ne;se++)K[se]=Ee+se*Te}if(i.rangebreaks)for(se=0;se<ne;se++)K[se]=i.maskBreaks(K[se]);return K},i.isValidRange=function(j,q){return Array.isArray(j)&&j.length===2&&(q&&j[0]===null||M(i.r2l(j[0])))&&(q&&j[1]===null||M(i.r2l(j[1])))},i.getAutorangeDflt=function(j,q){var oe=!i.isValidRange(j,"nullOk");return oe&&q&&q.reverseDflt?oe="reversed":j&&(j[0]===null&&j[1]===null?oe=!0:j[0]===null&&j[1]!==null?oe="min":j[0]!==null&&j[1]===null&&(oe="max")),oe},i.isReversed=function(){var j=i.autorange;return j==="reversed"||j==="min reversed"||j==="max reversed"},i.isPtWithinRange=function(j,q){var oe=i.c2l(j[k],null,q),Q=i.r2l(i.range[0]),K=i.r2l(i.range[1]);return Q<K?Q<=oe&&oe<=K:K<=oe&&oe<=Q},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var j=i._matchGroup;if(j){var q=null,oe=null;for(var Q in j){var K=E[d.id2name(Q)];if(K._categories){q=K._categories,oe=K._categoriesMap;break}}q&&oe?(i._categories=q,i._categoriesMap=oe):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var se=0;se<i._initialCategories.length;se++)B(i._initialCategories[se])},i.sortByInitialCategories=function(){var j=[];if(i._emptyCategories(),i._initialCategories)for(var q=0;q<i._initialCategories.length;q++)B(i._initialCategories[q]);j=j.concat(i._traceIndices);var oe=i._matchGroup;for(var Q in oe)if(m!==Q){var K=E[d.id2name(Q)];K._categories=i._categories,K._categoriesMap=i._categoriesMap,j=j.concat(K._traceIndices)}return j};var ae=E._d3locale;i.type==="date"&&(i._dateFormat=ae?ae.timeFormat:P,i._extraFormat=E._extraFormat),i._separators=E.separators,i._numFormat=ae?ae.numberFormat:L,delete i._minDtick,delete i._forceTick0}},59652:function(G){G.exports=function(e){var y=["showexponent","showtickprefix","showticksuffix"],P=y.filter(function(L){return e[L]!==void 0}),a=function(L){return e[L]===e[P[0]]};if(P.every(a)||P.length===1)return e[P[0]]}},96115:function(G,H,e){var y=e(71828),P=e(7901).contrast,a=e(13838),L=e(59652),M=e(85501);G.exports=function(r,t,o,n,c){c||(c={});var u=o("labelalias");y.isPlainObject(u)||delete t.labelalias;var l=L(r),g=o("showticklabels");if(g){var f=c.font||{},T=t.color,h=t.ticklabelposition||"",s=h.indexOf("inside")!==-1?P(c.bgColor):T&&T!==a.color.dflt?T:f.color;if(y.coerceFont(o,"tickfont",{family:f.family,size:f.size,color:s}),!c.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&o("ticklabelstep"),c.noAng||o("tickangle"),n!=="category"){var d=o("tickformat");M(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!c.noExp&&!d&&n!=="date"&&(o("showexponent",l),o("exponentformat"),o("minexponent"),o("separatethousands"))}}};function v(p,r){function t(n,c){return y.coerce(p,r,a.tickformatstops,n,c)}var o=t("enabled");o&&(t("dtickrange"),t("value"))}},38701:function(G,H,e){var y=e(71828),P=e(13838);G.exports=function(L,M,v,p){var r=p.isMinor,t=r?L.minor||{}:L,o=r?M.minor:M,n=r?P.minor:P,c=r?"minor.":"",u=y.coerce2(t,o,n,"ticklen",r?(M.ticklen||5)*.6:void 0),l=y.coerce2(t,o,n,"tickwidth",r?M.tickwidth||1:void 0),g=y.coerce2(t,o,n,"tickcolor",(r?M.tickcolor:void 0)||o.color),f=v(c+"ticks",!r&&p.outerTicks||u||l||g?"outside":"");f||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},26218:function(G,H,e){var y=e(66287),P=e(71828).isArrayOrTypedArray,a=e(73627).isTypedArraySpec,L=e(73627).decodeTypedArraySpec;G.exports=function(v,p,r,t,o){o||(o={});var n=o.isMinor,c=n?v.minor||{}:v,u=n?p.minor:p,l=n?"minor.":"";function g(C){var b=c[C];return a(b)&&(b=L(b)),b!==void 0?b:(u._template||{})[C]}var f=g("tick0"),T=g("dtick"),h=g("tickvals"),s=P(h)?"array":T?"linear":"auto",d=r(l+"tickmode",s);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var A=u.dtick=y.dtick(T,t);u.tick0=y.tick0(f,t,p.calendar,A)}else if(t!=="multicategory"){var w=r(l+"tickvals");w===void 0?u.tickmode="auto":n||r("ticktext")}}},66847:function(G,H,e){var y=e(39898),P=e(73972),a=e(71828),L=e(91424),M=e(89298);G.exports=function(p,r,t,o){var n=p._fullLayout;if(r.length===0){M.redrawComponents(p);return}function c(w){var C=w.xaxis,b=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),w.plot.call(L.setTranslate,C._offset,b._offset).call(L.setScale,1,1);var S=w.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(L.setPointGroupScale,1,1),S.selectAll(".textpoint").call(L.setTextPointsScale,1,1),S.call(L.hideOutsideRangePoints,w)}function u(w,C){var b=w.plotinfo,S=b.xaxis,x=b.yaxis,i=S._length,E=x._length,m=!!w.xr1,k=!!w.yr1,I=[];if(m){var U=a.simpleMap(w.xr0,S.r2l),z=a.simpleMap(w.xr1,S.r2l),F=U[1]-U[0],B=z[1]-z[0];I[0]=(U[0]*(1-C)+C*z[0]-U[0])/(U[1]-U[0])*i,I[2]=i*(1-C+C*B/F),S.range[0]=S.l2r(U[0]*(1-C)+C*z[0]),S.range[1]=S.l2r(U[1]*(1-C)+C*z[1])}else I[0]=0,I[2]=i;if(k){var O=a.simpleMap(w.yr0,x.r2l),N=a.simpleMap(w.yr1,x.r2l),Y=O[1]-O[0],$=N[1]-N[0];I[1]=(O[1]*(1-C)+C*N[1]-O[1])/(O[0]-O[1])*E,I[3]=E*(1-C+C*$/Y),x.range[0]=S.l2r(O[0]*(1-C)+C*N[0]),x.range[1]=x.l2r(O[1]*(1-C)+C*N[1])}else I[1]=0,I[3]=E;M.drawOne(p,S,{skipTitle:!0}),M.drawOne(p,x,{skipTitle:!0}),M.redrawComponents(p,[S._id,x._id]);var te=m?i/I[2]:1,ie=k?E/I[3]:1,ce=m?I[0]:0,J=k?I[1]:0,Z=m?I[0]/I[2]*i:0,ae=k?I[1]/I[3]*E:0,j=S._offset-Z,q=x._offset-ae;b.clipRect.call(L.setTranslate,ce,J).call(L.setScale,1/te,1/ie),b.plot.call(L.setTranslate,j,q).call(L.setScale,te,ie),L.setPointGroupScale(b.zoomScalePts,1/te,1/ie),L.setTextPointsScale(b.zoomScaleTxt,1/te,1/ie)}var l;o&&(l=o());function g(){for(var w={},C=0;C<r.length;C++){var b=r[C],S=b.plotinfo.xaxis,x=b.plotinfo.yaxis;b.xr1&&(w[S._name+".range"]=b.xr1.slice()),b.yr1&&(w[x._name+".range"]=b.yr1.slice())}return l&&l(),P.call("relayout",p,w).then(function(){for(var i=0;i<r.length;i++)c(r[i].plotinfo)})}function f(){for(var w={},C=0;C<r.length;C++){var b=r[C],S=b.plotinfo.xaxis,x=b.plotinfo.yaxis;b.xr0&&(w[S._name+".range"]=b.xr0.slice()),b.yr0&&(w[x._name+".range"]=b.yr0.slice())}return P.call("relayout",p,w).then(function(){for(var i=0;i<r.length;i++)c(r[i].plotinfo)})}var T,h,s,d=y.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(s),s=null,f()});function A(){h=Date.now();for(var w=Math.min(1,(h-T)/t.duration),C=d(w),b=0;b<r.length;b++)u(r[b],C);h-T>t.duration?(g(),s=window.cancelAnimationFrame(A)):s=window.requestAnimationFrame(A)}return T=Date.now(),s=window.requestAnimationFrame(A),Promise.resolve()}},951:function(G,H,e){var y=e(73972).traceIs,P=e(4322);G.exports=function(r,t,o,n){o("autotypenumbers",n.autotypenumbersDflt);var c=o("type",(n.splomStash||{}).type);c==="-"&&(a(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function a(p,r){if(p.type==="-"){var t=p._id,o=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=o);var c=L(r,t,o);if(c){if(c.type==="histogram"&&o==={v:"y",h:"x"}[c.orientation||"v"]){p.type="linear";return}var u=o+"calendar",l=c[u],g={noMultiCategory:!y(c,"cartesian")||y(c,"noMultiCategory")};if(c.type==="box"&&c._hasPreCompStats&&o==={h:"x",v:"y"}[c.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=p.autotypenumbers,v(c,o)){var f=M(c),T=[];for(n=0;n<r.length;n++){var h=r[n];!y(h,"box-violin")||(h[o+"axis"]||o)!==t||(h[f]!==void 0?T.push(h[f][0]):h.name!==void 0?T.push(h.name):T.push("text"),h[u]!==l&&(l=void 0))}p.type=P(T,l,g)}else if(c.type==="splom"){var s=c.dimensions,d=s[c._axesDim[t]];d.visible&&(p.type=P(d.values,l,g))}else p.type=P(c[o]||[c[o+"0"]],l,g)}}}function L(p,r,t){for(var o=0;o<p.length;o++){var n=p[o];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function M(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=M(p),o=y(p,"box-violin"),n=y(p._fullInput||{},"candlestick");return o&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},31137:function(G,H,e){var y=e(73972),P=e(71828);H.manageCommandObserver=function(r,t,o,n){var c={},u=!0;t&&t._commandObserver&&(c=t._commandObserver),c.cache||(c.cache={}),c.lookupTable={};var l=H.hasSimpleAPICommandBindings(r,o,c.lookupTable);if(t&&t._commandObserver){if(l)return c;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,c}if(l){a(r,l,c.cache),c.check=function(){if(u){var h=a(r,l,c.cache);return h.changed&&n&&c.lookupTable[h.value]!==void 0&&(c.disable(),Promise.resolve(n({value:h.value,type:l.type,prop:l.prop,traces:l.traces,index:c.lookupTable[h.value]})).then(c.enable,c.enable)),h.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<g.length;f++)r._internalOn(g[f],c.check);c.remove=function(){for(var T=0;T<g.length;T++)r._removeInternalListener(g[T],c.check)}}else P.log("Unable to automatically bind plot updates to API command"),c.lookupTable={},c.remove=function(){};return c.disable=function(){u=!1},c.enable=function(){u=!0},t&&(t._commandObserver=c),c},H.hasSimpleAPICommandBindings=function(r,t,o){var n,c=t.length,u;for(n=0;n<c;n++){var l,g=t[n],f=g.method,T=g.args;if(Array.isArray(T)||(T=[]),!f)return!1;var h=H.computeAPICommandBindings(r,f,T);if(h.length!==1)return!1;if(!u)u=h[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=h[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var s=0;s<u.traces.length;s++)if(u.traces[s]!==l.traces[s])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=h[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;o&&(o[d]=n)}return u};function a(r,t,o){var n,c,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return c=P.nestedProperty(n,t.prop).get(),u=o[t.type]=o[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==c&&(l=!0),u[t.prop]=c,{changed:l,value:c}}H.executeAPICommand=function(r,t,o){if(t==="skip")return Promise.resolve();var n=y.apiMethodRegistry[t],c=[r];Array.isArray(o)||(o=[]);for(var u=0;u<o.length;u++)c.push(o[u]);return n.apply(null,c).catch(function(l){return P.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},H.computeAPICommandBindings=function(r,t,o){var n;switch(Array.isArray(o)||(o=[]),t){case"restyle":n=v(r,o);break;case"relayout":n=M(r,o);break;case"update":n=v(r,[o[0],o[2]]).concat(M(r,[o[1]]));break;case"animate":n=L(r,o);break;default:n=[]}return n};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function M(r,t){var o=[],n=t[0],c={};if(typeof n=="string")c[n]=t[1];else if(P.isPlainObject(n))c=n;else return o;return p(c,function(u,l,g){o.push({type:"layout",prop:u,value:g})},"",0),o}function v(r,t){var o,n,c,u,l=[];if(n=t[0],c=t[1],o=t[2],u={},typeof n=="string")u[n]=c;else if(P.isPlainObject(n))u=n,o===void 0&&(o=c);else return l;return o===void 0&&(o=null),p(u,function(g,f,T){var h,s;if(Array.isArray(T)){s=T.slice();var d=Math.min(s.length,r.data.length);o&&(d=Math.min(d,o.length)),h=[];for(var A=0;A<d;A++)h[A]=o?o[A]:A}else s=T,h=o?o.slice():null;if(h===null)Array.isArray(s)&&(s=s[0]);else if(Array.isArray(h)){if(!Array.isArray(s)){var w=s;s=[];for(var C=0;C<h.length;C++)s[C]=w}s.length=Math.min(h.length,s.length)}l.push({type:"data",prop:g,traces:h,value:s})},"",0),l}function p(r,t,o,n){Object.keys(r).forEach(function(c){var u=r[c];if(c[0]!=="_"){var l=o+(n>0?".":"")+c;P.isPlainObject(u)?p(u,t,l,n+1):t(l,c,u)}})}},27670:function(G,H,e){var y=e(1426).extendFlat;H.Y=function(P,a){P=P||{},a=a||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,a.description&&""+a.description;var M={x:y({},L,{}),y:y({},L,{}),editType:P.editType};return P.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:P.editType},M.column={valType:"integer",min:0,dflt:0,editType:P.editType}),M},H.c=function(P,a,L,M){var v=M&&M.x||[0,1],p=M&&M.y||[0,1],r=a.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var o=L("domain.row");o!==void 0&&(o<r.rows?p=r._domains.y[o]:delete P.domain.row)}var n=L("domain.x",v),c=L("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),c[0]<c[1]||(P.domain.y=p.slice())}},41940:function(G){G.exports=function(H){var e=H.editType,y=H.colorEditType;y===void 0&&(y=e);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:y},editType:e};return H.autoSize&&(P.size.dflt="auto"),H.autoColor&&(P.color.dflt="auto"),H.arrayOk&&(P.family.arrayOk=!0,P.size.arrayOk=!0,P.color.arrayOk=!0),P}},31391:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(G,H){H.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},H.axesNames=["lonaxis","lataxis"],H.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},H.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},H.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},H.clipPad=.001,H.precision=.1,H.landColor="#F0DC82",H.waterColor="#3399FF",H.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},H.sphereSVG={type:"Sphere"},H.fillLayers={ocean:1,land:1,lakes:1},H.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},H.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],H.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],H.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(G,H,e){var y=e(39898),P=e(27362),a=P.geoPath,L=P.geoDistance,M=e(65704),v=e(73972),p=e(71828),r=p.strTranslate,t=e(7901),o=e(91424),n=e(30211),c=e(74875),u=e(89298),l=e(71739).getAutoRange,g=e(28569),f=e(47322).prepSelect,T=e(47322).clearOutline,h=e(47322).selectOnClick,s=e(74455),d=e(78776),A=e(41327),w=e(90973),C=e(96892).zL;function b(m){this.id=m.id,this.graphDiv=m.graphDiv,this.container=m.container,this.topojsonURL=m.topojsonURL,this.isStatic=m.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=b.prototype;G.exports=function(k){return new b(k)},S.plot=function(m,k,I,U){var z=this;if(U)return z.update(m,k,!0);z._geoCalcData=m,z._fullLayout=k;var F=k[this.id],B=[],O=!1;for(var N in d.layerNameToAdjective)if(N!=="frame"&&F["show"+N]){O=!0;break}for(var Y=!1,$=0;$<m.length;$++){var te=m[0][0].trace;te._geo=z,te.locationmode&&(O=!0);var ie=te.marker;if(ie){var ce=ie.angle,J=ie.angleref;(ce||J==="north"||J==="previous")&&(Y=!0)}}if(this._hasMarkerAngles=Y,O){var Z=w.getTopojsonName(F);(z.topojson===null||Z!==z.topojsonName)&&(z.topojsonName=Z,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&B.push(z.fetchTopojson()))}B=B.concat(A.fetchTraceGeoData(m)),I.push(new Promise(function(ae,j){Promise.all(B).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(m,k),ae()}).catch(j)}))},S.fetchTopojson=function(){var m=this,k=w.getTopojsonPath(m.topojsonURL,m.topojsonName);return new Promise(function(I,U){y.json(k,function(z,F){if(z)return z.status===404?U(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):U(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[m.topojsonName]=F,I()})})},S.update=function(m,k,I){var U=k[this.id];this.hasChoropleth=!1;for(var z=0;z<m.length;z++){var F=m[z],B=F[0].trace;B.type==="choropleth"&&(this.hasChoropleth=!0),B.visible===!0&&B._length>0&&B._module.calcGeoJSON(F,k)}if(!I){var O=this.updateProjection(m,k);if(O)return;(!this.viewInitial||this.scope!==U.scope)&&this.saveViewInitial(U)}this.scope=U.scope,this.updateBaseLayers(k,U),this.updateDims(k,U),this.updateFx(k,U),c.generalUpdatePerTraceModule(this.graphDiv,this,m,U);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},S.updateProjection=function(m,k){var I=this.graphDiv,U=k[this.id],z=k._size,F=U.domain,B=U.projection,O=U.lonaxis,N=U.lataxis,Y=O._ax,$=N._ax,te=this.projection=x(U),ie=[[z.l+z.w*F.x[0],z.t+z.h*(1-F.y[1])],[z.l+z.w*F.x[1],z.t+z.h*(1-F.y[0])]],ce=U.center||{},J=B.rotation||{},Z=O.range||[],ae=N.range||[];if(U.fitbounds){Y._length=ie[1][0]-ie[0][0],$._length=ie[1][1]-ie[0][1],Y.range=l(I,Y),$.range=l(I,$);var j=(Y.range[0]+Y.range[1])/2,q=($.range[0]+$.range[1])/2;if(U._isScoped)ce={lon:j,lat:q};else if(U._isClipped){ce={lon:j,lat:q},J={lon:j,lat:q,roll:J.roll};var oe=B.type,Q=d.lonaxisSpan[oe]/2||180,K=d.lataxisSpan[oe]/2||90;Z=[j-Q,j+Q],ae=[q-K,q+K]}else ce={lon:j,lat:q},J={lon:j,lat:J.lat,roll:J.roll}}te.center([ce.lon-J.lon,ce.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(B.parallels);var se=E(Z,ae);te.fitExtent(ie,se);var ne=this.bounds=te.getBounds(se),fe=this.fitScale=te.scale(),ye=te.translate();if(U.fitbounds){var Ee=te.getBounds(E(Y.range,$.range)),Te=Math.min((ne[1][0]-ne[0][0])/(Ee[1][0]-Ee[0][0]),(ne[1][1]-ne[0][1])/(Ee[1][1]-Ee[0][1]));isFinite(Te)?te.scale(Te*fe):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else te.scale(B.scale*fe);var ze=this.midPt=[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2];if(te.translate([ye[0]+(ze[0]-ye[0]),ye[1]+(ze[1]-ye[1])]).clipExtent(ne),U._isAlbersUsa){var ke=te([ce.lon,ce.lat]),Se=te.translate();te.translate([Se[0]-(ke[0]-Se[0]),Se[1]-(ke[1]-Se[1])])}},S.updateBaseLayers=function(m,k){var I=this,U=I.topojson,z=I.layers,F=I.basePaths;function B(ie){return ie==="lonaxis"||ie==="lataxis"}function O(ie){return!!d.lineLayers[ie]}function N(ie){return!!d.fillLayers[ie]}var Y=this.hasChoropleth?d.layersForChoropleth:d.layers,$=Y.filter(function(ie){return O(ie)||N(ie)?k["show"+ie]:B(ie)?k[ie].showgrid:!0}),te=I.framework.selectAll(".layer").data($,String);te.exit().each(function(ie){delete z[ie],delete F[ie],y.select(this).remove()}),te.enter().append("g").attr("class",function(ie){return"layer "+ie}).each(function(ie){var ce=z[ie]=y.select(this);ie==="bg"?I.bgRect=ce.append("rect").style("pointer-events","all"):B(ie)?F[ie]=ce.append("path").style("fill","none"):ie==="backplot"?ce.append("g").classed("choroplethlayer",!0):ie==="frontplot"?ce.append("g").classed("scatterlayer",!0):O(ie)?F[ie]=ce.append("path").style("fill","none").style("stroke-miterlimit",2):N(ie)&&(F[ie]=ce.append("path").style("stroke","none"))}),te.order(),te.each(function(ie){var ce=F[ie],J=d.layerNameToAdjective[ie];ie==="frame"?ce.datum(d.sphereSVG):O(ie)||N(ie)?ce.datum(C(U,U.objects[ie])):B(ie)&&ce.datum(i(ie,k,m)).call(t.stroke,k[ie].gridcolor).call(o.dashLine,k[ie].griddash,k[ie].gridwidth),O(ie)?ce.call(t.stroke,k[J+"color"]).call(o.dashLine,"",k[J+"width"]):N(ie)&&ce.call(t.fill,k[J+"color"])})},S.updateDims=function(m,k){var I=this.bounds,U=(k.framewidth||0)/2,z=I[0][0]-U,F=I[0][1]-U,B=I[1][0]-z+U,O=I[1][1]-F+U;o.setRect(this.clipRect,z,F,B,O),this.bgRect.call(o.setRect,z,F,B,O).call(t.fill,k.bgcolor),this.xaxis._offset=z,this.xaxis._length=B,this.yaxis._offset=F,this.yaxis._length=O},S.updateFx=function(m,k){var I=this,U=I.graphDiv,z=I.bgRect,F=m.dragmode,B=m.clickmode;if(I.isStatic)return;function O(){var te=I.viewInitial,ie={};for(var ce in te)ie[I.id+"."+ce]=te[ce];v.call("_guiRelayout",U,ie),U.emit("plotly_doubleclick",null)}function N(te){return I.projection.invert([te[0]+I.xaxis._offset,te[1]+I.yaxis._offset])}var Y=function(te,ie){if(ie.isRect){var ce=te.range={};ce[I.id]=[N([ie.xmin,ie.ymin]),N([ie.xmax,ie.ymax])]}else{var J=te.lassoPoints={};J[I.id]=ie.map(N)}},$={element:I.bgRect.node(),gd:U,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:Y},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(te){te===2&&T(U)}};F==="pan"?(z.node().onmousedown=null,z.call(s(I,k)),z.on("dblclick.zoom",O),U._context._scrollZoom.geo||z.on("wheel.zoom",null)):(F==="select"||F==="lasso")&&(z.on(".zoom",null),$.prepFn=function(te,ie,ce){f(te,ie,ce,$,F)},g.init($)),z.on("mousemove",function(){var te=I.projection.invert(p.getPositionFromD3Event());if(!te)return g.unhover(U,y.event);I.xaxis.p2c=function(){return te[0]},I.yaxis.p2c=function(){return te[1]},n.hover(U,y.event,I.id)}),z.on("mouseout",function(){U._dragging||g.unhover(U,y.event)}),z.on("click",function(){F!=="select"&&F!=="lasso"&&(B.indexOf("select")>-1&&h(y.event,U,[I.xaxis],[I.yaxis],I.id,$),B.indexOf("event")>-1&&n.click(U,y.event))})},S.makeFramework=function(){var m=this,k=m.graphDiv,I=k._fullLayout,U="clip"+I._uid+m.id;m.clipDef=I._clips.append("clipPath").attr("id",U),m.clipRect=m.clipDef.append("rect"),m.framework=y.select(m.container).append("g").attr("class","geo "+m.id).call(o.setClipUrl,U,k),m.project=function(z){var F=m.projection(z);return F?[F[0]-m.xaxis._offset,F[1]-m.yaxis._offset]:[null,null]},m.xaxis={_id:"x",c2p:function(z){return m.project(z)[0]}},m.yaxis={_id:"y",c2p:function(z){return m.project(z)[1]}},m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(m.mockAxis,I)},S.saveViewInitial=function(m){var k=m.center||{},I=m.projection,U=I.rotation||{};this.viewInitial={fitbounds:m.fitbounds,"projection.scale":I.scale};var z;m._isScoped?z={"center.lon":k.lon,"center.lat":k.lat}:m._isClipped?z={"projection.rotation.lon":U.lon,"projection.rotation.lat":U.lat}:z={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":U.lon},p.extendFlat(this.viewInitial,z)},S.render=function(m){this._hasMarkerAngles&&m?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var m=this.projection,k=m.getPath(),I;function U(F){var B=m(F.lonlat);return B?r(B[0],B[1]):null}function z(F){return m.isLonLatOverEdges(F.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",k);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(F){return k(F.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",z).attr("transform",U)};function x(m){var k=m.projection,I=k.type,U=d.projNames[I];U="geo"+p.titleCase(U);for(var z=P[U]||M[U],F=z(),B=m._isSatellite?Math.acos(1/k.distance)*180/Math.PI:m._isClipped?d.lonaxisSpan[I]/2:null,O=["center","rotate","parallels","clipExtent"],N=function(te){return te?F:[]},Y=0;Y<O.length;Y++){var $=O[Y];typeof F[$]!="function"&&(F[$]=N)}return F.isLonLatOverEdges=function(te){if(F(te)===null)return!0;if(B){var ie=F.rotate(),ce=L(te,[-ie[0],-ie[1]]),J=B*Math.PI/180;return ce>J}else return!1},F.getPath=function(){return a().projection(F)},F.getBounds=function(te){return F.getPath().bounds(te)},F.precision(d.precision),m._isSatellite&&F.tilt(k.tilt).distance(k.distance),B&&F.clipAngle(B-d.clipPad),F}function i(m,k,I){var U=1e-6,z=2.5,F=k[m],B=d.scopeDefaults[k.scope],O,N,Y;m==="lonaxis"?(O=B.lonaxisRange,N=B.lataxisRange,Y=function(q,oe){return[q,oe]}):m==="lataxis"&&(O=B.lataxisRange,N=B.lonaxisRange,Y=function(q,oe){return[oe,q]});var $={type:"linear",range:[O[0],O[1]-U],tick0:F.tick0,dtick:F.dtick};u.setConvert($,I);var te=u.calcTicks($);!k.isScoped&&m==="lonaxis"&&te.pop();for(var ie=te.length,ce=new Array(ie),J=0;J<ie;J++)for(var Z=te[J].x,ae=ce[J]=[],j=N[0];j<N[1]+z;j+=z)ae.push(Y(Z,j));return{type:"MultiLineString",coordinates:ce}}function E(m,k){var I=d.clipPad,U=m[0]+I,z=m[1]-I,F=k[0]+I,B=k[1]-I;U>0&&z<0&&(z+=360);var O=(z-U)/4;return{type:"Polygon",coordinates:[[[U,F],[U,B],[U+O,B],[U+2*O,B],[U+3*O,B],[z,B],[z,F],[z-O,F],[z-2*O,F],[z-3*O,F],[U,F]]]}}},44622:function(G,H,e){var y=e(27659).AU,P=e(71828).counterRegex,a=e(69082),L="geo",M=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(o){for(var n=o._fullLayout,c=o.calcdata,u=n._subplots[L],l=0;l<u.length;l++){var g=u[l],f=y(c,L,g),T=n[g],h=T._subplot;h||(h=a({id:g,graphDiv:o,container:n._geolayer.node(),topojsonURL:o._context.topojsonURL,staticPlot:o._context.staticPlot}),n[g]._subplot=h),h.plot(f,n,o._promises)}}function r(o,n,c,u){for(var l=u._subplots[L]||[],g=0;g<l.length;g++){var f=l[g],T=u[f]._subplot;!n[f]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(o){for(var n=o._fullLayout,c=n._subplots[L],u=0;u<c.length;u++){var l=n[c[u]],g=l._subplot;g.updateFx(n,l)}}G.exports={attr:L,name:L,idRoot:L,idRegex:M,attrRegex:M,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:p,updateFx:t,clean:r}},77519:function(G,H,e){var y=e(22399),P=e(27670).Y,a=e(79952).P,L=e(78776),M=e(30962).overrideAll,v=e(78607),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:y.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},r=G.exports=M({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:y.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:y.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:y.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:y.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:y.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},82161:function(G,H,e){var y=e(71828),P=e(49119),a=e(27659).NG,L=e(78776),M=e(77519),v=L.axesNames;G.exports=function(t,o,n){P(t,o,n,{type:"geo",attributes:M,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,o,n){var c=a(n.fullData,"geo",n.id),u=c.map(function(ae){return ae._expandedIndex}),l=o("resolution"),g=o("scope"),f=L.scopeDefaults[g],T=o("projection.type",f.projType),h=t._isAlbersUsa=T==="albers usa";h&&(g=t.scope="usa");var s=t._isScoped=g!=="world",d=t._isSatellite=T==="satellite",A=t._isConic=T.indexOf("conic")!==-1||T==="albers",w=t._isClipped=!!L.lonaxisSpan[T];if(r.visible===!1){var C=y.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var b=o("visible"),S,x=0;x<v.length;x++){var i=v[x],E=[30,10][x],m;if(s)m=f[i+"Range"];else{var k=L[i+"Span"],I=(k[T]||k["*"])/2,U=o("projection.rotation."+i.substr(0,3),f.projRotate[x]);m=[U-I,U+I]}var z=o(i+".range",m);o(i+".tick0"),o(i+".dtick",E),S=o(i+".showgrid",b?void 0:!1),S&&(o(i+".gridcolor"),o(i+".gridwidth"),o(i+".griddash")),t[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:u,setScale:y.identity,c2l:y.identity,r2l:y.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var F=t.lonaxis.range,B=t.lataxis.range,O=F[0],N=F[1];O>0&&N<0&&(N+=360);var Y=(O+N)/2,$;if(!h){var te=s?f.projRotate:[Y,0,0];$=o("projection.rotation.lon",te[0]),o("projection.rotation.lat",te[1]),o("projection.rotation.roll",te[2]),S=o("showcoastlines",!s&&b),S&&(o("coastlinecolor"),o("coastlinewidth")),S=o("showocean",b?void 0:!1),S&&o("oceancolor")}var ie,ce;if(h?(ie=-96.6,ce=38.7):(ie=s?Y:$,ce=(B[0]+B[1])/2),o("center.lon",ie),o("center.lat",ce),d&&(o("projection.tilt"),o("projection.distance")),A){var J=f.projParallels||[0,60];o("projection.parallels",J)}o("projection.scale"),S=o("showland",b?void 0:!1),S&&o("landcolor"),S=o("showlakes",b?void 0:!1),S&&o("lakecolor"),S=o("showrivers",b?void 0:!1),S&&(o("rivercolor"),o("riverwidth")),S=o("showcountries",s&&g!=="usa"&&b),S&&(o("countrycolor"),o("countrywidth")),(g==="usa"||g==="north america"&&l===50)&&(o("showsubunits",b),o("subunitcolor"),o("subunitwidth")),s||(S=o("showframe",b),S&&(o("framecolor"),o("framewidth"))),o("bgcolor");var Z=o("fitbounds");Z&&(delete t.projection.scale,s?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},74455:function(G,H,e){var y=e(39898),P=e(71828),a=e(73972),L=Math.PI/180,M=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(i,E){var m=i.projection,k;return E._isScoped?k=n:E._isClipped?k=u:k=c,k(i,m)}G.exports=r;function t(i,E){return y.behavior.zoom().translate(E.translate()).scale(E.scale())}function o(i,E,m){var k=i.id,I=i.graphDiv,U=I.layout,z=U[k],F=I._fullLayout,B=F[k],O={},N={};function Y($,te){O[k+"."+$]=P.nestedProperty(z,$).get(),a.call("_storeDirectGUIEdit",U,F._preGUI,O);var ie=P.nestedProperty(B,$);ie.get()!==te&&(ie.set(te),P.nestedProperty(z,$).set(te),N[k+"."+$]=te)}m(Y),Y("projection.scale",E.scale()/i.fitScale),Y("fitbounds",!1),I.emit("plotly_relayout",N)}function n(i,E){var m=t(i,E);function k(){y.select(this).style(v)}function I(){E.scale(y.event.scale).translate(y.event.translate),i.render(!0);var F=E.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1]})}function U(F){var B=E.invert(i.midPt);F("center.lon",B[0]),F("center.lat",B[1])}function z(){y.select(this).style(p),o(i,E,U)}return m.on("zoomstart",k).on("zoom",I).on("zoomend",z),m}function c(i,E){var m=t(i,E),k=2,I,U,z,F,B,O,N,Y,$;function te(j){return E.invert(j)}function ie(j){var q=te(j);if(!q)return!0;var oe=E(q);return Math.abs(oe[0]-j[0])>k||Math.abs(oe[1]-j[1])>k}function ce(){y.select(this).style(v),I=y.mouse(this),U=E.rotate(),z=E.translate(),F=U,B=te(I)}function J(){if(O=y.mouse(this),ie(I)){m.scale(E.scale()),m.translate(E.translate());return}E.scale(y.event.scale),E.translate([z[0],y.event.translate[1]]),B?te(O)&&(Y=te(O),N=[F[0]+(Y[0]-B[0]),U[1],U[2]],E.rotate(N),F=N):(I=O,B=te(I)),$=!0,i.render(!0);var j=E.rotate(),q=E.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-j[0]})}function Z(){y.select(this).style(p),$&&o(i,E,ae)}function ae(j){var q=E.rotate(),oe=E.invert(i.midPt);j("projection.rotation.lon",-q[0]),j("center.lon",oe[0]),j("center.lat",oe[1])}return m.on("zoomstart",ce).on("zoom",J).on("zoomend",Z),m}function u(i,E){E.rotate(),E.scale();var m=t(i,E),k=x(m,"zoomstart","zoom","zoomend"),I=0,U=m.on,z;m.on("zoomstart",function(){y.select(this).style(v);var Y=y.mouse(this),$=E.rotate(),te=$,ie=E.translate(),ce=g($);z=l(E,Y),U.call(m,"zoom",function(){var J=y.mouse(this);if(E.scale(y.event.scale),!z)Y=J,z=l(E,Y);else if(l(E,J)){E.rotate($).translate(ie);var Z=l(E,J),ae=T(z,Z),j=w(f(ce,ae)),q=h(j,z,te);(!isFinite(q[0])||!isFinite(q[1])||!isFinite(q[2]))&&(q=te),E.rotate(q),te=q}B(k.of(this,arguments))}),F(k.of(this,arguments))}).on("zoomend",function(){y.select(this).style(p),U.call(m,"zoom",null),O(k.of(this,arguments)),o(i,E,N)}).on("zoom.redraw",function(){i.render(!0);var Y=E.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.projection.rotation.lon":-Y[0],"geo.projection.rotation.lat":-Y[1]})});function F(Y){I++||Y({type:"zoomstart"})}function B(Y){Y({type:"zoom"})}function O(Y){--I||Y({type:"zoomend"})}function N(Y){var $=E.rotate();Y("projection.rotation.lon",-$[0]),Y("projection.rotation.lat",-$[1])}return y.rebind(m,k,"on")}function l(i,E){var m=i.invert(E);return m&&isFinite(m[0])&&isFinite(m[1])&&C(m)}function g(i){var E=.5*i[0]*L,m=.5*i[1]*L,k=.5*i[2]*L,I=Math.sin(E),U=Math.cos(E),z=Math.sin(m),F=Math.cos(m),B=Math.sin(k),O=Math.cos(k);return[U*F*O+I*z*B,I*F*O-U*z*B,U*z*O+I*F*B,U*F*B-I*z*O]}function f(i,E){var m=i[0],k=i[1],I=i[2],U=i[3],z=E[0],F=E[1],B=E[2],O=E[3];return[m*z-k*F-I*B-U*O,m*F+k*z+I*O-U*B,m*B-k*O+I*z+U*F,m*O+k*B-I*F+U*z]}function T(i,E){if(!(!i||!E)){var m=S(i,E),k=Math.sqrt(b(m,m)),I=.5*Math.acos(Math.max(-1,Math.min(1,b(i,E)))),U=Math.sin(I)/k;return k&&[Math.cos(I),m[2]*U,-m[1]*U,m[0]*U]}}function h(i,E,m){var k=A(E,2,i[0]);k=A(k,1,i[1]),k=A(k,0,i[2]-m[2]);var I=E[0],U=E[1],z=E[2],F=k[0],B=k[1],O=k[2],N=Math.atan2(U,I)*M,Y=Math.sqrt(I*I+U*U),$,te;Math.abs(B)>Y?(te=(B>0?90:-90)-N,$=0):(te=Math.asin(B/Y)*M-N,$=Math.sqrt(Y*Y-B*B));var ie=180-te-2*N,ce=(Math.atan2(O,F)-Math.atan2(z,$))*M,J=(Math.atan2(O,F)-Math.atan2(z,-$))*M,Z=s(m[0],m[1],te,ce),ae=s(m[0],m[1],ie,J);return Z<=ae?[te,ce,m[2]]:[ie,J,m[2]]}function s(i,E,m,k){var I=d(m-i),U=d(k-E);return Math.sqrt(I*I+U*U)}function d(i){return(i%360+540)%360-180}function A(i,E,m){var k=m*L,I=i.slice(),U=E===0?1:0,z=E===2?1:2,F=Math.cos(k),B=Math.sin(k);return I[U]=i[U]*F-i[z]*B,I[z]=i[z]*F+i[U]*B,I}function w(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*M,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*M]}function C(i){var E=i[0]*L,m=i[1]*L,k=Math.cos(m);return[k*Math.cos(E),k*Math.sin(E),Math.sin(m)]}function b(i,E){for(var m=0,k=0,I=i.length;k<I;++k)m+=i[k]*E[k];return m}function S(i,E){return[i[1]*E[2]-i[2]*E[1],i[2]*E[0]-i[0]*E[2],i[0]*E[1]-i[1]*E[0]]}function x(i){for(var E=0,m=arguments.length,k=[];++E<m;)k.push(arguments[E]);var I=y.dispatch.apply(null,k);return I.of=function(U,z){return function(F){var B;try{B=F.sourceEvent=y.event,F.target=i,y.event=F,I[F.type].apply(U,z)}finally{y.event=B}}},I}},27659:function(G,H,e){var y=e(73972),P=e(85555).SUBPLOT_PATTERN;H.AU=function(a,L,M){var v=y.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,r=[],t=0;t<a.length;t++){var o=a[t],n=o[0].trace;n[p]===M&&r.push(o)}return r},H.a0=function(a,L){var M=[],v=[],p;if(typeof L=="string"?p=y.getModule(L).plot:typeof L=="function"?p=L:p=L.plot,!p)return[M,a];for(var r=0;r<a.length;r++){var t=a[r],o=t[0].trace;o.visible!==!0||o._length===0||(o._module&&o._module.plot===p?M.push(t):v.push(t))}return[M,v]},H.NG=function(L,M,v){if(!y.subplotsRegistry[M])return[];var p=y.subplotsRegistry[M].attr,r=[],t,o,n;if(M==="gl2d"){var c=v.match(P);o="x"+c[1],n="y"+c[2]}for(var u=0;u<L.length;u++)t=L[u],M==="gl2d"&&y.traceIs(t,"gl2d")?t[p[0]]===o&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},75071:function(G,H,e){var y=e(16825),P=e(1195),a=e(48956),L=e(85555),M=e(38520);G.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,o=r.glplot,n=new v(t,o);function c(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,f=r.xaxis._id,T=r.yaxis._id,h=0;h<g.length;h++)if(g[h][f]!==-1){if(g[h][T]!==-1)return!0;break}return!1}n.mouseListener=y(t,l),t.addEventListener("touchstart",function(g){var f=a(g.changedTouches[0],t);l(0,f[0],f[1]),l(1,f[0],f[1]),g.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchmove",function(g){g.preventDefault();var f=a(g.changedTouches[0],t);l(1,f[0],f[1]),g.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchend",function(g){l(0,n.lastPos[0],n.lastPos[1]),g.preventDefault()},M?{passive:!1}:!1);function l(g,f,T){var h=r.calcDataBox(),s=o.viewBox,d=n.lastPos[0],A=n.lastPos[1],w=L.MINDRAG*o.pixelRatio,C=L.MINZOOM*o.pixelRatio,b,S;f*=o.pixelRatio,T*=o.pixelRatio,T=s[3]-s[1]-T;function x(U,z,F){var B=Math.min(z,F),O=Math.max(z,F);B!==O?(h[U]=B,h[U+2]=O,n.dataBox=h,r.setRanges(h)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(g){var i=f/(s[2]-s[0])*(h[2]-h[0])+h[0],E=T/(s[3]-s[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=i,n.boxStart[1]=E,n.dragStart[0]=f,n.dragStart[1]=T),n.boxEnd[0]=i,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var m=Math.abs(n.dragStart[0]-f)<C,k=Math.abs(n.dragStart[1]-T)<C;if(u()&&!(m&&k)){b=n.boxEnd[0]-n.boxStart[0],S=n.boxEnd[1]-n.boxStart[1];var I=(h[3]-h[1])/(h[2]-h[0]);Math.abs(b*I)>Math.abs(S)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(b)*I*(S>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(S)/I*(b>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(I)))}else m&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(b=n.boxStart[0]!==n.boxEnd[0],S=n.boxStart[1]!==n.boxEnd[1],b||S?(b&&(x(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),S&&(x(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,g?(n.panning||(n.dragStart[0]=f,n.dragStart[1]=T),Math.abs(n.dragStart[0]-f)<w&&(f=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<w&&(T=n.dragStart[1]),b=(d-f)*(h[2]-h[0])/(o.viewBox[2]-o.viewBox[0]),S=(A-T)*(h[3]-h[1])/(o.viewBox[3]-o.viewBox[1]),h[0]+=b,h[2]+=b,h[1]+=S,h[3]+=S,r.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),c(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=f,n.lastPos[1]=T}return n.wheelListener=P(t,function(g,f){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),h=o.viewBox,s=n.lastPos[0],d=n.lastPos[1],A=Math.exp(5*f/(h[3]-h[1])),w=s/(h[2]-h[0])*(T[2]-T[0])+T[0],C=d/(h[3]-h[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-w)*A+w,T[2]=(T[2]-w)*A+w,T[1]=(T[1]-C)*A+C,T[3]=(T[3]-C)*A+C,r.setRanges(T),n.lastInputTime=Date.now(),c(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},82961:function(G,H,e){var y=e(89298),P=e(78614);function a(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=a.prototype,M=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,o,n,c,u,l,g,f,T,h;for(T=0;T<2;++T){r=M[T];var s=r.charAt(0);for(t=p[this.scene[r]._name],o=t.title.text===this.scene.fullLayout._dfltTitle[s]?"":t.title.text,h=0;h<=2;h+=2)this.labelEnable[T+h]=!1,this.labels[T+h]=o,this.labelColor[T+h]=P(t.title.font.color),this.labelFont[T+h]=t.title.font.family,this.labelSize[T+h]=t.title.font.size,this.labelPad[T+h]=this.getLabelPad(r,t),this.tickEnable[T+h]=!1,this.tickColor[T+h]=P((t.tickfont||{}).color),this.tickAngle[T+h]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+h]=this.getTickPad(t),this.tickMarkLength[T+h]=0,this.tickMarkWidth[T+h]=t.tickwidth||0,this.tickMarkColor[T+h]=P(t.tickcolor),this.borderLineEnable[T+h]=!1,this.borderLineColor[T+h]=P(t.linecolor),this.borderLineWidth[T+h]=t.linewidth||0;l=this.hasSharedAxis(t),c=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,g=l?String(n).indexOf("all")!==-1:!!n,f=l?n==="allticks":String(n).indexOf("ticks")!==-1,c?this.labelEnable[T]=!0:u&&(this.labelEnable[T+2]=!0),c?this.tickEnable[T]=t.showticklabels:u&&(this.tickEnable[T+2]=t.showticklabels),(c||g)&&(this.borderLineEnable[T]=t.showline),(u||g)&&(this.borderLineEnable[T+2]=t.showline),(c||f)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(u||f)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=P(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=P(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},L.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,o=y.findSubplotsWithAxis(t,p);return o.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},L.getLabelPad=function(p,r){var t=1.5,o=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+o*(t+(n?1:0)):-10+o*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+o*(t+(n?1:.5)):10+o*(t+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new a(p)}G.exports=v},4796:function(G,H,e){var y=e(30962).overrideAll,P=e(92918),a=e(10820),L=e(77922),M=e(85555),v=e(93612),p=e(528),r=e(27659).NG;H.name="gl2d",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=M.idRegex,H.attrRegex=M.attrRegex,H.attributes=e(89502),H.supplyLayoutDefaults=function(t,o,n){o._has("cartesian")||v.supplyLayoutDefaults(t,o,n)},H.layoutAttrOverrides=y(v.layoutAttributes,"plot","from-root"),H.baseLayoutAttrOverrides=y({plot_bgcolor:a.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),H.plot=function(o){for(var n=o._fullLayout,c=o._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var g=u[l],f=n._plots[g],T=r(c,"gl2d",g),h=f._scene2d;h===void 0&&(h=new P({id:g,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio},n),f._scene2d=h),h.plot(T,o.calcdata,n,o.layout)}},H.clean=function(t,o,n,c){for(var u=c._subplots.gl2d||[],l=0;l<u.length;l++){var g=u[l],f=c._plots[g];if(f._scene2d){var T=r(t,"gl2d",g);T.length===0&&(f._scene2d.destroy(),delete c._plots[g])}}v.clean.apply(this,arguments)},H.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},H.toSVG=function(t){for(var o=t._fullLayout,n=o._subplots.gl2d,c=0;c<n.length;c++){var u=o._plots[n[c]],l=u._scene2d,g=l.toImage("png"),f=o._glimages.append("svg:image");f.attr({xmlns:L.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},H.updateFx=function(t){for(var o=t._fullLayout,n=o._subplots.gl2d,c=0;c<n.length;c++){var u=o._plots[n[c]]._scene2d;u.updateFx(o.dragmode)}}},92918:function(G,H,e){var y=e(73972),P=e(89298),a=e(30211),L=e(9330).gl_plot2d,M=e(9330).gl_spikes2d,v=e(9330).gl_select_box,p=e(40372),r=e(82961),t=e(75071),o=e(58617),n=e(99082),c=n.enforce,u=n.clean,l=e(71739).doAutoRange,g=e(64505),f=g.drawMode,T=g.selectMode,h=["xaxis","yaxis"],s,d,A=e(85555).SUBPLOT_PATTERN;function w(S,x){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(x),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(x),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=M(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=w;var C=w.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(s=document.createElement("canvas"),d=p({canvas:s,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=s,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),x=p({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!x){o(this),this.stopped=!0;return}this.canvas=S,this.gl=x}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var m=this.mouseContainer=document.createElement("div");m.style.position="absolute",m.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(E),k.appendChild(m);var I=this;m.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),m.addEventListener("mouseover",function(){I.isMouseOver=!0})},C.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(s),this.updateSize(this.canvas);var x=this.glplot.gl,i=x.drawingBufferWidth,E=x.drawingBufferHeight;x.clearColor(1,1,1,0),x.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),x.bindFramebuffer(x.FRAMEBUFFER,null);var m=new Uint8Array(i*E*4);x.readPixels(0,0,i,E,x.RGBA,x.UNSIGNED_BYTE,m);for(var k=0,I=E-1;k<I;++k,--I)for(var U=0;U<i;++U)for(var z=0;z<4;++z){var F=m[4*(i*k+U)+z];m[4*(i*k+U)+z]=m[4*(i*I+U)+z],m[4*(i*I+U)+z]=F}var B=document.createElement("canvas");B.width=i,B.height=E;var O=B.getContext("2d",{willReadFrequently:!0}),N=O.createImageData(i,E);N.data.set(m),O.putImageData(N,0,0);var Y;switch(S){case"jpeg":Y=B.toDataURL("image/jpeg");break;case"webp":Y=B.toDataURL("image/webp");break;default:Y=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(s),Y},C.updateSize=function(S){S||(S=this.canvas);var x=this.pixelRatio,i=this.fullLayout,E=i.width,m=i.height,k=Math.ceil(x*E)|0,I=Math.ceil(x*m)|0;return(S.width!==k||S.height!==I)&&(S.width=k,S.height=I),S},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],x=0;x<2;++x)for(var i=0;i<S[x].length;++i)S[x][i].text=S[x][i].text+"";return S};function b(S,x){for(var i=0;i<2;++i){var E=S[i],m=x[i];if(E.length!==m.length)return!0;for(var k=0;k<E.length;++k)if(E[k].x!==m[k].x)return!0}return!1}C.updateRefs=function(S){this.fullLayout=S;var x=this.id.match(A),i="xaxis"+x[1],E="yaxis"+x[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[E]},C.relayoutCallback=function(){var S=this.graphDiv,x=this.xaxis,i=this.yaxis,E=S.layout,m={},k=m[x._name+".range"]=x.range.slice(),I=m[i._name+".range"]=i.range.slice();m[x._name+".autorange"]=x.autorange,m[i._name+".autorange"]=i.autorange,y.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,m);var U=E[x._name];U.range=k,U.autorange=x.autorange;var z=E[i._name];z.range=I,z.autorange=i.autorange,m.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",m)},C.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var x=this.computeTickMarks(),i=this.glplotOptions.ticks;b(x,i)&&(this.glplotOptions.ticks=x,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var S=this.graphDiv,x=this.fullLayout.annotations,i=0;i<x.length;i++){var E=x[i];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&y.getComponentMethod("annotations","drawOne")(S,i)}},C.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(x){S[x].dispose(),delete S[x]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(S,x,i){var E=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,x),this.updateFx(i.dragmode);var m=i.width,k=i.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(i),I.screenBox=[0,0,m,k];var U={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};u(U,this.xaxis),u(U,this.yaxis);var z=i._size,F=this.xaxis.domain,B=this.yaxis.domain;I.viewBox=[z.l+F[0]*z.w,z.b+B[0]*z.h,m-z.r-(1-F[1])*z.w,k-z.t-(1-B[1])*z.h],this.mouseContainer.style.width=z.w*(F[1]-F[0])+"px",this.mouseContainer.style.height=z.h*(B[1]-B[0])+"px",this.mouseContainer.height=z.h*(B[1]-B[0]),this.mouseContainer.style.left=z.l+F[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-B[1])*z.h+"px";var O,N;for(N=0;N<2;++N)O=this[h[N]],O._length=I.viewBox[N+2]-I.viewBox[N],l(this.graphDiv,O),O.setScale();c(U),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(i),E.update(I),this.glplot.draw()},C.calcDataBox=function(){var S=this.xaxis,x=this.yaxis,i=S.range,E=x.range,m=S.r2l,k=x.r2l;return[m(i[0]),k(E[0]),m(i[1]),k(E[1])]},C.setRanges=function(S){var x=this.xaxis,i=this.yaxis,E=x.l2r,m=i.l2r;x.range=[E(S[0]),E(S[2])],i.range=[m(S[1]),m(S[3])]},C.updateTraces=function(S,x){var i=Object.keys(this.traces),E,m,k;this.fullData=S;e:for(E=0;E<i.length;E++){var I=i[E],U=this.traces[I];for(m=0;m<S.length;m++)if(k=S[m],k.uid===I&&k.type===U.type)continue e;U.dispose(),delete this.traces[I]}for(E=0;E<S.length;E++){k=S[E];var z=x[E],F=this.traces[k.uid];F?F.update(k,z):(F=k._module.plot(this,k,z),this.traces[k.uid]=F)}this.glplot.objects.sort(function(B,O){return B._trace.index-O._trace.index})},C.updateFx=function(S){T(S)||f(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(S,x){for(var i=S.trace.uid,E=S.pointIndex,m,k=0;k<this.fullData.length;k++)this.fullData[k].uid===i&&(m=this.fullData[k]);var I={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:m.index,pointNumber:E,data:m._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(I,m,E),this.graphDiv.emit(x,{points:[I]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,x=this.camera,i=x.mouseListener,E=this.lastButtonState===1&&i.buttons===0,m=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var k=i.x*S.pixelRatio,I=this.canvas.height-S.pixelRatio*i.y,U;if(x.boxEnabled&&m.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(x.boxStart[0],x.boxEnd[0]),Math.min(x.boxStart[1],x.boxEnd[1]),Math.max(x.boxStart[0],x.boxEnd[0]),Math.max(x.boxStart[1],x.boxEnd[1])],F=0;F<2;F++)x.boxStart[F]===x.boxEnd[F]&&(z[F]=S.dataBox[F],z[F+2]=S.dataBox[F+2]);S.setDirty()}else if(!x.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=m._size,O=this.xaxis.domain,N=this.yaxis.domain;U=S.pick(k/S.pixelRatio+B.l+O[0]*B.w,I/S.pixelRatio-(B.t+(1-N[1])*B.h));var Y=U&&U.object._trace.handlePick(U);if(Y&&E&&this.emitPointAction(Y,"plotly_click"),U&&U.object._trace.hoverinfo!=="skip"&&m.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var $=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:U.dataCoord}),$.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(U.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(U.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(Y,"plotly_hover");var te=this.fullData[$.trace.index]||{},ie=$.pointIndex,ce=a.castHoverinfo(te,m,ie);if(ce&&ce!=="all"){var J=ce.split("+");J.indexOf("x")===-1&&($.traceCoord[0]=void 0),J.indexOf("y")===-1&&($.traceCoord[1]=void 0),J.indexOf("z")===-1&&($.traceCoord[2]=void 0),J.indexOf("text")===-1&&($.textLabel=void 0),J.indexOf("name")===-1&&($.name=void 0)}a.loneHover({x:$.screenCoord[0],y:$.screenCoord[1],xLabel:this.hoverFormatter("xaxis",$.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",$.traceCoord[1]),zLabel:$.traceCoord[2],text:$.textLabel,name:$.name,color:a.castHoverOption(te,ie,"bgcolor")||$.color,borderColor:a.castHoverOption(te,ie,"bordercolor"),fontFamily:a.castHoverOption(te,ie,"font.family"),fontSize:a.castHoverOption(te,ie,"font.size"),fontColor:a.castHoverOption(te,ie,"font.color"),nameLength:a.castHoverOption(te,ie,"namelength"),textAlign:a.castHoverOption(te,ie,"align")},{container:this.svgContainer,gd:this.graphDiv})}}U||this.unhover(),S.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},C.hoverFormatter=function(S,x){if(x!==void 0){var i=this[S];return P.tickText(i,i.c2l(x),"hover").text}}},58547:function(G,H,e){var y=e(30962).overrideAll,P=e(528),a=e(33539),L=e(27659).NG,M=e(71828),v=e(77922),p="gl3d",r="scene";H.name=p,H.attr=r,H.idRoot=r,H.idRegex=H.attrRegex=M.counterRegex("scene"),H.attributes=e(59084),H.layoutAttributes=e(65500),H.baseLayoutAttrOverrides=y({hoverlabel:P.hoverlabel},"plot","nested"),H.supplyLayoutDefaults=e(24682),H.plot=function(o){for(var n=o._fullLayout,c=o._fullData,u=n._subplots[p],l=0;l<u.length;l++){var g=u[l],f=L(c,p,g),T=n[g],h=T.camera,s=T._scene;s||(s=new a({id:g,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio,camera:h},n),T._scene=s),s.viewInitial||(s.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),s.plot(f,n,o.layout)}},H.clean=function(t,o,n,c){for(var u=c._subplots[p]||[],l=0;l<u.length;l++){var g=u[l];!o[g]&&c[g]._scene&&(c[g]._scene.destroy(),c._infolayer&&c._infolayer.selectAll(".annotation-"+g).remove())}},H.toSVG=function(t){for(var o=t._fullLayout,n=o._subplots[p],c=o._size,u=0;u<n.length;u++){var l=o[n[u]],g=l.domain,f=l._scene,T=f.toImage("png"),h=o._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":T,x:c.l+c.w*g.x[0],y:c.t+c.h*(1-g.y[1]),width:c.w*(g.x[1]-g.x[0]),height:c.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),f.destroy()}},H.cleanId=function(o){if(o.match(/^scene[0-9]*$/)){var n=o.substr(5);return n==="1"&&(n=""),r+n}},H.updateFx=function(t){for(var o=t._fullLayout,n=o._subplots[p],c=0;c<n.length;c++){var u=o[n[c]]._scene;u.updateFx(o.dragmode,o.hovermode)}}},59084:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(G,H,e){var y=e(7901),P=e(13838),a=e(1426).extendFlat,L=e(30962).overrideAll;G.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:y.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:a({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:a({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:a({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},3277:function(G,H,e){var y=e(84267).mix,P=e(71828),a=e(44467),L=e(77894),M=e(951),v=e(71453),p=["xaxis","yaxis","zaxis"],r=100*136/187;G.exports=function(o,n,c){var u,l;function g(h,s){return P.coerce(u,l,L,h,s)}for(var f=0;f<p.length;f++){var T=p[f];u=o[T]||{},l=a.newContainer(n,T),l._id=T[0]+c.scene,l._name=T,M(u,l,g,c),v(u,l,g,{font:c.font,letter:T[0],data:c.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:c.bgColor,calendar:c.calendar},c.fullLayout),g("gridcolor",y(l.color,c.bgColor,r).toRgbString()),g("title.text",T[0]),l.setScale=P.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",l.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},30422:function(G,H,e){var y=e(78614),P=e(71828),a=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var M=L.prototype;M.merge=function(p,r){for(var t=this,o=0;o<3;++o){var n=r[a[o]];if(!n.visible){t.tickEnable[o]=!1,t.labelEnable[o]=!1,t.lineEnable[o]=!1,t.lineTickEnable[o]=!1,t.gridEnable[o]=!1,t.zeroEnable[o]=!1,t.backgroundEnable[o]=!1;continue}t.labels[o]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[o]=y(n.title.font.color)),n.title.font.family&&(t.labelFont[o]=n.title.font.family),n.title.font.size&&(t.labelSize[o]=n.title.font.size)),"showline"in n&&(t.lineEnable[o]=n.showline),"linecolor"in n&&(t.lineColor[o]=y(n.linecolor)),"linewidth"in n&&(t.lineWidth[o]=n.linewidth),"showgrid"in n&&(t.gridEnable[o]=n.showgrid),"gridcolor"in n&&(t.gridColor[o]=y(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[o]=n.gridwidth),n.type==="log"?t.zeroEnable[o]=!1:"zeroline"in n&&(t.zeroEnable[o]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[o]=y(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[o]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[o]=!0:t.lineTickEnable[o]=!1,"ticklen"in n&&(t.lineTickLength[o]=t._defaultLineTickLength[o]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[o]=y(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[o]=n.tickwidth),"tickangle"in n&&(t.tickAngle[o]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[o]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[o]=y(n.tickfont.color)),n.tickfont.family&&(t.tickFont[o]=n.tickfont.family),n.tickfont.size&&(t.tickSize[o]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[o]=!0,t.lineMirror[o]=!0):n.mirror===!0?(t.lineTickMirror[o]=!1,t.lineMirror[o]=!0):(t.lineTickMirror[o]=!1,t.lineMirror[o]=!1):t.lineMirror[o]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[o]=!0,t.backgroundColor[o]=y(n.backgroundcolor)):t.backgroundEnable[o]=!1}};function v(p,r){var t=new L;return t.merge(p,r),t}G.exports=v},24682:function(G,H,e){var y=e(71828),P=e(7901),a=e(73972),L=e(49119),M=e(3277),v=e(65500),p=e(27659).NG,r="gl3d";G.exports=function(n,c,u){var l=c._basePlotModules.length>1;function g(f){if(!l){var T=y.validate(n[f],v[f]);if(T)return n[f]}}L(n,c,u,{type:r,attributes:v,handleDefaults:t,fullLayout:c,font:c.font,fullData:u,getDfltFromLayout:g,autotypenumbersDflt:c.autotypenumbers,paper_bgcolor:c.paper_bgcolor,calendar:c.calendar})};function t(o,n,c,u){for(var l=c("bgcolor"),g=P.combine(l,u.paper_bgcolor),f=["up","center","eye"],T=0;T<f.length;T++)c("camera."+f[T]+".x"),c("camera."+f[T]+".y"),c("camera."+f[T]+".z");c("camera.projection.type");var h=!!c("aspectratio.x")&&!!c("aspectratio.y")&&!!c("aspectratio.z"),s=h?"manual":"auto",d=c("aspectmode",s);h||(o.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),o.aspectmode=n.aspectmode);var A=p(u.fullData,r,u.id);M(o,n,{font:u.font,scene:u.id,data:A,bgColor:g,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(o,n,u);var w=u.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",o.camera&&o.camera.up){var C=o.camera.up.x,b=o.camera.up.y,S=o.camera.up.z;S!==0&&(!C||!b||!S||S/Math.sqrt(C*C+b*b+S*S)>.999)&&(w="turntable")}else w="turntable";c("dragmode",w),c("hovermode",u.getDfltFromLayout("hovermode"))}},65500:function(G,H,e){var y=e(77894),P=e(27670).Y,a=e(1426).extendFlat,L=e(71828).counterRegex;function M(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(M(0,0,1),{}),center:a(M(0,0,0),{}),eye:a(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:y,yaxis:y,zaxis:y,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(G,H,e){var y=e(78614),P=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=a.prototype;L.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=y(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function M(v){var p=new a;return p.merge(v),p}G.exports=M},96085:function(G,H,e){G.exports=M;var y=e(89298),P=e(71828),a=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],o=new Array(t.length),n=0;n<t.length;++n)o[n]=t[n].x;p[r]=o}return p}function M(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,o=[[],[],[]],n=0;n<3;++n){var c=t[a[n]];if(c._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(c._length)===1/0||isNaN(c._length))o[n]=[];else{c._input_range=c.range.slice(),c.range[0]=r[n].lo/v.dataScale[n],c.range[1]=r[n].hi/v.dataScale[n],c._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),c.range[0]===c.range[1]&&(c.range[0]-=1,c.range[1]+=1);var u=c.tickmode;if(c.tickmode==="auto"){c.tickmode="linear";var l=c.nticks||P.constrain(c._length/40,4,9);y.autoTicks(c,Math.abs(c.range[1]-c.range[0])/l)}for(var g=y.calcTicks(c,{msUTC:!0}),f=0;f<g.length;++f)g[f].x=g[f].x*v.dataScale[n],c.type==="date"&&(g[f].text=g[f].text.replace(/\<br\>/g," "));o[n]=g,c.tickmode=u}}p.ticks=o;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var f=0;f<2;++f)p.bounds[f][n]=v.glplot.bounds[f][n]}v.contourLevels=L(o)}},63538:function(G){function H(y,P){var a=[0,0,0,0],L,M;for(L=0;L<4;++L)for(M=0;M<4;++M)a[M]+=y[4*L+M]*P[L];return a}function e(y,P){var a=H(y.projection,H(y.view,H(y.model,[P[0],P[1],P[2],1])));return a}G.exports=e},33539:function(G,H,e){var y=e(9330).gl_plot3d,P=y.createCamera,a=y.createScene,L=e(40372),M=e(38520),v=e(73972),p=e(71828),r=p.preserveDrawingBuffer(),t=e(89298),o=e(30211),n=e(78614),c=e(58617),u=e(63538),l=e(30422),g=e(13133),f=e(96085),T=e(71739).applyAutorangeOptions,h,s,d=!1;function A(I,U){var z=document.createElement("div"),F=I.container;this.graphDiv=I.graphDiv;var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",B.style["z-index"]=20,B.style["pointer-events"]="none",z.appendChild(B),this.svgContainer=B,z.id=I.id,z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",F.appendChild(z),this.fullLayout=U,this.id=I.id||"scene",this.fullSceneLayout=U[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(U,U[this.id]),this.spikeOptions=g(U[this.id]),this.container=z,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=A.prototype;w.prepareOptions=function(){var I=this,U={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!s&&(h=document.createElement("canvas"),s=L({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!s))throw new Error("error creating static canvas/context for image server");U.gl=s,U.canvas=h}return U};var C=!0;w.tryCreatePlot=function(){var I=this,U=I.prepareOptions(),z=!0;try{I.glplot=a(U)}catch{if(I.staticMode||!C||r)z=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=U.glOptions.preserveDrawingBuffer=!0,I.glplot=a(U)}catch{r=U.glOptions.preserveDrawingBuffer=!1,z=!1}}}return C=!1,z},w.initializeGLCamera=function(){var I=this,U=I.fullSceneLayout.camera,z=U.projection.type==="orthographic";I.camera=P(I.container,{center:[U.center.x,U.center.y,U.center.z],eye:[U.eye.x,U.eye.y,U.eye.z],up:[U.up.x,U.up.y,U.up.z],_ortho:z,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var U=I.tryCreatePlot();if(!U)return c(I);I.traces={},I.make4thDimension();var z=I.graphDiv,F=z.layout,B=function(){var N={};return I.isCameraChanged(F)&&(N[I.id+".camera"]=I.getCamera()),I.isAspectChanged(F)&&(N[I.id+".aspectratio"]=I.glplot.getAspectratio(),F[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=F[I.id].aspectmode=N[I.id+".aspectmode"]="manual")),N},O=function(N){if(N.fullSceneLayout.dragmode!==!1){var Y=B();N.saveLayout(F),N.graphDiv.emit("plotly_relayout",Y)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){O(I)}),I.glplot.canvas.addEventListener("touchstart",function(){d=!0}),I.glplot.canvas.addEventListener("wheel",function(N){if(z._context._scrollZoom.gl3d){if(I.camera._ortho){var Y=N.deltaX>N.deltaY?1.1:.9090909090909091,$=I.glplot.getAspectratio();I.glplot.setAspectratio({x:Y*$.x,y:Y*$.y,z:Y*$.z})}O(I)}},M?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var N=B();I.graphDiv.emit("plotly_relayouting",N)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(N){z&&z.emit&&z.emit("plotly_webglcontextlost",{event:N,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},w.render=function(){var I=this,U=I.graphDiv,z,F=I.svgContainer,B=I.container.getBoundingClientRect();U._fullLayout._calcInverseTransform(U);var O=U._fullLayout._invScaleX,N=U._fullLayout._invScaleY,Y=B.width*O,$=B.height*N;F.setAttributeNS(null,"viewBox","0 0 "+Y+" "+$),F.setAttributeNS(null,"width",Y),F.setAttributeNS(null,"height",$),f(I),I.glplot.axes.update(I.axesOptions);for(var te=Object.keys(I.traces),ie=null,ce=I.glplot.selection,J=0;J<te.length;++J)z=I.traces[te[J]],z.data.hoverinfo!=="skip"&&z.handlePick(ce)&&(ie=z),z.setContourLevels&&z.setContourLevels();function Z(ze,ke,Se){var me=I.fullSceneLayout[ze+"axis"];return me.type!=="log"&&(ke=me.d2l(ke)),t.hoverLabelText(me,ke,Se)}if(ie!==null){var ae=u(I.glplot.cameraParams,ce.dataCoordinate);z=ie.data;var j=U._fullData[z.index],q=ce.index,oe={xLabel:Z("x",ce.traceCoordinate[0],z.xhoverformat),yLabel:Z("y",ce.traceCoordinate[1],z.yhoverformat),zLabel:Z("z",ce.traceCoordinate[2],z.zhoverformat)},Q=o.castHoverinfo(j,I.fullLayout,q),K=(Q||"").split("+"),se=Q&&Q==="all";!j.hovertemplate&&!se&&(K.indexOf("x")===-1&&(oe.xLabel=void 0),K.indexOf("y")===-1&&(oe.yLabel=void 0),K.indexOf("z")===-1&&(oe.zLabel=void 0),K.indexOf("text")===-1&&(ce.textLabel=void 0),K.indexOf("name")===-1&&(ie.name=void 0));var ne,fe=[];z.type==="cone"||z.type==="streamtube"?(oe.uLabel=Z("x",ce.traceCoordinate[3],z.uhoverformat),(se||K.indexOf("u")!==-1)&&fe.push("u: "+oe.uLabel),oe.vLabel=Z("y",ce.traceCoordinate[4],z.vhoverformat),(se||K.indexOf("v")!==-1)&&fe.push("v: "+oe.vLabel),oe.wLabel=Z("z",ce.traceCoordinate[5],z.whoverformat),(se||K.indexOf("w")!==-1)&&fe.push("w: "+oe.wLabel),oe.normLabel=ce.traceCoordinate[6].toPrecision(3),(se||K.indexOf("norm")!==-1)&&fe.push("norm: "+oe.normLabel),z.type==="streamtube"&&(oe.divergenceLabel=ce.traceCoordinate[7].toPrecision(3),(se||K.indexOf("divergence")!==-1)&&fe.push("divergence: "+oe.divergenceLabel)),ce.textLabel&&fe.push(ce.textLabel),ne=fe.join("<br>")):z.type==="isosurface"||z.type==="volume"?(oe.valueLabel=t.hoverLabelText(I._mockAxis,I._mockAxis.d2l(ce.traceCoordinate[3]),z.valuehoverformat),fe.push("value: "+oe.valueLabel),ce.textLabel&&fe.push(ce.textLabel),ne=fe.join("<br>")):ne=ce.textLabel;var ye={x:ce.traceCoordinate[0],y:ce.traceCoordinate[1],z:ce.traceCoordinate[2],data:j._input,fullData:j,curveNumber:j.index,pointNumber:q};o.appendArrayPointValue(ye,j,q),z._module.eventData&&(ye=j._module.eventData(ye,ce,j,{},q));var Ee={points:[ye]};if(I.fullSceneLayout.hovermode){var Te=[];o.loneHover({trace:j,x:(.5+.5*ae[0]/ae[3])*Y,y:(.5-.5*ae[1]/ae[3])*$,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:ne,name:ie.name,color:o.castHoverOption(j,q,"bgcolor")||ie.color,borderColor:o.castHoverOption(j,q,"bordercolor"),fontFamily:o.castHoverOption(j,q,"font.family"),fontSize:o.castHoverOption(j,q,"font.size"),fontColor:o.castHoverOption(j,q,"font.color"),nameLength:o.castHoverOption(j,q,"namelength"),textAlign:o.castHoverOption(j,q,"align"),hovertemplate:p.castOption(j,q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ye,oe),eventData:[ye]},{container:F,gd:U,inOut_bbox:Te}),ye.bbox=Te[0]}ce.distance<5&&(ce.buttons||d)?U.emit("plotly_click",Ee):U.emit("plotly_hover",Ee),this.oldEventData=Ee}else o.loneUnhover(F),this.oldEventData&&U.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},w.recoverContext=function(){var I=this;I.glplot.dispose();var U=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(U);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(U)};var b=["xaxis","yaxis","zaxis"];function S(I,U,z){for(var F=I.fullSceneLayout,B=0;B<3;B++){var O=b[B],N=O.charAt(0),Y=F[O],$=U[N],te=U[N+"calendar"],ie=U["_"+N+"length"];if(!p.isArrayOrTypedArray($))z[0][B]=Math.min(z[0][B],0),z[1][B]=Math.max(z[1][B],ie-1);else for(var ce,J=0;J<(ie||$.length);J++)if(p.isArrayOrTypedArray($[J]))for(var Z=0;Z<$[J].length;++Z)ce=Y.d2l($[J][Z],0,te),!isNaN(ce)&&isFinite(ce)&&(z[0][B]=Math.min(z[0][B],ce),z[1][B]=Math.max(z[1][B],ce));else ce=Y.d2l($[J],0,te),!isNaN(ce)&&isFinite(ce)&&(z[0][B]=Math.min(z[0][B],ce),z[1][B]=Math.max(z[1][B],ce))}}function x(I,U){for(var z=I.fullSceneLayout,F=z.annotations||[],B=0;B<3;B++)for(var O=b[B],N=O.charAt(0),Y=z[O],$=0;$<F.length;$++){var te=F[$];if(te.visible){var ie=Y.r2l(te[N]);!isNaN(ie)&&isFinite(ie)&&(U[0][B]=Math.min(U[0][B],ie),U[1][B]=Math.max(U[1][B],ie))}}}w.plot=function(I,U,z){var F=this;if(F.plotArgs=[I,U,z],!F.glplot.contextLost){var B,O,N,Y,$,te,ie=U[F.id],ce=z[F.id];F.fullLayout=U,F.fullSceneLayout=ie,F.axesOptions.merge(U,ie),F.spikeOptions.merge(ie),F.setViewport(ie),F.updateFx(ie.dragmode,ie.hovermode),F.camera.enableWheel=F.graphDiv._context._scrollZoom.gl3d,F.glplot.setClearColor(n(ie.bgcolor)),F.setConvert($),I?Array.isArray(I)||(I=[I]):I=[];var J=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(N=0;N<I.length;++N)B=I[N],!(B.visible!==!0||B._length===0)&&S(this,B,J);x(this,J);var Z=[1,1,1];for(Y=0;Y<3;++Y)J[1][Y]===J[0][Y]?Z[Y]=1:Z[Y]=1/(J[1][Y]-J[0][Y]);for(F.dataScale=Z,F.convertAnnotations(this),N=0;N<I.length;++N)B=I[N],!(B.visible!==!0||B._length===0)&&(O=F.traces[B.uid],O?O.data.type===B.type?O.update(B):(O.dispose(),O=B._module.plot(this,B),F.traces[B.uid]=O):(O=B._module.plot(this,B),F.traces[B.uid]=O),O.name=B.name);var ae=Object.keys(F.traces);e:for(N=0;N<ae.length;++N){for(Y=0;Y<I.length;++Y)if(I[Y].uid===ae[N]&&I[Y].visible===!0&&I[Y]._length!==0)continue e;O=F.traces[ae[N]],O.dispose(),delete F.traces[ae[N]]}F.glplot.objects.sort(function(lt,$e){return lt._trace.data.index-$e._trace.data.index});var j=[[0,0,0],[0,0,0]],q={};for(N=0;N<3;++N){$=ie[b[N]],te=$.type,te in q?(q[te].acc*=Z[N],q[te].count+=1):q[te]={acc:Z[N],count:1};var oe;if($.autorange){j[0][N]=1/0,j[1][N]=-1/0;var Q=F.glplot.objects,K=F.fullSceneLayout.annotations||[],se=$._name.charAt(0);for(Y=0;Y<Q.length;Y++){var ne=Q[Y],fe=ne.bounds,ye=ne._trace.data._pad||0;ne.constructor.name==="ErrorBars"&&$._lowerLogErrorBound?j[0][N]=Math.min(j[0][N],$._lowerLogErrorBound):j[0][N]=Math.min(j[0][N],fe[0][N]/Z[N]-ye),j[1][N]=Math.max(j[1][N],fe[1][N]/Z[N]+ye)}for(Y=0;Y<K.length;Y++){var Ee=K[Y];if(Ee.visible){var Te=$.r2l(Ee[se]);j[0][N]=Math.min(j[0][N],Te),j[1][N]=Math.max(j[1][N],Te)}}if("rangemode"in $&&$.rangemode==="tozero"&&(j[0][N]=Math.min(j[0][N],0),j[1][N]=Math.max(j[1][N],0)),j[0][N]>j[1][N])j[0][N]=-1,j[1][N]=1;else{var ze=j[1][N]-j[0][N];j[0][N]-=ze/32,j[1][N]+=ze/32}if(oe=[j[0][N],j[1][N]],oe=T(oe,$),j[0][N]=oe[0],j[1][N]=oe[1],$.isReversed()){var ke=j[0][N];j[0][N]=j[1][N],j[1][N]=ke}}else oe=$.range,j[0][N]=$.r2l(oe[0]),j[1][N]=$.r2l(oe[1]);j[0][N]===j[1][N]&&(j[0][N]-=1,j[1][N]+=1),$.range=[j[0][N],j[1][N]],$.limitRange(),F.glplot.setBounds(N,{min:$.range[0]*Z[N],max:$.range[1]*Z[N]})}var Se,me=ie.aspectmode;if(me==="cube")Se=[1,1,1];else if(me==="manual"){var Ce=ie.aspectratio;Se=[Ce.x,Ce.y,Ce.z]}else if(me==="auto"||me==="data"){var Ne=[1,1,1];for(N=0;N<3;++N){$=ie[b[N]],te=$.type;var He=q[te];Ne[N]=Math.pow(He.acc,1/He.count)/Z[N]}me==="data"||Math.max.apply(null,Ne)/Math.min.apply(null,Ne)<=4?Se=Ne:Se=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ie.aspectratio.x=ce.aspectratio.x=Se[0],ie.aspectratio.y=ce.aspectratio.y=Se[1],ie.aspectratio.z=ce.aspectratio.z=Se[2],F.glplot.setAspectratio(ie.aspectratio),F.viewInitial.aspectratio||(F.viewInitial.aspectratio={x:ie.aspectratio.x,y:ie.aspectratio.y,z:ie.aspectratio.z}),F.viewInitial.aspectmode||(F.viewInitial.aspectmode=ie.aspectmode);var De=ie.domain||null,Ve=U._size||null;if(De&&Ve){var at=F.container.style;at.position="absolute",at.left=Ve.l+De.x[0]*Ve.w+"px",at.top=Ve.t+(1-De.y[1])*Ve.h+"px",at.width=Ve.w*(De.x[1]-De.x[0])+"px",at.height=Ve.h*(De.y[1]-De.y[0])+"px"}F.glplot.redraw()}},w.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function i(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function E(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),E(I.camera)},w.setViewport=function(I){var U=this,z=I.camera;U.camera.lookAt.apply(this,i(z)),U.glplot.setAspectratio(I.aspectratio);var F=z.projection.type==="orthographic",B=U.camera._ortho;F!==B&&(U.glplot.redraw(),U.glplot.clearRGBA(),U.glplot.dispose(),U.initializeGLPlot())},w.isCameraChanged=function(I){var U=this,z=U.getCamera(),F=p.nestedProperty(I,U.id+".camera"),B=F.get();function O(te,ie,ce,J){var Z=["up","center","eye"],ae=["x","y","z"];return ie[Z[ce]]&&te[Z[ce]][ae[J]]===ie[Z[ce]][ae[J]]}var N=!1;if(B===void 0)N=!0;else{for(var Y=0;Y<3;Y++)for(var $=0;$<3;$++)if(!O(z,B,Y,$)){N=!0;break}(!B.projection||z.projection&&z.projection.type!==B.projection.type)&&(N=!0)}return N},w.isAspectChanged=function(I){var U=this,z=U.glplot.getAspectratio(),F=p.nestedProperty(I,U.id+".aspectratio"),B=F.get();return B===void 0||B.x!==z.x||B.y!==z.y||B.z!==z.z},w.saveLayout=function(I){var U=this,z=U.fullLayout,F,B,O,N,Y,$,te=U.isCameraChanged(I),ie=U.isAspectChanged(I),ce=te||ie;if(ce){var J={};if(te&&(F=U.getCamera(),B=p.nestedProperty(I,U.id+".camera"),O=B.get(),J[U.id+".camera"]=O),ie&&(N=U.glplot.getAspectratio(),Y=p.nestedProperty(I,U.id+".aspectratio"),$=Y.get(),J[U.id+".aspectratio"]=$),v.call("_storeDirectGUIEdit",I,z._preGUI,J),te){B.set(F);var Z=p.nestedProperty(z,U.id+".camera");Z.set(F)}if(ie){Y.set(N);var ae=p.nestedProperty(z,U.id+".aspectratio");ae.set(N),U.glplot.redraw()}}return ce},w.updateFx=function(I,U){var z=this,F=z.camera;if(F)if(I==="orbit")F.mode="orbit",F.keyBindingMode="rotate";else if(I==="turntable"){F.up=[0,0,1],F.mode="turntable",F.keyBindingMode="rotate";var B=z.graphDiv,O=B._fullLayout,N=z.fullSceneLayout.camera,Y=N.up.x,$=N.up.y,te=N.up.z;if(te/Math.sqrt(Y*Y+$*$+te*te)<.999){var ie=z.id+".camera.up",ce={x:0,y:0,z:1},J={};J[ie]=ce;var Z=B.layout;v.call("_storeDirectGUIEdit",Z,O._preGUI,J),N.up=ce,p.nestedProperty(Z,ie).set(ce)}}else F.keyBindingMode=I;z.fullSceneLayout.hovermode=U};function m(I,U,z){for(var F=0,B=z-1;F<B;++F,--B)for(var O=0;O<U;++O)for(var N=0;N<4;++N){var Y=4*(U*F+O)+N,$=4*(U*B+O)+N,te=I[Y];I[Y]=I[$],I[$]=te}}function k(I,U,z){for(var F=0;F<z;++F)for(var B=0;B<U;++B){var O=4*(U*F+B),N=I[O+3];if(N>0)for(var Y=255/N,$=0;$<3;++$)I[O+$]=Math.min(Y*I[O+$],255)}}w.toImage=function(I){var U=this;I||(I="png"),U.staticMode&&U.container.appendChild(h),U.glplot.redraw();var z=U.glplot.gl,F=z.drawingBufferWidth,B=z.drawingBufferHeight;z.bindFramebuffer(z.FRAMEBUFFER,null);var O=new Uint8Array(F*B*4);z.readPixels(0,0,F,B,z.RGBA,z.UNSIGNED_BYTE,O),m(O,F,B),k(O,F,B);var N=document.createElement("canvas");N.width=F,N.height=B;var Y=N.getContext("2d",{willReadFrequently:!0}),$=Y.createImageData(F,B);$.data.set(O),Y.putImageData($,0,0);var te;switch(I){case"jpeg":te=N.toDataURL("image/jpeg");break;case"webp":te=N.toDataURL("image/webp");break;default:te=N.toDataURL("image/png")}return U.staticMode&&U.container.removeChild(h),te},w.setConvert=function(){for(var I=this,U=0;U<3;U++){var z=I.fullSceneLayout[b[U]];t.setConvert(z,I.fullLayout),z.setScale=p.noop}},w.make4thDimension=function(){var I=this,U=I.graphDiv,z=U._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(I._mockAxis,z)},G.exports=A},90060:function(G){G.exports=function(e,y,P,a){a=a||e.length;for(var L=new Array(a),M=0;M<a;M++)L[M]=[e[M],y[M],P[M]];return L}},10820:function(G,H,e){var y=e(41940),P=e(85594),a=e(22399),L=e(29241),M=e(53777),v=e(35025),p=e(1426).extendFlat,r=y({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=a.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:y({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:y({editType:"layoutstyle"})}}},77734:function(G,H,e){var y=e(78607),P="1.13.4",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=y(p);G.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(G,H,e){var y=e(71828);G.exports=function(a,L){var M=a.split(" "),v=M[0],p=M[1],r=y.isArrayOrTypedArray(L)?y.mean(L):L,t=.5+r/100,o=1.5+r/100,n=["",""],c=[0,0];switch(v){case"top":n[0]="top",c[1]=-o;break;case"bottom":n[0]="bottom",c[1]=o;break}switch(p){case"left":n[1]="right",c[0]=-t;break;case"right":n[1]="left",c[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:c}}},50101:function(G,H,e){var y=e(97433),P=e(71828),a=P.strTranslate,L=P.strScale,M=e(27659).AU,v=e(77922),p=e(39898),r=e(91424),t=e(63893),o=e(10481),n="mapbox",c=H.constants=e(77734);H.name=n,H.attr="subplot",H.idRoot=n,H.idRegex=H.attrRegex=P.counterRegex(n),H.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},H.layoutAttributes=e(23585),H.supplyLayoutDefaults=e(77882),H.plot=function(f){var T=f._fullLayout,h=f.calcdata,s=T._subplots[n];if(y.version!==c.requiredVersion)throw new Error(c.wrongVersionErrorMsg);var d=u(f,s);y.accessToken=d;for(var A=0;A<s.length;A++){var w=s[A],C=M(h,n,w),b=T[w],S=b._subplot;S||(S=new o(f,w),T[w]._subplot=S),S.viewInitial||(S.viewInitial={center:P.extendFlat({},b.center),zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),S.plot(C,T,f._promises)}},H.clean=function(g,f,T,h){for(var s=h._subplots[n]||[],d=0;d<s.length;d++){var A=s[d];!f[A]&&h[A]._subplot&&h[A]._subplot.destroy()}},H.toSVG=function(g){for(var f=g._fullLayout,T=f._subplots[n],h=f._size,s=0;s<T.length;s++){var d=f[T[s]],A=d.domain,w=d._subplot,C=w.toImage("png"),b=f._glimages.append("svg:image");b.attr({xmlns:v.svg,"xlink:href":C,x:h.l+h.w*A.x[0],y:h.t+h.h*(1-A.y[1]),width:h.w*(A.x[1]-A.x[0]),height:h.h*(A.y[1]-A.y[0]),preserveAspectRatio:"none"});var S=p.select(d._subplot.div),x=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!x){var i=f._glimages.append("g");i.attr("transform",a(h.l+h.w*A.x[0]+10,h.t+h.h*(1-A.y[0])-31)),i.append("path").attr("d",c.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",c.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",c.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",c.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),m=f._glimages.append("g"),k=m.append("text");k.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var I=r.bBox(k.node()),U=h.w*(A.x[1]-A.x[0]);if(I.width>U/2){var z=E.split("|").join("<br>");k.text(z).attr("data-unformatted",z).call(t.convertToTspans,g),I=r.bBox(k.node())}k.attr("transform",a(-3,-I.height+8)),m.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;I.width+6>U&&(F=U/(I.width+6));var B=[h.l+h.w*A.x[1],h.t+h.h*(1-A.y[0])];m.attr("transform",a(B[0],B[1])+L(F))}};function u(g,f){var T=g._fullLayout,h=g._context;if(h.mapboxAccessToken==="")return"";for(var s=[],d=[],A=!1,w=!1,C=0;C<f.length;C++){var b=T[f[C]],S=b.accesstoken;l(b.style)&&(S?P.pushUnique(s,S):(l(b._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),A=!0),w=!0)),S&&P.pushUnique(d,S)}if(w){var x=A?c.noAccessTokenErrorMsg:c.missingStyleErrorMsg;throw P.error(x),new Error(x)}return s.length?(s.length>1&&P.warn(c.multipleTokensErrorMsg),s[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(g){return typeof g=="string"&&(c.styleValuesMapbox.indexOf(g)!==-1||g.indexOf("mapbox://")===0||g.indexOf("stamen")===0)}H.updateFx=function(g){for(var f=g._fullLayout,T=f._subplots[n],h=0;h<T.length;h++){var s=f[T[h]]._subplot;s.updateFx(f)}}},67911:function(G,H,e){var y=e(71828),P=e(63893).sanitizeHTML,a=e(13056),L=e(77734);function M(o,n){this.subplot=o,this.uid=o.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=M.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(o){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&o.sourcetype==="image"&&(this.source!==o.source||JSON.stringify(this.coordinates)!==JSON.stringify(o.coordinates))},v.needsNewSource=function(o){return this.sourceType!==o.sourcetype||JSON.stringify(this.source)!==JSON.stringify(o.source)||this.layerType!==o.type},v.needsNewLayer=function(o){return this.layerType!==o.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(o){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:o.source,coordinates:o.coordinates});var c=this.findFollowingMapboxLayerId(this.lookupBelow());c!==null&&this.subplot.map.moveLayer(this.idLayer,c)},v.updateSource=function(o){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=o.sourcetype,this.source=o.source,!!p(o)){var c=t(o);n.addSource(this.idSource,c)}},v.findFollowingMapboxLayerId=function(o){if(o==="traces")for(var n=this.subplot.getMapLayers(),c=0;c<n.length;c++){var u=n[c].id;if(typeof u=="string"&&u.indexOf(L.traceLayerPrefix)===0){o=u;break}}return o},v.updateLayer=function(o){var n=this.subplot,c=r(o),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),p(o)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":o.sourcelayer||"",type:o.type,minzoom:o.minzoom,maxzoom:o.maxzoom,layout:c.layout,paint:c.paint},l),this.layerType=o.type,this.below=u},v.updateStyle=function(o){if(p(o)){var n=r(o);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer)},v.dispose=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer),o.getSource(this.idSource)&&o.removeSource(this.idSource)};function p(o){if(!o.visible)return!1;var n=o.source;if(Array.isArray(n)&&n.length>0){for(var c=0;c<n.length;c++)if(typeof n[c]!="string"||n[c].length===0)return!1;return!0}return y.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(o){var n={},c={};switch(o.type){case"circle":y.extendFlat(c,{"circle-radius":o.circle.radius,"circle-color":o.color,"circle-opacity":o.opacity});break;case"line":y.extendFlat(c,{"line-width":o.line.width,"line-color":o.color,"line-opacity":o.opacity,"line-dasharray":o.line.dash});break;case"fill":y.extendFlat(c,{"fill-color":o.color,"fill-outline-color":o.fill.outlinecolor,"fill-opacity":o.opacity});break;case"symbol":var u=o.symbol,l=a(u.textposition,u.iconsize);y.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),y.extendFlat(c,{"icon-color":o.color,"text-color":u.textfont.color,"text-opacity":o.opacity});break;case"raster":y.extendFlat(c,{"raster-fade-duration":0,"raster-opacity":o.opacity});break}return{layout:n,paint:c}}function t(o){var n=o.sourcetype,c=o.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof c=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=o.coordinates),u[l]=c,o.sourceattribution&&(u.attribution=P(o.sourceattribution)),u}G.exports=function(n,c,u){var l=new M(n,c);return l.update(u),l}},23585:function(G,H,e){var y=e(71828),P=e(7901).defaultLine,a=e(27670).Y,L=e(41940),M=e(82196).textposition,v=e(30962).overrideAll,p=e(44467).templatedArray,r=e(77734),t=L({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var o=G.exports=v({_arrayAttrRegexps:[y.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:y.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root");o.uirevision={valType:"any",editType:"none"}},77882:function(G,H,e){var y=e(71828),P=e(49119),a=e(85501),L=e(23585);G.exports=function(r,t,o){P(r,t,o,{type:"mapbox",attributes:L,handleDefaults:M,partition:"y",accessToken:t._mapboxAccessToken})};function M(p,r,t,o){t("accesstoken",o.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),c=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||c===void 0||u===void 0||l===void 0)&&delete r.bounds,a(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(g,f){return y.coerce(p,r,L.layers,g,f)}var o=t("visible");if(o){var n=t("sourcetype"),c=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;c&&(u="raster");var l=t("type",u);c&&l!=="raster"&&(l=r.type="raster",y.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),y.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},10481:function(G,H,e){var y=e(97433),P=e(71828),a=e(41327),L=e(73972),M=e(89298),v=e(28569),p=e(30211),r=e(64505),t=r.drawMode,o=r.selectMode,n=e(47322).prepSelect,c=e(47322).clearOutline,u=e(47322).clearSelectionsCache,l=e(47322).selectOnClick,g=e(77734),f=e(67911);function T(C,b){this.id=b,this.gd=C;var S=C._fullLayout,x=C._context;this.container=S._glcontainer.node(),this.isStatic=x.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=T.prototype;h.plot=function(C,b,S){var x=this,i=b[x.id];x.map&&i.accesstoken!==x.accessToken&&(x.map.remove(),x.map=null,x.styleObj=null,x.traceHash={},x.layerList=[]);var E;x.map?E=new Promise(function(m,k){x.updateMap(C,b,m,k)}):E=new Promise(function(m,k){x.createMap(C,b,m,k)}),S.push(E)},h.createMap=function(C,b,S,x){var i=this,E=b[i.id],m=i.styleObj=d(E.style,b);i.accessToken=E.accesstoken;var k=E.bounds,I=k?[[k.west,k.south],[k.east,k.north]]:null,U=i.map=new y.Map({container:i.div,style:m.style,center:w(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:I,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new y.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",i.rejectOnError(x),i.isStatic||i.initFx(C,b);var z=[];z.push(new Promise(function(F){U.once("load",F)})),z=z.concat(a.fetchTraceGeoData(C)),Promise.all(z).then(function(){i.fillBelowLookup(C,b),i.updateData(C),i.updateLayout(b),i.resolveOnRender(S)}).catch(x)},h.updateMap=function(C,b,S,x){var i=this,E=i.map,m=b[this.id];i.rejectOnError(x);var k=[],I=d(m.style,b);JSON.stringify(i.styleObj)!==JSON.stringify(I)&&(i.styleObj=I,E.setStyle(I.style),i.traceHash={},k.push(new Promise(function(U){E.once("styledata",U)}))),k=k.concat(a.fetchTraceGeoData(C)),Promise.all(k).then(function(){i.fillBelowLookup(C,b),i.updateData(C),i.updateLayout(b),i.resolveOnRender(S)}).catch(x)},h.fillBelowLookup=function(C,b){var S=b[this.id],x=S.layers,i,E,m=this.belowLookup={},k=!1;for(i=0;i<C.length;i++){var I=C[i][0].trace,U=I._module;typeof I.below=="string"?E=I.below:U.getBelow&&(E=U.getBelow(I,this)),E===""&&(k=!0),m["trace-"+I.uid]=E||""}for(i=0;i<x.length;i++){var z=x[i];typeof z.below=="string"?E=z.below:k?E="traces":E="",m["layout-"+i]=E}var F={},B,O;for(B in m)E=m[B],F[E]?F[E].push(B):F[E]=[B];for(E in F){var N=F[E];if(N.length>1)for(i=0;i<N.length;i++)B=N[i],B.indexOf("trace-")===0?(O=B.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):B.indexOf("layout-")===0&&(O=B.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var s={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(C){var b=this.traceHash,S,x,i,E,m=C.slice().sort(function(F,B){return s[F[0].trace.type]-s[B[0].trace.type]});for(i=0;i<m.length;i++){var k=m[i];x=k[0].trace,S=b[x.uid];var I=!1;S&&(S.type===x.type?(S.update(k),I=!0):S.dispose()),!I&&x._module&&(b[x.uid]=x._module.plot(this,k))}var U=Object.keys(b);e:for(i=0;i<U.length;i++){var z=U[i];for(E=0;E<C.length;E++)if(x=C[E][0].trace,z===x.uid)continue e;S=b[z],S.dispose(),delete b[z]}},h.updateLayout=function(C){var b=this.map,S=C[this.id];!this.dragging&&!this.wheeling&&(b.setCenter(w(S.center)),b.setZoom(S.zoom),b.setBearing(S.bearing),b.setPitch(S.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?b.scrollZoom.enable():b.scrollZoom.disable()},h.resolveOnRender=function(C){var b=this.map;b.on("render",function S(){b.loaded()&&(b.off("render",S),setTimeout(C,10))})},h.rejectOnError=function(C){var b=this.map;function S(){C(new Error(g.mapOnErrorMsg))}b.once("error",S),b.once("style.error",S),b.once("source.error",S),b.once("tile.error",S),b.once("layer.error",S)},h.createFramework=function(C){var b=this,S=b.div=document.createElement("div");S.id=b.uid,S.style.position="absolute",b.container.appendChild(S),b.xaxis={_id:"x",c2p:function(x){return b.project(x).x}},b.yaxis={_id:"y",c2p:function(x){return b.project(x).y}},b.updateFramework(C),b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(b.mockAxis,C)},h.initFx=function(C,b){var S=this,x=S.gd,i=S.map;i.on("moveend",function(k){if(S.map){var I=x._fullLayout;if(k.originalEvent||S.wheeling){var U=I[S.id];L.call("_storeDirectGUIEdit",x.layout,I._preGUI,S.getViewEdits(U));var z=S.getView();U._input.center=U.center=z.center,U._input.zoom=U.zoom=z.zoom,U._input.bearing=U.bearing=z.bearing,U._input.pitch=U.pitch=z.pitch,x.emit("plotly_relayout",S.getViewEditsWithDerived(z))}k.originalEvent&&k.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),I._rehover&&I._rehover()}}),i.on("wheel",function(){S.wheeling=!0}),i.on("mousemove",function(k){var I=S.div.getBoundingClientRect(),U=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return I},S.xaxis.p2c=function(){return i.unproject(U).lng},S.yaxis.p2c=function(){return i.unproject(U).lat},x._fullLayout._rehover=function(){x._fullLayout._hoversubplot===S.id&&x._fullLayout[S.id]&&p.hover(x,k,S.id)},p.hover(x,k,S.id),x._fullLayout._hoversubplot=S.id});function E(){p.loneUnhover(b._hoverlayer)}i.on("dragstart",function(){S.dragging=!0,E()}),i.on("zoomstart",E),i.on("mouseout",function(){x._fullLayout._hoversubplot=null});function m(){var k=S.getView();x.emit("plotly_relayouting",S.getViewEditsWithDerived(k))}i.on("drag",m),i.on("zoom",m),i.on("dblclick",function(){var k=x._fullLayout[S.id];L.call("_storeDirectGUIEdit",x.layout,x._fullLayout._preGUI,S.getViewEdits(k));var I=S.viewInitial;i.setCenter(w(I.center)),i.setZoom(I.zoom),i.setBearing(I.bearing),i.setPitch(I.pitch);var U=S.getView();k._input.center=k.center=U.center,k._input.zoom=k.zoom=U.zoom,k._input.bearing=k.bearing=U.bearing,k._input.pitch=k.pitch=U.pitch,x.emit("plotly_doubleclick",null),x.emit("plotly_relayout",S.getViewEditsWithDerived(U))}),S.clearOutline=function(){u(S.dragOptions),c(S.dragOptions.gd)},S.onClickInPanFn=function(k){return function(I){var U=x._fullLayout.clickmode;U.indexOf("select")>-1&&l(I.originalEvent,x,[S.xaxis],[S.yaxis],S.id,k),U.indexOf("event")>-1&&p.click(x,I.originalEvent)}}},h.updateFx=function(C){var b=this,S=b.map,x=b.gd;if(b.isStatic)return;function i(I){var U=b.map.unproject(I);return[U.lng,U.lat]}var E=C.dragmode,m;m=function(I,U){if(U.isRect){var z=I.range={};z[b.id]=[i([U.xmin,U.ymin]),i([U.xmax,U.ymax])]}else{var F=I.lassoPoints={};F[b.id]=U.map(i)}};var k=b.dragOptions;b.dragOptions=P.extendDeep(k||{},{dragmode:C.dragmode,element:b.div,gd:x,plotinfo:{id:b.id,domain:C[b.id].domain,xaxis:b.xaxis,yaxis:b.yaxis,fillRangeItems:m},xaxes:[b.xaxis],yaxes:[b.yaxis],subplot:b.id}),S.off("click",b.onClickInPanHandler),o(E)||t(E)?(S.dragPan.disable(),S.on("zoomstart",b.clearOutline),b.dragOptions.prepFn=function(I,U,z){n(I,U,z,b.dragOptions,E)},v.init(b.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",b.clearOutline),b.div.onmousedown=null,b.div.ontouchstart=null,b.div.removeEventListener("touchstart",b.div._ontouchstart),b.onClickInPanHandler=b.onClickInPanFn(b.dragOptions),S.on("click",b.onClickInPanHandler))},h.updateFramework=function(C){var b=C[this.id].domain,S=C._size,x=this.div.style;x.width=S.w*(b.x[1]-b.x[0])+"px",x.height=S.h*(b.y[1]-b.y[0])+"px",x.left=S.l+b.x[0]*S.w+"px",x.top=S.t+(1-b.y[1])*S.h+"px",this.xaxis._offset=S.l+b.x[0]*S.w,this.xaxis._length=S.w*(b.x[1]-b.x[0]),this.yaxis._offset=S.t+(1-b.y[1])*S.h,this.yaxis._length=S.h*(b.y[1]-b.y[0])},h.updateLayers=function(C){var b=C[this.id],S=b.layers,x=this.layerList,i;if(S.length!==x.length){for(i=0;i<x.length;i++)x[i].dispose();for(x=this.layerList=[],i=0;i<S.length;i++)x.push(f(this,i,S[i]))}else for(i=0;i<S.length;i++)x[i].update(S[i])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(C,b,S){for(var x in S)this.map[b](C,x,S[x])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(C,b){var S=this.map;if(typeof b=="string"){if(b===""){S.addLayer(C,b);return}for(var x=this.getMapLayers(),i=0;i<x.length;i++)if(b===x[i].id){S.addLayer(C,b);return}P.warn(["Trying to add layer with *below* value",b,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(C)},h.project=function(C){return this.map.project(new y.LngLat(C[0],C[1]))},h.getView=function(){var C=this.map,b=C.getCenter(),S=b.lng,x=b.lat,i={lon:S,lat:x},E=C.getCanvas(),m=parseInt(E.style.width),k=parseInt(E.style.height);return{center:i,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([m,0]).toArray(),C.unproject([m,k]).toArray(),C.unproject([0,k]).toArray()]}}},h.getViewEdits=function(C){for(var b=this.id,S=["center","zoom","bearing","pitch"],x={},i=0;i<S.length;i++){var E=S[i];x[b+"."+E]=C[E]}return x},h.getViewEditsWithDerived=function(C){var b=this.id,S=this.getViewEdits(C);return S[b+"._derived"]=C._derived,S};function d(C,b){var S={};if(P.isPlainObject(C))S.id=C.id,S.style=C;else if(typeof C=="string")if(S.id=C,g.styleValuesMapbox.indexOf(C)!==-1)S.style=A(C);else if(g.stylesNonMapbox[C]){S.style=g.stylesNonMapbox[C];var x=S.style.sources["plotly-"+C],i=x?x.tiles:void 0;i&&i[0]&&i[0].slice(-9)==="?api_key="&&(i[0]+=b._mapboxAccessToken)}else S.style=C;else S.id=g.styleValueDflt,S.style=A(g.styleValueDflt);return S.transition={duration:0,delay:0},S}function A(C){return g.styleUrlPrefix+C+"-"+g.styleUrlSuffix}function w(C){return[C.lon,C.lat]}G.exports=T},35025:function(G){G.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(G,H,e){var y=e(39898),P=e(84096).Dq,a=e(60721).FF,L=e(92770),M=e(11631),v=e(73972),p=e(86281),r=e(44467),t=e(71828),o=e(7901),n=e(50606).BADNUM,c=e(41675),u=e(51873).clearOutline,l=e(21479),g=e(85594),f=e(31391),T=e(27659).a0,h=t.relinkPrivateKeys,s=t._,d=G.exports={};t.extendFlat(d,v),d.attributes=e(9012),d.attributes.type.values=d.allTypes,d.fontAttrs=e(41940),d.layoutAttributes=e(10820),d.fontWeight="normal";var A=d.transformsRegistry,w=e(31137);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(j){return j=t.getGraphDiv(j),new Promise(function(q){setTimeout(function(){j._fullLayout&&(v.getComponentMethod("annotations","draw")(j),v.getComponentMethod("legend","draw")(j),v.getComponentMethod("colorbar","draw")(j),q(d.previousPromises(j)))},300)})},d.resize=function(j){j=t.getGraphDiv(j);var q,oe=new Promise(function(Q,K){(!j||t.isHidden(j))&&K(new Error("Resize must be passed a displayed plot div element.")),j._redrawTimer&&clearTimeout(j._redrawTimer),j._resolveResize&&(q=j._resolveResize),j._resolveResize=Q,j._redrawTimer=setTimeout(function(){if(!j.layout||j.layout.width&&j.layout.height||t.isHidden(j)){Q(j);return}delete j.layout.width,delete j.layout.height;var se=j.changed;j.autoplay=!0,v.call("relayout",j,{autosize:!0}).then(function(){j.changed=se,j._resolveResize===Q&&(delete j._resolveResize,Q(j))})},100)});return q&&q(oe),oe},d.previousPromises=function(j){if((j._promises||[]).length)return Promise.all(j._promises).then(function(){j._promises=[]})},d.addLinks=function(j){if(!(!j._context.showLink&&!j._context.showSources)){var q=j._fullLayout,oe=t.ensureSingle(q._paper,"text","js-plot-link-container",function(ye){ye.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var Ee=y.select(this);Ee.append("tspan").classed("js-link-to-tool",!0),Ee.append("tspan").classed("js-link-spacer",!0),Ee.append("tspan").classed("js-sourcelinks",!0)})}),Q=oe.node(),K={y:q._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=q.width-20?(K["text-anchor"]="start",K.x=5):(K["text-anchor"]="end",K.x=q._paper.attr("width")-7),oe.attr(K);var se=oe.select(".js-link-to-tool"),ne=oe.select(".js-link-spacer"),fe=oe.select(".js-sourcelinks");j._context.showSources&&j._context.showSources(j),j._context.showLink&&C(j,se),ne.text(se.text()&&fe.text()?" - ":"")}};function C(j,q){q.text("");var oe=q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(j._context.linkText+" ");if(j._context.sendData)oe.on("click",function(){d.sendDataToCloud(j)});else{var Q=window.location.pathname.split("/"),K=window.location.search;oe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Q[2].split(".")[0]+"/"+Q[1]+K})}}d.sendDataToCloud=function(j){var q=(window.PLOTLYENV||{}).BASE_URL||j._context.plotlyServerURL;if(q){j.emit("plotly_beforeexport");var oe=y.select(j).append("div").attr("id","hiddenform").style("display","none"),Q=oe.append("form").attr({action:q+"/external",method:"post",target:"_blank"}),K=Q.append("input").attr({type:"text",name:"data"});return K.node().value=d.graphJson(j,!1,"keepdata"),Q.node().submit(),oe.remove(),j.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(j,q){var oe=q&&q.skipUpdateCalc,Q=j._fullLayout||{};if(Q._skipDefaults){delete Q._skipDefaults;return}var K=j._fullLayout={},se=j.layout||{},ne=j._fullData||[],fe=j._fullData=[],ye=j.data||[],Ee=j.calcdata||[],Te=j._context||{},ze;j._transitionData||d.createTransitionData(j),K._dfltTitle={plot:s(j,"Click to enter Plot title"),x:s(j,"Click to enter X axis title"),y:s(j,"Click to enter Y axis title"),colorbar:s(j,"Click to enter Colorscale title"),annotation:s(j,"new text")},K._traceWord=s(j,"trace");var ke=E(j,b);if(K._mapboxAccessToken=Te.mapboxAccessToken,Q._initialAutoSizeIsDone){var Se=Q.width,me=Q.height;d.supplyLayoutGlobalDefaults(se,K,ke),se.width||(K.width=Se),se.height||(K.height=me),d.sanitizeMargins(K)}else{d.supplyLayoutGlobalDefaults(se,K,ke);var Ce=!se.width||!se.height,Ne=K.autosize,He=Te.autosizable,De=Ce&&(Ne||He);De?d.plotAutoSize(j,se,K):Ce&&d.sanitizeMargins(K),!Ne&&Ce&&(se.width=K.width,se.height=K.height)}K._d3locale=m(ke,K.separators),K._extraFormat=E(j,S),K._initialAutoSizeIsDone=!0,K._dataLength=ye.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var Ve=K._subplots=i(),at=K._splomAxes={x:{},y:{}},lt=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=x(ne,ye),K._globalTransforms=(j._context||{}).globalTransforms,d.supplyDataDefaults(ye,fe,se,K);var $e=Object.keys(at.x),et=Object.keys(at.y);if($e.length>1&&et.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,K),ze=0;ze<$e.length;ze++)t.pushUnique(Ve.xaxis,$e[ze]);for(ze=0;ze<et.length;ze++)t.pushUnique(Ve.yaxis,et[ze]);for(var ct in lt)t.pushUnique(Ve.cartesian,ct)}if(K._has=d._hasPlotType.bind(K),ne.length===fe.length)for(ze=0;ze<fe.length;ze++)h(fe[ze],ne[ze]);d.supplyLayoutModuleDefaults(se,K,fe,j._transitionData);var dt=K._visibleModules,gt=[];for(ze=0;ze<dt.length;ze++){var At=dt[ze].crossTraceDefaults;At&&t.pushUnique(gt,At)}for(ze=0;ze<gt.length;ze++)gt[ze](fe,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&$e.length>15&&et.length>15&&K.shapes.length===0&&K.images.length===0,d.linkSubplots(fe,K,ne,Q),d.cleanPlot(fe,K,ne,Q);var Rt=!!(Q._has&&Q._has("gl2d")),Vt=!!(K._has&&K._has("gl2d")),Je=!!(Q._has&&Q._has("cartesian")),Ge=!!(K._has&&K._has("cartesian")),Ie=Je||Rt,Fe=Ge||Vt;Ie&&!Fe?Q._bgLayer.remove():Fe&&!Ie&&(K._shouldCreateBgLayer=!0),Q._zoomlayer&&!j._dragging&&u({_fullLayout:Q}),k(fe,K),h(K,Q),v.getComponentMethod("colorscale","crossTraceDefaults")(fe,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var Pe=K._tracePreGUI,xe={},ge;for(ge in Pe)xe[ge]="old";for(ze=0;ze<fe.length;ze++)ge=fe[ze]._fullInput.uid,xe[ge]||(Pe[ge]={}),xe[ge]="new";for(ge in xe)xe[ge]==="old"&&delete Pe[ge];B(K),v.getComponentMethod("rangeslider","makeData")(K),!oe&&Ee.length===fe.length&&d.supplyDefaultsUpdateCalc(Ee,fe)},d.supplyDefaultsUpdateCalc=function(j,q){for(var oe=0;oe<q.length;oe++){var Q=q[oe],K=(j[oe]||[])[0];if(K&&K.trace){var se=K.trace;if(se._hasCalcTransform){var ne=se._arrayAttrs,fe,ye,Ee;for(fe=0;fe<ne.length;fe++)ye=ne[fe],Ee=t.nestedProperty(se,ye).get().slice(),t.nestedProperty(Q,ye).set(Ee)}K.trace=Q}}};function x(j,q){var oe=q.length,Q=[],K,se;for(K=0;K<j.length;K++){var ne=j[K]._fullInput;ne!==se&&Q.push(ne),se=ne}var fe=Q.length,ye=new Array(oe),Ee={};function Te(Se,me){ye[me]=Se,Ee[Se]=1}function ze(Se,me){if(Se&&typeof Se=="string"&&!Ee[Se])return Te(Se,me),!0}for(K=0;K<oe;K++){var ke=q[K].uid;typeof ke=="number"&&(ke=String(ke)),!ze(ke,K)&&(K<fe&&ze(Q[K].uid,K)||Te(t.randstr(Ee),K))}return ye}function i(){var j=v.collectableSubplotTypes,q={},oe,Q;if(!j){j=[];var K=v.subplotsRegistry;for(var se in K){var ne=K[se],fe=ne.attr;if(fe&&(j.push(se),Array.isArray(fe)))for(Q=0;Q<fe.length;Q++)t.pushUnique(j,fe[Q])}}for(oe=0;oe<j.length;oe++)q[j[oe]]=[];return q}function E(j,q){var oe=j._context.locale;oe||(oe="en-US");var Q=!1,K={};function se(ze){for(var ke=!0,Se=0;Se<q.length;Se++){var me=q[Se];K[me]||(ze[me]?K[me]=ze[me]:ke=!1)}ke&&(Q=!0)}for(var ne=0;ne<2;ne++){for(var fe=j._context.locales,ye=0;ye<2;ye++){var Ee=(fe[oe]||{}).format;if(Ee&&(se(Ee),Q))break;fe=v.localeRegistry}var Te=oe.split("-")[0];if(Q||Te===oe)break;oe=Te}return Q||se(v.localeRegistry.en.format),K}function m(j,q){return j.decimal=q.charAt(0),j.thousands=q.charAt(1),{numberFormat:function(oe){try{oe=a(j).format(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return oe},timeFormat:P(j).utcFormat}}function k(j,q){var oe,Q=[];q.meta&&(oe=q._meta={meta:q.meta,layout:{meta:q.meta}});for(var K=0;K<j.length;K++){var se=j[K];se.meta?Q[se.index]=se._meta={meta:se.meta}:q.meta&&(se._meta={meta:q.meta}),q.meta&&(se._meta.layout={meta:q.meta})}Q.length&&(oe||(oe=q._meta={}),oe.data=Q)}d.createTransitionData=function(j){j._transitionData||(j._transitionData={}),j._transitionData._frames||(j._transitionData._frames=[]),j._transitionData._frameHash||(j._transitionData._frameHash={}),j._transitionData._counter||(j._transitionData._counter=0),j._transitionData._interruptCallbacks||(j._transitionData._interruptCallbacks=[])},d._hasPlotType=function(j){var q,oe=this._basePlotModules||[];for(q=0;q<oe.length;q++)if(oe[q].name===j)return!0;var Q=this._modules||[];for(q=0;q<Q.length;q++){var K=Q[q].name;if(K===j)return!0;var se=v.modules[K];if(se&&se.categories[j])return!0}return!1},d.cleanPlot=function(j,q,oe,Q){var K,se,ne=Q._basePlotModules||[];for(K=0;K<ne.length;K++){var fe=ne[K];fe.clean&&fe.clean(j,q,oe,Q)}var ye=Q._has&&Q._has("gl"),Ee=q._has&&q._has("gl");ye&&!Ee&&Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var Te=!!Q._infolayer;e:for(K=0;K<oe.length;K++){var ze=oe[K],ke=ze.uid;for(se=0;se<j.length;se++){var Se=j[se];if(ke===Se.uid)continue e}Te&&Q._infolayer.select(".cb"+ke).remove()}},d.linkSubplots=function(j,q,oe,Q){var K,se,ne=Q._plots||{},fe=q._plots={},ye=q._subplots,Ee={_fullData:j,_fullLayout:q},Te=ye.cartesian.concat(ye.gl2d||[]);for(K=0;K<Te.length;K++){var ze=Te[K],ke=ne[ze],Se=c.getFromId(Ee,ze,"x"),me=c.getFromId(Ee,ze,"y"),Ce;for(ke?Ce=fe[ze]=ke:(Ce=fe[ze]={},Ce.id=ze),Se._counterAxes.push(me._id),me._counterAxes.push(Se._id),Se._subplotsWith.push(ze),me._subplotsWith.push(ze),Ce.xaxis=Se,Ce.yaxis=me,Ce._hasClipOnAxisFalse=!1,se=0;se<j.length;se++){var Ne=j[se];if(Ne.xaxis===Ce.xaxis._id&&Ne.yaxis===Ce.yaxis._id&&Ne.cliponaxis===!1){Ce._hasClipOnAxisFalse=!0;break}}}var He=c.list(Ee,null,!0),De;for(K=0;K<He.length;K++){De=He[K];var Ve=null;De.overlaying&&(Ve=c.getFromId(Ee,De.overlaying),Ve&&Ve.overlaying&&(De.overlaying=!1,Ve=null)),De._mainAxis=Ve||De,Ve&&(De.domain=Ve.domain.slice()),De._anchorAxis=De.anchor==="free"?null:c.getFromId(Ee,De.anchor)}for(K=0;K<He.length;K++)if(De=He[K],De._counterAxes.sort(c.idSort),De._subplotsWith.sort(t.subplotSort),De._mainSubplot=I(De,q),De._counterAxes.length&&(De.spikemode&&De.spikemode.indexOf("across")!==-1||De.automargin&&De.mirror&&De.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(De))){var at=1,lt=0;for(se=0;se<De._counterAxes.length;se++){var $e=c.getFromId(Ee,De._counterAxes[se]);at=Math.min(at,$e.domain[0]),lt=Math.max(lt,$e.domain[1])}at<lt&&(De._counterDomainMin=at,De._counterDomainMax=lt)}};function I(j,q){var oe={_fullLayout:q},Q=j._id.charAt(0)==="x",K=j._mainAxis._anchorAxis,se="",ne="",fe="";if(K&&(fe=K._mainAxis._id,se=Q?j._id+fe:fe+j._id),!se||!q._plots[se]){se="";for(var ye=j._counterAxes,Ee=0;Ee<ye.length;Ee++){var Te=ye[Ee],ze=Q?j._id+Te:Te+j._id;ne||(ne=ze);var ke=c.getFromId(oe,Te);if(fe&&ke.overlaying===fe){se=ze;break}}}return se||ne}d.clearExpandedTraceDefaultColors=function(j){var q,oe,Q;function K(ne,fe,ye,Ee){oe[Ee]=fe,oe.length=Ee+1,ne.valType==="color"&&ne.dflt===void 0&&q.push(oe.join("."))}for(oe=[],q=j._module._colorAttrs,q||(j._module._colorAttrs=q=[],p.crawl(j._module.attributes,K)),Q=0;Q<q.length;Q++){var se=t.nestedProperty(j,"_input."+q[Q]);se.get()||t.nestedProperty(j,q[Q]).set(null)}},d.supplyDataDefaults=function(j,q,oe,Q){var K=Q._modules,se=Q._visibleModules,ne=Q._basePlotModules,fe=0,ye=0,Ee,Te,ze;Q._transformModules=[];function ke(et){q.push(et);var ct=et._module;ct&&(t.pushUnique(K,ct),et.visible===!0&&t.pushUnique(se,ct),t.pushUnique(ne,et._module.basePlotModule),fe++,et._input.visible!==!1&&ye++)}var Se={},me=[],Ce=(oe.template||{}).data||{},Ne=r.traceTemplater(Ce);for(Ee=0;Ee<j.length;Ee++){if(ze=j[Ee],Te=Ne.newTrace(ze),Te.uid=Q._traceUids[Ee],d.supplyTraceDefaults(ze,Te,ye,Q,Ee),Te.index=Ee,Te._input=ze,Te._expandedIndex=fe,Te.transforms&&Te.transforms.length)for(var He=ze.visible!==!1&&Te.visible===!1,De=z(Te,q,oe,Q),Ve=0;Ve<De.length;Ve++){var at=De[Ve],lt={_template:Te._template,type:Te.type,uid:Te.uid+Ve};He&&at.visible===!1&&delete at.visible,d.supplyTraceDefaults(at,lt,fe,Q,Ee),h(lt,at),lt.index=Ee,lt._input=ze,lt._fullInput=Te,lt._expandedIndex=fe,lt._expandedInput=at,ke(lt)}else Te._fullInput=Te,Te._expandedInput=Te,ke(Te);v.traceIs(Te,"carpetAxis")&&(Se[Te.carpet]=Te),v.traceIs(Te,"carpetDependent")&&me.push(Ee)}for(Ee=0;Ee<me.length;Ee++)if(Te=q[me[Ee]],!!Te.visible){var $e=Se[Te.carpet];if(Te._carpet=$e,!$e||!$e.visible){Te.visible=!1;continue}Te.xaxis=$e.xaxis,Te.yaxis=$e.yaxis}},d.supplyAnimationDefaults=function(j){j=j||{};var q,oe={};function Q(K,se){return t.coerce(j||{},oe,g,K,se)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray(j.frame))for(oe.frame=[],q=0;q<j.frame.length;q++)oe.frame[q]=d.supplyAnimationFrameDefaults(j.frame[q]||{});else oe.frame=d.supplyAnimationFrameDefaults(j.frame||{});if(Array.isArray(j.transition))for(oe.transition=[],q=0;q<j.transition.length;q++)oe.transition[q]=d.supplyAnimationTransitionDefaults(j.transition[q]||{});else oe.transition=d.supplyAnimationTransitionDefaults(j.transition||{});return oe},d.supplyAnimationFrameDefaults=function(j){var q={};function oe(Q,K){return t.coerce(j||{},q,g.frame,Q,K)}return oe("duration"),oe("redraw"),q},d.supplyAnimationTransitionDefaults=function(j){var q={};function oe(Q,K){return t.coerce(j||{},q,g.transition,Q,K)}return oe("duration"),oe("easing"),q},d.supplyFrameDefaults=function(j){var q={};function oe(Q,K){return t.coerce(j,q,f,Q,K)}return oe("group"),oe("name"),oe("traces"),oe("baseframe"),oe("data"),oe("layout"),q},d.supplyTraceDefaults=function(j,q,oe,Q,K){var se=Q.colorway||o.defaults,ne=se[oe%se.length],fe;function ye(Ve,at){return t.coerce(j,q,d.attributes,Ve,at)}var Ee=ye("visible");ye("type"),ye("name",Q._traceWord+" "+K),ye("uirevision",Q.uirevision);var Te=d.getModule(q);if(q._module=Te,Te){var ze=Te.basePlotModule,ke=ze.attr,Se=ze.attributes;if(ke&&Se){var me=Q._subplots,Ce="";if(Ee||ze.name!=="gl2d"){if(Array.isArray(ke))for(fe=0;fe<ke.length;fe++){var Ne=ke[fe],He=t.coerce(j,q,Se,Ne);me[Ne]&&t.pushUnique(me[Ne],He),Ce+=He}else Ce=t.coerce(j,q,Se,ke);me[ze.name]&&t.pushUnique(me[ze.name],Ce)}}}if(Ee){if(ye("customdata"),ye("ids"),ye("meta"),v.traceIs(q,"showLegend")?(t.coerce(j,q,Te.attributes.showlegend?Te.attributes:d.attributes,"showlegend"),ye("legend"),ye("legendwidth"),ye("legendgroup"),ye("legendgrouptitle.text"),ye("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,Te&&Te.supplyDefaults(j,q,ne,Q),v.traceIs(q,"noOpacity")||ye("opacity"),v.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),v.traceIs(q,"noHover")||(q.hovertemplate||t.coerceHoverinfo(j,q,Q),q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(j,q,ne,Q)),Te&&Te.selectPoints){var De=ye("selectedpoints");t.isTypedArray(De)&&(q.selectedpoints=Array.from(De))}d.supplyTransformDefaults(j,q,Q)}return q};function U(j){var q=j.transforms;if(Array.isArray(q)&&q.length)for(var oe=0;oe<q.length;oe++){var Q=q[oe],K=Q._module||A[Q.type];if(K&&K.makesData)return!0}return!1}d.hasMakesDataTransform=U,d.supplyTransformDefaults=function(j,q,oe){if(q._length||U(j)){var Q=oe._globalTransforms||[],K=oe._transformModules||[];if(!(!Array.isArray(j.transforms)&&Q.length===0))for(var se=j.transforms||[],ne=Q.concat(se),fe=q.transforms=[],ye=0;ye<ne.length;ye++){var Ee=ne[ye],Te=Ee.type,ze=A[Te],ke,Se=!(Ee._module&&Ee._module===ze),me=ze&&typeof ze.transform=="function";ze||t.warn("Unrecognized transform type "+Te+"."),ze&&ze.supplyDefaults&&(Se||me)?(ke=ze.supplyDefaults(Ee,q,oe,j),ke.type=Te,ke._module=ze,t.pushUnique(K,ze)):ke=t.extendFlat({},Ee),fe.push(ke)}}};function z(j,q,oe,Q){for(var K=j.transforms,se=[j],ne=0;ne<K.length;ne++){var fe=K[ne],ye=A[fe.type];ye&&ye.transform&&(se=ye.transform(se,{transform:fe,fullTrace:j,fullData:q,layout:oe,fullLayout:Q,transformIndex:ne}))}return se}d.supplyLayoutGlobalDefaults=function(j,q,oe){function Q(ze,ke){return t.coerce(j,q,d.layoutAttributes,ze,ke)}var K=j.template;t.isPlainObject(K)&&(q.template=K,q._template=K.layout,q._dataTemplate=K.data),Q("autotypenumbers");var se=t.coerceFont(Q,"font"),ne=se.size;t.coerceFont(Q,"title.font",t.extendFlat({},se,{size:Math.round(ne*1.4)})),Q("title.text",q._dfltTitle.plot),Q("title.xref");var fe=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var ye=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),ye&&(fe==="paper"&&(q.title.y!==0&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y===0?"top":"bottom")),fe==="container"&&(q.title.y==="auto"&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y<.5?"bottom":"top")));var Ee=Q("uniformtext.mode");Ee&&Q("uniformtext.minsize"),Q("autosize",!(j.width&&j.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),j.width&&j.height&&d.sanitizeMargins(q),v.getComponentMethod("grid","sizeDefaults")(j,q),Q("paper_bgcolor"),Q("separators",oe.decimal+oe.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var Te=Q("uirevision");Q("editrevision",Te),Q("selectionrevision",Te),v.getComponentMethod("modebar","supplyLayoutDefaults")(j,q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(j,q,Q),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(j,q,Q),Q("meta"),t.isPlainObject(j.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(j,q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(j,q,Q),t.coerce(j,q,l,"scattermode")};function F(j){return typeof j=="string"&&j.substr(j.length-2)==="px"&&parseFloat(j)}d.plotAutoSize=function(q,oe,Q){var K=q._context||{},se=K.frameMargins,ne,fe,ye=t.isPlotDiv(q);if(ye&&q.emit("plotly_autosize"),K.fillFrame)ne=window.innerWidth,fe=window.innerHeight,document.body.style.overflow="hidden";else{var Ee=ye?window.getComputedStyle(q):{};if(ne=F(Ee.width)||F(Ee.maxWidth)||Q.width,fe=F(Ee.height)||F(Ee.maxHeight)||Q.height,L(se)&&se>0){var Te=1-2*se;ne=Math.round(Te*ne),fe=Math.round(Te*fe)}}var ze=d.layoutAttributes.width.min,ke=d.layoutAttributes.height.min;ne<ze&&(ne=ze),fe<ke&&(fe=ke);var Se=!oe.width&&Math.abs(Q.width-ne)>1,me=!oe.height&&Math.abs(Q.height-fe)>1;(me||Se)&&(Se&&(Q.width=ne),me&&(Q.height=fe)),q._initialAutoSize||(q._initialAutoSize={width:ne,height:fe}),d.sanitizeMargins(Q)},d.supplyLayoutModuleDefaults=function(j,q,oe,Q){var K=v.componentsRegistry,se=q._basePlotModules,ne,fe,ye,Ee=v.subplotsRegistry.cartesian;for(ne in K)ye=K[ne],ye.includeBasePlot&&ye.includeBasePlot(j,q);se.length||se.push(Ee),q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(j,q),Ee.finalizeSubplots(j,q));for(var Te in q._subplots)q._subplots[Te].sort(t.subplotSort);for(fe=0;fe<se.length;fe++)ye=se[fe],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe);var ze=q._modules;for(fe=0;fe<ze.length;fe++)ye=ze[fe],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe);var ke=q._transformModules;for(fe=0;fe<ke.length;fe++)ye=ke[fe],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe,Q);for(ne in K)ye=K[ne],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe)},d.purge=function(j){var q=j._fullLayout||{};q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),j._transitionData&&(j._transitionData._interruptCallbacks&&(j._transitionData._interruptCallbacks.length=0),j._transitionData._animationRaf&&window.cancelAnimationFrame(j._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(j),delete j.data,delete j.layout,delete j._fullData,delete j._fullLayout,delete j.calcdata,delete j.empty,delete j.fid,delete j.undoqueue,delete j.undonum,delete j.autoplay,delete j.changed,delete j._promises,delete j._redrawTimer,delete j._hmlumcount,delete j._hmpixcount,delete j._transitionData,delete j._transitioning,delete j._initialAutoSize,delete j._transitioningWithDuration,delete j._dragging,delete j._dragged,delete j._dragdata,delete j._hoverdata,delete j._snapshotInProgress,delete j._editing,delete j._mouseDownTime,delete j._legendMouseDownTime,j.removeAllListeners&&j.removeAllListeners()},d.style=function(j){var q=j._fullLayout._visibleModules,oe=[],Q;for(Q=0;Q<q.length;Q++){var K=q[Q];K.style&&t.pushUnique(oe,K.style)}for(Q=0;Q<oe.length;Q++)oe[Q](j)},d.sanitizeMargins=function(j){if(!(!j||!j.margin)){var q=j.width,oe=j.height,Q=j.margin,K=q-(Q.l+Q.r),se=oe-(Q.t+Q.b),ne;K<0&&(ne=(q-1)/(Q.l+Q.r),Q.l=Math.floor(ne*Q.l),Q.r=Math.floor(ne*Q.r)),se<0&&(ne=(oe-1)/(Q.t+Q.b),Q.t=Math.floor(ne*Q.t),Q.b=Math.floor(ne*Q.b))}},d.clearAutoMarginIds=function(j){j._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(j,q){j._fullLayout._pushmarginIds[q]=1};function B(j){var q=j.margin;if(!j._size){var oe=j._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};oe.w=Math.round(j.width)-oe.l-oe.r,oe.h=Math.round(j.height)-oe.t-oe.b}j._pushmargin||(j._pushmargin={}),j._pushmarginIds||(j._pushmarginIds={}),j._reservedMargin||(j._reservedMargin={})}var O=2,N=2;d.autoMargin=function(j,q,oe){var Q=j._fullLayout,K=Q.width,se=Q.height,ne=Q.margin,fe=Q.minreducedwidth,ye=Q.minreducedheight,Ee=t.constrain(K-ne.l-ne.r,O,fe),Te=t.constrain(se-ne.t-ne.b,N,ye),ze=Math.max(0,K-Ee),ke=Math.max(0,se-Te),Se=Q._pushmargin,me=Q._pushmarginIds;if(ne.autoexpand!==!1){if(!oe)delete Se[q],delete me[q];else{var Ce=oe.pad;if(Ce===void 0&&(Ce=Math.min(12,ne.l,ne.r,ne.t,ne.b)),ze){var Ne=(oe.l+oe.r)/ze;Ne>1&&(oe.l/=Ne,oe.r/=Ne)}if(ke){var He=(oe.t+oe.b)/ke;He>1&&(oe.t/=He,oe.b/=He)}var De=oe.xl!==void 0?oe.xl:oe.x,Ve=oe.xr!==void 0?oe.xr:oe.x,at=oe.yt!==void 0?oe.yt:oe.y,lt=oe.yb!==void 0?oe.yb:oe.y;Se[q]={l:{val:De,size:oe.l+Ce},r:{val:Ve,size:oe.r+Ce},b:{val:lt,size:oe.b+Ce},t:{val:at,size:oe.t+Ce}},me[q]=1}if(!Q._replotting)return d.doAutoMargin(j)}};function Y(j){if("_redrawFromAutoMarginCount"in j._fullLayout)return!1;var q=c.list(j,"",!0);for(var oe in q)if(q[oe].autoshift||q[oe].shift)return!0;return!1}d.doAutoMargin=function(j){var q=j._fullLayout,oe=q.width,Q=q.height;q._size||(q._size={}),B(q);var K=q._size,se=q.margin,ne={t:0,b:0,l:0,r:0},fe=t.extendFlat({},K),ye=se.l,Ee=se.r,Te=se.t,ze=se.b,ke=q._pushmargin,Se=q._pushmarginIds,me=q.minreducedwidth,Ce=q.minreducedheight;if(se.autoexpand!==!1){for(var Ne in ke)Se[Ne]||delete ke[Ne];var He=j._fullLayout._reservedMargin;for(var De in He)for(var Ve in He[De]){var at=He[De][Ve];ne[Ve]=Math.max(ne[Ve],at)}ke.base={l:{val:0,size:ye},r:{val:1,size:Ee},t:{val:1,size:Te},b:{val:0,size:ze}};for(var lt in ne){var $e=0;for(var et in ke)et!=="base"&&L(ke[et][lt].size)&&($e=ke[et][lt].size>$e?ke[et][lt].size:$e);var ct=Math.max(0,se[lt]-$e);ne[lt]=Math.max(0,ne[lt]-ct)}for(var dt in ke){var gt=ke[dt].l||{},At=ke[dt].b||{},Rt=gt.val,Vt=gt.size,Je=At.val,Ge=At.size,Ie=oe-ne.r-ne.l,Fe=Q-ne.t-ne.b;for(var Pe in ke){if(L(Vt)&&ke[Pe].r){var xe=ke[Pe].r.val,ge=ke[Pe].r.size;if(xe>Rt){var Me=(Vt*xe+(ge-Ie)*Rt)/(xe-Rt),Ae=(ge*(1-Rt)+(Vt-Ie)*(1-xe))/(xe-Rt);Me+Ae>ye+Ee&&(ye=Me,Ee=Ae)}}if(L(Ge)&&ke[Pe].t){var Ue=ke[Pe].t.val,Ze=ke[Pe].t.size;if(Ue>Je){var tt=(Ge*Ue+(Ze-Fe)*Je)/(Ue-Je),ft=(Ze*(1-Je)+(Ge-Fe)*(1-Ue))/(Ue-Je);tt+ft>ze+Te&&(ze=tt,Te=ft)}}}}}var pt=t.constrain(oe-se.l-se.r,O,me),Yt=t.constrain(Q-se.t-se.b,N,Ce),Jt=Math.max(0,oe-pt),Tt=Math.max(0,Q-Yt);if(Jt){var zt=(ye+Ee)/Jt;zt>1&&(ye/=zt,Ee/=zt)}if(Tt){var $t=(ze+Te)/Tt;$t>1&&(ze/=$t,Te/=$t)}if(K.l=Math.round(ye)+ne.l,K.r=Math.round(Ee)+ne.r,K.t=Math.round(Te)+ne.t,K.b=Math.round(ze)+ne.b,K.p=Math.round(se.pad),K.w=Math.round(oe)-K.l-K.r,K.h=Math.round(Q)-K.t-K.b,!q._replotting&&(d.didMarginChange(fe,K)||Y(j))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var wr=3*(1+Object.keys(Se).length);if(q._redrawFromAutoMarginCount<wr)return v.call("_doPlot",j);q._size=fe,t.warn("Too many auto-margin redraws.")}$(j)};function $(j){var q=c.list(j,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(oe){for(var Q=0;Q<q.length;Q++){var K=q[Q][oe];K&&K()}})}var te=["l","r","t","b","p","w","h"];d.didMarginChange=function(j,q){for(var oe=0;oe<te.length;oe++){var Q=te[oe],K=j[Q],se=q[Q];if(!L(K)||Math.abs(se-K)>1)return!0}return!1},d.graphJson=function(j,q,oe,Q,K,se){(K&&q&&!j._fullData||K&&!q&&!j._fullLayout)&&d.supplyDefaults(j);var ne=K?j._fullData:j.data,fe=K?j._fullLayout:j.layout,ye=(j._transitionData||{})._frames;function Ee(ke,Se){if(typeof ke=="function")return Se?"_function_":null;if(t.isPlainObject(ke)){var me={},Ce;return Object.keys(ke).sort().forEach(function(Ve){if(["_","["].indexOf(Ve.charAt(0))===-1){if(typeof ke[Ve]=="function"){Se&&(me[Ve]="_function");return}if(oe==="keepdata"){if(Ve.substr(Ve.length-3)==="src")return}else if(oe==="keepstream"){if(Ce=ke[Ve+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0&&!t.isPlainObject(ke.stream))return}else if(oe!=="keepall"&&(Ce=ke[Ve+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0))return;me[Ve]=Ee(ke[Ve],Se)}}),me}var Ne=Array.isArray(ke),He=t.isTypedArray(ke);if((Ne||He)&&ke.dtype&&ke.shape){var De=ke.bdata;return Ee({dtype:ke.dtype,shape:ke.shape,bdata:t.isArrayBuffer(De)?M.encode(De):De},Se)}return Ne?ke.map(function(Ve){return Ee(Ve,Se)}):He?t.simpleMap(ke,t.identity):t.isJSDate(ke)?t.ms2DateTimeLocal(+ke):ke}var Te={data:(ne||[]).map(function(ke){var Se=Ee(ke);return q&&delete Se.fit,Se})};if(!q&&(Te.layout=Ee(fe),K)){var ze=fe._size;Te.layout.computed={margin:{b:ze.b,l:ze.l,r:ze.r,t:ze.t}}}return ye&&(Te.frames=Ee(ye)),se&&(Te.config=Ee(j._context,!0)),Q==="object"?Te:JSON.stringify(Te)},d.modifyFrames=function(j,q){var oe,Q,K,se=j._transitionData._frames,ne=j._transitionData._frameHash;for(oe=0;oe<q.length;oe++)switch(Q=q[oe],Q.type){case"replace":K=Q.value;var fe=(se[Q.index]||{}).name,ye=K.name;se[Q.index]=ne[ye]=K,ye!==fe&&(delete ne[fe],ne[ye]=K);break;case"insert":K=Q.value,ne[K.name]=K,se.splice(Q.index,0,K);break;case"delete":K=se[Q.index],delete ne[K.name],se.splice(Q.index,1);break}return Promise.resolve()},d.computeFrame=function(j,q){var oe=j._transitionData._frameHash,Q,K,se,ne;if(!q)throw new Error("computeFrame must be given a string frame name");var fe=oe[q.toString()];if(!fe)return!1;for(var ye=[fe],Ee=[fe.name];fe.baseframe&&(fe=oe[fe.baseframe.toString()])&&Ee.indexOf(fe.name)===-1;)ye.push(fe),Ee.push(fe.name);for(var Te={};fe=ye.pop();)if(fe.layout&&(Te.layout=d.extendLayout(Te.layout,fe.layout)),fe.data){if(Te.data||(Te.data=[]),K=fe.traces,!K)for(K=[],Q=0;Q<fe.data.length;Q++)K[Q]=Q;for(Te.traces||(Te.traces=[]),Q=0;Q<fe.data.length;Q++)se=K[Q],se!=null&&(ne=Te.traces.indexOf(se),ne===-1&&(ne=Te.data.length,Te.traces[ne]=se),Te.data[ne]=d.extendTrace(Te.data[ne],fe.data[Q]))}return Te},d.recomputeFrameHash=function(j){for(var q=j._transitionData._frameHash={},oe=j._transitionData._frames,Q=0;Q<oe.length;Q++){var K=oe[Q];K&&K.name&&(q[K.name]=K)}},d.extendObjectWithContainers=function(j,q,oe){var Q,K,se,ne,fe,ye,Ee,Te,ze=t.extendDeepNoArrays({},q||{}),ke=t.expandObjectPaths(ze),Se={};if(oe&&oe.length)for(se=0;se<oe.length;se++)Q=t.nestedProperty(ke,oe[se]),K=Q.get(),K===void 0?t.nestedProperty(Se,oe[se]).set(null):(Q.set(null),t.nestedProperty(Se,oe[se]).set(K));if(j=t.extendDeepNoArrays(j||{},ke),oe&&oe.length){for(se=0;se<oe.length;se++)if(fe=t.nestedProperty(Se,oe[se]),Ee=fe.get(),!!Ee){for(ye=t.nestedProperty(j,oe[se]),Te=ye.get(),Array.isArray(Te)||(Te=[],ye.set(Te)),ne=0;ne<Ee.length;ne++){var me=Ee[ne];me===null?Te[ne]=null:Te[ne]=d.extendObjectWithContainers(Te[ne],me)}ye.set(Te)}}return j},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(j,q){return d.extendObjectWithContainers(j,q,d.dataArrayContainers)},d.extendLayout=function(j,q){return d.extendObjectWithContainers(j,q,d.layoutArrayContainers)},d.transition=function(j,q,oe,Q,K,se){var ne={redraw:K.redraw},fe={},ye=[];return ne.prepareFn=function(){for(var Ee=Array.isArray(q)?q.length:0,Te=Q.slice(0,Ee),ze=0;ze<Te.length;ze++){var ke=Te[ze],Se=j._fullData[ke],me=Se._module;if(me){if(me.animatable){var Ce=me.basePlotModule.name;fe[Ce]||(fe[Ce]=[]),fe[Ce].push(ke)}j.data[Te[ze]]=d.extendTrace(j.data[Te[ze]],q[ze])}}var Ne=t.expandObjectPaths(t.extendDeepNoArrays({},oe)),He=/^[xy]axis[0-9]*$/;for(var De in Ne)He.test(De)&&delete Ne[De].range;d.extendLayout(j.layout,Ne),delete j.calcdata,d.supplyDefaults(j),d.doCalcdata(j);var Ve=t.expandObjectPaths(oe);if(Ve){var at=j._fullLayout._plots;for(var lt in at){var $e=at[lt],et=$e.xaxis,ct=$e.yaxis,dt=et.range.slice(),gt=ct.range.slice(),At=null,Rt=null,Vt=null,Je=null;Array.isArray(Ve[et._name+".range"])?At=Ve[et._name+".range"].slice():Array.isArray((Ve[et._name]||{}).range)&&(At=Ve[et._name].range.slice()),Array.isArray(Ve[ct._name+".range"])?Rt=Ve[ct._name+".range"].slice():Array.isArray((Ve[ct._name]||{}).range)&&(Rt=Ve[ct._name].range.slice()),dt&&At&&(et.r2l(dt[0])!==et.r2l(At[0])||et.r2l(dt[1])!==et.r2l(At[1]))&&(Vt={xr0:dt,xr1:At}),gt&&Rt&&(ct.r2l(gt[0])!==ct.r2l(Rt[0])||ct.r2l(gt[1])!==ct.r2l(Rt[1]))&&(Je={yr0:gt,yr1:Rt}),(Vt||Je)&&ye.push(t.extendFlat({plotinfo:$e},Vt,Je))}}return Promise.resolve()},ne.runFn=function(Ee){var Te,ze=j._fullLayout._basePlotModules,ke=ye.length,Se;if(oe)for(Se=0;Se<ze.length;Se++)ze[Se].transitionAxes&&ze[Se].transitionAxes(j,ye,se,Ee);ke?(Te=t.extendFlat({},se),Te.duration=0,delete fe.cartesian):Te=se;for(var me in fe){var Ce=fe[me],Ne=j._fullData[Ce[0]]._module;Ne.basePlotModule.plot(j,Ce,Te,Ee)}},ie(j,se,ne)},d.transitionFromReact=function(j,q,oe,Q){var K=j._fullLayout,se=K.transition,ne={},fe=[];return ne.prepareFn=function(){var ye=K._plots;ne.redraw=!1,q.anim==="some"&&(ne.redraw=!0),oe.anim==="some"&&(ne.redraw=!0);for(var Ee in ye){var Te=ye[Ee],ze=Te.xaxis,ke=Te.yaxis,Se=Q[ze._name].range.slice(),me=Q[ke._name].range.slice(),Ce=ze.range.slice(),Ne=ke.range.slice();ze.setScale(),ke.setScale();var He=null,De=null;(ze.r2l(Se[0])!==ze.r2l(Ce[0])||ze.r2l(Se[1])!==ze.r2l(Ce[1]))&&(He={xr0:Se,xr1:Ce}),(ke.r2l(me[0])!==ke.r2l(Ne[0])||ke.r2l(me[1])!==ke.r2l(Ne[1]))&&(De={yr0:me,yr1:Ne}),(He||De)&&fe.push(t.extendFlat({plotinfo:Te},He,De))}return Promise.resolve()},ne.runFn=function(ye){for(var Ee=j._fullData,Te=j._fullLayout,ze=Te._basePlotModules,ke,Se,me,Ce=[],Ne=0;Ne<Ee.length;Ne++)Ce.push(Ne);function He(){if(j._fullLayout)for(var Ve=0;Ve<ze.length;Ve++)ze[Ve].transitionAxes&&ze[Ve].transitionAxes(j,fe,ke,ye)}function De(){if(j._fullLayout)for(var Ve=0;Ve<ze.length;Ve++)ze[Ve].plot(j,me,Se,ye)}fe.length&&q.anim?se.ordering==="traces first"?(ke=t.extendFlat({},se,{duration:0}),me=Ce,Se=se,setTimeout(He,se.duration),De()):(ke=se,me=null,Se=t.extendFlat({},se,{duration:0}),setTimeout(De,ke.duration),He()):fe.length?(ke=se,He()):q.anim&&(me=Ce,Se=se,De())},ie(j,se,ne)};function ie(j,q,oe){var Q=!1;function K(ze){var ke=Promise.resolve();if(!ze)return ke;for(;ze.length;)ke=ke.then(ze.shift());return ke}function se(ze){if(ze)for(;ze.length;)ze.shift()}function ne(){return j.emit("plotly_transitioning",[]),new Promise(function(ze){j._transitioning=!0,q.duration>0&&(j._transitioningWithDuration=!0),j._transitionData._interruptCallbacks.push(function(){Q=!0}),oe.redraw&&j._transitionData._interruptCallbacks.push(function(){return v.call("redraw",j)}),j._transitionData._interruptCallbacks.push(function(){j.emit("plotly_transitioninterrupted",[])});var ke=0,Se=0;function me(){return ke++,function(){Se++,!Q&&Se===ke&&fe(ze)}}oe.runFn(me),setTimeout(me())})}function fe(ze){if(j._transitionData)return se(j._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(oe.redraw)return v.call("redraw",j)}).then(function(){j._transitioning=!1,j._transitioningWithDuration=!1,j.emit("plotly_transitioned",[])}).then(ze)}function ye(){if(j._transitionData)return j._transitioning=!1,K(j._transitionData._interruptCallbacks)}var Ee=[d.previousPromises,ye,oe.prepareFn,d.rehover,d.reselect,ne],Te=t.syncOrAsync(Ee,j);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return j})}d.doCalcdata=function(j,q){var oe=c.list(j),Q=j._fullData,K=j._fullLayout,se,ne,fe,ye,Ee=new Array(Q.length),Te=(j.calcdata||[]).slice();for(j.calcdata=Ee,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},j._hmpixcount=0,j._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},fe=0;fe<Q.length;fe++)if(Array.isArray(q)&&q.indexOf(fe)===-1){Ee[fe]=Te[fe];continue}for(fe=0;fe<Q.length;fe++)se=Q[fe],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var ze=K._subplots.polar||[];for(fe=0;fe<ze.length;fe++)oe.push(K[ze[fe]].radialaxis,K[ze[fe]].angularaxis);for(var ke in K._colorAxes){var Se=K[ke];Se.cauto!==!1&&(delete Se.cmin,delete Se.cmax)}var me=!1;function Ce(De){if(se=Q[De],ne=se._module,se.visible===!0&&se.transforms){if(ne&&ne.calc){var Ve=ne.calc(j,se);Ve[0]&&Ve[0].t&&Ve[0].t._scene&&delete Ve[0].t._scene.dirty}for(ye=0;ye<se.transforms.length;ye++){var at=se.transforms[ye];ne=A[at.type],ne&&ne.calcTransform&&(se._hasCalcTransform=!0,me=!0,ne.calcTransform(j,se,at))}}}function Ne(De,Ve){if(se=Q[De],ne=se._module,!!ne.isContainer===Ve){var at=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var lt=se.transforms||[];for(ye=lt.length-1;ye>=0;ye--)if(lt[ye].enabled){se._indexToPoints=lt[ye]._indexToPoints;break}ne&&ne.calc&&(at=ne.calc(j,se))}(!Array.isArray(at)||!at[0])&&(at=[{x:n,y:n}]),at[0].t||(at[0].t={}),at[0].trace=se,Ee[De]=at}}for(Z(oe,Q,K),fe=0;fe<Q.length;fe++)Ne(fe,!0);for(fe=0;fe<Q.length;fe++)Ce(fe);for(me&&Z(oe,Q,K),fe=0;fe<Q.length;fe++)Ne(fe,!0);for(fe=0;fe<Q.length;fe++)Ne(fe,!1);ae(j);var He=J(oe,j);if(He.length){for(K._numBoxes=0,K._numViolins=0,fe=0;fe<He.length;fe++)Ne(He[fe],!0);for(fe=0;fe<He.length;fe++)Ne(He[fe],!1);ae(j)}v.getComponentMethod("fx","calc")(j),v.getComponentMethod("errorbars","calc")(j)};var ce=/(total|sum|min|max|mean|median) (ascending|descending)/;function J(j,q){var oe=[],Q,K,se,ne,fe;function ye(Pe,xe,ge){var Me=xe._id.charAt(0);if(Pe==="histogram2dcontour"){var Ae=xe._counterAxes[0],Ue=c.getFromId(q,Ae),Ze=Me==="x"||Ae==="x"&&Ue.type==="category",tt=Me==="y"||Ae==="y"&&Ue.type==="category";return function(ft,pt){return ft===0||pt===0||Ze&&ft===ge[pt].length-1||tt&&pt===ge.length-1?-1:(Me==="y"?pt:ft)-1}}else return function(ft,pt){return Me==="y"?pt:ft}}var Ee={min:function(Pe){return t.aggNums(Math.min,null,Pe)},max:function(Pe){return t.aggNums(Math.max,null,Pe)},sum:function(Pe){return t.aggNums(function(xe,ge){return xe+ge},null,Pe)},total:function(Pe){return t.aggNums(function(xe,ge){return xe+ge},null,Pe)},mean:function(Pe){return t.mean(Pe)},median:function(Pe){return t.median(Pe)}};function Te(Pe,xe){return Pe[1]-xe[1]}function ze(Pe,xe){return xe[1]-Pe[1]}for(Q=0;Q<j.length;Q++){var ke=j[Q];if(ke.type==="category"){var Se=ke.categoryorder.match(ce);if(Se){var me=Se[1],Ce=Se[2],Ne=ke._id.charAt(0),He=Ne==="x",De=[];for(K=0;K<ke._categories.length;K++)De.push([ke._categories[K],[]]);for(K=0;K<ke._traceIndices.length;K++){var Ve=ke._traceIndices[K],at=q._fullData[Ve];if(at.visible===!0){var lt=at.type;v.traceIs(at,"histogram")&&(delete at._xautoBinFinished,delete at._yautoBinFinished);var $e=lt==="splom",et=lt==="scattergl",ct=q.calcdata[Ve];for(se=0;se<ct.length;se++){var dt=ct[se],gt,At;if($e){var Rt=at._axesDim[ke._id];if(!He){var Vt=at._diag[Rt][0];Vt&&(ke=q._fullLayout[c.id2name(Vt)])}var Je=dt.trace.dimensions[Rt].values;for(ne=0;ne<Je.length;ne++)for(gt=ke._categoriesMap[Je[ne]],fe=0;fe<dt.trace.dimensions.length;fe++)if(fe!==Rt){var Ge=dt.trace.dimensions[fe];De[gt][1].push(Ge.values[ne])}}else if(et){for(ne=0;ne<dt.t.x.length;ne++)He?(gt=dt.t.x[ne],At=dt.t.y[ne]):(gt=dt.t.y[ne],At=dt.t.x[ne]),De[gt][1].push(At);dt.t&&dt.t._scene&&delete dt.t._scene.dirty}else if(dt.hasOwnProperty("z")){At=dt.z;var Ie=ye(at.type,ke,At);for(ne=0;ne<At.length;ne++)for(fe=0;fe<At[ne].length;fe++)gt=Ie(fe,ne),gt+1&&De[gt][1].push(At[ne][fe])}else for(gt=dt.p,gt===void 0&&(gt=dt[Ne]),At=dt.s,At===void 0&&(At=dt.v),At===void 0&&(At=He?dt.y:dt.x),Array.isArray(At)||(At===void 0?At=[]:At=[At]),ne=0;ne<At.length;ne++)De[gt][1].push(At[ne])}}}ke._categoriesValue=De;var Fe=[];for(K=0;K<De.length;K++)Fe.push([De[K][0],Ee[me](De[K][1])]);Fe.sort(Ce==="descending"?ze:Te),ke._categoriesAggregatedValue=Fe,ke._initialCategories=Fe.map(function(Pe){return Pe[0]}),oe=oe.concat(ke.sortByInitialCategories())}}}return oe}function Z(j,q,oe){var Q={};function K(ye){ye.clearCalc(),ye.type==="multicategory"&&ye.setupMultiCategory(q),Q[ye._id]=1}t.simpleMap(j,K);for(var se=oe._axisMatchGroups||[],ne=0;ne<se.length;ne++)for(var fe in se[ne])Q[fe]||K(oe[c.id2name(fe)])}function ae(j){var q=j._fullLayout,oe=q._visibleModules,Q={},K,se,ne;for(se=0;se<oe.length;se++){var fe=oe[se],ye=fe.crossTraceCalc;if(ye){var Ee=fe.basePlotModule.name;Q[Ee]?t.pushUnique(Q[Ee],ye):Q[Ee]=[ye]}}for(ne in Q){var Te=Q[ne],ze=q._subplots[ne];if(Array.isArray(ze))for(K=0;K<ze.length;K++){var ke=ze[K],Se=ne==="cartesian"?q._plots[ke]:q[ke];for(se=0;se<Te.length;se++)Te[se](j,Se,ke)}else for(se=0;se<Te.length;se++)Te[se](j)}}d.rehover=function(j){j._fullLayout._rehover&&j._fullLayout._rehover()},d.redrag=function(j){j._fullLayout._redrag&&j._fullLayout._redrag()},d.reselect=function(j){var q=j._fullLayout,oe=(j.layout||{}).selections,Q=q._previousSelections;q._previousSelections=oe;var K=q._reselect||JSON.stringify(oe)!==JSON.stringify(Q);v.getComponentMethod("selections","reselect")(j,K)},d.generalUpdatePerTraceModule=function(j,q,oe,Q){var K=q.traceHash,se={},ne;for(ne=0;ne<oe.length;ne++){var fe=oe[ne],ye=fe[0].trace;ye.visible&&(se[ye.type]=se[ye.type]||[],se[ye.type].push(fe))}for(var Ee in K)if(!se[Ee]){var Te=K[Ee][0],ze=Te[0].trace;ze.visible=!1,se[Ee]=[Te]}for(var ke in se){var Se=se[ke],me=Se[0][0].trace._module;me.plot(j,q,t.filterVisible(Se),Q)}q.traceHash=se},d.plotBasePlot=function(j,q,oe,Q,K){var se=v.getModule(j),ne=T(q.calcdata,se)[0];se.plot(q,ne,Q,K)},d.cleanBasePlot=function(j,q,oe,Q,K){var se=K._has&&K._has(j),ne=oe._has&&oe._has(j);se&&!ne&&K["_"+j+"layer"].selectAll("g.trace").remove()}},9813:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(G,H,e){var y=e(71828),P=e(61082).tester,a=y.findIndexOfMin,L=y.isAngleInsideSector,M=y.angleDelta,v=y.angleDist;function p(s,d,A,w,C){if(!L(d,w))return!1;var b,S;A[0]<A[1]?(b=A[0],S=A[1]):(b=A[1],S=A[0]);var x=P(c(b,w[0],w[1],C)),i=P(c(S,w[0],w[1],C)),E=[s*Math.cos(d),s*Math.sin(d)];return i.contains(E)&&!x.contains(E)}function r(s,d,A,w){var C,b,S=w[0],x=w[1],i=g(Math.sin(d)-Math.sin(s)),E=g(Math.cos(d)-Math.cos(s)),m=Math.tan(A),k=g(1/m),I=i/E,U=x-I*S;return k?i&&E?(C=U/(m-I),b=m*C):E?(C=x*k,b=x):(C=S,b=S*m):i&&E?(C=0,b=U):E?(C=0,b=x):C=b=NaN,[C,b]}function t(s,d,A,w){var C=-d*A,b=d*d+1,S=2*(d*C-A),x=C*C+A*A-s*s,i=Math.sqrt(S*S-4*b*x),E=(-S+i)/(2*b),m=(-S-i)/(2*b);return[[E,d*E+C+w],[m,d*m+C+w]]}function o(s,d){var A=d.length,w=new Array(A+1),C;for(C=0;C<A;C++){var b=d[C];w[C]=[s*Math.cos(b),s*Math.sin(b)]}return w[C]=w[0].slice(),w}function n(s,d,A,w){var C=w.length,b=[],S,x;function i(O){return[s*Math.cos(O),s*Math.sin(O)]}function E(O,N,Y){return r(O,N,Y,i(O))}function m(O){return y.mod(O,C)}function k(O){return L(O,[d,A])}var I=a(w,function(O){return k(O)?v(O,d):1/0}),U=E(w[I],w[m(I-1)],d);for(b.push(U),S=I,x=0;x<C;S++,x++){var z=w[m(S)];if(!k(z))break;b.push(i(z))}var F=a(w,function(O){return k(O)?v(O,A):1/0}),B=E(w[F],w[m(F+1)],A);return b.push(B),b.push([0,0]),b.push(b[0].slice()),b}function c(s,d,A,w){return y.isFullCircle([d,A])?o(s,w):n(s,d,A,w)}function u(s,d,A,w){for(var C=1/0,b=1/0,S=c(s,d,A,w),x=0;x<S.length;x++){var i=S[x];C=Math.min(C,i[0]),b=Math.min(b,-i[1])}return[C,b]}function l(s,d){var A=function(b){var S=M(b,s);return S>0?S:1/0},w=a(d,A),C=y.mod(w+1,d.length);return[d[w],d[C]]}function g(s){return Math.abs(s)>1e-10?s:0}function f(s,d,A){d=d||0,A=A||0;for(var w=s.length,C=new Array(w),b=0;b<w;b++){var S=s[b];C[b]=[d+S[0],A-S[1]]}return C}function T(s,d,A,w,C,b){var S=c(s,d,A,w);return"M"+f(S,C,b).join("L")}function h(s,d,A,w,C,b,S){var x,i;s<d?(x=s,i=d):(x=d,i=s);var E=f(c(x,A,w,C),b,S),m=f(c(i,A,w,C),b,S);return"M"+m.reverse().join("L")+"M"+E.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:g,pathPolygon:T,pathPolygonAnnulus:h}},23580:function(G,H,e){var y=e(27659).AU,P=e(71828).counterRegex,a=e(77997),L=e(9813),M=L.attr,v=L.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var c=n._fullLayout,u=n.calcdata,l=c._subplots[v],g=0;g<l.length;g++){var f=l[g],T=y(u,v,f),h=c[f]._subplot;h||(h=a(n,f),c[f]._subplot=h),h.plot(T,c,n._promises)}}function o(n,c,u,l){for(var g=l._subplots[v]||[],f=l._has&&l._has("gl"),T=c._has&&c._has("gl"),h=f&&!T,s=0;s<g.length;s++){var d=g[s],A=l[d]._subplot;if(!c[d]&&A){A.framework.remove(),A.layers["radial-axis-title"].remove();for(var w in A.clipPaths)A.clipPaths[w].remove()}h&&A._scene&&(A._scene.destroy(),A._scene=null)}}G.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:t,clean:o,toSVG:e(93612).toSVG}},73812:function(G,H,e){var y=e(22399),P=e(13838),a=e(27670).Y,L=e(71828).extendFlat,M=e(30962).overrideAll,v=M({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(r,v,p);var t={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,v,p),G.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:y.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(G,H,e){var y=e(71828),P=e(7901),a=e(44467),L=e(49119),M=e(27659).NG,v=e(26218),p=e(38701),r=e(96115),t=e(89426),o=e(15258),n=e(92128),c=e(23074),u=e(4322),l=e(73812),g=e(12101),f=e(9813),T=f.axisNames;function h(d,A,w,C){var b=w("bgcolor");C.bgColor=P.combine(b,C.paper_bgcolor);var S=w("sector");w("hole");var x=M(C.fullData,f.name,C.id),i=C.layoutOut,E;function m(q,oe){return w(E+"."+q,oe)}for(var k=0;k<T.length;k++){E=T[k],y.isPlainObject(d[E])||(d[E]={});var I=d[E],U=a.newContainer(A,E);U._id=U._name=E,U._attr=C.id+"."+E,U._traceIndices=x.map(function(q){return q._expandedIndex});var z=f.axisName2dataArray[E],F=s(I,U,m,x,z,C);o(I,U,m,{axData:x,dataAttr:z});var B=m("visible");switch(g(U,A,i),m("uirevision",A.uirevision),U._m=1,E){case"radialaxis":m("minallowed"),m("maxallowed");var O=m("range"),N=U.getAutorangeDflt(O),Y=m("autorange",N),$;O&&(O[0]===null&&O[1]===null||(O[0]===null||O[1]===null)&&(Y==="reversed"||Y===!0)||O[0]!==null&&(Y==="min"||Y==="max reversed")||O[1]!==null&&(Y==="max"||Y==="min reversed"))&&(O=void 0,delete U.range,U.autorange=!0,$=!0),$||(N=U.getAutorangeDflt(O),Y=m("autorange",N)),I.autorange=Y,Y&&(c(m,Y,O),(F==="linear"||F==="-")&&m("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){y.log("Polar plots do not support date angular axes yet.");for(var te=0;te<x.length;te++)x[te].visible=!1;F=I.type=U.type="linear"}m(F==="linear"?"thetaunit":"period");var ie=m("direction");m("rotation",{counterclockwise:0,clockwise:90}[ie]);break}if(t(I,U,m,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"":void 0}),B){var ce,J,Z,ae,j=C.font||{};ce=m("color"),J=ce===I.color?ce:j.color,Z=j.size,ae=j.family,v(I,U,m,U.type),r(I,U,m,U.type,{font:{color:J,size:Z,family:ae}}),p(I,U,m,{outerTicks:!0}),n(I,U,m,{dfltColor:ce,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[E]}),m("layer"),E==="radialaxis"&&(m("side"),m("angle",S[0]),m("title.text"),y.coerceFont(m,"title.font",{color:J,size:y.bigFont(Z),family:ae}))}F!=="category"&&m("hoverformat"),U._input=I}A.angularaxis.type==="category"&&w("gridshape")}function s(d,A,w,C,b,S){var x=w("autotypenumbers",S.autotypenumbersDflt),i=w("type");if(i==="-"){for(var E,m=0;m<C.length;m++)if(C[m].visible){E=C[m];break}E&&E[b]&&(A.type=u(E[b],"gregorian",{noMultiCategory:!0,autotypenumbers:x})),A.type==="-"?A.type="linear":d.type=A.type}return A.type}G.exports=function(A,w,C){L(A,w,C,{type:f.name,attributes:l,handleDefaults:h,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:C,layoutOut:w})}},77997:function(G,H,e){var y=e(39898),P=e(84267),a=e(73972),L=e(71828),M=L.strRotate,v=L.strTranslate,p=e(7901),r=e(91424),t=e(74875),o=e(89298),n=e(21994),c=e(12101),u=e(71739).doAutoRange,l=e(29323),g=e(28569),f=e(30211),T=e(92998),h=e(47322).prepSelect,s=e(47322).selectOnClick,d=e(47322).clearOutline,A=e(6964),w=e(33306),C=e(61549).redrawReglTraces,b=e(18783).MID_SHIFT,S=e(9813),x=e(10869),i=e(23893),E=i.smith,m=i.reactanceArc,k=i.resistanceArc,I=i.smithTransform,U=L._,z=L.mod,F=L.deg2rad,B=L.rad2deg;function O(ce,J,Z){this.isSmith=Z||!1,this.id=J,this.gd=ce,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ae=ce._fullLayout,j="clip"+ae._uid+J;this.clipIds.forTraces=j+"-for-traces",this.clipPaths.forTraces=ae._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ae["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var N=O.prototype;G.exports=function(J,Z,ae){return new O(J,Z,ae)},N.plot=function(ce,J){for(var Z=this,ae=J[Z.id],j=!1,q=0;q<ce.length;q++){var oe=ce[q][0].trace;if(oe.cliponaxis===!1){j=!0;break}}Z._hasClipOnAxisFalse=j,Z.updateLayers(J,ae),Z.updateLayout(J,ae),t.generalUpdatePerTraceModule(Z.gd,Z,ce,ae),Z.updateFx(J,ae),Z.isSmith&&(delete ae.realaxis.range,delete ae.imaginaryaxis.range)},N.updateLayers=function(ce,J){var Z=this,ae=Z.isSmith,j=Z.layers,q=Z.getRadial(J),oe=Z.getAngular(J),Q=S.layerNames,K=Q.indexOf("frontplot"),se=Q.slice(0,K),ne=oe.layer==="below traces",fe=q.layer==="below traces";ne&&se.push("angular-line"),fe&&se.push("radial-line"),ne&&se.push("angular-axis"),fe&&se.push("radial-axis"),se.push("frontplot"),ne||se.push("angular-line"),fe||se.push("radial-line"),ne||se.push("angular-axis"),fe||se.push("radial-axis");var ye=(ae?"smith":"polar")+"sublayer",Ee=Z.framework.selectAll("."+ye).data(se,String);Ee.enter().append("g").attr("class",function(Te){return ye+" "+Te}).each(function(Te){var ze=j[Te]=y.select(this);switch(Te){case"frontplot":ae||ze.append("g").classed("barlayer",!0),ze.append("g").classed("scatterlayer",!0);break;case"backplot":ze.append("g").classed("maplayer",!0);break;case"plotbg":j.bg=ze.append("path");break;case"radial-grid":ze.style("fill","none");break;case"angular-grid":ze.style("fill","none");break;case"radial-line":ze.append("line").style("fill","none");break;case"angular-line":ze.append("path").style("fill","none");break}}),Ee.order()},N.updateLayout=function(ce,J){var Z=this,ae=Z.layers,j=ce._size,q=Z.getRadial(J),oe=Z.getAngular(J),Q=J.domain.x,K=J.domain.y;Z.xOffset=j.l+j.w*Q[0],Z.yOffset=j.t+j.h*(1-K[1]);var se=Z.xLength=j.w*(Q[1]-Q[0]),ne=Z.yLength=j.h*(K[1]-K[0]),fe=Z.getSector(J);Z.sectorInRad=fe.map(F);var ye=Z.sectorBBox=$(fe),Ee=ye[2]-ye[0],Te=ye[3]-ye[1],ze=ne/se,ke=Math.abs(Te/Ee),Se,me,Ce,Ne,He;ze>ke?(Se=se,me=se*ke,He=(ne-me)/j.h/2,Ce=[Q[0],Q[1]],Ne=[K[0]+He,K[1]-He]):(Se=ne/ke,me=ne,He=(se-Se)/j.w/2,Ce=[Q[0]+He,Q[1]-He],Ne=[K[0],K[1]]),Z.xLength2=Se,Z.yLength2=me,Z.xDomain2=Ce,Z.yDomain2=Ne;var De=Z.xOffset2=j.l+j.w*Ce[0],Ve=Z.yOffset2=j.t+j.h*(1-Ne[1]),at=Z.radius=Se/Ee,lt=Z.innerRadius=Z.getHole(J)*at,$e=Z.cx=De-at*ye[0],et=Z.cy=Ve+at*ye[3],ct=Z.cxx=$e-De,dt=Z.cyy=et-Ve,gt=q.side,At;gt==="counterclockwise"?(At=gt,gt="top"):gt==="clockwise"&&(At=gt,gt="bottom"),Z.radialAxis=Z.mockAxis(ce,J,q,{_id:"x",side:gt,_trueSide:At,domain:[lt/j.w,at/j.w]}),Z.angularAxis=Z.mockAxis(ce,J,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(ce,J),Z.updateAngularAxis(ce,J),Z.updateRadialAxis(ce,J),Z.updateRadialAxisTitle(ce,J),Z.xaxis=Z.mockCartesianAxis(ce,J,{_id:"x",domain:Ce}),Z.yaxis=Z.mockCartesianAxis(ce,J,{_id:"y",domain:Ne});var Rt=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",Rt).attr("transform",v(ct,dt)),ae.frontplot.attr("transform",v(De,Ve)).call(r.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),ae.bg.attr("d",Rt).attr("transform",v($e,et)).call(p.fill,J.bgcolor)},N.mockAxis=function(ce,J,Z,ae){var j=L.extendFlat({},Z,ae);return c(j,J,ce),j},N.mockCartesianAxis=function(ce,J,Z){var ae=this,j=ae.isSmith,q=Z._id,oe=L.extendFlat({type:"linear"},Z);n(oe,ce);var Q={x:[0,2],y:[1,3]};return oe.setRange=function(){var K=ae.sectorBBox,se=Q[q],ne=ae.radialAxis._rl,fe=(ne[1]-ne[0])/(1-ae.getHole(J));oe.range=[K[se[0]]*fe,K[se[1]]*fe]},oe.isPtWithinRange=q==="x"&&!j?function(K){return ae.isPtInside(K)}:function(){return!0},oe.setRange(),oe.setScale(),oe},N.doAutoRange=function(ce,J){var Z=this,ae=Z.gd,j=Z.radialAxis,q=Z.getRadial(J);u(ae,j);var oe=j.range;if(q.range=oe.slice(),q._input.range=oe.slice(),j._rl=[j.r2l(oe[0],null,"gregorian"),j.r2l(oe[1],null,"gregorian")],j.minallowed!==void 0){var Q=j.r2l(j.minallowed);j._rl[0]>j._rl[1]?j._rl[1]=Math.max(j._rl[1],Q):j._rl[0]=Math.max(j._rl[0],Q)}if(j.maxallowed!==void 0){var K=j.r2l(j.maxallowed);j._rl[0]<j._rl[1]?j._rl[1]=Math.min(j._rl[1],K):j._rl[0]=Math.min(j._rl[0],K)}},N.updateRadialAxis=function(ce,J){var Z=this,ae=Z.gd,j=Z.layers,q=Z.radius,oe=Z.innerRadius,Q=Z.cx,K=Z.cy,se=Z.getRadial(J),ne=z(Z.getSector(J)[0],360),fe=Z.radialAxis,ye=oe<q,Ee=Z.isSmith;Ee||(Z.fillViewInitialKey("radialaxis.angle",se.angle),Z.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&ne>90&&ne<=270&&(fe.tickangle=180);var Te=Ee?function(at){var lt=I(Z,E([at.x,0]));return v(lt[0]-Q,lt[1]-K)}:function(at){return v(fe.l2p(at.x)+oe,0)},ze=Ee?function(at){return k(Z,at.x,-1/0,1/0)}:function(at){return Z.pathArc(fe.r2p(at.x)+oe)},ke=Y(se);if(Z.radialTickLayout!==ke&&(j["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=ke),ye){fe.setScale();var Se=0,me=Ee?(fe.tickvals||[]).filter(function(at){return at>=0}).map(function(at){return o.tickText(fe,at,!0,!1)}):o.calcTicks(fe),Ce=Ee?me:o.clipEnds(fe,me),Ne=o.getTickSigns(fe)[2];Ee&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Ne=-Ne),fe.ticks==="top"&&fe.side==="top"&&(Se=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Se=fe.ticklen)),o.drawTicks(ae,fe,{vals:me,layer:j["radial-axis"],path:o.makeTickPath(fe,0,Ne),transFn:Te,crisp:!1}),o.drawGrid(ae,fe,{vals:Ce,layer:j["radial-grid"],path:ze,transFn:L.noop,crisp:!1}),o.drawLabels(ae,fe,{vals:me,layer:j["radial-axis"],transFn:Te,labelFns:o.makeLabelFns(fe,Se)})}var He=Z.radialAxisAngle=Z.vangles?B(te(F(se.angle),Z.vangles)):se.angle,De=v(Q,K),Ve=De+M(-He);ie(j["radial-axis"],ye&&(se.showticklabels||se.ticks),{transform:Ve}),ie(j["radial-grid"],ye&&se.showgrid,{transform:Ee?"":De}),ie(j["radial-line"].select("line"),ye&&se.showline,{x1:Ee?-q:oe,y1:0,x2:q,y2:0,transform:Ve}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},N.updateRadialAxisTitle=function(ce,J,Z){if(!this.isSmith){var ae=this,j=ae.gd,q=ae.radius,oe=ae.cx,Q=ae.cy,K=ae.getRadial(J),se=ae.id+"title",ne=0;if(K.title){var fe=r.bBox(ae.layers["radial-axis"].node()).height,ye=K.title.font.size,Ee=K.side;ne=Ee==="top"?ye:Ee==="counterclockwise"?-(fe+ye*.4):fe+ye*.8}var Te=Z!==void 0?Z:ae.radialAxisAngle,ze=F(Te),ke=Math.cos(ze),Se=Math.sin(ze),me=oe+q/2*ke+ne*Se,Ce=Q-q/2*Se+ne*ke;ae.layers["radial-axis-title"]=T.draw(j,se,{propContainer:K,propName:ae.id+".radialaxis.title",placeholder:U(j,"Click to enter radial axis title"),attributes:{x:me,y:Ce,"text-anchor":"middle"},transform:{rotate:-Te}})}},N.updateAngularAxis=function(ce,J){var Z=this,ae=Z.gd,j=Z.layers,q=Z.radius,oe=Z.innerRadius,Q=Z.cx,K=Z.cy,se=Z.getAngular(J),ne=Z.angularAxis,fe=Z.isSmith;fe||(Z.fillViewInitialKey("angularaxis.rotation",se.rotation),ne.setGeometry(),ne.setScale());var ye=fe?function(lt){var $e=I(Z,E([0,lt.x]));return Math.atan2($e[0]-Q,$e[1]-K)-Math.PI/2}:function(lt){return ne.t2g(lt.x)};ne.type==="linear"&&ne.thetaunit==="radians"&&(ne.tick0=B(ne.tick0),ne.dtick=B(ne.dtick));var Ee=function(lt){return v(Q+q*Math.cos(lt),K-q*Math.sin(lt))},Te=fe?function(lt){var $e=I(Z,E([0,lt.x]));return v($e[0],$e[1])}:function(lt){return Ee(ye(lt))},ze=fe?function(lt){var $e=I(Z,E([0,lt.x])),et=Math.atan2($e[0]-Q,$e[1]-K)-Math.PI/2;return v($e[0],$e[1])+M(-B(et))}:function(lt){var $e=ye(lt);return Ee($e)+M(-B($e))},ke=fe?function(lt){return m(Z,lt.x,0,1/0)}:function(lt){var $e=ye(lt),et=Math.cos($e),ct=Math.sin($e);return"M"+[Q+oe*et,K-oe*ct]+"L"+[Q+q*et,K-q*ct]},Se=o.makeLabelFns(ne,0),me=Se.labelStandoff,Ce={};Ce.xFn=function(lt){var $e=ye(lt);return Math.cos($e)*me},Ce.yFn=function(lt){var $e=ye(lt),et=Math.sin($e)>0?.2:1;return-Math.sin($e)*(me+lt.fontSize*et)+Math.abs(Math.cos($e))*(lt.fontSize*b)},Ce.anchorFn=function(lt){var $e=ye(lt),et=Math.cos($e);return Math.abs(et)<.1?"middle":et>0?"start":"end"},Ce.heightFn=function(lt,$e,et){var ct=ye(lt);return-.5*(1+Math.sin(ct))*et};var Ne=Y(se);Z.angularTickLayout!==Ne&&(j["angular-axis"].selectAll("."+ne._id+"tick").remove(),Z.angularTickLayout=Ne);var He=fe?[1/0].concat(ne.tickvals||[]).map(function(lt){return o.tickText(ne,lt,!0,!1)}):o.calcTicks(ne);fe&&(He[0].text="",He[0].fontSize*=1.75);var De;if(J.gridshape==="linear"?(De=He.map(ye),L.angleDelta(De[0],De[1])<0&&(De=De.slice().reverse())):De=null,Z.vangles=De,ne.type==="category"&&(He=He.filter(function(lt){return L.isAngleInsideSector(ye(lt),Z.sectorInRad)})),ne.visible){var Ve=ne.ticks==="inside"?-1:1,at=(ne.linewidth||1)/2;o.drawTicks(ae,ne,{vals:He,layer:j["angular-axis"],path:"M"+Ve*at+",0h"+Ve*ne.ticklen,transFn:ze,crisp:!1}),o.drawGrid(ae,ne,{vals:He,layer:j["angular-grid"],path:ke,transFn:L.noop,crisp:!1}),o.drawLabels(ae,ne,{vals:He,layer:j["angular-axis"],repositionOnUpdate:!0,transFn:Te,labelFns:Ce})}ie(j["angular-line"].select("path"),se.showline,{d:Z.pathSubplot(),transform:v(Q,K)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},N.updateFx=function(ce,J){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(ce),this.updateRadialDrag(ce,J,0),this.updateRadialDrag(ce,J,1)),this.updateHoverAndMainDrag(ce)}},N.updateHoverAndMainDrag=function(ce){var J=this,Z=J.isSmith,ae=J.gd,j=J.layers,q=ce._zoomlayer,oe=S.MINZOOM,Q=S.OFFEDGE,K=J.radius,se=J.innerRadius,ne=J.cx,fe=J.cy,ye=J.cxx,Ee=J.cyy,Te=J.sectorInRad,ze=J.vangles,ke=J.radialAxis,Se=x.clampTiny,me=x.findXYatLength,Ce=x.findEnclosingVertexAngles,Ne=S.cornerHalfWidth,He=S.cornerLen/2,De,Ve,at=l.makeDragger(j,"path","maindrag",ce.dragmode===!1?"none":"crosshair");y.select(at).attr("d",J.pathSubplot()).attr("transform",v(ne,fe)),at.onmousemove=function(Tt){f.hover(ae,Tt,J.id),ae._fullLayout._lasthover=at,ae._fullLayout._hoversubplot=J.id},at.onmouseout=function(Tt){ae._dragging||g.unhover(ae,Tt)};var lt={element:at,gd:ae,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]},$e,et,ct,dt,gt,At,Rt,Vt,Je;function Ge(Tt,zt){return Math.sqrt(Tt*Tt+zt*zt)}function Ie(Tt,zt){return Ge(Tt-ye,zt-Ee)}function Fe(Tt,zt){return Math.atan2(Ee-zt,Tt-ye)}function Pe(Tt,zt){return[Tt*Math.cos(zt),Tt*Math.sin(-zt)]}function xe(Tt,zt){if(Tt===0)return J.pathSector(2*Ne);var $t=He/Tt,wr=zt-$t,yt=zt+$t,Xt=Math.max(0,Math.min(Tt,K)),Qt=Xt-Ne,gr=Xt+Ne;return"M"+Pe(Qt,wr)+"A"+[Qt,Qt]+" 0,0,0 "+Pe(Qt,yt)+"L"+Pe(gr,yt)+"A"+[gr,gr]+" 0,0,1 "+Pe(gr,wr)+"Z"}function ge(Tt,zt,$t){if(Tt===0)return J.pathSector(2*Ne);var wr=Pe(Tt,zt),yt=Pe(Tt,$t),Xt=Se((wr[0]+yt[0])/2),Qt=Se((wr[1]+yt[1])/2),gr,sr;if(Xt&&Qt){var vt=Qt/Xt,it=-1/vt,xt=me(Ne,vt,Xt,Qt);gr=me(He,it,xt[0][0],xt[0][1]),sr=me(He,it,xt[1][0],xt[1][1])}else{var Mt,Dt;Qt?(Mt=He,Dt=Ne):(Mt=Ne,Dt=He),gr=[[Xt-Mt,Qt-Dt],[Xt+Mt,Qt-Dt]],sr=[[Xt-Mt,Qt+Dt],[Xt+Mt,Qt+Dt]]}return"M"+gr.join("L")+"L"+sr.reverse().join("L")+"Z"}function Me(){ct=null,dt=null,gt=J.pathSubplot(),At=!1;var Tt=ae._fullLayout[J.id];Rt=P(Tt.bgcolor).getLuminance(),Vt=l.makeZoombox(q,Rt,ne,fe,gt),Vt.attr("fill-rule","evenodd"),Je=l.makeCorners(q,ne,fe),d(ae)}function Ae(Tt,zt){return zt=Math.max(Math.min(zt,K),se),Tt<Q?Tt=0:K-Tt<Q?Tt=K:zt<Q?zt=0:K-zt<Q&&(zt=K),Math.abs(zt-Tt)>oe?(Tt<zt?(ct=Tt,dt=zt):(ct=zt,dt=Tt),!0):(ct=null,dt=null,!1)}function Ue(Tt,zt){Tt=Tt||gt,zt=zt||"M0,0Z",Vt.attr("d",Tt),Je.attr("d",zt),l.transitionZoombox(Vt,Je,At,Rt),At=!0;var $t={};Yt($t),ae.emit("plotly_relayouting",$t)}function Ze(Tt,zt){Tt=Tt*De,zt=zt*Ve;var $t=$e+Tt,wr=et+zt,yt=Ie($e,et),Xt=Math.min(Ie($t,wr),K),Qt=Fe($e,et),gr,sr;Ae(yt,Xt)&&(gr=gt+J.pathSector(dt),ct&&(gr+=J.pathSector(ct)),sr=xe(ct,Qt)+xe(dt,Qt)),Ue(gr,sr)}function tt(Tt,zt,$t,wr){var yt=x.findIntersectionXY($t,wr,$t,[Tt-ye,Ee-zt]);return Ge(yt[0],yt[1])}function ft(Tt,zt){var $t=$e+Tt,wr=et+zt,yt=Fe($e,et),Xt=Fe($t,wr),Qt=Ce(yt,ze),gr=Ce(Xt,ze),sr=tt($e,et,Qt[0],Qt[1]),vt=Math.min(tt($t,wr,gr[0],gr[1]),K),it,xt;Ae(sr,vt)&&(it=gt+J.pathSector(dt),ct&&(it+=J.pathSector(ct)),xt=[ge(ct,Qt[0],Qt[1]),ge(dt,Qt[0],Qt[1])].join(" ")),Ue(it,xt)}function pt(){if(l.removeZoombox(ae),!(ct===null||dt===null)){var Tt={};Yt(Tt),l.showDoubleClickNotifier(ae),a.call("_guiRelayout",ae,Tt)}}function Yt(Tt){var zt=ke._rl,$t=(zt[1]-zt[0])/(1-se/K)/K,wr=[zt[0]+(ct-se)*$t,zt[0]+(dt-se)*$t];Tt[J.id+".radialaxis.range"]=wr}function Jt(Tt,zt){var $t=ae._fullLayout.clickmode;if(l.removeZoombox(ae),Tt===2){var wr={};for(var yt in J.viewInitial)wr[J.id+"."+yt]=J.viewInitial[yt];ae.emit("plotly_doubleclick",null),a.call("_guiRelayout",ae,wr)}$t.indexOf("select")>-1&&Tt===1&&s(zt,ae,[J.xaxis],[J.yaxis],J.id,lt),$t.indexOf("event")>-1&&f.click(ae,zt,J.id)}lt.prepFn=function(Tt,zt,$t){var wr=ae._fullLayout.dragmode,yt=at.getBoundingClientRect();ae._fullLayout._calcInverseTransform(ae);var Xt=ae._fullLayout._invTransform;De=ae._fullLayout._invScaleX,Ve=ae._fullLayout._invScaleY;var Qt=L.apply3DTransform(Xt)(zt-yt.left,$t-yt.top);if($e=Qt[0],et=Qt[1],ze){var gr=x.findPolygonOffset(K,Te[0],Te[1],ze);$e+=ye+gr[0],et+=Ee+gr[1]}switch(wr){case"zoom":lt.clickFn=Jt,Z||(ze?lt.moveFn=ft:lt.moveFn=Ze,lt.doneFn=pt,Me());break;case"select":case"lasso":h(Tt,zt,$t,lt,wr);break}},g.init(lt)},N.updateRadialDrag=function(ce,J,Z){var ae=this,j=ae.gd,q=ae.layers,oe=ae.radius,Q=ae.innerRadius,K=ae.cx,se=ae.cy,ne=ae.radialAxis,fe=S.radialDragBoxSize,ye=fe/2;if(!ne.visible)return;var Ee=F(ae.radialAxisAngle),Te=ne._rl,ze=Te[0],ke=Te[1],Se=Te[Z],me=.75*(Te[1]-Te[0])/(1-ae.getHole(J))/oe,Ce,Ne,He;Z?(Ce=K+(oe+ye)*Math.cos(Ee),Ne=se-(oe+ye)*Math.sin(Ee),He="radialdrag"):(Ce=K+(Q-ye)*Math.cos(Ee),Ne=se-(Q-ye)*Math.sin(Ee),He="radialdrag-inner");var De=l.makeRectDragger(q,He,"crosshair",-ye,-ye,fe,fe),Ve={element:De,gd:j};ce.dragmode===!1&&(Ve.dragmode=!1),ie(y.select(De),ne.visible&&Q<oe,{transform:v(Ce,Ne)});var at,lt,$e;function et(Rt,Vt){if(at)at(Rt,Vt);else{var Je=[Rt,-Vt],Ge=[Math.cos(Ee),Math.sin(Ee)],Ie=Math.abs(L.dot(Je,Ge)/Math.sqrt(L.dot(Je,Je)));isNaN(Ie)||(at=Ie<.5?gt:At)}var Fe={};ct(Fe),j.emit("plotly_relayouting",Fe)}function ct(Rt){lt!==null?Rt[ae.id+".radialaxis.angle"]=lt:$e!==null&&(Rt[ae.id+".radialaxis.range["+Z+"]"]=$e)}function dt(){lt!==null?a.call("_guiRelayout",j,ae.id+".radialaxis.angle",lt):$e!==null&&a.call("_guiRelayout",j,ae.id+".radialaxis.range["+Z+"]",$e)}function gt(Rt,Vt){if(Z!==0){var Je=Ce+Rt,Ge=Ne+Vt;lt=Math.atan2(se-Ge,Je-K),ae.vangles&&(lt=te(lt,ae.vangles)),lt=B(lt);var Ie=v(K,se)+M(-lt);q["radial-axis"].attr("transform",Ie),q["radial-line"].select("line").attr("transform",Ie);var Fe=ae.gd._fullLayout,Pe=Fe[ae.id];ae.updateRadialAxisTitle(Fe,Pe,lt)}}function At(Rt,Vt){var Je=L.dot([Rt,-Vt],[Math.cos(Ee),Math.sin(Ee)]);if($e=Se-me*Je,me>0!=(Z?$e>ze:$e<ke)){$e=null;return}var Ge=j._fullLayout,Ie=Ge[ae.id];ne.range[Z]=$e,ne._rl[Z]=$e,ae.updateRadialAxis(Ge,Ie),ae.xaxis.setRange(),ae.xaxis.setScale(),ae.yaxis.setRange(),ae.yaxis.setScale();var Fe=!1;for(var Pe in ae.traceHash){var xe=ae.traceHash[Pe],ge=L.filterVisible(xe),Me=xe[0][0].trace._module;Me.plot(j,ae,ge,Ie),a.traceIs(Pe,"gl")&&ge.length&&(Fe=!0)}Fe&&(w(j),C(j))}Ve.prepFn=function(){at=null,lt=null,$e=null,Ve.moveFn=et,Ve.doneFn=dt,d(j)},Ve.clampFn=function(Rt,Vt){return Math.sqrt(Rt*Rt+Vt*Vt)<S.MINDRAG&&(Rt=0,Vt=0),[Rt,Vt]},g.init(Ve)},N.updateAngularDrag=function(ce){var J=this,Z=J.gd,ae=J.layers,j=J.radius,q=J.angularAxis,oe=J.cx,Q=J.cy,K=J.cxx,se=J.cyy,ne=S.angularDragBoxSize,fe=l.makeDragger(ae,"path","angulardrag",ce.dragmode===!1?"none":"move"),ye={element:fe,gd:Z};ce.dragmode===!1?ye.dragmode=!1:y.select(fe).attr("d",J.pathAnnulus(j,j+ne)).attr("transform",v(oe,Q)).call(A,"move");function Ee($e,et){return Math.atan2(se+ne-et,$e-K-ne)}var Te=ae.frontplot.select(".scatterlayer").selectAll(".trace"),ze=Te.selectAll(".point"),ke=Te.selectAll(".textpoint"),Se,me,Ce,Ne,He,De;function Ve($e,et){var ct=J.gd._fullLayout,dt=ct[J.id],gt=Se+$e*ce._invScaleX,At=me+et*ce._invScaleY,Rt=Ee(gt,At),Vt=B(Rt-De);if(Ne=Ce+Vt,ae.frontplot.attr("transform",v(J.xOffset2,J.yOffset2)+M([-Vt,K,se])),J.vangles){He=J.radialAxisAngle+Vt;var Je=v(oe,Q)+M(-Vt),Ge=v(oe,Q)+M(-He);ae.bg.attr("transform",Je),ae["radial-grid"].attr("transform",Je),ae["radial-axis"].attr("transform",Ge),ae["radial-line"].select("line").attr("transform",Ge),J.updateRadialAxisTitle(ct,dt,He)}else J.clipPaths.forTraces.select("path").attr("transform",v(K,se)+M(Vt));ze.each(function(){var Ae=y.select(this),Ue=r.getTranslate(Ae);Ae.attr("transform",v(Ue.x,Ue.y)+M([Vt]))}),ke.each(function(){var Ae=y.select(this),Ue=Ae.select("text"),Ze=r.getTranslate(Ae);Ae.attr("transform",M([Vt,Ue.attr("x"),Ue.attr("y")])+v(Ze.x,Ze.y))}),q.rotation=L.modHalf(Ne,360),J.updateAngularAxis(ct,dt),J._hasClipOnAxisFalse&&!L.isFullCircle(J.sectorInRad)&&Te.call(r.hideOutsideRangePoints,J);var Ie=!1;for(var Fe in J.traceHash)if(a.traceIs(Fe,"gl")){var Pe=J.traceHash[Fe],xe=L.filterVisible(Pe),ge=Pe[0][0].trace._module;ge.plot(Z,J,xe,dt),xe.length&&(Ie=!0)}Ie&&(w(Z),C(Z));var Me={};at(Me),Z.emit("plotly_relayouting",Me)}function at($e){$e[J.id+".angularaxis.rotation"]=Ne,J.vangles&&($e[J.id+".radialaxis.angle"]=He)}function lt(){ke.select("text").attr("transform",null);var $e={};at($e),a.call("_guiRelayout",Z,$e)}ye.prepFn=function($e,et,ct){var dt=ce[J.id];Ce=dt.angularaxis.rotation;var gt=fe.getBoundingClientRect();Se=et-gt.left,me=ct-gt.top,Z._fullLayout._calcInverseTransform(Z);var At=L.apply3DTransform(ce._invTransform)(Se,me);Se=At[0],me=At[1],De=Ee(Se,me),ye.moveFn=Ve,ye.doneFn=lt,d(Z)},J.vangles&&!L.isFullCircle(J.sectorInRad)&&(ye.prepFn=L.noop,A(y.select(fe),null)),g.init(ye)},N.isPtInside=function(ce){if(this.isSmith)return!0;var J=this.sectorInRad,Z=this.vangles,ae=this.angularAxis.c2g(ce.theta),j=this.radialAxis,q=j.c2l(ce.r),oe=j._rl,Q=Z?x.isPtInsidePolygon:L.isPtInsideSector;return Q(q,ae,oe,J,Z)},N.pathArc=function(ce){var J=this.sectorInRad,Z=this.vangles,ae=Z?x.pathPolygon:L.pathArc;return ae(ce,J[0],J[1],Z)},N.pathSector=function(ce){var J=this.sectorInRad,Z=this.vangles,ae=Z?x.pathPolygon:L.pathSector;return ae(ce,J[0],J[1],Z)},N.pathAnnulus=function(ce,J){var Z=this.sectorInRad,ae=this.vangles,j=ae?x.pathPolygonAnnulus:L.pathAnnulus;return j(ce,J,Z[0],Z[1],ae)},N.pathSubplot=function(){var ce=this.innerRadius,J=this.radius;return ce?this.pathAnnulus(ce,J):this.pathSector(J)},N.fillViewInitialKey=function(ce,J){ce in this.viewInitial||(this.viewInitial[ce]=J)};function Y(ce){var J=ce.ticks+String(ce.ticklen)+String(ce.showticklabels);return"side"in ce&&(J+=ce.side),J}function $(ce){var J=ce[0],Z=ce[1],ae=Z-J,j=z(J,360),q=j+ae,oe=Math.cos(F(j)),Q=Math.sin(F(j)),K=Math.cos(F(q)),se=Math.sin(F(q)),ne,fe,ye,Ee;return j<=90&&q>=90||j>90&&q>=450?Ee=1:Q<=0&&se<=0?Ee=0:Ee=Math.max(Q,se),j<=180&&q>=180||j>180&&q>=540?ne=-1:oe>=0&&K>=0?ne=0:ne=Math.min(oe,K),j<=270&&q>=270||j>270&&q>=630?fe=-1:Q>=0&&se>=0?fe=0:fe=Math.min(Q,se),q>=360?ye=1:oe<=0&&K<=0?ye=0:ye=Math.max(oe,K),[ne,fe,ye,Ee]}function te(ce,J){var Z=function(j){return L.angleDist(ce,j)},ae=L.findIndexOfMin(J,Z);return J[ae]}function ie(ce,J,Z){return J?(ce.attr("display",null),ce.attr(Z)):ce&&ce.attr("display","none"),ce}},12101:function(G,H,e){var y=e(71828),P=e(21994),a=y.deg2rad,L=y.rad2deg;G.exports=function(o,n,c){switch(P(o,c),o._id){case"x":case"radialaxis":M(o,n);break;case"angularaxis":r(o,n);break}};function M(t,o){var n=o._subplot;t.setGeometry=function(){var c=t._rl[0],u=t._rl[1],l=n.innerRadius,g=(n.radius-l)/(u-c),f=l/g,T=c>u?function(h){return h<=0}:function(h){return h>=0};t.c2g=function(h){var s=t.c2l(h)-c;return(T(s)?s:0)+f},t.g2c=function(h){return t.l2c(h+c-f)},t.g2p=function(h){return h*g},t.c2p=function(h){return t.g2p(t.c2g(h))}}}function v(t,o){return o==="degrees"?a(t):t}function p(t,o){return o==="degrees"?L(t):t}function r(t,o){var n=t.type;if(n==="linear"){var c=t.d2c,u=t.c2d;t.d2c=function(l,g){return v(c(l),g)},t.c2d=function(l,g){return u(p(l,g))}}t.makeCalcdata=function(l,g){var f=l[g],T=l._length,h,s,d=function(S){return t.d2c(S,l.thetaunit)};if(f)for(h=new Array(T),s=0;s<T;s++)h[s]=d(f[s]);else{var A=g+"0",w="d"+g,C=A in l?d(l[A]):0,b=l[w]?d(l[w]):(t.period||2*Math.PI)/T;for(h=new Array(T),s=0;s<T;s++)h[s]=C+s*b}return h},t.setGeometry=function(){var l=o.sector,g=l.map(a),f={clockwise:-1,counterclockwise:1}[t.direction],T=a(t.rotation),h=function(x){return f*x+T},s=function(x){return(x-T)/f},d,A,w,C;switch(n){case"linear":A=d=y.identity,C=a,w=L,t.range=y.isFullCircle(g)?[l[0],l[0]+360]:g.map(s).map(L);break;case"category":var b=t._categories.length,S=t.period?Math.max(t.period,b):b;S===0&&(S=1),A=C=function(x){return x*2*Math.PI/S},d=w=function(x){return x*S/Math.PI/2},t.range=[0,S];break}t.c2g=function(x){return h(A(x))},t.g2c=function(x){return d(s(x))},t.t2g=function(x){return h(C(x))},t.g2t=function(x){return w(s(x))}}}},39779:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(G){function H(M){return M<0?-1:M>0?1:0}function e(M){var v=M[0],p=M[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function y(M,v){var p=v[0],r=v[1];return[p*M.radius+M.cx,-r*M.radius+M.cy]}function P(M,v){return v*M.radius}function a(M,v,p,r){var t=y(M,e([p,v])),o=t[0],n=t[1],c=y(M,e([r,v])),u=c[0],l=c[1];if(v===0)return["M"+o+","+n,"L"+u+","+l].join(" ");var g=P(M,1/Math.abs(v));return["M"+o+","+n,"A"+g+","+g+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function L(M,v,p,r){var t=P(M,1/(v+1)),o=y(M,e([v,p])),n=o[0],c=o[1],u=y(M,e([v,r])),l=u[0],g=u[1];if(H(p)!==H(r)){var f=y(M,e([v,0])),T=f[0],h=f[1];return["M"+n+","+c,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+T+","+h,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+g].join(" ")}return["M"+n+","+c,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+g].join(" ")}G.exports={smith:e,reactanceArc:a,resistanceArc:L,smithTransform:y}},7504:function(G,H,e){var y=e(27659).AU,P=e(71828).counterRegex,a=e(77997),L=e(39779),M=L.attr,v=L.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var c=n._fullLayout,u=n.calcdata,l=c._subplots[v],g=0;g<l.length;g++){var f=l[g],T=y(u,v,f),h=c[f]._subplot;h||(h=a(n,f,!0),c[f]._subplot=h),h.plot(T,c,n._promises)}}function o(n,c,u,l){for(var g=l._subplots[v]||[],f=0;f<g.length;f++){var T=g[f],h=l[T]._subplot;if(!c[T]&&h){h.framework.remove();for(var s in h.clipPaths)h.clipPaths[s].remove()}}}G.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:t,clean:o,toSVG:e(93612).toSVG}},33419:function(G,H,e){var y=e(22399),P=e(13838),a=e(27670).Y,L=e(71828).extendFlat,M=e(30962).overrideAll,v=M({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);G.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:y.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},9558:function(G,H,e){var y=e(71828),P=e(7901),a=e(44467),L=e(49119),M=e(27659).NG,v=e(89426),p=e(96115),r=e(92128),t=e(21994),o=e(33419),n=e(39779),c=n.axisNames,u=g(function(f){return y.isTypedArray(f)&&(f=Array.from(f)),f.slice().reverse().map(function(T){return-T}).concat([0]).concat(f)},String);function l(f,T,h,s){var d=h("bgcolor");s.bgColor=P.combine(d,s.paper_bgcolor);var A=M(s.fullData,n.name,s.id),w=s.layoutOut,C;function b(N,Y){return h(C+"."+N,Y)}for(var S=0;S<c.length;S++){C=c[S],y.isPlainObject(f[C])||(f[C]={});var x=f[C],i=a.newContainer(T,C);i._id=i._name=C,i._attr=s.id+"."+C,i._traceIndices=A.map(function(N){return N._expandedIndex});var E=b("visible");if(i.type="linear",t(i,w),v(x,i,b,i.type),E){var m=C==="realaxis";if(m&&b("side"),m)b("tickvals");else{var k=u(T.realaxis.tickvals||o.realaxis.tickvals.dflt);b("tickvals",k)}y.isTypedArray(i.tickvals)&&(i.tickvals=Array.from(i.tickvals));var I,U,z,F,B=s.font||{};E&&(I=b("color"),U=I===x.color?I:B.color,z=B.size,F=B.family),p(x,i,b,i.type,{noTicklabelstep:!0,noAng:!m,noExp:!0,font:{color:U,size:z,family:F}}),y.coerce2(f,T,o,C+".ticklen"),y.coerce2(f,T,o,C+".tickwidth"),y.coerce2(f,T,o,C+".tickcolor",T.color);var O=b("ticks");O||(delete T[C].ticklen,delete T[C].tickwidth,delete T[C].tickcolor),r(x,i,b,{dfltColor:I,bgColor:s.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[C]}),b("layer")}b("hoverformat"),delete i.type,i._input=x}}G.exports=function(T,h,s){L(T,h,s,{noUirevision:!0,type:n.name,attributes:o,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:s,layoutOut:h})};function g(f,T){var h={};return function(s){var d=T?T(s):s;if(d in h)return h[d];var A=f(s);return h[d]=A,A}}},49119:function(G,H,e){var y=e(71828),P=e(44467),a=e(27670).c;G.exports=function(M,v,p,r){var t=r.type,o=r.attributes,n=r.handleDefaults,c=r.partition||"x",u=v._subplots[t],l=u.length,g=l&&u[0].replace(/\d+$/,""),f,T;function h(w,C){return y.coerce(f,T,o,w,C)}for(var s=0;s<l;s++){var d=u[s];M[d]?f=M[d]:f=M[d]={},T=P.newContainer(v,d,g),r.noUirevision||h("uirevision",v.uirevision);var A={};A[c]=[s/l,(s+1)/l],a(T,v,h,A),r.id=d,n(f,T,h,r)}}},5386:function(G,H,e){var y=e(31562);y.FORMAT_LINK,y.DATE_FORMAT_LINK;function P(a){var L=a.description?" "+a.description:"",M=a.keys||[];if(M.length>0){for(var v=[],p=0;p<M.length;p++)v[p]="`"+M[p]+"`";L=L+"Finally, the template string has access to ",M.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}H.fF=function(a,L){a=a||{},L=L||{},P(L);var M={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(M.arrayOk=!0),M},H.si=function(a,L){a=a||{},L=L||{},P(L);var M={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(M.arrayOk=!0),M},H.R=function(a,L){a=a||{},L=L||{},a.newshape,P(L);var M={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return M}},61639:function(G,H,e){var y=e(64380),P=e(27659).AU,a=e(71828).counterRegex,L="ternary";H.name=L;var M=H.attr="subplot";H.idRoot=L,H.idRegex=H.attrRegex=a(L);var v=H.attributes={};v[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},H.layoutAttributes=e(81367),H.supplyLayoutDefaults=e(25369),H.plot=function(r){for(var t=r._fullLayout,o=r.calcdata,n=t._subplots[L],c=0;c<n.length;c++){var u=n[c],l=P(o,L,u),g=t[u]._subplot;g||(g=new y({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=g),g.plot(l,t,r._promises)}},H.clean=function(p,r,t,o){for(var n=o._subplots[L]||[],c=0;c<n.length;c++){var u=n[c],l=o[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},81367:function(G,H,e){var y=e(22399),P=e(27670).Y,a=e(13838),L=e(30962).overrideAll,M=e(1426).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:M({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:M({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:M({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},p=G.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:y.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},25369:function(G,H,e){var y=e(7901),P=e(44467),a=e(71828),L=e(49119),M=e(96115),v=e(89426),p=e(38701),r=e(26218),t=e(92128),o=e(81367),n=["aaxis","baxis","caxis"];G.exports=function(g,f,T){L(g,f,T,{type:"ternary",attributes:o,handleDefaults:c,font:f.font,paper_bgcolor:f.paper_bgcolor})};function c(l,g,f,T){var h=f("bgcolor"),s=f("sum");T.bgColor=y.combine(h,T.paper_bgcolor);for(var d,A,w,C=0;C<n.length;C++)d=n[C],A=l[d]||{},w=P.newContainer(g,d),w._name=d,u(A,w,T,g);var b=g.aaxis,S=g.baxis,x=g.caxis;b.min+S.min+x.min>=s&&(b.min=0,S.min=0,x.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,g,f,T){var h=o[g._name];function s(i,E){return a.coerce(l,g,h,i,E)}s("uirevision",T.uirevision),g.type="linear";var d=s("color"),A=d!==h.color.dflt?d:f.font.color,w=g._name,C=w.charAt(0).toUpperCase(),b="Component "+C,S=s("title.text",b);g._hovertitle=S===b?S:C,a.coerceFont(s,"title.font",{family:f.font.family,size:a.bigFont(f.font.size),color:A}),s("min"),r(l,g,s,"linear"),v(l,g,s,"linear"),M(l,g,s,"linear"),p(l,g,s,{outerTicks:!0});var x=s("showticklabels");x&&(a.coerceFont(s,"tickfont",{family:f.font.family,size:f.font.size,color:A}),s("tickangle"),s("tickformat")),t(l,g,s,{dfltColor:d,bgColor:f.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),s("hoverformat"),s("layer")}},64380:function(G,H,e){var y=e(39898),P=e(84267),a=e(73972),L=e(71828),M=L.strTranslate,v=L._,p=e(7901),r=e(91424),t=e(21994),o=e(1426).extendFlat,n=e(74875),c=e(89298),u=e(28569),l=e(30211),g=e(64505),f=g.freeMode,T=g.rectMode,h=e(92998),s=e(47322).prepSelect,d=e(47322).selectOnClick,A=e(47322).clearOutline,w=e(47322).clearSelectionsCache,C=e(85555);function b(B,O){this.id=B.id,this.graphDiv=B.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=b;var S=b.prototype;S.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},S.plot=function(B,O){var N=this,Y=O[N.id],$=O._size;N._hasClipOnAxisFalse=!1;for(var te=0;te<B.length;te++){var ie=B[te][0].trace;if(ie.cliponaxis===!1){N._hasClipOnAxisFalse=!0;break}}N.updateLayers(Y),N.adjustLayout(Y,$),n.generalUpdatePerTraceModule(N.graphDiv,N,B,Y),N.layers.plotbg.select("path").call(p.fill,Y.bgcolor)},S.makeFramework=function(B){var O=this,N=O.graphDiv,Y=B[O.id],$=O.clipId="clip"+O.layoutId+O.id,te=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=L.ensureSingleById(B._clips,"clipPath",$,function(ie){ie.append("path").attr("d","M0,0Z")}),O.clipDefRelative=L.ensureSingleById(B._clips,"clipPath",te,function(ie){ie.append("path").attr("d","M0,0Z")}),O.plotContainer=L.ensureSingle(O.container,"g",O.id),O.updateLayers(Y),r.setClipUrl(O.layers.backplot,$,N),r.setClipUrl(O.layers.grids,$,N)},S.updateLayers=function(B){var O=this,N=O.layers,Y=["draglayer","plotbg","backplot","grids"];B.aaxis.layer==="below traces"&&Y.push("aaxis","aline"),B.baxis.layer==="below traces"&&Y.push("baxis","bline"),B.caxis.layer==="below traces"&&Y.push("caxis","cline"),Y.push("frontplot"),B.aaxis.layer==="above traces"&&Y.push("aaxis","aline"),B.baxis.layer==="above traces"&&Y.push("baxis","bline"),B.caxis.layer==="above traces"&&Y.push("caxis","cline");var $=O.plotContainer.selectAll("g.toplevel").data(Y,String),te=["agrid","bgrid","cgrid"];$.enter().append("g").attr("class",function(ie){return"toplevel "+ie}).each(function(ie){var ce=y.select(this);N[ie]=ce,ie==="frontplot"?ce.append("g").classed("scatterlayer",!0):ie==="backplot"?ce.append("g").classed("maplayer",!0):ie==="plotbg"?ce.append("path").attr("d","M0,0Z"):ie==="aline"||ie==="bline"||ie==="cline"?ce.append("path"):ie==="grids"&&te.forEach(function(J){N[J]=ce.append("g").classed("grid "+J,!0)})}),$.order()};var x=Math.sqrt(4/3);S.adjustLayout=function(B,O){var N=this,Y=B.domain,$=(Y.x[0]+Y.x[1])/2,te=(Y.y[0]+Y.y[1])/2,ie=Y.x[1]-Y.x[0],ce=Y.y[1]-Y.y[0],J=ie*O.w,Z=ce*O.h,ae=B.sum,j=B.aaxis.min,q=B.baxis.min,oe=B.caxis.min,Q,K,se,ne,fe,ye;J>x*Z?(ne=Z,se=ne*x):(se=J,ne=se/x),fe=ie*se/J,ye=ce*ne/Z,Q=O.l+O.w*$-se/2,K=O.t+O.h*(1-te)-ne/2,N.x0=Q,N.y0=K,N.w=se,N.h=ne,N.sum=ae,N.xaxis={type:"linear",range:[j+2*oe-ae,ae-j-2*q],domain:[$-fe/2,$+fe/2],_id:"x"},t(N.xaxis,N.graphDiv._fullLayout),N.xaxis.setScale(),N.xaxis.isPtWithinRange=function(Ve){return Ve.a>=N.aaxis.range[0]&&Ve.a<=N.aaxis.range[1]&&Ve.b>=N.baxis.range[1]&&Ve.b<=N.baxis.range[0]&&Ve.c>=N.caxis.range[1]&&Ve.c<=N.caxis.range[0]},N.yaxis={type:"linear",range:[j,ae-q-oe],domain:[te-ye/2,te+ye/2],_id:"y"},t(N.yaxis,N.graphDiv._fullLayout),N.yaxis.setScale(),N.yaxis.isPtWithinRange=function(){return!0};var Ee=N.yaxis.domain[0],Te=N.aaxis=o({},B.aaxis,{range:[j,ae-q-oe],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[Ee,Ee+ye*x],anchor:"free",position:0,_id:"y",_length:se});t(Te,N.graphDiv._fullLayout),Te.setScale();var ze=N.baxis=o({},B.baxis,{range:[ae-j-oe,q],side:"bottom",domain:N.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(ze,N.graphDiv._fullLayout),ze.setScale();var ke=N.caxis=o({},B.caxis,{range:[ae-j-q,oe],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[Ee,Ee+ye*x],anchor:"free",position:0,_id:"y",_length:se});t(ke,N.graphDiv._fullLayout),ke.setScale();var Se="M"+Q+","+(K+ne)+"h"+se+"l-"+se/2+",-"+ne+"Z";N.clipDef.select("path").attr("d",Se),N.layers.plotbg.select("path").attr("d",Se);var me="M0,"+ne+"h"+se+"l-"+se/2+",-"+ne+"Z";N.clipDefRelative.select("path").attr("d",me);var Ce=M(Q,K);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ce),N.clipDefRelative.select("path").attr("transform",null);var Ne=M(Q-ze._offset,K+ne);N.layers.baxis.attr("transform",Ne),N.layers.bgrid.attr("transform",Ne);var He=M(Q+se/2,K)+"rotate(30)"+M(0,-Te._offset);N.layers.aaxis.attr("transform",He),N.layers.agrid.attr("transform",He);var De=M(Q+se/2,K)+"rotate(-30)"+M(0,-ke._offset);N.layers.caxis.attr("transform",De),N.layers.cgrid.attr("transform",De),N.drawAxes(!0),N.layers.aline.select("path").attr("d",Te.showline?"M"+Q+","+(K+ne)+"l"+se/2+",-"+ne:"M0,0").call(p.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),N.layers.bline.select("path").attr("d",ze.showline?"M"+Q+","+(K+ne)+"h"+se:"M0,0").call(p.stroke,ze.linecolor||"#000").style("stroke-width",(ze.linewidth||0)+"px"),N.layers.cline.select("path").attr("d",ke.showline?"M"+(Q+se/2)+","+K+"l"+se/2+","+ne:"M0,0").call(p.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),N.graphDiv._context.staticPlot||N.initInteractions(),r.setClipUrl(N.layers.frontplot,N._hasClipOnAxisFalse?null:N.clipId,N.graphDiv)},S.drawAxes=function(B){var O=this,N=O.graphDiv,Y=O.id.substr(7)+"title",$=O.layers,te=O.aaxis,ie=O.baxis,ce=O.caxis;if(O.drawAx(te),O.drawAx(ie),O.drawAx(ce),B){var J=Math.max(te.showticklabels?te.tickfont.size/2:0,(ce.showticklabels?ce.tickfont.size*.75:0)+(ce.ticks==="outside"?ce.ticklen*.87:0)),Z=(ie.showticklabels?ie.tickfont.size:0)+(ie.ticks==="outside"?ie.ticklen:0)+3;$["a-title"]=h.draw(N,"a"+Y,{propContainer:te,propName:O.id+".aaxis.title",placeholder:v(N,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-te.title.font.size/3-J,"text-anchor":"middle"}}),$["b-title"]=h.draw(N,"b"+Y,{propContainer:ie,propName:O.id+".baxis.title",placeholder:v(N,"Click to enter Component B title"),attributes:{x:O.x0-Z,y:O.y0+O.h+ie.title.font.size*.83+Z,"text-anchor":"middle"}}),$["c-title"]=h.draw(N,"c"+Y,{propContainer:ce,propName:O.id+".caxis.title",placeholder:v(N,"Click to enter Component C title"),attributes:{x:O.x0+O.w+Z,y:O.y0+O.h+ce.title.font.size*.83+Z,"text-anchor":"middle"}})}},S.drawAx=function(B){var O=this,N=O.graphDiv,Y=B._name,$=Y.charAt(0),te=B._id,ie=O.layers[Y],ce=30,J=$+"tickLayout",Z=i(B);O[J]!==Z&&(ie.selectAll("."+te+"tick").remove(),O[J]=Z),B.setScale();var ae=c.calcTicks(B),j=c.clipEnds(B,ae),q=c.makeTransTickFn(B),oe=c.getTickSigns(B)[2],Q=L.deg2rad(ce),K=oe*(B.linewidth||1)/2,se=oe*B.ticklen,ne=O.w,fe=O.h,ye=$==="b"?"M0,"+K+"l"+Math.sin(Q)*se+","+Math.cos(Q)*se:"M"+K+",0l"+Math.cos(Q)*se+","+-Math.sin(Q)*se,Ee={a:"M0,0l"+fe+",-"+ne/2,b:"M0,0l-"+ne/2+",-"+fe,c:"M0,0l-"+fe+","+ne/2}[$];c.drawTicks(N,B,{vals:B.ticks==="inside"?j:ae,layer:ie,path:ye,transFn:q,crisp:!1}),c.drawGrid(N,B,{vals:j,layer:O.layers[$+"grid"],path:Ee,transFn:q,crisp:!1}),c.drawLabels(N,B,{vals:ae,layer:ie,transFn:q,labelFns:c.makeLabelFns(B,0,ce)})};function i(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}var E=C.MINZOOM/2+.87,m="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",k="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",I="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",U="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;S.clearOutline=function(){w(this.dragOptions),A(this.dragOptions.gd)},S.initInteractions=function(){var B=this,O=B.layers.plotbg.select("path").node(),N=B.graphDiv,Y=N._fullLayout._zoomlayer,$,te;this.dragOptions={element:O,gd:N,plotinfo:{id:B.id,domain:N._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(Ne,He,De){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],$=N._fullLayout._invScaleX,te=N._fullLayout._invScaleY;var Ve=B.dragOptions.dragmode=N._fullLayout.dragmode;f(Ve)?B.dragOptions.minDrag=1:B.dragOptions.minDrag=void 0,Ve==="zoom"?(B.dragOptions.moveFn=ze,B.dragOptions.clickFn=ne,B.dragOptions.doneFn=ke,fe(Ne,He,De)):Ve==="pan"?(B.dragOptions.moveFn=me,B.dragOptions.clickFn=ne,B.dragOptions.doneFn=Ce,Se(),B.clearOutline(N)):(T(Ve)||f(Ve))&&s(Ne,He,De,B.dragOptions,Ve)}};var ie,ce,J,Z,ae,j,q,oe,Q,K;function se(Ne){var He={};return He[B.id+".aaxis.min"]=Ne.a,He[B.id+".baxis.min"]=Ne.b,He[B.id+".caxis.min"]=Ne.c,He}function ne(Ne,He){var De=N._fullLayout.clickmode;F(N),Ne===2&&(N.emit("plotly_doubleclick",null),a.call("_guiRelayout",N,se({a:0,b:0,c:0}))),De.indexOf("select")>-1&&Ne===1&&d(He,N,[B.xaxis],[B.yaxis],B.id,B.dragOptions),De.indexOf("event")>-1&&l.click(N,He,B.id)}function fe(Ne,He,De){var Ve=O.getBoundingClientRect();ie=He-Ve.left,ce=De-Ve.top,N._fullLayout._calcInverseTransform(N);var at=N._fullLayout._invTransform,lt=L.apply3DTransform(at)(ie,ce);ie=lt[0],ce=lt[1],J={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},ae=J,Z=B.aaxis.range[1]-J.a,j=P(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),q="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",oe=!1,Q=Y.append("path").attr("class","zoombox").attr("transform",M(B.x0,B.y0)).style({fill:j>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),K=Y.append("path").attr("class","zoombox-corners").attr("transform",M(B.x0,B.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(N)}function ye(Ne,He){return 1-He/B.h}function Ee(Ne,He){return 1-(Ne+(B.h-He)/Math.sqrt(3))/B.w}function Te(Ne,He){return(Ne-(B.h-He)/Math.sqrt(3))/B.w}function ze(Ne,He){var De=ie+Ne*$,Ve=ce+He*te,at=Math.max(0,Math.min(1,ye(ie,ce),ye(De,Ve))),lt=Math.max(0,Math.min(1,Ee(ie,ce),Ee(De,Ve))),$e=Math.max(0,Math.min(1,Te(ie,ce),Te(De,Ve))),et=(at/2+$e)*B.w,ct=(1-at/2-lt)*B.w,dt=(et+ct)/2,gt=ct-et,At=(1-at)*B.h,Rt=At-gt/x;gt<C.MINZOOM?(ae=J,Q.attr("d",q),K.attr("d","M0,0Z")):(ae={a:J.a+at*Z,b:J.b+lt*Z,c:J.c+$e*Z},Q.attr("d",q+"M"+et+","+At+"H"+ct+"L"+dt+","+Rt+"L"+et+","+At+"Z"),K.attr("d","M"+ie+","+ce+U+"M"+et+","+At+m+"M"+ct+","+At+k+"M"+dt+","+Rt+I)),oe||(Q.transition().style("fill",j>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),oe=!0),N.emit("plotly_relayouting",se(ae))}function ke(){F(N),ae!==J&&(a.call("_guiRelayout",N,se(ae)),z&&N.data&&N._context.showTips&&(L.notifier(v(N,"Double-click to zoom back out"),"long"),z=!1))}function Se(){J={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},ae=J}function me(Ne,He){var De=Ne/B.xaxis._m,Ve=He/B.yaxis._m;ae={a:J.a-Ve,b:J.b+(De+Ve)/2,c:J.c-(De-Ve)/2};var at=[ae.a,ae.b,ae.c].sort(L.sorterAsc),lt={a:at.indexOf(ae.a),b:at.indexOf(ae.b),c:at.indexOf(ae.c)};at[0]<0&&(at[1]+at[0]/2<0?(at[2]+=at[0]+at[1],at[0]=at[1]=0):(at[2]+=at[0]/2,at[1]+=at[0]/2,at[0]=0),ae={a:at[lt.a],b:at[lt.b],c:at[lt.c]},He=(J.a-ae.a)*B.yaxis._m,Ne=(J.c-ae.c-J.b+ae.b)*B.xaxis._m);var $e=M(B.x0+Ne,B.y0+He);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",$e);var et=M(-Ne,-He);B.clipDefRelative.select("path").attr("transform",et),B.aaxis.range=[ae.a,B.sum-ae.b-ae.c],B.baxis.range=[B.sum-ae.a-ae.c,ae.b],B.caxis.range=[B.sum-ae.a-ae.b,ae.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,B),N.emit("plotly_relayouting",se(ae))}function Ce(){a.call("_guiRelayout",N,se(ae))}O.onmousemove=function(Ne){l.hover(N,Ne,B.id),N._fullLayout._lasthover=O,N._fullLayout._hoversubplot=B.id},O.onmouseout=function(Ne){N._dragging||u.unhover(N,Ne)},u.init(this.dragOptions)};function F(B){y.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(G,H,e){var y=e(47769),P=e(64213),a=e(75138),L=e(41965),M=e(24401).addStyleRule,v=e(1426),p=e(9012),r=e(10820),t=v.extendFlat,o=v.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(w){if(H.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<w.length;C++){var b=w[C];if(!b)throw new Error("Invalid module was attempted to be registered!");switch(b.moduleType){case"trace":n(b);break;case"transform":l(b);break;case"component":u(b);break;case"locale":g(b);break;case"apiMethod":var S=b.name;H.apiMethodRegistry[S]=b.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(A){var w=H.modules[d(A)];return w?w._module:!1},H.traceIs=function(A,w){if(A=d(A),A==="various")return!1;var C=H.modules[A];return C||(A&&y.log("Unrecognized trace type "+A+"."),C=H.modules[p.type.dflt]),!!C.categories[w]},H.getTransformIndices=function(A,w){for(var C=[],b=A.transforms||[],S=0;S<b.length;S++)b[S].type===w&&C.push(S);return C},H.hasTransform=function(A,w){for(var C=A.transforms||[],b=0;b<C.length;b++)if(C[b].type===w)return!0;return!1},H.getComponentMethod=function(A,w){var C=H.componentsRegistry[A];return C&&C[w]||P},H.call=function(){var A=arguments[0],w=[].slice.call(arguments,1);return H.apiMethodRegistry[A].apply(null,w)};function n(A){var w=A.name,C=A.categories,b=A.meta;if(H.modules[w]){y.log("Type "+w+" already registered");return}H.subplotsRegistry[A.basePlotModule.name]||c(A.basePlotModule);for(var S={},x=0;x<C.length;x++)S[C[x]]=!0,H.allCategories[C[x]]=!0;H.modules[w]={_module:A,categories:S},b&&Object.keys(b).length&&(H.modules[w].meta=b),H.allTypes.push(w);for(var i in H.componentsRegistry)T(i,w);A.layoutAttributes&&t(H.traceLayoutAttributes,A.layoutAttributes);var E=A.basePlotModule,m=E.name;if(m==="mapbox"){var k=E.constants.styleRules;for(var I in k)M(".js-plotly-plot .plotly .mapboxgl-"+I,k[I])}(m==="geo"||m==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function c(A){var w=A.name;if(H.subplotsRegistry[w]){y.log("Plot type "+w+" already registered.");return}f(A),H.subplotsRegistry[w]=A;for(var C in H.componentsRegistry)s(C,A.name)}function u(A){if(typeof A.name!="string")throw new Error("Component module *name* must be a string.");var w=A.name;H.componentsRegistry[w]=A,A.layoutAttributes&&(A.layoutAttributes._isLinkedToArray&&a(H.layoutArrayContainers,w),f(A));for(var C in H.modules)T(w,C);for(var b in H.subplotsRegistry)s(w,b);for(var S in H.transformsRegistry)h(w,S);A.schema&&A.schema.layout&&o(r,A.schema.layout)}function l(A){if(typeof A.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+A.name,C=typeof A.transform=="function",b=typeof A.calcTransform=="function";if(!C&&!b)throw new Error(w+" is missing a *transform* or *calcTransform* method.");C&&b&&y.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(A.attributes)||y.log(w+" registered without an *attributes* object."),typeof A.supplyDefaults!="function"&&y.log(w+" registered without a *supplyDefaults* method."),H.transformsRegistry[A.name]=A;for(var S in H.componentsRegistry)h(S,A.name)}function g(A){var w=A.name,C=w.split("-")[0],b=A.dictionary,S=A.format,x=b&&Object.keys(b).length,i=S&&Object.keys(S).length,E=H.localeRegistry,m=E[w];if(m||(E[w]=m={}),C!==w){var k=E[C];k||(E[C]=k={}),x&&k.dictionary===m.dictionary&&(k.dictionary=b),i&&k.format===m.format&&(k.format=S)}x&&(m.dictionary=b),i&&(m.format=S)}function f(A){if(A.layoutAttributes){var w=A.layoutAttributes._arrayAttrRegexps;if(w)for(var C=0;C<w.length;C++)a(H.layoutArrayRegexes,w[C])}}function T(A,w){var C=H.componentsRegistry[A].schema;if(!(!C||!C.traces)){var b=C.traces[w];b&&o(H.modules[w]._module.attributes,b)}}function h(A,w){var C=H.componentsRegistry[A].schema;if(!(!C||!C.transforms)){var b=C.transforms[w];b&&o(H.transformsRegistry[w].attributes,b)}}function s(A,w){var C=H.componentsRegistry[A].schema;if(!(!C||!C.subplots)){var b=H.subplotsRegistry[w],S=b.layoutAttributes,x=b.attr==="subplot"?b.name:b.attr;Array.isArray(x)&&(x=x[0]);var i=C.subplots[x];S&&i&&o(S,i)}}function d(A){return typeof A=="object"&&(A=A.type),A}},61914:function(G,H,e){var y=e(73972),P=e(71828),a=P.extendFlat,L=P.extendDeep;function M(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}G.exports=function(r,t){var o,n=r.data,c=r.layout,u=L([],n),l=L({},c,M(t.tileClass)),g=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var f=Object.keys(l);for(o=0;o<f.length;o++)v(f[o])&&(l[f[o]].title={text:""});for(o=0;o<u.length;o++){var T=u[o];T.showscale=!1,T.marker&&(T.marker.showscale=!1),y.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(o=0;o<t.annotations.length;o++)l.annotations.push(t.annotations[o]);var h=Object.keys(l).filter(function(C){return C.match(/^scene\d*$/)});if(h.length){var s={};for(t.tileClass==="thumbnail"&&(s={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),o=0;o<h.length;o++){var d=l[h[o]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,s),a(d.yaxis,s),a(d.zaxis,s),d._scene=null}}var A=document.createElement("div");t.tileClass&&(A.className=t.tileClass);var w={gd:A,td:A,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=M(t.tileClass),w}},7239:function(G,H,e){var y=e(71828),P=e(403),a=e(22435),L=e(25095);function M(v,p){var r;return y.isPlainObject(v)||(r=y.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,o){r&&r._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),y.isIE()&&p.format!=="svg"&&o(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),c=p.filename||v.fn||"newplot";c+="."+p.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),a(u,c,p.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),o(u)})})}G.exports=M},22435:function(G,H,e){var y=e(71828),P=e(25095);function a(L,M,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(o,n){var c,u;if(y.isIE())return c=P.createBlob(L,"svg"),window.navigator.msSaveBlob(c,M),c=null,o(M);if(r)return c=P.createBlob(L,v),u=P.createObjectURL(c),p.href=u,p.download=M,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(u),c=null,o(M);if(y.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(L)),o(M)}n(new Error("download error"))});return t}G.exports=a},25095:function(G,H,e){var y=e(73972);H.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},H.getRedrawFunc=function(L){return function(){y.getComponentMethod("colorbar","draw")(L)}},H.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},H.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;H.createObjectURL=function(L){return P.createObjectURL(L)},H.revokeObjectURL=function(L){return P.revokeObjectURL(L)},H.createBlob=function(L,M){if(M==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(M==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=a(window.atob(L));return new window.Blob([v],{type:"image/"+M})},H.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function a(L){for(var M=L.length,v=new ArrayBuffer(M),p=new Uint8Array(v),r=0;r<M;r++)p[r]=L.charCodeAt(r);return v}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(G,H,e){var y=e(25095),P={getDelay:y.getDelay,getRedrawFunc:y.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};G.exports=P},70942:function(G,H,e){var y=e(71828),P=e(15398).EventEmitter,a=e(25095);function L(M){var v=M.emitter||new P,p=new Promise(function(r,t){var o=window.Image,n=M.svg,c=M.format||"png";if(y.isIE()&&c!=="svg"){var u=new Error(a.MSG_IE_BAD_FORMAT);return t(u),M.promise?p:v.emit("error",u)}var l=M.canvas,g=M.scale||1,f=M.width||300,T=M.height||150,h=g*f,s=g*T,d=l.getContext("2d",{willReadFrequently:!0}),A=new o,w,C;c==="svg"||y.isSafari()?C=a.encodeSVG(n):(w=a.createBlob(n,"svg"),C=a.createObjectURL(w)),l.width=h,l.height=s,A.onload=function(){var b;switch(w=null,a.revokeObjectURL(C),c!=="svg"&&d.drawImage(A,0,0,h,s),c){case"jpeg":b=l.toDataURL("image/jpeg");break;case"png":b=l.toDataURL("image/png");break;case"webp":b=l.toDataURL("image/webp");break;case"svg":b=C;break;default:var S="Image format is not jpeg, png, svg or webp.";if(t(new Error(S)),!M.promise)return v.emit("error",S)}r(b),M.promise||v.emit("success",b)},A.onerror=function(b){if(w=null,a.revokeObjectURL(C),t(b),!M.promise)return v.emit("error",b)},A.src=C});return M.promise?p:v}G.exports=L},56395:function(G,H,e){var y=e(15398).EventEmitter,P=e(73972),a=e(71828),L=e(25095),M=e(61914),v=e(5900),p=e(70942);function r(t,o){var n=new y,c=M(t,{format:"png"}),u=c.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var f=L.getDelay(u._fullLayout);setTimeout(function(){var T=v(u),h=document.createElement("canvas");h.id=a.randstr(),n=p({format:o.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:h,emitter:n,svg:T}),n.clean=function(){u&&document.body.removeChild(u)}},f)}var g=L.getRedrawFunc(u);return P.call("_doPlot",u,c.data,c.layout,c.config).then(g).then(l).catch(function(f){n.emit("error",f)}),n}G.exports=r},5900:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(7901),M=e(77922),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var c=y.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":c.html(l).text()});return c.remove(),u}function o(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(c,u,l){var g=c._fullLayout,f=g._paper,T=g._toppaper,h=g.width,s=g.height,d;f.insert("rect",":first-child").call(a.setRect,0,0,h,s).call(L.fill,g.paper_bgcolor);var A=g._basePlotModules||[];for(d=0;d<A.length;d++){var w=A[d];w.toSVG&&w.toSVG(c)}if(T){var C=T.node().childNodes,b=Array.prototype.slice.call(C);for(d=0;d<b.length;d++){var S=b[d];S.childNodes.length&&f.node().appendChild(S)}}g._draggers&&g._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=y.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&i.style("font-family",E.replace(v,p))}),f.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=y.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&i.style("fill",E.replace(v,p));var m=this.style.stroke;m&&m.indexOf("url(")!==-1&&i.style("stroke",m.replace(v,p))}),(u==="pdf"||u==="eps")&&f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(M.xmlns,"xmlns",M.svg),f.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),u==="svg"&&l&&(f.attr("width",l*h),f.attr("height",l*s),f.attr("viewBox","0 0 "+h+" "+s));var x=new window.XMLSerializer().serializeToString(f.node());return x=t(x),x=o(x),x=x.replace(r,"'"),P.isIE()&&(x=x.replace(/"/gi,"'"),x=x.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),x=x.replace(/(\\')/gi,'"')),x}},75341:function(G,H,e){var y=e(71828);G.exports=function(a,L){for(var M=0;M<a.length;M++)a[M].i=M;y.mergeArray(L.text,a,"tx"),y.mergeArray(L.hovertext,a,"htx");var v=L.marker;if(v){y.mergeArray(v.opacity,a,"mo",!0),y.mergeArray(v.color,a,"mc");var p=v.line;p&&(y.mergeArray(p.color,a,"mlc"),y.mergeArrayCastPositive(p.width,a,"mlw"))}}},1486:function(G,H,e){var y=e(82196),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(5386).si,M=e(50693),v=e(41940),p=e(97313),r=e(79952).u,t=e(1426).extendFlat,o=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=y.marker,c=n.line,u=t({},c.width,{dflt:0}),l=t({width:u,editType:"calc"},M("marker.line")),g=t({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r});G.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:y.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:y.hovertext,hovertemplate:a({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},o,{}),insidetextfont:t({},o,{}),outsidetextfont:t({},o,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},y.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:{marker:{opacity:y.selected.marker.opacity,color:y.selected.marker.color,editType:"style"},textfont:y.selected.textfont,editType:"style"},unselected:{marker:{opacity:y.unselected.marker.opacity,color:y.unselected.marker.color,editType:"style"},textfont:y.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(G,H,e){var y=e(89298),P=e(42973),a=e(52075).hasColorscale,L=e(78803),M=e(75341),v=e(66279);G.exports=function(r,t){var o=y.getFromId(r,t.xaxis||"x"),n=y.getFromId(r,t.yaxis||"y"),c,u,l,g,f,T,h={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(c=o.makeCalcdata(t,"x",h),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),f=!!t.yperiodalignment,T="y"):(c=n.makeCalcdata(t,"y",h),l=o.makeCalcdata(t,"x"),g=P(t,o,"x",l),f=!!t.xperiodalignment,T="x"),u=g.vals;for(var s=Math.min(u.length,c.length),d=new Array(s),A=0;A<s;A++)d[A]={p:u[A],s:c[A]},f&&(d[A].orig_p=l[A],d[A][T+"End"]=g.ends[A],d[A][T+"Start"]=g.starts[A]),t.ids&&(d[A].id=String(t.ids[A]));return a(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(d,t),v(d,t),d}},97313:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(G,H,e){var y=e(92770),P=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,L=e(73972),M=e(89298),v=e(99082).getAxisGroup,p=e(61546);function r(x,i){for(var E=i.xaxis,m=i.yaxis,k=x._fullLayout,I=x._fullData,U=x.calcdata,z=[],F=[],B=0;B<I.length;B++){var O=I[B];if(O.visible===!0&&L.traceIs(O,"bar")&&O.xaxis===E._id&&O.yaxis===m._id&&(O.orientation==="h"?z.push(U[B]):F.push(U[B]),O._computePh))for(var N=x.calcdata[B],Y=0;Y<N.length;Y++)typeof N[Y].ph0=="function"&&(N[Y].ph0=N[Y].ph0()),typeof N[Y].ph1=="function"&&(N[Y].ph1=N[Y].ph1())}var $={xCat:E.type==="category"||E.type==="multicategory",yCat:m.type==="category"||m.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};t(x,E,m,F,$),t(x,m,E,z,$)}function t(x,i,E,m,k){if(m.length){var I,U,z,F,B;switch(o(E,m),k.mode){case"overlay":n(i,E,m,k);break;case"group":for(I=[],U=[],z=0;z<m.length;z++)F=m[z],B=F[0].trace,B.offset===void 0?U.push(F):I.push(F);U.length&&c(x,i,E,U,k),I.length&&n(i,E,I,k);break;case"stack":case"relative":for(I=[],U=[],z=0;z<m.length;z++)F=m[z],B=F[0].trace,B.base===void 0?U.push(F):I.push(F);U.length&&u(x,i,E,U,k),I.length&&n(i,E,I,k);break}b(m,i)}}function o(x,i){var E,m;for(E=0;E<i.length;E++){var k=i[E],I=k[0].trace,U=I.type==="funnel"?I._base:I.base,z,F=I.orientation==="h"?I.xcalendar:I.ycalendar,B=x.type==="category"||x.type==="multicategory"?function(){return null}:x.d2c;if(P(U)){for(m=0;m<Math.min(U.length,k.length);m++)z=B(U[m],0,F),y(z)?(k[m].b=+z,k[m].hasB=1):k[m].b=0;for(;m<k.length;m++)k[m].b=0}else{z=B(U,0,F);var O=y(z);for(z=O?z:0,m=0;m<k.length;m++)k[m].b=z,O&&(k[m].hasB=1)}}}function n(x,i,E,m){for(var k=0;k<E.length;k++){var I=E[k],U=new p([I],{posAxis:x,sepNegVal:!1,overlapNoMerge:!m.norm});l(x,U,m),m.norm?(A(U),C(i,U,m)):s(i,U)}}function c(x,i,E,m,k){var I=new p(m,{posAxis:i,sepNegVal:!1,overlapNoMerge:!k.norm});g(x,i,I,k),w(I,i),k.norm?(A(I),C(E,I,k)):s(E,I)}function u(x,i,E,m,k){var I=new p(m,{posAxis:i,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});l(i,I,k),d(E,I,k);for(var U=0;U<m.length;U++)for(var z=m[U],F=0;F<z.length;F++){var B=z[F];if(B.s!==a){var O=B.b+B.s===I.get(B.p,B.s);O&&(B._outmost=!0)}}k.norm&&C(E,I,k)}function l(x,i,E){for(var m=i.minDiff,k=i.traces,I=m*(1-E.gap),U=I,z=U*(1-(E.groupgap||0)),F=-z/2,B=0;B<k.length;B++){var O=k[B],N=O[0].t;N.barwidth=z,N.poffset=F,N.bargroupwidth=I,N.bardelta=m}i.binWidth=k[0][0].t.barwidth/100,f(i),T(x,i),h(x,i)}function g(x,i,E,m){for(var k=x._fullLayout,I=E.positions,U=E.distinctPositions,z=E.minDiff,F=E.traces,B=F.length,O=I.length!==U.length,N=z*(1-m.gap),Y=v(k,i._id)+F[0][0].trace.orientation,$=k._alignmentOpts[Y]||{},te=0;te<B;te++){var ie=F[te],ce=ie[0].trace,J=$[ce.alignmentgroup]||{},Z=Object.keys(J.offsetGroups||{}).length,ae;Z?ae=N/Z:ae=O?N/B:N;var j=ae*(1-(m.groupgap||0)),q;Z?q=((2*ce._offsetIndex+1-Z)*ae-j)/2:q=O?((2*te+1-B)*ae-j)/2:-j/2;var oe=ie[0].t;oe.barwidth=j,oe.poffset=q,oe.bargroupwidth=N,oe.bardelta=z}E.binWidth=F[0][0].t.barwidth/100,f(E),T(i,E),h(i,E,O)}function f(x){var i=x.traces,E,m;for(E=0;E<i.length;E++){var k=i[E],I=k[0],U=I.trace,z=I.t,F=U._offset||U.offset,B=z.poffset,O;if(P(F)){for(O=Array.prototype.slice.call(F,0,k.length),m=0;m<O.length;m++)y(O[m])||(O[m]=B);for(m=O.length;m<k.length;m++)O.push(B);z.poffset=O}else F!==void 0&&(z.poffset=F);var N=U._width||U.width,Y=z.barwidth;if(P(N)){var $=Array.prototype.slice.call(N,0,k.length);for(m=0;m<$.length;m++)y($[m])||($[m]=Y);for(m=$.length;m<k.length;m++)$.push(Y);if(z.barwidth=$,F===void 0){for(O=[],m=0;m<k.length;m++)O.push(B+(Y-$[m])/2);z.poffset=O}}else N!==void 0&&(z.barwidth=N,F===void 0&&(z.poffset=B+(Y-N)/2))}}function T(x,i){for(var E=i.traces,m=S(x),k=0;k<E.length;k++)for(var I=E[k],U=I[0].t,z=U.poffset,F=P(z),B=U.barwidth,O=P(B),N=0;N<I.length;N++){var Y=I[N],$=Y.w=O?B[N]:B;Y.p===void 0&&(Y.p=Y[m],Y["orig_"+m]=Y[m]);var te=(F?z[N]:z)+$/2;Y[m]=Y.p+te}}function h(x,i,E){var m=i.traces,k=i.minDiff,I=k/2;M.minDtick(x,i.minDiff,i.distinctPositions[0],E);for(var U=0;U<m.length;U++){var z=m[U],F=z[0],B=F.trace,O=[],N,Y,$,te;for(te=0;te<z.length;te++)N=z[te],Y=N.p-I,$=N.p+I,O.push(Y,$);if(B.width||B.offset){var ie=F.t,ce=ie.poffset,J=ie.barwidth,Z=P(ce),ae=P(J);for(te=0;te<z.length;te++){N=z[te];var j=Z?ce[te]:ce,q=ae?J[te]:J;Y=N.p+j,$=Y+q,O.push(Y,$)}}B._extremes[x._id]=M.findExtremes(x,O,{padded:!1})}}function s(x,i){for(var E=i.traces,m=S(x),k=0;k<E.length;k++){for(var I=E[k],U=I[0].trace,z=U.type==="scatter",F=U.orientation==="v",B=[],O=!1,N=0;N<I.length;N++){var Y=I[N],$=z?0:Y.b,te=z?F?Y.y:Y.x:$+Y.s;Y[m]=te,B.push(te),Y.hasB&&B.push($),(!Y.hasB||!Y.b)&&(O=!0)}U._extremes[x._id]=M.findExtremes(x,B,{tozero:O,padded:!0})}}function d(x,i,E){var m=S(x),k=i.traces,I,U,z,F,B,O;for(F=0;F<k.length;F++)if(I=k[F],U=I[0].trace,U.type==="funnel")for(B=0;B<I.length;B++)O=I[B],O.s!==a&&i.put(O.p,-.5*O.s);for(F=0;F<k.length;F++){I=k[F],U=I[0].trace,z=U.type==="funnel";var N=[];for(B=0;B<I.length;B++)if(O=I[B],O.s!==a){var Y;z?Y=O.s:Y=O.s+O.b;var $=i.put(O.p,Y),te=$+Y;O.b=$,O[m]=te,E.norm||(N.push(te),O.hasB&&N.push($))}E.norm||(U._extremes[x._id]=M.findExtremes(x,N,{tozero:!0,padded:!0}))}}function A(x){for(var i=x.traces,E=0;E<i.length;E++)for(var m=i[E],k=0;k<m.length;k++){var I=m[k];I.s!==a&&x.put(I.p,I.b+I.s)}}function w(x,i){for(var E=x.traces,m=0;m<E.length;m++){var k=E[m],I=k[0].trace;if(I.base===void 0)for(var U=new p([k],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<k.length;z++){var F=k[z];if(F.p!==a){var B=U.put(F.p,F.b+F.s);B&&(F.b=B)}}}}function C(x,i,E){var m=i.traces,k=S(x),I=E.norm==="fraction"?1:100,U=I/1e9,z=x.l2c(x.c2l(0)),F=E.mode==="stack"?I:z;function B(q){return y(x.c2l(q))&&(q<z-U||q>F+U||!y(z))}for(var O=0;O<m.length;O++){for(var N=m[O],Y=N[0].trace,$=[],te=!1,ie=!1,ce=0;ce<N.length;ce++){var J=N[ce];if(J.s!==a){var Z=Math.abs(I/i.get(J.p,J.s));J.b*=Z,J.s*=Z;var ae=J.b,j=ae+J.s;J[k]=j,$.push(j),ie=ie||B(j),J.hasB&&($.push(ae),ie=ie||B(ae)),(!J.hasB||!J.b)&&(te=!0)}}Y._extremes[x._id]=M.findExtremes(x,$,{tozero:te,padded:ie})}}function b(x,i){var E=S(i),m={},k,I,U,z=1/0,F=-1/0;for(k=0;k<x.length;k++)for(U=x[k],I=0;I<U.length;I++){var B=U[I].p;y(B)&&(z=Math.min(z,B),F=Math.max(F,B))}var O=1e4/(F-z),N=m.round=function(Z){return String(Math.round(O*(Z-z)))};for(k=0;k<x.length;k++){U=x[k],U[0].t.extents=m;var Y=U[0].t.poffset,$=P(Y);for(I=0;I<U.length;I++){var te=U[I],ie=te[E]-te.w/2;if(y(ie)){var ce=te[E]+te.w/2,J=N(te.p);m[J]?m[J]=[Math.min(ie,m[J][0]),Math.max(ce,m[J][1])]:m[J]=[ie,ce]}te.p0=te.p+($?Y[I]:Y),te.p1=te.p0+te.w,te.s0=te.b,te.s1=te.s0+te.s}}}function S(x){return x._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},90769:function(G,H,e){var y=e(71828),P=e(7901),a=e(73972),L=e(67513),M=e(73927),v=e(98340),p=e(26125),r=e(1486),t=y.coerceFont;function o(u,l,g,f){function T(w,C){return y.coerce(u,l,r,w,C)}var h=L(u,l,f,T);if(!h){l.visible=!1;return}M(u,l,f,T),T("xhoverformat"),T("yhoverformat"),T("orientation",l.x&&!l.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var s=T("textposition");c(u,l,f,T,s,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(u,l,T,g,f);var d=(l.marker.line||{}).color,A=a.getComponentMethod("errorbars","supplyDefaults");A(u,l,d||P.defaultLine,{axis:"y"}),A(u,l,d||P.defaultLine,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(l,T)}function n(u,l){var g,f;function T(s){return y.coerce(f._input,f,r,s)}if(l.barmode==="group")for(var h=0;h<u.length;h++)f=u[h],f.type==="bar"&&(g=f._input,p(g,f,l,T))}function c(u,l,g,f,T,h){h=h||{};var s=h.moduleHasSelected!==!1,d=h.moduleHasUnselected!==!1,A=h.moduleHasConstrain!==!1,w=h.moduleHasCliponaxis!==!1,C=h.moduleHasTextangle!==!1,b=h.moduleHasInsideanchor!==!1,S=!!h.hasPathbar,x=Array.isArray(T)||T==="auto",i=x||T==="inside",E=x||T==="outside";if(i||E){var m=t(f,"textfont",g.font),k=y.extendFlat({},m),I=u.textfont&&u.textfont.color,U=!I;if(U&&delete k.color,t(f,"insidetextfont",k),S){var z=y.extendFlat({},m);U&&delete z.color,t(f,"pathbar.textfont",z)}E&&t(f,"outsidetextfont",m),s&&f("selected.textfont.color"),d&&f("unselected.textfont.color"),A&&f("constraintext"),w&&f("cliponaxis"),C&&f("textangle"),f("texttemplate")}i&&b&&f("insidetextanchor")}G.exports={supplyDefaults:o,crossTraceDefaults:n,handleText:c}},58065:function(G){G.exports=function(e,y,P){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(G,H,e){var y=e(92770),P=e(84267),a=e(71828).isArrayOrTypedArray;H.coerceString=function(L,M,v){if(typeof M=="string"){if(M||!L.noBlank)return M}else if((typeof M=="number"||M===!0)&&!L.strict)return String(M);return v!==void 0?v:L.dflt},H.coerceNumber=function(L,M,v){if(y(M)){M=+M;var p=L.min,r=L.max,t=p!==void 0&&M<p||r!==void 0&&M>r;if(!t)return M}return v!==void 0?v:L.dflt},H.coerceColor=function(L,M,v){return P(M).isValid()?M:v!==void 0?v:L.dflt},H.coerceEnumerated=function(L,M,v){return L.coerceNumber&&(M=+M),L.values.indexOf(M)!==-1?M:v!==void 0?v:L.dflt},H.getValue=function(L,M){var v;return a(L)?M<L.length&&(v=L[M]):v=L,v},H.getLineWidth=function(L,M){var v=0<M.mlw?M.mlw:a(L.marker.line.width)?0:L.marker.line.width;return v}},95423:function(G,H,e){var y=e(30211),P=e(73972),a=e(7901),L=e(71828).fillText,M=e(69383).getLineWidth,v=e(89298).hoverLabelText,p=e(50606).BADNUM;function r(n,c,u,l,g){var f=t(n,c,u,l,g);if(f){var T=f.cd,h=T[0].trace,s=T[f.index];return f.color=o(h,s),P.getComponentMethod("errorbars","hoverInfo")(s,h,f),[f]}}function t(n,c,u,l,g){var f=n.cd,T=f[0].trace,h=f[0].t,s=l==="closest",d=T.type==="waterfall",A=n.maxHoverDistance,w=n.maxSpikeDistance,C,b,S,x,i,E,m;T.orientation==="h"?(C=u,b=c,S="y",x="x",i=ce,E=$):(C=c,b=u,S="x",x="y",E=ce,i=$);var k=T[S+"period"],I=s||k;function U(fe){return F(fe,-1)}function z(fe){return F(fe,1)}function F(fe,ye){var Ee=fe.w;return fe[S]+ye*Ee/2}function B(fe){return fe[S+"End"]-fe[S+"Start"]}var O=s?U:k?function(fe){return fe.p-B(fe)/2}:function(fe){return Math.min(U(fe),fe.p-h.bardelta/2)},N=s?z:k?function(fe){return fe.p+B(fe)/2}:function(fe){return Math.max(z(fe),fe.p+h.bardelta/2)};function Y(fe,ye,Ee){return g.finiteRange&&(Ee=0),y.inbox(fe-C,ye-C,Ee+Math.min(1,Math.abs(ye-fe)/m)-1)}function $(fe){return Y(O(fe),N(fe),A)}function te(fe){return Y(U(fe),z(fe),w)}function ie(fe){var ye=fe[x];if(d){var Ee=Math.abs(fe.rawS)||0;b>0?ye+=Ee:b<0&&(ye-=Ee)}return ye}function ce(fe){var ye=b,Ee=fe.b,Te=ie(fe);return y.inbox(Ee-ye,Te-ye,A+(Te-ye)/(Te-Ee)-1)}function J(fe){var ye=b,Ee=fe.b,Te=ie(fe);return y.inbox(Ee-ye,Te-ye,w+(Te-ye)/(Te-Ee)-1)}var Z=n[S+"a"],ae=n[x+"a"];m=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function j(fe){return(i(fe)+E(fe))/2}var q=y.getDistanceFunction(l,i,E,j);if(y.getClosest(f,q,n),n.index!==!1&&f[n.index].p!==p){I||(O=function(fe){return Math.min(U(fe),fe.p-h.bargroupwidth/2)},N=function(fe){return Math.max(z(fe),fe.p+h.bargroupwidth/2)});var oe=n.index,Q=f[oe],K=T.base?Q.b+Q.s:Q.s;n[x+"0"]=n[x+"1"]=ae.c2p(Q[x],!0),n[x+"LabelVal"]=K;var se=h.extents[h.extents.round(Q.p)];n[S+"0"]=Z.c2p(s?O(Q):se[0],!0),n[S+"1"]=Z.c2p(s?N(Q):se[1],!0);var ne=Q.orig_p!==void 0;return n[S+"LabelVal"]=ne?Q.orig_p:Q.p,n.labelLabel=v(Z,n[S+"LabelVal"],T[S+"hoverformat"]),n.valueLabel=v(ae,n[x+"LabelVal"],T[x+"hoverformat"]),n.baseLabel=v(ae,Q.b,T[x+"hoverformat"]),n.spikeDistance=(J(Q)+te(Q))/2,n[S+"Spike"]=Z.c2p(Q.p,!0),L(Q,T,n),n.hovertemplate=T.hovertemplate,n}}function o(n,c){var u=c.mcc||n.marker.color,l=c.mlcc||n.marker.line.color,g=M(n,c);if(a.opacity(u))return u;if(a.opacity(l)&&g)return l}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:o}},60822:function(G,H,e){G.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(G,H,e){var y=e(73972),P=e(89298),a=e(71828),L=e(43641);G.exports=function(M,v,p){function r(h,s){return a.coerce(M,v,L,h,s)}for(var t=!1,o=!1,n=!1,c={},u=r("barmode"),l=0;l<p.length;l++){var g=p[l];if(y.traceIs(g,"bar")&&g.visible)t=!0;else continue;if(u==="group"){var f=g.xaxis+g.yaxis;c[f]&&(n=!0),c[f]=!0}if(g.visible&&g.type==="histogram"){var T=P.getFromId({_fullLayout:v},g[g.orientation==="v"?"xaxis":"yaxis"]);T.type!=="category"&&(o=!0)}}if(!t){delete v.barmode;return}u!=="overlay"&&r("barnorm"),r("bargap",o&&!n?0:.2),r("bargroupgap")}},17295:function(G,H,e){var y=e(39898),P=e(92770),a=e(71828),L=e(63893),M=e(7901),v=e(91424),p=e(73972),r=e(89298).tickText,t=e(72597),o=t.recordMinTextSize,n=t.clearMinTextSize,c=e(16688),u=e(69383),l=e(97313),g=e(1486),f=g.text,T=g.textposition,h=e(23469).appendArrayPointValue,s=l.TEXTPAD;function d(O){return O.id}function A(O){if(O.ids)return d}function w(O,N){return O<N?1:-1}function C(O,N,Y,$){var te=[],ie=[],ce=$?N:Y,J=$?Y:N;return te[0]=ce.c2p(O.s0,!0),ie[0]=J.c2p(O.p0,!0),te[1]=ce.c2p(O.s1,!0),ie[1]=J.c2p(O.p1,!0),$?[te,ie]:[ie,te]}function b(O,N,Y,$){if(!N.uniformtext.mode&&S(Y)){var te;return $&&(te=$()),O.transition().duration(Y.duration).ease(Y.easing).each("end",function(){te&&te()}).each("interrupt",function(){te&&te()})}else return O}function S(O){return O&&O.duration>0}function x(O,N,Y,$,te,ie){var ce=N.xaxis,J=N.yaxis,Z=O._fullLayout,ae=O._context.staticPlot;te||(te={mode:Z.barmode,norm:Z.barmode,gap:Z.bargap,groupgap:Z.bargroupgap},n("bar",Z));var j=a.makeTraceGroups($,Y,"trace bars").each(function(q){var oe=y.select(this),Q=q[0].trace,K=Q.type==="waterfall",se=Q.type==="funnel",ne=Q.type==="bar",fe=ne||se,ye=0;K&&Q.connector.visible&&Q.connector.mode==="between"&&(ye=Q.connector.line.width/2);var Ee=Q.orientation==="h",Te=S(te),ze=a.ensureSingle(oe,"g","points"),ke=A(Q),Se=ze.selectAll("g.point").data(a.identity,ke);Se.enter().append("g").classed("point",!0),Se.exit().remove(),Se.each(function(Ce,Ne){var He=y.select(this),De=C(Ce,ce,J,Ee),Ve=De[0][0],at=De[0][1],lt=De[1][0],$e=De[1][1],et=(Ee?at-Ve:$e-lt)===0;et&&fe&&u.getLineWidth(Q,Ce)&&(et=!1),et||(et=!P(Ve)||!P(at)||!P(lt)||!P($e)),Ce.isBlank=et,et&&(Ee?at=Ve:$e=lt),ye&&!et&&(Ee?(Ve-=w(Ve,at)*ye,at+=w(Ve,at)*ye):(lt-=w(lt,$e)*ye,$e+=w(lt,$e)*ye));var ct,dt;if(Q.type==="waterfall"){if(!et){var gt=Q[Ce.dir].marker;ct=gt.line.width,dt=gt.color}}else ct=u.getLineWidth(Q,Ce),dt=Ce.mc||Q.marker.color;function At(Fe){var Pe=y.round(ct/2%1,2);return te.gap===0&&te.groupgap===0?y.round(Math.round(Fe)-Pe,2):Fe}function Rt(Fe,Pe,xe){return xe&&Fe===Pe?Fe:Math.abs(Fe-Pe)>=2?At(Fe):Fe>Pe?Math.ceil(Fe):Math.floor(Fe)}if(!O._context.staticPlot){var Vt=M.opacity(dt),Je=Vt<1||ct>.01?At:Rt;Ve=Je(Ve,at,Ee),at=Je(at,Ve,Ee),lt=Je(lt,$e,!Ee),$e=Je($e,lt,!Ee)}var Ge=b(a.ensureSingle(He,"path"),Z,te,ie);if(Ge.style("vector-effect",ae?"none":"non-scaling-stroke").attr("d",isNaN((at-Ve)*($e-lt))||et&&O._context.staticPlot?"M0,0Z":"M"+Ve+","+lt+"V"+$e+"H"+at+"V"+lt+"Z").call(v.setClipUrl,N.layerClipId,O),!Z.uniformtext.mode&&Te){var Ie=v.makePointStyleFns(Q);v.singlePointStyle(Ce,Ge,Q,Ie,O)}i(O,N,He,q,Ne,Ve,at,lt,$e,te,ie),N.layerClipId&&v.hideOutsideRangePoint(Ce,He.select("text"),ce,J,Q.xcalendar,Q.ycalendar)});var me=Q.cliponaxis===!1;v.setClipUrl(oe,me?null:N.layerClipId,O)});p.getComponentMethod("errorbars","plot")(O,j,N,te)}function i(O,N,Y,$,te,ie,ce,J,Z,ae,j){var q=N.xaxis,oe=N.yaxis,Q=O._fullLayout,K;function se(Fe,Pe,xe){var ge=a.ensureSingle(Fe,"text").text(Pe).attr({class:"bartext bartext-"+K,"text-anchor":"middle","data-notex":1}).call(v.font,xe).call(L.convertToTspans,O);return ge}var ne=$[0].trace,fe=ne.orientation==="h",ye=U(Q,$,te,q,oe);K=z(ne,te);var Ee=ae.mode==="stack"||ae.mode==="relative",Te=$[te],ze=!Ee||Te._outmost;if(!ye||K==="none"||(Te.isBlank||ie===ce||J===Z)&&(K==="auto"||K==="inside")){Y.select("text").remove();return}var ke=Q.font,Se=c.getBarColor($[te],ne),me=c.getInsideTextFont(ne,te,ke,Se),Ce=c.getOutsideTextFont(ne,te,ke),Ne=Y.datum();fe?q.type==="log"&&Ne.s0<=0&&(q.range[0]<q.range[1]?ie=0:ie=q._length):oe.type==="log"&&Ne.s0<=0&&(oe.range[0]<oe.range[1]?J=oe._length:J=0);var He=Math.abs(ce-ie)-2*s,De=Math.abs(Z-J)-2*s,Ve,at,lt,$e,et;if(K==="outside"&&!ze&&!Te.hasB&&(K="inside"),K==="auto")if(ze){K="inside",et=a.ensureUniformFontSize(O,me),Ve=se(Y,ye,et),at=v.bBox(Ve.node()),lt=at.width,$e=at.height;var ct=lt>0&&$e>0,dt=lt<=He&&$e<=De,gt=lt<=De&&$e<=He,At=fe?He>=lt*(De/$e):De>=$e*(He/lt);ct&&(dt||gt||At)?K="inside":(K="outside",Ve.remove(),Ve=null)}else K="inside";if(!Ve){et=a.ensureUniformFontSize(O,K==="outside"?Ce:me),Ve=se(Y,ye,et);var Rt=Ve.attr("transform");if(Ve.attr("transform",""),at=v.bBox(Ve.node()),lt=at.width,$e=at.height,Ve.attr("transform",Rt),lt<=0||$e<=0){Ve.remove();return}}var Vt=ne.textangle,Je,Ge;K==="outside"?(Ge=ne.constraintext==="both"||ne.constraintext==="outside",Je=I(ie,ce,J,Z,at,{isHorizontal:fe,constrained:Ge,angle:Vt})):(Ge=ne.constraintext==="both"||ne.constraintext==="inside",Je=k(ie,ce,J,Z,at,{isHorizontal:fe,constrained:Ge,angle:Vt,anchor:ne.insidetextanchor})),Je.fontSize=et.size,o(ne.type==="histogram"?"bar":ne.type,Je,Q),Te.transform=Je;var Ie=b(Ve,Q,ae,j);a.setTransormAndDisplay(Ie,Je)}function E(O){return O==="auto"?0:O}function m(O,N){var Y=Math.PI/180*N,$=Math.abs(Math.sin(Y)),te=Math.abs(Math.cos(Y));return{x:O.width*te+O.height*$,y:O.width*$+O.height*te}}function k(O,N,Y,$,te,ie){var ce=!!ie.isHorizontal,J=!!ie.constrained,Z=ie.angle||0,ae=ie.anchor||"end",j=ae==="end",q=ae==="start",oe=ie.leftToRight||0,Q=(oe+1)/2,K=1-Q,se=te.width,ne=te.height,fe=Math.abs(N-O),ye=Math.abs($-Y),Ee=fe>2*s&&ye>2*s?s:0;fe-=2*Ee,ye-=2*Ee;var Te=E(Z);Z==="auto"&&!(se<=fe&&ne<=ye)&&(se>fe||ne>ye)&&(!(se>ye||ne>fe)||se<ne!=fe<ye)&&(Te+=90);var ze=m(te,Te),ke=1;J&&(ke=Math.min(1,fe/ze.x,ye/ze.y));var Se=te.left*K+te.right*Q,me=(te.top+te.bottom)/2,Ce=(O+s)*K+(N-s)*Q,Ne=(Y+$)/2,He=0,De=0;if(q||j){var Ve=(ce?ze.x:ze.y)/2,at=ce?w(O,N):w(Y,$);ce?q?(Ce=O+at*Ee,He=-at*Ve):(Ce=N-at*Ee,He=at*Ve):q?(Ne=Y+at*Ee,De=-at*Ve):(Ne=$-at*Ee,De=at*Ve)}return{textX:Se,textY:me,targetX:Ce,targetY:Ne,anchorX:He,anchorY:De,scale:ke,rotate:Te}}function I(O,N,Y,$,te,ie){var ce=!!ie.isHorizontal,J=!!ie.constrained,Z=ie.angle||0,ae=te.width,j=te.height,q=Math.abs(N-O),oe=Math.abs($-Y),Q;ce?Q=oe>2*s?s:0:Q=q>2*s?s:0;var K=1;J&&(K=ce?Math.min(1,oe/j):Math.min(1,q/ae));var se=E(Z),ne=m(te,se),fe=(ce?ne.x:ne.y)/2,ye=(te.left+te.right)/2,Ee=(te.top+te.bottom)/2,Te=(O+N)/2,ze=(Y+$)/2,ke=0,Se=0,me=ce?w(N,O):w(Y,$);return ce?(Te=N-me*Q,ke=me*fe):(ze=$+me*Q,Se=-me*fe),{textX:ye,textY:Ee,targetX:Te,targetY:ze,anchorX:ke,anchorY:Se,scale:K,rotate:se}}function U(O,N,Y,$,te){var ie=N[0].trace,ce=ie.texttemplate,J;return ce?J=F(O,N,Y,$,te):ie.textinfo?J=B(N,Y,$,te):J=u.getValue(ie.text,Y),u.coerceString(f,J)}function z(O,N){var Y=u.getValue(O.textposition,N);return u.coerceEnumerated(T,Y)}function F(O,N,Y,$,te){var ie=N[0].trace,ce=a.castOption(ie,Y,"texttemplate");if(!ce)return"";var J=ie.type==="histogram",Z=ie.type==="waterfall",ae=ie.type==="funnel",j=ie.orientation==="h",q,oe,Q,K;j?(q="y",oe=te,Q="x",K=$):(q="x",oe=$,Q="y",K=te);function se(ke){return r(oe,oe.c2l(ke),!0).text}function ne(ke){return r(K,K.c2l(ke),!0).text}var fe=N[Y],ye={};ye.label=fe.p,ye.labelLabel=ye[q+"Label"]=se(fe.p);var Ee=a.castOption(ie,fe.i,"text");(Ee===0||Ee)&&(ye.text=Ee),ye.value=fe.s,ye.valueLabel=ye[Q+"Label"]=ne(fe.s);var Te={};h(Te,ie,fe.i),(J||Te.x===void 0)&&(Te.x=j?ye.value:ye.label),(J||Te.y===void 0)&&(Te.y=j?ye.label:ye.value),(J||Te.xLabel===void 0)&&(Te.xLabel=j?ye.valueLabel:ye.labelLabel),(J||Te.yLabel===void 0)&&(Te.yLabel=j?ye.labelLabel:ye.valueLabel),Z&&(ye.delta=+fe.rawS||fe.s,ye.deltaLabel=ne(ye.delta),ye.final=fe.v,ye.finalLabel=ne(ye.final),ye.initial=ye.final-ye.delta,ye.initialLabel=ne(ye.initial)),ae&&(ye.value=fe.s,ye.valueLabel=ne(ye.value),ye.percentInitial=fe.begR,ye.percentInitialLabel=a.formatPercent(fe.begR),ye.percentPrevious=fe.difR,ye.percentPreviousLabel=a.formatPercent(fe.difR),ye.percentTotal=fe.sumR,ye.percenTotalLabel=a.formatPercent(fe.sumR));var ze=a.castOption(ie,fe.i,"customdata");return ze&&(ye.customdata=ze),a.texttemplateString(ce,ye,O._d3locale,Te,ye,ie._meta||{})}function B(O,N,Y,$){var te=O[0].trace,ie=te.orientation==="h",ce=te.type==="waterfall",J=te.type==="funnel";function Z(ze){var ke=ie?$:Y;return r(ke,ze,!0).text}function ae(ze){var ke=ie?Y:$;return r(ke,+ze,!0).text}var j=te.textinfo,q=O[N],oe=j.split("+"),Q=[],K,se=function(ze){return oe.indexOf(ze)!==-1};if(se("label")&&Q.push(Z(O[N].p)),se("text")&&(K=a.castOption(te,q.i,"text"),(K===0||K)&&Q.push(K)),ce){var ne=+q.rawS||q.s,fe=q.v,ye=fe-ne;se("initial")&&Q.push(ae(ye)),se("delta")&&Q.push(ae(ne)),se("final")&&Q.push(ae(fe))}if(J){se("value")&&Q.push(ae(q.s));var Ee=0;se("percent initial")&&Ee++,se("percent previous")&&Ee++,se("percent total")&&Ee++;var Te=Ee>1;se("percent initial")&&(K=a.formatPercent(q.begR),Te&&(K+=" of initial"),Q.push(K)),se("percent previous")&&(K=a.formatPercent(q.difR),Te&&(K+=" of previous"),Q.push(K)),se("percent total")&&(K=a.formatPercent(q.sumR),Te&&(K+=" of total"),Q.push(K))}return Q.join("<br>")}G.exports={plot:x,toMoveInsideBar:k}},81974:function(G){G.exports=function(y,P){var a=y.cd,L=y.xaxis,M=y.yaxis,v=a[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],o;if(P===!1)for(o=0;o<a.length;o++)a[o].selected=0;else for(o=0;o<a.length;o++){var n=a[o],c="ct"in n?n.ct:H(n,L,M,r,p);P.contains(c,!1,o,y)?(t.push({pointNumber:o,x:L.c2d(n.x),y:M.c2d(n.y)}),n.selected=1):n.selected=0}return t};function H(e,y,P,a,L){var M=y.c2p(a?e.s0:e.p0,!0),v=y.c2p(a?e.s1:e.p1,!0),p=P.c2p(a?e.p0:e.s0,!0),r=P.c2p(a?e.p1:e.s1,!0);return L?[(M+v)/2,(p+r)/2]:a?[v,(p+r)/2]:[(M+v)/2,r]}},61546:function(G,H,e){G.exports=P;var y=e(71828).distinctVals;function P(a,L){this.traces=a,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var M=1/0,v=L.posAxis._id.charAt(0),p=[],r=0;r<a.length;r++){for(var t=a[r],o=0;o<t.length;o++){var n=t[o],c=n.p;c===void 0&&(c=n[v]),c!==void 0&&p.push(c)}t[0]&&t[0].width1&&(M=Math.min(t[0].width1,M))}this.positions=p;var u=y(p);this.distinctPositions=u.vals,u.vals.length===1&&M!==1/0?this.minDiff=M:this.minDiff=Math.min(u.minDiff,M);var l=(L.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,M){var v=this.getLabel(L,M),p=this.bins[v]||0;return this.bins[v]=p+M,p},P.prototype.get=function(L,M){var v=this.getLabel(L,M);return this.bins[v]||0},P.prototype.getLabel=function(L,M){var v=M<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},16688:function(G,H,e){var y=e(39898),P=e(7901),a=e(91424),L=e(71828),M=e(73972),v=e(72597).resizeText,p=e(1486),r=p.textfont,t=p.insidetextfont,o=p.outsidetextfont,n=e(69383);function c(b){var S=y.select(b).selectAll("g.barlayer").selectAll("g.trace");v(b,S,"bar");var x=S.size(),i=b._fullLayout;S.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(i.barmode==="stack"&&x>1||i.bargap===0&&i.bargroupgap===0&&!E[0].trace.marker.line.width)&&y.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(E){var m=y.select(this),k=E[0].trace;u(m,k,b)}),M.getComponentMethod("errorbars","style")(S)}function u(b,S,x){a.pointStyle(b.selectAll("path"),S,x),l(b,S,x)}function l(b,S,x){b.selectAll("text").each(function(i){var E=y.select(this),m=L.ensureUniformFontSize(x,h(E,i,S,x));a.font(E,m)})}function g(b,S,x){var i=S[0].trace;i.selectedpoints?f(x,i,b):(u(x,i,b),M.getComponentMethod("errorbars","style")(x))}function f(b,S,x){a.selectedPointStyle(b.selectAll("path"),S),T(b.selectAll("text"),S,x)}function T(b,S,x){b.each(function(i){var E=y.select(this),m;if(i.selected){m=L.ensureUniformFontSize(x,h(E,i,S,x));var k=S.selected.textfont&&S.selected.textfont.color;k&&(m.color=k),a.font(E,m)}else a.selectedTextStyle(E,S)})}function h(b,S,x,i){var E=i._fullLayout.font,m=x.textfont;if(b.classed("bartext-inside")){var k=C(S,x);m=d(x,S.i,E,k)}else b.classed("bartext-outside")&&(m=A(x,S.i,E));return m}function s(b,S,x){return w(r,b.textfont,S,x)}function d(b,S,x,i){var E=s(b,S,x),m=b._input.textfont===void 0||b._input.textfont.color===void 0||Array.isArray(b.textfont.color)&&b.textfont.color[S]===void 0;return m&&(E={color:P.contrast(i),family:E.family,size:E.size}),w(t,b.insidetextfont,S,E)}function A(b,S,x){var i=s(b,S,x);return w(o,b.outsidetextfont,S,i)}function w(b,S,x,i){S=S||{};var E=n.getValue(S.family,x),m=n.getValue(S.size,x),k=n.getValue(S.color,x);return{family:n.coerceString(b.family,E,i.family),size:n.coerceNumber(b.size,m,i.size),color:n.coerceColor(b.color,k,i.color)}}function C(b,S){return S.type==="waterfall"?S[b.dir].marker.color:b.mcc||b.mc||S.marker.color}G.exports={style:c,styleTextPoints:l,styleOnSelect:g,getInsideTextFont:d,getOutsideTextFont:A,getBarColor:C,resizeText:v}},98340:function(G,H,e){var y=e(7901),P=e(52075).hasColorscale,a=e(1586),L=e(71828).coercePattern;G.exports=function(v,p,r,t,o){var n=r("marker.color",t),c=P(v,"marker");c&&a(v,p,o,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",y.defaultLine),P(v,"marker.line")&&a(v,p,o,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",n,c),r("selected.marker.color"),r("unselected.marker.color")}},72597:function(G,H,e){var y=e(39898),P=e(71828);function a(p,r,t){var o=p._fullLayout,n=o["_"+t+"Text_minsize"];if(n){var c=o.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var g=l.transform;if(g){g.scale=c&&g.hide?0:n/g.fontSize;var f=y.select(this).select("text");P.setTransormAndDisplay(f,g)}})}}function L(p,r,t){if(t.uniformtext.mode){var o=v(p),n=t.uniformtext.minsize,c=r.scale*r.fontSize;r.hide=c<n,t[o]=t[o]||1/0,r.hide||(t[o]=Math.min(t[o],Math.max(c,n)))}}function M(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:L,clearMinTextSize:M,resizeText:a}},55023:function(G,H,e){var y=e(5386).fF,P=e(1426).extendFlat,a=e(81245),L=e(1486);G.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:L.marker,hoverinfo:a.hoverinfo,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},74692:function(G,H,e){var y=e(52075).hasColorscale,P=e(78803),a=e(71828).isArrayOrTypedArray,L=e(75341),M=e(11661).setGroupPositions,v=e(66279),p=e(73972).traceIs,r=e(71828).extendFlat;function t(n,c){for(var u=n._fullLayout,l=c.subplot,g=u[l].radialaxis,f=u[l].angularaxis,T=g.makeCalcdata(c,"r"),h=f.makeCalcdata(c,"theta"),s=c._length,d=new Array(s),A=T,w=h,C=0;C<s;C++)d[C]={p:w[C],s:A[C]};function b(S){var x=c[S];x!==void 0&&(c["_"+S]=a(x)?f.makeCalcdata(c,S):f.d2c(x,c.thetaunit))}return f.type==="linear"&&(b("width"),b("offset")),y(c,"marker")&&P(n,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),y(c,"marker.line")&&P(n,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(d,c),v(d,c),d}function o(n,c,u){for(var l=n.calcdata,g=[],f=0;f<l.length;f++){var T=l[f],h=T[0].trace;h.visible===!0&&p(h,"bar")&&h.subplot===u&&g.push(T)}var s=r({},c.radialaxis,{_id:"x"}),d=c.angularaxis;M(n,d,s,g,{mode:c.barmode,norm:c.barnorm,gap:c.bargap,groupgap:c.bargroupgap})}G.exports={calc:t,crossTraceCalc:o}},6135:function(G,H,e){var y=e(71828),P=e(22184).handleRThetaDefaults,a=e(98340),L=e(55023);G.exports=function(v,p,r,t){function o(c,u){return y.coerce(v,p,L,c,u)}var n=P(v,p,t,o);if(!n){p.visible=!1;return}o("thetaunit"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate"),a(v,p,o,r,t),y.coerceSelectionMarkerOpacity(p,o)}},27379:function(G,H,e){var y=e(30211),P=e(71828),a=e(95423).getTraceColor,L=P.fillText,M=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;G.exports=function(r,t,o){var n=r.cd,c=n[0].trace,u=r.subplot,l=u.radialAxis,g=u.angularAxis,f=u.vangles,T=f?v:P.isPtInsideSector,h=r.maxHoverDistance,s=g._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+o*o))),A=Math.atan2(o,t);l.range[0]>l.range[1]&&(A+=Math.PI);var w=function(x){return T(d,A,[x.rp0,x.rp1],[x.thetag0,x.thetag1],f)?h+Math.min(1,Math.abs(x.thetag1-x.thetag0)/s)-1+(x.rp1-d)/(x.rp1-x.rp0)-1:1/0};if(y.getClosest(n,w,r),r.index!==!1){var C=r.index,b=n[C];r.x0=r.x1=b.ct[0],r.y0=r.y1=b.ct[1];var S=P.extendFlat({},b,{r:b.s,theta:b.p});return L(b,c,r),M(S,c,u,r),r.hovertemplate=c.hovertemplate,r.color=a(c,b),r.xLabelVal=r.yLabelVal=void 0,b.s<0&&(r.idealAlign="left"),[r]}}},23381:function(G,H,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(G,H,e){var y=e(71828),P=e(40151);G.exports=function(a,L,M){var v={},p;function r(n,c){return y.coerce(a[p]||{},L[p],P,n,c)}for(var t=0;t<M.length;t++){var o=M[t];o.type==="barpolar"&&o.visible===!0&&(p=o.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},60173:function(G,H,e){var y=e(39898),P=e(92770),a=e(71828),L=e(91424),M=e(10869);G.exports=function(r,t,o){var n=r._context.staticPlot,c=t.xaxis,u=t.yaxis,l=t.radialAxis,g=t.angularAxis,f=v(t),T=t.layers.frontplot.select("g.barlayer");a.makeTraceGroups(T,o,"trace bars").each(function(){var h=y.select(this),s=a.ensureSingle(h,"g","points"),d=s.selectAll("g.point").data(a.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(A){var w=y.select(this),C=A.rp0=l.c2p(A.s0),b=A.rp1=l.c2p(A.s1),S=A.thetag0=g.c2g(A.p0),x=A.thetag1=g.c2g(A.p1),i;if(!P(C)||!P(b)||!P(S)||!P(x)||C===b||S===x)i="M0,0Z";else{var E=l.c2g(A.s1),m=(S+x)/2;A.ct=[c.c2p(E*Math.cos(m)),u.c2p(E*Math.sin(m))],i=f(C,b,S,x)}a.ensureSingle(w,"path").attr("d",i)}),L.setClipUrl(h,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(o,n,c,u){var l,g;a.angleDelta(c,u)>0?(l=c,g=u):(l=u,g=c);var f=M.findEnclosingVertexAngles(l,p.vangles)[0],T=M.findEnclosingVertexAngles(g,p.vangles)[1],h=[f,(l+g)/2,T];return M.pathPolygonAnnulus(o,n,l,g,h,r,t)}:function(o,n,c,u){return a.pathAnnulus(o,n,c,u,r,t)}}},53522:function(G,H,e){var y=e(82196),P=e(1486),a=e(22399),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(1426).extendFlat,p=y.marker,r=p.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},p.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},p.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},p.angle,{arrayOk:!1,editType:"calc"}),size:v({},p.size,{arrayOk:!1,editType:"calc"}),color:v({},p.color,{arrayOk:!1,editType:"style"}),line:{color:v({},r.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:v({},r.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:P.offsetgroup,alignmentgroup:P.alignmentgroup,selected:{marker:y.selected.marker,editType:"style"},unselected:{marker:y.unselected.marker,editType:"style"},text:v({},y.text,{}),hovertext:v({},y.hovertext,{}),hovertemplate:M({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(G,H,e){var y=e(92770),P=e(89298),a=e(42973),L=e(71828),M=e(50606).BADNUM,v=L._;G.exports=function(A,w){var C=A._fullLayout,b=P.getFromId(A,w.xaxis||"x"),S=P.getFromId(A,w.yaxis||"y"),x=[],i=w.type==="violin"?"_numViolins":"_numBoxes",E,m,k,I,U,z,F;w.orientation==="h"?(k=b,I="x",U=S,z="y",F=!!w.yperiodalignment):(k=S,I="y",U=b,z="x",F=!!w.xperiodalignment);var B=p(w,z,U,C[i]),O=B[0],N=B[1],Y=L.distinctVals(O,U),$=Y.vals,te=Y.minDiff/2,ie,ce,J,Z,ae,j,q=(w.boxpoints||w.points)==="all"?L.identity:function(Rt){return Rt.v<ie.lf||Rt.v>ie.uf};if(w._hasPreCompStats){var oe=w[I],Q=function(Rt){return k.d2c((w[Rt]||[])[E])},K=1/0,se=-1/0;for(E=0;E<w._length;E++){var ne=O[E];if(y(ne)){if(ie={},ie.pos=ie[z]=ne,F&&N&&(ie.orig_p=N[E]),ie.q1=Q("q1"),ie.med=Q("median"),ie.q3=Q("q3"),ce=[],oe&&L.isArrayOrTypedArray(oe[E]))for(m=0;m<oe[E].length;m++)j=k.d2c(oe[E][m]),j!==M&&(ae={v:j,i:[E,m]},n(ae,w,[E,m]),ce.push(ae));if(ie.pts=ce.sort(u),J=ie[I]=ce.map(l),Z=J.length,ie.med!==M&&ie.q1!==M&&ie.q3!==M&&ie.med>=ie.q1&&ie.q3>=ie.med){var fe=Q("lowerfence");ie.lf=fe!==M&&fe<=ie.q1?fe:g(ie,J,Z);var ye=Q("upperfence");ie.uf=ye!==M&&ye>=ie.q3?ye:f(ie,J,Z);var Ee=Q("mean");ie.mean=Ee!==M?Ee:Z?L.mean(J,Z):(ie.q1+ie.q3)/2;var Te=Q("sd");ie.sd=Ee!==M&&Te>=0?Te:Z?L.stdev(J,Z,ie.mean):ie.q3-ie.q1,ie.lo=T(ie),ie.uo=h(ie);var ze=Q("notchspan");ze=ze!==M&&ze>0?ze:s(ie,Z),ie.ln=ie.med-ze,ie.un=ie.med+ze;var ke=ie.lf,Se=ie.uf;w.boxpoints&&J.length&&(ke=Math.min(ke,J[0]),Se=Math.max(Se,J[Z-1])),w.notched&&(ke=Math.min(ke,ie.ln),Se=Math.max(Se,ie.un)),ie.min=ke,ie.max=Se}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ie.q1,"median = "+ie.med,"q3 = "+ie.q3].join(`
`));var me;ie.med!==M?me=ie.med:ie.q1!==M?ie.q3!==M?me=(ie.q1+ie.q3)/2:me=ie.q1:ie.q3!==M?me=ie.q3:me=0,ie.med=me,ie.q1=ie.q3=me,ie.lf=ie.uf=me,ie.mean=ie.sd=me,ie.ln=ie.un=me,ie.min=ie.max=me}K=Math.min(K,ie.min),se=Math.max(se,ie.max),ie.pts2=ce.filter(q),x.push(ie)}}w._extremes[k._id]=P.findExtremes(k,[K,se],{padded:!0})}else{var Ce=k.makeCalcdata(w,I),Ne=r($,te),He=$.length,De=t(He);for(E=0;E<w._length;E++)if(j=Ce[E],!!y(j)){var Ve=L.findBin(O[E],Ne);Ve>=0&&Ve<He&&(ae={v:j,i:E},n(ae,w,E),De[Ve].push(ae))}var at=1/0,lt=-1/0,$e=w.quartilemethod,et=$e==="exclusive",ct=$e==="inclusive";for(E=0;E<He;E++)if(De[E].length>0){if(ie={},ie.pos=ie[z]=$[E],ce=ie.pts=De[E].sort(u),J=ie[I]=ce.map(l),Z=J.length,ie.min=J[0],ie.max=J[Z-1],ie.mean=L.mean(J,Z),ie.sd=L.stdev(J,Z,ie.mean)*w.sdmultiple,ie.med=L.interp(J,.5),Z%2&&(et||ct)){var dt,gt;et?(dt=J.slice(0,Z/2),gt=J.slice(Z/2+1)):ct&&(dt=J.slice(0,Z/2+1),gt=J.slice(Z/2)),ie.q1=L.interp(dt,.5),ie.q3=L.interp(gt,.5)}else ie.q1=L.interp(J,.25),ie.q3=L.interp(J,.75);ie.lf=g(ie,J,Z),ie.uf=f(ie,J,Z),ie.lo=T(ie),ie.uo=h(ie);var At=s(ie,Z);ie.ln=ie.med-At,ie.un=ie.med+At,at=Math.min(at,ie.ln),lt=Math.max(lt,ie.un),ie.pts2=ce.filter(q),x.push(ie)}w.notched&&L.isTypedArray(Ce)&&(Ce=Array.from(Ce)),w._extremes[k._id]=P.findExtremes(k,w.notched?Ce.concat([at,lt]):Ce,{padded:!0})}return c(x,w),x.length>0?(x[0].t={num:C[i],dPos:te,posLetter:z,valLetter:I,labels:{med:v(A,"median:"),min:v(A,"min:"),q1:v(A,"q1:"),q3:v(A,"q3:"),max:v(A,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(A,"mean  :").replace("",w.sdmultiple===1?"":w.sdmultiple+""):v(A,"mean:"),lf:v(A,"lower fence:"),uf:v(A,"upper fence:")}},C[i]++,x):[{t:{empty:!0}}]};function p(d,A,w,C){var b=A in d,S=A+"0"in d,x="d"+A in d;if(b||S&&x){var i=w.makeCalcdata(d,A),E=a(d,w,A,i).vals;return[E,i]}var m;S?m=d[A+"0"]:"name"in d&&(w.type==="category"||y(d.name)&&["linear","log"].indexOf(w.type)!==-1||L.isDateTime(d.name)&&w.type==="date")?m=d.name:m=C;for(var k=w.type==="multicategory"?w.r2c_just_indices(m):w.d2c(m,0,d[A+"calendar"]),I=d._length,U=new Array(I),z=0;z<I;z++)U[z]=k;return[U]}function r(d,A){for(var w=d.length,C=new Array(w+1),b=0;b<w;b++)C[b]=d[b]-A;return C[w]=d[w-1]+A,C}function t(d){for(var A=new Array(d),w=0;w<d;w++)A[w]=[];return A}var o={text:"tx",hovertext:"htx"};function n(d,A,w){for(var C in o)L.isArrayOrTypedArray(A[C])&&(Array.isArray(w)?L.isArrayOrTypedArray(A[C][w[0]])&&(d[o[C]]=A[C][w[0]][w[1]]):d[o[C]]=A[C][w])}function c(d,A){if(L.isArrayOrTypedArray(A.selectedpoints))for(var w=0;w<d.length;w++){for(var C=d[w].pts||[],b={},S=0;S<C.length;S++)b[C[S].i]=S;L.tagSelected(C,A,b)}}function u(d,A){return d.v-A.v}function l(d){return d.v}function g(d,A,w){return w===0?d.q1:Math.min(d.q1,A[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,A,!0)+1,w-1)])}function f(d,A,w){return w===0?d.q3:Math.max(d.q3,A[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,A),0)])}function T(d){return 4*d.q1-3*d.q3}function h(d){return 4*d.q3-3*d.q1}function s(d,A){return A===0?0:1.57*(d.q3-d.q1)/Math.sqrt(A)}},37188:function(G,H,e){var y=e(89298),P=e(71828),a=e(99082).getAxisGroup,L=["v","h"];function M(p,r){for(var t=p.calcdata,o=r.xaxis,n=r.yaxis,c=0;c<L.length;c++){for(var u=L[c],l=u==="h"?n:o,g=[],f=0;f<t.length;f++){var T=t[f],h=T[0].t,s=T[0].trace;s.visible===!0&&(s.type==="box"||s.type==="candlestick")&&!h.empty&&(s.orientation||"v")===u&&s.xaxis===o._id&&s.yaxis===n._id&&g.push(f)}v("box",p,g,l)}}function v(p,r,t,o){var n=r.calcdata,c=r._fullLayout,u=o._id,l=u.charAt(0),g,f,T,h=[],s=0;for(g=0;g<t.length;g++)for(T=n[t[g]],f=0;f<T.length;f++)h.push(o.c2l(T[f].pos,!0)),s+=(T[f].pts2||[]).length;if(h.length){var d=P.distinctVals(h);(o.type==="category"||o.type==="multicategory")&&(d.minDiff=1);var A=d.minDiff/2;y.minDtick(o,d.minDiff,d.vals[0],!0);var w=p==="violin"?"_numViolins":"_numBoxes",C=c[w],b=c[p+"mode"]==="group"&&C>1,S=1-c[p+"gap"],x=1-c[p+"groupgap"];for(g=0;g<t.length;g++){T=n[t[g]];var i=T[0].trace,E=T[0].t,m=i.width,k=i.side,I,U,z,F;if(m)I=U=F=m/2,z=0;else if(I=A,b){var B=a(c,o._id)+i.orientation,O=c._alignmentOpts[B]||{},N=O[i.alignmentgroup]||{},Y=Object.keys(N.offsetGroups||{}).length,$=Y||C,te=Y?i._offsetIndex:E.num;U=I*S*x/$,z=2*I*(-.5+(te+.5)/$)*S,F=I*S/$}else U=I*S*x,z=0,F=I;E.dPos=I,E.bPos=z,E.bdPos=U,E.wHover=F;var ie,ce,J=z+U,Z,ae,j,q,oe,Q,K=!!m,se=(i.boxpoints||i.points)&&s>0;if(k==="positive"?(ie=I*(m?1:.5),Z=J,ce=Z=z):k==="negative"?(ie=Z=z,ce=I*(m?1:.5),ae=J):(ie=ce=I,Z=ae=J),se){var ne=i.pointpos,fe=i.jitter,ye=i.marker.size/2,Ee=0;ne+fe>=0&&(Ee=J*(ne+fe),Ee>ie?(K=!0,oe=ye,j=Ee):Ee>Z&&(oe=ye,j=ie)),Ee<=ie&&(j=ie);var Te=0;ne-fe<=0&&(Te=-J*(ne-fe),Te>ce?(K=!0,Q=ye,q=Te):Te>ae&&(Q=ye,q=ce)),Te<=ce&&(q=ce)}else j=ie,q=ce;var ze=new Array(T.length);for(f=0;f<T.length;f++)ze[f]=T[f].pos;i._extremes[u]=y.findExtremes(o,ze,{padded:K,vpadminus:q,vpadplus:j,vpadLinearized:!0,ppadminus:{x:Q,y:oe}[l],ppadplus:{x:oe,y:Q}[l]})}}}G.exports={crossTraceCalc:M,setPositionOffset:v}},36411:function(G,H,e){var y=e(71828),P=e(73972),a=e(7901),L=e(73927),M=e(26125),v=e(4322),p=e(53522);function r(c,u,l,g){function f(x,i){return y.coerce(c,u,p,x,i)}if(t(c,u,f,g),u.visible!==!1){L(c,u,g,f),f("xhoverformat"),f("yhoverformat");var T=u._hasPreCompStats;T&&(f("lowerfence"),f("upperfence")),f("line.color",(c.marker||{}).color||l),f("line.width"),f("fillcolor",a.addOpacity(u.line.color,.5));var h=!1;if(T){var s=f("mean"),d=f("sd");s&&s.length&&(h=!0,d&&d.length&&(h="sd"))}f("whiskerwidth");var A=f("sizemode"),w;A==="quartiles"&&(w=f("boxmean",h)),f("showwhiskers",A==="quartiles"),(A==="sd"||w==="sd")&&f("sdmultiple"),f("width"),f("quartilemethod");var C=!1;if(T){var b=f("notchspan");b&&b.length&&(C=!0)}else y.validate(c.notchwidth,p.notchwidth)&&(C=!0);var S=f("notched",C);S&&f("notchwidth"),o(c,u,f,{prefix:"box"})}}function t(c,u,l,g){function f(Y){var $=0;return Y&&Y.length&&($+=1,y.isArrayOrTypedArray(Y[0])&&Y[0].length&&($+=1)),$}function T(Y){return y.validate(c[Y],p[Y])}var h=l("y"),s=l("x"),d;if(u.type==="box"){var A=l("q1"),w=l("median"),C=l("q3");u._hasPreCompStats=A&&A.length&&w&&w.length&&C&&C.length,d=Math.min(y.minRowLength(A),y.minRowLength(w),y.minRowLength(C))}var b=f(h),S=f(s),x=b&&y.minRowLength(h),i=S&&y.minRowLength(s),E=g.calendar,m={autotypenumbers:g.autotypenumbers},k,I;if(u._hasPreCompStats)switch(String(S)+String(b)){case"00":var U=T("x0")||T("dx"),z=T("y0")||T("dy");z&&!U?k="h":k="v",I=d;break;case"10":k="v",I=Math.min(d,i);break;case"20":k="h",I=Math.min(d,s.length);break;case"01":k="h",I=Math.min(d,x);break;case"02":k="v",I=Math.min(d,h.length);break;case"12":k="v",I=Math.min(d,i,h.length);break;case"21":k="h",I=Math.min(d,s.length,x);break;case"11":I=0;break;case"22":var F=!1,B;for(B=0;B<s.length;B++)if(v(s[B],E,m)==="category"){F=!0;break}if(F)k="v",I=Math.min(d,i,h.length);else{for(B=0;B<h.length;B++)if(v(h[B],E,m)==="category"){F=!0;break}F?(k="h",I=Math.min(d,s.length,x)):(k="v",I=Math.min(d,i,h.length))}break}else b>0?(k="v",S>0?I=Math.min(i,x):I=Math.min(x)):S>0?(k="h",I=Math.min(i)):I=0;if(!I){u.visible=!1;return}u._length=I;var O=l("orientation",k);u._hasPreCompStats?O==="v"&&S===0?(l("x0",0),l("dx",1)):O==="h"&&b===0&&(l("y0",0),l("dy",1)):O==="v"&&S===0?l("x0"):O==="h"&&b===0&&l("y0");var N=P.getComponentMethod("calendars","handleTraceDefaults");N(c,u,["x","y"],g)}function o(c,u,l,g){var f=g.prefix,T=y.coerce2(c,u,p,"marker.outliercolor"),h=l("marker.line.outliercolor"),s="outliers";u._hasPreCompStats?s="all":(T||h)&&(s="suspectedoutliers");var d=l(f+"points",s);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var A=l("hoveron");(A==="all"||A.indexOf("points")!==-1)&&l("hovertemplate"),y.coerceSelectionMarkerOpacity(u,l)}function n(c,u){var l,g;function f(s){return y.coerce(g._input,g,p,s)}for(var T=0;T<c.length;T++){g=c[T];var h=g.type;(h==="box"||h==="violin")&&(l=g._input,u[h+"mode"]==="group"&&M(l,g,u,f))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:o}},74907:function(G){G.exports=function(e,y){return y.hoverOnBox&&(e.hoverOnBox=y.hoverOnBox),"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},41868:function(G,H,e){var y=e(89298),P=e(71828),a=e(30211),L=e(7901),M=P.fillText;function v(t,o,n,c){var u=t.cd,l=u[0].trace,g=l.hoveron,f=[],T;return g.indexOf("boxes")!==-1&&(f=f.concat(p(t,o,n,c))),g.indexOf("points")!==-1&&(T=r(t,o,n)),c==="closest"?T?[T]:f:(T&&f.push(T),f)}function p(t,o,n,c){var u=t.cd,l=t.xa,g=t.ya,f=u[0].trace,T=u[0].t,h=f.type==="violin",s,d,A,w,C,b,S,x,i,E,m,k=T.bdPos,I,U,z=T.wHover,F=function(Te){return A.c2l(Te.pos)+T.bPos-A.c2l(b)};h&&f.side!=="both"?(f.side==="positive"&&(i=function(Te){var ze=F(Te);return a.inbox(ze,ze+z,E)},I=k,U=0),f.side==="negative"&&(i=function(Te){var ze=F(Te);return a.inbox(ze-z,ze,E)},I=0,U=k)):(i=function(Te){var ze=F(Te);return a.inbox(ze-z,ze+z,E)},I=U=k);var B;h?B=function(Te){return a.inbox(Te.span[0]-C,Te.span[1]-C,E)}:B=function(Te){return a.inbox(Te.min-C,Te.max-C,E)},f.orientation==="h"?(C=o,b=n,S=B,x=i,s="y",A=g,d="x",w=l):(C=n,b=o,S=i,x=B,s="x",A=l,d="y",w=g);var O=Math.min(1,k/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));E=t.maxHoverDistance-O,m=t.maxSpikeDistance-O;function N(Te){return(S(Te)+x(Te))/2}var Y=a.getDistanceFunction(c,S,x,N);if(a.getClosest(u,Y,t),t.index===!1)return[];var $=u[t.index],te=f.line.color,ie=(f.marker||{}).color;L.opacity(te)&&f.line.width?t.color=te:L.opacity(ie)&&f.boxpoints?t.color=ie:t.color=f.fillcolor,t[s+"0"]=A.c2p($.pos+T.bPos-U,!0),t[s+"1"]=A.c2p($.pos+T.bPos+I,!0),t[s+"LabelVal"]=$.orig_p!==void 0?$.orig_p:$.pos;var ce=s+"Spike";t.spikeDistance=N($)*m/E,t[ce]=A.c2p($.pos,!0);var J=f.boxmean||f.sizemode==="sd"||(f.meanline||{}).visible,Z=f.boxpoints||f.points,ae=Z&&J?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!J?["max","uf","q3","med","q1","lf","min"]:!Z&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],j=w.range[1]<w.range[0];f.orientation===(j?"v":"h")&&ae.reverse();for(var q=t.spikeDistance,oe=t[ce],Q=[],K=0;K<ae.length;K++){var se=ae[K];if(se in $){var ne=$[se],fe=w.c2p(ne,!0),ye=P.extendFlat({},t);ye.attr=se,ye[d+"0"]=ye[d+"1"]=fe,ye[d+"LabelVal"]=ne,ye[d+"Label"]=(T.labels?T.labels[se]+" ":"")+y.hoverLabelText(w,ne,f[d+"hoverformat"]),ye.hoverOnBox=!0,se==="mean"&&"sd"in $&&(f.boxmean==="sd"||f.sizemode==="sd")&&(ye[d+"err"]=$.sd),ye.hovertemplate=!1,Q.push(ye)}}t.name="",t.spikeDistance=void 0,t[ce]=void 0;for(var Ee=0;Ee<Q.length;Ee++)Q[Ee].attr!=="med"?(Q[Ee].name="",Q[Ee].spikeDistance=void 0,Q[Ee][ce]=void 0):(Q[Ee].spikeDistance=q,Q[Ee][ce]=oe);return Q}function r(t,o,n){for(var c=t.cd,u=t.xa,l=t.ya,g=c[0].trace,f=u.c2p(o),T=l.c2p(n),h,s=function(B){var O=Math.max(3,B.mrc||0);return Math.max(Math.abs(u.c2p(B.x)-f)-O,1-3/O)},d=function(B){var O=Math.max(3,B.mrc||0);return Math.max(Math.abs(l.c2p(B.y)-T)-O,1-3/O)},A=a.quadrature(s,d),w=!1,C,b,S=0;S<c.length;S++){C=c[S];for(var x=0;x<(C.pts||[]).length;x++){b=C.pts[x];var i=A(b);i<=t.distance&&(t.distance=i,w=[S,x])}}if(!w)return!1;C=c[w[0]],b=C.pts[w[1]];var E=u.c2p(b.x,!0),m=l.c2p(b.y,!0),k=b.mrc||1;h=P.extendFlat({},t,{index:b.i,color:(g.marker||{}).color,name:g.name,x0:E-k,x1:E+k,y0:m-k,y1:m+k,spikeDistance:t.distance,hovertemplate:g.hovertemplate});var I=C.orig_p,U=I!==void 0?I:C.pos,z;g.orientation==="h"?(z=l,h.xLabelVal=b.x,h.yLabelVal=U):(z=u,h.xLabelVal=U,h.yLabelVal=b.y);var F=z._id.charAt(0);return h[F+"Spike"]=z.c2p(C.pos,!0),M(b,g,h),h}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},83832:function(G,H,e){G.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(G,H,e){var y=e(73972),P=e(71828),a=e(40094);function L(v,p,r,t,o){for(var n=o+"Layout",c=!1,u=0;u<r.length;u++){var l=r[u];if(y.traceIs(l,n)){c=!0;break}}c&&(t(o+"mode"),t(o+"gap"),t(o+"groupgap"))}function M(v,p,r){function t(o,n){return P.coerce(v,p,a,o,n)}L(v,p,r,t,"box")}G.exports={supplyLayoutDefaults:M,_supply:L}},86047:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=5,M=.01;function v(o,n,c,u){var l=o._context.staticPlot,g=n.xaxis,f=n.yaxis;P.makeTraceGroups(u,c,"trace boxes").each(function(T){var h=y.select(this),s=T[0],d=s.t,A=s.trace;if(d.wdPos=d.bdPos*A.whiskerwidth,A.visible!==!0||d.empty){h.remove();return}var w,C;A.orientation==="h"?(w=f,C=g):(w=g,C=f),p(h,{pos:w,val:C},A,d,l),r(h,{x:g,y:f},A,d),t(h,{pos:w,val:C},A,d)})}function p(o,n,c,u,l){var g=c.orientation==="h",f=n.val,T=n.pos,h=!!T.rangebreaks,s=u.bPos,d=u.wdPos||0,A=u.bPosPxOffset||0,w=c.whiskerwidth||0,C=c.showwhiskers!==!1,b=c.notched||!1,S=b?1-2*c.notchwidth:1,x,i;Array.isArray(u.bdPos)?(x=u.bdPos[0],i=u.bdPos[1]):(x=u.bdPos,i=u.bdPos);var E=o.selectAll("path.box").data(c.type!=="violin"||c.box.visible?P.identity:[]);E.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(m){if(m.empty)return y.select(this).attr("d","M0,0Z");var k=T.c2l(m.pos+s,!0),I=T.l2p(k-x)+A,U=T.l2p(k+i)+A,z=h?(I+U)/2:T.l2p(k)+A,F=c.whiskerwidth,B=h?I*F+(1-F)*z:T.l2p(k-d)+A,O=h?U*F+(1-F)*z:T.l2p(k+d)+A,N=T.l2p(k-x*S)+A,Y=T.l2p(k+i*S)+A,$=c.sizemode==="sd",te=f.c2p($?m.mean-m.sd:m.q1,!0),ie=$?f.c2p(m.mean+m.sd,!0):f.c2p(m.q3,!0),ce=P.constrain($?f.c2p(m.mean,!0):f.c2p(m.med,!0),Math.min(te,ie)+1,Math.max(te,ie)-1),J=m.lf===void 0||c.boxpoints===!1||$,Z=f.c2p(J?m.min:m.lf,!0),ae=f.c2p(J?m.max:m.uf,!0),j=f.c2p(m.ln,!0),q=f.c2p(m.un,!0);g?y.select(this).attr("d","M"+ce+","+N+"V"+Y+"M"+te+","+I+"V"+U+(b?"H"+j+"L"+ce+","+Y+"L"+q+","+U:"")+"H"+ie+"V"+I+(b?"H"+q+"L"+ce+","+N+"L"+j+","+I:"")+"Z"+(C?"M"+te+","+z+"H"+Z+"M"+ie+","+z+"H"+ae+(w===0?"":"M"+Z+","+B+"V"+O+"M"+ae+","+B+"V"+O):"")):y.select(this).attr("d","M"+N+","+ce+"H"+Y+"M"+I+","+te+"H"+U+(b?"V"+j+"L"+Y+","+ce+"L"+U+","+q:"")+"V"+ie+"H"+I+(b?"V"+q+"L"+N+","+ce+"L"+I+","+j:"")+"Z"+(C?"M"+z+","+te+"V"+Z+"M"+z+","+ie+"V"+ae+(w===0?"":"M"+B+","+Z+"H"+O+"M"+B+","+ae+"H"+O):""))})}function r(o,n,c,u){var l=n.x,g=n.y,f=u.bdPos,T=u.bPos,h=c.boxpoints||c.points;P.seedPseudoRandom();var s=function(w){return w.forEach(function(C){C.t=u,C.trace=c}),w},d=o.selectAll("g.points").data(h?s:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var A=d.selectAll("path").data(function(w){var C,b=w.pts2,S=Math.max((w.max-w.min)/10,w.q3-w.q1),x=S*1e-9,i=S*M,E=[],m=0,k;if(c.jitter){if(S===0)for(m=1,E=new Array(b.length),C=0;C<b.length;C++)E[C]=1;else for(C=0;C<b.length;C++){var I=Math.max(0,C-L),U=b[I].v,z=Math.min(b.length-1,C+L),F=b[z].v;h!=="all"&&(b[C].v<w.lf?F=Math.min(F,w.lf):U=Math.max(U,w.uf));var B=Math.sqrt(i*(z-I)/(F-U+x))||0;B=P.constrain(Math.abs(B),0,1),E.push(B),m=Math.max(B,m)}k=c.jitter*2/(m||1)}for(C=0;C<b.length;C++){var O=b[C],N=O.v,Y=c.jitter?k*E[C]*(P.pseudoRandom()-.5):0,$=w.pos+T+f*(c.pointpos+Y);c.orientation==="h"?(O.y=$,O.x=N):(O.x=$,O.y=N),h==="suspectedoutliers"&&N<w.uo&&N>w.lo&&(O.so=!0)}return b});A.enter().append("path").classed("point",!0),A.exit().remove(),A.call(a.translatePoints,l,g)}function t(o,n,c,u){var l=n.val,g=n.pos,f=!!g.rangebreaks,T=u.bPos,h=u.bPosPxOffset||0,s=c.boxmean||(c.meanline||{}).visible,d,A;Array.isArray(u.bdPos)?(d=u.bdPos[0],A=u.bdPos[1]):(d=u.bdPos,A=u.bdPos);var w=o.selectAll("path.mean").data(c.type==="box"&&c.boxmean||c.type==="violin"&&c.box.visible&&c.meanline.visible?P.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(C){var b=g.c2l(C.pos+T,!0),S=g.l2p(b-d)+h,x=g.l2p(b+A)+h,i=f?(S+x)/2:g.l2p(b)+h,E=l.c2p(C.mean,!0),m=l.c2p(C.mean-C.sd,!0),k=l.c2p(C.mean+C.sd,!0);c.orientation==="h"?y.select(this).attr("d","M"+E+","+S+"V"+x+(s==="sd"?"m0,0L"+m+","+i+"L"+E+","+S+"L"+k+","+i+"Z":"")):y.select(this).attr("d","M"+S+","+E+"H"+x+(s==="sd"?"m0,0L"+i+","+m+"L"+S+","+E+"L"+i+","+k+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},24626:function(G){G.exports=function(e,y){var P=e.cd,a=e.xaxis,L=e.yaxis,M=[],v,p;if(y===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=a.c2p(r.x),o=L.c2p(r.y);y.contains([t,o],null,r.i,e)?(M.push({pointNumber:r.i,x:a.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return M}},58063:function(G,H,e){var y=e(39898),P=e(7901),a=e(91424);function L(v,p,r){var t=r||y.select(v).selectAll("g.trace.boxes");t.style("opacity",function(o){return o[0].trace.opacity}),t.each(function(o){var n=y.select(this),c=o[0].trace,u=c.line.width;function l(T,h,s,d){T.style("stroke-width",h+"px").call(P.stroke,s).call(P.fill,d)}var g=n.selectAll("path.box");if(c.type==="candlestick")g.each(function(T){if(!T.empty){var h=y.select(this),s=c[T.dir];l(h,s.line.width,s.line.color,s.fillcolor),h.style("opacity",c.selectedpoints&&!T.selected?.3:1)}});else{l(g,u,c.line.color,c.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(P.stroke,c.line.color);var f=n.selectAll("path.point");a.pointStyle(f,c,v)}})}function M(v,p,r){var t=p[0].trace,o=r.selectAll("path.point");t.selectedpoints?a.selectedPointStyle(o,t):a.pointStyle(o,t,v)}G.exports={style:L,styleOnSelect:M}},75343:function(G,H,e){var y=e(71828).extendFlat,P=e(12663).axisHoverFormat,a=e(2522),L=e(53522);function M(v){return{line:{color:y({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}G.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:y({},L.line.width,{}),editType:"style"},increasing:M(a.increasing.line.color.dflt),decreasing:M(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:y({},L.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(G,H,e){var y=e(71828),P=e(89298),a=e(42973),L=e(3485).calcCommon;G.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),o=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),c=a(p,t,"x",n).vals,u=L(v,p,n,c,o,M);return u.length?(y.extendFlat(u[0].t,{num:r._numBoxes,dPos:y.distinctVals(c).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function M(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},1026:function(G,H,e){var y=e(71828),P=e(7901),a=e(14555),L=e(73927),M=e(75343);G.exports=function(r,t,o,n){function c(l,g){return y.coerce(r,t,M,l,g)}var u=a(r,t,c,n);if(!u){t.visible=!1;return}L(r,t,n,c,{x:!0}),c("xhoverformat"),c("yhoverformat"),c("line.width"),v(r,t,c,"increasing"),v(r,t,c,"decreasing"),c("text"),c("hovertext"),c("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0};function v(p,r,t,o){var n=t(o+".line.color");t(o+".line.width",r.line.width),t(o+".fillcolor",P.addOpacity(n,.5))}},91815:function(G,H,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(G,H,e){var y=e(11500),P=e(44467);G.exports=function(M,v,p,r,t){var o=r("a");o||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),a(M,v,p,t)};function a(L,M,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var o=t.charAt(0),n=L[t]||{},c=P.newContainer(M,t),u={noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:M.font,name:t,data:L[o],calendar:M.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};y(n,c,u),c._categories=c._categories||[],!L[t]&&n.type!=="-"&&(L[t]={type:n.type})})}},402:function(G,H,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(a){return P(a,0)};function P(a,L){if(!y(a)||L>=10)return null;for(var M=1/0,v=-1/0,p=a.length,r=0;r<p;r++){var t=a[r];if(y(t)){var o=P(t,L+1);o&&(M=Math.min(o[0],M),v=Math.max(o[1],v))}else M=Math.min(t,M),v=Math.max(t,v)}return[M,v]}},99798:function(G,H,e){var y=e(41940),P=e(1928),a=e(22399),L=y({editType:"calc"});L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=a.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(G,H,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(P,a,L,M){var v,p,r,t,o,n,c,u,l,g,f,T,h,s=y(L)?"a":"b",d=s==="a"?P.aaxis:P.baxis,A=d.smoothing,w=s==="a"?P.a2i:P.b2j,C=s==="a"?L:M,b=s==="a"?M:L,S=s==="a"?a.a.length:a.b.length,x=s==="a"?a.b.length:a.a.length,i=Math.floor(s==="a"?P.b2j(b):P.a2i(b)),E=s==="a"?function(te){return P.evalxy([],te,i)}:function(te){return P.evalxy([],i,te)};A&&(r=Math.max(0,Math.min(x-2,i)),t=i-r,p=s==="a"?function(te,ie){return P.dxydi([],te,r,ie,t)}:function(te,ie){return P.dxydj([],r,te,t,ie)});var m=w(C[0]),k=w(C[1]),I=m<k?1:-1,U=(k-m)*1e-8,z=I>0?Math.floor:Math.ceil,F=I>0?Math.ceil:Math.floor,B=I>0?Math.min:Math.max,O=I>0?Math.max:Math.min,N=z(m+U),Y=F(k-U);c=E(m);var $=[[c]];for(v=N;v*I<Y*I;v+=I)o=[],f=O(m,v),T=B(k,v+I),h=T-f,n=Math.max(0,Math.min(S-2,Math.floor(.5*(f+T)))),u=E(T),A&&(l=p(n,f-n),g=p(n,T-n),o.push([c[0]+l[0]/3*h,c[1]+l[1]/3*h]),o.push([u[0]-g[0]/3*h,u[1]-g[1]/3*h])),o.push(u),$.push(o),c=u;return $}},1928:function(G,H,e){var y=e(41940),P=e(22399),a=e(13838),L=e(12663).descriptionWithDates,M=e(30962).overrideAll,v=e(79952).P,p=e(1426).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:y({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},a.labelalias,{editType:"calc"}),tickfont:y({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:M(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:y({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(G,H,e){var y=e(99798),P=e(7901).addOpacity,a=e(73972),L=e(71828),M=e(26218),v=e(96115),p=e(89426),r=e(15258),t=e(21994),o=e(4322);G.exports=function(u,l,g){var f=g.letter,T=g.font||{},h=y[f+"axis"];function s(N,Y){return L.coerce(u,l,h,N,Y)}function d(N,Y){return L.coerce2(u,l,h,N,Y)}g.name&&(l._name=g.name,l._id=g.name),s("autotypenumbers",g.autotypenumbersDflt);var A=s("type");if(A==="-"&&(g.data&&n(l,g.data),l.type==="-"?l.type="linear":A=u.type=l.type),s("smoothing"),s("cheatertype"),s("showticklabels"),s("labelprefix",f+" = "),s("labelsuffix"),s("showtickprefix"),s("showticksuffix"),s("separatethousands"),s("tickformat"),s("exponentformat"),s("minexponent"),s("showexponent"),s("categoryorder"),s("tickmode"),s("tickvals"),s("ticktext"),s("tick0"),s("dtick"),l.tickmode==="array"&&(s("arraytick0"),s("arraydtick")),s("labelpadding"),l._hovertitle=f,A==="date"){var w=a.getComponentMethod("calendars","handleDefaults");w(u,l,"calendar",g.calendar)}t(l,g.fullLayout),l.c2p=L.identity;var C=s("color",g.dfltColor),b=C===u.color?C:T.color,S=s("title.text");S&&(L.coerceFont(s,"title.font",{family:T.family,size:L.bigFont(T.size),color:b}),s("title.offset")),s("tickangle");var x=s("autorange",!l.isValidRange(u.range));x&&s("rangemode"),s("range"),l.cleanRange(),s("fixedrange"),M(u,l,s,A),p(u,l,s,A,g),v(u,l,s,A,g),r(u,l,s,{data:g.data,dataAttr:f});var i=d("gridcolor",P(C,.3)),E=d("gridwidth"),m=d("griddash"),k=s("showgrid");k||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var I=d("startlinecolor",C),U=d("startlinewidth",E),z=s("startline",l.showgrid||!!I||!!U);z||(delete l.startlinecolor,delete l.startlinewidth);var F=d("endlinecolor",C),B=d("endlinewidth",E),O=s("endline",l.showgrid||!!F||!!B);return O||(delete l.endlinecolor,delete l.endlinewidth),k?(s("minorgridcount"),s("minorgridwidth",E),s("minorgriddash",m),s("minorgridcolor",P(i,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,s("tickmode"),l};function n(c,u){if(c.type==="-"){var l=c._id,g=l.charAt(0),f=g+"calendar",T=c[f];c.type=o(u,T,{autotypenumbers:c.autotypenumbers})}}},25281:function(G,H,e){var y=e(89298),P=e(71828).isArray1D,a=e(53824),L=e(402),M=e(20347),v=e(83311),p=e(44807),r=e(4742),t=e(72505),o=e(68296),n=e(11435);G.exports=function(u,l){var g=y.getFromId(u,l.xaxis),f=y.getFromId(u,l.yaxis),T=l.aaxis,h=l.baxis,s=l.x,d=l.y,A=[];s&&P(s)&&A.push("x"),d&&P(d)&&A.push("y"),A.length&&o(l,T,h,"a","b",A);var w=l._a=l._a||l.a,C=l._b=l._b||l.b;s=l._x||l.x,d=l._y||l.y;var b={};if(l._cheater){var S=T.cheatertype==="index"?w.length:w,x=h.cheatertype==="index"?C.length:C;s=a(S,x,l.cheaterslope)}l._x=s=r(s),l._y=d=r(d),t(s,w,C),t(d,w,C),n(l),l.setScale();var i=L(s),E=L(d),m=.5*(i[1]-i[0]),k=.5*(i[1]+i[0]),I=.5*(E[1]-E[0]),U=.5*(E[1]+E[0]),z=1.3;return i=[k-m*z,k+m*z],E=[U-I*z,U+I*z],l._extremes[g._id]=y.findExtremes(g,i,{padded:!0}),l._extremes[f._id]=y.findExtremes(f,E,{padded:!0}),M(l,"a","b"),M(l,"b","a"),v(l,T),v(l,h),b.clipsegments=p(l._xctrl,l._yctrl,T,h),b.x=s,b.y=d,b.a=w,b.b=C,[b]}},44807:function(G){G.exports=function(e,y,P,a){var L,M,v,p=[],r=!!P.smoothing,t=!!a.smoothing,o=e[0].length-1,n=e.length-1;for(L=0,M=[],v=[];L<=o;L++)M[L]=e[0][L],v[L]=y[0][L];for(p.push({x:M,y:v,bicubic:r}),L=0,M=[],v=[];L<=n;L++)M[L]=e[L][o],v[L]=y[L][o];for(p.push({x:M,y:v,bicubic:t}),L=o,M=[],v=[];L>=0;L--)M[o-L]=e[n][L],v[o-L]=y[n][L];for(p.push({x:M,y:v,bicubic:r}),L=n,M=[],v=[];L>=0;L--)M[n-L]=e[L][0],v[n-L]=y[L][0];return p.push({x:M,y:v,bicubic:t}),p}},20347:function(G,H,e){var y=e(89298),P=e(1426).extendFlat;G.exports=function(L,M,v){var p,r,t,o,n,c,u,l,g,f,T,h,s,d,A=L["_"+M],w=L[M+"axis"],C=w._gridlines=[],b=w._minorgridlines=[],S=w._boundarylines=[],x=L["_"+v],i=L[v+"axis"];w.tickmode==="array"&&(w.tickvals=A.slice());var E=L._xctrl,m=L._yctrl,k=E[0].length,I=E.length,U=L._a.length,z=L._b.length;y.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var F=w.smoothing?3:1;function B(N){var Y,$,te,ie,ce,J,Z,ae,j,q,oe,Q,K=[],se=[],ne={};if(M==="b")for($=L.b2j(N),te=Math.floor(Math.max(0,Math.min(z-2,$))),ie=$-te,ne.length=z,ne.crossLength=U,ne.xy=function(fe){return L.evalxy([],fe,$)},ne.dxy=function(fe,ye){return L.dxydi([],fe,te,ye,ie)},Y=0;Y<U;Y++)J=Math.min(U-2,Y),Z=Y-J,ae=L.evalxy([],Y,$),i.smoothing&&Y>0&&(j=L.dxydi([],Y-1,te,0,ie),K.push(ce[0]+j[0]/3),se.push(ce[1]+j[1]/3),q=L.dxydi([],Y-1,te,1,ie),K.push(ae[0]-q[0]/3),se.push(ae[1]-q[1]/3)),K.push(ae[0]),se.push(ae[1]),ce=ae;else for(Y=L.a2i(N),J=Math.floor(Math.max(0,Math.min(U-2,Y))),Z=Y-J,ne.length=U,ne.crossLength=z,ne.xy=function(fe){return L.evalxy([],Y,fe)},ne.dxy=function(fe,ye){return L.dxydj([],J,fe,Z,ye)},$=0;$<z;$++)te=Math.min(z-2,$),ie=$-te,ae=L.evalxy([],Y,$),i.smoothing&&$>0&&(oe=L.dxydj([],J,$-1,Z,0),K.push(ce[0]+oe[0]/3),se.push(ce[1]+oe[1]/3),Q=L.dxydj([],J,$-1,Z,1),K.push(ae[0]-Q[0]/3),se.push(ae[1]-Q[1]/3)),K.push(ae[0]),se.push(ae[1]),ce=ae;return ne.axisLetter=M,ne.axis=w,ne.crossAxis=i,ne.value=N,ne.constvar=v,ne.index=l,ne.x=K,ne.y=se,ne.smoothing=i.smoothing,ne}function O(N){var Y,$,te,ie,ce,J=[],Z=[],ae={};if(ae.length=A.length,ae.crossLength=x.length,M==="b")for(te=Math.max(0,Math.min(z-2,N)),ce=Math.min(1,Math.max(0,N-te)),ae.xy=function(j){return L.evalxy([],j,N)},ae.dxy=function(j,q){return L.dxydi([],j,te,q,ce)},Y=0;Y<k;Y++)J[Y]=E[N*F][Y],Z[Y]=m[N*F][Y];else for($=Math.max(0,Math.min(U-2,N)),ie=Math.min(1,Math.max(0,N-$)),ae.xy=function(j){return L.evalxy([],N,j)},ae.dxy=function(j,q){return L.dxydj([],$,j,ie,q)},Y=0;Y<I;Y++)J[Y]=E[Y][N*F],Z[Y]=m[Y][N*F];return ae.axisLetter=M,ae.axis=w,ae.crossAxis=i,ae.value=A[N],ae.constvar=v,ae.index=N,ae.x=J,ae.y=Z,ae.smoothing=i.smoothing,ae}if(w.tickmode==="array"){for(o=5e-15,n=[Math.floor((A.length-1-w.arraytick0)/w.arraydtick*(1+o)),Math.ceil(-w.arraytick0/w.arraydtick/(1+o))].sort(function(N,Y){return N-Y}),c=n[0]-1,u=n[1]+1,l=c;l<u;l++)r=w.arraytick0+w.arraydtick*l,!(r<0||r>A.length-1)&&C.push(P(O(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=c;l<u;l++)if(t=w.arraytick0+w.arraydtick*l,T=Math.min(t+w.arraydtick,A.length-1),!(t<0||t>A.length-1)&&!(T<0||T>A.length-1))for(h=A[t],s=A[T],p=0;p<w.minorgridcount;p++)d=T-t,!(d<=0)&&(f=h+(s-h)*(p+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(f<A[0]||f>A[A.length-1])&&b.push(P(B(f),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&S.push(P(O(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&S.push(P(O(A.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(o=5e-15,n=[Math.floor((A[A.length-1]-w.tick0)/w.dtick*(1+o)),Math.ceil((A[0]-w.tick0)/w.dtick/(1+o))].sort(function(N,Y){return N-Y}),c=n[0],u=n[1],l=c;l<=u;l++)g=w.tick0+w.dtick*l,C.push(P(B(g),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=c-1;l<u+1;l++)for(g=w.tick0+w.dtick*l,p=0;p<w.minorgridcount;p++)f=g+w.dtick*(p+1)/(w.minorgridcount+1),!(f<A[0]||f>A[A.length-1])&&b.push(P(B(f),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&S.push(P(B(A[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&S.push(P(B(A[A.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},83311:function(G,H,e){var y=e(89298),P=e(1426).extendFlat;G.exports=function(L,M){var v,p,r,t,o,n=M._labels=[],c=M._gridlines;for(v=0;v<c.length;v++)o=c[v],["start","both"].indexOf(M.showticklabels)!==-1&&(p=y.tickText(M,o.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:o.xy(0),dxy:o.dxy(0,0),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===c.length-1}),n.push(p)),["end","both"].indexOf(M.showticklabels)!==-1&&(p=y.tickText(M,o.value),P(p,{endAnchor:!1,xy:o.xy(o.crossLength-1),dxy:o.dxy(o.crossLength-2,1),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===c.length-1}),n.push(p))}},42048:function(G){var H=.5;G.exports=function(y,P,a,L){var M=y[0]-P[0],v=y[1]-P[1],p=a[0]-P[0],r=a[1]-P[1],t=Math.pow(M*M+v*v,H/2),o=Math.pow(p*p+r*r,H/2),n=(o*o*M-t*t*p)*L,c=(o*o*v-t*t*r)*L,u=o*(t+o)*3,l=t*(t+o)*3;return[[P[0]+(u&&n/u),P[1]+(u&&c/u)],[P[0]-(l&&n/l),P[1]-(l&&c/l)]]}},53824:function(G,H,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(P,a,L){var M,v,p,r,t,o,n=[],c=y(P)?P.length:P,u=y(a)?a.length:a,l=y(P)?P:null,g=y(a)?a:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(c-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(u-1));var f,T=1/0,h=-1/0;for(v=0;v<u;v++)for(n[v]=[],o=g?(g[v]-g[0])*r:v/(u-1),M=0;M<c;M++)t=l?(l[M]-l[0])*p:M/(c-1),f=t-o*L,T=Math.min(f,T),h=Math.max(f,h),n[v][M]=f;var s=1/(h-T),d=-T*s;for(v=0;v<u;v++)for(M=0;M<c;M++)n[v][M]=s*n[v][M]+d;return n}},45664:function(G,H,e){var y=e(42048),P=e(71828).ensureArray;function a(L,M,v){var p=-.5*v[0]+1.5*M[0],r=-.5*v[1]+1.5*M[1];return[(2*p+L[0])/3,(2*r+L[1])/3]}G.exports=function(M,v,p,r,t,o){var n,c,u,l,g,f,T,h,s,d,A=p[0].length,w=p.length,C=t?3*A-2:A,b=o?3*w-2:w;for(M=P(M,b),v=P(v,b),u=0;u<b;u++)M[u]=P(M[u],C),v[u]=P(v[u],C);for(c=0,l=0;c<w;c++,l+=o?3:1)for(g=M[l],f=v[l],T=p[c],h=r[c],n=0,u=0;n<A;n++,u+=t?3:1)g[u]=T[n],f[u]=h[n];if(t)for(c=0,l=0;c<w;c++,l+=o?3:1){for(n=1,u=3;n<A-1;n++,u+=3)s=y([p[c][n-1],r[c][n-1]],[p[c][n],r[c][n]],[p[c][n+1],r[c][n+1]],t),M[l][u-1]=s[0][0],v[l][u-1]=s[0][1],M[l][u+1]=s[1][0],v[l][u+1]=s[1][1];d=a([M[l][0],v[l][0]],[M[l][2],v[l][2]],[M[l][3],v[l][3]]),M[l][1]=d[0],v[l][1]=d[1],d=a([M[l][C-1],v[l][C-1]],[M[l][C-3],v[l][C-3]],[M[l][C-4],v[l][C-4]]),M[l][C-2]=d[0],v[l][C-2]=d[1]}if(o)for(u=0;u<C;u++){for(l=3;l<b-3;l+=3)s=y([M[l-3][u],v[l-3][u]],[M[l][u],v[l][u]],[M[l+3][u],v[l+3][u]],o),M[l-1][u]=s[0][0],v[l-1][u]=s[0][1],M[l+1][u]=s[1][0],v[l+1][u]=s[1][1];d=a([M[0][u],v[0][u]],[M[2][u],v[2][u]],[M[3][u],v[3][u]]),M[1][u]=d[0],v[1][u]=d[1],d=a([M[b-1][u],v[b-1][u]],[M[b-3][u],v[b-3][u]],[M[b-4][u],v[b-4][u]]),M[b-2][u]=d[0],v[b-2][u]=d[1]}if(t&&o)for(l=1;l<b;l+=(l+1)%3===0?2:1){for(u=3;u<C-3;u+=3)s=y([M[l][u-3],v[l][u-3]],[M[l][u],v[l][u]],[M[l][u+3],v[l][u+3]],t),M[l][u-1]=.5*(M[l][u-1]+s[0][0]),v[l][u-1]=.5*(v[l][u-1]+s[0][1]),M[l][u+1]=.5*(M[l][u+1]+s[1][0]),v[l][u+1]=.5*(v[l][u+1]+s[1][1]);d=a([M[l][0],v[l][0]],[M[l][2],v[l][2]],[M[l][3],v[l][3]]),M[l][1]=.5*(M[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=a([M[l][C-1],v[l][C-1]],[M[l][C-3],v[l][C-3]],[M[l][C-4],v[l][C-4]]),M[l][C-2]=.5*(M[l][C-2]+d[0]),v[l][C-2]=.5*(v[l][C-2]+d[1])}return[M,v]}},35509:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(G){G.exports=function(H,e,y){return e&&y?function(P,a,L,M,v){P||(P=[]);var p,r,t,o,n,c;a*=3,L*=3;var u=M*M,l=1-M,g=l*l,f=l*M*2,T=-3*g,h=3*(g-f),s=3*(f-u),d=3*u,A=v*v,w=A*v,C=1-v,b=C*C,S=b*C;for(c=0;c<H.length;c++)n=H[c],p=T*n[L][a]+h*n[L][a+1]+s*n[L][a+2]+d*n[L][a+3],r=T*n[L+1][a]+h*n[L+1][a+1]+s*n[L+1][a+2]+d*n[L+1][a+3],t=T*n[L+2][a]+h*n[L+2][a+1]+s*n[L+2][a+2]+d*n[L+2][a+3],o=T*n[L+3][a]+h*n[L+3][a+1]+s*n[L+3][a+2]+d*n[L+3][a+3],P[c]=S*p+3*(b*v*r+C*A*t)+w*o;return P}:e?function(P,a,L,M,v){P||(P=[]);var p,r,t,o;a*=3;var n=M*M,c=1-M,u=c*c,l=c*M*2,g=-3*u,f=3*(u-l),T=3*(l-n),h=3*n,s=1-v;for(t=0;t<H.length;t++)o=H[t],p=g*o[L][a]+f*o[L][a+1]+T*o[L][a+2]+h*o[L][a+3],r=g*o[L+1][a]+f*o[L+1][a+1]+T*o[L+1][a+2]+h*o[L+1][a+3],P[t]=s*p+v*r;return P}:y?function(P,a,L,M,v){P||(P=[]);var p,r,t,o,n,c;L*=3;var u=v*v,l=u*v,g=1-v,f=g*g,T=f*g;for(n=0;n<H.length;n++)c=H[n],p=c[L][a+1]-c[L][a],r=c[L+1][a+1]-c[L+1][a],t=c[L+2][a+1]-c[L+2][a],o=c[L+3][a+1]-c[L+3][a],P[n]=T*p+3*(f*v*r+g*u*t)+l*o;return P}:function(P,a,L,M,v){P||(P=[]);var p,r,t,o,n=1-v;for(t=0;t<H.length;t++)o=H[t],p=o[L][a+1]-o[L][a],r=o[L+1][a+1]-o[L+1][a],P[t]=n*p+v*r;return P}}},73057:function(G){G.exports=function(H,e,y){return e&&y?function(P,a,L,M,v){P||(P=[]);var p,r,t,o,n,c;a*=3,L*=3;var u=M*M,l=u*M,g=1-M,f=g*g,T=f*g,h=v*v,s=1-v,d=s*s,A=s*v*2,w=-3*d,C=3*(d-A),b=3*(A-h),S=3*h;for(c=0;c<H.length;c++)n=H[c],p=w*n[L][a]+C*n[L+1][a]+b*n[L+2][a]+S*n[L+3][a],r=w*n[L][a+1]+C*n[L+1][a+1]+b*n[L+2][a+1]+S*n[L+3][a+1],t=w*n[L][a+2]+C*n[L+1][a+2]+b*n[L+2][a+2]+S*n[L+3][a+2],o=w*n[L][a+3]+C*n[L+1][a+3]+b*n[L+2][a+3]+S*n[L+3][a+3],P[c]=T*p+3*(f*M*r+g*u*t)+l*o;return P}:e?function(P,a,L,M,v){P||(P=[]);var p,r,t,o,n,c;a*=3;var u=v*v,l=u*v,g=1-v,f=g*g,T=f*g;for(n=0;n<H.length;n++)c=H[n],p=c[L+1][a]-c[L][a],r=c[L+1][a+1]-c[L][a+1],t=c[L+1][a+2]-c[L][a+2],o=c[L+1][a+3]-c[L][a+3],P[n]=T*p+3*(f*v*r+g*u*t)+l*o;return P}:y?function(P,a,L,M,v){P||(P=[]);var p,r,t,o;L*=3;var n=1-M,c=v*v,u=1-v,l=u*u,g=u*v*2,f=-3*l,T=3*(l-g),h=3*(g-c),s=3*c;for(t=0;t<H.length;t++)o=H[t],p=f*o[L][a]+T*o[L+1][a]+h*o[L+2][a]+s*o[L+3][a],r=f*o[L][a+1]+T*o[L+1][a+1]+h*o[L+2][a+1]+s*o[L+3][a+1],P[t]=n*p+M*r;return P}:function(P,a,L,M,v){P||(P=[]);var p,r,t,o,n=1-M;for(t=0;t<H.length;t++)o=H[t],p=o[L+1][a]-o[L][a],r=o[L+1][a+1]-o[L][a+1],P[t]=n*p+M*r;return P}}},20349:function(G){G.exports=function(H,e,y,P,a){var L=e-2,M=y-2;return P&&a?function(v,p,r){v||(v=[]);var t,o,n,c,u,l,g=Math.max(0,Math.min(Math.floor(p),L)),f=Math.max(0,Math.min(Math.floor(r),M)),T=Math.max(0,Math.min(1,p-g)),h=Math.max(0,Math.min(1,r-f));g*=3,f*=3;var s=T*T,d=s*T,A=1-T,w=A*A,C=w*A,b=h*h,S=b*h,x=1-h,i=x*x,E=i*x;for(l=0;l<H.length;l++)u=H[l],t=C*u[f][g]+3*(w*T*u[f][g+1]+A*s*u[f][g+2])+d*u[f][g+3],o=C*u[f+1][g]+3*(w*T*u[f+1][g+1]+A*s*u[f+1][g+2])+d*u[f+1][g+3],n=C*u[f+2][g]+3*(w*T*u[f+2][g+1]+A*s*u[f+2][g+2])+d*u[f+2][g+3],c=C*u[f+3][g]+3*(w*T*u[f+3][g+1]+A*s*u[f+3][g+2])+d*u[f+3][g+3],v[l]=E*t+3*(i*h*o+x*b*n)+S*c;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),c=Math.max(0,Math.min(1,r-o)),u,l,g,f,T,h;t*=3;var s=n*n,d=s*n,A=1-n,w=A*A,C=w*A,b=1-c;for(T=0;T<H.length;T++)h=H[T],u=b*h[o][t]+c*h[o+1][t],l=b*h[o][t+1]+c*h[o+1][t+1],g=b*h[o][t+2]+c*h[o+1][t+1],f=b*h[o][t+3]+c*h[o+1][t+1],v[T]=C*u+3*(w*n*l+A*s*g)+d*f;return v}:a?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),c=Math.max(0,Math.min(1,r-o)),u,l,g,f,T,h;o*=3;var s=c*c,d=s*c,A=1-c,w=A*A,C=w*A,b=1-n;for(T=0;T<H.length;T++)h=H[T],u=b*h[o][t]+n*h[o][t+1],l=b*h[o+1][t]+n*h[o+1][t+1],g=b*h[o+2][t]+n*h[o+2][t+1],f=b*h[o+3][t]+n*h[o+3][t+1],v[T]=C*u+3*(w*c*l+A*s*g)+d*f;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),c=Math.max(0,Math.min(1,r-o)),u,l,g,f,T=1-c,h=1-n;for(g=0;g<H.length;g++)f=H[g],u=h*f[o][t]+n*f[o][t+1],l=h*f[o+1][t]+n*f[o+1][t+1],v[g]=T*u+c*l;return v}}},92087:function(G,H,e){var y=e(71828),P=e(19237),a=e(13145),L=e(99798),M=e(22399);G.exports=function(p,r,t,o){function n(l,g){return y.coerce(p,r,L,l,g)}r._clipPathId="clip"+r.uid+"carpet";var c=n("color",M.defaultLine);if(y.coerceFont(n,"font"),n("carpet"),a(p,r,o,n,c),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=P(p,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope")}},21462:function(G,H,e){G.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(G){G.exports=function(H,e){for(var y=H._fullData.length,P,a=0;a<y;a++){var L=H._fullData[a];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},67961:function(G){G.exports=function(e,y,P){if(e.length===0)return"";var a,L=[],M=P?3:1;for(a=0;a<e.length;a+=M)L.push(e[a]+","+y[a]),P&&a<e.length-M&&(L.push("C"),L.push([e[a+1]+","+y[a+1],e[a+2]+","+y[a+2]+" "].join(" ")));return L.join(P?"":"L")}},27669:function(G,H,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(a,L,M){var v;for(y(a)?a.length>L.length&&(a=a.slice(0,L.length)):a=[],v=0;v<L.length;v++)a[v]=M(L[v]);return a}},11651:function(G){G.exports=function(e,y,P,a,L,M){var v=L[0]*e.dpdx(y),p=L[1]*e.dpdy(P),r=1,t=1;if(M){var o=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(M[0]*M[0]+M[1]*M[1]),c=(L[0]*M[0]+L[1]*M[1])/o/n;t=Math.max(0,c)}var u=Math.atan2(p,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(a,y,P),offsetMultplier:t}}},89740:function(G,H,e){var y=e(39898),P=e(91424),a=e(27669),L=e(67961),M=e(11651),v=e(63893),p=e(71828),r=p.strRotate,t=p.strTranslate,o=e(18783);G.exports=function(s,d,A,w){var C=s._context.staticPlot,b=d.xaxis,S=d.yaxis,x=s._fullLayout,i=x._clips;p.makeTraceGroups(w,A,"trace").each(function(E){var m=y.select(this),k=E[0],I=k.trace,U=I.aaxis,z=I.baxis,F=p.ensureSingle(m,"g","minorlayer"),B=p.ensureSingle(m,"g","majorlayer"),O=p.ensureSingle(m,"g","boundarylayer"),N=p.ensureSingle(m,"g","labellayer");m.style("opacity",I.opacity),c(b,S,B,U,"a",U._gridlines,!0),c(b,S,B,z,"b",z._gridlines,!0),c(b,S,F,U,"a",U._minorgridlines,!0),c(b,S,F,z,"b",z._minorgridlines,!0),c(b,S,O,U,"a-boundary",U._boundarylines,C),c(b,S,O,z,"b-boundary",z._boundarylines,C);var Y=u(s,b,S,I,k,N,U._labels,"a-label"),$=u(s,b,S,I,k,N,z._labels,"b-label");l(s,N,I,k,b,S,Y,$),n(I,k,i,b,S)})};function n(h,s,d,A,w){var C,b,S,x,i=d.select("#"+h._clipPathId);i.size()||(i=d.append("clipPath").classed("carpetclip",!0));var E=p.ensureSingle(i,"path","carpetboundary"),m=s.clipsegments,k=[];for(x=0;x<m.length;x++)C=m[x],b=a([],C.x,A.c2p),S=a([],C.y,w.c2p),k.push(L(b,S,C.bicubic));var I="M"+k.join("L")+"Z";i.attr("id",h._clipPathId),E.attr("d",I)}function c(h,s,d,A,w,C,b){var S="const-"+w+"-lines",x=d.selectAll("."+S).data(C);x.enter().append("path").classed(S,!0).style("vector-effect",b?"none":"non-scaling-stroke"),x.each(function(i){var E=i,m=E.x,k=E.y,I=a([],m,h.c2p),U=a([],k,s.c2p),z="M"+L(I,U,E.smoothing),F=y.select(this);F.attr("d",z).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",P.dashStyle(E.dash,E.width)).style("fill","none")}),x.exit().remove()}function u(h,s,d,A,w,C,b,S){var x=C.selectAll("text."+S).data(b);x.enter().append("text").classed(S,!0);var i=0,E={};return x.each(function(m,k){var I;if(m.axis.tickangle==="auto")I=M(A,s,d,m.xy,m.dxy);else{var U=(m.axis.tickangle+180)*Math.PI/180;I=M(A,s,d,m.xy,[Math.cos(U),Math.sin(U)])}k||(E={angle:I.angle,flip:I.flip});var z=(m.endAnchor?-1:1)*I.flip,F=y.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(P.font,m.font).text(m.text).call(v.convertToTspans,h),B=P.bBox(this);F.attr("transform",t(I.p[0],I.p[1])+r(I.angle)+t(m.axis.labelpadding*z,B.height*.3)),i=Math.max(i,B.width+m.axis.labelpadding)}),x.exit().remove(),E.maxExtent=i,E}function l(h,s,d,A,w,C,b,S){var x,i,E,m,k=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),U=p.aggNums(Math.min,null,d.b),z=p.aggNums(Math.max,null,d.b);x=.5*(k+I),i=U,E=d.ab2xy(x,i,!0),m=d.dxyda_rough(x,i),b.angle===void 0&&p.extendFlat(b,M(d,w,C,E,d.dxydb_rough(x,i))),T(h,s,d,A,E,m,d.aaxis,w,C,b,"a-title"),x=k,i=.5*(U+z),E=d.ab2xy(x,i,!0),m=d.dxydb_rough(x,i),S.angle===void 0&&p.extendFlat(S,M(d,w,C,E,d.dxyda_rough(x,i))),T(h,s,d,A,E,m,d.baxis,w,C,S,"b-title")}var g=o.LINE_SPACING,f=(1-o.MID_SHIFT)/g+1;function T(h,s,d,A,w,C,b,S,x,i,E){var m=[];b.title.text&&m.push(b.title.text);var k=s.selectAll("text."+E).data(m),I=i.maxExtent;k.enter().append("text").classed(E,!0),k.each(function(){var U=M(d,S,x,w,C);["start","both"].indexOf(b.showticklabels)===-1&&(I=0);var z=b.title.font.size;I+=z+b.title.offset;var F=i.angle+(i.flip<0?180:0),B=(F-U.angle+450)%360,O=B>90&&B<270,N=y.select(this);N.text(b.title.text).call(v.convertToTspans,h),O&&(I=(-v.lineCount(N)+f)*g*z-I),N.attr("transform",t(U.p[0],U.p[1])+r(U.angle)+t(0,I)).attr("text-anchor","middle").call(P.font,b.title.font)}),k.exit().remove()}},11435:function(G,H,e){var y=e(35509),P=e(65888).findBin,a=e(45664),L=e(20349),M=e(54495),v=e(73057);G.exports=function(r){var t=r._a,o=r._b,n=t.length,c=o.length,u=r.aaxis,l=r.baxis,g=t[0],f=t[n-1],T=o[0],h=o[c-1],s=t[t.length-1]-t[0],d=o[o.length-1]-o[0],A=s*y.RELATIVE_CULL_TOLERANCE,w=d*y.RELATIVE_CULL_TOLERANCE;g-=A,f+=A,T-=w,h+=w,r.isVisible=function(C,b){return C>g&&C<f&&b>T&&b<h},r.isOccluded=function(C,b){return C<g||C>f||b<T||b>h},r.setScale=function(){var C=r._x,b=r._y,S=a(r._xctrl,r._yctrl,C,b,u.smoothing,l.smoothing);r._xctrl=S[0],r._yctrl=S[1],r.evalxy=L([r._xctrl,r._yctrl],n,c,u.smoothing,l.smoothing),r.dxydi=M([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(C){var b=Math.max(0,Math.floor(C[0]),n-2),S=C[0]-b;return(1-S)*t[b]+S*t[b+1]},r.j2b=function(C){var b=Math.max(0,Math.floor(C[1]),n-2),S=C[1]-b;return(1-S)*o[b]+S*o[b+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var b=Math.max(0,Math.min(P(C,t),n-2)),S=t[b],x=t[b+1];return Math.max(0,Math.min(n-1,b+(C-S)/(x-S)))},r.b2j=function(C){var b=Math.max(0,Math.min(P(C,o),c-2)),S=o[b],x=o[b+1];return Math.max(0,Math.min(c-1,b+(C-S)/(x-S)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,b){return r.evalxy([],C,b)},r.ab2xy=function(C,b,S){if(!S&&(C<t[0]||C>t[n-1]|b<o[0]||b>o[c-1]))return[!1,!1];var x=r.a2i(C),i=r.b2j(b),E=r.evalxy([],x,i);if(S){var m=0,k=0,I=[],U,z,F,B;C<t[0]?(U=0,z=0,m=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(U=n-2,z=1,m=(C-t[n-1])/(t[n-1]-t[n-2])):(U=Math.max(0,Math.min(n-2,Math.floor(x))),z=x-U),b<o[0]?(F=0,B=0,k=(b-o[0])/(o[1]-o[0])):b>o[c-1]?(F=c-2,B=1,k=(b-o[c-1])/(o[c-1]-o[c-2])):(F=Math.max(0,Math.min(c-2,Math.floor(i))),B=i-F),m&&(r.dxydi(I,U,F,z,B),E[0]+=I[0]*m,E[1]+=I[1]*m),k&&(r.dxydj(I,U,F,z,B),E[0]+=I[0]*k,E[1]+=I[1]*k)}return E},r.c2p=function(C,b,S){return[b.c2p(C[0]),S.c2p(C[1])]},r.p2x=function(C,b,S){return[b.p2c(C[0]),S.p2c(C[1])]},r.dadi=function(C){var b=Math.max(0,Math.min(t.length-2,C));return t[b+1]-t[b]},r.dbdj=function(C){var b=Math.max(0,Math.min(o.length-2,C));return o[b+1]-o[b]},r.dxyda=function(C,b,S,x){var i=r.dxydi(null,C,b,S,x),E=r.dadi(C,S);return[i[0]/E,i[1]/E]},r.dxydb=function(C,b,S,x){var i=r.dxydj(null,C,b,S,x),E=r.dbdj(b,x);return[i[0]/E,i[1]/E]},r.dxyda_rough=function(C,b,S){var x=s*(S||.1),i=r.ab2xy(C+x,b,!0),E=r.ab2xy(C-x,b,!0);return[(i[0]-E[0])*.5/x,(i[1]-E[1])*.5/x]},r.dxydb_rough=function(C,b,S){var x=d*(S||.1),i=r.ab2xy(C,b+x,!0),E=r.ab2xy(C,b-x,!0);return[(i[0]-E[0])*.5/x,(i[1]-E[1])*.5/x]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},72505:function(G,H,e){var y=e(71828);G.exports=function(a,L,M){var v,p,r,t=[],o=[],n=a[0].length,c=a.length;function u($,te){var ie=0,ce,J=0;return $>0&&(ce=a[te][$-1])!==void 0&&(J++,ie+=ce),$<n-1&&(ce=a[te][$+1])!==void 0&&(J++,ie+=ce),te>0&&(ce=a[te-1][$])!==void 0&&(J++,ie+=ce),te<c-1&&(ce=a[te+1][$])!==void 0&&(J++,ie+=ce),ie/Math.max(1,J)}var l=0;for(v=0;v<n;v++)for(p=0;p<c;p++)a[p][v]===void 0&&(t.push(v),o.push(p),a[p][v]=u(v,p)),l=Math.max(l,Math.abs(a[p][v]));if(!t.length)return a;var g,f,T,h,s,d,A,w,C,b,S,x=1e-5,i=0,E=100,m=0,k=t.length;do{for(i=0,r=0;r<k;r++){v=t[r],p=o[r];var I=0,U=0,z,F,B,O,N,Y;v===0?(N=Math.min(n-1,2),B=L[N],O=L[1],z=a[p][N],F=a[p][1],U+=F+(F-z)*(L[0]-O)/(O-B),I++):v===n-1&&(N=Math.max(0,n-3),B=L[N],O=L[n-2],z=a[p][N],F=a[p][n-2],U+=F+(F-z)*(L[n-1]-O)/(O-B),I++),(v===0||v===n-1)&&p>0&&p<c-1&&(g=M[p+1]-M[p],f=M[p]-M[p-1],U+=(f*a[p+1][v]+g*a[p-1][v])/(f+g),I++),p===0?(Y=Math.min(c-1,2),B=M[Y],O=M[1],z=a[Y][v],F=a[1][v],U+=F+(F-z)*(M[0]-O)/(O-B),I++):p===c-1&&(Y=Math.max(0,c-3),B=M[Y],O=M[c-2],z=a[Y][v],F=a[c-2][v],U+=F+(F-z)*(M[c-1]-O)/(O-B),I++),(p===0||p===c-1)&&v>0&&v<n-1&&(g=L[v+1]-L[v],f=L[v]-L[v-1],U+=(f*a[p][v+1]+g*a[p][v-1])/(f+g),I++),I?U/=I:(T=L[v+1]-L[v],h=L[v]-L[v-1],s=M[p+1]-M[p],d=M[p]-M[p-1],A=T*h*(T+h),w=s*d*(s+d),U=(A*(d*a[p+1][v]+s*a[p-1][v])+w*(h*a[p][v+1]+T*a[p][v-1]))/(w*(h+T)+A*(d+s))),C=U-a[p][v],b=C/l,i+=b*b,S=I?0:.85,a[p][v]+=C*(1+S)}i=Math.sqrt(i)}while(m++<E&&i>x);return y.log("Smoother converged to",i,"after",m,"iterations"),a}},19237:function(G,H,e){var y=e(71828).isArray1D;G.exports=function(a,L,M){var v=M("x"),p=v&&v.length,r=M("y"),t=r&&r.length;if(!p&&!t)return!1;if(L._cheater=!v,(!p||y(v))&&(!t||y(r))){var o=p?v.length:1/0;t&&(o=Math.min(o,r.length)),L.a&&L.a.length&&(o=Math.min(o,L.a.length)),L.b&&L.b.length&&(o=Math.min(o,L.b.length)),L._length=o}else L._length=null;return!0}},69568:function(G,H,e){var y=e(5386).fF,P=e(19316),a=e(50693),L=e(9012),M=e(22399).defaultLine,v=e(1426).extendFlat,p=P.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:M}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:y(),showlegend:v({},L.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(G,H,e){var y=e(92770),P=e(50606).BADNUM,a=e(78803),L=e(75225),M=e(66279);function v(p){return p&&typeof p=="string"}G.exports=function(r,t){var o=t._length,n=new Array(o),c;t.geojson?c=function(T){return v(T)||y(T)}:c=v;for(var u=0;u<o;u++){var l=n[u]={},g=t.locations[u],f=t.z[u];c(g)&&y(f)?(l.loc=g,l.z=f):(l.loc=null,l.z=P),l.index=u}return L(n,t),a(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),M(n,t),n}},61869:function(G,H,e){var y=e(71828),P=e(1586),a=e(69568);G.exports=function(M,v,p,r){function t(f,T){return y.coerce(M,v,a,f,T)}var o=t("locations"),n=t("z");if(!(o&&o.length&&y.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(o.length,n.length);var c=t("geojson"),u;(typeof c=="string"&&c!==""||y.isPlainObject(c))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var g=t("marker.line.width");g&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(v,t)}},92069:function(G){G.exports=function(e,y,P,a,L){e.location=y.location,e.z=y.z;var M=a[L];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e.ct=M.ct,e}},42300:function(G,H,e){var y=e(89298),P=e(69568),a=e(71828).fillText;G.exports=function(v,p,r){var t=v.cd,o=t[0].trace,n=v.subplot,c,u,l,g,f=[p,r],T=[p+360,r];for(u=0;u<t.length;u++)if(c=t[u],g=!1,c._polygons){for(l=0;l<c._polygons.length;l++)c._polygons[l].contains(f)&&(g=!g),c._polygons[l].contains(T)&&(g=!g);if(g)break}if(!(!g||!c))return v.x0=v.x1=v.xa.c2p(c.ct),v.y0=v.y1=v.ya.c2p(c.ct),v.index=c.index,v.location=c.loc,v.z=c.z,v.zLabel=y.tickText(n.mockAxis,n.mockAxis.c2l(c.z),"hover").text,v.hovertemplate=c.hovertemplate,L(v,o,c),[v]};function L(M,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),o=r==="all"?P.hoverinfo.flags:r.split("+"),n=o.indexOf("name")!==-1,c=o.indexOf("location")!==-1,u=o.indexOf("z")!==-1,l=o.indexOf("text")!==-1,g=!n&&c,f=[];g?M.nameOverride=t:(n&&(M.nameOverride=v.name),c&&f.push(t)),u&&f.push(M.zLabel),l&&a(p,v,f),M.extraText=f.join("<br>")}}},51319:function(G,H,e){G.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(G,H,e){var y=e(39898),P=e(71828),a=e(41327),L=e(90973).getTopojsonFeatures,M=e(71739).findExtremes,v=e(99636).style;function p(t,o,n){var c=o.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(c,n,"trace choropleth").each(function(u){var l=y.select(this),g=l.selectAll("path.choroplethlocation").data(P.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),v(t,u)})}function r(t,o){for(var n=t[0].trace,c=o[n.geo],u=c._subplot,l=n.locationmode,g=n._length,f=l==="geojson-id"?a.extractTraceFeature(t):L(n,u.topojson),T=[],h=[],s=0;s<g;s++){var d=t[s],A=l==="geojson-id"?d.fOut:a.locationToFeature(l,d.loc,f);if(A){d.geojson=A,d.ct=A.properties.ct,d._polygons=a.feature2polygons(A);var w=a.computeBbox(A);T.push(w[0],w[2]),h.push(w[1],w[3])}else d.geojson=null}if(c.fitbounds==="geojson"&&l==="geojson-id"){var C=a.computeBbox(a.getTraceGeojson(n));T=[C[0],C[2]],h=[C[1],C[3]]}var b={padded:!0};n._extremes.lon=M(c.lonaxis._ax,T,b),n._extremes.lat=M(c.lataxis._ax,h,b)}G.exports={calcGeoJSON:r,plot:p}},81253:function(G){G.exports=function(e,y){var P=e.cd,a=e.xaxis,L=e.yaxis,M=[],v,p,r,t,o;if(y===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=a.c2p(r),o=L.c2p(r),y.contains([t,o],null,v,e)?(M.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return M}},99636:function(G,H,e){var y=e(39898),P=e(7901),a=e(91424),L=e(21081);function M(r,t){t&&v(r,t)}function v(r,t){var o=t[0].trace,n=t[0].node3,c=n.selectAll(".choroplethlocation"),u=o.marker||{},l=u.line||{},g=L.makeColorScaleFuncFromTrace(o);c.each(function(f){y.select(this).attr("fill",g(f.z)).call(P.stroke,f.mlc||l.color).call(a.dashLine,"",f.mlw||l.width||0).style("opacity",u.opacity)}),a.selectedPointStyle(c,o)}function p(r,t){var o=t[0].node3,n=t[0].trace;n.selectedpoints?a.selectedPointStyle(o.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:M,styleOnSelect:p}},64496:function(G,H,e){var y=e(69568),P=e(50693),a=e(5386).fF,L=e(9012),M=e(1426).extendFlat;G.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},y.featureidkey,{}),below:{valType:"string",editType:"plot"},text:y.text,hovertext:y.hovertext,marker:{line:{color:M({},y.marker.line.color,{editType:"plot"}),width:M({},y.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},y.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},y.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},y.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:y.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:M({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(G,H,e){var y=e(92770),P=e(71828),a=e(21081),L=e(91424),M=e(18214).makeBlank,v=e(41327);function p(t){var o=t[0].trace,n=o.visible===!0&&o._length!==0,c={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=o._opts={fill:c,line:u,geojson:M()};if(!n)return l;var g=v.extractTraceFeature(t);if(!g)return l;var f=a.makeColorScaleFuncFromTrace(o),T=o.marker,h=T.line||{},s;P.isArrayOrTypedArray(T.opacity)&&(s=function(i){var E=i.mo;return y(E)?+P.constrain(E,0,1):0});var d;P.isArrayOrTypedArray(h.color)&&(d=function(i){return i.mlc});var A;P.isArrayOrTypedArray(h.width)&&(A=function(i){return i.mlw});for(var w=0;w<t.length;w++){var C=t[w],b=C.fOut;if(b){var S=b.properties;S.fc=f(C.z),s&&(S.mo=s(C)),d&&(S.mlc=d(C)),A&&(S.mlw=A(C)),C.ct=S.ct,C._polygons=v.feature2polygons(b)}}var x=s?{type:"identity",property:"mo"}:T.opacity;return P.extendFlat(c.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":x}),P.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:h.color,"line-width":A?{type:"identity",property:"mlw"}:h.width,"line-opacity":x}),c.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:g},r(t),l}function r(t){var o=t[0].trace,n=o._opts,c;if(o.selectedpoints){for(var u=L.makeSelectedPointStyleFns(o),l=0;l<t.length;l++){var g=t[l];g.fOut&&(g.fOut.properties.mo2=u.selectedOpacityFn(g))}c={type:"identity",property:"mo2"}}else c=P.isArrayOrTypedArray(o.marker.opacity)?{type:"identity",property:"mo"}:o.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":c}),P.extendFlat(n.line.paint,{"line-opacity":c}),n}G.exports={convert:p,convertOnSelect:r}},22654:function(G,H,e){var y=e(71828),P=e(1586),a=e(64496);G.exports=function(M,v,p,r){function t(l,g){return y.coerce(M,v,a,l,g)}var o=t("locations"),n=t("z"),c=t("geojson");if(!y.isArrayOrTypedArray(o)||!o.length||!y.isArrayOrTypedArray(n)||!n.length||!(typeof c=="string"&&c!==""||y.isPlainObject(c))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(o.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(v,t)}},57516:function(G,H,e){G.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(y,P){if(P){var a=P[0].trace;a._glTrace.updateOnSelect(P)}},getBelow:function(y,P){for(var a=P.getMapLayers(),L=a.length-2;L>=0;L--){var M=a[L].id;if(typeof M=="string"&&M.indexOf("water")===0){for(var v=L+1;v<a.length;v++)if(M=a[v].id,typeof M=="string"&&M.indexOf("plotly-")===-1)return M}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(G,H,e){var y=e(82004).convert,P=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",a+p+"-fill"],["line",a+p+"-line"]],this.below=null}var M=L.prototype;M.update=function(v){this._update(y(v)),v[0].trace._glTrace=this},M.updateOnSelect=function(v){this._update(P(v))},M._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var o=0;o<r.length;o++){var n=r[o],c=n[0],u=n[1],l=v[c];p.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(u,"setPaintProperty",l.paint)}},M._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,o=this.sourceId,n=0;n<t.length;n++){var c=t[n],u=c[0],l=v[u];r.addLayer({type:u,id:c[1],source:o,layout:l.layout,paint:l.paint},p)}},M._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},M.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,r){var t=r[0].trace,o=new L(p,t.uid),n=o.sourceId,c=y(r),u=o.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:c.geojson}),o._addLayers(c,u),r[0].trace._glTrace=o,o}},12674:function(G,H,e){var y=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),M=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},31371:function(G,H,e){var y=e(78803);G.exports=function(a,L){for(var M=L.u,v=L.v,p=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,M.length,v.length,p.length),t=-1/0,o=1/0,n=0;n<r;n++){var c=M[n],u=v[n],l=p[n],g=Math.sqrt(c*c+u*u+l*l);t=Math.max(t,g),o=Math.min(o,g)}L._len=r,L._normMax=t,y(a,L,{vals:[o,t],containerStr:"",cLetter:"c"})}},5453:function(G,H,e){var y=e(9330).gl_cone3d,P=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,L=e(81697).parseColorScale,M=e(21081).extractOpts,v=e(71828).isArrayOrTypedArray,p=e(90060);function r(g,f){this.scene=g,this.uid=f,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(g){if(g.object===this.mesh){var f=g.index=g.data.index,T=this.data.x[f],h=this.data.y[f],s=this.data.z[f],d=this.data.u[f],A=this.data.v[f],w=this.data.w[f];g.traceCoordinate=[T,h,s,d,A,w,Math.sqrt(d*d+A*A+w*w)];var C=this.data.hovertext||this.data.text;return v(C)&&C[f]!==void 0?g.textLabel=C[f]:C&&(g.textLabel=C),!0}};var o={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},c={tip:1,tail:1,cm:.75,center:.5};function u(g,f){var T=g.fullSceneLayout,h=g.dataScale,s={};function d(b,S){var x=T[S],i=h[o[S]];return a(b,function(E){return x.d2l(E)*i})}s.vectors=p(d(f.u,"xaxis"),d(f.v,"yaxis"),d(f.w,"zaxis"),f._len),s.positions=p(d(f.x,"xaxis"),d(f.y,"yaxis"),d(f.z,"zaxis"),f._len);var A=M(f);s.colormap=L(f),s.vertexIntensityBounds=[A.min/f._normMax,A.max/f._normMax],s.coneOffset=n[f.anchor],f.sizemode==="scaled"?s.coneSize=f.sizeref||.5:s.coneSize=f.sizeref&&f._normMax?f.sizeref/f._normMax:.5;var w=y(s),C=f.lightposition;return w.lightPosition=[C.x,C.y,C.z],w.ambient=f.lighting.ambient,w.diffuse=f.lighting.diffuse,w.specular=f.lighting.specular,w.roughness=f.lighting.roughness,w.fresnel=f.lighting.fresnel,w.opacity=f.opacity,f._pad=c[f.anchor]*w.vectorScale*w.coneScale*f._normMax,w}t.update=function(g){this.data=g;var f=u(this.scene,g);this.mesh.update(f)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(g,f){var T=g.glplot.gl,h=u(g,f),s=P(T,h),d=new r(g,f.uid);return d.mesh=s,d.data=f,s._trace=d,g.glplot.add(s),d}G.exports=l},91750:function(G,H,e){var y=e(71828),P=e(1586),a=e(12674);G.exports=function(M,v,p,r){function t(f,T){return y.coerce(M,v,a,f,T)}var o=t("u"),n=t("v"),c=t("w"),u=t("x"),l=t("y"),g=t("z");if(!o||!o.length||!n||!n.length||!c||!c.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},98128:function(G,H,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(y,P){return y.norm=P.traceCoordinate[6],y},meta:{}}},70600:function(G,H,e){var y=e(21606),P=e(82196),a=e(12663),L=a.axisHoverFormat,M=a.descriptionOnlyNumbers,v=e(50693),p=e(79952).P,r=e(41940),t=e(1426).extendFlat,o=e(74808),n=o.COMPARISON_OPS2,c=o.INTERVAL_OPS,u=P.line;G.exports=t({z:y.z,x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,text:y.text,hovertext:y.hovertext,transpose:y.transpose,xtype:y.xtype,ytype:y.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:y.hovertemplate,texttemplate:t({},y.texttemplate,{}),textfont:t({},y.textfont,{}),hoverongaps:y.hoverongaps,connectgaps:t({},y.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(c),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},u.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(G,H,e){var y=e(21081),P=e(90757),a=e(18670),L=e(53572);G.exports=function(v,p){var r=P(v,p),t=r[0].z;a(p,t);var o=p.contours,n=y.extractOpts(p),c;if(o.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var u=o.start,l=L(o),g=o.size||1,f=Math.floor((l-u)/g)+1;isFinite(g)||(g=1,f=1);var T=u-g/2,h=T+f*g;c=[T,h]}else c=t;return y.calc(v,p,{vals:c,cLetter:"z"}),r}},20083:function(G){G.exports=function(H,e){var y=H[0],P=y.z,a;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(a=0;a<H.length;a++){var M=H[a];M.prefixBoundary=!M.edgepaths.length&&(L>M.level||M.starts.length&&L===M.level)}break;case"constraint":if(y.prefixBoundary=!1,y.edgepaths.length)return;var v=y.x.length,p=y.y.length,r=-1/0,t=1/0;for(a=0;a<p;a++)t=Math.min(t,P[a][0]),t=Math.min(t,P[a][v-1]),r=Math.max(r,P[a][0]),r=Math.max(r,P[a][v-1]);for(a=1;a<v-1;a++)t=Math.min(t,P[0][a]),t=Math.min(t,P[p-1][a]),r=Math.max(r,P[0][a]),r=Math.max(r,P[p-1][a]);var o=e.value,n,c;switch(e._operation){case">":o>r&&(y.prefixBoundary=!0);break;case"<":(o<t||y.starts.length&&o===t)&&(y.prefixBoundary=!0);break;case"[]":n=Math.min(o[0],o[1]),c=Math.max(o[0],o[1]),(c<t||n>r||y.starts.length&&c===t)&&(y.prefixBoundary=!0);break;case"][":n=Math.min(o[0],o[1]),c=Math.max(o[0],o[1]),n<t&&c>r&&(y.prefixBoundary=!0);break}break}}},90654:function(G,H,e){var y=e(21081),P=e(86068),a=e(53572);function L(M,v,p){var r=v.contours,t=v.line,o=r.size||1,n=r.coloring,c=P(v,{isColorbar:!0});if(n==="heatmap"){var u=y.extractOpts(v);p._fillgradient=u.reversescale?y.flipScale(u.colorscale):u.colorscale,p._zrange=[u.min,u.max]}else n==="fill"&&(p._fillcolor=c);p._line={color:n==="lines"?c:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:a(r),size:o}}G.exports={min:"zmin",max:"zmax",calc:L}},36914:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(G,H,e){var y=e(92770),P=e(14523),a=e(7901),L=a.addOpacity,M=a.opacity,v=e(74808),p=e(71828).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(c,u,l,g,f,T){var h=u.contours,s,d,A,w=l("contours.operation");if(h._operation=r[w],o(l,h),w==="="?s=h.showlines=!0:(s=l("contours.showlines"),A=l("fillcolor",L((c.line||{}).color||f,.5))),s){var C=A&&M(A)?L(u.fillcolor,1):f;d=l("line.color",C),l("line.width",2),l("line.dash")}l("line.smoothing"),P(l,g,d,T)};function o(n,c){var u;t.indexOf(c.operation)===-1?(n("contours.value",[0,1]),p(c.value)?c.value.length>2?c.value=c.value.slice(2):c.length===0?c.value=[0,1]:c.length<2?(u=parseFloat(c.value[0]),c.value=[u,u+1]):c.value=[parseFloat(c.value[0]),parseFloat(c.value[1])]:y(c.value)&&(u=parseFloat(c.value),c.value=[u,u+1])):(n("contours.value",0),y(c.value)||(p(c.value)?c.value=parseFloat(c.value[0]):c.value=0))}},64237:function(G,H,e){var y=e(74808),P=e(92770);G.exports={"[]":L("[]"),"][":L("]["),">":M(">"),"<":M("<"),"=":M("=")};function a(v,p){var r=Array.isArray(p),t;function o(n){return P(n)?+n:null}return y.COMPARISON_OPS2.indexOf(v)!==-1?t=o(r?p[0]:p):y.INTERVAL_OPS.indexOf(v)!==-1?t=r?[o(p[0]),o(p[1])]:[o(p),o(p)]:y.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(o):[o(p)]),t}function L(v){return function(p){p=a(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function M(v){return function(p){return p=a(v,p),{start:p,end:1/0,size:1/0}}}},67217:function(G){G.exports=function(e,y,P,a){var L=a("contours.start"),M=a("contours.end"),v=L===!1||M===!1,p=P("contours.size"),r;v?r=y.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},84857:function(G,H,e){var y=e(71828);G.exports=function(a,L){var M,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(L){case"=":case"<":return a;case">":for(a.length!==1&&y.warn("Contour data invalid for the specified inequality operation."),v=a[0],M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);return a;case"][":var o=r;r=t,t=o;case"[]":for(a.length!==2&&y.warn("Contour data invalid for the specified inequality range operation."),v=P(a[0]),p=P(a[1]),M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(a){return y.extendFlat({},a,{edgepaths:y.extendDeep([],a.edgepaths),paths:y.extendDeep([],a.paths),starts:y.extendDeep([],a.starts)})}},13031:function(G,H,e){var y=e(71828),P=e(67684),a=e(73927),L=e(83179),M=e(67217),v=e(8724),p=e(58623),r=e(70600);G.exports=function(o,n,c,u){function l(h,s){return y.coerce(o,n,r,h,s)}function g(h){return y.coerce2(o,n,r,h)}var f=P(o,n,l,u);if(!f){n.visible=!1;return}a(o,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",y.isArray1D(n.z)),T?L(o,n,l,u,c):(M(o,n,l,g),v(o,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&p(l,u)}},87558:function(G,H,e){var y=e(71828),P=e(64237),a=e(53572);G.exports=function(M,v,p){for(var r=M.type==="constraint"?P[M._operation](M.value):M,t=r.size,o=[],n=a(r),c=p.trace._carpetTrace,u=c?{xaxis:c.aaxis,yaxis:c.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(o.push(y.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},u)),o.length>1e3){y.warn("Too many contours, clipping at 1000",M);break}return o}},53572:function(G){G.exports=function(e){return e.end+e.size/1e6}},81696:function(G,H,e){var y=e(71828),P=e(36914);G.exports=function(t,o,n){var c,u,l,g,f;for(o=o||.01,n=n||.01,l=0;l<t.length;l++){for(g=t[l],f=0;f<g.starts.length;f++)u=g.starts[f],M(g,u,"edge",o,n);for(c=0;Object.keys(g.crossings).length&&c<1e4;)c++,u=Object.keys(g.crossings)[0].split(",").map(Number),M(g,u,void 0,o,n);c===1e4&&y.log("Infinite loop in contour?")}};function a(r,t,o,n){return Math.abs(r[0]-t[0])<o&&Math.abs(r[1]-t[1])<n}function L(r,t){var o=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(o*o+n*n)}function M(r,t,o,n,c){var u=t.join(","),l=r.crossings[u],g=v(l,o,t),f=[p(r,t,[-g[0],-g[1]])],T=r.z.length,h=r.z[0].length,s=t.slice(),d=g.slice(),A;for(A=0;A<1e4;A++){if(l>20?(l=P.CHOOSESADDLE[l][(g[0]||g[1])<0?0:1],r.crossings[u]=P.SADDLEREMAINDER[l]):delete r.crossings[u],g=P.NEWDELTA[l],!g){y.log("Found bad marching index:",l,t,r.level);break}f.push(p(r,t,g)),t[0]+=g[0],t[1]+=g[1],u=t.join(","),a(f[f.length-1],f[f.length-2],n,c)&&f.pop();var w=g[0]&&(t[0]<0||t[0]>h-2)||g[1]&&(t[1]<0||t[1]>T-2),C=t[0]===s[0]&&t[1]===s[1]&&g[0]===d[0]&&g[1]===d[1];if(C||o&&w)break;l=r.crossings[u]}A===1e4&&y.log("Infinite loop in contour?");var b=a(f[0],f[f.length-1],n,c),S=0,x=.2*r.smoothing,i=[],E=0,m,k,I,U,z,F,B,O,N,Y,$;for(A=1;A<f.length;A++)B=L(f[A],f[A-1]),S+=B,i.push(B);var te=S/i.length*x;function ie(Z){return f[Z%f.length]}for(A=f.length-2;A>=E;A--)if(m=i[A],m<te){for(I=0,k=A-1;k>=E&&m+i[k]<te;k--)m+=i[k];if(b&&A===f.length-2)for(I=0;I<k&&m+i[I]<te;I++)m+=i[I];z=A-k+I+1,F=Math.floor((A+k+I+2)/2),!b&&A===f.length-2?U=f[f.length-1]:!b&&k===-1?U=f[0]:z%2?U=ie(F):U=[(ie(F)[0]+ie(F+1)[0])/2,(ie(F)[1]+ie(F+1)[1])/2],f.splice(k+1,A-k+1,U),A=k+1,I&&(E=I),b&&(A===f.length-2?f[I]=f[f.length-1]:A===0&&(f[f.length-1]=f[0]))}for(f.splice(0,E),A=0;A<f.length;A++)f[A].length=2;if(!(f.length<2))if(b)f.pop(),r.paths.push(f);else{o||y.log("Unclosed interior contour?",r.level,s.join(","),f.join("L"));var ce=!1;for(O=0;O<r.edgepaths.length;O++)if(Y=r.edgepaths[O],!ce&&a(Y[0],f[f.length-1],n,c)){f.pop(),ce=!0;var J=!1;for(N=0;N<r.edgepaths.length;N++)if($=r.edgepaths[N],a($[$.length-1],f[0],n,c)){J=!0,f.shift(),r.edgepaths.splice(O,1),N===O?r.paths.push(f.concat($)):(N>O&&N--,r.edgepaths[N]=$.concat(f,Y));break}J||(r.edgepaths[O]=f.concat(Y))}for(O=0;O<r.edgepaths.length&&!ce;O++)Y=r.edgepaths[O],a(Y[Y.length-1],f[0],n,c)&&(f.shift(),r.edgepaths[O]=Y.concat(f),ce=!0);ce||r.edgepaths.push(f)}}function v(r,t,o){var n=0,c=0;return r>20&&t?r===208||r===1114?n=o[0]===0?1:-1:c=o[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?c=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?c=-1:n=-1,[n,c]}function p(r,t,o){var n=t[0]+Math.max(o[0],0),c=t[1]+Math.max(o[1],0),u=r.z[c][n],l=r.xaxis,g=r.yaxis;if(o[1]){var f=(r.level-u)/(r.z[c][n+1]-u),T=(f!==1?(1-f)*l.c2l(r.x[n]):0)+(f!==0?f*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(T),!0),g.c2p(r.y[c],!0),n+f,c]}else{var h=(r.level-u)/(r.z[c+1][n]-u),s=(h!==1?(1-h)*g.c2l(r.y[c]):0)+(h!==0?h*g.c2l(r.y[c+1]):0);return[l.c2p(r.x[n],!0),g.c2p(g.l2c(s),!0),n,c+h]}}},52421:function(G,H,e){var y=e(7901),P=e(46248);G.exports=function(L,M,v,p,r){r||(r={}),r.isContour=!0;var t=P(L,M,v,p,r);return t&&t.forEach(function(o){var n=o.trace;n.contours.type==="constraint"&&(n.fillcolor&&y.opacity(n.fillcolor)?o.color=y.addOpacity(n.fillcolor,1):n.contours.showlines&&y.opacity(n.line.color)&&(o.color=y.addOpacity(n.line.color,1)))}),t}},99442:function(G,H,e){G.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(G,H,e){var y=e(71828);G.exports=function(a,L,M,v){v||(v={});var p=a("contours.showlabels");if(p){var r=L.font;y.coerceFont(a,"contours.labelfont",{family:r.family,size:r.size,color:M}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},86068:function(G,H,e){var y=e(39898),P=e(21081),a=e(53572);G.exports=function(M){var v=M.contours,p=v.start,r=a(v),t=v.size||1,o=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,c=P.extractOpts(M);isFinite(t)||(t=1,o=1);var u=c.reversescale?P.flipScale(c.colorscale):c.colorscale,l=u.length,g=new Array(l),f=new Array(l),T,h,s=c.min,d=c.max;if(v.coloring==="heatmap"){for(h=0;h<l;h++)T=u[h],g[h]=T[0]*(d-s)+s,f[h]=T[1];var A=y.extent([s,d,v.start,v.start+t*(o-1)]),w=A[s<d?0:1],C=A[s<d?1:0];w!==s&&(g.splice(0,0,w),f.splice(0,0,f[0])),C!==d&&(g.push(C),f.push(f[f.length-1]))}else{var b=M._input&&typeof M._input.zmin=="number"&&typeof M._input.zmax=="number";for(b&&(p<=s||r>=d)&&(p<=s&&(p=s),r>=d&&(r=d),o=Math.floor((r-p)/t)+1,n=0),h=0;h<l;h++)T=u[h],g[h]=(T[0]*(o+n-1)-n/2)*t+p,f[h]=T[1];(b||M.autocontour)&&(g[0]>s&&(g.unshift(s),f.unshift(f[0])),g[g.length-1]<d&&(g.push(d),f.push(f[f.length-1])))}return P.makeColorScaleFunc({domain:g,range:f},{noNumericCheck:!0})}},87678:function(G,H,e){var y=e(36914);G.exports=function(L){var M=L[0].z,v=M.length,p=M[0].length,r=v===2||p===2,t,o,n,c,u,l,g,f,T;for(o=0;o<v-1;o++)for(c=[],o===0&&(c=c.concat(y.BOTTOMSTART)),o===v-2&&(c=c.concat(y.TOPSTART)),t=0;t<p-1;t++)for(n=c.slice(),t===0&&(n=n.concat(y.LEFTSTART)),t===p-2&&(n=n.concat(y.RIGHTSTART)),u=t+","+o,l=[[M[o][t],M[o][t+1]],[M[o+1][t],M[o+1][t+1]]],T=0;T<L.length;T++)f=L[T],g=P(f.level,l),g&&(f.crossings[u]=g,n.indexOf(g)!==-1&&(f.starts.push([t,o]),r&&n.indexOf(g,n.indexOf(g)+1)!==-1&&f.starts.push([t,o])))};function P(a,L){var M=(L[0][0]>a?0:1)+(L[0][1]>a?0:2)+(L[1][1]>a?0:4)+(L[1][0]>a?0:8);if(M===5||M===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return a>v?M===5?713:1114:M===5?104:208}return M===15?0:M}},29854:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(21081),M=e(63893),v=e(89298),p=e(21994),r=e(50347),t=e(87678),o=e(81696),n=e(87558),c=e(84857),u=e(20083),l=e(36914),g=l.LABELOPTIMIZER;H.plot=function(b,S,x,i){var E=S.xaxis,m=S.yaxis;P.makeTraceGroups(i,x,"contour").each(function(k){var I=y.select(this),U=k[0],z=U.trace,F=U.x,B=U.y,O=z.contours,N=n(O,S,U),Y=P.ensureSingle(I,"g","heatmapcoloring"),$=[];O.coloring==="heatmap"&&($=[k]),r(b,S,$,Y),t(N),o(N);var te=E.c2p(F[0],!0),ie=E.c2p(F[F.length-1],!0),ce=m.c2p(B[0],!0),J=m.c2p(B[B.length-1],!0),Z=[[te,J],[ie,J],[ie,ce],[te,ce]],ae=N;O.type==="constraint"&&(ae=c(N,O._operation)),f(I,Z,O),T(I,ae,Z,O),s(I,N,b,U,O),A(I,S,b,U,Z)})};function f(C,b,S){var x=P.ensureSingle(C,"g","contourbg"),i=x.selectAll("path").data(S.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+b.join("L")+"Z").style("stroke","none")}function T(C,b,S,x){var i=x.coloring==="fill"||x.type==="constraint"&&x._operation!=="=",E="M"+S.join("L")+"Z";i&&u(b,x);var m=P.ensureSingle(C,"g","contourfill"),k=m.selectAll("path").data(i?b:[]);k.enter().append("path"),k.exit().remove(),k.each(function(I){var U=(I.prefixBoundary?E:"")+h(I,S);U?y.select(this).attr("d",U).style("stroke","none"):y.select(this).remove()})}function h(C,b){var S="",x=0,i=C.edgepaths.map(function(te,ie){return ie}),E=!0,m,k,I,U,z,F;function B(te){return Math.abs(te[1]-b[0][1])<.01}function O(te){return Math.abs(te[1]-b[2][1])<.01}function N(te){return Math.abs(te[0]-b[0][0])<.01}function Y(te){return Math.abs(te[0]-b[2][0])<.01}for(;i.length;){for(F=a.smoothopen(C.edgepaths[x],C.smoothing),S+=E?F:F.replace(/^M/,"L"),i.splice(i.indexOf(x),1),m=C.edgepaths[x][C.edgepaths[x].length-1],U=-1,I=0;I<4;I++){if(!m){P.log("Missing end?",x,C);break}for(B(m)&&!Y(m)?k=b[1]:N(m)?k=b[0]:O(m)?k=b[3]:Y(m)&&(k=b[2]),z=0;z<C.edgepaths.length;z++){var $=C.edgepaths[z][0];Math.abs(m[0]-k[0])<.01?Math.abs(m[0]-$[0])<.01&&($[1]-m[1])*(k[1]-$[1])>=0&&(k=$,U=z):Math.abs(m[1]-k[1])<.01?Math.abs(m[1]-$[1])<.01&&($[0]-m[0])*(k[0]-$[0])>=0&&(k=$,U=z):P.log("endpt to newendpt is not vert. or horz.",m,k,$)}if(m=k,U>=0)break;S+="L"+k}if(U===C.edgepaths.length){P.log("unclosed perimeter path");break}x=U,E=i.indexOf(x)===-1,E&&(x=i[0],S+="Z")}for(x=0;x<C.paths.length;x++)S+=a.smoothclosed(C.paths[x],C.smoothing);return S}function s(C,b,S,x,i){var E=S._context.staticPlot,m=P.ensureSingle(C,"g","contourlines"),k=i.showlines!==!1,I=i.showlabels,U=k&&I,z=H.createLines(m,k||I,b,E),F=H.createLineClip(m,U,S,x.trace.uid),B=C.selectAll("g.contourlabels").data(I?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),I){var O=[],N=[];P.clearLocationCache();var Y=H.labelFormatter(S,x),$=a.tester.append("text").attr("data-notex",1).call(a.font,i.labelfont),te=b[0].xaxis,ie=b[0].yaxis,ce=te._length,J=ie._length,Z=te.range,ae=ie.range,j=P.aggNums(Math.min,null,x.x),q=P.aggNums(Math.max,null,x.x),oe=P.aggNums(Math.min,null,x.y),Q=P.aggNums(Math.max,null,x.y),K=Math.max(te.c2p(j,!0),0),se=Math.min(te.c2p(q,!0),ce),ne=Math.max(ie.c2p(Q,!0),0),fe=Math.min(ie.c2p(oe,!0),J),ye={};Z[0]<Z[1]?(ye.left=K,ye.right=se):(ye.left=se,ye.right=K),ae[0]<ae[1]?(ye.top=ne,ye.bottom=fe):(ye.top=fe,ye.bottom=ne),ye.middle=(ye.top+ye.bottom)/2,ye.center=(ye.left+ye.right)/2,O.push([[ye.left,ye.top],[ye.right,ye.top],[ye.right,ye.bottom],[ye.left,ye.bottom]]);var Ee=Math.sqrt(ce*ce+J*J),Te=l.LABELDISTANCE*Ee/Math.max(1,b.length/l.LABELINCREASE);z.each(function(ze){var ke=H.calcTextOpts(ze.level,Y,$,S);y.select(this).selectAll("path").each(function(){var Se=this,me=P.getVisibleSegment(Se,ye,ke.height/2);if(me&&!(me.len<(ke.width+ke.height)*l.LABELMIN))for(var Ce=Math.min(Math.ceil(me.len/Te),l.LABELMAX),Ne=0;Ne<Ce;Ne++){var He=H.findBestTextLocation(Se,me,ke,N,ye);if(!He)break;H.addLabelData(He,ke,N,O)}})}),$.remove(),H.drawLabels(B,N,S,F,U?O:null)}I&&!k&&z.remove()}H.createLines=function(C,b,S,x){var i=S[0].smoothing,E=C.selectAll("g.contourlevel").data(b?S:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),b){var m=E.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});m.exit().remove(),m.enter().append("path").classed("openline",!0),m.attr("d",function(I){return a.smoothopen(I,i)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke");var k=E.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(I){return a.smoothclosed(I,i)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke")}return E},H.createLineClip=function(C,b,S,x){var i=S._fullLayout._clips,E=b?"clipline"+x:null,m=i.selectAll("#"+E).data(b?[0]:[]);return m.exit().remove(),m.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),a.setClipUrl(C,E,S),m},H.labelFormatter=function(C,b){var S=C._fullLayout,x=b.trace,i=x.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)E.tickformat=i.labelformat,p(E,S);else{var m=L.extractOpts(x);if(m&&m.colorbar&&m.colorbar._axis)E=m.colorbar._axis;else{if(i.type==="constraint"){var k=i.value;P.isArrayOrTypedArray(k)?E.range=[k[0],k[k.length-1]]:E.range=[k,k]}else E.range=[i.start,i.end],E.nticks=(i.end-i.start)/i.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),p(E,S),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(I){return v.tickText(E,I).text}},H.calcTextOpts=function(C,b,S,x){var i=b(C);S.text(i).call(M.convertToTspans,x);var E=S.node(),m=a.bBox(E,!0);return{text:i,width:m.width,height:m.height,fontSize:+E.style["font-size"].replace("px",""),level:C,dy:(m.top+m.bottom)/2}},H.findBestTextLocation=function(C,b,S,x,i){var E=S.width,m,k,I,U,z;b.isClosed?(k=b.len/g.INITIALSEARCHPOINTS,m=b.min+k/2,I=b.max):(k=(b.len-E)/(g.INITIALSEARCHPOINTS+1),m=b.min+k+E/2,I=b.max-(k+E)/2);for(var F=1/0,B=0;B<g.ITERATIONS;B++){for(var O=m;O<I;O+=k){var N=P.getTextLocation(C,b.total,O,E),Y=d(N,S,x,i);Y<F&&(F=Y,z=N,U=O)}if(F>g.MAXCOST*2)break;B&&(k/=2),m=U-k/2,I=m+k*1.5}if(F<=g.MAXCOST)return z};function d(C,b,S,x){var i=b.width/2,E=b.height/2,m=C.x,k=C.y,I=C.theta,U=Math.cos(I)*i,z=Math.sin(I)*i,F=(m>x.center?x.right-m:m-x.left)/(U+Math.abs(Math.sin(I)*E)),B=(k>x.middle?x.bottom-k:k-x.top)/(Math.abs(z)+Math.cos(I)*E);if(F<1||B<1)return 1/0;var O=g.EDGECOST*(1/(F-1)+1/(B-1));O+=g.ANGLECOST*I*I;for(var N=m-U,Y=k-z,$=m+U,te=k+z,ie=0;ie<S.length;ie++){var ce=S[ie],J=Math.cos(ce.theta)*ce.width/2,Z=Math.sin(ce.theta)*ce.width/2,ae=P.segmentDistance(N,Y,$,te,ce.x-J,ce.y-Z,ce.x+J,ce.y+Z)*2/(b.height+ce.height),j=ce.level===b.level,q=j?g.SAMELEVELDISTANCE:1;if(ae<=q)return 1/0;var oe=g.NEIGHBORCOST*(j?g.SAMELEVELFACTOR:1);O+=oe/(ae-q)}return O}H.addLabelData=function(C,b,S,x){var i=b.fontSize,E=b.width+i/3,m=Math.max(0,b.height-i/3),k=C.x,I=C.y,U=C.theta,z=Math.sin(U),F=Math.cos(U),B=function(N,Y){return[k+N*F-Y*z,I+N*z+Y*F]},O=[B(-E/2,-m/2),B(-E/2,m/2),B(E/2,m/2),B(E/2,-m/2)];S.push({text:b.text,x:k,y:I,dy:b.dy,theta:U,level:b.level,width:E,height:m}),x.push(O)},H.drawLabels=function(C,b,S,x,i){var E=C.selectAll("text").data(b,function(U){return U.text+","+U.x+","+U.y+","+U.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(U){var z=U.x+Math.sin(U.theta)*U.dy,F=U.y-Math.cos(U.theta)*U.dy;y.select(this).text(U.text).attr({x:z,y:F,transform:"rotate("+180*U.theta/Math.PI+" "+z+" "+F+")"}).call(M.convertToTspans,S)}),i){for(var m="",k=0;k<i.length;k++)m+="M"+i[k].join("L")+"Z";var I=P.ensureSingle(x,"path","");I.attr("d",m)}};function A(C,b,S,x,i){var E=x.trace,m=S._fullLayout._clips,k="clip"+E.uid,I=m.selectAll("#"+k).data(E.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",k),I.exit().remove(),E.connectgaps===!1){var U={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:b.xaxis,yaxis:b.yaxis,x:x.x,y:x.y,z:w(x),smoothing:0};t([U]),o([U]),u([U],{type:"levels"});var z=P.ensureSingle(I,"path","");z.attr("d",(U.prefixBoundary?"M"+i.join("L")+"Z":"")+h(U,i))}else k=null;a.setClipUrl(C,k,S)}function w(C){var b=C.trace._emptypoints,S=[],x=C.z.length,i=C.z[0].length,E,m=[],k;for(E=0;E<i;E++)m.push(1);for(E=0;E<x;E++)S.push(m.slice());for(E=0;E<b.length;E++)k=b[E],S[k[0]][k[1]]=0;return C.zmask=S,S}},18670:function(G,H,e){var y=e(89298),P=e(71828);G.exports=function(M,v){var p=M.contours;if(M.autocontour){var r=M.zmin,t=M.zmax;(M.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(M.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var o=a(r,t,M.ncontours);p.size=o.dtick,p.start=y.tickFirst(o),o.range.reverse(),p.end=y.tickFirst(o),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),M._input.contours||(M._input.contours={}),P.extendFlat(M._input.contours,{start:p.start,end:p.end,size:p.size}),M._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,c=p.end,u=M._input.contours;if(n>c&&(p.start=u.start=c,c=p.end=u.end=n,n=p.start),!(p.size>0)){var l;n===c?l=1:l=a(n,c,M.ncontours).dtick,u.size=p.size=l}}};function a(L,M,v){var p={type:"linear",range:[L,M]};return y.autoTicks(p,(M-L)/(v||15)),p}},84426:function(G,H,e){var y=e(39898),P=e(91424),a=e(70035),L=e(86068);G.exports=function(v){var p=y.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=y.select(this),o=r[0].trace,n=o.contours,c=o.line,u=n.size||1,l=n.start,g=n.type==="constraint",f=!g&&n.coloring==="lines",T=!g&&n.coloring==="fill",h=f||T?L(o):null;t.selectAll("g.contourlevel").each(function(A){y.select(this).selectAll("path").call(P.lineGroupStyle,c.width,f?h(A.level):c.color,c.dash)});var s=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(A){P.font(y.select(this),{family:s.family,size:s.size,color:s.color||(f?h(A.level):c.color)})}),g)t.selectAll("g.contourfill path").style("fill",o.fillcolor);else if(T){var d;t.selectAll("g.contourfill path").style("fill",function(A){return d===void 0&&(d=A.level),h(A.level+.5*u)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",h(d-.5*u))}}),a(v)}},8724:function(G,H,e){var y=e(1586),P=e(14523);G.exports=function(L,M,v,p,r){var t=v("contours.coloring"),o,n="";t==="fill"&&(o=v("contours.showlines")),o!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(L.showlegend!==!0&&(M.showlegend=!1),M._dfltShowLegend=!1,y(L,M,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},88085:function(G,H,e){var y=e(21606),P=e(70600),a=e(50693),L=e(1426).extendFlat,M=P.contours;G.exports=L({carpet:{valType:"string",editType:"calc"},z:y.z,a:y.x,a0:y.x0,da:y.dx,b:y.y,b0:y.y0,db:y.dy,text:y.text,hovertext:y.hovertext,transpose:y.transpose,atype:y.xtype,btype:y.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(G,H,e){var y=e(78803),P=e(71828),a=e(68296),L=e(4742),M=e(824),v=e(43907),p=e(70769),r=e(75005),t=e(22882),o=e(18670);G.exports=function(u,l){var g=l._carpetTrace=t(u,l);if(!(!g||!g.visible||g.visible==="legendonly")){if(!l.a||!l.b){var f=u.data[g.index],T=u.data[l.index];T.a||(T.a=f.a),T.b||(T.b=f.b),r(T,l,l._defaultColor,u._fullLayout)}var h=n(u,l);return o(l,l._z),h}};function n(c,u){var l=u._carpetTrace,g=l.aaxis,f=l.baxis,T,h,s,d,A,w,C;g._minDtick=0,f._minDtick=0,P.isArray1D(u.z)&&a(u,g,f,"a","b",["z"]),T=u._a=u._a||u.a,d=u._b=u._b||u.b,T=T?g.makeCalcdata(u,"_a"):[],d=d?f.makeCalcdata(u,"_b"):[],h=u.a0||0,s=u.da||1,A=u.b0||0,w=u.db||1,C=u._z=L(u._z||u.z,u.transpose),u._emptypoints=v(C),M(C,u._emptypoints);var b=P.maxRowLength(C),S=u.xtype==="scaled"?"":T,x=p(u,S,h,s,b,g),i=u.ytype==="scaled"?"":d,E=p(u,i,A,w,C.length,f),m={a:x,b:E,z:C};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&y(c,u,{vals:C,containerStr:"",cLetter:"z"}),[m]}},75005:function(G,H,e){var y=e(71828),P=e(67684),a=e(88085),L=e(83179),M=e(67217),v=e(8724);G.exports=function(r,t,o,n){function c(f,T){return y.coerce(r,t,a,f,T)}function u(f){return y.coerce2(r,t,a,f)}if(c("carpet"),r.a&&r.b){var l=P(r,t,c,n,"a","b");if(!l){t.visible=!1;return}c("text");var g=c("contours.type")==="constraint";g?L(r,t,c,n,o,{hasHover:!1}):(M(r,t,c,u),v(r,t,c,n,{hasHover:!1}))}else t._defaultColor=o,t._length=null}},93740:function(G,H,e){G.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(G,H,e){var y=e(39898),P=e(27669),a=e(67961),L=e(91424),M=e(71828),v=e(87678),p=e(81696),r=e(29854),t=e(36914),o=e(84857),n=e(87558),c=e(20083),u=e(22882),l=e(4536);G.exports=function(S,x,i,E){var m=x.xaxis,k=x.yaxis;M.makeTraceGroups(E,i,"contour").each(function(I){var U=y.select(this),z=I[0],F=z.trace,B=F._carpetTrace=u(S,F),O=S.calcdata[B.index][0];if(!B.visible||B.visible==="legendonly")return;var N=z.a,Y=z.b,$=F.contours,te=n($,x,z),ie=$.type==="constraint",ce=$._operation,J=ie?ce==="="?"lines":"fill":$.coloring;function Z(Ee){var Te=B.ab2xy(Ee[0],Ee[1],!0);return[m.c2p(Te[0]),k.c2p(Te[1])]}var ae=[[N[0],Y[Y.length-1]],[N[N.length-1],Y[Y.length-1]],[N[N.length-1],Y[0]],[N[0],Y[0]]];v(te);var j=(N[N.length-1]-N[0])*1e-8,q=(Y[Y.length-1]-Y[0])*1e-8;p(te,j,q);var oe=te;$.type==="constraint"&&(oe=o(te,ce)),g(te,Z);var Q,K,se,ne,fe=[];for(ne=O.clipsegments.length-1;ne>=0;ne--)Q=O.clipsegments[ne],K=P([],Q.x,m.c2p),se=P([],Q.y,k.c2p),K.reverse(),se.reverse(),fe.push(a(K,se,Q.bicubic));var ye="M"+fe.join("L")+"Z";A(U,O.clipsegments,m,k,ie,J),w(F,U,m,k,oe,ae,Z,B,O,J,ye),f(U,te,S,z,$,x,B),L.setClipUrl(U,B._clipPathId,S)})};function g(b,S){var x,i,E,m,k,I,U,z,F;for(x=0;x<b.length;x++){for(m=b[x],k=m.pedgepaths=[],I=m.ppaths=[],i=0;i<m.edgepaths.length;i++){for(F=m.edgepaths[i],U=[],E=0;E<F.length;E++)U[E]=S(F[E]);k.push(U)}for(i=0;i<m.paths.length;i++){for(F=m.paths[i],z=[],E=0;E<F.length;E++)z[E]=S(F[E]);I.push(z)}}}function f(b,S,x,i,E,m,k){var I=x._context.staticPlot,U=M.ensureSingle(b,"g","contourlines"),z=E.showlines!==!1,F=E.showlabels,B=z&&F,O=r.createLines(U,z||F,S,I),N=r.createLineClip(U,B,x,i.trace.uid),Y=b.selectAll("g.contourlabels").data(F?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),F){var $=m.xaxis,te=m.yaxis,ie=$._length,ce=te._length,J=[[[0,0],[ie,0],[ie,ce],[0,ce]]],Z=[];M.clearLocationCache();var ae=r.labelFormatter(x,i),j=L.tester.append("text").attr("data-notex",1).call(L.font,E.labelfont),q={left:0,right:ie,center:ie/2,top:0,bottom:ce,middle:ce/2},oe=Math.sqrt(ie*ie+ce*ce),Q=t.LABELDISTANCE*oe/Math.max(1,S.length/t.LABELINCREASE);O.each(function(K){var se=r.calcTextOpts(K.level,ae,j,x);y.select(this).selectAll("path").each(function(ne){var fe=this,ye=M.getVisibleSegment(fe,q,se.height/2);if(ye&&(T(fe,ne,K,ye,k,se.height),!(ye.len<(se.width+se.height)*t.LABELMIN)))for(var Ee=Math.min(Math.ceil(ye.len/Q),t.LABELMAX),Te=0;Te<Ee;Te++){var ze=r.findBestTextLocation(fe,ye,se,Z,q);if(!ze)break;r.addLabelData(ze,se,Z,J)}})}),j.remove(),r.drawLabels(Y,Z,x,N,B?J:null)}F&&!z&&O.remove()}function T(b,S,x,i,E,m){for(var k,I=0;I<x.pedgepaths.length;I++)S===x.pedgepaths[I]&&(k=x.edgepaths[I]);if(!k)return;var U=E.a[0],z=E.a[E.a.length-1],F=E.b[0],B=E.b[E.b.length-1];function O(ie,ce){var J=0,Z,ae=.1;return(Math.abs(ie[0]-U)<ae||Math.abs(ie[0]-z)<ae)&&(Z=s(E.dxydb_rough(ie[0],ie[1],ae)),J=Math.max(J,m*d(ce,Z)/2)),(Math.abs(ie[1]-F)<ae||Math.abs(ie[1]-B)<ae)&&(Z=s(E.dxyda_rough(ie[0],ie[1],ae)),J=Math.max(J,m*d(ce,Z)/2)),J}var N=h(b,0,1),Y=h(b,i.total,i.total-1),$=O(k[0],N),te=i.total-O(k[k.length-1],Y);i.min<$&&(i.min=$),i.max>te&&(i.max=te),i.len=i.max-i.min}function h(b,S,x){var i=b.getPointAtLength(S),E=b.getPointAtLength(x),m=E.x-i.x,k=E.y-i.y,I=Math.sqrt(m*m+k*k);return[m/I,k/I]}function s(b){var S=Math.sqrt(b[0]*b[0]+b[1]*b[1]);return[b[0]/S,b[1]/S]}function d(b,S){var x=Math.abs(b[0]*S[0]+b[1]*S[1]),i=Math.sqrt(1-x*x);return i/x}function A(b,S,x,i,E,m){var k,I,U,z,F=M.ensureSingle(b,"g","contourbg"),B=F.selectAll("path").data(m==="fill"&&!E?[0]:[]);B.enter().append("path"),B.exit().remove();var O=[];for(z=0;z<S.length;z++)k=S[z],I=P([],k.x,x.c2p),U=P([],k.y,i.c2p),O.push(a(I,U,k.bicubic));B.attr("d","M"+O.join("L")+"Z").style("stroke","none")}function w(b,S,x,i,E,m,k,I,U,z,F){var B=z==="fill";B&&c(E,b.contours);var O=M.ensureSingle(S,"g","contourfill"),N=O.selectAll("path").data(B?E:[]);N.enter().append("path"),N.exit().remove(),N.each(function(Y){var $=(Y.prefixBoundary?F:"")+C(b,Y,m,k,I,U,x,i);$?y.select(this).attr("d",$).style("stroke","none"):y.select(this).remove()})}function C(b,S,x,i,E,m,k,I){var U,z="",F=S.edgepaths.map(function(se,ne){return ne}),B=!0,O,N,Y,$,te,ie,ce=Math.abs(x[0][0]-x[2][0])*1e-4,J=Math.abs(x[0][1]-x[2][1])*1e-4;function Z(se){return Math.abs(se[1]-x[0][1])<J}function ae(se){return Math.abs(se[1]-x[2][1])<J}function j(se){return Math.abs(se[0]-x[0][0])<ce}function q(se){return Math.abs(se[0]-x[2][0])<ce}function oe(se,ne){var fe,ye,Ee,Te,ze="";for(Z(se)&&!q(se)||ae(se)&&!j(se)?(Te=E.aaxis,Ee=l(E,m,[se[0],ne[0]],.5*(se[1]+ne[1]))):(Te=E.baxis,Ee=l(E,m,.5*(se[0]+ne[0]),[se[1],ne[1]])),fe=1;fe<Ee.length;fe++)for(ze+=Te.smoothing?"C":"L",ye=0;ye<Ee[fe].length;ye++){var ke=Ee[fe][ye];ze+=[k.c2p(ke[0]),I.c2p(ke[1])]+" "}return ze}for(U=0,O=null;F.length;){var Q=S.edgepaths[U][0];for(O&&(z+=oe(O,Q)),ie=L.smoothopen(S.edgepaths[U].map(i),S.smoothing),z+=B?ie:ie.replace(/^M/,"L"),F.splice(F.indexOf(U),1),O=S.edgepaths[U][S.edgepaths[U].length-1],$=-1,Y=0;Y<4;Y++){if(!O){M.log("Missing end?",U,S);break}for(Z(O)&&!q(O)?N=x[1]:j(O)?N=x[0]:ae(O)?N=x[3]:q(O)&&(N=x[2]),te=0;te<S.edgepaths.length;te++){var K=S.edgepaths[te][0];Math.abs(O[0]-N[0])<ce?Math.abs(O[0]-K[0])<ce&&(K[1]-O[1])*(N[1]-K[1])>=0&&(N=K,$=te):Math.abs(O[1]-N[1])<J?Math.abs(O[1]-K[1])<J&&(K[0]-O[0])*(N[0]-K[0])>=0&&(N=K,$=te):M.log("endpt to newendpt is not vert. or horz.",O,N,K)}if($>=0)break;z+=oe(O,N),O=N}if($===S.edgepaths.length){M.log("unclosed perimeter path");break}U=$,B=F.indexOf(U)===-1,B&&(U=F[0],z+=oe(O,N)+"Z",O=null)}for(U=0;U<S.paths.length;U++)z+=L.smoothclosed(S.paths[U].map(i),S.smoothing);return z}},64096:function(G,H,e){var y=e(50693),P=e(5386).fF,a=e(9012),L=e(99181),M=e(1426).extendFlat;G.exports=M({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:M({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:M({},a.showlegend,{dflt:!1})},y("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(G,H,e){var y=e(92770),P=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,L=e(78803),M=e(71828)._;G.exports=function(p,r){for(var t=r._length,o=new Array(t),n=r.z,c=P(n)&&n.length,u=0;u<t;u++){var l=o[u]={},g=r.lon[u],f=r.lat[u];if(l.lonlat=y(g)&&y(f)?[+g,+f]:[a,a],c){var T=n[u];l.z=y(T)?T:a}}return L(p,r,{vals:c?n:[0,1],containerStr:"",cLetter:"z"}),t&&(o[0].t={labels:{lat:M(p,"lat:")+" ",lon:M(p,"lon:")+" "}}),o}},52414:function(G,H,e){var y=e(92770),P=e(71828),a=e(7901),L=e(21081),M=e(50606).BADNUM,v=e(18214).makeBlank;G.exports=function(r){var t=r[0].trace,o=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},c=t._opts={heatmap:n,geojson:v()};if(!o)return c;var u=[],l,g=t.z,f=t.radius,T=P.isArrayOrTypedArray(g)&&g.length,h=P.isArrayOrTypedArray(f);for(l=0;l<r.length;l++){var s=r[l],d=s.lonlat;if(d[0]!==M){var A={};if(T){var w=s.z;A.z=w!==M?w:0}h&&(A.r=y(f[l])&&f[l]>0?+f[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:A})}}var C=L.extractOpts(t),b=C.reversescale?L.flipScale(C.colorscale):C.colorscale,S=b[0][1],x=a.opacity(S)<1?S:a.addOpacity(S,0),i=["interpolate",["linear"],["heatmap-density"],0,x];for(l=1;l<b.length;l++)i.push(b[l][0],b[l][1]);var E=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(c.heatmap.paint,{"heatmap-weight":T?E:1/(C.max-C.min),"heatmap-color":i,"heatmap-radius":h?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),c.geojson={type:"FeatureCollection",features:u},c.heatmap.layout.visibility="visible",c}},79429:function(G,H,e){var y=e(71828),P=e(1586),a=e(64096);G.exports=function(M,v,p,r){function t(u,l){return y.coerce(M,v,a,u,l)}var o=t("lon")||[],n=t("lat")||[],c=Math.min(o.length,n.length);if(!c){v.visible=!1;return}v._length=c,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(M,v,r,t,{prefix:"",cLetter:"z"})}},62474:function(G){G.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e.z=y.z,e}},84684:function(G,H,e){var y=e(89298),P=e(28178).hoverPoints,a=e(28178).getExtraText;G.exports=function(M,v,p){var r=P(M,v,p);if(r){var t=r[0],o=t.cd,n=o[0].trace,c=o[t.index];if(delete t.color,"z"in c){var u=t.subplot.mockAxis;t.z=c.z,t.zLabel=y.tickText(u,u.c2l(c.z),"hover").text}return t.extraText=a(n,c,o[0].t.labels),[t]}}},93814:function(G,H,e){G.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(y,P){for(var a=P.getMapLayers(),L=0;L<a.length;L++){var M=a[L],v=M.id;if(M.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(G,H,e){var y=e(52414),P=e(77734).traceLayerPrefix;function a(M,v){this.type="densitymapbox",this.subplot=M,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=a.prototype;L.update=function(M){var v=this.subplot,p=this.layerList,r=y(M),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var o=0;o<p.length;o++){var n=p[o],c=n[0],u=n[1],l=r[c];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},L._addLayers=function(M,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,o=0;o<r.length;o++){var n=r[o],c=n[0],u=M[c];p.addLayer({type:c,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},L._removeLayers=function(){for(var M=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)M.removeLayer(v[p][1])},L.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},G.exports=function(v,p){var r=p[0].trace,t=new a(v,r.uid),o=t.sourceId,n=y(p),c=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(o,{type:"geojson",data:n.geojson}),t._addLayers(n,c),t}},49789:function(G,H,e){var y=e(71828);G.exports=function(a,L){for(var M=0;M<a.length;M++)a[M].i=M;y.mergeArray(L.text,a,"tx"),y.mergeArray(L.hovertext,a,"htx");var v=L.marker;if(v){y.mergeArray(v.opacity,a,"mo"),y.mergeArray(v.color,a,"mc");var p=v.line;p&&(y.mergeArray(p.color,a,"mlc"),y.mergeArrayCastPositive(p.width,a,"mlw"))}}},1285:function(G,H,e){var y=e(1486),P=e(82196).line,a=e(9012),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(5386).si,p=e(18517),r=e(1426).extendFlat,t=e(7901);G.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:y.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:y.text,textposition:y.textposition,insidetextanchor:r({},y.insidetextanchor,{dflt:"middle"}),textangle:r({},y.textangle,{dflt:0}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:r({},y.orientation,{}),offset:r({},y.offset,{arrayOk:!1}),width:r({},y.width,{arrayOk:!1}),marker:o(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup};function o(){var n=r({},y.marker);return delete n.pattern,n}},9532:function(G,H,e){var y=e(89298),P=e(42973),a=e(49789),L=e(66279),M=e(50606).BADNUM;G.exports=function(r,t){var o=y.getFromId(r,t.xaxis||"x"),n=y.getFromId(r,t.yaxis||"y"),c,u,l,g,f,T,h,s;t.orientation==="h"?(c=o.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),f=!!t.yperiodalignment,T="y"):(c=n.makeCalcdata(t,"y"),l=o.makeCalcdata(t,"x"),g=P(t,o,"x",l),f=!!t.xperiodalignment,T="x"),u=g.vals;var d=Math.min(u.length,c.length),A=new Array(d);for(t._base=[],h=0;h<d;h++){c[h]<0&&(c[h]=M);var w=!1;c[h]!==M&&h+1<d&&c[h+1]!==M&&(w=!0),s=A[h]={p:u[h],s:c[h],cNext:w},t._base[h]=-.5*s.s,f&&(A[h].orig_p=l[h],A[h][T+"End"]=g.ends[h],A[h][T+"Start"]=g.starts[h]),t.ids&&(s.id=String(t.ids[h])),h===0&&(A[0].vTotal=0),A[0].vTotal+=v(s.s),s.begR=v(s.s)/v(A[0].s)}var C;for(h=0;h<d;h++)s=A[h],s.s!==M&&(s.sumR=s.s/A[0].vTotal,s.difR=C!==void 0?s.s/C:1,C=s.s);return a(A,t),L(A,t),A};function v(p){return p===M?0:p}},18517:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(G,H,e){var y=e(11661).setGroupPositions;G.exports=function(a,L){var M=a._fullLayout,v=a._fullData,p=a.calcdata,r=L.xaxis,t=L.yaxis,o=[],n=[],c=[],u,l;for(l=0;l<v.length;l++){var g=v[l],f=g.orientation==="h";g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="funnel"&&(u=p[l],f?c.push(u):n.push(u),o.push(u))}var T={mode:M.funnelmode,norm:M.funnelnorm,gap:M.funnelgap,groupgap:M.funnelgroupgap};for(y(a,r,t,n,T),y(a,t,r,c,T),l=0;l<o.length;l++){u=o[l];for(var h=0;h<u.length;h++)h+1<u.length&&(u[h].nextP0=u[h+1].p0,u[h].nextS0=u[h+1].s0,u[h].nextP1=u[h+1].p1,u[h].nextS1=u[h+1].s1)}}},26199:function(G,H,e){var y=e(71828),P=e(26125),a=e(90769).handleText,L=e(67513),M=e(73927),v=e(1285),p=e(7901);function r(n,c,u,l){function g(w,C){return y.coerce(n,c,v,w,C)}var f=L(n,c,l,g);if(!f){c.visible=!1;return}M(n,c,l,g),g("xhoverformat"),g("yhoverformat"),g("orientation",c.y&&!c.x?"v":"h"),g("offset"),g("width");var T=g("text");g("hovertext"),g("hovertemplate");var h=g("textposition");a(n,c,l,g,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&!c.texttemplate&&g("textinfo",y.isArrayOrTypedArray(T)?"text+value":"value");var s=g("marker.color",u);g("marker.line.color",p.defaultLine),g("marker.line.width");var d=g("connector.visible");if(d){g("connector.fillcolor",t(s));var A=g("connector.line.width");A&&(g("connector.line.color"),g("connector.line.dash"))}}function t(n){var c=y.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(c,.5*p.opacity(c))}function o(n,c){var u,l;function g(T){return y.coerce(l._input,l,v,T)}if(c.funnelmode==="group")for(var f=0;f<n.length;f++)l=n[f],u=l._input,P(u,l,c,g)}G.exports={supplyDefaults:r,crossTraceDefaults:o}},34598:function(G){G.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"percentInitial"in y&&(e.percentInitial=y.percentInitial),"percentPrevious"in y&&(e.percentPrevious=y.percentPrevious),"percentTotal"in y&&(e.percentTotal=y.percentTotal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},63341:function(G,H,e){var y=e(7901).opacity,P=e(95423).hoverOnBars,a=e(71828).formatPercent;G.exports=function(v,p,r,t,o){var n=P(v,p,r,t,o);if(n){var c=n.cd,u=c[0].trace,l=u.orientation==="h",g=n.index,f=c[g],T=l?"x":"y";n[T+"LabelVal"]=f.s,n.percentInitial=f.begR,n.percentInitialLabel=a(f.begR,1),n.percentPrevious=f.difR,n.percentPreviousLabel=a(f.difR,1),n.percentTotal=f.sumR,n.percentTotalLabel=a(f.sumR,1);var h=f.hi||u.hoverinfo,s=[];if(h&&h!=="none"&&h!=="skip"){var d=h==="all",A=h.split("+"),w=function(C){return d||A.indexOf(C)!==-1};w("percent initial")&&s.push(n.percentInitialLabel+" of initial"),w("percent previous")&&s.push(n.percentPreviousLabel+" of previous"),w("percent total")&&s.push(n.percentTotalLabel+" of total")}return n.extraText=s.join("<br>"),n.color=L(u,f),[n]}};function L(M,v){var p=M.marker,r=v.mc||p.color,t=v.mlc||p.line.color,o=v.mlw||p.line.width;if(y(r))return r;if(y(t)&&o)return t}},51759:function(G,H,e){G.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(G,H,e){var y=e(71828),P=e(10440);G.exports=function(a,L,M){var v=!1;function p(o,n){return y.coerce(a,L,P,o,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},80461:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(50606).BADNUM,M=e(17295),v=e(72597).clearMinTextSize;G.exports=function(n,c,u,l){var g=n._fullLayout;v("funnel",g),p(n,c,u,l),r(n,c,u,l),M.plot(n,c,u,l,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})};function p(o,n,c,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,c,"trace bars").each(function(f){var T=y.select(this),h=f[0].trace,s=P.ensureSingle(T,"g","regions");if(!h.connector||!h.connector.visible){s.remove();return}var d=h.orientation==="h",A=s.selectAll("g.region").data(P.identity);A.enter().append("g").classed("region",!0),A.exit().remove();var w=A.size();A.each(function(C,b){if(!(b!==w-1&&!C.cNext)){var S=t(C,l,g,d),x=S[0],i=S[1],E="";x[0]!==L&&i[0]!==L&&x[1]!==L&&i[1]!==L&&x[2]!==L&&i[2]!==L&&x[3]!==L&&i[3]!==L&&(d?E+="M"+x[0]+","+i[1]+"L"+x[2]+","+i[2]+"H"+x[3]+"L"+x[1]+","+i[1]+"Z":E+="M"+x[1]+","+i[1]+"L"+x[2]+","+i[3]+"V"+i[2]+"L"+x[1]+","+i[0]+"Z"),E===""&&(E="M0,0Z"),P.ensureSingle(y.select(this),"path").attr("d",E).call(a.setClipUrl,n.layerClipId,o)}})})}function r(o,n,c,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,c,"trace bars").each(function(f){var T=y.select(this),h=f[0].trace,s=P.ensureSingle(T,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){s.remove();return}var d=h.orientation==="h",A=s.selectAll("g.line").data(P.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var w=A.size();A.each(function(C,b){if(!(b!==w-1&&!C.cNext)){var S=t(C,l,g,d),x=S[0],i=S[1],E="";x[3]!==void 0&&i[3]!==void 0&&(d?(E+="M"+x[0]+","+i[1]+"L"+x[2]+","+i[2],E+="M"+x[1]+","+i[1]+"L"+x[3]+","+i[2]):(E+="M"+x[1]+","+i[1]+"L"+x[2]+","+i[3],E+="M"+x[1]+","+i[0]+"L"+x[2]+","+i[2])),E===""&&(E="M0,0Z"),P.ensureSingle(y.select(this),"path").attr("d",E).call(a.setClipUrl,n.layerClipId,o)}})})}function t(o,n,c,u){var l=[],g=[],f=u?n:c,T=u?c:n;return l[0]=f.c2p(o.s0,!0),g[0]=T.c2p(o.p0,!0),l[1]=f.c2p(o.s1,!0),g[1]=T.c2p(o.p1,!0),l[2]=f.c2p(o.nextS0,!0),g[2]=T.c2p(o.nextP0,!0),l[3]=f.c2p(o.nextS1,!0),g[3]=T.c2p(o.nextP1,!0),u?[l,g]:[g,l]}},68266:function(G,H,e){var y=e(39898),P=e(91424),a=e(7901),L=e(37822).DESELECTDIM,M=e(16688),v=e(72597).resizeText,p=M.styleTextPoints;function r(t,o,n){var c=n||y.select(t).selectAll("g.funnellayer").selectAll("g.trace");v(t,c,"funnel"),c.style("opacity",function(u){return u[0].trace.opacity}),c.each(function(u){var l=y.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(f){if(!f.isBlank){var T=g.marker;y.select(this).call(a.fill,f.mc||T.color).call(a.stroke,f.mlc||T.line.color).call(P.dashLine,T.line.dash,f.mlw||T.line.width).style("opacity",g.selectedpoints&&!f.selected?L:1)}}),p(l,g,t),l.selectAll(".regions").each(function(){y.select(this).selectAll("path").style("stroke-width",0).call(a.fill,g.connector.fillcolor)}),l.selectAll(".lines").each(function(){var f=g.connector.line;P.lineGroupStyle(y.select(this).selectAll("path"),f.width,f.color,f.dash)})})}G.exports={style:r}},86807:function(G,H,e){var y=e(34e3),P=e(9012),a=e(27670).Y,L=e(5386).fF,M=e(5386).si,v=e(1426).extendFlat;G.exports={labels:y.labels,label0:y.label0,dlabel:y.dlabel,values:y.values,marker:{colors:y.marker.colors,line:{color:v({},y.marker.line.color,{dflt:null}),width:v({},y.marker.line.width,{dflt:1}),editType:"calc"},pattern:y.marker.pattern,editType:"calc"},text:y.text,hovertext:y.hovertext,scalegroup:v({},y.scalegroup,{}),textinfo:v({},y.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},y.textposition,{values:["inside","none"],dflt:"inside"}),textfont:y.textfont,insidetextfont:y.insidetextfont,title:{text:y.title.text,font:y.title.font,position:v({},y.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(G,H,e){var y=e(74875);H.name="funnelarea",H.plot=function(P,a,L,M){y.plotBasePlot(H.name,P,a,L,M)},H.clean=function(P,a,L,M){y.cleanBasePlot(H.name,P,a,L,M)}},89574:function(G,H,e){var y=e(32354);function P(L,M){return y.calc(L,M)}function a(L){y.crossTraceCalc(L,{type:"funnelarea"})}G.exports={calc:P,crossTraceCalc:a}},86282:function(G,H,e){var y=e(71828),P=e(86807),a=e(27670).c,L=e(90769).handleText,M=e(37434).handleLabelsAndValues,v=e(37434).handleMarkerDefaults;G.exports=function(r,t,o,n){function c(w,C){return y.coerce(r,t,P,w,C)}var u=c("labels"),l=c("values"),g=M(u,l),f=g.len;if(t._hasLabels=g.hasLabels,t._hasValues=g.hasValues,!t._hasLabels&&t._hasValues&&(c("label0"),c("dlabel")),!f){t.visible=!1;return}t._length=f,v(r,t,n,c),c("scalegroup");var T=c("text"),h=c("texttemplate"),s;if(h||(s=c("textinfo",Array.isArray(T)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),h||s&&s!=="none"){var d=c("textposition");L(r,t,n,c,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(t,n,c);var A=c("title.text");A&&(c("title.position"),y.coerceFont(c,"title.font",n.font)),c("aspectratio"),c("baseratio")}},10421:function(G,H,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(G,H,e){var y=e(92774).hiddenlabels;G.exports={hiddenlabels:y,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(G,H,e){var y=e(71828),P=e(80097);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",M.colorway),v("extendfunnelareacolors")}},79187:function(G,H,e){var y=e(39898),P=e(91424),a=e(71828),L=a.strScale,M=a.strTranslate,v=e(63893),p=e(17295),r=p.toMoveInsideBar,t=e(72597),o=t.recordMinTextSize,n=t.clearMinTextSize,c=e(53581),u=e(14575),l=u.attachFxHandlers,g=u.determineInsideTextFont,f=u.layoutAreas,T=u.prerenderTitles,h=u.positionTitleOutside,s=u.formatSliceLabel;G.exports=function(b,S){var x=b._context.staticPlot,i=b._fullLayout;n("funnelarea",i),T(S,b),f(S,i._size),a.makeTraceGroups(i._funnelarealayer,S,"trace").each(function(E){var m=y.select(this),k=E[0],I=k.trace;w(E),m.each(function(){var U=y.select(this).selectAll("g.slice").data(E);U.enter().append("g").classed("slice",!0),U.exit().remove(),U.each(function(F,B){if(F.hidden){y.select(this).selectAll("path,g").remove();return}F.pointNumber=F.i,F.curveNumber=I.index;var O=k.cx,N=k.cy,Y=y.select(this),$=Y.selectAll("path.surface").data([F]);$.enter().append("path").classed("surface",!0).style({"pointer-events":x?"none":"all"}),Y.call(l,b,E);var te="M"+(O+F.TR[0])+","+(N+F.TR[1])+d(F.TR,F.BR)+d(F.BR,F.BL)+d(F.BL,F.TL)+"Z";$.attr("d",te),s(b,F,k);var ie=c.castOption(I.textposition,F.pts),ce=Y.selectAll("g.slicetext").data(F.text&&ie!=="none"?[0]:[]);ce.enter().append("g").classed("slicetext",!0),ce.exit().remove(),ce.each(function(){var J=a.ensureSingle(y.select(this),"text","",function(se){se.attr("data-notex",1)}),Z=a.ensureUniformFontSize(b,g(I,F,i.font));J.text(F.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,Z).call(v.convertToTspans,b);var ae=P.bBox(J.node()),j,q,oe,Q=Math.min(F.BL[1],F.BR[1])+N,K=Math.max(F.TL[1],F.TR[1])+N;q=Math.max(F.TL[0],F.BL[0])+O,oe=Math.min(F.TR[0],F.BR[0])+O,j=r(q,oe,Q,K,ae,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),j.fontSize=Z.size,o(I.type,j,i),E[B].transform=j,a.setTransormAndDisplay(J,j)})});var z=y.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var F=a.ensureSingle(y.select(this),"text","",function(N){N.attr("data-notex",1)}),B=I.title.text;I._meta&&(B=a.templateString(B,I._meta)),F.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,I.title.font).call(v.convertToTspans,b);var O=h(k,i._size);F.attr("transform",M(O.x,O.y)+L(Math.min(1,O.scale))+M(O.tx,O.ty))})})})};function d(C,b){var S=b[0]-C[0],x=b[1]-C[1];return"l"+S+","+x}function A(C,b){return[.5*(C[0]+b[0]),.5*(C[1]+b[1])]}function w(C){if(!C.length)return;var b=C[0],S=b.trace,x=S.aspectratio,i=S.baseratio;i>.999&&(i=.999);var E=Math.pow(i,2),m=b.vTotal,k=m*E/(1-E),I=m,U=k/m;function z(){var ne=Math.sqrt(U);return{x:ne,y:-ne}}function F(){var ne=z();return[ne.x,ne.y]}var B,O=[];O.push(F());var N,Y;for(N=C.length-1;N>-1;N--)if(Y=C[N],!Y.hidden){var $=Y.v/I;U+=$,O.push(F())}var te=1/0,ie=-1/0;for(N=0;N<O.length;N++)B=O[N],te=Math.min(te,B[1]),ie=Math.max(ie,B[1]);for(N=0;N<O.length;N++)O[N][1]-=(ie+te)/2;var ce=O[O.length-1][0],J=b.r,Z=(ie-te)/2,ae=J/ce,j=J/Z*x;for(b.r=j*Z,N=0;N<O.length;N++)O[N][0]*=ae,O[N][1]*=j;B=O[0];var q=[-B[0],B[1]],oe=[B[0],B[1]],Q=0;for(N=C.length-1;N>-1;N--)if(Y=C[N],!Y.hidden){Q+=1;var K=O[Q][0],se=O[Q][1];Y.TL=[-K,se],Y.TR=[K,se],Y.BL=q,Y.BR=oe,Y.pxmid=A(Y.TR,Y.BR),q=Y.TL,oe=Y.TR}}},71858:function(G,H,e){var y=e(39898),P=e(63463),a=e(72597).resizeText;G.exports=function(M){var v=M._fullLayout._funnelarealayer.selectAll(".trace");a(M,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,o=y.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(n){y.select(this).call(P,n,t,M)})})}},21606:function(G,H,e){var y=e(82196),P=e(9012),a=e(41940),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(5386).si,p=e(50693),r=e(1426).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},y.x,{impliedEdits:{xtype:"array"}}),x0:r({},y.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},y.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},y.y,{impliedEdits:{ytype:"array"}}),y0:r({},y.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},y.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},y.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},y.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},y.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},y.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},y.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},y.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:M(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},90757:function(G,H,e){var y=e(73972),P=e(71828),a=e(89298),L=e(42973),M=e(17562),v=e(78803),p=e(68296),r=e(4742),t=e(824),o=e(43907),n=e(70769),c=e(50606).BADNUM;G.exports=function(f,T){var h=a.getFromId(f,T.xaxis||"x"),s=a.getFromId(f,T.yaxis||"y"),d=y.traceIs(T,"contour"),A=y.traceIs(T,"histogram"),w=y.traceIs(T,"gl2d"),C=d?"best":T.zsmooth,b,S,x,i,E,m,k,I,U,z,F;if(h._minDtick=0,s._minDtick=0,A)F=M(f,T),i=F.orig_x,b=F.x,S=F.x0,x=F.dx,I=F.orig_y,E=F.y,m=F.y0,k=F.dy,U=F.z;else{var B=T.z;P.isArray1D(B)?(p(T,h,s,"x","y",["z"]),b=T._x,E=T._y,B=T._z):(i=T.x?h.makeCalcdata(T,"x"):[],I=T.y?s.makeCalcdata(T,"y"):[],b=L(T,h,"x",i).vals,E=L(T,s,"y",I).vals,T._x=b,T._y=E),S=T.x0,x=T.dx,m=T.y0,k=T.dy,U=r(B,T,h,s)}(h.rangebreaks||s.rangebreaks)&&(U=l(b,E,U),A||(b=u(b),E=u(E),T._x=b,T._y=E)),!A&&(d||T.connectgaps)&&(T._emptypoints=o(U),t(U,T._emptypoints));function O(ae){C=T._input.zsmooth=T.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+ae)}function N(ae){if(ae.length>1){var j=(ae[ae.length-1]-ae[0])/(ae.length-1),q=Math.abs(j/100);for(z=0;z<ae.length-1;z++)if(Math.abs(ae[z+1]-ae[z]-j)>q)return!1}return!0}T._islinear=!1,h.type==="log"||s.type==="log"?C==="fast"&&O("log axis found"):N(b)?N(E)?T._islinear=!0:C==="fast"&&O("y scale is not linear"):C==="fast"&&O("x scale is not linear");var Y=P.maxRowLength(U),$=T.xtype==="scaled"?"":b,te=n(T,$,S,x,Y,h),ie=T.ytype==="scaled"?"":E,ce=n(T,ie,m,k,U.length,s);w||(T._extremes[h._id]=a.findExtremes(h,te),T._extremes[s._id]=a.findExtremes(s,ce));var J={x:te,y:ce,z:U,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&i&&(J.orig_x=i),T.yperiodalignment&&I&&(J.orig_y=I),$&&$.length===te.length-1&&(J.xCenter=$),ie&&ie.length===ce.length-1&&(J.yCenter=ie),A&&(J.xRanges=F.xRanges,J.yRanges=F.yRanges,J.pts=F.pts),d||v(f,T,{vals:U,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var Z={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};J.xfill=n(Z,$,S,x,Y,h),J.yfill=n(Z,ie,m,k,U.length,s)}return[J]};function u(g){for(var f=[],T=g.length,h=0;h<T;h++){var s=g[h];s!==c&&f.push(s)}return f}function l(g,f,T){for(var h=[],s=-1,d=0;d<T.length;d++)if(f[d]!==c){s++,h[s]=[];for(var A=0;A<T[d].length;A++)g[A]!==c&&h[s].push(T[d][A])}return h}},4742:function(G,H,e){var y=e(92770),P=e(71828),a=e(50606).BADNUM;G.exports=function(M,v,p,r){var t,o,n,c,u,l;function g(A){if(y(A))return+A}if(v&&v.transpose){for(t=0,u=0;u<M.length;u++)t=Math.max(t,M[u].length);if(t===0)return!1;n=function(A){return A.length},c=function(A,w,C){return(A[C]||[])[w]}}else t=M.length,n=function(A,w){return A[w].length},c=function(A,w,C){return(A[w]||[])[C]};var f=function(A,w,C){return w===a||C===a?a:c(A,w,C)};function T(A){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&A&&A.type==="category"&&v["_"+A._id.charAt(0)].length){var w=A._id.charAt(0),C={},b=v["_"+w+"CategoryMap"]||v[w];for(u=0;u<b.length;u++)C[b[u]]=u;return function(S){var x=C[A._categories[S]];return x+1?x:a}}else return P.identity}var h=T(p),s=T(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(p&&p.type==="category"?o=p._categories.length:o=n(M,u),d[u]=new Array(o),l=0;l<o;l++)d[u][l]=g(f(M,s(u),h(l)));return d}},61243:function(G){G.exports={min:"zmin",max:"zmax"}},68296:function(G,H,e){var y=e(71828),P=e(50606).BADNUM,a=e(42973);G.exports=function(M,v,p,r,t,o){var n=M._length,c=v.makeCalcdata(M,r),u=p.makeCalcdata(M,t);c=a(M,v,r,c).vals,u=a(M,p,t,u).vals;var l=M.text,g=l!==void 0&&y.isArray1D(l),f=M.hovertext,T=f!==void 0&&y.isArray1D(f),h,s,d=y.distinctVals(c),A=d.vals,w=y.distinctVals(u),C=w.vals,b=[],S,x,i=C.length,E=A.length;for(h=0;h<o.length;h++)b[h]=y.init2dArray(i,E);g&&(S=y.init2dArray(i,E)),T&&(x=y.init2dArray(i,E));var m=y.init2dArray(i,E);for(h=0;h<n;h++)if(c[h]!==P&&u[h]!==P){var k=y.findBin(c[h]+d.minDiff/2,A),I=y.findBin(u[h]+w.minDiff/2,C);for(s=0;s<o.length;s++){var U=o[s],z=M[U],F=b[s];F[I][k]=z[h],m[I][k]=h}g&&(S[I][k]=l[h]),T&&(x[I][k]=f[h])}for(M["_"+r]=A,M["_"+t]=C,s=0;s<o.length;s++)M["_"+o[s]]=b[s];g&&(M._text=S),T&&(M._hovertext=x),v&&v.type==="category"&&(M["_"+r+"CategoryMap"]=A.map(function(B){return v._categories[B]})),p&&p.type==="category"&&(M["_"+t+"CategoryMap"]=C.map(function(B){return p._categories[B]})),M._after2before=m}},76382:function(G,H,e){var y=e(71828),P=e(67684),a=e(58623),L=e(73927),M=e(49901),v=e(1586),p=e(21606);G.exports=function(t,o,n,c){function u(g,f){return y.coerce(t,o,p,g,f)}var l=P(t,o,u,c);if(!l){o.visible=!1;return}L(t,o,c,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),a(u,c),M(t,o,u,c),u("hoverongaps"),u("connectgaps",y.isArray1D(o.z)&&o.zsmooth!==!1),v(t,o,c,u,{prefix:"",cLetter:"z"})}},43907:function(G,H,e){var y=e(71828).maxRowLength;G.exports=function(a){var L=[],M={},v=[],p=a[0],r=[],t=[0,0,0],o=y(a),n,c,u,l,g,f,T,h;for(c=0;c<a.length;c++)for(n=r,r=p,p=a[c+1]||[],u=0;u<o;u++)r[u]===void 0&&(f=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(p[u]!==void 0?1:0),f?(c===0&&f++,u===0&&f++,c===a.length-1&&f++,u===r.length-1&&f++,f<4&&(M[[c,u]]=[c,u,f]),L.push([c,u,f])):v.push([c,u]));for(;v.length;){for(T={},h=!1,g=v.length-1;g>=0;g--)l=v[g],c=l[0],u=l[1],f=((M[[c-1,u]]||t)[2]+(M[[c+1,u]]||t)[2]+(M[[c,u-1]]||t)[2]+(M[[c,u+1]]||t)[2])/20,f&&(T[l]=[c,u,f],v.splice(g,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(l in T)M[l]=T[l],L.push(T[l])}return L.sort(function(s,d){return d[2]-s[2]})}},46248:function(G,H,e){var y=e(30211),P=e(71828),a=P.isArrayOrTypedArray,L=e(89298),M=e(21081).extractOpts;G.exports=function(p,r,t,o,n){n||(n={});var c=n.isContour,u=p.cd[0],l=u.trace,g=p.xa,f=p.ya,T=u.x,h=u.y,s=u.z,d=u.xCenter,A=u.yCenter,w=u.zmask,C=l.zhoverformat,b=T,S=h,x,i,E,m;if(p.index!==!1){try{E=Math.round(p.index[1]),m=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(E<0||E>=s[0].length||m<0||m>s.length)return}else{if(y.inbox(r-T[0],r-T[T.length-1],0)>0||y.inbox(t-h[0],t-h[h.length-1],0)>0)return;if(c){var k;for(b=[2*T[0]-T[1]],k=1;k<T.length;k++)b.push((T[k]+T[k-1])/2);for(b.push([2*T[T.length-1]-T[T.length-2]]),S=[2*h[0]-h[1]],k=1;k<h.length;k++)S.push((h[k]+h[k-1])/2);S.push([2*h[h.length-1]-h[h.length-2]])}E=Math.max(0,Math.min(b.length-2,P.findBin(r,b))),m=Math.max(0,Math.min(S.length-2,P.findBin(t,S)))}var I=g.c2p(T[E]),U=g.c2p(T[E+1]),z=f.c2p(h[m]),F=f.c2p(h[m+1]),B,O;c?(B=u.orig_x||T,O=u.orig_y||h,U=I,x=B[E],F=z,i=O[m]):(B=u.orig_x||d||T,O=u.orig_y||A||h,x=d?B[E]:(B[E]+B[E+1])/2,i=A?O[m]:(O[m]+O[m+1])/2,g&&g.type==="category"&&(x=T[E]),f&&f.type==="category"&&(i=h[m]),l.zsmooth&&(I=U=g.c2p(x),z=F=f.c2p(i)));var N=s[m][E];if(w&&!w[m][E]&&(N=void 0),!(N===void 0&&!l.hoverongaps)){var Y;a(u.hovertext)&&a(u.hovertext[m])?Y=u.hovertext[m][E]:a(u.text)&&a(u.text[m])&&(Y=u.text[m][E]);var $=M(l),te={type:"linear",range:[$.min,$.max],hoverformat:C,_separators:g._separators,_numFormat:g._numFormat},ie=L.tickText(te,N,"hover").text;return[P.extendFlat(p,{index:l._after2before?l._after2before[m][E]:[m,E],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:I,x1:U,y0:z,y1:F,xLabelVal:x,yLabelVal:i,zLabelVal:N,zLabel:ie,text:Y})]}}},92165:function(G,H,e){G.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(G,H,e){var y=e(71828),P=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,r){var t=1,o;for(M(p,r),o=0;o<r.length&&!(r[o][2]<4);o++);for(r=r.slice(o),o=0;o<100&&t>P;o++)t=M(p,r,L(t));return t>P&&y.log("interp2d didn't converge quickly",t),p};function M(v,p,r){var t=0,o,n,c,u,l,g,f,T,h,s,d,A,w;for(u=0;u<p.length;u++){for(o=p[u],n=o[0],c=o[1],d=v[n][c],s=0,h=0,l=0;l<4;l++)g=a[l],f=v[n+g[0]],f&&(T=f[c+g[1]],T!==void 0&&(s===0?A=w=T:(A=Math.min(A,T),w=Math.max(w,T)),h++,s+=T));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][c]=s/h,d===void 0?h<4&&(t=1):(v[n][c]=(1+r)*v[n][c]-r*d,w>A&&(t=Math.max(t,Math.abs(v[n][c]-d)/(w-A))))}return t}},58623:function(G,H,e){var y=e(71828);G.exports=function(a,L){a("texttemplate");var M=y.extendFlat({},L.font,{color:"auto",size:"auto"});y.coerceFont(a,"textfont",M)}},70769:function(G,H,e){var y=e(73972),P=e(71828).isArrayOrTypedArray;G.exports=function(L,M,v,p,r,t){var o=[],n=y.traceIs(L,"contour"),c=y.traceIs(L,"histogram"),u=y.traceIs(L,"gl2d"),l,g,f,T=P(M)&&M.length>1;if(T&&!c&&t.type!=="category"){var h=M.length;if(h<=r){if(n||u)o=Array.from(M).slice(0,r);else if(r===1)o=[M[0]-.5,M[0]+.5];else{for(o=[1.5*M[0]-.5*M[1]],f=1;f<h;f++)o.push((M[f-1]+M[f])*.5);o.push(1.5*M[h-1]-.5*M[h-2])}if(h<r){var s=o[o.length-1],d=s-o[o.length-2];for(f=h;f<r;f++)s+=d,o.push(s)}}else return n?M.slice(0,r):M.slice(0,r+1)}else{var A=L[t._id.charAt(0)+"calendar"];if(c)l=t.r2c(v,0,A);else if(P(M)&&M.length===1)l=M[0];else if(v===void 0)l=0;else{var w=t.type==="log"?t.d2c:t.r2c;l=w(v,0,A)}for(g=p||1,f=n||u?0:-.5;f<r;f++)o.push(l+g*f)}return o}},50347:function(G,H,e){var y=e(39898),P=e(84267),a=e(73972),L=e(91424),M=e(89298),v=e(71828),p=e(63893),r=e(8225),t=e(7901),o=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,c=e(77922),u=e(18783),l=u.LINE_SPACING,g=e(3883),f=e(32396).STYLE,T="heatmap-label";function h(C){return C.selectAll("g."+T)}function s(C){h(C).remove()}G.exports=function(C,b,S,x){var i=b.xaxis,E=b.yaxis;v.makeTraceGroups(x,S,"hm").each(function(m){var k=y.select(this),I=m[0],U=I.trace,z=U.xgap||0,F=U.ygap||0,B=I.z,O=I.x,N=I.y,Y=I.xCenter,$=I.yCenter,te=a.traceIs(U,"contour"),ie=te?"best":U.zsmooth,ce=B.length,J=v.maxRowLength(B),Z=!1,ae=!1,j,q,oe,Q,K,se,ne,fe;for(se=0;j===void 0&&se<O.length-1;)j=i.c2p(O[se]),se++;for(se=O.length-1;q===void 0&&se>0;)q=i.c2p(O[se]),se--;for(q<j&&(oe=q,q=j,j=oe,Z=!0),se=0;Q===void 0&&se<N.length-1;)Q=E.c2p(N[se]),se++;for(se=N.length-1;K===void 0&&se>0;)K=E.c2p(N[se]),se--;K<Q&&(oe=Q,Q=K,K=oe,ae=!0),te&&(Y=O,$=N,O=I.xfill,N=I.yfill);var ye="default";if(ie?ye=ie==="best"?"smooth":"fast":U._islinear&&z===0&&F===0&&g()&&(ye="fast"),ye!=="fast"){var Ee=ie==="best"?0:.5;j=Math.max(-Ee*i._length,j),q=Math.min((1+Ee)*i._length,q),Q=Math.max(-Ee*E._length,Q),K=Math.min((1+Ee)*E._length,K)}var Te=Math.round(q-j),ze=Math.round(K-Q),ke=j>=i._length||q<=0||Q>=E._length||K<=0;if(ke){var Se=k.selectAll("image").data([]);Se.exit().remove(),s(k);return}var me,Ce;ye==="fast"?(me=J,Ce=ce):(me=Te,Ce=ze);var Ne=document.createElement("canvas");Ne.width=me,Ne.height=Ce;var He=Ne.getContext("2d",{willReadFrequently:!0}),De=n(U,{noNumericCheck:!0,returnArray:!0}),Ve,at;ye==="fast"?(Ve=Z?function(an){return J-1-an}:v.identity,at=ae?function(an){return ce-1-an}:v.identity):(Ve=function(an){return v.constrain(Math.round(i.c2p(O[an])-j),0,Te)},at=function(an){return v.constrain(Math.round(E.c2p(N[an])-Q),0,ze)});var lt=at(0),$e=[lt,lt],et=Z?0:1,ct=ae?0:1,dt=0,gt=0,At=0,Rt=0,Vt,Je,Ge,Ie,Fe;function Pe(an,vn){if(an!==void 0){var pn=De(an);return pn[0]=Math.round(pn[0]),pn[1]=Math.round(pn[1]),pn[2]=Math.round(pn[2]),dt+=vn,gt+=pn[0]*vn,At+=pn[1]*vn,Rt+=pn[2]*vn,pn}return[0,0,0,0]}function xe(an,vn,pn,En){var _n=an[pn.bin0];if(_n===void 0)return Pe(void 0,1);var oa=an[pn.bin1],Kn=vn[pn.bin0],$n=vn[pn.bin1],Yn=oa-_n||0,Jn=Kn-_n||0,Tr;return oa===void 0?$n===void 0?Tr=0:Kn===void 0?Tr=2*($n-_n):Tr=(2*$n-Kn-_n)*2/3:$n===void 0?Kn===void 0?Tr=0:Tr=(2*_n-oa-Kn)*2/3:Kn===void 0?Tr=(2*$n-oa-_n)*2/3:Tr=$n+_n-oa-Kn,Pe(_n+pn.frac*Yn+En.frac*(Jn+pn.frac*Tr))}if(ye!=="default"){var ge=0,Me;try{Me=new Uint8Array(me*Ce*4)}catch{Me=new Array(me*Ce*4)}if(ye==="smooth"){var Ae=Y||O,Ue=$||N,Ze=new Array(Ae.length),tt=new Array(Ue.length),ft=new Array(Te),pt=Y?A:d,Yt=$?A:d,Jt,Tt,zt;for(se=0;se<Ae.length;se++)Ze[se]=Math.round(i.c2p(Ae[se])-j);for(se=0;se<Ue.length;se++)tt[se]=Math.round(E.c2p(Ue[se])-Q);for(se=0;se<Te;se++)ft[se]=pt(se,Ze);for(ne=0;ne<ze;ne++)for(Jt=Yt(ne,tt),Tt=B[Jt.bin0],zt=B[Jt.bin1],se=0;se<Te;se++,ge+=4)Fe=xe(Tt,zt,ft[se],Jt),w(Me,ge,Fe)}else for(ne=0;ne<ce;ne++)for(Ie=B[ne],$e=at(ne),se=0;se<J;se++)Fe=Pe(Ie[se],1),ge=($e*J+Ve(se))*4,w(Me,ge,Fe);var $t=He.createImageData(me,Ce);try{$t.data.set(Me)}catch{var wr=$t.data,yt=wr.length;for(ne=0;ne<yt;ne++)wr[ne]=Me[ne]}He.putImageData($t,0,0)}else{var Xt=Math.floor(z/2),Qt=Math.floor(F/2);for(ne=0;ne<ce;ne++)if(Ie=B[ne],$e.reverse(),$e[ct]=at(ne+1),!($e[0]===$e[1]||$e[0]===void 0||$e[1]===void 0))for(Je=Ve(0),Vt=[Je,Je],se=0;se<J;se++)Vt.reverse(),Vt[et]=Ve(se+1),!(Vt[0]===Vt[1]||Vt[0]===void 0||Vt[1]===void 0)&&(Ge=Ie[se],Fe=Pe(Ge,(Vt[1]-Vt[0])*($e[1]-$e[0])),He.fillStyle="rgba("+Fe.join(",")+")",He.fillRect(Vt[0]+Xt,$e[0]+Qt,Vt[1]-Vt[0]-z,$e[1]-$e[0]-F))}gt=Math.round(gt/dt),At=Math.round(At/dt),Rt=Math.round(Rt/dt);var gr=P("rgb("+gt+","+At+","+Rt+")");C._hmpixcount=(C._hmpixcount||0)+dt,C._hmlumcount=(C._hmlumcount||0)+dt*gr.getLuminance();var sr=k.selectAll("image").data(m);sr.enter().append("svg:image").attr({xmlns:c.svg,preserveAspectRatio:"none"}),sr.attr({height:ze,width:Te,x:j,y:Q,"xlink:href":Ne.toDataURL("image/png")}),ye==="fast"&&!ie&&sr.attr("style",f),s(k);var vt=U.texttemplate;if(vt){var it=o(U),xt={type:"linear",range:[it.min,it.max],_separators:i._separators,_numFormat:i._numFormat},Mt=U.type==="histogram2dcontour",Dt=U.type==="contour",Lt=Dt?1:0,Bt=Dt?ce-1:ce,Nt=Dt?1:0,jt=Dt?J-1:J,lr=[];for(se=Lt;se<Bt;se++){var fr;if(Dt)fr=I.y[se];else if(Mt){if(se===0||se===ce-1)continue;fr=I.y[se]}else if(I.yCenter)fr=I.yCenter[se];else{if(se+1===ce&&I.y[se+1]===void 0)continue;fr=(I.y[se]+I.y[se+1])/2}var hr=Math.round(E.c2p(fr));if(!(0>hr||hr>E._length))for(ne=Nt;ne<jt;ne++){var Ye;if(Dt)Ye=I.x[ne];else if(Mt){if(ne===0||ne===J-1)continue;Ye=I.x[ne]}else if(I.xCenter)Ye=I.xCenter[ne];else{if(ne+1===J&&I.x[ne+1]===void 0)continue;Ye=(I.x[ne]+I.x[ne+1])/2}var We=Math.round(i.c2p(Ye));if(!(0>We||We>i._length)){var kt=r({x:Ye,y:fr},U,C._fullLayout);kt.x=Ye,kt.y=fr;var It=I.z[se][ne];It===void 0?(kt.z="",kt.zLabel=""):(kt.z=It,kt.zLabel=M.tickText(xt,It,"hover").text);var Zt=I.text&&I.text[se]&&I.text[se][ne];(Zt===void 0||Zt===!1)&&(Zt=""),kt.text=Zt;var rr=v.texttemplateString(vt,kt,C._fullLayout._d3locale,kt,U._meta||{});if(rr){var ur=rr.split("<br>"),er=ur.length,Ot=0;for(fe=0;fe<er;fe++)Ot=Math.max(Ot,ur[fe].length);lr.push({l:er,c:Ot,t:rr,x:We,y:hr,z:It})}}}}var vr=U.textfont,yr=vr.family,pr=vr.size,cr=C._fullLayout.font.size;if(!pr||pr==="auto"){var Ur=1/0,kr=1/0,Rr=0,hn=0;for(fe=0;fe<lr.length;fe++){var tn=lr[fe];if(Rr=Math.max(Rr,tn.l),hn=Math.max(hn,tn.c),fe<lr.length-1){var Fn=lr[fe+1],mn=Math.abs(Fn.x-tn.x),Mr=Math.abs(Fn.y-tn.y);mn&&(Ur=Math.min(Ur,mn)),Mr&&(kr=Math.min(kr,Mr))}}!isFinite(Ur)||!isFinite(kr)?pr=cr:(Ur-=z,kr-=F,Ur/=hn,kr/=Rr,Ur/=l/2,kr/=l,pr=Math.min(Math.floor(Ur),Math.floor(kr),cr))}if(pr<=0||!isFinite(pr))return;var Er=function(an){return an.x},Wr=function(an){return an.y-pr*(an.l*l/2-1)},Hr=h(k).data(lr);Hr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(an){var vn=y.select(this),pn=vr.color;(!pn||pn==="auto")&&(pn=t.contrast("rgba("+De(an.z).join()+")")),vn.attr("data-notex",1).call(p.positionText,Er(an),Wr(an)).call(L.font,yr,pr,pn).text(an.t).call(p.convertToTspans,C)})}})};function d(C,b){var S=b.length-2,x=v.constrain(v.findBin(C,b),0,S),i=b[x],E=b[x+1],m=v.constrain(x+(C-i)/(E-i)-.5,0,S),k=Math.round(m),I=Math.abs(m-k);return!m||m===S||!I?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:I,bin1:Math.round(k+I/(m-k))}}function A(C,b){var S=b.length-1,x=v.constrain(v.findBin(C,b),0,S),i=b[x],E=b[x+1],m=(C-i)/(E-i)||0;return m<=0?{bin0:x,bin1:x,frac:0}:m<.5?{bin0:x,bin1:x+1,frac:m}:{bin0:x+1,bin1:x,frac:1-m}}function w(C,b,S){C[b]=S[0],C[b+1]=S[1],C[b+2]=S[2],C[b+3]=Math.round(S[3]*255)}},70035:function(G,H,e){var y=e(39898);G.exports=function(a){y.select(a).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},49901:function(G){G.exports=function(e,y,P){var a=P("zsmooth");a===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},67684:function(G,H,e){var y=e(92770),P=e(71828),a=e(73972);G.exports=function(p,r,t,o,n,c){var u=t("z");n=n||"x",c=c||"y";var l,g;if(u===void 0||!u.length)return 0;if(P.isArray1D(u)){l=t(n),g=t(c);var f=P.minRowLength(l),T=P.minRowLength(g);if(f===0||T===0)return 0;r._length=Math.min(f,T,u.length)}else{if(l=L(n,t),g=L(c,t),!M(u))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var h=a.getComponentMethod("calendars","handleTraceDefaults");return h(p,r,[n,c],o),!0};function L(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function M(v){for(var p=!0,r=!1,t=!1,o,n=0;n<v.length;n++){if(o=v[n],!P.isArrayOrTypedArray(o)){p=!1;break}o.length>0&&(r=!0);for(var c=0;c<o.length;c++)if(y(o[c])){t=!0;break}}return p&&r&&t}},16063:function(G,H,e){for(var y=e(21606),P=e(50693),a=e(1426).extendFlat,L=e(30962).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<M.length;p++){var r=M[p];v[r]=y[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,P("",{cLetter:"z",autoColorDflt:!1})),G.exports=L(v,"calc","nested")},59560:function(G,H,e){var y=e(9330).gl_heatmap2d,P=e(89298),a=e(78614);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=y(r.glplot,this.options),this.heatmap._trace=this}var M=L.prototype;M.handlePick=function(r){var t=this.options,o=t.shape,n=r.pointId,c=n%o[0],u=Math.floor(n/o[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[c],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,c],hoverinfo:this.hoverinfo}},M.update=function(r,t){var o=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=o.z;this.options.z=[].concat.apply([],n);var c=n[0].length,u=n.length;this.options.shape=[c,u],this.options.x=o.x,this.options.y=o.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var g=this.scene.xaxis,f=this.scene.yaxis,T,h;r.zsmooth===!1&&(T={ppad:o.x[1]-o.x[0]},h={ppad:o.y[1]-o.y[0]}),r._extremes[g._id]=P.findExtremes(g,o.x,T),r._extremes[f._id]=P.findExtremes(f,o.y,h)},M.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,o=r.zmin,n=r.zmax,c=t.length,u=new Array(c),l=new Array(4*c),g=0;g<c;g++){var f=t[g],T=a(f[1]);u[g]=o+f[0]*(n-o);for(var h=0;h<4;h++)l[4*g+h]=T[h]}return{colorLevels:u,colorValues:l}}function p(r,t,o){var n=new L(r,t.uid);return n.update(t,o),n}G.exports=p},19600:function(G,H,e){var y=e(71828),P=e(67684),a=e(1586),L=e(16063);G.exports=function(v,p,r,t){function o(c,u){return y.coerce(v,p,L,c,u)}var n=P(v,p,o,t);if(!n){p.visible=!1;return}o("text"),o("zsmooth"),a(v,p,t,o,{prefix:"",cLetter:"z"})}},3325:function(G,H,e){G.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(G,H,e){var y=e(1486),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(5386).si,M=e(41940),v=e(17656),p=e(72406),r=e(1426).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},y.text,{}),hovertext:r({},y.hovertext,{}),orientation:y.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},y.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:y.insidetextanchor,textangle:y.textangle,cliponaxis:y.cliponaxis,constraintext:y.constraintext,marker:y.marker,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,_deprecated:{bardir:y._deprecated.bardir}}},42174:function(G){G.exports=function(e,y){for(var P=e.length,a=0,L=0;L<P;L++)y[L]?(e[L]/=y[L],a+=e[L]):e[L]=null;return a}},17656:function(G){G.exports=function(e,y){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(G,H,e){var y=e(92770);G.exports={count:function(P,a,L){return L[P]++,1},sum:function(P,a,L,M){var v=M[a];return y(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,a,L,M,v){var p=M[a];return y(p)&&(p=Number(p),L[P]+=p,v[P]++),0},min:function(P,a,L,M){var v=M[a];if(y(v))if(v=Number(v),y(L[P])){if(L[P]>v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0},max:function(P,a,L,M){var v=M[a];if(y(v))if(v=Number(v),y(L[P])){if(L[P]<v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0}}},40965:function(G,H,e){var y=e(50606),P=y.ONEAVGYEAR,a=y.ONEAVGMONTH,L=y.ONEDAY,M=y.ONEHOUR,v=y.ONEMIN,p=y.ONESEC,r=e(89298).tickIncrement;G.exports=function(l,g,f,T,h){var s=-1.1*g,d=-.1*g,A=l-d,w=f[0],C=f[1],b=Math.min(t(w+d,w+A,T,h),t(C+d,C+A,T,h)),S=Math.min(t(w+s,w+d,T,h),t(C+s,C+d,T,h)),x,i;if(b>S&&S<Math.abs(C-w)/4e3?(x=b,i=!1):(x=Math.min(b,S),i=!0),T.type==="date"&&x>L){var E=x===P?1:6,m=x===P?"M12":"M1";return function(k,I){var U=T.c2d(k,P,h),z=U.indexOf("-",E);z>0&&(U=U.substr(0,z));var F=T.d2c(U,0,h);if(F<k){var B=r(F,m,!1,h);(F+B)/2<k+l&&(F=B)}return I&&i?r(F,m,!0,h):F}}return function(k,I){var U=x*Math.round(k/x);return U+x/10<k&&U+x*.9<k+l&&(U+=x),I&&i&&(U-=x),U}};function t(u,l,g,f){if(u*l<=0)return 1/0;for(var T=Math.abs(l-u),h=g.type==="date",s=o(T,h),d=0;d<10;d++){var A=o(s*80,h);if(s===A)break;if(n(A,u,l,h,g,f))s=A;else break}return s}function o(u,l){return l&&u>p?u>L?u>P*1.1?P:u>a*1.1?a:L:u>M?M:u>v?v:p:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,g,f,T,h){if(f&&u>L){var s=c(l,T,h),d=c(g,T,h),A=u===P?0:1;return s[A]!==d[A]}return Math.floor(g/u)-Math.floor(l/u)>.1}function c(u,l,g){var f=l.c2d(u,P,g).split("-");return f[0]===""&&(f.unshift(),f[0]="-"+f[0]),f}},72138:function(G,H,e){var y=e(92770),P=e(71828),a=e(73972),L=e(89298),M=e(75341),v=e(59575),p=e(36362),r=e(42174),t=e(40965);function o(g,f){var T=[],h=[],s=f.orientation==="h",d=L.getFromId(g,s?f.yaxis:f.xaxis),A=s?"y":"x",w={x:"y",y:"x"}[A],C=f[A+"calendar"],b=f.cumulative,S,x=n(g,f,d,A),i=x[0],E=x[1],m=typeof i.size=="string",k=[],I=m?k:i,U=[],z=[],F=[],B=0,O=f.histnorm,N=f.histfunc,Y=O.indexOf("density")!==-1,$,te,ie;b.enabled&&Y&&(O=O.replace(/ ?density$/,""),Y=!1);var ce=N==="max"||N==="min",J=ce?null:0,Z=v.count,ae=p[O],j=!1,q=function(He){return d.r2c(He,0,C)},oe;for(P.isArrayOrTypedArray(f[w])&&N!=="count"&&(oe=f[w],j=N==="avg",Z=v[N]),S=q(i.start),te=q(i.end)+(S-L.tickIncrement(S,i.size,!1,C))/1e6;S<te&&T.length<1e6&&($=L.tickIncrement(S,i.size,!1,C),T.push((S+$)/2),h.push(J),F.push([]),k.push(S),Y&&U.push(1/($-S)),j&&z.push(0),!($<=S));)S=$;k.push(S),!m&&d.type==="date"&&(I={start:q(I.start),end:q(I.end),size:I.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var Q=f["_"+A+"bingroup"],K={leftGap:1/0,rightGap:1/0};Q&&(g._fullLayout._roundFnOpts[Q]||(g._fullLayout._roundFnOpts[Q]=K),K=g._fullLayout._roundFnOpts[Q]);var se=h.length,ne=!0,fe=K.leftGap,ye=K.rightGap,Ee={};for(S=0;S<E.length;S++){var Te=E[S];ie=P.findBin(Te,I),ie>=0&&ie<se&&(B+=Z(ie,S,h,oe,z),ne&&F[ie].length&&Te!==E[F[ie][0]]&&(ne=!1),F[ie].push(S),Ee[S]=ie,fe=Math.min(fe,Te-k[ie]),ye=Math.min(ye,k[ie+1]-Te))}K.leftGap=fe,K.rightGap=ye;var ze;ne||(ze=function(He,De){return function(){var Ve=g._fullLayout._roundFnOpts[Q];return t(Ve.leftGap,Ve.rightGap,k,d,C)(He,De)}}),j&&(B=r(h,z)),ae&&ae(h,B,U),b.enabled&&l(h,b.direction,b.currentbin);var ke=Math.min(T.length,h.length),Se=[],me=0,Ce=ke-1;for(S=0;S<ke;S++)if(h[S]){me=S;break}for(S=ke-1;S>=me;S--)if(h[S]){Ce=S;break}for(S=me;S<=Ce;S++)if(y(T[S])&&y(h[S])){var Ne={p:T[S],s:h[S],b:0};b.enabled||(Ne.pts=F[S],ne?Ne.ph0=Ne.ph1=F[S].length?E[F[S][0]]:T[S]:(f._computePh=!0,Ne.ph0=ze(k[S]),Ne.ph1=ze(k[S+1],!0))),Se.push(Ne)}return Se.length===1&&(Se[0].width1=L.tickIncrement(Se[0].p,i.size,!1,C)-Se[0].p),M(Se,f),P.isArrayOrTypedArray(f.selectedpoints)&&P.tagSelected(Se,f,Ee),Se}function n(g,f,T,h,s){var d=h+"bins",A=g._fullLayout,w=f["_"+h+"bingroup"],C=A._histogramBinOpts[w],b=A.barmode==="overlay",S,x,i,E,m,k,I,U=function(Te){return T.r2c(Te,0,E)},z=function(Te){return T.c2r(Te,0,E)},F=T.type==="date"?function(Te){return Te||Te===0?P.cleanDate(Te,null,E):null}:function(Te){return y(Te)?Number(Te):null};function B(Te,ze,ke){ze[Te+"Found"]?(ze[Te]=F(ze[Te]),ze[Te]===null&&(ze[Te]=ke[Te])):(k[Te]=ze[Te]=ke[Te],P.nestedProperty(x[0],d+"."+Te).set(ke[Te]))}if(f["_"+h+"autoBinFinished"])delete f["_"+h+"autoBinFinished"];else{x=C.traces;var O=[],N=!0,Y=!1,$=!1;for(S=0;S<x.length;S++)if(i=x[S],i.visible){var te=C.dirs[S];m=i["_"+te+"pos0"]=T.makeCalcdata(i,te),O=P.concat(O,m),delete i["_"+h+"autoBinFinished"],f.visible===!0&&(N?N=!1:(delete i._autoBin,i["_"+h+"autoBinFinished"]=1),a.traceIs(i,"2dMap")&&(Y=!0),i.type==="histogram2dcontour"&&($=!0))}E=x[0][h+"calendar"];var ie=L.autoBin(O,T,C.nbins,Y,E,C.sizeFound&&C.size),ce=x[0]._autoBin={};if(k=ce[C.dirs[0]]={},$&&(C.size||(ie.start=z(L.tickIncrement(U(ie.start),ie.size,!0,E))),C.end===void 0&&(ie.end=z(L.tickIncrement(U(ie.end),ie.size,!1,E)))),b&&!a.traceIs(f,"2dMap")&&ie._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&f.bingroup===""&&typeof f.xbins>"u"){if(s)return[ie,m,!0];ie=c(g,f,T,h,d)}I=i.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?ie.start=z(L.tickIncrement(U(ie.start),ie.size,!0,E)):ie.end=z(L.tickIncrement(U(ie.end),ie.size,!1,E))),C.size=ie.size,C.sizeFound||(k.size=ie.size,P.nestedProperty(x[0],d+".size").set(ie.size)),B("start",C,ie),B("end",C,ie)}m=f["_"+h+"pos0"],delete f["_"+h+"pos0"];var J=f._input[d]||{},Z=P.extendFlat({},C),ae=C.start,j=T.r2l(J.start),q=j!==void 0;if((C.startFound||q)&&j!==T.r2l(ae)){var oe=q?j:P.aggNums(Math.min,null,m),Q={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:C.size,tick0:ae,calendar:E,range:[oe,L.tickIncrement(oe,C.size,!1,E)].map(T.l2r)},K=L.tickFirst(Q);K>T.r2l(oe)&&(K=L.tickIncrement(K,C.size,!0,E)),Z.start=T.l2r(K),q||P.nestedProperty(f,d+".start").set(Z.start)}var se=C.end,ne=T.r2l(J.end),fe=ne!==void 0;if((C.endFound||fe)&&ne!==T.r2l(se)){var ye=fe?ne:P.aggNums(Math.max,null,m);Z.end=T.l2r(ye),fe||P.nestedProperty(f,d+".start").set(Z.end)}var Ee="autobin"+h;return f._input[Ee]===!1&&(f._input[d]=P.extendFlat({},f[d]||{}),delete f._input[Ee],delete f[Ee]),[Z,m]}function c(g,f,T,h,s){var d=g._fullLayout,A=u(g,f),w=!1,C=1/0,b=[f],S,x,i;for(S=0;S<A.length;S++)if(x=A[S],x===f)w=!0;else if(!w)i=d._histogramBinOpts[x["_"+h+"bingroup"]],C=Math.min(C,i.size||x[s].size);else{var E=n(g,x,T,h,!0),m=E[0],k=E[2];x["_"+h+"autoBinFinished"]=1,x["_"+h+"pos0"]=E[1],k?b.push(x):C=Math.min(C,m.size)}var I=new Array(b.length);for(S=0;S<b.length;S++)for(var U=b[S]["_"+h+"pos0"],z=0;z<U.length;z++)if(U[z]!==void 0){I[S]=U[z];break}for(isFinite(C)||(C=P.distinctVals(I).minDiff),S=0;S<b.length;S++){x=b[S];var F=x[h+"calendar"],B={start:T.c2r(I[S]-C/2,0,F),end:T.c2r(I[S]+C/2,0,F),size:C};x._input[s]=x[s]=B,i=d._histogramBinOpts[x["_"+h+"bingroup"]],i&&P.extendFlat(i,B)}return f[s]}function u(g,f){for(var T=f.xaxis,h=f.yaxis,s=f.orientation,d=[],A=g._fullData,w=0;w<A.length;w++){var C=A[w];C.type==="histogram"&&C.visible===!0&&C.orientation===s&&C.xaxis===T&&C.yaxis===h&&d.push(C)}return d}function l(g,f,T){var h,s,d;function A(C){d=g[C],g[C]/=2}function w(C){s=g[C],g[C]=d+s/2,d+=s}if(T==="half")if(f==="increasing")for(A(0),h=1;h<g.length;h++)w(h);else for(A(g.length-1),h=g.length-2;h>=0;h--)w(h);else if(f==="increasing"){for(h=1;h<g.length;h++)g[h]+=g[h-1];T==="exclude"&&(g.unshift(0),g.pop())}else{for(h=g.length-2;h>=0;h--)g[h]+=g[h+1];T==="exclude"&&(g.push(0),g.shift())}}G.exports={calc:o,calcAllAutoBins:n}},72406:function(G){G.exports={eventDataKeys:["binNumber"]}},82222:function(G,H,e){var y=e(71828),P=e(41675),a=e(73972).traceIs,L=e(26125),M=y.nestedProperty,v=e(99082).getAxisGroup,p=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],r=["x","y"];G.exports=function(o,n){var c=n._histogramBinOpts={},u=[],l={},g=[],f,T,h,s,d,A,w;function C($,te){return y.coerce(f._input,f,f._module.attributes,$,te)}function b($){return $.orientation==="v"?"x":"y"}function S($,te){var ie=P.getFromTrace({_fullLayout:n},$,te);return ie.type}function x($,te,ie){var ce=$.uid+"__"+ie;te||(te=ce);var J=S($,ie),Z=$[ie+"calendar"]||"",ae=c[te],j=!0;ae&&(J===ae.axType&&Z===ae.calendar?(j=!1,ae.traces.push($),ae.dirs.push(ie)):(te=ce,J!==ae.axType&&y.warn(["Attempted to group the bins of trace",$.index,"set on a","type:"+J,"axis","with bins on","type:"+ae.axType,"axis."].join(" ")),Z!==ae.calendar&&y.warn(["Attempted to group the bins of trace",$.index,"set with a",Z,"calendar","with bins",ae.calendar?"on a "+ae.calendar+" calendar":"w/o a set calendar"].join(" ")))),j&&(c[te]={traces:[$],dirs:[ie],axType:J,calendar:$[ie+"calendar"]||""}),$["_"+ie+"bingroup"]=te}for(d=0;d<o.length;d++)f=o[d],a(f,"histogram")&&(u.push(f),delete f._xautoBinFinished,delete f._yautoBinFinished,a(f,"2dMap")||L(f._input,f,n,C));var i=n._alignmentOpts||{};for(d=0;d<u.length;d++){if(f=u[d],h="",!a(f,"2dMap")){if(s=b(f),n.barmode==="group"&&f.alignmentgroup){var E=f[s+"axis"],m=v(n,E)+f.orientation;(i[m]||{})[f.alignmentgroup]&&(h=m)}!h&&n.barmode!=="overlay"&&(h=v(n,f.xaxis)+v(n,f.yaxis)+b(f))}h?(l[h]||(l[h]=[]),l[h].push(f)):g.push(f)}for(h in l){if(T=l[h],T.length===1){g.push(T[0]);continue}var k=!1;for(T.length&&(f=T[0],k=C("bingroup")),h=k||h,d=0;d<T.length;d++){f=T[d];var I=f._input.bingroup;I&&I!==h&&y.warn(["Trace",f.index,"must match","within bingroup",h+".","Ignoring its bingroup:",I,"setting."].join(" ")),f.bingroup=h,x(f,h,b(f))}}for(d=0;d<g.length;d++){f=g[d];var U=C("bingroup");if(a(f,"2dMap"))for(w=0;w<2;w++){s=r[w];var z=C(s+"bingroup",U?U+"__"+s:null);x(f,z,s)}else x(f,U,b(f))}for(h in c){var F=c[h];for(T=F.traces,A=0;A<p.length;A++){var B=p[A],O=B.name,N,Y;if(!(O==="nbins"&&F.sizeFound)){for(d=0;d<T.length;d++){if(f=T[d],s=F.dirs[d],N=B.aStr[s],M(f._input,N).get()!==void 0){F[O]=C(N),F[O+"Found"]=!0;break}Y=(f._autoBin||{})[s]||{},Y[O]&&M(f,N).set(Y[O])}if(O==="start"||O==="end")for(;d<T.length;d++)f=T[d],f["_"+s+"bingroup"]&&(Y=(f._autoBin||{})[s]||{},C(N,Y[O]));O==="nbins"&&!F.sizeFound&&!F.nbinsFound&&(f=T[0],F[O]=C(N))}}}}},11385:function(G,H,e){var y=e(73972),P=e(71828),a=e(7901),L=e(90769).handleText,M=e(98340),v=e(7745);G.exports=function(r,t,o,n){function c(S,x){return P.coerce(r,t,v,S,x)}var u=c("x"),l=c("y"),g=c("cumulative.enabled");g&&(c("cumulative.direction"),c("cumulative.currentbin")),c("text");var f=c("textposition");L(r,t,n,c,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat");var T=c("orientation",l&&!u?"h":"v"),h=T==="v"?"x":"y",s=T==="v"?"y":"x",d=u&&l?Math.min(P.minRowLength(u)&&P.minRowLength(l)):P.minRowLength(t[h]||[]);if(!d){t.visible=!1;return}t._length=d;var A=y.getComponentMethod("calendars","handleTraceDefaults");A(r,t,["x","y"],n);var w=t[s];w&&c("histfunc"),c("histnorm"),c("autobin"+h),M(r,t,c,o,n),P.coerceSelectionMarkerOpacity(t,c);var C=(t.marker.line||{}).color,b=y.getComponentMethod("errorbars","supplyDefaults");b(r,t,C||a.defaultLine,{axis:"y"}),b(r,t,C||a.defaultLine,{axis:"x",inherit:"y"})}},84402:function(G){G.exports=function(e,y,P,a,L){if(e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"zLabelVal"in y&&(e.z=y.zLabelVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),!(P.cumulative||{}).enabled){var M=Array.isArray(L)?a[0].pts[L[0]][L[1]]:a[L].pts;e.pointNumbers=M,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<M.length;p++)v=v.concat(P._indexToPoints[M[p]])}else v=M;e.pointIndices=v}return e}},76440:function(G,H,e){var y=e(95423).hoverPoints,P=e(89298).hoverLabelText;G.exports=function(L,M,v,p,r){var t=y(L,M,v,p,r);if(t){L=t[0];var o=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var c=n.orientation==="h"?"y":"x";L[c+"Label"]=P(L[c+"a"],[o.ph0,o.ph1],n[c+"hoverformat"])}return t}}},36071:function(G,H,e){G.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(G){G.exports={percent:function(H,e){for(var y=H.length,P=100/e,a=0;a<y;a++)H[a]*=P},probability:function(H,e){for(var y=H.length,P=0;P<y;P++)H[P]/=e},density:function(H,e,y,P){var a=H.length;P=P||1;for(var L=0;L<a;L++)H[L]*=y[L]*P},"probability density":function(H,e,y,P){var a=H.length;P&&(e/=P);for(var L=0;L<a;L++)H[L]*=y[L]/e}}},35361:function(G,H,e){var y=e(7745),P=e(17656),a=e(21606),L=e(9012),M=e(12663).axisHoverFormat,v=e(5386).fF,p=e(5386).si,r=e(50693),t=e(1426).extendFlat;G.exports=t({x:y.x,y:y.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:P("x"),nbinsy:y.nbinsy,ybins:P("y"),autobinx:y.autobinx,autobiny:y.autobiny,bingroup:t({},y.bingroup,{}),xbingroup:t({},y.bingroup,{}),ybingroup:t({},y.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},17562:function(G,H,e){var y=e(71828),P=e(89298),a=e(59575),L=e(36362),M=e(42174),v=e(40965),p=e(72138).calcAllAutoBins;G.exports=function(c,u){var l=P.getFromId(c,u.xaxis),g=P.getFromId(c,u.yaxis),f=u.xcalendar,T=u.ycalendar,h=function(Fe){return l.r2c(Fe,0,f)},s=function(Fe){return g.r2c(Fe,0,T)},d=function(Fe){return l.c2r(Fe,0,f)},A=function(Fe){return g.c2r(Fe,0,T)},w,C,b,S,x=p(c,u,l,"x"),i=x[0],E=x[1],m=p(c,u,g,"y"),k=m[0],I=m[1],U=u._length;E.length>U&&E.splice(U,E.length-U),I.length>U&&I.splice(U,I.length-U);var z=[],F=[],B=[],O=typeof i.size=="string",N=typeof k.size=="string",Y=[],$=[],te=O?Y:i,ie=N?$:k,ce=0,J=[],Z=[],ae=u.histnorm,j=u.histfunc,q=ae.indexOf("density")!==-1,oe=j==="max"||j==="min",Q=oe?null:0,K=a.count,se=L[ae],ne=!1,fe=[],ye=[],Ee="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Ee&&j!=="count"&&(ne=j==="avg",K=a[j]);var Te=i.size,ze=h(i.start),ke=h(i.end)+(ze-P.tickIncrement(ze,Te,!1,f))/1e6;for(w=ze;w<ke;w=P.tickIncrement(w,Te,!1,f))F.push(Q),Y.push(w),ne&&B.push(0);Y.push(w);var Se=F.length,me=(w-ze)/Se,Ce=d(ze+me/2),Ne=k.size,He=s(k.start),De=s(k.end)+(He-P.tickIncrement(He,Ne,!1,T))/1e6;for(w=He;w<De;w=P.tickIncrement(w,Ne,!1,T)){z.push(F.slice()),$.push(w);var Ve=new Array(Se);for(C=0;C<Se;C++)Ve[C]=[];Z.push(Ve),ne&&J.push(B.slice())}$.push(w);var at=z.length,lt=(w-He)/at,$e=A(He+lt/2);q&&(fe=r(F.length,te,me,O),ye=r(z.length,ie,lt,N)),!O&&l.type==="date"&&(te=t(h,te)),!N&&g.type==="date"&&(ie=t(s,ie));var et=!0,ct=!0,dt=new Array(Se),gt=new Array(at),At=1/0,Rt=1/0,Vt=1/0,Je=1/0;for(w=0;w<U;w++){var Ge=E[w],Ie=I[w];b=y.findBin(Ge,te),S=y.findBin(Ie,ie),b>=0&&b<Se&&S>=0&&S<at&&(ce+=K(b,w,z[S],Ee,J[S]),Z[S][b].push(w),et&&(dt[b]===void 0?dt[b]=Ge:dt[b]!==Ge&&(et=!1)),ct&&(gt[S]===void 0?gt[S]=Ie:gt[S]!==Ie&&(ct=!1)),At=Math.min(At,Ge-Y[b]),Rt=Math.min(Rt,Y[b+1]-Ge),Vt=Math.min(Vt,Ie-$[S]),Je=Math.min(Je,$[S+1]-Ie))}if(ne)for(S=0;S<at;S++)ce+=M(z[S],J[S]);if(se)for(S=0;S<at;S++)se(z[S],ce,fe,ye[S]);return{x:E,xRanges:o(Y,et&&dt,At,Rt,l,f),x0:Ce,dx:me,y:I,yRanges:o($,ct&&gt,Vt,Je,g,T),y0:$e,dy:lt,z,pts:Z}};function r(n,c,u,l){var g=new Array(n),f;if(l)for(f=0;f<n;f++)g[f]=1/(c[f+1]-c[f]);else{var T=1/u;for(f=0;f<n;f++)g[f]=T}return g}function t(n,c){return{start:n(c.start),end:n(c.end),size:c.size}}function o(n,c,u,l,g,f){var T,h=n.length-1,s=new Array(h),d=v(u,l,n,g,f);for(T=0;T<h;T++){var A=(c||[])[T];s[T]=A===void 0?[d(n[T]),d(n[T+1],!0)]:[A,A]}return s}},93888:function(G,H,e){var y=e(71828),P=e(75238),a=e(49901),L=e(1586),M=e(58623),v=e(35361);G.exports=function(r,t,o,n){function c(u,l){return y.coerce(r,t,v,u,l)}P(r,t,c,n),t.visible!==!1&&(a(r,t,c,n),L(r,t,n,c,{prefix:"",cLetter:"z"}),c("hovertemplate"),M(c,n),c("xhoverformat"),c("yhoverformat"))}},76128:function(G,H,e){var y=e(46248),P=e(89298).hoverLabelText;G.exports=function(L,M,v,p,r){var t=y(L,M,v,p,r);if(t){L=t[0];var o=L.index,n=o[0],c=o[1],u=L.cd[0],l=u.trace,g=u.xRanges[c],f=u.yRanges[n];return L.xLabel=P(L.xa,[g[0],g[1]],l.xhoverformat),L.yLabel=P(L.ya,[f[0],f[1]],l.yhoverformat),t}}},43905:function(G,H,e){G.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(G,H,e){var y=e(73972),P=e(71828);G.exports=function(L,M,v,p){var r=v("x"),t=v("y"),o=P.minRowLength(r),n=P.minRowLength(t);if(!o||!n){M.visible=!1;return}M._length=Math.min(o,n);var c=y.getComponentMethod("calendars","handleTraceDefaults");c(L,M,["x","y"],p);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(G,H,e){var y=e(35361),P=e(70600),a=e(50693),L=e(12663).axisHoverFormat,M=e(1426).extendFlat;G.exports=M({x:y.x,y:y.y,z:y.z,marker:y.marker,histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:y.xbins,nbinsy:y.nbinsy,ybins:y.ybins,autobinx:y.autobinx,autobiny:y.autobiny,bingroup:y.bingroup,xbingroup:y.xbingroup,ybingroup:y.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:M({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:y.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(G,H,e){var y=e(71828),P=e(75238),a=e(67217),L=e(8724),M=e(58623),v=e(99066);G.exports=function(r,t,o,n){function c(l,g){return y.coerce(r,t,v,l,g)}function u(l){return y.coerce2(r,t,v,l)}P(r,t,c,n),t.visible!==!1&&(a(r,t,c,u),L(r,t,c,n),c("xhoverformat"),c("yhoverformat"),c("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&M(c,n))}},35902:function(G,H,e){G.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(G,H,e){var y=e(5386).fF,P=e(5386).si,a=e(50693),L=e(27670).Y,M=e(34e3),v=e(57564),p=e(45802),r=e(43473),t=e(1426).extendFlat,o=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:o,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:y({},{keys:r.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:M.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},96346:function(G,H,e){var y=e(74875);H.name="icicle",H.plot=function(P,a,L,M){y.plotBasePlot(H.name,P,a,L,M)},H.clean=function(P,a,L,M){y.cleanBasePlot(H.name,P,a,L,M)}},46584:function(G,H,e){var y=e(52147);H.y=function(P,a){return y.calc(P,a)},H.T=function(P){return y._runCrossTraceCalc("icicle",P)}},56524:function(G,H,e){var y=e(71828),P=e(46291),a=e(7901),L=e(27670).c,M=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,r=e(21081),t=r.hasColorscale,o=r.handleDefaults;G.exports=function(c,u,l,g){function f(b,S){return y.coerce(c,u,P,b,S)}var T=f("labels"),h=f("parents");if(!T||!T.length||!h||!h.length){u.visible=!1;return}var s=f("values");s&&s.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),f("tiling.orientation"),f("tiling.flip"),f("tiling.pad");var d=f("text");f("texttemplate"),u.texttemplate||f("textinfo",y.isArrayOrTypedArray(d)?"text+label":"label"),f("hovertext"),f("hovertemplate");var A=f("pathbar.visible"),w="auto";M(c,u,g,f,w,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition"),p(c,u,g,f);var C=u._hasColorscale=t(c,"marker","colors")||(c.marker||{}).coloraxis;C&&o(c,u,g,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",C?1:.7),u._hovered={marker:{line:{width:2,color:a.contrast(g.paper_bgcolor)}}},A&&(f("pathbar.thickness",u.pathbar.textfont.size+2*v),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),L(u,g,f),u._length=null}},90666:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(63893),M=e(21538),v=e(82454).styleOne,p=e(43473),r=e(2791),t=e(83523),o=e(24714).formatSliceLabel,n=!1;G.exports=function(u,l,g,f,T){var h=T.width,s=T.height,d=T.viewX,A=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,b=T.strTransform,S=T.hasTransition,x=T.handleSlicesExit,i=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,m=T.prevEntry,k={},I=u._context.staticPlot,U=u._fullLayout,z=l[0],F=z.trace,B=F.textposition.indexOf("left")!==-1,O=F.textposition.indexOf("right")!==-1,N=F.textposition.indexOf("bottom")!==-1,Y=M(g,[h,s],{flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,orientation:F.tiling.orientation,pad:{inner:F.tiling.pad},maxDepth:F._maxDepth}),$=Y.descendants(),te=1/0,ie=-1/0;$.forEach(function(j){var q=j.depth;q>=F._maxDepth?(j.x0=j.x1=(j.x0+j.x1)/2,j.y0=j.y1=(j.y0+j.y1)/2):(te=Math.min(te,q),ie=Math.max(ie,q))}),f=f.data($,r.getPtId),F._maxVisibleLayers=isFinite(ie)?ie-te+1:0,f.enter().append("g").classed("slice",!0),x(f,n,k,[h,s],w),f.order();var ce=null;if(S&&m){var J=r.getPtId(m);f.each(function(j){ce===null&&r.getPtId(j)===J&&(ce={x0:j.x0,x1:j.x1,y0:j.y0,y1:j.y1})})}var Z=function(){return ce||{x0:0,x1:h,y0:0,y1:s}},ae=f;return S&&(ae=ae.transition().each("end",function(){var j=y.select(this);r.setSliceCursor(j,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ae.each(function(j){j._x0=d(j.x0),j._x1=d(j.x1),j._y0=A(j.y0),j._y1=A(j.y1),j._hoverX=d(j.x1-F.tiling.pad),j._hoverY=A(N?j.y1-F.tiling.pad/2:j.y0+F.tiling.pad/2);var q=y.select(this),oe=P.ensureSingle(q,"path","surface",function(ne){ne.style("pointer-events",I?"none":"all")});S?oe.transition().attrTween("d",function(ne){var fe=i(ne,n,Z(),[h,s],{orientation:F.tiling.orientation,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1});return function(ye){return w(fe(ye))}}):oe.attr("d",w),q.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),oe.call(v,j,F,u,{hovered:!1}),j.x0===j.x1||j.y0===j.y1?j._text="":j._text=o(j,g,F,l,U)||"";var Q=P.ensureSingle(q,"g","slicetext"),K=P.ensureSingle(Q,"text","",function(ne){ne.attr("data-notex",1)}),se=P.ensureUniformFontSize(u,r.determineTextFont(F,j,U.font));K.text(j._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":B?"start":"middle").call(a.font,se).call(L.convertToTspans,u),j.textBB=a.bBox(K.node()),j.transform=C(j,{fontSize:se.size}),j.transform.fontSize=se.size,S?K.transition().attrTween("transform",function(ne){var fe=E(ne,n,Z(),[h,s]);return function(ye){return b(fe(ye))}}):K.attr("transform",b(j))}),ce}},69816:function(G,H,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(G,H,e){var y=e(71828),P=e(92894);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("iciclecolorway",M.colorway),v("extendiciclecolors")}},21538:function(G,H,e){var y=e(674),P=e(14102);G.exports=function(L,M,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",o=v.maxDepth,n=M[0],c=M[1];o&&(n=(L.height+1)*M[0]/Math.min(L.height+1,o),c=(L.height+1)*M[1]/Math.min(L.height+1,o));var u=y.partition().padding(v.pad.inner).size(t?[M[1],n]:[M[0],c])(L);return(t||p||r)&&P(u,M,{swapXY:t,flipX:p,flipY:r}),u}},85596:function(G,H,e){var y=e(80694),P=e(90666);G.exports=function(L,M,v,p){return y(L,M,v,p,{type:"icicle",drawDescendants:P})}},82454:function(G,H,e){var y=e(39898),P=e(7901),a=e(71828),L=e(72597).resizeText,M=e(43467);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(o){var n=y.select(this),c=o[0],u=c.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){y.select(this).call(p,l,u,r)})})}function p(r,t,o,n){var c=t.data.data,u=!t.children,l=c.i,g=a.castOption(o,l,"marker.line.color")||P.defaultLine,f=a.castOption(o,l,"marker.line.width")||0;r.call(M,t,o,n).style("stroke-width",f).call(P.stroke,g).style("opacity",u?o.leaf.opacity:null)}G.exports={style:v,styleOne:p}},17230:function(G,H,e){for(var y=e(9012),P=e(5386).fF,a=e(1426).extendFlat,L=e(51877).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],r=0;r<M.length;r++){var t=L[M[r]];v.push("For the `"+M[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),p.push("For the `"+M[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}G.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},y.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:P({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(G,H,e){var y=e(71828),P=e(51877),a=e(92770),L=e(89298),M=e(71828).maxRowLength,v=e(67395).A;G.exports=function(n,c){var u,l;if(c._hasZ)u=c.z.length,l=M(c.z);else if(c._hasSource){var g=v(c.source);u=g.height,l=g.width}var f=L.getFromId(n,c.xaxis||"x"),T=L.getFromId(n,c.yaxis||"y"),h=f.d2c(c.x0)-c.dx/2,s=T.d2c(c.y0)-c.dy/2,d,A=[h,h+l*c.dx],w=[s,s+u*c.dy];if(f&&f.type==="log")for(d=0;d<l;d++)A.push(h+d*c.dx);if(T&&T.type==="log")for(d=0;d<u;d++)w.push(s+d*c.dy);c._extremes[f._id]=L.findExtremes(f,A),c._extremes[T._id]=L.findExtremes(T,w),c._scaler=t(c);var C={x0:h,y0:s,z:c.z,w:l,h:u};return[C]};function p(o,n,c,u){return function(l){return y.constrain((l-o)*n,c,u)}}function r(o,n){return function(c){return y.constrain(c,o,n)}}function t(o){var n=P.colormodel[o.colormodel],c=n.colormodel||o.colormodel,u=c.length;o._sArray=[];for(var l=0;l<u;l++)n.min[l]!==o.zmin[l]||n.max[l]!==o.zmax[l]?o._sArray.push(p(o.zmin[l],(n.max[l]-n.min[l])/(o.zmax[l]-o.zmin[l]),n.min[l],n.max[l])):o._sArray.push(r(n.min[l],n.max[l]));return function(g){for(var f=g.slice(0,u),T=0;T<u;T++){var h=f[T];if(!a(h))return!1;f[T]=o._sArray[T](h)}return f}}},51877:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(H){return H.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(H){var e=H.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(H){var e=H.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(G,H,e){var y=e(71828),P=e(17230),a=e(51877),L=e(25095).IMAGE_URL_PREFIX;G.exports=function(v,p){function r(n,c){return y.coerce(v,p,P,n,c)}r("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var o;p._hasZ?(r("colormodel","rgb"),o=a.colormodel[p.colormodel],r("zmin",o.zminDflt||o.min),r("zmax",o.zmaxDflt||o.max)):p._hasSource&&(p.colormodel="rgba256",o=a.colormodel[p.colormodel],p.zmin=o.zminDflt,p.zmax=o.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null}},30835:function(G){G.exports=function(e,y){return"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e.color=y.color,e.colormodel=y.trace.colormodel,e.z||(e.z=y.color),e}},67395:function(G,H,e){var y=e(33575),P=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;H.A=function(L){var M=L.replace(P,""),v=new a(M,"base64");return y(v)}},28749:function(G,H,e){var y=e(30211),P=e(71828),a=P.isArrayOrTypedArray,L=e(51877);G.exports=function(v,p,r){var t=v.cd[0],o=t.trace,n=v.xa,c=v.ya;if(!(y.inbox(p-t.x0,p-(t.x0+t.w*o.dx),0)>0||y.inbox(r-t.y0,r-(t.y0+t.h*o.dy),0)>0)){var u=Math.floor((p-t.x0)/o.dx),l=Math.floor(Math.abs(r-t.y0)/o.dy),g;if(o._hasZ?g=t.z[l][u]:o._hasSource&&(g=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!g){var f=t.hi||o.hoverinfo,T;if(f){var h=f.split("+");h.indexOf("all")!==-1&&(h=["color"]),h.indexOf("color")!==-1&&(T=!0)}var s=L.colormodel[o.colormodel],d=s.colormodel||o.colormodel,A=d.length,w=o._scaler(g),C=s.suffix,b=[];(o.hovertemplate||T)&&(b.push("["+[w[0]+C[0],w[1]+C[1],w[2]+C[2]].join(", ")),A===4&&b.push(", "+w[3]+C[3]),b.push("]"),b=b.join(""),v.extraText=d.toUpperCase()+": "+b);var S;a(o.hovertext)&&a(o.hovertext[l])?S=o.hovertext[l][u]:a(o.text)&&a(o.text[l])&&(S=o.text[l][u]);var x=c.c2p(t.y0+(l+.5)*o.dy),i=t.x0+(u+.5)*o.dx,E=t.y0+(l+.5)*o.dy,m="["+g.slice(0,o.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*o.dx),x1:n.c2p(t.x0+(u+1)*o.dx),y0:x,y1:x,color:w,xVal:i,xLabelVal:i,yVal:E,yLabelVal:E,zLabelVal:m,text:S,hovertemplateLabels:{zLabel:m,colorLabel:b,"color[0]Label":w[0]+C[0],"color[1]Label":w[1]+C[1],"color[2]Label":w[2]+C[2],"color[3]Label":w[3]+C[3]}})]}}}},94507:function(G,H,e){G.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(G,H,e){var y=e(39898),P=e(71828),a=P.strTranslate,L=e(77922),M=e(51877),v=e(3883),p=e(32396).STYLE;G.exports=function(t,o,n,c){var u=o.xaxis,l=o.yaxis,g=!t._context._exportedPlot&&v();P.makeTraceGroups(c,n,"im").each(function(f){var T=y.select(this),h=f[0],s=h.trace,d=(s.zsmooth==="fast"||s.zsmooth===!1&&g)&&!s._hasZ&&s._hasSource&&u.type==="linear"&&l.type==="linear";s._realImage=d;var A=h.z,w=h.x0,C=h.y0,b=h.w,S=h.h,x=s.dx,i=s.dy,E,m,k,I,U,z;for(z=0;E===void 0&&z<b;)E=u.c2p(w+z*x),z++;for(z=b;m===void 0&&z>0;)m=u.c2p(w+z*x),z--;for(z=0;I===void 0&&z<S;)I=l.c2p(C+z*i),z++;for(z=S;U===void 0&&z>0;)U=l.c2p(C+z*i),z--;if(m<E&&(k=m,m=E,E=k),U<I&&(k=I,I=U,U=k),!d){var F=.5;E=Math.max(-F*u._length,E),m=Math.min((1+F)*u._length,m),I=Math.max(-F*l._length,I),U=Math.min((1+F)*l._length,U)}var B=Math.round(m-E),O=Math.round(U-I),N=B<=0||O<=0;if(N){var Y=T.selectAll("image").data([]);Y.exit().remove();return}function $(Q){var K=document.createElement("canvas");K.width=B,K.height=O;var se=K.getContext("2d",{willReadFrequently:!0}),ne=function(He){return P.constrain(Math.round(u.c2p(w+He*x)-E),0,B)},fe=function(He){return P.constrain(Math.round(l.c2p(C+He*i)-I),0,O)},ye=M.colormodel[s.colormodel],Ee=ye.colormodel||s.colormodel,Te=ye.fmt,ze;for(z=0;z<h.w;z++){var ke=ne(z),Se=ne(z+1);if(!(Se===ke||isNaN(Se)||isNaN(ke)))for(var me=0;me<h.h;me++){var Ce=fe(me),Ne=fe(me+1);Ne===Ce||isNaN(Ne)||isNaN(Ce)||!Q(z,me)||(ze=s._scaler(Q(z,me)),ze?se.fillStyle=Ee+"("+Te(ze).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(ke,Ce,Se-ke,Ne-Ce))}}return K}var te=T.selectAll("image").data([f]);te.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),te.exit().remove();var ie=s.zsmooth===!1?p:"";if(d){var ce=P.simpleMap(u.range,u.r2l),J=P.simpleMap(l.range,l.r2l),Z=ce[1]<ce[0],ae=J[1]>J[0];if(Z||ae){var j=E+B/2,q=I+O/2;ie+="transform:"+a(j+"px",q+"px")+"scale("+(Z?-1:1)+","+(ae?-1:1)+")"+a(-j+"px",-q+"px")+";"}}te.attr("style",ie);var oe=new Promise(function(Q){if(s._hasZ)Q();else if(s._hasSource)if(s._canvas&&s._canvas.el.width===b&&s._canvas.el.height===S&&s._canvas.source===s.source)Q();else{var K=document.createElement("canvas");K.width=b,K.height=S;var se=K.getContext("2d",{willReadFrequently:!0});s._image=s._image||new Image;var ne=s._image;ne.onload=function(){se.drawImage(ne,0,0),s._canvas={el:K,source:s.source},Q()},ne.setAttribute("src",s.source)}}).then(function(){var Q,K;if(s._hasZ)K=$(function(fe,ye){var Ee=A[ye][fe];return P.isTypedArray(Ee)&&(Ee=Array.from(Ee)),Ee}),Q=K.toDataURL("image/png");else if(s._hasSource)if(d)Q=s.source;else{var se=s._canvas.el.getContext("2d",{willReadFrequently:!0}),ne=se.getImageData(0,0,b,S).data;K=$(function(fe,ye){var Ee=4*(ye*b+fe);return[ne[Ee],ne[Ee+1],ne[Ee+2],ne[Ee+3]]}),Q=K.toDataURL("image/png")}te.attr({"xlink:href":Q,height:O,width:B,x:E,y:I})});t._promises.push(oe)})}},12826:function(G,H,e){var y=e(39898);G.exports=function(a){y.select(a).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},54846:function(G,H,e){var y=e(1426).extendFlat,P=e(1426).extendDeep,a=e(30962).overrideAll,L=e(41940),M=e(22399),v=e(27670).Y,p=e(13838),r=e(44467).templatedArray,t=e(22372),o=e(12663).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),c={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",P({},c,{range:u}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:y({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:o("value")},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:o("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},c,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:u,visible:y({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:y({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:y({},c.line.color,{}),width:y({},c.line.width,{dflt:1}),editType:"plot"},thickness:y({},c.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(G,H,e){var y=e(74875);H.name="indicator",H.plot=function(P,a,L,M){y.plotBasePlot(H.name,P,a,L,M)},H.clean=function(P,a,L,M){y.cleanBasePlot(H.name,P,a,L,M)}},24667:function(G){function H(e,y){var P=[],a=y.value;typeof y._lastValue!="number"&&(y._lastValue=y.value);var L=y._lastValue,M=L;return y._hasDelta&&typeof y.delta.reference=="number"&&(M=y.delta.reference),P[0]={y:a,lastY:L,delta:a-M,relativeDelta:(a-M)/M},P}G.exports={calc:H}},84577:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(G,H,e){var y=e(71828),P=e(54846),a=e(27670).c,L=e(44467),M=e(85501),v=e(84577),p=e(26218),r=e(38701),t=e(96115),o=e(89426);function n(u,l,g,f){function T(U,z){return y.coerce(u,l,P,U,z)}a(l,f,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var h=T("value");l._range=[0,typeof h=="number"?1.5*h:1];var s=new Array(2),d;l._hasNumber&&(T("number.valueformat"),T("number.font.color",f.font.color),T("number.font.family",f.font.family),T("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,s[0]=!0),T("number.prefix"),T("number.suffix"),d=l.number.font.size);var A;l._hasDelta&&(T("delta.font.color",f.font.color),T("delta.font.family",f.font.family),T("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),s[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),A=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||s[0])&&(!l._hasDelta||s[1])||!1,T("title.font.color",f.font.color),T("title.font.family",f.font.family),T("title.font.size",.25*(d||A||v.defaultNumberFontSize)),T("title.text");var w,C,b,S;function x(U,z){return y.coerce(w,C,P.gauge,U,z)}function i(U,z){return y.coerce(b,S,P.gauge.axis,U,z)}if(l._hasGauge){w=u.gauge,w||(w={}),C=L.newContainer(l,"gauge"),x("shape");var E=l._isBullet=l.gauge.shape==="bullet";E||T("title.align","center");var m=l._isAngular=l.gauge.shape==="angular";m||T("align","center"),x("bgcolor",f.paper_bgcolor),x("borderwidth"),x("bordercolor"),x("bar.color"),x("bar.line.color"),x("bar.line.width");var k=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);x("bar.thickness",k),M(w,C,{name:"steps",handleItemDefaults:c}),x("threshold.value"),x("threshold.thickness"),x("threshold.line.width"),x("threshold.line.color"),b={},w&&(b=w.axis||{}),S=L.newContainer(C,"axis"),i("visible"),l._range=i("range",l._range);var I={outerTicks:!0};p(b,S,i,"linear"),o(b,S,i,"linear",I),t(b,S,i,"linear",I),r(b,S,i,I)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function c(u,l){function g(f,T){return y.coerce(u,l,P.gauge.steps,f,T)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}G.exports={supplyDefaults:n}},15154:function(G,H,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(G,H,e){var y=e(39898),P=e(81684).sX,a=e(81684).k4,L=e(71828),M=L.strScale,v=L.strTranslate,p=L.rad2deg,r=e(18783).MID_SHIFT,t=e(91424),o=e(84577),n=e(63893),c=e(89298),u=e(71453),l=e(52830),g=e(13838),f=e(7901),T={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},s=/[yzafpnmkMGTPEZY]/;function d(I){return I&&I.duration>0}G.exports=function(U,z,F,B){var O=U._fullLayout,N;d(F)&&B&&(N=B()),L.makeTraceGroups(O._indicatorlayer,z,"trace").each(function(Y){var $=Y[0],te=$.trace,ie=y.select(this),ce=te._hasGauge,J=te._isAngular,Z=te._isBullet,ae=te.domain,j={w:O._size.w*(ae.x[1]-ae.x[0]),h:O._size.h*(ae.y[1]-ae.y[0]),l:O._size.l+O._size.w*ae.x[0],r:O._size.r+O._size.w*(1-ae.x[1]),t:O._size.t+O._size.h*(1-ae.y[1]),b:O._size.b+O._size.h*ae.y[0]},q=j.l+j.w/2,oe=j.t+j.h/2,Q=Math.min(j.w/2,j.h),K=o.innerRadius*Q,se,ne,fe,ye=te.align||"center";if(ne=oe,!ce)se=j.l+h[ye]*j.w,fe=function(De){return i(De,j.w,j.h)};else if(J&&(se=q,ne=oe+Q/2,fe=function(De){return E(De,.9*K)}),Z){var Ee=o.bulletPadding,Te=1-o.bulletNumberDomainSize+Ee;se=j.l+(Te+(1-Te)*h[ye])*j.w,fe=function(De){return i(De,(o.bulletNumberDomainSize-Ee)*j.w,j.h)}}C(U,ie,Y,{numbersX:se,numbersY:ne,numbersScaler:fe,transitionOpts:F,onComplete:N});var ze,ke;ce&&(ze={range:te.gauge.axis.range,color:te.gauge.bgcolor,line:{color:te.gauge.bordercolor,width:0},thickness:1},ke={range:te.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:te.gauge.bordercolor,width:te.gauge.borderwidth},thickness:1});var Se=ie.selectAll("g.angular").data(J?Y:[]);Se.exit().remove();var me=ie.selectAll("g.angularaxis").data(J?Y:[]);me.exit().remove(),J&&w(U,ie,Y,{radius:Q,innerRadius:K,gauge:Se,layer:me,size:j,gaugeBg:ze,gaugeOutline:ke,transitionOpts:F,onComplete:N});var Ce=ie.selectAll("g.bullet").data(Z?Y:[]);Ce.exit().remove();var Ne=ie.selectAll("g.bulletaxis").data(Z?Y:[]);Ne.exit().remove(),Z&&A(U,ie,Y,{gauge:Ce,layer:Ne,size:j,gaugeBg:ze,gaugeOutline:ke,transitionOpts:F,onComplete:N});var He=ie.selectAll("text.title").data(Y);He.exit().remove(),He.enter().append("text").classed("title",!0),He.attr("text-anchor",function(){return Z?T.right:T[te.title.align]}).text(te.title.text).call(t.font,te.title.font).call(n.convertToTspans,U),He.attr("transform",function(){var De=j.l+j.w*h[te.title.align],Ve,at=o.titlePadding,lt=t.bBox(He.node());if(ce){if(J)if(te.gauge.axis.visible){var $e=t.bBox(me.node());Ve=$e.top-at-lt.bottom}else Ve=j.t+j.h/2-Q/2-lt.bottom-at;Z&&(Ve=ne-(lt.top+lt.bottom)/2,De=j.l-o.bulletPadding*j.w)}else Ve=te._numbersTop-at-lt.bottom;return v(De,Ve)})})};function A(I,U,z,F){var B=z[0].trace,O=F.gauge,N=F.layer,Y=F.gaugeBg,$=F.gaugeOutline,te=F.size,ie=B.domain,ce=F.transitionOpts,J=F.onComplete,Z,ae,j,q,oe;O.enter().append("g").classed("bullet",!0),O.attr("transform",v(te.l,te.t)),N.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),N.selectAll("g.xbulletaxistick,path,text").remove();var Q=te.h,K=B.gauge.bar.thickness*Q,se=ie.x[0],ne=ie.x[0]+(ie.x[1]-ie.x[0])*(B._hasNumber||B._hasDelta?1-o.bulletNumberDomainSize:1);Z=x(I,B.gauge.axis),Z._id="xbulletaxis",Z.domain=[se,ne],Z.setScale(),ae=c.calcTicks(Z),j=c.makeTransTickFn(Z),q=c.getTickSigns(Z)[2],oe=te.t+te.h,Z.visible&&(c.drawTicks(I,Z,{vals:Z.ticks==="inside"?c.clipEnds(Z,ae):ae,layer:N,path:c.makeTickPath(Z,oe,q),transFn:j}),c.drawLabels(I,Z,{vals:ae,layer:N,transFn:j,labelFns:c.makeLabelFns(Z,oe)}));function fe(me){me.attr("width",function(Ce){return Math.max(0,Z.c2p(Ce.range[1])-Z.c2p(Ce.range[0]))}).attr("x",function(Ce){return Z.c2p(Ce.range[0])}).attr("y",function(Ce){return .5*(1-Ce.thickness)*Q}).attr("height",function(Ce){return Ce.thickness*Q})}var ye=[Y].concat(B.gauge.steps),Ee=O.selectAll("g.bg-bullet").data(ye);Ee.enter().append("g").classed("bg-bullet",!0).append("rect"),Ee.select("rect").call(fe).call(b),Ee.exit().remove();var Te=O.selectAll("g.value-bullet").data([B.gauge.bar]);Te.enter().append("g").classed("value-bullet",!0).append("rect"),Te.select("rect").attr("height",K).attr("y",(Q-K)/2).call(b),d(ce)?Te.select("rect").transition().duration(ce.duration).ease(ce.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,Z.c2p(Math.min(B.gauge.axis.range[1],z[0].y)))):Te.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,Z.c2p(Math.min(B.gauge.axis.range[1],z[0].y))):0),Te.exit().remove();var ze=z.filter(function(){return B.gauge.threshold.value||B.gauge.threshold.value===0}),ke=O.selectAll("g.threshold-bullet").data(ze);ke.enter().append("g").classed("threshold-bullet",!0).append("line"),ke.select("line").attr("x1",Z.c2p(B.gauge.threshold.value)).attr("x2",Z.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*Q).call(f.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),ke.exit().remove();var Se=O.selectAll("g.gauge-outline").data([$]);Se.enter().append("g").classed("gauge-outline",!0).append("rect"),Se.select("rect").call(fe).call(b),Se.exit().remove()}function w(I,U,z,F){var B=z[0].trace,O=F.size,N=F.radius,Y=F.innerRadius,$=F.gaugeBg,te=F.gaugeOutline,ie=[O.l+O.w/2,O.t+O.h/2+N/2],ce=F.gauge,J=F.layer,Z=F.transitionOpts,ae=F.onComplete,j=Math.PI/2;function q(et){var ct=B.gauge.axis.range[0],dt=B.gauge.axis.range[1],gt=(et-ct)/(dt-ct)*Math.PI-j;return gt<-j?-j:gt>j?j:gt}function oe(et){return y.svg.arc().innerRadius((Y+N)/2-et/2*(N-Y)).outerRadius((Y+N)/2+et/2*(N-Y)).startAngle(-j)}function Q(et){et.attr("d",function(ct){return oe(ct.thickness).startAngle(q(ct.range[0])).endAngle(q(ct.range[1]))()})}var K,se,ne,fe;ce.enter().append("g").classed("angular",!0),ce.attr("transform",v(ie[0],ie[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),K=x(I,B.gauge.axis),K.type="linear",K.range=B.gauge.axis.range,K._id="xangularaxis",K.ticklabeloverflow="allow",K.setScale();var ye=function(et){return(K.range[0]-et.x)/(K.range[1]-K.range[0])*Math.PI+Math.PI},Ee={},Te=c.makeLabelFns(K,0),ze=Te.labelStandoff;Ee.xFn=function(et){var ct=ye(et);return Math.cos(ct)*ze},Ee.yFn=function(et){var ct=ye(et),dt=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(ze+et.fontSize*dt)+Math.abs(Math.cos(ct))*(et.fontSize*r)},Ee.anchorFn=function(et){var ct=ye(et),dt=Math.cos(ct);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Ee.heightFn=function(et,ct,dt){var gt=ye(et);return-.5*(1+Math.sin(gt))*dt};var ke=function(et){return v(ie[0]+N*Math.cos(et),ie[1]-N*Math.sin(et))};ne=function(et){return ke(ye(et))};var Se=function(et){var ct=ye(et);return ke(ct)+"rotate("+-p(ct)+")"};if(se=c.calcTicks(K),fe=c.getTickSigns(K)[2],K.visible){fe=K.ticks==="inside"?-1:1;var me=(K.linewidth||1)/2;c.drawTicks(I,K,{vals:se,layer:J,path:"M"+fe*me+",0h"+fe*K.ticklen,transFn:Se}),c.drawLabels(I,K,{vals:se,layer:J,transFn:ne,labelFns:Ee})}var Ce=[$].concat(B.gauge.steps),Ne=ce.selectAll("g.bg-arc").data(Ce);Ne.enter().append("g").classed("bg-arc",!0).append("path"),Ne.select("path").call(Q).call(b),Ne.exit().remove();var He=oe(B.gauge.bar.thickness),De=ce.selectAll("g.value-arc").data([B.gauge.bar]);De.enter().append("g").classed("value-arc",!0).append("path");var Ve=De.select("path");d(Z)?(Ve.transition().duration(Z.duration).ease(Z.easing).each("end",function(){ae&&ae()}).each("interrupt",function(){ae&&ae()}).attrTween("d",S(He,q(z[0].lastY),q(z[0].y))),B._lastValue=z[0].y):Ve.attr("d",typeof z[0].y=="number"?He.endAngle(q(z[0].y)):"M0,0Z"),Ve.call(b),De.exit().remove(),Ce=[];var at=B.gauge.threshold.value;(at||at===0)&&Ce.push({range:[at,at],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var lt=ce.selectAll("g.threshold-arc").data(Ce);lt.enter().append("g").classed("threshold-arc",!0).append("path"),lt.select("path").call(Q).call(b),lt.exit().remove();var $e=ce.selectAll("g.gauge-outline").data([te]);$e.enter().append("g").classed("gauge-outline",!0).append("path"),$e.select("path").call(Q).call(b),$e.exit().remove()}function C(I,U,z,F){var B=z[0].trace,O=F.numbersX,N=F.numbersY,Y=B.align||"center",$=T[Y],te=F.transitionOpts,ie=F.onComplete,ce=L.ensureSingle(U,"g","numbers"),J,Z,ae,j=[];B._hasNumber&&j.push("number"),B._hasDelta&&(j.push("delta"),B.delta.position==="left"&&j.reverse());var q=ce.selectAll("text").data(j);q.enter().append("text"),q.attr("text-anchor",function(){return $}).attr("class",function(ke){return ke}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();function oe(ke,Se,me,Ce){if(ke.match("s")&&me>=0!=Ce>=0&&!Se(me).slice(-1).match(s)&&!Se(Ce).slice(-1).match(s)){var Ne=ke.slice().replace("s","f").replace(/\d+/,function(De){return parseInt(De)-1}),He=x(I,{tickformat:Ne});return function(De){return Math.abs(De)<1?c.tickText(He,De).text:Se(De)}}else return Se}function Q(){var ke=x(I,{tickformat:B.number.valueformat},B._range);ke.setScale(),c.prepTicks(ke);var Se=function(De){return c.tickText(ke,De).text},me=B.number.suffix,Ce=B.number.prefix,Ne=ce.select("text.number");function He(){var De=typeof z[0].y=="number"?Ce+Se(z[0].y)+me:"-";Ne.text(De).call(t.font,B.number.font).call(n.convertToTspans,I)}return d(te)?Ne.transition().duration(te.duration).ease(te.easing).each("end",function(){He(),ie&&ie()}).each("interrupt",function(){He(),ie&&ie()}).attrTween("text",function(){var De=y.select(this),Ve=a(z[0].lastY,z[0].y);B._lastValue=z[0].y;var at=oe(B.number.valueformat,Se,z[0].lastY,z[0].y);return function(lt){De.text(Ce+at(Ve(lt))+me)}}):He(),J=m(Ce+Se(z[0].y)+me,B.number.font,$,I),Ne}function K(){var ke=x(I,{tickformat:B.delta.valueformat},B._range);ke.setScale(),c.prepTicks(ke);var Se=function(lt){return c.tickText(ke,lt).text},me=B.delta.suffix,Ce=B.delta.prefix,Ne=function(lt){var $e=B.delta.relative?lt.relativeDelta:lt.delta;return $e},He=function(lt,$e){return lt===0||typeof lt!="number"||isNaN(lt)?"-":(lt>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+Ce+$e(lt)+me},De=function(lt){return lt.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};B._deltaLastValue===void 0&&(B._deltaLastValue=Ne(z[0]));var Ve=ce.select("text.delta");Ve.call(t.font,B.delta.font).call(f.fill,De({delta:B._deltaLastValue}));function at(){Ve.text(He(Ne(z[0]),Se)).call(f.fill,De(z[0])).call(n.convertToTspans,I)}return d(te)?Ve.transition().duration(te.duration).ease(te.easing).tween("text",function(){var lt=y.select(this),$e=Ne(z[0]),et=B._deltaLastValue,ct=oe(B.delta.valueformat,Se,et,$e),dt=a(et,$e);return B._deltaLastValue=$e,function(gt){lt.text(He(dt(gt),ct)),lt.call(f.fill,De({delta:dt(gt)}))}}).each("end",function(){at(),ie&&ie()}).each("interrupt",function(){at(),ie&&ie()}):at(),Z=m(He(Ne(z[0]),Se),B.delta.font,$,I),Ve}var se=B.mode+B.align,ne;if(B._hasDelta&&(ne=K(),se+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,se+=B.delta.increasing.symbol+B.delta.decreasing.symbol,ae=Z),B._hasNumber&&(Q(),se+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,ae=J),B._hasDelta&&B._hasNumber){var fe=[(J.left+J.right)/2,(J.top+J.bottom)/2],ye=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],Ee,Te,ze=.75*B.delta.font.size;B.delta.position==="left"&&(Ee=k(B,"deltaPos",0,-1*(J.width*h[B.align]+Z.width*(1-h[B.align])+ze),se,Math.min),Te=fe[1]-ye[1],ae={width:J.width+Z.width+ze,height:Math.max(J.height,Z.height),left:Z.left+Ee,right:J.right,top:Math.min(J.top,Z.top+Te),bottom:Math.max(J.bottom,Z.bottom+Te)}),B.delta.position==="right"&&(Ee=k(B,"deltaPos",0,J.width*(1-h[B.align])+Z.width*h[B.align]+ze,se,Math.max),Te=fe[1]-ye[1],ae={width:J.width+Z.width+ze,height:Math.max(J.height,Z.height),left:J.left,right:Z.right+Ee,top:Math.min(J.top,Z.top+Te),bottom:Math.max(J.bottom,Z.bottom+Te)}),B.delta.position==="bottom"&&(Ee=null,Te=Z.height,ae={width:Math.max(J.width,Z.width),height:J.height+Z.height,left:Math.min(J.left,Z.left),right:Math.max(J.right,Z.right),top:J.bottom-J.height,bottom:J.bottom+Z.height}),B.delta.position==="top"&&(Ee=null,Te=J.top,ae={width:Math.max(J.width,Z.width),height:J.height+Z.height,left:Math.min(J.left,Z.left),right:Math.max(J.right,Z.right),top:J.bottom-J.height-Z.height,bottom:J.bottom}),ne.attr({dx:Ee,dy:Te})}(B._hasNumber||B._hasDelta)&&ce.attr("transform",function(){var ke=F.numbersScaler(ae);se+=ke[2];var Se=k(B,"numbersScale",1,ke[0],se,Math.min),me;B._scaleNumbers||(Se=1),B._isAngular?me=N-Se*ae.bottom:me=N-Se*(ae.top+ae.bottom)/2,B._numbersTop=Se*ae.top+me;var Ce=ae[Y];Y==="center"&&(Ce=(ae.left+ae.right)/2);var Ne=O-Se*Ce;return Ne=k(B,"numbersTranslate",0,Ne,se,Math.max),v(Ne,me)+M(Se)})}function b(I){I.each(function(U){f.stroke(y.select(this),U.line.color)}).each(function(U){f.fill(y.select(this),U.color)}).style("stroke-width",function(U){return U.line.width})}function S(I,U,z){return function(){var F=P(U,z);return function(B){return I.endAngle(F(B))()}}}function x(I,U,z){var F=I._fullLayout,B=L.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},U),O={type:"linear",_id:"x"+U._id},N={letter:"x",font:F.font,noHover:!0,noTickson:!0};function Y($,te){return L.coerce(B,O,g,$,te)}return u(B,O,Y,N,F),l(B,O,Y,N),O}function i(I,U,z){var F=Math.min(U/I.width,z/I.height);return[F,I,U+"x"+z]}function E(I,U){var z=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),F=U/z;return[F,I,U]}function m(I,U,z,F){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),O=y.select(B);return O.text(I).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",I).call(n.convertToTspans,F).call(t.font,U),t.bBox(O.node())}function k(I,U,z,F,B,O){var N="_cache"+U;I[N]&&I[N].key===B||(I[N]={key:B,value:z});var Y=L.aggNums(O,null,[I[N].value,F],2);return I[N].value=Y,Y}},16249:function(G,H,e){var y=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),M=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var o=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},M.showlegend,{dflt:!1})},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},M.hoverinfo)}),"calc","nested");o.flatshading.dflt=!0,o.lighting.facenormalsepsilon.dflt=0,o.x.editType=o.y.editType=o.z.editType=o.value.editType="calc+clearAxisTypes",o.transforms=void 0},56959:function(G,H,e){var y=e(78803),P=e(88489).processGrid,a=e(88489).filter;G.exports=function(M,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,o=0;o<v._len;o++){var n=v._value[o];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,y(M,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(G,H,e){var y=e(9330).gl_mesh3d,P=e(81697).parseColorScale,a=e(71828).isArrayOrTypedArray,L=e(78614),M=e(21081).extractOpts,v=e(90060),p=function(u,l){for(var g=l.length-1;g>0;g--){var f=Math.min(l[g],l[g-1]),T=Math.max(l[g],l[g-1]);if(T>f&&f<u&&u<=T)return{id:g,distRatio:(T-u)/(T-f)}}return{id:0,distRatio:0}};function r(u,l,g){this.scene=u,this.uid=g,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,g=this.data._meshX[l],f=this.data._meshY[l],T=this.data._meshZ[l],h=this.data._Ys.length,s=this.data._Zs.length,d=p(g,this.data._Xs).id,A=p(f,this.data._Ys).id,w=p(T,this.data._Zs).id,C=u.index=w+s*A+s*h*d;u.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var b=this.data.hovertext||this.data.text;return a(b)&&b[C]!==void 0?u.textLabel=b[C]:b&&(u.textLabel=b),!0}},t.update=function(u){var l=this.scene,g=l.fullSceneLayout;this.data=n(u);function f(A,w,C,b){return w.map(function(S){return A.d2l(S,0,b)*C})}var T=v(f(g.xaxis,u._meshX,l.dataScale[0],u.xcalendar),f(g.yaxis,u._meshY,l.dataScale[1],u.ycalendar),f(g.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),h=v(u._meshI,u._meshJ,u._meshK),s={positions:T,cells:h,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:L(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=M(u);s.vertexIntensity=u._meshIntensity,s.vertexIntensityBounds=[d.min,d.max],s.colormap=P(u),this.mesh.update(s)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var o=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,g=u.spaceframe.show,f=u.surface.fill,T=u.spaceframe.fill,h=!1,s=!1,d=0,A,w,C=u._Xs,b=u._Ys,S=u._Zs,x=C.length,i=b.length,E=S.length,m=o.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),k=function(Ie,Fe,Pe){switch(m){case 5:return Pe+E*Fe+E*i*Ie;case 4:return Pe+E*Ie+E*x*Fe;case 3:return Fe+i*Pe+i*E*Ie;case 2:return Fe+i*Ie+i*x*Pe;case 1:return Ie+x*Pe+x*E*Fe;default:return Ie+x*Fe+x*i*Pe}},I=u._minValues,U=u._maxValues,z=u._vMin,F=u._vMax,B,O,N,Y;function $(Ie,Fe,Pe){for(var xe=Y.length,ge=w;ge<xe;ge++)if(Ie===B[ge]&&Fe===O[ge]&&Pe===N[ge])return ge;return-1}function te(){w=A}function ie(){B=[],O=[],N=[],Y=[],A=0,te()}function ce(Ie,Fe,Pe,xe){return B.push(Ie),O.push(Fe),N.push(Pe),Y.push(xe),A++,A-1}function J(Ie,Fe,Pe){return u._meshI.push(Ie),u._meshJ.push(Fe),u._meshK.push(Pe),d++,d-1}function Z(Ie,Fe,Pe){for(var xe=[],ge=0;ge<Ie.length;ge++)xe[ge]=(Ie[ge]+Fe[ge]+Pe[ge])/3;return xe}function ae(Ie,Fe,Pe){for(var xe=[],ge=0;ge<Ie.length;ge++)xe[ge]=Ie[ge]*(1-Pe)+Pe*Fe[ge];return xe}var j;function q(Ie){j=Ie}function oe(Ie,Fe){var Pe=Ie[0],xe=Ie[1],ge=Ie[2],Me=Z(Pe,xe,ge),Ae=Math.sqrt(1-j),Ue=ae(Me,Pe,Ae),Ze=ae(Me,xe,Ae),tt=ae(Me,ge,Ae),ft=Fe[0],pt=Fe[1],Yt=Fe[2];return{xyzv:[[Pe,xe,Ze],[Ze,Ue,Pe],[xe,ge,tt],[tt,Ze,xe],[ge,Pe,Ue],[Ue,tt,ge]],abc:[[ft,pt,-1],[-1,-1,ft],[pt,Yt,-1],[-1,-1,pt],[Yt,ft,-1],[-1,-1,Yt]]}}function Q(Ie,Fe){return Ie==="all"||Ie===null?!0:Ie.indexOf(Fe)>-1}function K(Ie,Fe){return Ie===null?Fe:Ie}function se(Ie,Fe,Pe){te();var xe=[Fe],ge=[Pe];if(j>=1)xe=[Fe],ge=[Pe];else if(j>0){var Me=oe(Fe,Pe);xe=Me.xyzv,ge=Me.abc}for(var Ae=0;Ae<xe.length;Ae++){Fe=xe[Ae],Pe=ge[Ae];for(var Ue=[],Ze=0;Ze<3;Ze++){var tt=Fe[Ze][0],ft=Fe[Ze][1],pt=Fe[Ze][2],Yt=Fe[Ze][3],Jt=Pe[Ze]>-1?Pe[Ze]:$(tt,ft,pt);Jt>-1?Ue[Ze]=Jt:Ue[Ze]=ce(tt,ft,pt,K(Ie,Yt))}J(Ue[0],Ue[1],Ue[2])}}function ne(Ie,Fe,Pe){var xe=function(ge,Me,Ae){se(Ie,[Fe[ge],Fe[Me],Fe[Ae]],[Pe[ge],Pe[Me],Pe[Ae]])};xe(0,1,2),xe(2,3,0)}function fe(Ie,Fe,Pe){var xe=function(ge,Me,Ae){se(Ie,[Fe[ge],Fe[Me],Fe[Ae]],[Pe[ge],Pe[Me],Pe[Ae]])};xe(0,1,2),xe(3,0,1),xe(2,3,0),xe(1,2,3)}function ye(Ie,Fe,Pe,xe){var ge=Ie[3];ge<Pe&&(ge=Pe),ge>xe&&(ge=xe);for(var Me=(Ie[3]-ge)/(Ie[3]-Fe[3]+1e-9),Ae=[],Ue=0;Ue<4;Ue++)Ae[Ue]=(1-Me)*Ie[Ue]+Me*Fe[Ue];return Ae}function Ee(Ie,Fe,Pe){return Ie>=Fe&&Ie<=Pe}function Te(Ie){var Fe=.001*(F-z);return Ie>=z-Fe&&Ie<=F+Fe}function ze(Ie){for(var Fe=[],Pe=0;Pe<4;Pe++){var xe=Ie[Pe];Fe.push([u._x[xe],u._y[xe],u._z[xe],u._value[xe]])}return Fe}var ke=3;function Se(Ie,Fe,Pe,xe,ge,Me){Me||(Me=1),Pe=[-1,-1,-1];var Ae=!1,Ue=[Ee(Fe[0][3],xe,ge),Ee(Fe[1][3],xe,ge),Ee(Fe[2][3],xe,ge)];if(!Ue[0]&&!Ue[1]&&!Ue[2])return!1;var Ze=function(ft,pt,Yt){return Te(pt[0][3])&&Te(pt[1][3])&&Te(pt[2][3])?(se(ft,pt,Yt),!0):Me<ke?Se(ft,pt,Yt,z,F,++Me):!1};if(Ue[0]&&Ue[1]&&Ue[2])return Ze(Ie,Fe,Pe)||Ae;var tt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ft){if(Ue[ft[0]]&&Ue[ft[1]]&&!Ue[ft[2]]){var pt=Fe[ft[0]],Yt=Fe[ft[1]],Jt=Fe[ft[2]],Tt=ye(Jt,pt,xe,ge),zt=ye(Jt,Yt,xe,ge);Ae=Ze(Ie,[zt,Tt,pt],[-1,-1,Pe[ft[0]]])||Ae,Ae=Ze(Ie,[pt,Yt,zt],[Pe[ft[0]],Pe[ft[1]],-1])||Ae,tt=!0}}),tt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ft){if(Ue[ft[0]]&&!Ue[ft[1]]&&!Ue[ft[2]]){var pt=Fe[ft[0]],Yt=Fe[ft[1]],Jt=Fe[ft[2]],Tt=ye(Yt,pt,xe,ge),zt=ye(Jt,pt,xe,ge);Ae=Ze(Ie,[zt,Tt,pt],[-1,-1,Pe[ft[0]]])||Ae,tt=!0}}),Ae}function me(Ie,Fe,Pe,xe){var ge=!1,Me=ze(Fe),Ae=[Ee(Me[0][3],Pe,xe),Ee(Me[1][3],Pe,xe),Ee(Me[2][3],Pe,xe),Ee(Me[3][3],Pe,xe)];if(!Ae[0]&&!Ae[1]&&!Ae[2]&&!Ae[3])return ge;if(Ae[0]&&Ae[1]&&Ae[2]&&Ae[3])return s&&(ge=fe(Ie,Me,Fe)||ge),ge;var Ue=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ze){if(Ae[Ze[0]]&&Ae[Ze[1]]&&Ae[Ze[2]]&&!Ae[Ze[3]]){var tt=Me[Ze[0]],ft=Me[Ze[1]],pt=Me[Ze[2]],Yt=Me[Ze[3]];if(s)ge=se(Ie,[tt,ft,pt],[Fe[Ze[0]],Fe[Ze[1]],Fe[Ze[2]]])||ge;else{var Jt=ye(Yt,tt,Pe,xe),Tt=ye(Yt,ft,Pe,xe),zt=ye(Yt,pt,Pe,xe);ge=se(null,[Jt,Tt,zt],[-1,-1,-1])||ge}Ue=!0}}),Ue||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ze){if(Ae[Ze[0]]&&Ae[Ze[1]]&&!Ae[Ze[2]]&&!Ae[Ze[3]]){var tt=Me[Ze[0]],ft=Me[Ze[1]],pt=Me[Ze[2]],Yt=Me[Ze[3]],Jt=ye(pt,tt,Pe,xe),Tt=ye(pt,ft,Pe,xe),zt=ye(Yt,ft,Pe,xe),$t=ye(Yt,tt,Pe,xe);s?(ge=se(Ie,[tt,$t,Jt],[Fe[Ze[0]],-1,-1])||ge,ge=se(Ie,[ft,Tt,zt],[Fe[Ze[1]],-1,-1])||ge):ge=ne(null,[Jt,Tt,zt,$t],[-1,-1,-1,-1])||ge,Ue=!0}}),Ue)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ze){if(Ae[Ze[0]]&&!Ae[Ze[1]]&&!Ae[Ze[2]]&&!Ae[Ze[3]]){var tt=Me[Ze[0]],ft=Me[Ze[1]],pt=Me[Ze[2]],Yt=Me[Ze[3]],Jt=ye(ft,tt,Pe,xe),Tt=ye(pt,tt,Pe,xe),zt=ye(Yt,tt,Pe,xe);s?(ge=se(Ie,[tt,Jt,Tt],[Fe[Ze[0]],-1,-1])||ge,ge=se(Ie,[tt,Tt,zt],[Fe[Ze[0]],-1,-1])||ge,ge=se(Ie,[tt,zt,Jt],[Fe[Ze[0]],-1,-1])||ge):ge=se(null,[Jt,Tt,zt],[-1,-1,-1])||ge,Ue=!0}}),ge}function Ce(Ie,Fe,Pe,xe,ge,Me,Ae,Ue,Ze,tt,ft){var pt=!1;return h&&(Q(Ie,"A")&&(pt=me(null,[Fe,Pe,xe,Me],tt,ft)||pt),Q(Ie,"B")&&(pt=me(null,[Pe,xe,ge,Ze],tt,ft)||pt),Q(Ie,"C")&&(pt=me(null,[Pe,Me,Ae,Ze],tt,ft)||pt),Q(Ie,"D")&&(pt=me(null,[xe,Me,Ue,Ze],tt,ft)||pt),Q(Ie,"E")&&(pt=me(null,[Pe,xe,Me,Ze],tt,ft)||pt)),s&&(pt=me(Ie,[Pe,xe,Me,Ze],tt,ft)||pt),pt}function Ne(Ie,Fe,Pe,xe,ge,Me,Ae,Ue){return[Ue[0]===!0?!0:Se(Ie,ze([Fe,Pe,xe]),[Fe,Pe,xe],Me,Ae),Ue[1]===!0?!0:Se(Ie,ze([xe,ge,Fe]),[xe,ge,Fe],Me,Ae)]}function He(Ie,Fe,Pe,xe,ge,Me,Ae,Ue,Ze){return Ue?Ne(Ie,Fe,Pe,ge,xe,Me,Ae,Ze):Ne(Ie,Pe,ge,xe,Fe,Me,Ae,Ze)}function De(Ie,Fe,Pe,xe,ge,Me,Ae){var Ue=!1,Ze,tt,ft,pt,Yt=function(){Ue=Se(Ie,[Ze,tt,ft],[-1,-1,-1],ge,Me)||Ue,Ue=Se(Ie,[ft,pt,Ze],[-1,-1,-1],ge,Me)||Ue},Jt=Ae[0],Tt=Ae[1],zt=Ae[2];return Jt&&(Ze=ae(ze([k(Fe,Pe-0,xe-0)])[0],ze([k(Fe-1,Pe-0,xe-0)])[0],Jt),tt=ae(ze([k(Fe,Pe-0,xe-1)])[0],ze([k(Fe-1,Pe-0,xe-1)])[0],Jt),ft=ae(ze([k(Fe,Pe-1,xe-1)])[0],ze([k(Fe-1,Pe-1,xe-1)])[0],Jt),pt=ae(ze([k(Fe,Pe-1,xe-0)])[0],ze([k(Fe-1,Pe-1,xe-0)])[0],Jt),Yt()),Tt&&(Ze=ae(ze([k(Fe-0,Pe,xe-0)])[0],ze([k(Fe-0,Pe-1,xe-0)])[0],Tt),tt=ae(ze([k(Fe-0,Pe,xe-1)])[0],ze([k(Fe-0,Pe-1,xe-1)])[0],Tt),ft=ae(ze([k(Fe-1,Pe,xe-1)])[0],ze([k(Fe-1,Pe-1,xe-1)])[0],Tt),pt=ae(ze([k(Fe-1,Pe,xe-0)])[0],ze([k(Fe-1,Pe-1,xe-0)])[0],Tt),Yt()),zt&&(Ze=ae(ze([k(Fe-0,Pe-0,xe)])[0],ze([k(Fe-0,Pe-0,xe-1)])[0],zt),tt=ae(ze([k(Fe-0,Pe-1,xe)])[0],ze([k(Fe-0,Pe-1,xe-1)])[0],zt),ft=ae(ze([k(Fe-1,Pe-1,xe)])[0],ze([k(Fe-1,Pe-1,xe-1)])[0],zt),pt=ae(ze([k(Fe-1,Pe-0,xe)])[0],ze([k(Fe-1,Pe-0,xe-1)])[0],zt),Yt()),Ue}function Ve(Ie,Fe,Pe,xe,ge,Me,Ae,Ue,Ze,tt,ft,pt){var Yt=Ie;return pt?(h&&Ie==="even"&&(Yt=null),Ce(Yt,Fe,Pe,xe,ge,Me,Ae,Ue,Ze,tt,ft)):(h&&Ie==="odd"&&(Yt=null),Ce(Yt,Ze,Ue,Ae,Me,ge,xe,Pe,Fe,tt,ft))}function at(Ie,Fe,Pe,xe,ge){for(var Me=[],Ae=0,Ue=0;Ue<Fe.length;Ue++)for(var Ze=Fe[Ue],tt=1;tt<E;tt++)for(var ft=1;ft<i;ft++)Me.push(He(Ie,k(Ze,ft-1,tt-1),k(Ze,ft-1,tt),k(Ze,ft,tt-1),k(Ze,ft,tt),Pe,xe,(Ze+ft+tt)%2,ge&&ge[Ae]?ge[Ae]:[])),Ae++;return Me}function lt(Ie,Fe,Pe,xe,ge){for(var Me=[],Ae=0,Ue=0;Ue<Fe.length;Ue++)for(var Ze=Fe[Ue],tt=1;tt<x;tt++)for(var ft=1;ft<E;ft++)Me.push(He(Ie,k(tt-1,Ze,ft-1),k(tt,Ze,ft-1),k(tt-1,Ze,ft),k(tt,Ze,ft),Pe,xe,(tt+Ze+ft)%2,ge&&ge[Ae]?ge[Ae]:[])),Ae++;return Me}function $e(Ie,Fe,Pe,xe,ge){for(var Me=[],Ae=0,Ue=0;Ue<Fe.length;Ue++)for(var Ze=Fe[Ue],tt=1;tt<i;tt++)for(var ft=1;ft<x;ft++)Me.push(He(Ie,k(ft-1,tt-1,Ze),k(ft-1,tt,Ze),k(ft,tt-1,Ze),k(ft,tt,Ze),Pe,xe,(ft+tt+Ze)%2,ge&&ge[Ae]?ge[Ae]:[])),Ae++;return Me}function et(Ie,Fe,Pe){for(var xe=1;xe<E;xe++)for(var ge=1;ge<i;ge++)for(var Me=1;Me<x;Me++)Ve(Ie,k(Me-1,ge-1,xe-1),k(Me-1,ge-1,xe),k(Me-1,ge,xe-1),k(Me-1,ge,xe),k(Me,ge-1,xe-1),k(Me,ge-1,xe),k(Me,ge,xe-1),k(Me,ge,xe),Fe,Pe,(Me+ge+xe)%2)}function ct(Ie,Fe,Pe){s=!0,et(Ie,Fe,Pe),s=!1}function dt(Ie,Fe,Pe){h=!0,et(Ie,Fe,Pe),h=!1}function gt(Ie,Fe,Pe,xe,ge,Me){for(var Ae=[],Ue=0,Ze=0;Ze<Fe.length;Ze++)for(var tt=Fe[Ze],ft=1;ft<E;ft++)for(var pt=1;pt<i;pt++)Ae.push(De(Ie,tt,pt,ft,Pe,xe,ge[Ze],Me&&Me[Ue]?Me[Ue]:[])),Ue++;return Ae}function At(Ie,Fe,Pe,xe,ge,Me){for(var Ae=[],Ue=0,Ze=0;Ze<Fe.length;Ze++)for(var tt=Fe[Ze],ft=1;ft<x;ft++)for(var pt=1;pt<E;pt++)Ae.push(De(Ie,ft,tt,pt,Pe,xe,ge[Ze],Me&&Me[Ue]?Me[Ue]:[])),Ue++;return Ae}function Rt(Ie,Fe,Pe,xe,ge,Me){for(var Ae=[],Ue=0,Ze=0;Ze<Fe.length;Ze++)for(var tt=Fe[Ze],ft=1;ft<i;ft++)for(var pt=1;pt<x;pt++)Ae.push(De(Ie,pt,ft,tt,Pe,xe,ge[Ze],Me&&Me[Ue]?Me[Ue]:[])),Ue++;return Ae}function Vt(Ie,Fe){for(var Pe=[],xe=Ie;xe<Fe;xe++)Pe.push(xe);return Pe}function Je(){for(var Ie=0;Ie<x;Ie++)for(var Fe=0;Fe<i;Fe++)for(var Pe=0;Pe<E;Pe++){var xe=k(Ie,Fe,Pe);ce(u._x[xe],u._y[xe],u._z[xe],u._value[xe])}}function Ge(){ie(),Je();var Ie=null;if(g&&T&&(q(T),ct(Ie,z,F)),l&&f){q(f);for(var Fe=u.surface.pattern,Pe=u.surface.count,xe=0;xe<Pe;xe++){var ge=Pe===1?.5:xe/(Pe-1),Me=(1-ge)*z+ge*F,Ae=Math.abs(Me-I),Ue=Math.abs(Me-U),Ze=Ae>Ue?[I,Me]:[Me,U];dt(Fe,Ze[0],Ze[1])}}var tt=[[Math.min(z,U),Math.max(z,U)],[Math.min(I,F),Math.max(I,F)]];["x","y","z"].forEach(function(ft){for(var pt=[],Yt=0;Yt<tt.length;Yt++){var Jt=0,Tt=tt[Yt][0],zt=tt[Yt][1],$t=u.slices[ft];if($t.show&&$t.fill){q($t.fill);var wr=[],yt=[],Xt=[];if($t.locations.length)for(var Qt=0;Qt<$t.locations.length;Qt++){var gr=p($t.locations[Qt],ft==="x"?C:ft==="y"?b:S);gr.distRatio===0?wr.push(gr.id):gr.id>0&&(yt.push(gr.id),ft==="x"?Xt.push([gr.distRatio,0,0]):ft==="y"?Xt.push([0,gr.distRatio,0]):Xt.push([0,0,gr.distRatio]))}else ft==="x"?wr=Vt(1,x-1):ft==="y"?wr=Vt(1,i-1):wr=Vt(1,E-1);yt.length>0&&(ft==="x"?pt[Jt]=gt(Ie,yt,Tt,zt,Xt,pt[Jt]):ft==="y"?pt[Jt]=At(Ie,yt,Tt,zt,Xt,pt[Jt]):pt[Jt]=Rt(Ie,yt,Tt,zt,Xt,pt[Jt]),Jt++),wr.length>0&&(ft==="x"?pt[Jt]=at(Ie,wr,Tt,zt,pt[Jt]):ft==="y"?pt[Jt]=lt(Ie,wr,Tt,zt,pt[Jt]):pt[Jt]=$e(Ie,wr,Tt,zt,pt[Jt]),Jt++)}var sr=u.caps[ft];sr.show&&sr.fill&&(q(sr.fill),ft==="x"?pt[Jt]=at(Ie,[0,x-1],Tt,zt,pt[Jt]):ft==="y"?pt[Jt]=lt(Ie,[0,i-1],Tt,zt,pt[Jt]):pt[Jt]=$e(Ie,[0,E-1],Tt,zt,pt[Jt]),Jt++)}}),d===0&&ie(),u._meshX=B,u._meshY=O,u._meshZ=N,u._meshIntensity=Y,u._Xs=C,u._Ys=b,u._Zs=S}return Ge(),u}function c(u,l){var g=u.glplot.gl,f=y({gl:g}),T=new r(u,f,l.uid);return f._trace=T,T.update(l),u.glplot.add(f),T}G.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:c}},82738:function(G,H,e){var y=e(71828),P=e(73972),a=e(16249),L=e(1586);function M(p,r,t,o){function n(c,u){return y.coerce(p,r,a,c,u)}v(p,r,t,o,n)}function v(p,r,t,o,n){var c=n("isomin"),u=n("isomax");u!=null&&c!==void 0&&c!==null&&c>u&&(r.isomin=null,r.isomax=null);var l=n("x"),g=n("y"),f=n("z"),T=n("value");if(!l||!l.length||!g||!g.length||!f||!f.length||!T||!T.length){r.visible=!1;return}var h=P.getComponentMethod("calendars","handleTraceDefaults");h(p,r,["x","y","z"],o),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var C="caps."+w,b=n(C+".show");b&&n(C+".fill");var S="slices."+w,x=n(S+".show");x&&(n(S+".fill"),n(S+".locations"))});var s=n("spaceframe.show");s&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var A=n("contour.show");A&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),L(p,r,o,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:M,supplyIsoDefaults:v}},64943:function(G,H,e){G.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(G,H,e){var y=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(54532),M=e(9012),v=e(1426).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},y("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},M.hoverinfo,{editType:"calc"}),showlegend:v({},M.showlegend,{dflt:!1})})},82932:function(G,H,e){var y=e(78803);G.exports=function(a,L){L.intensity&&y(a,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},91134:function(G,H,e){var y=e(9330).gl_mesh3d,P=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,L=e(9330).convex_hull,M=e(81697).parseColorScale,v=e(71828).isArrayOrTypedArray,p=e(78614),r=e(21081).extractOpts,t=e(90060);function o(h,s,d){this.scene=h,this.uid=d,this.mesh=s,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=o.prototype;n.handlePick=function(h){if(h.object===this.mesh){var s=h.index=h.data.index;h.data._cellCenter?h.traceCoordinate=h.data.dataCoordinate:h.traceCoordinate=[this.data.x[s],this.data.y[s],this.data.z[s]];var d=this.data.hovertext||this.data.text;return v(d)&&d[s]!==void 0?h.textLabel=d[s]:d&&(h.textLabel=d),!0}};function c(h){for(var s=[],d=h.length,A=0;A<d;A++)s[A]=p(h[A]);return s}function u(h,s,d,A){for(var w=[],C=s.length,b=0;b<C;b++)w[b]=h.d2l(s[b],0,A)*d;return w}function l(h){for(var s=[],d=h.length,A=0;A<d;A++)s[A]=Math.round(h[A]);return s}function g(h,s){for(var d=["x","y","z"].indexOf(h),A=[],w=s.length,C=0;C<w;C++)A[C]=[s[C][(d+1)%3],s[C][(d+2)%3]];return P(A)}function f(h,s){for(var d=h.length,A=0;A<d;A++)if(h[A]<=-.5||h[A]>=s-.5)return!1;return!0}n.update=function(h){var s=this.scene,d=s.fullSceneLayout;this.data=h;var A=h.x.length,w=t(u(d.xaxis,h.x,s.dataScale[0],h.xcalendar),u(d.yaxis,h.y,s.dataScale[1],h.ycalendar),u(d.zaxis,h.z,s.dataScale[2],h.zcalendar)),C;if(h.i&&h.j&&h.k){if(h.i.length!==h.j.length||h.j.length!==h.k.length||!f(h.i,A)||!f(h.j,A)||!f(h.k,A))return;C=t(l(h.i),l(h.j),l(h.k))}else h.alphahull===0?C=L(w):h.alphahull>0?C=a(h.alphahull,w):C=g(h.delaunayaxis,w);var b={positions:w,cells:C,lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,contourEnable:h.contour.show,contourColor:p(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading};if(h.intensity){var S=r(h);this.color="#fff";var x=h.intensitymode;b[x+"Intensity"]=h.intensity,b[x+"IntensityBounds"]=[S.min,S.max],b.colormap=M(h)}else h.vertexcolor?(this.color=h.vertexcolor[0],b.vertexColors=c(h.vertexcolor)):h.facecolor?(this.color=h.facecolor[0],b.cellColors=c(h.facecolor)):(this.color=h.color,b.meshColor=p(h.color));this.mesh.update(b)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(h,s){var d=h.glplot.gl,A=y({gl:d}),w=new o(h,A,s.uid);return A._trace=w,w.update(s),h.glplot.add(A),w}G.exports=T},58669:function(G,H,e){var y=e(73972),P=e(71828),a=e(1586),L=e(2418);G.exports=function(v,p,r,t){function o(g,f){return P.coerce(v,p,L,g,f)}function n(g){var f=g.map(function(T){var h=o(T);return h&&P.isArrayOrTypedArray(h)?h:null});return f.every(function(T){return T&&T.length===f[0].length})&&f}var c=n(["x","y","z"]);if(!c){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var u=y.getComponentMethod("calendars","handleTraceDefaults");u(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){o(g)});var l=o("contour.show");l&&(o("contour.color"),o("contour.width")),"intensity"in v?(o("intensity"),o("intensitymode"),a(v,p,t,o,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?o("facecolor"):"vertexcolor"in v?o("vertexcolor"):o("color",r)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),p._length=null}},21164:function(G,H,e){G.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(G,H,e){var y=e(71828).extendFlat,P=e(82196),a=e(12663).axisHoverFormat,L=e(79952).P,M=e(77914),v=e(22372),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function o(n){return{line:{color:y({},t.color,{dflt:n}),width:t.width,dash:L,editType:"style"},editType:"style"}}G.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:y({},t.width,{}),dash:y({},L,{}),editType:"style"},increasing:o(p),decreasing:o(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:y({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(G,H,e){var y=e(71828),P=y._,a=e(89298),L=e(42973),M=e(50606).BADNUM;function v(o,n){var c=a.getFromId(o,n.xaxis),u=a.getFromId(o,n.yaxis),l=t(o,c,n),g=n._minDiff;n._minDiff=null;var f=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var h=r(o,n,f,T,u,p);return n._extremes[c._id]=a.findExtremes(c,T,{vpad:g/2}),h.length?(y.extendFlat(h[0].t,{wHover:g/2,tickLen:l}),h):[{t:{empty:!0}}]}function p(o,n,c,u){return{o,h:n,l:c,c:u}}function r(o,n,c,u,l,g){for(var f=l.makeCalcdata(n,"open"),T=l.makeCalcdata(n,"high"),h=l.makeCalcdata(n,"low"),s=l.makeCalcdata(n,"close"),d=y.isArrayOrTypedArray(n.text),A=y.isArrayOrTypedArray(n.hovertext),w=!0,C=null,b=!!n.xperiodalignment,S=[],x=0;x<u.length;x++){var i=u[x],E=f[x],m=T[x],k=h[x],I=s[x];if(i!==M&&E!==M&&m!==M&&k!==M&&I!==M){I===E?C!==null&&I!==C&&(w=I>C):w=I>E,C=I;var U=g(E,m,k,I);U.pos=i,U.yc=(E+I)/2,U.i=x,U.dir=w?"increasing":"decreasing",U.x=U.pos,U.y=[k,m],b&&(U.orig_p=c[x]),d&&(U.tx=n.text[x]),A&&(U.htx=n.hovertext[x]),S.push(U)}else S.push({pos:i,empty:!0})}return n._extremes[l._id]=a.findExtremes(l,y.concat(h,T),{padded:!0}),S.length&&(S[0].t={labels:{open:P(o,"open:")+" ",high:P(o,"high:")+" ",low:P(o,"low:")+" ",close:P(o,"close:")+" "}}),S}function t(o,n,c){var u=c._minDiff;if(!u){var l=o._fullData,g=[];u=1/0;var f;for(f=0;f<l.length;f++){var T=l[f];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){g.push(T);var h=n.makeCalcdata(T,"x");T._origX=h;var s=L(c,n,"x",h).vals;T._xcalc=s;var d=y.distinctVals(s).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),f=0;f<g.length;f++)g[f]._minDiff=u}return u*c.tickwidth}G.exports={calc:v,calcCommon:r}},16169:function(G,H,e){var y=e(71828),P=e(14555),a=e(73927),L=e(2522);G.exports=function(p,r,t,o){function n(u,l){return y.coerce(p,r,L,u,l)}var c=P(p,r,n,o);if(!c){r.visible=!1;return}a(p,r,o,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),M(p,r,n,"increasing"),M(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),o._requestRangeslider[r.xaxis]=!0};function M(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},66449:function(G,H,e){var y=e(89298),P=e(71828),a=e(30211),L=e(7901),M=e(71828).fillText,v=e(22372),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(c,u,l,g){var f=c.cd,T=f[0].trace;return T.hoverlabel.split?o(c,u,l,g):n(c,u,l,g)}function t(c,u,l,g){var f=c.cd,T=c.xa,h=f[0].trace,s=f[0].t,d=h.type,A=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",C,b,S=s.bPos||0,x=function(Y){return Y.pos+S-u},i=s.bdPos||s.tickLen,E=s.wHover,m=Math.min(1,i/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));C=c.maxHoverDistance-m,b=c.maxSpikeDistance-m;function k(Y){var $=x(Y);return a.inbox($-E,$+E,C)}function I(Y){var $=Y[A],te=Y[w];return $===te||a.inbox($-l,te-l,C)}function U(Y){return(k(Y)+I(Y))/2}var z=a.getDistanceFunction(g,k,I,U);if(a.getClosest(f,z,c),c.index===!1)return null;var F=f[c.index];if(F.empty)return null;var B=F.dir,O=h[B],N=O.line.color;return L.opacity(N)&&O.line.width?c.color=N:c.color=O.fillcolor,c.x0=T.c2p(F.pos+S-i,!0),c.x1=T.c2p(F.pos+S+i,!0),c.xLabelVal=F.orig_p!==void 0?F.orig_p:F.pos,c.spikeDistance=U(F)*b/C,c.xSpike=T.c2p(F.pos,!0),c}function o(c,u,l,g){var f=c.cd,T=c.ya,h=f[0].trace,s=f[0].t,d=[],A=t(c,u,l,g);if(!A)return[];var w=A.index,C=f[w],b=C.hi||h.hoverinfo,S=b.split("+"),x=b==="all",i=x||S.indexOf("y")!==-1;if(!i)return[];for(var E=["high","open","close","low"],m={},k=0;k<E.length;k++){var I=E[k],U=h[I][A.index],z=T.c2p(U,!0),F;U in m?(F=m[U],F.yLabel+="<br>"+s.labels[I]+y.hoverLabelText(T,U,h.yhoverformat)):(F=P.extendFlat({},A),F.y0=F.y1=z,F.yLabelVal=U,F.yLabel=s.labels[I]+y.hoverLabelText(T,U,h.yhoverformat),F.name="",d.push(F),m[U]=F)}return d}function n(c,u,l,g){var f=c.cd,T=c.ya,h=f[0].trace,s=f[0].t,d=t(c,u,l,g);if(!d)return[];var A=d.index,w=f[A],C=d.index=w.i,b=w.dir;function S(U){return s.labels[U]+y.hoverLabelText(T,h[U][C],h.yhoverformat)}var x=w.hi||h.hoverinfo,i=x.split("+"),E=x==="all",m=E||i.indexOf("y")!==-1,k=E||i.indexOf("text")!==-1,I=m?[S("open"),S("high"),S("low"),S("close")+"  "+p[b]]:[];return k&&M(w,h,I),d.extraText=I.join("<br>"),d.y0=d.y1=T.c2p(w.yc,!0),[d]}G.exports={hoverPoints:r,hoverSplit:o,hoverOnPoints:n}},54186:function(G,H,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(G,H,e){var y=e(73972),P=e(71828);G.exports=function(L,M,v,p){var r=v("x"),t=v("open"),o=v("high"),n=v("low"),c=v("close");v("hoverlabel.split");var u=y.getComponentMethod("calendars","handleTraceDefaults");if(u(L,M,["x"],p),!!(t&&o&&n&&c)){var l=Math.min(t.length,o.length,n.length,c.length);return r&&(l=Math.min(l,P.minRowLength(r))),M._length=l,l}}},72314:function(G,H,e){var y=e(39898),P=e(71828);G.exports=function(L,M,v,p){var r=M.yaxis,t=M.xaxis,o=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var c=y.select(this),u=n[0],l=u.t,g=u.trace;if(g.visible!==!0||l.empty){c.remove();return}var f=l.tickLen,T=c.selectAll("path").data(P.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(h){if(h.empty)return"M0,0Z";var s=t.c2p(h.pos-f,!0),d=t.c2p(h.pos+f,!0),A=o?(s+d)/2:t.c2p(h.pos,!0),w=r.c2p(h.o,!0),C=r.c2p(h.h,!0),b=r.c2p(h.l,!0),S=r.c2p(h.c,!0);return"M"+s+","+w+"H"+A+"M"+A+","+C+"V"+b+"M"+d+","+S+"H"+A})})}},67324:function(G){G.exports=function(e,y){var P=e.cd,a=e.xaxis,L=e.yaxis,M=[],v,p=P[0].t.bPos||0;if(y===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];y.contains([a.c2p(r.pos+p),L.c2p(r.yc)],null,r.i,e)?(M.push({pointNumber:r.i,x:a.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return M}},53101:function(G,H,e){var y=e(39898),P=e(91424),a=e(7901);G.exports=function(M,v,p){var r=p||y.select(M).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var o=t[0].trace;y.select(this).selectAll("path").each(function(n){if(!n.empty){var c=o[n.dir].line;y.select(this).style("fill","none").call(a.stroke,c.color).call(P.dashLine,c.dash,c.width).style("opacity",o.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(G,H,e){var y=e(1426).extendFlat,P=e(9012),a=e(41940),L=e(50693),M=e(5386).fF,v=e(27670).Y,p=y({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:y({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(G,H,e){var y=e(27659).a0,P=e(45784),a="parcats";H.name=a,H.plot=function(L,M,v,p){var r=y(L.calcdata,a);if(r.length){var t=r[0];P(L,t,v,p)}},H.clean=function(L,M,v,p){var r=p._has&&p._has("parcats"),t=M._has&&M._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},28699:function(G,H,e){var y=e(28984).wrap,P=e(52075).hasColorscale,a=e(78803),L=e(75744),M=e(91424),v=e(71828),p=e(92770);G.exports=function(s,d){var A=v.filterVisible(d.dimensions);if(A.length===0)return[];var w=A.map(function(J){var Z;if(J.categoryorder==="trace")Z=null;else if(J.categoryorder==="array")Z=J.categoryarray;else{Z=L(J.values);for(var ae=!0,j=0;j<Z.length;j++)if(!p(Z[j])){ae=!1;break}Z.sort(ae?v.sorterAsc:void 0),J.categoryorder==="category descending"&&(Z=Z.reverse())}return l(J.values,Z)}),C,b,S;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],g(A),A.forEach(function(J,Z){f(J,w[Z])});var x=d.line,i;x?(P(d,"line")&&a(s,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),i=M.tryColorscale(x)):i=v.identity;function E(J){var Z,ae;return v.isArrayOrTypedArray(x.color)?(Z=x.color[J%x.color.length],ae=Z):Z=x.color,{color:i(Z),rawColor:ae}}var m=A[0].values.length,k={},I=w.map(function(J){return J.inds});S=0;var U,z;for(U=0;U<m;U++){var F=[];for(z=0;z<I.length;z++)F.push(I[z][U]);b=C[U%C.length],S+=b;var B=E(U),O=F+"-"+B.rawColor;k[O]===void 0&&(k[O]=c(F,B.color,B.rawColor)),u(k[O],U,b)}var N=A.map(function(J,Z){return t(Z,J._index,J._displayindex,J.label,S)});for(U=0;U<m;U++)for(b=C[U%C.length],z=0;z<N.length;z++){var Y=N[z].containerInd,$=w[z].inds[U],te=N[z].categories;if(te[$]===void 0){var ie=d.dimensions[Y]._categoryarray[$],ce=d.dimensions[Y]._ticktext[$];te[$]=o(z,$,ie,ce)}n(te[$],U,b)}return y(r(N,k,S))};function r(h,s,d){var A=h.map(function(w){return w.categories.length}).reduce(function(w,C){return Math.max(w,C)});return{dimensions:h,paths:s,trace:void 0,maxCats:A,count:d}}function t(h,s,d,A,w){return{dimensionInd:h,containerInd:s,displayInd:d,dimensionLabel:A,count:w,categories:[],dragX:null}}function o(h,s,d,A){return{dimensionInd:h,categoryInd:s,categoryValue:d,displayInd:s,categoryLabel:A,valueInds:[],count:0,dragY:null}}function n(h,s,d){h.valueInds.push(s),h.count+=d}function c(h,s,d){return{categoryInds:h,color:s,rawColor:d,valueInds:[],count:0}}function u(h,s,d){h.valueInds.push(s),h.count+=d}function l(h,s){s==null?s=[]:s=s.map(function(i){return i});var d={},A={},w=[];s.forEach(function(i,E){d[i]=0,A[i]=E});for(var C=0;C<h.length;C++){var b=h[C],S;d[b]===void 0?(d[b]=1,S=s.push(b)-1,A[b]=S):(d[b]++,S=A[b]),w.push(S)}var x=s.map(function(i){return d[i]});return{uniqueValues:s,uniqueCounts:x,inds:w}}function g(h){var s=h.map(function(A){return A.displayindex}),d;if(T(s))for(d=0;d<h.length;d++)h[d]._displayindex=h[d].displayindex;else for(d=0;d<h.length;d++)h[d]._displayindex=d}function f(h,s){h._categoryarray=s.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var d=h._ticktext.length;d<s.uniqueValues.length;d++)h._ticktext.push(s.uniqueValues[d])}function T(h){for(var s=new Array(h.length),d=0;d<h.length;d++){if(h[d]<0||h[d]>=h.length||s[h[d]]!==void 0)return!1;s[h[d]]=!0}return!0}},14647:function(G,H,e){var y=e(71828),P=e(52075).hasColorscale,a=e(1586),L=e(27670).c,M=e(85501),v=e(99506),p=e(94397),r=e(73627).isTypedArraySpec;function t(n,c,u,l,g){g("line.shape"),g("line.hovertemplate");var f=g("line.color",l.colorway[0]);if(P(n,"line")&&y.isArrayOrTypedArray(f)){if(f.length)return g("line.colorscale"),a(n,c,l,g,{prefix:"line.",cLetter:"c"}),f.length;c.line.color=u}return 1/0}function o(n,c){function u(d,A){return y.coerce(n,c,v.dimensions,d,A)}var l=u("values"),g=u("visible");if(l&&l.length||(g=c.visible=!1),g){u("label"),u("displayindex",c._index);var f=n.categoryarray,T=y.isArrayOrTypedArray(f)&&f.length>0||r(f),h;T&&(h="array");var s=u("categoryorder",h);s==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&s==="array"&&(c.categoryorder="trace")}}G.exports=function(c,u,l,g){function f(A,w){return y.coerce(c,u,v,A,w)}var T=M(c,u,{name:"dimensions",handleItemDefaults:o}),h=t(c,u,l,g,f);L(u,g,f),(!Array.isArray(T)||!T.length)&&(u.visible=!1),p(u,T,"values",h),f("hoveron"),f("hovertemplate"),f("arrangement"),f("bundlecolors"),f("sortpaths"),f("counts");var s={family:g.font.family,size:Math.round(g.font.size),color:g.font.color};y.coerceFont(f,"labelfont",s);var d={family:g.font.family,size:Math.round(g.font.size/1.2),color:g.font.color};y.coerceFont(f,"tickfont",d)}},94873:function(G,H,e){G.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(G,H,e){var y=e(39898),P=e(81684).k4,a=e(72391),L=e(30211),M=e(71828),v=M.strTranslate,p=e(91424),r=e(84267),t=e(63893);function o(j,q,oe,Q){var K=q._context.staticPlot,se=j.map(ie.bind(0,q,oe)),ne=Q.selectAll("g.parcatslayer").data([null]);ne.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var fe=ne.selectAll("g.trace.parcats").data(se,n),ye=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(Ve){return v(Ve.x,Ve.y)}),ye.append("g").attr("class","paths");var Ee=fe.select("g.paths"),Te=Ee.selectAll("path.path").data(function(Ve){return Ve.paths},n);Te.attr("fill",function(Ve){return Ve.model.color});var ze=Te.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ve){return Ve.model.color}).attr("fill-opacity",0);s(ze),Te.attr("d",function(Ve){return Ve.svgD}),ze.empty()||Te.sort(u),Te.exit().remove(),Te.on("mouseover",l).on("mouseout",g).on("click",h),ye.append("g").attr("class","dimensions");var ke=fe.select("g.dimensions"),Se=ke.selectAll("g.dimension").data(function(Ve){return Ve.dimensions},n);Se.enter().append("g").attr("class","dimension"),Se.attr("transform",function(Ve){return v(Ve.x,0)}),Se.exit().remove();var me=Se.selectAll("g.category").data(function(Ve){return Ve.categories},n),Ce=me.enter().append("g").attr("class","category");me.attr("transform",function(Ve){return v(0,Ve.y)}),Ce.append("rect").attr("class","catrect").attr("pointer-events","none"),me.select("rect.catrect").attr("fill","none").attr("width",function(Ve){return Ve.width}).attr("height",function(Ve){return Ve.height}),w(Ce);var Ne=me.selectAll("rect.bandrect").data(function(Ve){return Ve.bands},n);Ne.each(function(){M.raiseToTop(this)}),Ne.attr("fill",function(Ve){return Ve.color});var He=Ne.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ve){return Ve.color}).attr("fill-opacity",0);Ne.attr("fill",function(Ve){return Ve.color}).attr("width",function(Ve){return Ve.width}).attr("height",function(Ve){return Ve.height}).attr("y",function(Ve){return Ve.y}).attr("cursor",function(Ve){return Ve.parcatsViewModel.arrangement==="fixed"?"default":Ve.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),b(He),Ne.exit().remove(),Ce.append("text").attr("class","catlabel").attr("pointer-events","none");var De=q._fullLayout.paper_bgcolor;me.select("text.catlabel").attr("text-anchor",function(Ve){return c(Ve)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(De)).style("fill","rgb(0, 0, 0)").attr("x",function(Ve){return c(Ve)?Ve.width+5:-5}).attr("y",function(Ve){return Ve.height/2}).text(function(Ve){return Ve.model.categoryLabel}).each(function(Ve){p.font(y.select(this),Ve.parcatsViewModel.categorylabelfont),t.convertToTspans(y.select(this),q)}),Ce.append("text").attr("class","dimlabel"),me.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ve){return Ve.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ve){return Ve.width/2}).attr("y",-5).text(function(Ve,at){return at===0?Ve.parcatsViewModel.model.dimensions[Ve.model.dimensionInd].dimensionLabel:null}).each(function(Ve){p.font(y.select(this),Ve.parcatsViewModel.labelfont)}),me.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",F),me.exit().remove(),Se.call(y.behavior.drag().origin(function(Ve){return{x:Ve.x,y:0}}).on("dragstart",B).on("drag",O).on("dragend",N)),fe.each(function(Ve){Ve.traceSelection=y.select(this),Ve.pathSelection=y.select(this).selectAll("g.paths").selectAll("path.path"),Ve.dimensionSelection=y.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}G.exports=function(j,q,oe,Q){o(oe,j,Q,q)};function n(j){return j.key}function c(j){var q=j.parcatsViewModel.dimensions.length,oe=j.parcatsViewModel.dimensions[q-1].model.dimensionInd;return j.model.dimensionInd===oe}function u(j,q){return j.model.rawColor>q.model.rawColor?1:j.model.rawColor<q.model.rawColor?-1:0}function l(j){if(!j.parcatsViewModel.dragDimension&&j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){M.raiseToTop(this),d(y.select(this));var q=f(j),oe=T(j);if(j.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:y.event,constraints:oe}),j.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q=y.mouse(this)[0],K=j.parcatsViewModel.graphDiv,se=j.parcatsViewModel.trace,ne=K._fullLayout,fe=ne._paperdiv.node().getBoundingClientRect(),ye=j.parcatsViewModel.graphDiv.getBoundingClientRect(),Ee,Te,ze;for(ze=0;ze<j.leftXs.length-1;ze++)if(j.leftXs[ze]+j.dimWidths[ze]-2<=Q&&Q<=j.leftXs[ze+1]+2){var ke=j.parcatsViewModel.dimensions[ze],Se=j.parcatsViewModel.dimensions[ze+1];Ee=(ke.x+ke.width+Se.x)/2,Te=(j.topYs[ze]+j.topYs[ze+1]+j.height)/2;break}var me=j.parcatsViewModel.x+Ee,Ce=j.parcatsViewModel.y+Te,Ne=r.mostReadable(j.model.color,["black","white"]),He=j.model.count,De=He/j.parcatsViewModel.model.count,Ve={countLabel:He,probabilityLabel:De.toFixed(3)},at=[];j.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&at.push(["Count:",Ve.countLabel].join(" ")),j.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&at.push(["P:",Ve.probabilityLabel].join(" "));var lt=at.join("<br>"),$e=y.mouse(K)[0];L.loneHover({trace:se,x:me-fe.left+ye.left,y:Ce-fe.top+ye.top,text:lt,color:j.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ne,idealAlign:$e<me?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Ve,eventData:[{data:se._input,fullData:se,count:He,probability:De}]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:K})}}}function g(j){if(!j.parcatsViewModel.dragDimension&&(s(y.select(this)),L.loneUnhover(j.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),j.parcatsViewModel.pathSelection.sort(u),j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var q=f(j),oe=T(j);j.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:y.event,constraints:oe})}}function f(j){for(var q=[],oe=Y(j.parcatsViewModel),Q=0;Q<j.model.valueInds.length;Q++){var K=j.model.valueInds[Q];q.push({curveNumber:oe,pointNumber:K})}return q}function T(j){for(var q={},oe=j.parcatsViewModel.model.dimensions,Q=0;Q<oe.length;Q++){var K=oe[Q],se=K.categories[j.model.categoryInds[Q]];q[K.containerInd]=se.categoryValue}return j.model.rawColor!==void 0&&(q.color=j.model.rawColor),q}function h(j){if(j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=f(j),oe=T(j);j.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:y.event,constraints:oe})}}function s(j){j.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(j){j.attr("fill-opacity",.8).attr("stroke",function(q){return r.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function A(j){j.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(j){j.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(j){j.attr("stroke","black").attr("stroke-width",1.5)}function b(j){j.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(j){var q=j.parcatsViewModel.pathSelection,oe=j.categoryViewModel.model.dimensionInd,Q=j.categoryViewModel.model.categoryInd;return q.filter(function(K){return K.model.categoryInds[oe]===Q&&K.model.color===j.color})}function x(j){var q=y.select(j.parentNode).selectAll("rect.bandrect");q.each(function(oe){var Q=S(oe);d(Q),Q.each(function(){M.raiseToTop(this)})}),A(y.select(j.parentNode))}function i(j){var q=y.select(j).datum(),oe=S(q);d(oe),oe.each(function(){M.raiseToTop(this)}),y.select(j.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===q.color}).each(function(){M.raiseToTop(this),C(y.select(this))})}function E(j,q,oe){var Q=y.select(j).datum(),K=Q.categoryViewModel.model,se=Q.parcatsViewModel.graphDiv,ne=y.select(j.parentNode).selectAll("rect.bandrect"),fe=[];ne.each(function(Ee){var Te=S(Ee);Te.each(function(ze){Array.prototype.push.apply(fe,f(ze))})});var ye={};ye[K.dimensionInd]=K.categoryValue,se.emit(q,{points:fe,event:oe,constraints:ye})}function m(j,q,oe){var Q=y.select(j).datum(),K=Q.categoryViewModel.model,se=Q.parcatsViewModel.graphDiv,ne=S(Q),fe=[];ne.each(function(Ee){Array.prototype.push.apply(fe,f(Ee))});var ye={};ye[K.dimensionInd]=K.categoryValue,Q.rawColor!==void 0&&(ye.color=Q.rawColor),se.emit(q,{points:fe,event:oe,constraints:ye})}function k(j,q,oe){j._fullLayout._calcInverseTransform(j);var Q=j._fullLayout._invScaleX,K=j._fullLayout._invScaleY,se=y.select(oe.parentNode).select("rect.catrect"),ne=se.node().getBoundingClientRect(),fe=se.datum(),ye=fe.parcatsViewModel,Ee=ye.model.dimensions[fe.model.dimensionInd],Te=ye.trace,ze=ne.top+ne.height/2,ke,Se;ye.dimensions.length>1&&Ee.displayInd===ye.dimensions.length-1?(ke=ne.left,Se="left"):(ke=ne.left+ne.width,Se="right");var me=fe.model.count,Ce=fe.model.categoryLabel,Ne=me/fe.parcatsViewModel.model.count,He={countLabel:me,categoryLabel:Ce,probabilityLabel:Ne.toFixed(3)},De=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&De.push(["Count:",He.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&De.push(["P("+He.categoryLabel+"):",He.probabilityLabel].join(" "));var Ve=De.join("<br>");return{trace:Te,x:Q*(ke-q.left),y:K*(ze-q.top),text:Ve,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Se,hovertemplate:Te.hovertemplate,hovertemplateLabels:He,eventData:[{data:Te._input,fullData:Te,count:me,category:Ce,probability:Ne}]}}function I(j,q,oe){var Q=[];return y.select(oe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var K=this;Q.push(k(j,q,K))}),Q}function U(j,q,oe){j._fullLayout._calcInverseTransform(j);var Q=j._fullLayout._invScaleX,K=j._fullLayout._invScaleY,se=oe.getBoundingClientRect(),ne=y.select(oe).datum(),fe=ne.categoryViewModel,ye=fe.parcatsViewModel,Ee=ye.model.dimensions[fe.model.dimensionInd],Te=ye.trace,ze=se.y+se.height/2,ke,Se;ye.dimensions.length>1&&Ee.displayInd===ye.dimensions.length-1?(ke=se.left,Se="left"):(ke=se.left+se.width,Se="right");var me=fe.model.categoryLabel,Ce=ne.parcatsViewModel.model.count,Ne=0;ne.categoryViewModel.bands.forEach(function(gt){gt.color===ne.color&&(Ne+=gt.count)});var He=fe.model.count,De=0;ye.pathSelection.each(function(gt){gt.model.color===ne.color&&(De+=gt.model.count)});var Ve=Ne/Ce,at=Ne/De,lt=Ne/He,$e={countLabel:Ce,categoryLabel:me,probabilityLabel:Ve.toFixed(3)},et=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&et.push(["Count:",$e.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(et.push("P(color  "+me+"): "+$e.probabilityLabel),et.push("P("+me+" | color): "+at.toFixed(3)),et.push("P(color | "+me+"): "+lt.toFixed(3)));var ct=et.join("<br>"),dt=r.mostReadable(ne.color,["black","white"]);return{trace:Te,x:Q*(ke-q.left),y:K*(ze-q.top),text:ct,color:ne.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:dt,fontSize:10,idealAlign:Se,hovertemplate:Te.hovertemplate,hovertemplateLabels:$e,eventData:[{data:Te._input,fullData:Te,category:me,count:Ce,probability:Ve,categorycount:He,colorcount:De,bandcolorcount:Ne}]}}function z(j){if(!j.parcatsViewModel.dragDimension&&j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=y.mouse(this)[1];if(q<-1)return;var oe=j.parcatsViewModel.graphDiv,Q=oe._fullLayout,K=Q._paperdiv.node().getBoundingClientRect(),se=j.parcatsViewModel.hoveron,ne=this;if(se==="color"?(i(ne),m(ne,"plotly_hover",y.event)):(x(ne),E(ne,"plotly_hover",y.event)),j.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;se==="category"?fe=k(oe,K,ne):se==="color"?fe=U(oe,K,ne):se==="dimension"&&(fe=I(oe,K,ne)),fe&&L.loneHover(fe,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:oe})}}}function F(j){var q=j.parcatsViewModel;if(!q.dragDimension&&(s(q.pathSelection),w(q.dimensionSelection.selectAll("g.category")),b(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(u),q.hoverinfoItems.indexOf("skip")===-1)){var oe=j.parcatsViewModel.hoveron,Q=this;oe==="color"?m(Q,"plotly_unhover",y.event):E(Q,"plotly_unhover",y.event)}}function B(j){j.parcatsViewModel.arrangement!=="fixed"&&(j.dragDimensionDisplayInd=j.model.displayInd,j.initialDragDimensionDisplayInds=j.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),j.dragHasMoved=!1,j.dragCategoryDisplayInd=null,y.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var oe=y.mouse(this)[0],Q=y.mouse(this)[1];-2<=oe&&oe<=q.width+2&&-2<=Q&&Q<=q.height+2&&(j.dragCategoryDisplayInd=q.model.displayInd,j.initialDragCategoryDisplayInds=j.model.categories.map(function(K){return K.displayInd}),q.model.dragY=q.y,M.raiseToTop(this.parentNode),y.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<Q&&Q<=K.y+K.height&&(j.potentialClickBand=this)}))}),j.parcatsViewModel.dragDimension=j,L.loneUnhover(j.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(j){if(j.parcatsViewModel.arrangement!=="fixed"&&(j.dragHasMoved=!0,j.dragDimensionDisplayInd!==null)){var q=j.dragDimensionDisplayInd,oe=q-1,Q=q+1,K=j.parcatsViewModel.dimensions[q];if(j.dragCategoryDisplayInd!==null){var se=K.categories[j.dragCategoryDisplayInd];se.model.dragY+=y.event.dy;var ne=se.model.dragY,fe=se.model.displayInd,ye=K.categories,Ee=ye[fe-1],Te=ye[fe+1];Ee!==void 0&&ne<Ee.y+Ee.height/2&&(se.model.displayInd=Ee.model.displayInd,Ee.model.displayInd=fe),Te!==void 0&&ne+se.height>Te.y+Te.height/2&&(se.model.displayInd=Te.model.displayInd,Te.model.displayInd=fe),j.dragCategoryDisplayInd=se.model.displayInd}if(j.dragCategoryDisplayInd===null||j.parcatsViewModel.arrangement==="freeform"){K.model.dragX=y.event.x;var ze=j.parcatsViewModel.dimensions[oe],ke=j.parcatsViewModel.dimensions[Q];ze!==void 0&&K.model.dragX<ze.x+ze.width&&(K.model.displayInd=ze.model.displayInd,ze.model.displayInd=q),ke!==void 0&&K.model.dragX+K.width>ke.x&&(K.model.displayInd=ke.model.displayInd,ke.model.displayInd=j.dragDimensionDisplayInd),j.dragDimensionDisplayInd=K.model.displayInd}Z(j.parcatsViewModel),J(j.parcatsViewModel),te(j.parcatsViewModel),$(j.parcatsViewModel)}}function N(j){if(j.parcatsViewModel.arrangement!=="fixed"&&j.dragDimensionDisplayInd!==null){y.select(this).selectAll("text").attr("font-weight","normal");var q={},oe=Y(j.parcatsViewModel),Q=j.parcatsViewModel.model.dimensions.map(function(ke){return ke.displayInd}),K=j.initialDragDimensionDisplayInds.some(function(ke,Se){return ke!==Q[Se]});K&&Q.forEach(function(ke,Se){var me=j.parcatsViewModel.model.dimensions[Se].containerInd;q["dimensions["+me+"].displayindex"]=ke});var se=!1;if(j.dragCategoryDisplayInd!==null){var ne=j.model.categories.map(function(ke){return ke.displayInd});if(se=j.initialDragCategoryDisplayInds.some(function(ke,Se){return ke!==ne[Se]}),se){var fe=j.model.categories.slice().sort(function(ke,Se){return ke.displayInd-Se.displayInd}),ye=fe.map(function(ke){return ke.categoryValue}),Ee=fe.map(function(ke){return ke.categoryLabel});q["dimensions["+j.model.containerInd+"].categoryarray"]=[ye],q["dimensions["+j.model.containerInd+"].ticktext"]=[Ee],q["dimensions["+j.model.containerInd+"].categoryorder"]="array"}}if(j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!j.dragHasMoved&&j.potentialClickBand&&(j.parcatsViewModel.hoveron==="color"?m(j.potentialClickBand,"plotly_click",y.event.sourceEvent):E(j.potentialClickBand,"plotly_click",y.event.sourceEvent)),j.model.dragX=null,j.dragCategoryDisplayInd!==null){var Te=j.parcatsViewModel.dimensions[j.dragDimensionDisplayInd].categories[j.dragCategoryDisplayInd];Te.model.dragY=null,j.dragCategoryDisplayInd=null}j.dragDimensionDisplayInd=null,j.parcatsViewModel.dragDimension=null,j.dragHasMoved=null,j.potentialClickBand=null,Z(j.parcatsViewModel),J(j.parcatsViewModel);var ze=y.transition().duration(300).ease("cubic-in-out");ze.each(function(){te(j.parcatsViewModel,!0),$(j.parcatsViewModel,!0)}).each("end",function(){(K||se)&&a.restyle(j.parcatsViewModel.graphDiv,q,[oe])})}}function Y(j){for(var q,oe=j.graphDiv._fullData,Q=0;Q<oe.length;Q++)if(j.key===oe[Q].uid){q=Q;break}return q}function $(j,q){q===void 0&&(q=!1);function oe(Q){return q?Q.transition():Q}j.pathSelection.data(function(Q){return Q.paths},n),oe(j.pathSelection).attr("d",function(Q){return Q.svgD})}function te(j,q){q===void 0&&(q=!1);function oe(ye){return q?ye.transition():ye}j.dimensionSelection.data(function(ye){return ye.dimensions},n);var Q=j.dimensionSelection.selectAll("g.category").data(function(ye){return ye.categories},n);oe(j.dimensionSelection).attr("transform",function(ye){return v(ye.x,0)}),oe(Q).attr("transform",function(ye){return v(0,ye.y)});var K=Q.select(".dimlabel");K.text(function(ye,Ee){return Ee===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null});var se=Q.select(".catlabel");se.attr("text-anchor",function(ye){return c(ye)?"start":"end"}).attr("x",function(ye){return c(ye)?ye.width+5:-5}).each(function(ye){var Ee,Te;c(ye)?(Ee=ye.width+5,Te="start"):(Ee=-5,Te="end"),y.select(this).selectAll("tspan").attr("x",Ee).attr("text-anchor",Te)});var ne=Q.selectAll("rect.bandrect").data(function(ye){return ye.bands},n),fe=ne.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);ne.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}),b(fe),ne.each(function(){M.raiseToTop(this)}),ne.exit().remove()}function ie(j,q,oe){var Q=oe[0],K=q.margin||{l:80,r:80,t:100,b:80},se=Q.trace,ne=se.domain,fe=q.width,ye=q.height,Ee=Math.floor(fe*(ne.x[1]-ne.x[0])),Te=Math.floor(ye*(ne.y[1]-ne.y[0])),ze=ne.x[0]*fe+K.l,ke=q.height-ne.y[1]*q.height+K.t,Se=se.line.shape,me;se.hoverinfo==="all"?me=["count","probability"]:me=(se.hoverinfo||"").split("+");var Ce={trace:se,key:se.uid,model:Q,x:ze,y:ke,width:Ee,height:Te,hoveron:se.hoveron,hoverinfoItems:me,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Se,dragDimension:null,margin:K,paths:[],dimensions:[],graphDiv:j,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(Z(Ce),J(Ce)),Ce}function ce(j,q,oe,Q,K){var se=[],ne=[],fe,ye;for(ye=0;ye<oe.length-1;ye++)fe=P(oe[ye]+j[ye],j[ye+1]),se.push(fe(K)),ne.push(fe(1-K));var Ee="M "+j[0]+","+q[0];for(Ee+="l"+oe[0]+",0 ",ye=1;ye<oe.length;ye++)Ee+="C"+se[ye-1]+","+q[ye-1]+" "+ne[ye-1]+","+q[ye]+" "+j[ye]+","+q[ye],Ee+="l"+oe[ye]+",0 ";for(Ee+="l0,"+Q+" ",Ee+="l -"+oe[oe.length-1]+",0 ",ye=oe.length-2;ye>=0;ye--)Ee+="C"+ne[ye]+","+(q[ye+1]+Q)+" "+se[ye]+","+(q[ye]+Q)+" "+(j[ye]+oe[ye])+","+(q[ye]+Q),Ee+="l-"+oe[ye]+",0 ";return Ee+="Z",Ee}function J(j){var q=j.dimensions,oe=j.model,Q=q.map(function(Vt){return Vt.categories.map(function(Je){return Je.y})}),K=j.model.dimensions.map(function(Vt){return Vt.categories.map(function(Je){return Je.displayInd})}),se=j.model.dimensions.map(function(Vt){return Vt.displayInd}),ne=j.dimensions.map(function(Vt){return Vt.model.dimensionInd}),fe=q.map(function(Vt){return Vt.x}),ye=q.map(function(Vt){return Vt.width}),Ee=[];for(var Te in oe.paths)oe.paths.hasOwnProperty(Te)&&Ee.push(oe.paths[Te]);function ze(Vt){var Je=Vt.categoryInds.map(function(Ie,Fe){return K[Fe][Ie]}),Ge=ne.map(function(Ie){return Je[Ie]});return Ge}Ee.sort(function(Vt,Je){var Ge=ze(Vt),Ie=ze(Je);return j.sortpaths==="backward"&&(Ge.reverse(),Ie.reverse()),Ge.push(Vt.valueInds[0]),Ie.push(Je.valueInds[0]),j.bundlecolors&&(Ge.unshift(Vt.rawColor),Ie.unshift(Je.rawColor)),Ge<Ie?-1:Ge>Ie?1:0});for(var ke=new Array(Ee.length),Se=q[0].model.count,me=q[0].categories.map(function(Vt){return Vt.height}).reduce(function(Vt,Je){return Vt+Je}),Ce=0;Ce<Ee.length;Ce++){var Ne=Ee[Ce],He;Se>0?He=me*(Ne.count/Se):He=0;for(var De=new Array(Q.length),Ve=0;Ve<Ne.categoryInds.length;Ve++){var at=Ne.categoryInds[Ve],lt=K[Ve][at],$e=se[Ve];De[$e]=Q[$e][lt],Q[$e][lt]+=He;var et=j.dimensions[$e].categories[lt],ct=et.bands.length,dt=et.bands[ct-1];if(dt===void 0||Ne.rawColor!==dt.rawColor){var gt=dt===void 0?0:dt.y+dt.height;et.bands.push({key:gt,color:Ne.color,rawColor:Ne.rawColor,height:He,width:et.width,count:Ne.count,y:gt,categoryViewModel:et,parcatsViewModel:j})}else{var At=et.bands[ct-1];At.height+=He,At.count+=Ne.count}}var Rt;j.pathShape==="hspline"?Rt=ce(fe,De,ye,He,.5):Rt=ce(fe,De,ye,He,0),ke[Ce]={key:Ne.valueInds[0],model:Ne,height:He,leftXs:fe,topYs:De,dimWidths:ye,svgD:Rt,parcatsViewModel:j}}j.paths=ke}function Z(j){var q=j.model.dimensions.map(function(ne){return{displayInd:ne.displayInd,dimensionInd:ne.dimensionInd}});q.sort(function(ne,fe){return ne.displayInd-fe.displayInd});var oe=[];for(var Q in q){var K=q[Q].dimensionInd,se=j.model.dimensions[K];oe.push(ae(j,se))}j.dimensions=oe}function ae(j,q){var oe=40,Q=16,K=j.model.dimensions.length,se=q.displayInd,ne,fe,ye;K>1?ne=(j.width-2*oe-Q)/(K-1):ne=0,fe=oe,ye=fe+ne*se;var Ee=[],Te=j.model.maxCats,ze=q.categories.length,ke=8,Se=q.count,me=j.height-ke*(Te-1),Ce,Ne,He,De,Ve,at=(Te-ze)*ke/2,lt=q.categories.map(function($e){return{displayInd:$e.displayInd,categoryInd:$e.categoryInd}});for(lt.sort(function($e,et){return $e.displayInd-et.displayInd}),Ve=0;Ve<ze;Ve++)De=lt[Ve].categoryInd,Ne=q.categories[De],Se>0?Ce=Ne.count/Se*me:Ce=0,He={key:Ne.valueInds[0],model:Ne,width:Q,height:Ce,y:Ne.dragY!==null?Ne.dragY:at,bands:[],parcatsViewModel:j},at=at+Ce+ke,Ee.push(He);return{key:q.dimensionInd,x:q.dragX!==null?q.dragX:ye,y:0,width:Q,model:q,categories:Ee,parcatsViewModel:j,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(G,H,e){var y=e(45460);G.exports=function(a,L,M,v){var p=a._fullLayout,r=p._paper,t=p._size;y(a,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},M,v)}},73362:function(G,H,e){var y=e(50693),P=e(13838),a=e(41940),L=e(27670).Y,M=e(1426).extendFlat,v=e(44467).templatedArray;G.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},P.tickvals,{editType:"plot"}),ticktext:M({},P.ticktext,{editType:"plot"}),tickformat:M({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},y("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(G,H,e){var y=e(25706),P=e(39898),a=e(28984).keyFun,L=e(28984).repeat,M=e(71828).sorterAsc,v=e(71828).strTranslate,p=y.bar.snapRatio;function r(N,Y){return N*(1-p)+Y*p}var t=y.bar.snapClose;function o(N,Y){return N*(1-t)+Y*t}function n(N,Y,$,te){if(c($,te))return $;var ie=N?-1:1,ce=0,J=Y.length-1;if(ie<0){var Z=ce;ce=J,J=Z}for(var ae=Y[ce],j=ae,q=ce;ie*q<ie*J;q+=ie){var oe=q+ie,Q=Y[oe];if(ie*$<ie*o(ae,Q))return r(ae,j);if(ie*$<ie*Q||oe===J)return r(Q,ae);j=ae,ae=Q}}function c(N,Y){for(var $=0;$<Y.length;$++)if(N>=Y[$][0]&&N<=Y[$][1])return!0;return!1}function u(N){N.attr("x",-y.bar.captureWidth/2).attr("width",y.bar.captureWidth)}function l(N){N.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(N){if(!N.brush.filterSpecified)return"0,"+N.height;for(var Y=f(N.brush.filter.getConsolidated(),N.height),$=[0],te,ie,ce,J=Y.length?Y[0][0]:null,Z=0;Z<Y.length;Z++)te=Y[Z],ie=te[1]-te[0],$.push(J),$.push(ie),ce=Z+1,ce<Y.length&&(J=Y[ce][0]-te[1]);return $.push(N.height),$}function f(N,Y){return N.map(function($){return $.map(function(te){return Math.max(0,te*Y)}).sort(M)})}function T(N,Y){var $=y.bar.handleHeight;if(!(Y>N[1]+$||Y<N[0]-$))return Y>=.9*N[1]+.1*N[0]?"n":Y<=.9*N[0]+.1*N[1]?"s":"ns"}function h(){P.select(document.body).style("cursor",null)}function s(N){N.attr("stroke-dasharray",g)}function d(N,Y){var $=P.select(N).selectAll(".highlight, .highlight-shadow"),te=Y?$.transition().duration(y.bar.snapDuration).each("end",Y):$;s(te)}function A(N,Y){var $=N.brush,te=$.filterSpecified,ie=NaN,ce={},J;if(te){var Z=N.height,ae=$.filter.getConsolidated(),j=f(ae,Z),q=NaN,oe=NaN,Q=NaN;for(J=0;J<=j.length;J++){var K=j[J];if(K&&K[0]<=Y&&Y<=K[1]){q=J;break}else if(oe=J?J-1:NaN,K&&K[0]>Y){Q=J;break}}if(ie=q,isNaN(ie)&&(isNaN(oe)||isNaN(Q)?ie=isNaN(oe)?Q:oe:ie=Y-j[oe][1]<j[Q][0]-Y?oe:Q),!isNaN(ie)){var se=j[ie],ne=T(se,Y);ne&&(ce.interval=ae[ie],ce.intervalPix=se,ce.region=ne)}}if(N.ordinal&&!ce.region){var fe=N.unitTickvals,ye=N.unitToPaddedPx.invert(Y);for(J=0;J<fe.length;J++){var Ee=[fe[Math.max(J-1,0)]*.25+fe[J]*.75,fe[Math.min(J+1,fe.length-1)]*.25+fe[J]*.75];if(ye>=Ee[0]&&ye<=Ee[1]){ce.clickableOrdinalRange=Ee;break}}}return ce}function w(N,Y){P.event.sourceEvent.stopPropagation();var $=Y.height-P.mouse(N)[1]-2*y.verticalPadding,te=Y.unitToPaddedPx.invert($),ie=Y.brush,ce=A(Y,$),J=ce.interval,Z=ie.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=ce.region==="ns",Z.grabbingBar){var ae=J.map(Y.unitToPaddedPx);Z.grabPoint=$-ae[0]-y.verticalPadding,Z.barLength=ae[1]-ae[0]}Z.clickableOrdinalRange=ce.clickableOrdinalRange,Z.stayingIntervals=Y.multiselect&&ie.filterSpecified?ie.filter.getConsolidated():[],J&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(j){return j[0]!==J[0]&&j[1]!==J[1]})),Z.startExtent=ce.region?J[ce.region==="s"?1:0]:te,Y.parent.inBrushDrag=!0,Z.brushStartCallback()}function C(N,Y){P.event.sourceEvent.stopPropagation();var $=Y.height-P.mouse(N)[1]-2*y.verticalPadding,te=Y.brush.svgBrush;te.wasDragged=!0,te._dragging=!0,te.grabbingBar?te.newExtent=[$-te.grabPoint,$+te.barLength-te.grabPoint].map(Y.unitToPaddedPx.invert):te.newExtent=[te.startExtent,Y.unitToPaddedPx.invert($)].sort(M),Y.brush.filterSpecified=!0,te.extent=te.stayingIntervals.concat([te.newExtent]),te.brushCallback(Y),d(N.parentNode)}function b(N,Y){var $=Y.brush,te=$.filter,ie=$.svgBrush;ie._dragging||(S(N,Y),C(N,Y),Y.brush.svgBrush.wasDragged=!1),ie._dragging=!1;var ce=P.event;ce.sourceEvent.stopPropagation();var J=ie.grabbingBar;if(ie.grabbingBar=!1,ie.grabLocation=void 0,Y.parent.inBrushDrag=!1,h(),!ie.wasDragged){ie.wasDragged=void 0,ie.clickableOrdinalRange?$.filterSpecified&&Y.multiselect?ie.extent.push(ie.clickableOrdinalRange):(ie.extent=[ie.clickableOrdinalRange],$.filterSpecified=!0):J?(ie.extent=ie.stayingIntervals,ie.extent.length===0&&I($)):I($),ie.brushCallback(Y),d(N.parentNode),ie.brushEndCallback($.filterSpecified?te.getConsolidated():[]);return}var Z=function(){te.set(te.getConsolidated())};if(Y.ordinal){var ae=Y.unitTickvals;ae[ae.length-1]<ae[0]&&ae.reverse(),ie.newExtent=[n(0,ae,ie.newExtent[0],ie.stayingIntervals),n(1,ae,ie.newExtent[1],ie.stayingIntervals)];var j=ie.newExtent[1]>ie.newExtent[0];ie.extent=ie.stayingIntervals.concat(j?[ie.newExtent]:[]),ie.extent.length||I($),ie.brushCallback(Y),j?d(N.parentNode,Z):(Z(),d(N.parentNode))}else Z();ie.brushEndCallback($.filterSpecified?te.getConsolidated():[])}function S(N,Y){var $=Y.height-P.mouse(N)[1]-2*y.verticalPadding,te=A(Y,$),ie="crosshair";te.clickableOrdinalRange?ie="pointer":te.region&&(ie=te.region+"-resize"),P.select(document.body).style("cursor",ie)}function x(N){N.on("mousemove",function(Y){P.event.preventDefault(),Y.parent.inBrushDrag||S(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||h()}).call(P.behavior.drag().on("dragstart",function(Y){w(this,Y)}).on("drag",function(Y){C(this,Y)}).on("dragend",function(Y){b(this,Y)}))}function i(N,Y){return N[0]-Y[0]}function E(N,Y,$){var te=$._context.staticPlot,ie=N.selectAll(".background").data(L);ie.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",te?"none":"auto").attr("transform",v(0,y.verticalPadding)),ie.call(x).attr("height",function(Z){return Z.height-y.verticalPadding});var ce=N.selectAll(".highlight-shadow").data(L);ce.enter().append("line").classed("highlight-shadow",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width+y.bar.strokeWidth).attr("stroke",Y).attr("opacity",y.bar.strokeOpacity).attr("stroke-linecap","butt"),ce.attr("y1",function(Z){return Z.height}).call(s);var J=N.selectAll(".highlight").data(L);J.enter().append("line").classed("highlight",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width-y.bar.strokeWidth).attr("stroke",y.bar.fillColor).attr("opacity",y.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(Z){return Z.height}).call(s)}function m(N,Y,$){var te=N.selectAll("."+y.cn.axisBrush).data(L,a);te.enter().append("g").classed(y.cn.axisBrush,!0),E(te,Y,$)}function k(N){return N.svgBrush.extent.map(function(Y){return Y.slice()})}function I(N){N.filterSpecified=!1,N.svgBrush.extent=[[-1/0,1/0]]}function U(N){return function($){var te=$.brush,ie=k(te),ce=ie.slice();te.filter.set(ce),N()}}function z(N){for(var Y=N.slice(),$=[],te,ie=Y.shift();ie;){for(te=ie.slice();(ie=Y.shift())&&ie[0]<=te[1];)te[1]=Math.max(te[1],ie[1]);$.push(te)}return $.length===1&&$[0][0]>$[0][1]&&($=[]),$}function F(){var N=[],Y,$;return{set:function(te){N=te.map(function(ie){return ie.slice().sort(M)}).sort(i),N.length===1&&N[0][0]===-1/0&&N[0][1]===1/0&&(N=[[0,-1]]),Y=z(N),$=N.reduce(function(ie,ce){return[Math.min(ie[0],ce[0]),Math.max(ie[1],ce[1])]},[1/0,-1/0])},get:function(){return N.slice()},getConsolidated:function(){return Y},getBounds:function(){return $}}}function B(N,Y,$,te,ie,ce){var J=F();return J.set($),{filter:J,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:te,brushCallback:U(ie),brushEndCallback:ce}}}function O(N,Y){if(Array.isArray(N[0])?(N=N.map(function(te){return te.sort(M)}),Y.multiselect?N=z(N.sort(i)):N=[N[0]]):N=[N.sort(M)],Y.tickvals){var $=Y.tickvals.slice().sort(M);if(N=N.map(function(te){var ie=[n(0,$,te[0],[]),n(1,$,te[1],[])];if(ie[1]>ie[0])return ie}).filter(function(te){return te}),!N.length)return}return N.length>1?N:N[0]}G.exports={makeBrush:B,ensureAxisBrush:m,cleanRanges:O}},71791:function(G,H,e){G.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(G,H,e){var y=e(39898),P=e(27659).a0,a=e(21341),L=e(77922);H.name="parcoords",H.plot=function(M){var v=P(M.calcdata,"parcoords")[0];v.length&&a(M,v)},H.clean=function(M,v,p,r){var t=r._has&&r._has("parcoords"),o=v._has&&v._has("parcoords");t&&!o&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},H.toSVG=function(M){var v=M._fullLayout._glimages,p=y.select(M).selectAll(".svg-container"),r=p.filter(function(o,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var o=this,n=o.toDataURL("image/png"),c=v.append("svg:image");c.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}r.each(t),window.setTimeout(function(){y.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(G,H,e){var y=e(71828).isArrayOrTypedArray,P=e(21081),a=e(28984).wrap;G.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&y(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(p._length),t=[[0,p.line.color],[1,p.line.color]]),a({lineColor:r,cscale:t})};function L(M){for(var v=new Array(M),p=0;p<M;p++)v[p]=.5;return v}},25706:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(G,H,e){var y=e(71828),P=e(52075).hasColorscale,a=e(1586),L=e(27670).c,M=e(85501),v=e(89298),p=e(73362),r=e(57920),t=e(25706).maxDimensionCount,o=e(94397);function n(u,l,g,f,T){var h=T("line.color",g);if(P(u,"line")&&y.isArrayOrTypedArray(h)){if(h.length)return T("line.colorscale"),a(u,l,f,T,{prefix:"line.",cLetter:"c"}),h.length;l.line.color=g}return 1/0}function c(u,l,g,f){function T(w,C){return y.coerce(u,l,p.dimensions,w,C)}var h=T("values"),s=T("visible");if(h&&h.length||(s=l.visible=!1),s){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,f.layout),T("multiselect");var A=T("constraintrange");A&&(l.constraintrange=r.cleanRanges(A,l))}}G.exports=function(l,g,f,T){function h(C,b){return y.coerce(l,g,p,C,b)}var s=l.dimensions;Array.isArray(s)&&s.length>t&&(y.log("parcoords traces support up to "+t+" dimensions at the moment"),s.splice(t));var d=M(l,g,{name:"dimensions",layout:T,handleItemDefaults:c}),A=n(l,g,f,T,h);L(g,T,h),(!Array.isArray(d)||!d.length)&&(g.visible=!1),o(g,d,"values",A);var w={family:T.font.family,size:Math.round(T.font.size/1.2),color:T.font.color};y.coerceFont(h,"labelfont",w),y.coerceFont(h,"tickfont",w),y.coerceFont(h,"rangefont",w),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(G,H,e){var y=e(71828).isTypedArray;H.convertTypedArray=function(P){return y(P)?Array.prototype.slice.call(P):P},H.isOrdinal=function(P){return!!P.tickvals},H.isVisible=function(P){return P.visible||!("visible"in P)}},67618:function(G,H,e){var y=e(71791);y.plot=e(21341),G.exports=y},83398:function(G,H,e){var y=e(56068),P=y([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=y([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),L=e(25706).maxDimensionCount,M=e(71828),v=1e-6,p=2048,r=new Uint8Array(4),t=new Uint8Array(4),o={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(S){S.read({x:0,y:0,width:1,height:1,data:r})}function c(S,x,i,E,m){var k=S._gl;k.enable(k.SCISSOR_TEST),k.scissor(x,i,E,m),S.clear({color:[0,0,0,0],depth:1})}function u(S,x,i,E,m,k){var I=k.key;function U(z){var F=Math.min(E,m-z*E);z===0&&(window.cancelAnimationFrame(i.currentRafs[I]),delete i.currentRafs[I],c(S,k.scissorX,k.scissorY,k.scissorWidth,k.viewBoxSize[1])),!i.clearOnly&&(k.count=2*F,k.offset=2*z*E,x(k),z*E+F<m&&(i.currentRafs[I]=window.requestAnimationFrame(function(){U(z+1)})),i.drawCompleted=!1)}i.drawCompleted||(n(S),i.drawCompleted=!0),U(0)}function l(S){return Math.max(v,Math.min(1-v,S))}function g(S,x){for(var i=new Array(256),E=0;E<256;E++)i[E]=S(E/255).concat(x);return i}function f(S,x){return(S>>>8*x)%256/255}function T(S,x,i){for(var E=new Array(S*(L+4)),m=0,k=0;k<S;k++){for(var I=0;I<L;I++)E[m++]=I<x.length?x[I].paddedUnitValues[k]:.5;E[m++]=f(k,2),E[m++]=f(k,1),E[m++]=f(k,0),E[m++]=l(i[k])}return E}function h(S,x,i){for(var E=new Array(x*8),m=0,k=0;k<x;k++)for(var I=0;I<2;I++)for(var U=0;U<4;U++){var z=S*4+U,F=i[k*64+z];z===63&&I===0&&(F*=-1),E[m++]=F}return E}function s(S){var x="0"+S;return x.substr(x.length-2)}function d(S){return S<L?"p"+s(S+1)+"_"+s(S+4):"colors"}function A(S,x,i){for(var E=0;E<=L;E+=4)S[d(E)](h(E/4,x,i))}function w(S){for(var x={},i=0;i<=L;i+=4)x[d(i)]=S.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return x}function C(S,x,i,E,m,k,I,U,z,F,B,O,N,Y){for(var $=[[],[]],te=0;te<64;te++)$[0][te]=te===m?1:0,$[1][te]=te===k?1:0;I*=Y,U*=Y,z*=Y,F*=Y;var ie=S.lines.canvasOverdrag*Y,ce=S.domain,J=S.canvasWidth*Y,Z=S.canvasHeight*Y,ae=S.pad.l*Y,j=S.pad.b*Y,q=S.layoutHeight*Y,oe=S.layoutWidth*Y,Q=S.deselectedLines.color,K=S.deselectedLines.opacity,se=M.extendFlat({key:B,resolution:[J,Z],viewBoxPos:[I+ie,U],viewBoxSize:[z,F],i0:m,i1:k,dim0A:$[0].slice(0,16),dim0B:$[0].slice(16,32),dim0C:$[0].slice(32,48),dim0D:$[0].slice(48,64),dim1A:$[1].slice(0,16),dim1B:$[1].slice(16,32),dim1C:$[1].slice(32,48),dim1D:$[1].slice(48,64),drwLayer:O,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,K!=="auto"?Q[3]*K:Math.max(1/255,Math.pow(1/S.lines.color.length,1/3))],scissorX:(E===x?0:I+ie)+(ae-ie)+oe*ce.x[0],scissorWidth:(E===i?J-I+ie:z+.5)+(E===x?I+ie:0),scissorY:U+j+q*ce.y[0],scissorHeight:F,viewportX:ae-ie+oe*ce.x[0],viewportY:j+q*ce.y[0],viewportWidth:J,viewportHeight:Z},N);return se}function b(S){var x=p-1,i=Math.max(0,Math.floor(S[0]*x),0),E=Math.min(x,Math.ceil(S[1]*x),x);return[Math.min(i,E),Math.max(i,E)]}G.exports=function(S,x){var i=x.context,E=x.pick,m=x.regl,k=m._gl,I=k.getParameter(k.ALIASED_LINE_WIDTH_RANGE),U=Math.max(I[0],Math.min(I[1],x.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},F,B,O,N,Y=w(m),$,te=m.texture(o),ie=[];J(x);var ce=m({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:m.prop("scissorX"),y:m.prop("scissorY"),width:m.prop("scissorWidth"),height:m.prop("scissorHeight")}},viewport:{x:m.prop("viewportX"),y:m.prop("viewportY"),width:m.prop("viewportWidth"),height:m.prop("viewportHeight")},dither:!1,vert:P,frag:a,primitive:"lines",lineWidth:U,attributes:Y,uniforms:{resolution:m.prop("resolution"),viewBoxPos:m.prop("viewBoxPos"),viewBoxSize:m.prop("viewBoxSize"),dim0A:m.prop("dim0A"),dim1A:m.prop("dim1A"),dim0B:m.prop("dim0B"),dim1B:m.prop("dim1B"),dim0C:m.prop("dim0C"),dim1C:m.prop("dim1C"),dim0D:m.prop("dim0D"),dim1D:m.prop("dim1D"),loA:m.prop("loA"),hiA:m.prop("hiA"),loB:m.prop("loB"),hiB:m.prop("hiB"),loC:m.prop("loC"),hiC:m.prop("hiC"),loD:m.prop("loD"),hiD:m.prop("hiD"),palette:te,contextColor:m.prop("contextColor"),maskTexture:m.prop("maskTexture"),drwLayer:m.prop("drwLayer"),maskHeight:m.prop("maskHeight")},offset:m.prop("offset"),count:m.prop("count")});function J(Q){F=Q.model,B=Q.viewModel,O=B.dimensions.slice(),N=O[0]?O[0].values.length:0;var K=F.lines,se=E?K.color.map(function(fe,ye){return ye/K.color.length}):K.color,ne=T(N,O,se);A(Y,N,ne),!i&&!E&&(te=m.texture(M.extendFlat({data:g(F.unitToColor,255)},o)))}function Z(Q){var K,se,ne,fe=[[],[]];for(ne=0;ne<64;ne++){var ye=!Q&&ne<O.length?O[ne].brush.filter.getBounds():[-1/0,1/0];fe[0][ne]=ye[0],fe[1][ne]=ye[1]}var Ee=p*8,Te=new Array(Ee);for(K=0;K<Ee;K++)Te[K]=255;if(!Q)for(K=0;K<O.length;K++){var ze=K%8,ke=(K-ze)/8,Se=Math.pow(2,ze),me=O[K],Ce=me.brush.filter.get();if(!(Ce.length<2)){var Ne=b(Ce[0])[1];for(se=1;se<Ce.length;se++){var He=b(Ce[se]);for(ne=Ne+1;ne<He[0];ne++)Te[ne*8+ke]&=~Se;Ne=Math.max(Ne,He[1])}}}var De={shape:[8,p],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Te};return $?$(De):$=m.texture(De),{maskTexture:$,maskHeight:p,loA:fe[0].slice(0,16),loB:fe[0].slice(16,32),loC:fe[0].slice(32,48),loD:fe[0].slice(48,64),hiA:fe[1].slice(0,16),hiB:fe[1].slice(16,32),hiC:fe[1].slice(32,48),hiD:fe[1].slice(48,64)}}function ae(Q,K,se){var ne=Q.length,fe,ye,Ee,Te=1/0,ze=-1/0;for(fe=0;fe<ne;fe++)Q[fe].dim0.canvasX<Te&&(Te=Q[fe].dim0.canvasX,ye=fe),Q[fe].dim1.canvasX>ze&&(ze=Q[fe].dim1.canvasX,Ee=fe);ne===0&&c(m,0,0,F.canvasWidth,F.canvasHeight);var ke=Z(i);for(fe=0;fe<ne;fe++){var Se=Q[fe],me=Se.dim0.crossfilterDimensionIndex,Ce=Se.dim1.crossfilterDimensionIndex,Ne=Se.canvasX,He=Se.canvasY,De=Ne+Se.panelSizeX,Ve=Se.plotGlPixelRatio;if(K||!ie[me]||ie[me][0]!==Ne||ie[me][1]!==De){ie[me]=[Ne,De];var at=C(F,ye,Ee,fe,me,Ce,Ne,He,Se.panelSizeX,Se.panelSizeY,Se.dim0.crossfilterDimensionIndex,i?0:E?2:1,ke,Ve);z.clearOnly=se;var lt=K?F.lines.blockLineCount:N;u(m,ce,z,lt,N,at)}}}function j(Q,K){return m.read({x:Q,y:K,width:1,height:1,data:t}),t}function q(Q,K,se,ne){var fe=new Uint8Array(4*se*ne);return m.read({x:Q,y:K,width:se,height:ne,data:fe}),fe}function oe(){S.style["pointer-events"]="none",te.destroy(),$&&$.destroy();for(var Q in Y)Y[Q].destroy()}return{render:ae,readPixel:j,readPixels:q,destroy:oe,update:J}}},94397:function(G){G.exports=function(H,e,y,P){P||(P=1/0);var a,L;for(a=0;a<e.length;a++)L=e[a],L.visible&&(P=Math.min(P,L[y].length));for(P===1/0&&(P=0),H._length=P,a=0;a<e.length;a++)L=e[a],L.visible&&(L._length=P);return P}},17171:function(G,H,e){var y=e(39898),P=e(71828),a=P.isArrayOrTypedArray,L=P.numberFormat,M=e(36652),v=e(89298),p=P.strRotate,r=P.strTranslate,t=e(63893),o=e(91424),n=e(21081),c=e(28984),u=c.keyFun,l=c.repeat,g=c.unwrap,f=e(1602),T=e(25706),h=e(57920),s=e(83398);function d(te,ie,ce){return P.aggNums(te,null,ie,ce)}function A(te,ie){return C(d(Math.min,te,ie),d(Math.max,te,ie))}function w(te){var ie=te.range;return ie?C(ie[0],ie[1]):A(te.values,te._length)}function C(te,ie){return(isNaN(te)||!isFinite(te))&&(te=0),(isNaN(ie)||!isFinite(ie))&&(ie=0),te===ie&&(te===0?(te-=1,ie+=1):(te*=.9,ie*=1.1)),[te,ie]}function b(te,ie){return ie?function(ce,J){var Z=ie[J];return Z??te(ce)}:te}function S(te,ie,ce,J,Z){var ae=w(ce);return J?y.scale.ordinal().domain(J.map(b(L(ce.tickformat),Z))).range(J.map(function(j){var q=(j-ae[0])/(ae[1]-ae[0]);return te-ie+q*(2*ie-te)})):y.scale.linear().domain(ae).range([te-ie,ie])}function x(te,ie){return y.scale.linear().range([ie,te-ie])}function i(te,ie){return y.scale.linear().domain(w(te)).range([ie,1-ie])}function E(te){if(te.tickvals){var ie=w(te);return y.scale.ordinal().domain(te.tickvals).range(te.tickvals.map(function(ce){return(ce-ie[0])/(ie[1]-ie[0])}))}}function m(te){var ie=te.map(function(ae){return ae[0]}),ce=te.map(function(ae){var j=M(ae[1]);return y.rgb("rgb("+j[0]+","+j[1]+","+j[2]+")")}),J=function(ae){return function(j){return j[ae]}},Z="rgb".split("").map(function(ae){return y.scale.linear().clamp(!0).domain(ie).range(ce.map(J(ae)))});return function(ae){return Z.map(function(j){return j(ae)})}}function k(te){return te.dimensions.some(function(ie){return ie.brush.filterSpecified})}function I(te,ie,ce){var J=g(ie),Z=J.trace,ae=f.convertTypedArray(J.lineColor),j=Z.line,q={color:M(Z.unselected.line.color),opacity:Z.unselected.line.opacity},oe=n.extractOpts(j),Q=oe.reversescale?n.flipScale(J.cscale):J.cscale,K=Z.domain,se=Z.dimensions,ne=te.width,fe=Z.labelangle,ye=Z.labelside,Ee=Z.labelfont,Te=Z.tickfont,ze=Z.rangefont,ke=P.extendDeepNoArrays({},j,{color:ae.map(y.scale.linear().domain(w({values:ae,range:[oe.min,oe.max],_length:Z._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Se=Math.floor(ne*(K.x[1]-K.x[0])),me=Math.floor(te.height*(K.y[1]-K.y[0])),Ce=te.margin||{l:80,r:80,t:100,b:80},Ne=Se,He=me;return{key:ce,colCount:se.filter(f.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:m(Q),lines:ke,deselectedLines:q,labelAngle:fe,labelSide:ye,labelFont:Ee,tickFont:Te,rangeFont:ze,layoutWidth:ne,layoutHeight:te.height,domain:K,translateX:K.x[0]*ne,translateY:te.height-K.y[1]*te.height,pad:Ce,canvasWidth:Ne*T.canvasPixelRatio+2*ke.canvasOverdrag,canvasHeight:He*T.canvasPixelRatio,width:Ne,height:He,canvasPixelRatio:T.canvasPixelRatio}}function U(te,ie,ce){var J=ce.width,Z=ce.height,ae=ce.dimensions,j=ce.canvasPixelRatio,q=function(ne){return J*ne/Math.max(1,ce.colCount-1)},oe=T.verticalPadding/Z,Q=x(Z,T.verticalPadding),K={key:ce.key,xScale:q,model:ce,inBrushDrag:!1},se={};return K.dimensions=ae.filter(f.isVisible).map(function(ne,fe){var ye=i(ne,oe),Ee=se[ne.label];se[ne.label]=(Ee||0)+1;var Te=ne.label+(Ee?"__"+Ee:""),ze=ne.constraintrange,ke=ze&&ze.length;ke&&!a(ze[0])&&(ze=[ze]);var Se=ke?ze.map(function(et){return et.map(ye)}):[[-1/0,1/0]],me=function(){var et=K;et.focusLayer&&et.focusLayer.render(et.panels,!0);var ct=k(et);!te.contextShown()&&ct?(et.contextLayer&&et.contextLayer.render(et.panels,!0),te.contextShown(!0)):te.contextShown()&&!ct&&(et.contextLayer&&et.contextLayer.render(et.panels,!0,!0),te.contextShown(!1))},Ce=ne.values;Ce.length>ne._length&&(Ce=Ce.slice(0,ne._length));var Ne=ne.tickvals,He;function De(et,ct){return{val:et,text:He[ct]}}function Ve(et,ct){return et.val-ct.val}if(a(Ne)&&Ne.length){P.isTypedArray(Ne)&&(Ne=Array.from(Ne)),He=ne.ticktext,!a(He)||!He.length?He=Ne.map(L(ne.tickformat)):He.length>Ne.length?He=He.slice(0,Ne.length):Ne.length>He.length&&(Ne=Ne.slice(0,He.length));for(var at=1;at<Ne.length;at++)if(Ne[at]<Ne[at-1]){for(var lt=Ne.map(De).sort(Ve),$e=0;$e<Ne.length;$e++)Ne[$e]=lt[$e].val,He[$e]=lt[$e].text;break}}else Ne=void 0;return Ce=f.convertTypedArray(Ce),{key:Te,label:ne.label,tickFormat:ne.tickformat,tickvals:Ne,ticktext:He,ordinal:f.isOrdinal(ne),multiselect:ne.multiselect,xIndex:fe,crossfilterDimensionIndex:fe,visibleIndex:ne._index,height:Z,values:Ce,paddedUnitValues:Ce.map(ye),unitTickvals:Ne&&Ne.map(ye),xScale:q,x:q(fe),canvasX:q(fe)*j,unitToPaddedPx:Q,domainScale:S(Z,T.verticalPadding,ne,Ne,He),ordinalScale:E(ne),parent:K,model:ce,brush:h.makeBrush(te,ke,Se,function(){te.linePickActive(!1)},me,function(et){if(K.focusLayer.render(K.panels,!0),K.pickLayer&&K.pickLayer.render(K.panels,!0),te.linePickActive(!0),ie&&ie.filterChanged){var ct=ye.invert,dt=et.map(function(gt){return gt.map(ct).sort(P.sorterAsc)}).sort(function(gt,At){return gt[0]-At[0]});ie.filterChanged(K.key,ne._index,dt)}})}}),K}function z(te){te.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var te=!0,ie=!1;return{linePickActive:function(ce){return arguments.length?te=!!ce:te},contextShown:function(ce){return arguments.length?ie=!!ce:ie}}}function B(te,ie){var ce=ie==="top"?1:-1,J=te*Math.PI/180,Z=Math.sin(J),ae=Math.cos(J);return{dir:ce,dx:Z,dy:ae,degrees:te}}function O(te,ie,ce){for(var J=ie.panels||(ie.panels=[]),Z=te.data(),ae=0;ae<Z.length-1;ae++){var j=J[ae]||(J[ae]={}),q=Z[ae],oe=Z[ae+1];j.dim0=q,j.dim1=oe,j.canvasX=q.canvasX,j.panelSizeX=oe.canvasX-q.canvasX,j.panelSizeY=ie.model.canvasHeight,j.y=0,j.canvasY=0,j.plotGlPixelRatio=ce}}function N(te){for(var ie=0;ie<te.length;ie++)for(var ce=0;ce<te[ie].length;ce++)for(var J=te[ie][ce].trace,Z=J.dimensions,ae=0;ae<Z.length;ae++){var j=Z[ae].values,q=Z[ae]._ax;q&&(q.range?q.range=C(q.range[0],q.range[1]):q.range=A(j,J._length),q.dtick||(q.dtick=.01*(Math.abs(q.range[1]-q.range[0])||1)),q.tickformat=Z[ae].tickformat,v.calcTicks(q),q.cleanRange())}}function Y(te,ie){return v.tickText(te._ax,ie,!1).text}function $(te,ie){if(te.ordinal)return"";var ce=te.domainScale.domain(),J=ce[ie?ce.length-1:0];return Y(te.model.dimensions[te.visibleIndex],J)}G.exports=function(ie,ce,J,Z){var ae=ie._context.staticPlot,j=ie._fullLayout,q=j._toppaper,oe=j._glcontainer,Q=ie._context.plotGlPixelRatio,K=ie._fullLayout.paper_bgcolor;N(ce);var se=F(),ne=ce.filter(function($e){return g($e).trace.visible}).map(I.bind(0,J)).map(U.bind(0,se,Z));oe.each(function($e,et){return P.extendFlat($e,ne[et])});var fe=oe.selectAll(".gl-canvas").each(function($e){$e.viewModel=ne[0],$e.viewModel.plotGlPixelRatio=Q,$e.viewModel.paperColor=K,$e.model=$e.viewModel?$e.viewModel.model:null}),ye=null,Ee=fe.filter(function($e){return $e.pick});Ee.style("pointer-events",ae?"none":"auto").on("mousemove",function($e){if(se.linePickActive()&&$e.lineLayer&&Z&&Z.hover){var et=y.event,ct=this.width,dt=this.height,gt=y.mouse(this),At=gt[0],Rt=gt[1];if(At<0||Rt<0||At>=ct||Rt>=dt)return;var Vt=$e.lineLayer.readPixel(At,dt-1-Rt),Je=Vt[3]!==0,Ge=Je?Vt[2]+256*(Vt[1]+256*Vt[0]):null,Ie={x:At,y:Rt,clientX:et.clientX,clientY:et.clientY,dataIndex:$e.model.key,curveNumber:Ge};Ge!==ye&&(Je?Z.hover(Ie):Z.unhover&&Z.unhover(Ie),ye=Ge)}}),fe.style("opacity",function($e){return $e.pick?0:1}),q.style("background","rgba(255, 255, 255, 0)");var Te=q.selectAll("."+T.cn.parcoords).data(ne,u);Te.exit().remove(),Te.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Te.attr("transform",function($e){return r($e.model.translateX,$e.model.translateY)});var ze=Te.selectAll("."+T.cn.parcoordsControlView).data(l,u);ze.enter().append("g").classed(T.cn.parcoordsControlView,!0),ze.attr("transform",function($e){return r($e.model.pad.l,$e.model.pad.t)});var ke=ze.selectAll("."+T.cn.yAxis).data(function($e){return $e.dimensions},u);ke.enter().append("g").classed(T.cn.yAxis,!0),ze.each(function($e){O(ke,$e,Q)}),fe.each(function($e){if($e.viewModel){!$e.lineLayer||Z?$e.lineLayer=s(this,$e):$e.lineLayer.update($e),($e.key||$e.key===0)&&($e.viewModel[$e.key]=$e.lineLayer);var et=!$e.context||Z;$e.lineLayer.render($e.viewModel.panels,et)}}),ke.attr("transform",function($e){return r($e.xScale($e.xIndex),0)}),ke.call(y.behavior.drag().origin(function($e){return $e}).on("drag",function($e){var et=$e.parent;se.linePickActive(!1),$e.x=Math.max(-T.overdrag,Math.min($e.model.width+T.overdrag,y.event.x)),$e.canvasX=$e.x*$e.model.canvasPixelRatio,ke.sort(function(ct,dt){return ct.x-dt.x}).each(function(ct,dt){ct.xIndex=dt,ct.x=$e===ct?ct.x:ct.xScale(ct.xIndex),ct.canvasX=ct.x*ct.model.canvasPixelRatio}),O(ke,et,Q),ke.filter(function(ct){return Math.abs($e.xIndex-ct.xIndex)!==0}).attr("transform",function(ct){return r(ct.xScale(ct.xIndex),0)}),y.select(this).attr("transform",r($e.x,0)),ke.each(function(ct,dt,gt){gt===$e.parent.key&&(et.dimensions[dt]=ct)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!k(et)),et.focusLayer.render&&et.focusLayer.render(et.panels)}).on("dragend",function($e){var et=$e.parent;$e.x=$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio,O(ke,et,Q),y.select(this).attr("transform",function(ct){return r(ct.x,0)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!k(et)),et.focusLayer&&et.focusLayer.render(et.panels),et.pickLayer&&et.pickLayer.render(et.panels,!0),se.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(et.key,et.dimensions.map(function(ct){return ct.crossfilterDimensionIndex}))})),ke.exit().remove();var Se=ke.selectAll("."+T.cn.axisOverlays).data(l,u);Se.enter().append("g").classed(T.cn.axisOverlays,!0),Se.selectAll("."+T.cn.axis).remove();var me=Se.selectAll("."+T.cn.axis).data(l,u);me.enter().append("g").classed(T.cn.axis,!0),me.each(function($e){var et=$e.model.height/$e.model.tickDistance,ct=$e.domainScale,dt=ct.domain();y.select(this).call(y.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(et,$e.tickFormat).tickValues($e.ordinal?dt:null).tickFormat(function(gt){return f.isOrdinal($e)?gt:Y($e.model.dimensions[$e.visibleIndex],gt)}).scale(ct)),o.font(me.selectAll("text"),$e.model.tickFont)}),me.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),me.selectAll("text").style("text-shadow",t.makeTextShadow(K)).style("cursor","default");var Ce=Se.selectAll("."+T.cn.axisHeading).data(l,u);Ce.enter().append("g").classed(T.cn.axisHeading,!0);var Ne=Ce.selectAll("."+T.cn.axisTitle).data(l,u);Ne.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ae?"none":"auto"),Ne.text(function($e){return $e.label}).each(function($e){var et=y.select(this);o.font(et,$e.model.labelFont),t.convertToTspans(et,ie)}).attr("transform",function($e){var et=B($e.model.labelAngle,$e.model.labelSide),ct=T.axisTitleOffset;return(et.dir>0?"":r(0,2*ct+$e.model.height))+p(et.degrees)+r(-ct*et.dx,-ct*et.dy)}).attr("text-anchor",function($e){var et=B($e.model.labelAngle,$e.model.labelSide),ct=Math.abs(et.dx),dt=Math.abs(et.dy);return 2*ct>dt?et.dir*et.dx<0?"start":"end":"middle"});var He=Se.selectAll("."+T.cn.axisExtent).data(l,u);He.enter().append("g").classed(T.cn.axisExtent,!0);var De=He.selectAll("."+T.cn.axisExtentTop).data(l,u);De.enter().append("g").classed(T.cn.axisExtentTop,!0),De.attr("transform",r(0,-T.axisExtentOffset));var Ve=De.selectAll("."+T.cn.axisExtentTopText).data(l,u);Ve.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(z),Ve.text(function($e){return $($e,!0)}).each(function($e){o.font(y.select(this),$e.model.rangeFont)});var at=He.selectAll("."+T.cn.axisExtentBottom).data(l,u);at.enter().append("g").classed(T.cn.axisExtentBottom,!0),at.attr("transform",function($e){return r(0,$e.model.height+T.axisExtentOffset)});var lt=at.selectAll("."+T.cn.axisExtentBottomText).data(l,u);lt.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(z),lt.text(function($e){return $($e,!1)}).each(function($e){o.font(y.select(this),$e.model.rangeFont)}),h.ensureAxisBrush(Se,K,ie)}},21341:function(G,H,e){var y=e(17171),P=e(79749),a=e(1602).isVisible,L={};function M(r,t,o){var n=t.indexOf(o),c=r.indexOf(n);return c===-1&&(c+=t.length),c}function v(r,t){return function(n,c){return M(r,t,n)-M(r,t,c)}}var p=G.exports=function(t,o){var n=t._fullLayout,c=P(t,[],L);if(c){var u={},l={},g={},f={},T=n._size;o.forEach(function(w,C){var b=w[0].trace;g[C]=b.index;var S=f[C]=b._fullInput.index;u[C]=t.data[S].dimensions,l[C]=t.data[S].dimensions.slice()});var h=function(w,C,b){var S=l[w][C],x=b.map(function(U){return U.slice()}),i="dimensions["+C+"].constraintrange",E=n._tracePreGUI[t._fullData[g[w]]._fullInput.uid];if(E[i]===void 0){var m=S.constraintrange;E[i]=m||null}var k=t._fullData[g[w]].dimensions[C];x.length?(x.length===1&&(x=x[0]),S.constraintrange=x,k.constraintrange=x.slice(),x=[x]):(delete S.constraintrange,delete k.constraintrange,x=null);var I={};I[i]=x,t.emit("plotly_restyle",[I,[f[w]]])},s=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},A=function(w,C){var b=v(C,l[w].filter(a));u[w].sort(b),l[w].filter(function(S){return!a(S)}).sort(function(S){return l[w].indexOf(S)}).forEach(function(S){u[w].splice(u[w].indexOf(S),1),u[w].splice(l[w].indexOf(S),0,S)}),t.emit("plotly_restyle",[{dimensions:[u[w]]},[f[w]]])};y(t,o,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:h,hover:s,unhover:d,axesMoved:A})}};p.reglPrecompiled=L},34e3:function(G,H,e){var y=e(9012),P=e(27670).Y,a=e(41940),L=e(22399),M=e(5386).fF,v=e(5386).si,p=e(1426).extendFlat,r=e(79952).u,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},y.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(G,H,e){var y=e(74875);H.name="pie",H.plot=function(P,a,L,M){y.plotBasePlot(H.name,P,a,L,M)},H.clean=function(P,a,L,M){y.cleanBasePlot(H.name,P,a,L,M)}},32354:function(G,H,e){var y=e(92770),P=e(84267),a=e(7901),L={};function M(t,o){var n=[],c=t._fullLayout,u=c.hiddenlabels||[],l=o.labels,g=o.marker.colors||[],f=o.values,T=o._length,h=o._hasValues&&T,s,d;if(o.dlabel)for(l=new Array(T),s=0;s<T;s++)l[s]=String(o.label0+s*o.dlabel);var A={},w=v(c["_"+o.type+"colormap"]),C=0,b=!1;for(s=0;s<T;s++){var S,x,i;if(h){if(S=f[s],!y(S))continue;S=+S}else S=1;x=l[s],(x===void 0||x==="")&&(x=s),x=String(x);var E=A[x];E===void 0?(A[x]=n.length,i=u.indexOf(x)!==-1,i||(C+=S),n.push({v:S,label:x,color:w(g[s],x),i:s,pts:[s],hidden:i})):(b=!0,d=n[E],d.v+=S,d.pts.push(s),d.hidden||(C+=S),d.color===!1&&g[s]&&(d.color=w(g[s],x)))}n=n.filter(function(k){return k.v>=0});var m=o.type==="funnelarea"?b:o.sort;return m&&n.sort(function(k,I){return I.v-k.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,c){return!n||(n=P(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),t[c]||(t[c]=n),n)}}function p(t,o){var n=(o||{}).type;n||(n="pie");var c=t._fullLayout,u=t.calcdata,l=c[n+"colorway"],g=c["_"+n+"colormap"];c["extend"+n+"colors"]&&(l=r(l,L));for(var f=0,T=0;T<u.length;T++){var h=u[T],s=h[0].trace.type;if(s===n)for(var d=0;d<h.length;d++){var A=h[d];A.color===!1&&(g[A.label]?A.color=g[A.label]:(g[A.label]=A.color=l[f%l.length],f++))}}}function r(t,o){var n,c=JSON.stringify(t),u=o[c];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(P(t[n]).darken(20).toHexString());o[c]=u}return u}G.exports={calc:M,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},37434:function(G,H,e){var y=e(92770),P=e(71828),a=e(34e3),L=e(27670).c,M=e(90769).handleText,v=e(71828).coercePattern;function p(o,n){var c=P.isArrayOrTypedArray(o),u=P.isArrayOrTypedArray(n),l=Math.min(c?o.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var g,f=0;f<l;f++){var T=n[f];if(y(T)&&T>0){g=!0;break}}g||(l=0)}return{hasLabels:c,hasValues:u,len:l}}function r(o,n,c,u,l){var g=u("marker.line.width");g&&u("marker.line.color",l?void 0:c.paper_bgcolor);var f=u("marker.colors");v(u,"marker.pattern",f),o.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=o.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=c.paper_bgcolor)}function t(o,n,c,u){function l(E,m){return P.coerce(o,n,a,E,m)}var g=l("labels"),f=l("values"),T=p(g,f),h=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!h){n.visible=!1;return}n._length=h,r(o,n,u,l,!0),l("scalegroup");var s=l("text"),d=l("texttemplate"),A;if(d||(A=l("textinfo",P.isArrayOrTypedArray(s)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||A&&A!=="none"){var w=l("textposition");M(o,n,u,l,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(w)||w==="auto",b=C||w==="outside";b&&l("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&l("insidetextorientation")}L(n,u,l);var S=l("hole"),x=l("title.text");if(x){var i=l("title.position",S?"middle center":"top center");!S&&i==="middle center"&&(n.title.position="top center"),P.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},20007:function(G,H,e){var y=e(23469).appendArrayMultiPointValues;G.exports=function(a,L){var M={curveNumber:L.index,pointNumbers:a.pts,data:L._input,fullData:L,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(M.pointNumber=M.i=a.pts[0]),y(M,L,a.pts),L.type==="funnelarea"&&(delete M.v,delete M.i),M}},22209:function(G,H,e){var y=e(91424),P=e(7901);G.exports=function(L,M,v,p){var r=v.marker.pattern;r&&r.shape?y.pointStyle(L,v,p,M):P.fill(L,M.color)}},53581:function(G,H,e){var y=e(71828);function P(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}H.formatPiePercent=function(L,M){var v=P((L*100).toPrecision(3));return y.numSeparate(v,M)+"%"},H.formatPieValue=function(L,M){var v=P(L.toPrecision(10));return y.numSeparate(v,M)},H.getFirstFilled=function(L,M){if(y.isArrayOrTypedArray(L))for(var v=0;v<M.length;v++){var p=L[M[v]];if(p||p===0||p==="")return p}},H.castOption=function(L,M){if(y.isArrayOrTypedArray(L))return H.getFirstFilled(L,M);if(L)return L},H.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(G,H,e){G.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(G,H,e){var y=e(71828),P=e(92774);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("hiddenlabels"),v("piecolorway",M.colorway),v("extendpiecolors")}},14575:function(G,H,e){var y=e(39898),P=e(74875),a=e(30211),L=e(7901),M=e(91424),v=e(71828),p=v.strScale,r=v.strTranslate,t=e(63893),o=e(72597),n=o.recordMinTextSize,c=o.clearMinTextSize,u=e(97313).TEXTPAD,l=e(53581),g=e(20007),f=e(71828).isValidTextValue;function T(Z,ae){var j=Z._context.staticPlot,q=Z._fullLayout,oe=q._size;c("pie",q),w(ae,Z),Y(ae,oe);var Q=v.makeTraceGroups(q._pielayer,ae,"trace").each(function(K){var se=y.select(this),ne=K[0],fe=ne.trace;te(K),se.attr("stroke-linejoin","round"),se.each(function(){var ye=y.select(this).selectAll("g.slice").data(K);ye.enter().append("g").classed("slice",!0),ye.exit().remove();var Ee=[[[],[]],[[],[]]],Te=!1;ye.each(function(De,Ve){if(De.hidden){y.select(this).selectAll("path,g").remove();return}De.pointNumber=De.i,De.curveNumber=fe.index,Ee[De.pxmid[1]<0?0:1][De.pxmid[0]<0?0:1].push(De);var at=ne.cx,lt=ne.cy,$e=y.select(this),et=$e.selectAll("path.surface").data([De]);if(et.enter().append("path").classed("surface",!0).style({"pointer-events":j?"none":"all"}),$e.call(s,Z,K),fe.pull){var ct=+l.castOption(fe.pull,De.pts)||0;ct>0&&(at+=ct*De.pxmid[0],lt+=ct*De.pxmid[1])}De.cxFinal=at,De.cyFinal=lt;function dt(Ie,Fe,Pe,xe){var ge=xe*(Fe[0]-Ie[0]),Me=xe*(Fe[1]-Ie[1]);return"a"+xe*ne.r+","+xe*ne.r+" 0 "+De.largeArc+(Pe?" 1 ":" 0 ")+ge+","+Me}var gt=fe.hole;if(De.v===ne.vTotal){var At="M"+(at+De.px0[0])+","+(lt+De.px0[1])+dt(De.px0,De.pxmid,!0,1)+dt(De.pxmid,De.px0,!0,1)+"Z";gt?et.attr("d","M"+(at+gt*De.px0[0])+","+(lt+gt*De.px0[1])+dt(De.px0,De.pxmid,!1,gt)+dt(De.pxmid,De.px0,!1,gt)+"Z"+At):et.attr("d",At)}else{var Rt=dt(De.px0,De.px1,!0,1);if(gt){var Vt=1-gt;et.attr("d","M"+(at+gt*De.px1[0])+","+(lt+gt*De.px1[1])+dt(De.px1,De.px0,!1,gt)+"l"+Vt*De.px0[0]+","+Vt*De.px0[1]+Rt+"Z")}else et.attr("d","M"+at+","+lt+"l"+De.px0[0]+","+De.px0[1]+Rt+"Z")}ce(Z,De,ne);var Je=l.castOption(fe.textposition,De.pts),Ge=$e.selectAll("g.slicetext").data(De.text&&Je!=="none"?[0]:[]);Ge.enter().append("g").classed("slicetext",!0),Ge.exit().remove(),Ge.each(function(){var Ie=v.ensureSingle(y.select(this),"text","",function(Ze){Ze.attr("data-notex",1)}),Fe=v.ensureUniformFontSize(Z,Je==="outside"?d(fe,De,q.font):A(fe,De,q.font));Ie.text(De.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,Fe).call(t.convertToTspans,Z);var Pe=M.bBox(Ie.node()),xe;if(Je==="outside")xe=I(Pe,De);else if(xe=C(Pe,De,ne),Je==="auto"&&xe.scale<1){var ge=v.ensureUniformFontSize(Z,fe.outsidetextfont);Ie.call(M.font,ge),Pe=M.bBox(Ie.node()),xe=I(Pe,De)}var Me=xe.textPosAngle,Ae=Me===void 0?De.pxmid:ie(ne.r,Me);if(xe.targetX=at+Ae[0]*xe.rCenter+(xe.x||0),xe.targetY=lt+Ae[1]*xe.rCenter+(xe.y||0),J(xe,Pe),xe.outside){var Ue=xe.targetY;De.yLabelMin=Ue-Pe.height/2,De.yLabelMid=Ue,De.yLabelMax=Ue+Pe.height/2,De.labelExtraX=0,De.labelExtraY=0,Te=!0}xe.fontSize=Fe.size,n(fe.type,xe,q),K[Ve].transform=xe,v.setTransormAndDisplay(Ie,xe)})});var ze=y.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(ze.enter().append("g").classed("titletext",!0),ze.exit().remove(),ze.each(function(){var De=v.ensureSingle(y.select(this),"text","",function(lt){lt.attr("data-notex",1)}),Ve=fe.title.text;fe._meta&&(Ve=v.templateString(Ve,fe._meta)),De.text(Ve).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,fe.title.font).call(t.convertToTspans,Z);var at;fe.title.position==="middle center"?at=U(ne):at=z(ne,oe),De.attr("transform",r(at.x,at.y)+p(Math.min(1,at.scale))+r(at.tx,at.ty))}),Te&&N(Ee,fe),h(ye,fe),Te&&fe.automargin){var ke=M.bBox(se.node()),Se=fe.domain,me=oe.w*(Se.x[1]-Se.x[0]),Ce=oe.h*(Se.y[1]-Se.y[0]),Ne=(.5*me-ne.r)/oe.w,He=(.5*Ce-ne.r)/oe.h;P.autoMargin(Z,"pie."+fe.uid+".automargin",{xl:Se.x[0]-Ne,xr:Se.x[1]+Ne,yb:Se.y[0]-He,yt:Se.y[1]+He,l:Math.max(ne.cx-ne.r-ke.left,0),r:Math.max(ke.right-(ne.cx+ne.r),0),b:Math.max(ke.bottom-(ne.cy+ne.r),0),t:Math.max(ne.cy-ne.r-ke.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var K=y.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)}function h(Z,ae){Z.each(function(j){var q=y.select(this);if(!j.labelExtraX&&!j.labelExtraY){q.select("path.textline").remove();return}var oe=q.select("g.slicetext text");j.transform.targetX+=j.labelExtraX,j.transform.targetY+=j.labelExtraY,v.setTransormAndDisplay(oe,j.transform);var Q=j.cxFinal+j.pxmid[0],K=j.cyFinal+j.pxmid[1],se="M"+Q+","+K,ne=(j.yLabelMax-j.yLabelMin)*(j.pxmid[0]<0?-1:1)/4;if(j.labelExtraX){var fe=j.labelExtraX*j.pxmid[1]/j.pxmid[0],ye=j.yLabelMid+j.labelExtraY-(j.cyFinal+j.pxmid[1]);Math.abs(fe)>Math.abs(ye)?se+="l"+ye*j.pxmid[0]/j.pxmid[1]+","+ye+"H"+(Q+j.labelExtraX+ne):se+="l"+j.labelExtraX+","+fe+"v"+(ye-fe)+"h"+ne}else se+="V"+(j.yLabelMid+j.labelExtraY)+"h"+ne;v.ensureSingle(q,"path","textline").call(L.stroke,ae.outsidetextfont.color).attr({"stroke-width":Math.min(2,ae.outsidetextfont.size/8),d:se,fill:"none"})})}function s(Z,ae,j){var q=j[0],oe=q.cx,Q=q.cy,K=q.trace,se=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),Z.on("mouseover",function(ne){var fe=ae._fullLayout,ye=ae._fullData[K.index];if(!(ae._dragging||fe.hovermode===!1)){var Ee=ye.hoverinfo;if(Array.isArray(Ee)&&(Ee=a.castHoverinfo({hoverinfo:[l.castOption(Ee,ne.pts)],_module:K._module},fe,0)),Ee==="all"&&(Ee="label+text+value+percent+name"),ye.hovertemplate||Ee!=="none"&&Ee!=="skip"&&Ee){var Te=ne.rInscribed||0,ze=oe+ne.pxmid[0]*(1-Te),ke=Q+ne.pxmid[1]*(1-Te),Se=fe.separators,me=[];if(Ee&&Ee.indexOf("label")!==-1&&me.push(ne.label),ne.text=l.castOption(ye.hovertext||ye.text,ne.pts),Ee&&Ee.indexOf("text")!==-1){var Ce=ne.text;v.isValidTextValue(Ce)&&me.push(Ce)}ne.value=ne.v,ne.valueLabel=l.formatPieValue(ne.v,Se),Ee&&Ee.indexOf("value")!==-1&&me.push(ne.valueLabel),ne.percent=ne.v/q.vTotal,ne.percentLabel=l.formatPiePercent(ne.percent,Se),Ee&&Ee.indexOf("percent")!==-1&&me.push(ne.percentLabel);var Ne=ye.hoverlabel,He=Ne.font,De=[];a.loneHover({trace:K,x0:ze-Te*q.r,x1:ze+Te*q.r,y:ke,_x0:se?oe+ne.TL[0]:ze-Te*q.r,_x1:se?oe+ne.TR[0]:ze+Te*q.r,_y0:se?Q+ne.TL[1]:ke-Te*q.r,_y1:se?Q+ne.BL[1]:ke+Te*q.r,text:me.join("<br>"),name:ye.hovertemplate||Ee.indexOf("name")!==-1?ye.name:void 0,idealAlign:ne.pxmid[0]<0?"left":"right",color:l.castOption(Ne.bgcolor,ne.pts)||ne.color,borderColor:l.castOption(Ne.bordercolor,ne.pts),fontFamily:l.castOption(He.family,ne.pts),fontSize:l.castOption(He.size,ne.pts),fontColor:l.castOption(He.color,ne.pts),nameLength:l.castOption(Ne.namelength,ne.pts),textAlign:l.castOption(Ne.align,ne.pts),hovertemplate:l.castOption(ye.hovertemplate,ne.pts),hovertemplateLabels:ne,eventData:[g(ne,ye)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:ae,inOut_bbox:De}),ne.bbox=De[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,ae.emit("plotly_hover",{points:[g(ne,ye)],event:y.event})}}),Z.on("mouseout",function(ne){var fe=ae._fullLayout,ye=ae._fullData[K.index],Ee=y.select(this).datum();K._hasHoverEvent&&(ne.originalEvent=y.event,ae.emit("plotly_unhover",{points:[g(Ee,ye)],event:y.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(a.loneUnhover(fe._hoverlayer.node()),K._hasHoverLabel=!1)}),Z.on("click",function(ne){var fe=ae._fullLayout,ye=ae._fullData[K.index];ae._dragging||fe.hovermode===!1||(ae._hoverdata=[g(ne,ye)],a.click(ae,y.event))})}function d(Z,ae,j){var q=l.castOption(Z.outsidetextfont.color,ae.pts)||l.castOption(Z.textfont.color,ae.pts)||j.color,oe=l.castOption(Z.outsidetextfont.family,ae.pts)||l.castOption(Z.textfont.family,ae.pts)||j.family,Q=l.castOption(Z.outsidetextfont.size,ae.pts)||l.castOption(Z.textfont.size,ae.pts)||j.size;return{color:q,family:oe,size:Q}}function A(Z,ae,j){var q=l.castOption(Z.insidetextfont.color,ae.pts);!q&&Z._input.textfont&&(q=l.castOption(Z._input.textfont.color,ae.pts));var oe=l.castOption(Z.insidetextfont.family,ae.pts)||l.castOption(Z.textfont.family,ae.pts)||j.family,Q=l.castOption(Z.insidetextfont.size,ae.pts)||l.castOption(Z.textfont.size,ae.pts)||j.size;return{color:q||L.contrast(ae.color),family:oe,size:Q}}function w(Z,ae){for(var j,q,oe=0;oe<Z.length;oe++)if(j=Z[oe][0],q=j.trace,q.title.text){var Q=q.title.text;q._meta&&(Q=v.templateString(Q,q._meta));var K=M.tester.append("text").attr("data-notex",1).text(Q).call(M.font,q.title.font).call(t.convertToTspans,ae),se=M.bBox(K.node(),!0);j.titleBox={width:se.width,height:se.height},K.remove()}}function C(Z,ae,j){var q=j.r||ae.rpx1,oe=ae.rInscribed,Q=ae.startangle===ae.stopangle;if(Q)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var K=ae.ring,se=K===1&&Math.abs(ae.startangle-ae.stopangle)===Math.PI*2,ne=ae.halfangle,fe=ae.midangle,ye=j.trace.insidetextorientation,Ee=ye==="horizontal",Te=ye==="tangential",ze=ye==="radial",ke=ye==="auto",Se=[],me;if(!ke){var Ce=function($e,et){if(b(ae,$e)){var ct=Math.abs($e-ae.startangle),dt=Math.abs($e-ae.stopangle),gt=ct<dt?ct:dt;et==="tan"?me=x(Z,q,K,gt,0):me=S(Z,q,K,gt,Math.PI/2),me.textPosAngle=$e,Se.push(me)}},Ne;if(Ee||Te){for(Ne=4;Ne>=-4;Ne-=2)Ce(Math.PI*Ne,"tan");for(Ne=4;Ne>=-4;Ne-=2)Ce(Math.PI*(Ne+1),"tan")}if(Ee||ze){for(Ne=4;Ne>=-4;Ne-=2)Ce(Math.PI*(Ne+1.5),"rad");for(Ne=4;Ne>=-4;Ne-=2)Ce(Math.PI*(Ne+.5),"rad")}}if(se||ke||Ee){var He=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(me={scale:oe*q*2/He,rCenter:1-oe,rotate:0},me.textPosAngle=(ae.startangle+ae.stopangle)/2,me.scale>=1)return me;Se.push(me)}(ke||ze)&&(me=S(Z,q,K,ne,fe),me.textPosAngle=(ae.startangle+ae.stopangle)/2,Se.push(me)),(ke||Te)&&(me=x(Z,q,K,ne,fe),me.textPosAngle=(ae.startangle+ae.stopangle)/2,Se.push(me));for(var De=0,Ve=0,at=0;at<Se.length;at++){var lt=Se[at].scale;if(Ve<lt&&(Ve=lt,De=at),!ke&&Ve>=1)break}return Se[De]}function b(Z,ae){var j=Z.startangle,q=Z.stopangle;return j>ae&&ae>q||j<ae&&ae<q}function S(Z,ae,j,q,oe){ae=Math.max(0,ae-2*u);var Q=Z.width/Z.height,K=m(Q,q,ae,j);return{scale:K*2/Z.height,rCenter:i(Q,K/ae),rotate:E(oe)}}function x(Z,ae,j,q,oe){ae=Math.max(0,ae-2*u);var Q=Z.height/Z.width,K=m(Q,q,ae,j);return{scale:K*2/Z.width,rCenter:i(Q,K/ae),rotate:E(oe+Math.PI/2)}}function i(Z,ae){return Math.cos(ae)-Z*ae}function E(Z){return(180/Math.PI*Z+720)%180-90}function m(Z,ae,j,q){var oe=Z+1/(2*Math.tan(ae));return j*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),q/(Math.sqrt(Z*Z+q/2)+Z))}function k(Z,ae){return Z.v===ae.vTotal&&!ae.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function I(Z,ae){var j=ae.pxmid[0],q=ae.pxmid[1],oe=Z.width/2,Q=Z.height/2;return j<0&&(oe*=-1),q<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs(Q)*(oe>0?1:-1)/2,y:Q/(1+j*j/(q*q)),outside:!0}}function U(Z){var ae=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/ae,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function z(Z,ae){var j=1,q=1,oe,Q=Z.trace,K={x:Z.cx,y:Z.cy},se={tx:0,ty:0};se.ty+=Q.title.font.size,oe=O(Q),Q.title.position.indexOf("top")!==-1?(K.y-=(1+oe)*Z.r,se.ty-=Z.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(K.y+=(1+oe)*Z.r);var ne=F(Z.r,Z.trace.aspectratio),fe=ae.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(fe=fe+ne,K.x-=(1+oe)*ne,se.tx+=Z.titleBox.width/2):Q.title.position.indexOf("center")!==-1?fe*=2:Q.title.position.indexOf("right")!==-1&&(fe=fe+ne,K.x+=(1+oe)*ne,se.tx-=Z.titleBox.width/2),j=fe/Z.titleBox.width,q=B(Z,ae)/Z.titleBox.height,{x:K.x,y:K.y,scale:Math.min(j,q),tx:se.tx,ty:se.ty}}function F(Z,ae){return Z/(ae===void 0?1:ae)}function B(Z,ae){var j=Z.trace,q=ae.h*(j.domain.y[1]-j.domain.y[0]);return Math.min(Z.titleBox.height,q/2)}function O(Z){var ae=Z.pull;if(!ae)return 0;var j;if(v.isArrayOrTypedArray(ae))for(ae=0,j=0;j<Z.pull.length;j++)Z.pull[j]>ae&&(ae=Z.pull[j]);return ae}function N(Z,ae){var j,q,oe,Q,K,se,ne,fe,ye,Ee,Te,ze,ke;function Se(He,De){return He.pxmid[1]-De.pxmid[1]}function me(He,De){return De.pxmid[1]-He.pxmid[1]}function Ce(He,De){De||(De={});var Ve=De.labelExtraY+(q?De.yLabelMax:De.yLabelMin),at=q?He.yLabelMin:He.yLabelMax,lt=q?He.yLabelMax:He.yLabelMin,$e=He.cyFinal+K(He.px0[1],He.px1[1]),et=Ve-at,ct,dt,gt,At,Rt,Vt;if(et*ne>0&&(He.labelExtraY=et),!!v.isArrayOrTypedArray(ae.pull))for(dt=0;dt<Ee.length;dt++)gt=Ee[dt],!(gt===He||(l.castOption(ae.pull,He.pts)||0)>=(l.castOption(ae.pull,gt.pts)||0))&&((He.pxmid[1]-gt.pxmid[1])*ne>0?(At=gt.cyFinal+K(gt.px0[1],gt.px1[1]),et=At-at-He.labelExtraY,et*ne>0&&(He.labelExtraY+=et)):(lt+He.labelExtraY-$e)*ne>0&&(ct=3*se*Math.abs(dt-Ee.indexOf(He)),Rt=gt.cxFinal+Q(gt.px0[0],gt.px1[0]),Vt=Rt+ct-(He.cxFinal+He.pxmid[0])-He.labelExtraX,Vt*se>0&&(He.labelExtraX+=Vt)))}for(q=0;q<2;q++)for(oe=q?Se:me,K=q?Math.max:Math.min,ne=q?1:-1,j=0;j<2;j++){for(Q=j?Math.max:Math.min,se=j?1:-1,fe=Z[q][j],fe.sort(oe),ye=Z[1-q][j],Ee=ye.concat(fe),ze=[],Te=0;Te<fe.length;Te++)fe[Te].yLabelMid!==void 0&&ze.push(fe[Te]);for(ke=!1,Te=0;q&&Te<ye.length;Te++)if(ye[Te].yLabelMid!==void 0){ke=ye[Te];break}for(Te=0;Te<ze.length;Te++){var Ne=Te&&ze[Te-1];ke&&!Te&&(Ne=ke),Ce(ze[Te],Ne)}}}function Y(Z,ae){for(var j=[],q=0;q<Z.length;q++){var oe=Z[q][0],Q=oe.trace,K=Q.domain,se=ae.w*(K.x[1]-K.x[0]),ne=ae.h*(K.y[1]-K.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(ne-=B(oe,ae));var fe=se/2,ye=ne/2;Q.type==="funnelarea"&&!Q.scalegroup&&(ye/=Q.aspectratio),oe.r=Math.min(fe,ye)/(1+O(Q)),oe.cx=ae.l+ae.w*(Q.domain.x[1]+Q.domain.x[0])/2,oe.cy=ae.t+ae.h*(1-Q.domain.y[0])-ne/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(oe.cy-=B(oe,ae)),Q.scalegroup&&j.indexOf(Q.scalegroup)===-1&&j.push(Q.scalegroup)}$(Z,j)}function $(Z,ae){for(var j,q,oe,Q=0;Q<ae.length;Q++){var K=1/0,se=ae[Q];for(q=0;q<Z.length;q++)if(j=Z[q][0],oe=j.trace,oe.scalegroup===se){var ne;if(oe.type==="pie")ne=j.r*j.r;else if(oe.type==="funnelarea"){var fe,ye;oe.aspectratio>1?(fe=j.r,ye=fe/oe.aspectratio):(ye=j.r,fe=ye*oe.aspectratio),fe*=(1+oe.baseratio)/2,ne=fe*ye}K=Math.min(K,ne/j.vTotal)}for(q=0;q<Z.length;q++)if(j=Z[q][0],oe=j.trace,oe.scalegroup===se){var Ee=K*j.vTotal;oe.type==="funnelarea"&&(Ee/=(1+oe.baseratio)/2,Ee/=oe.aspectratio),j.r=Math.sqrt(Ee)}}}function te(Z){var ae=Z[0],j=ae.r,q=ae.trace,oe=l.getRotationAngle(q.rotation),Q=2*Math.PI/ae.vTotal,K="px0",se="px1",ne,fe,ye;if(q.direction==="counterclockwise"){for(ne=0;ne<Z.length&&Z[ne].hidden;ne++);if(ne===Z.length)return;oe+=Q*Z[ne].v,Q*=-1,K="px1",se="px0"}for(ye=ie(j,oe),ne=0;ne<Z.length;ne++)fe=Z[ne],!fe.hidden&&(fe[K]=ye,fe.startangle=oe,oe+=Q*fe.v/2,fe.pxmid=ie(j,oe),fe.midangle=oe,oe+=Q*fe.v/2,ye=ie(j,oe),fe.stopangle=oe,fe[se]=ye,fe.largeArc=fe.v>ae.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/ae.vTotal,.5),fe.ring=1-q.hole,fe.rInscribed=k(fe,ae))}function ie(Z,ae){return[Z*Math.sin(ae),-Z*Math.cos(ae)]}function ce(Z,ae,j){var q=Z._fullLayout,oe=j.trace,Q=oe.texttemplate,K=oe.textinfo;if(!Q&&K&&K!=="none"){var se=K.split("+"),ne=function(De){return se.indexOf(De)!==-1},fe=ne("label"),ye=ne("text"),Ee=ne("value"),Te=ne("percent"),ze=q.separators,ke;if(ke=fe?[ae.label]:[],ye){var Se=l.getFirstFilled(oe.text,ae.pts);f(Se)&&ke.push(Se)}Ee&&ke.push(l.formatPieValue(ae.v,ze)),Te&&ke.push(l.formatPiePercent(ae.v/j.vTotal,ze)),ae.text=ke.join("<br>")}function me(De){return{label:De.label,value:De.v,valueLabel:l.formatPieValue(De.v,q.separators),percent:De.v/j.vTotal,percentLabel:l.formatPiePercent(De.v/j.vTotal,q.separators),color:De.color,text:De.text,customdata:v.castOption(oe,De.i,"customdata")}}if(Q){var Ce=v.castOption(oe,ae.i,"texttemplate");if(!Ce)ae.text="";else{var Ne=me(ae),He=l.getFirstFilled(oe.text,ae.pts);(f(He)||He==="")&&(Ne.text=He),ae.text=v.texttemplateString(Ce,Ne,Z._fullLayout._d3locale,Ne,oe._meta||{})}}}function J(Z,ae){var j=Z.rotate*Math.PI/180,q=Math.cos(j),oe=Math.sin(j),Q=(ae.left+ae.right)/2,K=(ae.top+ae.bottom)/2;Z.textX=Q*q-K*oe,Z.textY=Q*oe+K*q,Z.noCenter=!0}G.exports={plot:T,formatSliceLabel:ce,transformInsideText:C,determineInsideTextFont:A,positionTitleOutside:z,prerenderTitles:w,layoutAreas:Y,attachFxHandlers:s,computeTransform:J}},68357:function(G,H,e){var y=e(39898),P=e(63463),a=e(72597).resizeText;G.exports=function(M){var v=M._fullLayout._pielayer.selectAll(".trace");a(M,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,o=y.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(n){y.select(this).call(P,n,t,M)})})}},63463:function(G,H,e){var y=e(7901),P=e(53581).castOption,a=e(22209);G.exports=function(M,v,p,r){var t=p.marker.line,o=P(t.color,v.pts)||y.defaultLine,n=P(t.width,v.pts)||0;M.call(a,v,p,r).style("stroke-width",n).call(y.stroke,o)}},10959:function(G,H,e){var y=e(82196);G.exports={x:y.x,y:y.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:y.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(G,H,e){var y=e(9330).gl_pointcloud2d,P=e(71828).isArrayOrTypedArray,a=e(78614),L=e(71739).findExtremes,M=e(34603);function v(t,o){this.scene=t,this.uid=o,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=y(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var o=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[o*2],this.pickXYData[o*2+1]]:[this.pickXData[o],this.pickYData[o]],textLabel:P(this.textLabels)?this.textLabels[o]:this.textLabels,color:this.color,name:this.name,pointIndex:o,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=M(t,{})},p.updateFast=function(t){var o=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,c=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,g,f,T,h=this.bounds,s,d,A;if(c){if(T=c,g=c.length>>>1,u)h[0]=t.xbounds[0],h[2]=t.xbounds[1],h[1]=t.ybounds[0],h[3]=t.ybounds[1];else for(A=0;A<g;A++)s=T[A*2],d=T[A*2+1],s<h[0]&&(h[0]=s),s>h[2]&&(h[2]=s),d<h[1]&&(h[1]=d),d>h[3]&&(h[3]=d);if(l)f=l;else for(f=new Int32Array(g),A=0;A<g;A++)f[A]=A}else for(g=o.length,T=new Float32Array(2*g),f=new Int32Array(g),A=0;A<g;A++)s=o[A],d=n[A],f[A]=A,T[A*2]=s,T[A*2+1]=d,s<h[0]&&(h[0]=s),s>h[2]&&(h[2]=s),d<h[1]&&(h[1]=d),d>h[3]&&(h[3]=d);this.idToIndex=f,this.pointcloudOptions.idToIndex=f,this.pointcloudOptions.positions=T;var w=a(t.marker.color),C=a(t.marker.border.color),b=t.opacity*t.marker.opacity;w[3]*=b,this.pointcloudOptions.color=w;var S=t.marker.blend;if(S===null){var x=100;S=o.length<x||n.length<x}this.pointcloudOptions.blend=S,C[3]*=b,this.pointcloudOptions.borderColor=C;var i=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=i,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var m=this.scene.xaxis,k=this.scene.yaxis,I=E/2||.5;t._extremes[m._id]=L(m,[h[0],h[2]],{ppad:I}),t._extremes[k._id]=L(k,[h[1],h[3]],{ppad:I})},p.dispose=function(){this.pointcloud.dispose()};function r(t,o){var n=new v(t,o.uid);return n.update(o),n}G.exports=r},33876:function(G,H,e){var y=e(71828),P=e(10959);G.exports=function(L,M,v){function p(r,t){return y.coerce(L,M,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(M.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(M.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),M._length=null}},20593:function(G,H,e){G.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(G,H,e){var y=e(41940),P=e(9012),a=e(22399),L=e(77914),M=e(27670).Y,v=e(5386).fF,p=e(50693),r=e(44467).templatedArray,t=e(12663).descriptionOnlyNumbers,o=e(1426).extendFlat,n=e(30962).overrideAll,c=G.exports=n({hoverinfo:o({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:y({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:o(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");c.transforms=void 0},75536:function(G,H,e){var y=e(30962).overrideAll,P=e(27659).a0,a=e(60436),L=e(528),M=e(6964),v=e(28569),p=e(47322).prepSelect,r=e(71828),t=e(73972),o="sankey";H.name=o,H.baseLayoutAttrOverrides=y({hoverlabel:L.hoverlabel},"plot","nested"),H.plot=function(c){var u=P(c.calcdata,o)[0];a(c,u),H.updateFx(c)},H.clean=function(c,u,l,g){var f=g._has&&g._has(o),T=u._has&&u._has(o);f&&!T&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},H.updateFx=function(c){for(var u=0;u<c._fullData.length;u++)n(c,u)};function n(c,u){var l=c._fullData[u],g=c._fullLayout,f=g.dragmode,T=g.dragmode==="pan"?"move":"crosshair",h=l._bgRect;if(h&&!(f==="pan"||f==="zoom")){M(h,T);var s={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},A={gd:c,element:h.node(),plotinfo:{id:u,xaxis:s,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[s],yaxes:[d],doneFnCompleted:function(w){var C=c._fullData[u],b,S=C.node.groups.slice(),x=[];function i(I){for(var U=C._sankey.graph.nodes,z=0;z<U.length;z++)if(U[z].pointNumber===I)return U[z]}for(var E=0;E<w.length;E++){var m=i(w[E].pointNumber);if(m)if(m.group){for(var k=0;k<m.childrenNodes.length;k++)x.push(m.childrenNodes[k].pointNumber);S[m.pointNumber-C.node._count]=!1}else x.push(m.pointNumber)}b=S.filter(Boolean).concat([x]),t.call("_guiRestyle",c,{"node.groups":[b]},u)}};A.prepFn=function(w,C,b){p(w,C,b,A,f)},v.init(A)}}},92930:function(G,H,e){var y=e(68664),P=e(71828),a=e(28984).wrap,L=P.isArrayOrTypedArray,M=P.isIndex,v=e(21081);function p(t){var o=t.node,n=t.link,c=[],u=L(n.color),l=L(n.customdata),g={},f={},T=n.colorscales.length,h;for(h=0;h<T;h++){var s=n.colorscales[h],d=v.extractScale(s,{cLetter:"c"}),A=v.makeColorScaleFunc(d);f[s.label]=A}var w=0;for(h=0;h<n.value.length;h++)n.source[h]>w&&(w=n.source[h]),n.target[h]>w&&(w=n.target[h]);var C=w+1;t.node._count=C;var b,S=t.node.groups,x={};for(h=0;h<S.length;h++){var i=S[h];for(b=0;b<i.length;b++){var E=i[b],m=C+h;x.hasOwnProperty(E)?P.warn("Node "+E+" is already part of a group."):x[E]=m}}var k={source:[],target:[]};for(h=0;h<n.value.length;h++){var I=n.value[h],U=n.source[h],z=n.target[h];if(I>0&&M(U,C)&&M(z,C)&&!(x.hasOwnProperty(U)&&x.hasOwnProperty(z)&&x[U]===x[z])){x.hasOwnProperty(z)&&(z=x[z]),x.hasOwnProperty(U)&&(U=x[U]),U=+U,z=+z,g[U]=g[z]=!0;var F="";n.label&&n.label[h]&&(F=n.label[h]);var B=null;F&&f.hasOwnProperty(F)&&(B=f[F]),c.push({pointNumber:h,label:F,color:u?n.color[h]:n.color,customdata:l?n.customdata[h]:n.customdata,concentrationscale:B,source:U,target:z,value:+I}),k.source.push(U),k.target.push(z)}}var O=C+S.length,N=L(o.color),Y=L(o.customdata),$=[];for(h=0;h<O;h++)if(g[h]){var te=o.label[h];$.push({group:h>C-1,childrenNodes:[],pointNumber:h,label:te,color:N?o.color[h]:o.color,customdata:Y?o.customdata[h]:o.customdata})}var ie=!1;return r(O,k.source,k.target)&&(ie=!0),{circular:ie,links:c,nodes:$,groups:S,groupLookup:x}}function r(t,o,n){for(var c=P.init2dArray(t,0),u=0;u<Math.min(o.length,n.length);u++)if(P.isIndex(o[u],t)&&P.isIndex(n[u],t)){if(o[u]===n[u])return!0;c[o[u]].push(n[u])}var l=y(c);return l.components.some(function(g){return g.length>1})}G.exports=function(o,n){var c=p(n);return a({circular:c.circular,_nodes:c.nodes,_links:c.links,_groups:c.groups,_groupLookup:c.groupLookup})}},85247:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(G,H,e){var y=e(71828),P=e(39953),a=e(7901),L=e(84267),M=e(27670).c,v=e(38048),p=e(44467),r=e(85501);G.exports=function(n,c,u,l){function g(i,E){return y.coerce(n,c,P,i,E)}var f=y.extendDeep(l.hoverlabel,n.hoverlabel),T=n.node,h=p.newContainer(c,"node");function s(i,E){return y.coerce(T,h,P.node,i,E)}s("label"),s("groups"),s("x"),s("y"),s("pad"),s("thickness"),s("line.color"),s("line.width"),s("hoverinfo",n.hoverinfo),v(T,h,s,f),s("hovertemplate"),s("align");var d=l.colorway,A=function(i){return d[i%d.length]};s("color",h.label.map(function(i,E){return a.addOpacity(A(E),.8)})),s("customdata");var w=n.link||{},C=p.newContainer(c,"link");function b(i,E){return y.coerce(w,C,P.link,i,E)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",n.hoverinfo),v(w,C,b,f),b("hovertemplate");var S=L(l.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",y.repeat(S,C.value.length)),b("customdata"),r(w,C,{name:"colorscales",handleItemDefaults:t}),M(c,l,g),g("orientation"),g("valueformat"),g("valuesuffix");var x;h.x.length&&h.y.length&&(x="freeform"),g("arrangement",x),y.coerceFont(g,"textfont",y.extendFlat({},l.font)),c._length=null};function t(o,n){function c(u,l){return y.coerce(o,n,P.link.colorscales,u,l)}c("label"),c("cmin"),c("cmax"),c("colorscale")}},29396:function(G,H,e){G.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(G,H,e){var y=e(39898),P=e(71828),a=P.numberFormat,L=e(3393),M=e(30211),v=e(7901),p=e(85247).cn,r=P._;function t(d){return d!==""}function o(d,A){return d.filter(function(w){return w.key===A.traceId})}function n(d,A){y.select(d).select("path").style("fill-opacity",A),y.select(d).select("rect").style("fill-opacity",A)}function c(d){y.select(d).select("text.name").style("fill","black")}function u(d){return function(A){return d.node.sourceLinks.indexOf(A.link)!==-1||d.node.targetLinks.indexOf(A.link)!==-1}}function l(d){return function(A){return A.node.sourceLinks.indexOf(d.link)!==-1||A.node.targetLinks.indexOf(d.link)!==-1}}function g(d,A,w){A&&w&&o(w,A).selectAll("."+p.sankeyLink).filter(u(A)).call(T.bind(0,A,w,!1))}function f(d,A,w){A&&w&&o(w,A).selectAll("."+p.sankeyLink).filter(u(A)).call(h.bind(0,A,w,!1))}function T(d,A,w,C){C.style("fill-opacity",function(b){if(!b.link.concentrationscale)return .4}),C.each(function(b){var S=b.link.label;S!==""&&o(A,d).selectAll("."+p.sankeyLink).filter(function(x){return x.link.label===S}).style("fill-opacity",function(x){if(!x.link.concentrationscale)return .4})}),w&&o(A,d).selectAll("."+p.sankeyNode).filter(l(d)).call(g)}function h(d,A,w,C){C.style("fill-opacity",function(b){return b.tinyColorAlpha}),C.each(function(b){var S=b.link.label;S!==""&&o(A,d).selectAll("."+p.sankeyLink).filter(function(x){return x.link.label===S}).style("fill-opacity",function(x){return x.tinyColorAlpha})}),w&&o(A,d).selectAll(p.sankeyNode).filter(l(d)).call(f)}function s(d,A){var w=d.hoverlabel||{},C=P.nestedProperty(w,A).get();return Array.isArray(C)?!1:C}G.exports=function(A,w){for(var C=A._fullLayout,b=C._paper,S=C._size,x=0;x<A._fullData.length;x++)if(A._fullData[x].visible&&A._fullData[x].type===p.sankey&&!A._fullData[x]._viewInitial){var i=A._fullData[x].node;A._fullData[x]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var E=function(ie,ce){var J=ce.link;J.originalEvent=y.event,A._hoverdata=[J],M.click(A,{target:!0})},m=function(ie,ce,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(T.bind(0,ce,J,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,A.emit("plotly_hover",{event:y.event,points:[ce.link]})))},k=r(A,"source:")+" ",I=r(A,"target:")+" ",U=r(A,"concentration:")+" ",z=r(A,"incoming flow count:")+" ",F=r(A,"outgoing flow count:")+" ",B=function(ie,ce){if(A._fullLayout.hovermode===!1)return;var J=ce.link.trace.link;if(J.hoverinfo==="none"||J.hoverinfo==="skip")return;var Z=[];function ae(ne){var fe,ye;ne.circular?(fe=(ne.circularPathData.leftInnerExtent+ne.circularPathData.rightInnerExtent)/2,ye=ne.circularPathData.verticalFullExtent):(fe=(ne.source.x1+ne.target.x0)/2,ye=(ne.y0+ne.y1)/2);var Ee=[fe,ye];return ne.trace.orientation==="v"&&Ee.reverse(),Ee[0]+=ce.parent.translateX,Ee[1]+=ce.parent.translateY,Ee}for(var j=0,q=0;q<ce.flow.links.length;q++){var oe=ce.flow.links[q];if(!(A._fullLayout.hovermode==="closest"&&ce.link.pointNumber!==oe.pointNumber)){ce.link.pointNumber===oe.pointNumber&&(j=q),oe.fullData=oe.trace,J=ce.link.trace.link;var Q=ae(oe),K={valueLabel:a(ce.valueFormat)(oe.value)+ce.valueSuffix};Z.push({x:Q[0],y:Q[1],name:K.valueLabel,text:[oe.label||"",k+oe.source.label,I+oe.target.label,oe.concentrationscale?U+a("%0.2f")(oe.flow.labelConcentration):""].filter(t).join("<br>"),color:s(J,"bgcolor")||v.addOpacity(oe.color,1),borderColor:s(J,"bordercolor"),fontFamily:s(J,"font.family"),fontSize:s(J,"font.size"),fontColor:s(J,"font.color"),nameLength:s(J,"namelength"),textAlign:s(J,"align"),idealAlign:y.event.x<Q[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[oe]})}}var se=M.loneHover(Z,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:A,anchorIndex:j});se.each(function(){var ne=this;ce.link.concentrationscale||n(ne,.65),c(ne)})},O=function(ie,ce,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(h.bind(0,ce,J,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,A.emit("plotly_unhover",{event:y.event,points:[ce.link]})),M.loneUnhover(C._hoverlayer.node()))},N=function(ie,ce,J){var Z=ce.node;Z.originalEvent=y.event,A._hoverdata=[Z],y.select(ie).call(f,ce,J),M.click(A,{target:!0})},Y=function(ie,ce,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(g,ce,J),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,A.emit("plotly_hover",{event:y.event,points:[ce.node]})))},$=function(ie,ce){if(A._fullLayout.hovermode!==!1){var J=ce.node.trace.node;if(!(J.hoverinfo==="none"||J.hoverinfo==="skip")){var Z=y.select(ie).select("."+p.nodeRect),ae=A._fullLayout._paperdiv.node().getBoundingClientRect(),j=Z.node().getBoundingClientRect(),q=j.left-2-ae.left,oe=j.right+2-ae.left,Q=j.top+j.height/4-ae.top,K={valueLabel:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix};ce.node.fullData=ce.node.trace,A._fullLayout._calcInverseTransform(A);var se=A._fullLayout._invScaleX,ne=A._fullLayout._invScaleY,fe=M.loneHover({x0:se*q,x1:se*oe,y:ne*Q,name:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix,text:[ce.node.label,z+ce.node.targetLinks.length,F+ce.node.sourceLinks.length].filter(t).join("<br>"),color:s(J,"bgcolor")||ce.tinyColorHue,borderColor:s(J,"bordercolor"),fontFamily:s(J,"font.family"),fontSize:s(J,"font.size"),fontColor:s(J,"font.color"),nameLength:s(J,"namelength"),textAlign:s(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[ce.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:A});n(fe,.85),c(fe)}}},te=function(ie,ce,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(f,ce,J),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,A.emit("plotly_unhover",{event:y.event,points:[ce.node]})),M.loneUnhover(C._hoverlayer.node()))};L(A,b,w,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:m,follow:B,unhover:O,select:E},nodeEvents:{hover:Y,follow:$,unhover:te,select:N}})}},3393:function(G,H,e){var y=e(49887),P=e(81684).k4,a=e(39898),L=e(30838),M=e(86781),v=e(85247),p=e(84267),r=e(7901),t=e(91424),o=e(71828),n=o.strTranslate,c=o.strRotate,u=e(28984),l=u.keyFun,g=u.repeat,f=u.unwrap,T=e(63893),h=e(73972),s=e(18783),d=s.CAP_SHIFT,A=s.LINE_SPACING,w=3;function C(ae,j,q){var oe=f(j),Q=oe.trace,K=Q.domain,se=Q.orientation==="h",ne=Q.node.pad,fe=Q.node.thickness,ye={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[Q.node.align],Ee=ae.width*(K.x[1]-K.x[0]),Te=ae.height*(K.y[1]-K.y[0]),ze=oe._nodes,ke=oe._links,Se=oe.circular,me;Se?me=M.sankeyCircular().circularLinkGap(0):me=L.sankey(),me.iterations(v.sankeyIterations).size(se?[Ee,Te]:[Te,Ee]).nodeWidth(fe).nodePadding(ne).nodeId(function(Vt){return Vt.pointNumber}).nodeAlign(ye).nodes(ze).links(ke);var Ce=me();me.nodePadding()<ne&&o.warn("node.pad was reduced to ",me.nodePadding()," to fit within the figure.");var Ne,He,De;for(var Ve in oe._groupLookup){var at=parseInt(oe._groupLookup[Ve]),lt;for(Ne=0;Ne<Ce.nodes.length;Ne++)if(Ce.nodes[Ne].pointNumber===at){lt=Ce.nodes[Ne];break}if(lt){var $e={pointNumber:parseInt(Ve),x0:lt.x0,x1:lt.x1,y0:lt.y0,y1:lt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ce.nodes.unshift($e),lt.childrenNodes.unshift($e)}}function et(){for(Ne=0;Ne<Ce.nodes.length;Ne++){var Vt=Ce.nodes[Ne],Je={},Ge,Ie;for(He=0;He<Vt.targetLinks.length;He++)Ie=Vt.targetLinks[He],Ge=Ie.source.pointNumber+":"+Ie.target.pointNumber,Je.hasOwnProperty(Ge)||(Je[Ge]=[]),Je[Ge].push(Ie);var Fe=Object.keys(Je);for(He=0;He<Fe.length;He++){Ge=Fe[He];var Pe=Je[Ge],xe=0,ge={};for(De=0;De<Pe.length;De++)Ie=Pe[De],ge[Ie.label]||(ge[Ie.label]=0),ge[Ie.label]+=Ie.value,xe+=Ie.value;for(De=0;De<Pe.length;De++)Ie=Pe[De],Ie.flow={value:xe,labelConcentration:ge[Ie.label]/xe,concentration:Ie.value/xe,links:Pe},Ie.concentrationscale&&(Ie.color=p(Ie.concentrationscale(Ie.flow.labelConcentration)))}var Me=0;for(He=0;He<Vt.sourceLinks.length;He++)Me+=Vt.sourceLinks[He].value;for(He=0;He<Vt.sourceLinks.length;He++)Ie=Vt.sourceLinks[He],Ie.concentrationOut=Ie.value/Me;var Ae=0;for(He=0;He<Vt.targetLinks.length;He++)Ae+=Vt.targetLinks[He].value;for(He=0;He<Vt.targetLinks.length;He++)Ie=Vt.targetLinks[He],Ie.concenrationIn=Ie.value/Ae}}et();function ct(Vt){Vt.forEach(function(Je){var Ge,Ie,Fe=0,Pe=Je.length,xe;for(Je.sort(function(ge,Me){return ge.y0-Me.y0}),xe=0;xe<Pe;++xe)Ge=Je[xe],Ge.y0>=Fe||(Ie=Fe-Ge.y0,Ie>1e-6&&(Ge.y0+=Ie,Ge.y1+=Ie)),Fe=Ge.y1+ne})}function dt(Vt){var Je=Vt.map(function(Me,Ae){return{x0:Me.x0,index:Ae}}).sort(function(Me,Ae){return Me.x0-Ae.x0}),Ge=[],Ie=-1,Fe,Pe=-1/0,xe;for(Ne=0;Ne<Je.length;Ne++){var ge=Vt[Je[Ne].index];ge.x0>Pe+fe&&(Ie+=1,Fe=ge.x0),Pe=ge.x0,Ge[Ie]||(Ge[Ie]=[]),Ge[Ie].push(ge),xe=Fe-ge.x0,ge.x0+=xe,ge.x1+=xe}return Ge}if(Q.node.x.length&&Q.node.y.length){for(Ne=0;Ne<Math.min(Q.node.x.length,Q.node.y.length,Ce.nodes.length);Ne++)if(Q.node.x[Ne]&&Q.node.y[Ne]){var gt=[Q.node.x[Ne]*Ee,Q.node.y[Ne]*Te];Ce.nodes[Ne].x0=gt[0]-fe/2,Ce.nodes[Ne].x1=gt[0]+fe/2;var At=Ce.nodes[Ne].y1-Ce.nodes[Ne].y0;Ce.nodes[Ne].y0=gt[1]-At/2,Ce.nodes[Ne].y1=gt[1]+At/2}if(Q.arrangement==="snap"){ze=Ce.nodes;var Rt=dt(ze);ct(Rt)}me.update(Ce)}return{circular:Se,key:q,trace:Q,guid:o.randstr(),horizontal:se,width:Ee,height:Te,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:K.x[0]*ae.width+ae.margin.l,translateY:ae.height-K.y[1]*ae.height+ae.margin.t,dragParallel:se?Te:Ee,dragPerpendicular:se?Ee:Te,arrangement:Q.arrangement,sankey:me,graph:Ce,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function b(ae,j,q){var oe=p(j.color),Q=j.source.label+"|"+j.target.label,K=Q+"__"+q;return j.trace=ae.trace,j.curveNumber=ae.trace.index,{circular:ae.circular,key:K,traceId:ae.key,pointNumber:j.pointNumber,link:j,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),linkPath:x,linkLineColor:ae.linkLineColor,linkLineWidth:ae.linkLineWidth,linkArrowLength:ae.linkArrowLength,valueFormat:ae.valueFormat,valueSuffix:ae.valueSuffix,sankey:ae.sankey,parent:ae,interactionState:ae.interactionState,flow:j.flow}}function S(ae,j){var q="",oe=ae.width/2,Q=ae.circularPathData;return ae.circularLinkType==="top"?q="M "+(Q.targetX-j)+" "+(Q.targetY+oe)+" L"+(Q.rightInnerExtent-j)+" "+(Q.targetY+oe)+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightSmallArcRadius+oe)+" 0 0 1 "+(Q.rightFullExtent-oe-j)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-oe-j)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightLargeArcRadius+oe)+" 0 0 1 "+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent-oe)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-oe)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftLargeArcRadius+oe)+" 0 0 1 "+(Q.leftFullExtent+oe)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+oe)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftSmallArcRadius+oe)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+oe)+"L"+Q.sourceX+" "+(Q.sourceY+oe)+"L"+Q.sourceX+" "+(Q.sourceY-oe)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-oe)+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftSmallArcRadius-oe)+" 0 0 0 "+(Q.leftFullExtent-oe)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-oe)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftLargeArcRadius-oe)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+oe)+"L"+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent+oe)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightLargeArcRadius-oe)+" 0 0 0 "+(Q.rightFullExtent+oe-j)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+oe-j)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightSmallArcRadius-oe)+" 0 0 0 "+(Q.rightInnerExtent-j)+" "+(Q.targetY-oe)+"L"+(Q.targetX-j)+" "+(Q.targetY-oe)+(j>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":q="M "+(Q.targetX-j)+" "+(Q.targetY-oe)+" L"+(Q.rightInnerExtent-j)+" "+(Q.targetY-oe)+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightSmallArcRadius+oe)+" 0 0 0 "+(Q.rightFullExtent-oe-j)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-oe-j)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightLargeArcRadius+oe)+" 0 0 0 "+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent+oe)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+oe)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftLargeArcRadius+oe)+" 0 0 0 "+(Q.leftFullExtent+oe)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+oe)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftSmallArcRadius+oe)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-oe)+"L"+Q.sourceX+" "+(Q.sourceY-oe)+"L"+Q.sourceX+" "+(Q.sourceY+oe)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+oe)+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftSmallArcRadius-oe)+" 0 0 1 "+(Q.leftFullExtent-oe)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-oe)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftLargeArcRadius-oe)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-oe)+"L"+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent-oe)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightLargeArcRadius-oe)+" 0 0 1 "+(Q.rightFullExtent+oe-j)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+oe-j)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightSmallArcRadius-oe)+" 0 0 1 "+(Q.rightInnerExtent-j)+" "+(Q.targetY+oe)+"L"+(Q.targetX-j)+" "+(Q.targetY+oe)+(j>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z",q}function x(){var ae=.5;function j(q){var oe=q.linkArrowLength;if(q.link.circular)return S(q.link,oe);var Q=Math.abs((q.link.target.x0-q.link.source.x1)/2);oe>Q&&(oe=Q);var K=q.link.source.x1,se=q.link.target.x0-oe,ne=P(K,se),fe=ne(ae),ye=ne(1-ae),Ee=q.link.y0-q.link.width/2,Te=q.link.y0+q.link.width/2,ze=q.link.y1-q.link.width/2,ke=q.link.y1+q.link.width/2,Se="M"+K+","+Ee,me="C"+fe+","+Ee+" "+ye+","+ze+" "+se+","+ze,Ce="C"+ye+","+ke+" "+fe+","+Te+" "+K+","+Te,Ne=oe>0?"L"+(se+oe)+","+(ze+q.link.width/2):"";return Ne+="L"+se+","+ke,Se+me+Ne+Ce+"Z"}return j}function i(ae,j){var q=p(j.color),oe=v.nodePadAcross,Q=ae.nodePad/2;j.dx=j.x1-j.x0,j.dy=j.y1-j.y0;var K=j.dx,se=Math.max(.5,j.dy),ne="node_"+j.pointNumber;return j.group&&(ne=o.randstr()),j.trace=ae.trace,j.curveNumber=ae.trace.index,{index:j.pointNumber,key:ne,partOfGroup:j.partOfGroup||!1,group:j.group,traceId:ae.key,trace:ae.trace,node:j,nodePad:ae.nodePad,nodeLineColor:ae.nodeLineColor,nodeLineWidth:ae.nodeLineWidth,textFont:ae.textFont,size:ae.horizontal?ae.height:ae.width,visibleWidth:Math.ceil(K),visibleHeight:se,zoneX:-oe,zoneY:-Q,zoneWidth:K+2*oe,zoneHeight:se+2*Q,labelY:ae.horizontal?j.dy/2+1:j.dx/2+1,left:j.originalLayer===1,sizeAcross:ae.width,forceLayouts:ae.forceLayouts,horizontal:ae.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:r.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:ae.valueFormat,valueSuffix:ae.valueSuffix,sankey:ae.sankey,graph:ae.graph,arrangement:ae.arrangement,uniqueNodeLabelPathId:[ae.guid,ae.key,ne].join("_"),interactionState:ae.interactionState,figure:ae}}function E(ae){ae.attr("transform",function(j){return n(j.node.x0.toFixed(3),j.node.y0.toFixed(3))})}function m(ae){ae.call(E)}function k(ae,j){ae.call(m),j.attr("d",x())}function I(ae){ae.attr("width",function(j){return j.node.x1-j.node.x0}).attr("height",function(j){return j.visibleHeight})}function U(ae){return ae.link.width>1||ae.linkLineWidth>0}function z(ae){var j=n(ae.translateX,ae.translateY);return j+(ae.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function F(ae,j,q){ae.on(".basic",null).on("mouseover.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(q.hover(this,oe,j),oe.interactionState.hovered=[this,oe])}).on("mousemove.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(q.follow(this,oe),oe.interactionState.hovered=[this,oe])}).on("mouseout.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(q.unhover(this,oe,j),oe.interactionState.hovered=!1)}).on("click.basic",function(oe){oe.interactionState.hovered&&(q.unhover(this,oe,j),oe.interactionState.hovered=!1),!oe.interactionState.dragInProgress&&!oe.partOfGroup&&q.select(this,oe,j)})}function B(ae,j,q,oe){var Q=a.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if(K.arrangement!=="fixed"&&(o.ensureSingle(oe._fullLayout._infolayer,"g","dragcover",function(ne){oe._fullLayout._dragCover=ne}),o.raiseToTop(this),K.interactionState.dragInProgress=K.node,ie(K.node),K.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),K.arrangement==="snap")){var se=K.traceId+"|"+K.key;K.forceLayouts[se]?K.forceLayouts[se].alpha(1):O(ae,se,K),N(ae,j,K,se,oe)}}).on("drag",function(K){if(K.arrangement!=="fixed"){var se=a.event.x,ne=a.event.y;K.arrangement==="snap"?(K.node.x0=se-K.visibleWidth/2,K.node.x1=se+K.visibleWidth/2,K.node.y0=ne-K.visibleHeight/2,K.node.y1=ne+K.visibleHeight/2):(K.arrangement==="freeform"&&(K.node.x0=se-K.visibleWidth/2,K.node.x1=se+K.visibleWidth/2),ne=Math.max(0,Math.min(K.size-K.visibleHeight/2,ne)),K.node.y0=ne-K.visibleHeight/2,K.node.y1=ne+K.visibleHeight/2),ie(K.node),K.arrangement!=="snap"&&(K.sankey.update(K.graph),k(ae.filter(ce(K)),j))}}).on("dragend",function(K){if(K.arrangement!=="fixed"){K.interactionState.dragInProgress=!1;for(var se=0;se<K.node.childrenNodes.length;se++)K.node.childrenNodes[se].x=K.node.x,K.node.childrenNodes[se].y=K.node.y;K.arrangement!=="snap"&&$(K,oe)}});ae.on(".drag",null).call(Q)}function O(ae,j,q,oe){J(q.graph.nodes);var Q=q.graph.nodes.filter(function(K){return K.originalX===q.node.originalX}).filter(function(K){return!K.partOfGroup});q.forceLayouts[j]=y.forceSimulation(Q).alphaDecay(0).force("collide",y.forceCollide().radius(function(K){return K.dy/2+q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",Y(ae,j,Q,q)).stop()}function N(ae,j,q,oe,Q){window.requestAnimationFrame(function K(){var se;for(se=0;se<v.forceTicksPerFrame;se++)q.forceLayouts[oe].tick();var ne=q.graph.nodes;if(Z(ne),q.sankey.update(q.graph),k(ae.filter(ce(q)),j),q.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(K);else{var fe=q.node.originalX;q.node.x0=fe-q.visibleWidth/2,q.node.x1=fe+q.visibleWidth/2,$(q,Q)}})}function Y(ae,j,q,oe){return function(){for(var K=0,se=0;se<q.length;se++){var ne=q[se];ne===oe.interactionState.dragInProgress?(ne.x=ne.lastDraggedX,ne.y=ne.lastDraggedY):(ne.vx=(ne.originalX-ne.x)/v.forceTicksPerFrame,ne.y=Math.min(oe.size-ne.dy/2,Math.max(ne.dy/2,ne.y))),K=Math.max(K,Math.abs(ne.vx),Math.abs(ne.vy))}!oe.interactionState.dragInProgress&&K<.1&&oe.forceLayouts[j].alpha()>0&&oe.forceLayouts[j].alpha(0)}}function $(ae,j){for(var q=[],oe=[],Q=0;Q<ae.graph.nodes.length;Q++){var K=(ae.graph.nodes[Q].x0+ae.graph.nodes[Q].x1)/2,se=(ae.graph.nodes[Q].y0+ae.graph.nodes[Q].y1)/2;q.push(K/ae.figure.width),oe.push(se/ae.figure.height)}h.call("_guiRestyle",j,{"node.x":[q],"node.y":[oe]},ae.trace.index).then(function(){j._fullLayout._dragCover&&j._fullLayout._dragCover.remove()})}function te(ae){var j=[],q;for(q=0;q<ae.length;q++)ae[q].originalX=(ae[q].x0+ae[q].x1)/2,ae[q].originalY=(ae[q].y0+ae[q].y1)/2,j.indexOf(ae[q].originalX)===-1&&j.push(ae[q].originalX);for(j.sort(function(oe,Q){return oe-Q}),q=0;q<ae.length;q++)ae[q].originalLayerIndex=j.indexOf(ae[q].originalX),ae[q].originalLayer=ae[q].originalLayerIndex/(j.length-1)}function ie(ae){ae.lastDraggedX=ae.x0+ae.dx/2,ae.lastDraggedY=ae.y0+ae.dy/2}function ce(ae){return function(j){return j.node.originalX===ae.node.originalX}}function J(ae){for(var j=0;j<ae.length;j++)ae[j].y=(ae[j].y0+ae[j].y1)/2,ae[j].x=(ae[j].x0+ae[j].x1)/2}function Z(ae){for(var j=0;j<ae.length;j++)ae[j].y0=ae[j].y-ae[j].dy/2,ae[j].y1=ae[j].y0+ae[j].dy,ae[j].x0=ae[j].x-ae[j].dx/2,ae[j].x1=ae[j].x0+ae[j].dx}G.exports=function(ae,j,q,oe,Q){var K=ae._context.staticPlot,se=!1;o.ensureSingle(ae._fullLayout._infolayer,"g","first-render",function(){se=!0});var ne=ae._fullLayout._dragCover,fe=q.filter(function(Ce){return f(Ce).trace.visible}).map(C.bind(null,oe)),ye=j.selectAll("."+v.cn.sankey).data(fe,l);ye.exit().remove(),ye.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",z),ye.each(function(Ce,Ne){ae._fullData[Ne]._sankey=Ce;var He="bgsankey-"+Ce.trace.uid+"-"+Ne;o.ensureSingle(ae._fullLayout._draggers,"rect",He),ae._fullData[Ne]._bgRect=a.select("."+He),ae._fullData[Ne]._bgRect.style("pointer-events",K?"none":"all").attr("width",Ce.width).attr("height",Ce.height).attr("x",Ce.translateX).attr("y",Ce.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ye.transition().ease(v.ease).duration(v.duration).attr("transform",z);var Ee=ye.selectAll("."+v.cn.sankeyLinks).data(g,l);Ee.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Te=Ee.selectAll("."+v.cn.sankeyLink).data(function(Ce){var Ne=Ce.graph.links;return Ne.filter(function(He){return He.value}).map(b.bind(null,Ce))},l);Te.enter().append("path").classed(v.cn.sankeyLink,!0).call(F,ye,Q.linkEvents),Te.style("stroke",function(Ce){return U(Ce)?r.tinyRGB(p(Ce.linkLineColor)):Ce.tinyColorHue}).style("stroke-opacity",function(Ce){return U(Ce)?r.opacity(Ce.linkLineColor):Ce.tinyColorAlpha}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}).style("stroke-width",function(Ce){return U(Ce)?Ce.linkLineWidth:1}).attr("d",x()),Te.style("opacity",function(){return ae._context.staticPlot||se||ne?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Te.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var ze=ye.selectAll("."+v.cn.sankeyNodeSet).data(g,l);ze.enter().append("g").classed(v.cn.sankeyNodeSet,!0),ze.style("cursor",function(Ce){switch(Ce.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ke=ze.selectAll("."+v.cn.sankeyNode).data(function(Ce){var Ne=Ce.graph.nodes;return te(Ne),Ne.map(i.bind(null,Ce))},l);ke.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(Ce){return(ae._context.staticPlot||se)&&!Ce.partOfGroup?1:0}),ke.call(F,ye,Q.nodeEvents).call(B,Te,Q,ae),ke.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(Ce){return Ce.partOfGroup?0:1}),ke.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Se=ke.selectAll("."+v.cn.nodeRect).data(g);Se.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Se.style("stroke-width",function(Ce){return Ce.nodeLineWidth}).style("stroke",function(Ce){return r.tinyRGB(p(Ce.nodeLineColor))}).style("stroke-opacity",function(Ce){return r.opacity(Ce.nodeLineColor)}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}),Se.transition().ease(v.ease).duration(v.duration).call(I);var me=ke.selectAll("."+v.cn.nodeLabel).data(g);me.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),me.attr("data-notex",1).text(function(Ce){return Ce.node.label}).each(function(Ce){var Ne=a.select(this);t.font(Ne,Ce.textFont),T.convertToTspans(Ne,ae)}).style("text-shadow",T.makeTextShadow(ae._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ce){return Ce.horizontal&&Ce.left?"end":"start"}).attr("transform",function(Ce){var Ne=a.select(this),He=T.lineCount(Ne),De=Ce.textFont.size*((He-1)*A-d),Ve=Ce.nodeLineWidth/2+w,at=((Ce.horizontal?Ce.visibleHeight:Ce.visibleWidth)-De)/2;Ce.horizontal&&(Ce.left?Ve=-Ve:Ve+=Ce.visibleWidth);var lt=Ce.horizontal?"":"scale(-1,1)"+c(90);return n(Ce.horizontal?Ve:at,Ce.horizontal?at:Ve)+lt}),me.transition().ease(v.ease).duration(v.duration)}},84564:function(G){G.exports=function(e,y){for(var P=e.cd,a=[],L=P[0].trace,M=L._sankey.graph.nodes,v=0;v<M.length;v++){var p=M[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&r.reverse(),y&&y.contains(r,!1,v,e)&&a.push({pointNumber:p.pointNumber})}}return a}},75225:function(G,H,e){var y=e(71828);G.exports=function(a,L){for(var M=0;M<a.length;M++)a[M].i=M;y.mergeArray(L.text,a,"tx"),y.mergeArray(L.texttemplate,a,"txt"),y.mergeArray(L.hovertext,a,"htx"),y.mergeArray(L.customdata,a,"data"),y.mergeArray(L.textposition,a,"tp"),L.textfont&&(y.mergeArrayCastPositive(L.textfont.size,a,"ts"),y.mergeArray(L.textfont.color,a,"tc"),y.mergeArray(L.textfont.family,a,"tf"));var v=L.marker;if(v){y.mergeArrayCastPositive(v.size,a,"ms"),y.mergeArrayCastPositive(v.opacity,a,"mo"),y.mergeArray(v.symbol,a,"mx"),y.mergeArray(v.angle,a,"ma"),y.mergeArray(v.standoff,a,"mf"),y.mergeArray(v.color,a,"mc");var p=v.line;v.line&&(y.mergeArray(p.color,a,"mlc"),y.mergeArrayCastPositive(p.width,a,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(y.mergeArray(r.type,a,"mgt"),y.mergeArray(r.color,a,"mgc"))}}},82196:function(G,H,e){var y=e(12663).axisHoverFormat,P=e(5386).si,a=e(5386).fF,L=e(50693),M=e(41940),v=e(79952).P,p=e(79952).u,r=e(91424),t=e(47581),o=e(1426).extendFlat;function n(l){return{valType:"any",dflt:0,editType:"calc"}}function c(l){return{valType:"any",editType:"calc"}}function u(l){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:c(),yperiod0:c(),xperiodalignment:u(),yperiodalignment:u(),xhoverformat:y("x"),yhoverformat:y("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:o({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:p,marker:o({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:o({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(G,H,e){var y=e(92770),P=e(71828),a=e(89298),L=e(42973),M=e(50606).BADNUM,v=e(34098),p=e(36922),r=e(75225),t=e(66279);function o(f,T){var h=f._fullLayout,s=T._xA=a.getFromId(f,T.xaxis||"x","x"),d=T._yA=a.getFromId(f,T.yaxis||"y","y"),A=s.makeCalcdata(T,"x"),w=d.makeCalcdata(T,"y"),C=L(T,s,"x",A),b=L(T,d,"y",w),S=C.vals,x=b.vals,i=T._length,E=new Array(i),m=T.ids,k=g(T,h,s,d),I=!1,U,z,F,B,O,N;u(h,T);var Y="x",$="y",te;if(k)P.pushUnique(k.traceIndices,T._expandedIndex),U=k.orientation==="v",U?($="s",te="x"):(Y="s",te="y"),O=k.stackgaps==="interpolate";else{var ie=c(T,i);n(f,T,s,d,S,x,ie)}var ce=!!T.xperiodalignment,J=!!T.yperiodalignment;for(z=0;z<i;z++){var Z=E[z]={},ae=y(S[z]),j=y(x[z]);ae&&j?(Z[Y]=S[z],Z[$]=x[z],ce&&(Z.orig_x=A[z],Z.xEnd=C.ends[z],Z.xStart=C.starts[z]),J&&(Z.orig_y=w[z],Z.yEnd=b.ends[z],Z.yStart=b.starts[z])):k&&(U?ae:j)?(Z[te]=U?S[z]:x[z],Z.gap=!0,O?(Z.s=M,I=!0):Z.s=0):Z[Y]=Z[$]=M,m&&(Z.id=String(m[z]))}if(r(E,T),p(f,T),t(E,T),k){for(z=0;z<E.length;)E[z][te]===M?E.splice(z,1):z++;if(P.sort(E,function(K,se){return K[te]-se[te]||K.i-se.i}),I){for(z=0;z<E.length-1&&E[z].gap;)z++;for(N=E[z].s,N||(N=E[z].s=0),F=0;F<z;F++)E[F].s=N;for(B=E.length-1;B>z&&E[B].gap;)B--;for(N=E[B].s,F=E.length-1;F>B;F--)E[F].s=N;for(;z<B;)if(z++,E[z].gap){for(F=z+1;E[F].gap;)F++;for(var q=E[z-1][te],oe=E[z-1].s,Q=(E[F].s-oe)/(E[F][te]-q);z<F;)E[z].s=oe+(E[z][te]-q)*Q,z++}}}return E}function n(f,T,h,s,d,A,w){var C=T._length,b=f._fullLayout,S=h._id,x=s._id,i=b._firstScatter[l(T)]===T.uid,E=(g(T,b,h,s)||{}).orientation,m=T.fill;h._minDtick=0,s._minDtick=0;var k={padded:!0},I={padded:!0};w&&(k.ppad=I.ppad=w);var U=C<2||d[0]!==d[C-1]||A[0]!==A[C-1];U&&(m==="tozerox"||m==="tonextx"&&(i||E==="h"))?k.tozero=!0:!(T.error_y||{}).visible&&(m==="tonexty"||m==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(k.padded=!1,k.ppad=0),U&&(m==="tozeroy"||m==="tonexty"&&(i||E==="v"))?I.tozero=!0:(m==="tonextx"||m==="tozerox")&&(I.padded=!1),S&&(T._extremes[S]=a.findExtremes(h,d,k)),x&&(T._extremes[x]=a.findExtremes(s,A,I))}function c(f,T){if(v.hasMarkers(f)){var h=f.marker,s=1.6*(f.marker.sizeref||1),d;if(f.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/s),3)}:d=function(S){return Math.max((S||0)/s,3)},P.isArrayOrTypedArray(h.size)){var A={type:"linear"};a.setConvert(A);for(var w=A.makeCalcdata(f.marker,"size"),C=new Array(T),b=0;b<T;b++)C[b]=d(w[b]);return C}else return d(h.size)}}function u(f,T){var h=l(T),s=f._firstScatter;s[h]||(s[h]=T.uid)}function l(f){var T=f.stackgroup;return f.xaxis+f.yaxis+f.type+(T?"-"+T:"")}function g(f,T,h,s){var d=f.stackgroup;if(d){var A=T._scatterStackOpts[h._id+s._id][d],w=A.orientation==="v"?s:h;if(w.type==="linear"||w.type==="log")return A}}G.exports={calc:o,calcMarkerSize:c,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:g}},66279:function(G,H,e){var y=e(71828);G.exports=function(a,L){y.isArrayOrTypedArray(L.selectedpoints)&&y.tagSelected(a,L)}},36922:function(G,H,e){var y=e(52075).hasColorscale,P=e(78803),a=e(34098);G.exports=function(M,v){a.hasLines(v)&&y(v,"line")&&P(M,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(y(v,"marker")&&P(M,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),y(v,"marker.line")&&P(M,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(G,H,e){var y=e(47761),P=e(11661).setGroupPositions;function a(v,p){for(var r=p.xaxis,t=p.yaxis,o=v._fullLayout,n=v._fullData,c=v.calcdata,u=[],l=[],g=0;g<n.length;g++){var f=n[g];f.visible===!0&&f.type==="scatter"&&f.xaxis===r._id&&f.yaxis===t._id&&(f.orientation==="h"?u.push(c[g]):f.orientation==="v"&&l.push(c[g]))}var T={mode:o.scattermode,gap:o.scattergap};P(v,r,t,l,T),P(v,t,r,u,T)}G.exports=function(p,r){p._fullLayout.scattermode==="group"&&a(p,r);var t=r.xaxis,o=r.yaxis,n=t._id+o._id,c=p._fullLayout._scatterStackOpts[n];if(c){var u=p.calcdata,l,g,f,T,h,s,d,A,w,C,b,S,x,i,E;for(var m in c){C=c[m];var k=C.traceIndices;if(k.length){for(b=C.stackgaps==="interpolate",S=C.groupnorm,C.orientation==="v"?(x="x",i="y"):(x="y",i="x"),E=new Array(k.length),l=0;l<E.length;l++)E[l]=!1;s=u[k[0]];var I=new Array(s.length);for(l=0;l<s.length;l++)I[l]=s[l][x];for(l=1;l<k.length;l++){for(h=u[k[l]],g=f=0;g<h.length;g++){for(d=h[g][x];d>I[f]&&f<I.length;f++)L(h,g,I[f],l,E,b,x),g++;if(d!==I[f]){for(T=0;T<l;T++)L(u[k[T]],f,d,T,E,b,x);I.splice(f,0,d)}f++}for(;f<I.length;f++)L(h,g,I[f],l,E,b,x),g++}var U=I.length;for(g=0;g<s.length;g++){for(A=s[g][i]=s[g].s,l=1;l<k.length;l++)h=u[k[l]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=U,A+=h[g].s,h[g][i]=A;if(S)for(w=(S==="fraction"?A:A/100)||1,l=0;l<k.length;l++){var z=u[k[l]][g];z[i]/=w,z.sNorm=z.s/w}}for(l=0;l<k.length;l++){h=u[k[l]];var F=h[0].trace,B=y.calcMarkerSize(F,F._rawLength),O=Array.isArray(B);if(B&&E[l]||O){var N=B;for(B=new Array(U),g=0;g<U;g++)B[g]=h[g].gap?0:O?N[h[g].i]:N}var Y=new Array(U),$=new Array(U);for(g=0;g<U;g++)Y[g]=h[g].x,$[g]=h[g].y;y.calcAxisExpansion(p,F,t,o,Y,$,B),h[0].t.orientation=C.orientation}}}}};function L(v,p,r,t,o,n,c){o[t]=!0;var u={i:null,gap:!0,s:0};if(u[c]=r,v.splice(p,0,u),p&&r===v[p-1][c]){var l=v[p-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=M(v,p,r,c));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function M(v,p,r,t){var o=v[p-1],n=v[p+1];return n?o?o.s+(n.s-o.s)*(r-o[t])/(n[t]-o[t]):n.s:o.s}},34936:function(G,H,e){var y=e(71828),P=e(26125),a=e(82196);G.exports=function(M,v){var p,r,t;function o(g){return y.coerce(r._input,r,a,g)}if(v.scattermode==="group")for(t=0;t<M.length;t++)r=M[t],r.type==="scatter"&&(p=r._input,P(p,r,v,o));for(t=0;t<M.length;t++){var n=M[t];if(n.type==="scatter"){var c=n.fill;if(!(c==="none"||c==="toself")&&(n.opacity=void 0,c==="tonexty"||c==="tonextx"))for(var u=t-1;u>=0;u--){var l=M[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},17438:function(G,H,e){var y=e(71828),P=e(73972),a=e(82196),L=e(47581),M=e(34098),v=e(67513),p=e(73927),r=e(565),t=e(49508),o=e(11058),n=e(94039),c=e(82410),u=e(28908),l=e(71828).coercePattern;G.exports=function(f,T,h,s){function d(E,m){return y.coerce(f,T,a,E,m)}var A=v(f,T,s,d);if(A||(T.visible=!1),!!T.visible){p(f,T,s,d),d("xhoverformat"),d("yhoverformat");var w=r(f,T,s,d);s.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var C=!w&&A<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),M.hasMarkers(T)&&t(f,T,h,s,d,{gradient:!0}),M.hasLines(T)&&(o(f,T,h,s,d,{backoff:!0}),n(f,T,d),d("connectgaps"),d("line.simplify")),M.hasText(T)&&(d("texttemplate"),c(f,T,s,d));var b=[];(M.hasMarkers(T)||M.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),b.push("points")),d("fill",w?w.fillDflt:"none"),T.fill!=="none"&&(u(f,T,h,d),M.hasLines(T)||n(f,T,d),l(d,"fillpattern",T.fillcolor,!1));var S=(T.line||{}).color,x=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&b.push("fills"),d("hoveron",b.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var i=P.getComponentMethod("errorbars","supplyDefaults");i(f,T,S||x||h,{axis:"y"}),i(f,T,S||x||h,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(T,d)}}},28908:function(G,H,e){var y=e(7901),P=e(71828).isArrayOrTypedArray;G.exports=function(L,M,v,p){var r=!1;if(M.marker){var t=M.marker.color,o=(M.marker.line||{}).color;t&&!P(t)?r=t:o&&!P(o)&&(r=o)}p("fillcolor",y.addOpacity((M.line||{}).color||r||v,.5))}},8225:function(G,H,e){var y=e(89298);G.exports=function(a,L,M){var v={},p={_fullLayout:M},r=y.getFromTrace(p,L,"x"),t=y.getFromTrace(p,L,"y"),o=a.orig_x;o===void 0&&(o=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=y.tickText(r,r.c2l(o),!0).text,v.yLabel=y.tickText(t,t.c2l(n),!0).text,v}},34603:function(G,H,e){var y=e(7901),P=e(34098);G.exports=function(L,M){var v,p;if(L.mode==="lines")return v=L.line.color,v&&y.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=M.mcc||(L.marker||{}).color,t=M.mlcc||((L.marker||{}).line||{}).color;return p=r&&y.opacity(r)?r:t&&y.opacity(t)&&(M.mlw||((L.marker||{}).line||{}).width)?t:"",p?y.opacity(p)<.3?y.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&y.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},26125:function(G,H,e){var y=e(99082).getAxisGroup;G.exports=function(a,L,M,v){var p=L.orientation,r=L[{v:"x",h:"y"}[p]+"axis"],t=y(M,r)+p,o=M._alignmentOpts||{},n=v("alignmentgroup"),c=o[t];c||(c=o[t]={});var u=c[n];u?u.traces.push(L):u=c[n]={traces:[L],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var l=v("offsetgroup"),g=u.offsetGroups,f=g[l];l&&(f||(f=g[l]={offsetIndex:Object.keys(g).length}),L._offsetIndex=f.offsetIndex)}},33720:function(G,H,e){var y=e(71828),P=e(30211),a=e(73972),L=e(34603),M=e(7901),v=y.fillText;G.exports=function(r,t,o,n){var c=r.cd,u=c[0].trace,l=r.xa,g=r.ya,f=l.c2p(t),T=g.c2p(o),h=[f,T],s=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,A=!!u.xperiodalignment,w=!!u.yperiodalignment;if(s.indexOf("points")!==-1){var C=function(fe){if(A){var ye=l.c2p(fe.xStart),Ee=l.c2p(fe.xEnd);return f>=Math.min(ye,Ee)&&f<=Math.max(ye,Ee)?0:1/0}var Te=Math.max(3,fe.mrc||0),ze=1-1/Te,ke=Math.abs(l.c2p(fe.x)-f);return ke<Te?ze*ke/Te:ke-Te+ze},b=function(fe){if(w){var ye=g.c2p(fe.yStart),Ee=g.c2p(fe.yEnd);return T>=Math.min(ye,Ee)&&T<=Math.max(ye,Ee)?0:1/0}var Te=Math.max(3,fe.mrc||0),ze=1-1/Te,ke=Math.abs(g.c2p(fe.y)-T);return ke<Te?ze*ke/Te:ke-Te+ze},S=function(fe){var ye=Math.max(d,fe.mrc||0),Ee=l.c2p(fe.x)-f,Te=g.c2p(fe.y)-T;return Math.max(Math.sqrt(Ee*Ee+Te*Te)-ye,1-d/ye)},x=P.getDistanceFunction(n,C,b,S);if(P.getClosest(c,x,r),r.index!==!1){var i=c[r.index],E=l.c2p(i.x,!0),m=g.c2p(i.y,!0),k=i.mrc||1;r.index=i.i;var I=c[0].t.orientation,U=I&&(i.sNorm||i.s),z=I==="h"?U:i.orig_x!==void 0?i.orig_x:i.x,F=I==="v"?U:i.orig_y!==void 0?i.orig_y:i.y;return y.extendFlat(r,{color:L(u,i),x0:E-k,x1:E+k,xLabelVal:z,y0:m-k,y1:m+k,yLabelVal:F,spikeDistance:S(i),hovertemplate:u.hovertemplate}),v(i,u,r),a.getComponentMethod("errorbars","hoverInfo")(i,u,r),[r]}}if(s.indexOf("fills")!==-1&&u._polygons){var B=u._polygons,O=[],N=!1,Y=1/0,$=-1/0,te=1/0,ie=-1/0,ce,J,Z,ae,j,q,oe,Q,K;for(ce=0;ce<B.length;ce++)Z=B[ce],Z.contains(h)&&(N=!N,O.push(Z),te=Math.min(te,Z.ymin),ie=Math.max(ie,Z.ymax));if(N){te=Math.max(te,0),ie=Math.min(ie,g._length);var se=(te+ie)/2;for(ce=0;ce<O.length;ce++)for(ae=O[ce].pts,J=1;J<ae.length;J++)Q=ae[J-1][1],K=ae[J][1],Q>se!=K>=se&&(q=ae[J-1][0],oe=ae[J][0],K-Q&&(j=q+(oe-q)*(se-Q)/(K-Q),Y=Math.min(Y,j),$=Math.max($,j)));Y=Math.max(Y,0),$=Math.min($,l._length);var ne=M.defaultLine;return M.opacity(u.fillcolor)?ne=u.fillcolor:M.opacity((u.line||{}).color)&&(ne=u.line.color),y.extendFlat(r,{distance:r.maxHoverDistance,x0:Y,x1:$,y0:se,y1:se,color:ne,hovertemplate:!1}),delete r.index,u.text&&!y.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},67368:function(G,H,e){var y=e(34098);G.exports={hasLines:y.hasLines,hasMarkers:y.hasMarkers,hasText:y.hasText,isBubble:y.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(G,H,e){var y=e(71828),P=e(21479);G.exports=function(a,L){function M(p,r){return y.coerce(a,L,P,p,r)}var v=L.barmode==="group";L.scattermode==="group"&&M("scattergap",v?L.bargap:.2)}},11058:function(G,H,e){var y=e(71828).isArrayOrTypedArray,P=e(52075).hasColorscale,a=e(1586);G.exports=function(M,v,p,r,t,o){o||(o={});var n=(M.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(M,"line"))a(M,v,r,t,{prefix:"line.",cLetter:"c"});else{var c=(y(n)?!1:n)||p;t("line.color",c)}t("line.width"),o.noDash||t("line.dash"),o.backoff&&t("line.backoff")}},34621:function(G,H,e){var y=e(91424),P=e(50606),a=P.BADNUM,L=P.LOG_CLIP,M=L+.5,v=L-.5,p=e(71828),r=p.segmentsIntersect,t=p.constrain,o=e(47581);G.exports=function(c,u){var l=u.trace||{},g=u.xaxis,f=u.yaxis,T=g.type==="log",h=f.type==="log",s=g._length,d=f._length,A=u.backoff,w=l.marker,C=u.connectGaps,b=u.baseTolerance,S=u.shape,x=S==="linear",i=l.fill&&l.fill!=="none",E=[],m=o.minTolerance,k=c.length,I=new Array(k),U=0,z,F,B,O,N,Y,$,te,ie,ce,J,Z,ae,j,q,oe;function Q(ft){var pt=c[ft];if(!pt)return!1;var Yt=u.linearized?g.l2p(pt.x):g.c2p(pt.x),Jt=u.linearized?f.l2p(pt.y):f.c2p(pt.y);if(Yt===a){if(T&&(Yt=g.c2p(pt.x,!0)),Yt===a)return!1;h&&Jt===a&&(Yt*=Math.abs(g._m*d*(g._m>0?M:v)/(f._m*s*(f._m>0?M:v)))),Yt*=1e3}if(Jt===a){if(h&&(Jt=f.c2p(pt.y,!0)),Jt===a)return!1;Jt*=1e3}return[Yt,Jt]}function K(ft,pt,Yt,Jt){var Tt=Yt-ft,zt=Jt-pt,$t=.5-ft,wr=.5-pt,yt=Tt*Tt+zt*zt,Xt=Tt*$t+zt*wr;if(Xt>0&&Xt<yt){var Qt=$t*zt-wr*Tt;if(Qt*Qt<yt)return!0}}var se,ne;function fe(ft,pt){var Yt=ft[0]/s,Jt=ft[1]/d,Tt=Math.max(0,-Yt,Yt-1,-Jt,Jt-1);return Tt&&se!==void 0&&K(Yt,Jt,se,ne)&&(Tt=0),Tt&&pt&&K(Yt,Jt,pt[0]/s,pt[1]/d)&&(Tt=0),(1+o.toleranceGrowth*Tt)*b}function ye(ft,pt){var Yt=ft[0]-pt[0],Jt=ft[1]-pt[1];return Math.sqrt(Yt*Yt+Jt*Jt)}var Ee=o.maxScreensAway,Te=-s*Ee,ze=s*(1+Ee),ke=-d*Ee,Se=d*(1+Ee),me=[[Te,ke,ze,ke],[ze,ke,ze,Se],[ze,Se,Te,Se],[Te,Se,Te,ke]],Ce,Ne,He,De,Ve,at;function lt(ft,pt){for(var Yt=[],Jt=0,Tt=0;Tt<4;Tt++){var zt=me[Tt],$t=r(ft[0],ft[1],pt[0],pt[1],zt[0],zt[1],zt[2],zt[3]);$t&&(!Jt||Math.abs($t.x-Yt[0][0])>1||Math.abs($t.y-Yt[0][1])>1)&&($t=[$t.x,$t.y],Jt&&ye($t,ft)<ye(Yt[0],ft)?Yt.unshift($t):Yt.push($t),Jt++)}return Yt}function $e(ft){if(ft[0]<Te||ft[0]>ze||ft[1]<ke||ft[1]>Se)return[t(ft[0],Te,ze),t(ft[1],ke,Se)]}function et(ft,pt){if(ft[0]===pt[0]&&(ft[0]===Te||ft[0]===ze)||ft[1]===pt[1]&&(ft[1]===ke||ft[1]===Se))return!0}function ct(ft,pt){var Yt=[],Jt=$e(ft),Tt=$e(pt);return Jt&&Tt&&et(Jt,Tt)||(Jt&&Yt.push(Jt),Tt&&Yt.push(Tt)),Yt}function dt(ft,pt,Yt){return function(Jt,Tt){var zt=$e(Jt),$t=$e(Tt),wr=[];if(zt&&$t&&et(zt,$t))return wr;zt&&wr.push(zt),$t&&wr.push($t);var yt=2*p.constrain((Jt[ft]+Tt[ft])/2,pt,Yt)-((zt||Jt)[ft]+($t||Tt)[ft]);if(yt){var Xt;zt&&$t?Xt=yt>0==zt[ft]>$t[ft]?zt:$t:Xt=zt||$t,Xt[ft]+=yt}return wr}}var gt;S==="linear"||S==="spline"?gt=lt:S==="hv"||S==="vh"?gt=ct:S==="hvh"?gt=dt(0,Te,ze):S==="vhv"&&(gt=dt(1,ke,Se));function At(ft,pt){var Yt=pt[0]-ft[0],Jt=(pt[1]-ft[1])/Yt,Tt=(ft[1]*pt[0]-pt[1]*ft[0])/Yt;return Tt>0?[Jt>0?Te:ze,Se]:[Jt>0?ze:Te,ke]}function Rt(ft){var pt=ft[0],Yt=ft[1],Jt=pt===I[U-1][0],Tt=Yt===I[U-1][1];if(!(Jt&&Tt))if(U>1){var zt=pt===I[U-2][0],$t=Yt===I[U-2][1];Jt&&(pt===Te||pt===ze)&&zt?$t?U--:I[U-1]=ft:Tt&&(Yt===ke||Yt===Se)&&$t?zt?U--:I[U-1]=ft:I[U++]=ft}else I[U++]=ft}function Vt(ft){I[U-1][0]!==ft[0]&&I[U-1][1]!==ft[1]&&Rt([He,De]),Rt(ft),Ve=null,He=De=0}var Je=p.isArrayOrTypedArray(w);function Ge(ft){if(ft&&A&&(ft.i=z,ft.d=c,ft.trace=l,ft.marker=Je?w[ft.i]:w,ft.backoff=A),se=ft[0]/s,ne=ft[1]/d,Ce=ft[0]<Te?Te:ft[0]>ze?ze:0,Ne=ft[1]<ke?ke:ft[1]>Se?Se:0,Ce||Ne){if(!U)I[U++]=[Ce||ft[0],Ne||ft[1]];else if(Ve){var pt=gt(Ve,ft);pt.length>1&&(Vt(pt[0]),I[U++]=pt[1])}else at=gt(I[U-1],ft)[0],I[U++]=at;var Yt=I[U-1];Ce&&Ne&&(Yt[0]!==Ce||Yt[1]!==Ne)?(Ve&&(He!==Ce&&De!==Ne?Rt(He&&De?At(Ve,ft):[He||Ce,De||Ne]):He&&De&&Rt([He,De])),Rt([Ce,Ne])):He-Ce&&De-Ne&&Rt([Ce||He,Ne||De]),Ve=ft,He=Ce,De=Ne}else Ve&&Vt(gt(Ve,ft)[0]),I[U++]=ft}for(z=0;z<k;z++)if(F=Q(z),!!F){for(U=0,Ve=null,Ge(F),z++;z<k;z++){if(O=Q(z),!O){if(C)continue;break}if(!x||!u.simplify){Ge(O);continue}var Ie=Q(z+1);if(ce=ye(O,F),!(!(i&&(U===0||U===k-1))&&ce<fe(O,Ie)*m)){for(te=[(O[0]-F[0])/ce,(O[1]-F[1])/ce],N=F,J=ce,Z=j=q=0,$=!1,B=O,z++;z<c.length;z++){if(Y=Ie,Ie=Q(z+1),!Y){if(C)continue;break}if(ie=[Y[0]-F[0],Y[1]-F[1]],oe=ie[0]*te[1]-ie[1]*te[0],j=Math.min(j,oe),q=Math.max(q,oe),q-j>fe(Y,Ie))break;B=Y,ae=ie[0]*te[0]+ie[1]*te[1],ae>J?(J=ae,O=Y,$=!1):ae<Z&&(Z=ae,N=Y,$=!0)}if($?(Ge(O),B!==N&&Ge(N)):(N!==F&&Ge(N),B!==O&&Ge(O)),Ge(B),z>=c.length||!Y)break;Ge(Y),F=Y}}Ve&&Rt([He||Ve[0],De||Ve[1]]),E.push(I.slice(0,U))}var Fe=S.slice(S.length-1);if(A&&Fe!=="h"&&Fe!=="v"){for(var Pe=!1,xe=-1,ge=[],Me=0;Me<E.length;Me++)for(var Ae=0;Ae<E[Me].length-1;Ae++){var Ue=E[Me][Ae],Ze=E[Me][Ae+1],tt=y.applyBackoff(Ze,Ue);(tt[0]!==Ze[0]||tt[1]!==Ze[1])&&(Pe=!0),ge[xe+1]||(xe++,ge[xe]=[Ue,[tt[0],tt[1]]])}return Pe?ge:E}return E}},94039:function(G){G.exports=function(e,y,P){var a=P("line.shape");a==="spline"&&P("line.smoothing")}},68687:function(G){var H={tonextx:1,tonexty:1,tonext:1};G.exports=function(y,P,a){var L,M,v,p,r,t={},o=!1,n=-1,c=0,u=-1;for(M=0;M<a.length;M++)L=a[M][0].trace,v=L.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=c,c++):L.fill in H&&u>=0?r=u:(r=u=c,c++),r<n&&(o=!0),L._groupIndex=n=r;var l=a.slice();o&&l.sort(function(f,T){var h=f[0].trace,s=T[0].trace;return h._groupIndex-s._groupIndex||h.index-s.index});var g={};for(M=0;M<l.length;M++)L=l[M][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in H&&(p=g[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),g[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return l}},39984:function(G,H,e){var y=e(92770);G.exports=function(a,L){L||(L=2);var M=a.marker,v=M.sizeref||1,p=M.sizemin||0,r=M.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var o=r(t/L);return y(o)&&o>0?Math.max(o,p):0}}},4898:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(G,H,e){var y=e(7901),P=e(52075).hasColorscale,a=e(1586),L=e(34098);G.exports=function(v,p,r,t,o,n){var c=L.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),o("marker.symbol"),o("marker.opacity",c?.7:1),o("marker.size"),n.noAngle||(o("marker.angle"),n.noAngleRef||o("marker.angleref"),n.noStandOff||o("marker.standoff")),o("marker.color",r),P(v,"marker")&&a(v,p,t,o,{prefix:"marker.",cLetter:"c"}),n.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&p.marker.color!==u?l=u:c?l=y.background:l=y.defaultLine,o("marker.line.color",l),P(v,"marker.line")&&a(v,p,t,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",c?1:0)),c&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),n.gradient){var g=o("marker.gradient.type");g!=="none"&&o("marker.gradient.color")}}},73927:function(G,H,e){var y=e(71828).dateTick0,P=e(50606),a=P.ONEWEEK;function L(M,v){return M%a===0?y(v,1):y(v,0)}G.exports=function(v,p,r,t,o){if(o||(o={x:!0,y:!0}),o.x){var n=t("xperiod");n&&(t("xperiod0",L(n,p.xcalendar)),t("xperiodalignment"))}if(o.y){var c=t("yperiod");c&&(t("yperiod0",L(c,p.ycalendar)),t("yperiodalignment"))}}},32663:function(G,H,e){var y=e(39898),P=e(73972),a=e(71828),L=a.ensureSingle,M=a.identity,v=e(91424),p=e(34098),r=e(34621),t=e(68687),o=e(61082).tester;G.exports=function(g,f,T,h,s,d){var A,w,C=!s,b=!!s&&s.duration>0,S=t(g,f,T);if(A=h.selectAll("g.trace").data(S,function(i){return i[0].trace.uid}),A.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),A.order(),n(g,A,f),b){d&&(w=d());var x=y.transition().duration(s.duration).ease(s.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});x.each(function(){h.selectAll("g.trace").each(function(i,E){c(g,E,f,i,S,this,s)})})}else A.each(function(i,E){c(g,E,f,i,S,this,s)});C&&A.exit().remove(),h.selectAll("path:not([d])").remove()};function n(l,g,f){g.each(function(T){var h=L(y.select(this),"g","fills");v.setClipUrl(h,f.layerClipId,l);var s=T[0].trace,d=[];s._ownfill&&d.push("_ownFill"),s._nexttrace&&d.push("_nextFill");var A=h.selectAll("g").data(d,M);A.enter().append("g"),A.exit().each(function(w){s[w]=null}).remove(),A.order().each(function(w){s[w]=L(y.select(this),"path","js-fill")})})}function c(l,g,f,T,h,s,d){var A=l._context.staticPlot,w;u(l,g,f,T,h);var C=!!d&&d.duration>0;function b(De){return C?De.transition():De}var S=f.xaxis,x=f.yaxis,i=T[0].trace,E=i.line,m=y.select(s),k=L(m,"g","errorbars"),I=L(m,"g","lines"),U=L(m,"g","points"),z=L(m,"g","text");if(P.getComponentMethod("errorbars","plot")(l,k,f,d),i.visible!==!0)return;b(m).style("opacity",i.opacity);var F,B,O=i.fill.charAt(i.fill.length-1);O!=="x"&&O!=="y"&&(O=""),T[0][f.isRangePlot?"nodeRangePlot3":"node3"]=m;var N="",Y=[],$=i._prevtrace;$&&(N=$._prevRevpath||"",B=$._nextFill,Y=$._polygons);var te,ie,ce="",J="",Z,ae,j,q,oe,Q,K,se=[],ne=a.noop;if(F=i._ownFill,p.hasLines(i)||i.fill!=="none"){for(B&&B.datum(T),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(Z=v.steps(E.shape),ae=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?Z=ae=function(De){var Ve=De[De.length-1];return De.length>1&&De[0][0]===Ve[0]&&De[0][1]===Ve[1]?v.smoothclosed(De.slice(1),E.smoothing):v.smoothopen(De,E.smoothing)}:Z=ae=function(De){return"M"+De.join("L")},j=function(De){return ae(De.reverse())},se=r(T,{xaxis:S,yaxis:x,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:i.fill}),K=i._polygons=new Array(se.length),w=0;w<se.length;w++)i._polygons[w]=o(se[w]);se.length&&(q=se[0][0],oe=se[se.length-1],Q=oe[oe.length-1]),ne=function(De){return function(Ve){if(te=Z(Ve),ie=j(Ve),ce?O?(ce+="L"+te.substr(1),J=ie+("L"+J.substr(1))):(ce+="Z"+te,J=ie+"Z"+J):(ce=te,J=ie),p.hasLines(i)){var at=y.select(this);if(at.datum(T),De)b(at.style("opacity",0).attr("d",te).call(v.lineGroupStyle)).style("opacity",1);else{var lt=b(at);lt.attr("d",te),v.singleLineStyle(T,lt)}}}}}var fe=I.selectAll(".js-line").data(se);b(fe.exit()).style("opacity",0).remove(),fe.each(ne(!1)),fe.enter().append("path").classed("js-line",!0).style("vector-effect",A?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ne(!0)),v.setClipUrl(fe,f.layerClipId,l);function ye(De){b(De).attr("d","M0,0Z")}se.length?(F?(F.datum(T),q&&Q&&(O?(O==="y"?q[1]=Q[1]=x.c2p(0,!0):O==="x"&&(q[0]=Q[0]=S.c2p(0,!0)),b(F).attr("d","M"+Q+"L"+q+"L"+ce.substr(1)).call(v.singleFillStyle,l)):b(F).attr("d",ce+"Z").call(v.singleFillStyle,l))):B&&(i.fill.substr(0,6)==="tonext"&&ce&&N?(i.fill==="tonext"?b(B).attr("d",ce+"Z"+N+"Z").call(v.singleFillStyle,l):b(B).attr("d",ce+"L"+N.substr(1)+"Z").call(v.singleFillStyle,l),i._polygons=i._polygons.concat(Y)):(ye(B),i._polygons=null)),i._prevRevpath=J,i._prevPolygons=K):(F?ye(F):B&&ye(B),i._polygons=i._prevRevpath=i._prevPolygons=null);function Ee(De){return De.filter(function(Ve){return!Ve.gap&&Ve.vis})}function Te(De){return De.filter(function(Ve){return Ve.vis})}function ze(De){return De.filter(function(Ve){return!Ve.gap})}function ke(De){return De.id}function Se(De){if(De.ids)return ke}function me(){return!1}function Ce(De,Ve,at){var lt,$e,et,ct=at[0].trace,dt=p.hasMarkers(ct),gt=p.hasText(ct),At=Se(ct),Rt=me,Vt=me;if(dt||gt){var Je=M,Ge=ct.stackgroup,Ie=Ge&&l._fullLayout._scatterStackOpts[S._id+x._id][Ge].stackgaps==="infer zero";ct.marker.maxdisplayed||ct._needsCull?Je=Ie?Te:Ee:Ge&&!Ie&&(Je=ze),dt&&(Rt=Je),gt&&(Vt=Je)}$e=De.selectAll("path.point"),lt=$e.data(Rt,At);var Fe=lt.enter().append("path").classed("point",!0);C&&Fe.call(v.pointStyle,ct,l).call(v.translatePoints,S,x).style("opacity",0).transition().style("opacity",1),lt.order();var Pe;dt&&(Pe=v.makePointStyleFns(ct)),lt.each(function(xe){var ge=y.select(this),Me=b(ge);et=v.translatePoint(xe,Me,S,x),et?(v.singlePointStyle(xe,Me,ct,Pe,l),f.layerClipId&&v.hideOutsideRangePoint(xe,Me,S,x,ct.xcalendar,ct.ycalendar),ct.customdata&&ge.classed("plotly-customdata",xe.data!==null&&xe.data!==void 0)):Me.remove()}),C?lt.exit().transition().style("opacity",0).remove():lt.exit().remove(),$e=Ve.selectAll("g"),lt=$e.data(Vt,At),lt.enter().append("g").classed("textpoint",!0).append("text"),lt.order(),lt.each(function(xe){var ge=y.select(this),Me=b(ge.select("text"));et=v.translatePoint(xe,Me,S,x),et?f.layerClipId&&v.hideOutsideRangePoint(xe,ge,S,x,ct.xcalendar,ct.ycalendar):ge.remove()}),lt.selectAll("text").call(v.textPointStyle,ct,l).each(function(xe){var ge=S.c2p(xe.x),Me=x.c2p(xe.y);y.select(this).selectAll("tspan.line").each(function(){b(y.select(this)).attr({x:ge,y:Me})})}),lt.exit().remove()}U.datum(T),z.datum(T),Ce(U,z,T);var Ne=i.cliponaxis===!1,He=Ne?null:f.layerClipId;v.setClipUrl(U,He,l),v.setClipUrl(z,He,l)}function u(l,g,f,T,h){var s=f.xaxis,d=f.yaxis,A=y.extent(a.simpleMap(s.range,s.r2c)),w=y.extent(a.simpleMap(d.range,d.r2c)),C=T[0].trace;if(p.hasMarkers(C)){var b=C.marker.maxdisplayed;if(b!==0){var S=T.filter(function(m){return m.x>=A[0]&&m.x<=A[1]&&m.y>=w[0]&&m.y<=w[1]}),x=Math.ceil(S.length/b),i=0;h.forEach(function(m,k){var I=m[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&k<g&&i++});var E=Math.round(i*x/3+Math.floor(i/3)*x/7.1);T.forEach(function(m){delete m.vis}),S.forEach(function(m,k){Math.round((k+E)%x)===0&&(m.vis=!0)})}}}},98002:function(G,H,e){var y=e(34098);G.exports=function(a,L){var M=a.cd,v=a.xaxis,p=a.yaxis,r=[],t=M[0].trace,o,n,c,u,l=!y.hasMarkers(t)&&!y.hasText(t);if(l)return[];if(L===!1)for(o=0;o<M.length;o++)M[o].selected=0;else for(o=0;o<M.length;o++)n=M[o],c=v.c2p(n.x),u=p.c2p(n.y),n.i!==null&&L.contains([c,u],!1,o,a)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},565:function(G){var H=["orientation","groupnorm","stackgaps"];G.exports=function(y,P,a,L){var M=a._scatterStackOpts,v=L("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=M[p];r||(r=M[p]={});var t=r[v],o=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},o=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},c=0;c<H.length;c++){var u=H[c],l=u+"Found";if(!t[l]){var g=y[u]!==void 0,f=u==="orientation";if((g||o)&&(t[u]=L(u,n[u]),f&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),g&&(t[l]=!0,!o&&(delete t.traces[0][u],f))))for(var T=0;T<t.traces.length-1;T++){var h=t.traces[T];h._input.fill!==h.fill&&(h.fill=t.fillDflt)}}}return t}}},16296:function(G,H,e){var y=e(39898),P=e(91424),a=e(73972);function L(r){var t=y.select(r).selectAll("g.trace.scatter");t.style("opacity",function(o){return o[0].trace.opacity}),t.selectAll("g.points").each(function(o){var n=y.select(this),c=o.trace||o[0].trace;M(n,c,r)}),t.selectAll("g.text").each(function(o){var n=y.select(this),c=o.trace||o[0].trace;v(n,c,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r),a.getComponentMethod("errorbars","style")(t)}function M(r,t,o){P.pointStyle(r.selectAll("path.point"),t,o)}function v(r,t,o){P.textPointStyle(r.selectAll("text"),t,o)}function p(r,t,o){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(o.selectAll("path.point"),n),P.selectedTextStyle(o.selectAll("text"),n)):(M(o,n,r),v(o,n,r))}G.exports={style:L,stylePoints:M,styleText:v,styleOnSelect:p}},34098:function(G,H,e){var y=e(71828),P=e(73627).isTypedArraySpec;G.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var L=a.marker;return y.isPlainObject(L)&&(y.isArrayOrTypedArray(L.size)||P(L.size))}}},82410:function(G,H,e){var y=e(71828);G.exports=function(P,a,L,M,v){v=v||{},M("textposition"),y.coerceFont(M,"textfont",v.font||L.font),v.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},67513:function(G,H,e){var y=e(71828),P=e(73972);G.exports=function(L,M,v,p){var r=p("x"),t=p("y"),o,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,M,["x","y"],v),r){var c=y.minRowLength(r);t?o=Math.min(c,y.minRowLength(t)):(o=c,p("y0"),p("dy"))}else{if(!t)return 0;o=y.minRowLength(t),p("x0"),p("dx")}return M._length=o,o}},44542:function(G,H,e){var y=e(82196),P=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,M=e(5386).si,v=e(9012),p=e(29659),r=e(87381),t=e(1426).extendFlat,o=e(30962).overrideAll,n=e(78607),c=y.line,u=y.marker,l=u.line,g=t({width:c.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},P("line"));function f(h){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var T=G.exports=o({x:y.x,y:y.y,z:{valType:"data_array"},text:t({},y.text,{}),texttemplate:M({},{}),hovertext:t({},y.hovertext,{}),hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:t({},y.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:f(),y:f(),z:f()},connectgaps:y.connectgaps,line:g,marker:t({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:t({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:t({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:t({width:t({},l.width,{arrayOk:!1})},P("marker.line"))},P("marker")),textposition:t({},y.textposition,{dflt:"top center"}),textfont:{color:y.textfont.color,size:y.textfont.size,family:t({},y.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:t({},v.hoverinfo)},"calc","nested");T.x.editType=T.y.editType=T.z.editType="calc+clearAxisTypes"},36563:function(G,H,e){var y=e(75225),P=e(36922);G.exports=function(L,M){var v=[{x:!1,y:!1,trace:M,t:{}}];return y(v,M),P(L,M),v}},67336:function(G,H,e){var y=e(73972);function P(M,v,p,r){if(!v||!v.visible)return null;for(var t=y.getComponentMethod("errorbars","makeComputeError")(v),o=new Array(M.length),n=0;n<M.length;n++){var c=t(+M[n],n);if(r.type==="log"){var u=r.c2l(M[n]),l=M[n]-c[0],g=M[n]+c[1];if(o[n]=[(r.c2l(l,!0)-u)*p,(r.c2l(g,!0)-u)*p],l>0){var f=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=f),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,f)}}else o[n]=[-c[0]*p,c[1]*p]}return o}function a(M){for(var v=0;v<M.length;v++)if(M[v])return M[v].length;return 0}function L(M,v,p){var r=[P(M.x,M.error_x,v[0],p.xaxis),P(M.y,M.error_y,v[1],p.yaxis),P(M.z,M.error_z,v[2],p.zaxis)],t=a(r);if(t===0)return null;for(var o=new Array(t),n=0;n<t;n++){for(var c=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)c[l][u]=r[u][n][l];o[n]=c}return o}G.exports=L},58925:function(G,H,e){var y=e(9330).gl_line3d,P=e(9330).gl_scatter3d,a=e(9330).gl_error3d,L=e(9330).gl_mesh3d,M=e(9330).delaunay_triangulate,v=e(71828),p=e(78614),r=e(81697).formatColor,t=e(39984),o=e(29659),n=e(87381),c=e(89298),u=e(23469).appendArrayPointValue,l=e(67336);function g(m,k){this.scene=m,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var f=g.prototype;f.handlePick=function(m){if(m.object&&(m.object===this.linePlot||m.object===this.delaunayMesh||m.object===this.textMarkers||m.object===this.scatterPlot)){var k=m.index=m.data.index;return m.object.highlight&&m.object.highlight(null),this.scatterPlot&&(m.object=this.scatterPlot,this.scatterPlot.highlight(m.data)),m.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(m.textLabel=this.textLabels[k]):m.textLabel=this.textLabels),m.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function T(m,k,I){var U=(I+1)%3,z=(I+2)%3,F=[],B=[],O;for(O=0;O<m.length;++O){var N=m[O];isNaN(N[U])||!isFinite(N[U])||isNaN(N[z])||!isFinite(N[z])||(F.push([N[U],N[z]]),B.push(O))}var Y=M(F);for(O=0;O<Y.length;++O)for(var $=Y[O],te=0;te<$.length;++te)$[te]=B[$[te]];return{positions:m,cells:Y,meshColor:k}}function h(m){for(var k=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],U=[1,1,1],z=0;z<3;z++){var F=m[z];F&&F.copy_zstyle!==!1&&m[2].visible!==!1&&(F=m[2]),!(!F||!F.visible)&&(k[z]=F.width/2,I[z]=p(F.color),U[z]=F.thickness)}return{capSize:k,color:I,lineWidth:U}}function s(m){return m==null?0:m.indexOf("left")>-1?-1:m.indexOf("right")>-1?1:0}function d(m){return m==null?0:m.indexOf("top")>-1?-1:m.indexOf("bottom")>-1?1:0}function A(m){var k=0,I=0,U=[k,I];if(Array.isArray(m))for(var z=0;z<m.length;z++)U[z]=[k,I],m[z]&&(U[z][0]=s(m[z]),U[z][1]=d(m[z]));else U[0]=s(m),U[1]=d(m);return U}function w(m,k){return k(m*4)}function C(m){return n[m]}function b(m,k,I,U,z){var F=null;if(v.isArrayOrTypedArray(m)){F=[];for(var B=0;B<k;B++)m[B]===void 0?F[B]=U:F[B]=I(m[B],z)}else F=I(m,v.identity);return F}function S(m,k){var I=[],U=m.fullSceneLayout,z=m.dataScale,F=U.xaxis,B=U.yaxis,O=U.zaxis,N=k.marker,Y=k.line,$=k.x||[],te=k.y||[],ie=k.z||[],ce=$.length,J=k.xcalendar,Z=k.ycalendar,ae=k.zcalendar,j,q,oe,Q,K,se;for(K=0;K<ce;K++)j=F.d2l($[K],0,J)*z[0],q=B.d2l(te[K],0,Z)*z[1],oe=O.d2l(ie[K],0,ae)*z[2],I[K]=[j,q,oe];if(Array.isArray(k.text))se=k.text;else if(v.isTypedArray(k.text))se=Array.from(k.text);else if(k.text!==void 0)for(se=new Array(ce),K=0;K<ce;K++)se[K]=k.text;function ne(lt,$e){var et=U[lt];return c.tickText(et,et.d2l($e),!0).text}var fe=k.texttemplate;if(fe){var ye=m.fullLayout,Ee=ye._d3locale,Te=Array.isArray(fe),ze=Te?Math.min(fe.length,ce):ce,ke=Te?function(lt){return fe[lt]}:function(){return fe};for(se=new Array(ze),K=0;K<ze;K++){var Se={x:$[K],y:te[K],z:ie[K]},me={xLabel:ne("xaxis",$[K]),yLabel:ne("yaxis",te[K]),zLabel:ne("zaxis",ie[K])},Ce={};u(Ce,k,K);var Ne=k._meta||{};se[K]=v.texttemplateString(ke(K),me,Ee,Ce,Se,Ne)}}if(Q={position:I,mode:k.mode,text:se},"line"in k&&(Q.lineColor=r(Y,1,ce),Q.lineWidth=Y.width,Q.lineDashes=Y.dash),"marker"in k){var He=t(k);Q.scatterColor=r(N,1,ce),Q.scatterSize=b(N.size,ce,w,20,He),Q.scatterMarker=b(N.symbol,ce,C,""),Q.scatterLineWidth=N.line.width,Q.scatterLineColor=r(N.line,1,ce),Q.scatterAngle=0}"textposition"in k&&(Q.textOffset=A(k.textposition),Q.textColor=r(k.textfont,1,ce),Q.textSize=b(k.textfont.size,ce,v.identity,12),Q.textFont=k.textfont.family,Q.textAngle=0);var De=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],K=0;K<3;++K){var Ve=k.projection[De[K]];(Q.project[K]=Ve.show)&&(Q.projectOpacity[K]=Ve.opacity,Q.projectScale[K]=Ve.scale)}Q.errorBounds=l(k,z,U);var at=h([k.error_x,k.error_y,k.error_z]);return Q.errorColor=at.color,Q.errorLineWidth=at.lineWidth,Q.errorCapSize=at.capSize,Q.delaunayAxis=k.surfaceaxis,Q.delaunayColor=p(k.surfacecolor),Q}function x(m){if(v.isArrayOrTypedArray(m)){var k=m[0];return v.isArrayOrTypedArray(k)&&(m=k),"rgb("+m.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function i(m){return v.isArrayOrTypedArray(m)?m.length===4&&typeof m[0]=="number"?x(m):m.map(x):null}f.update=function(m){var k=this.scene.glplot.gl,I,U,z,F,B=o.solid;this.data=m;var O=S(this.scene,m);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in o&&(B=o[O.lineDashes]),this.color=i(O.scatterColor)||i(O.lineColor),this.dataPoints=O.position,I={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:m.opacity,connectGaps:m.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=y(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var N=m.opacity;if(m.marker&&m.marker.opacity!==void 0&&(N*=m.marker.opacity),U={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:N,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(U):(this.scatterPlot=P(U),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),F={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:m.opacity},this.textLabels=m.hovertext||m.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(F):(this.textMarkers=P(F),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:m.opacity},this.errorBars?O.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=a(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var Y=T(O.position,O.delaunayColor,O.delaunayAxis);Y.opacity=m.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=k,this.delaunayMesh=L(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},f.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(m,k){var I=new g(m,k.uid);return I.update(k),I}G.exports=E},21428:function(G,H,e){var y=e(73972),P=e(71828),a=e(34098),L=e(49508),M=e(11058),v=e(82410),p=e(44542);G.exports=function(o,n,c,u){function l(w,C){return P.coerce(o,n,p,w,C)}var g=r(o,n,l,u);if(!g){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasMarkers(n)&&L(o,n,c,u,l,{noSelect:!0,noAngle:!0}),a.hasLines(n)&&(l("connectgaps"),M(o,n,c,u,l)),a.hasText(n)&&(l("texttemplate"),v(o,n,u,l,{noSelect:!0}));var f=(n.line||{}).color,T=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",f||T);for(var h=["x","y","z"],s=0;s<3;++s){var d="projection."+h[s];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var A=y.getComponentMethod("errorbars","supplyDefaults");A(o,n,f||T||c,{axis:"z"}),A(o,n,f||T||c,{axis:"y",inherit:"z"}),A(o,n,f||T||c,{axis:"x",inherit:"z"})};function r(t,o,n,c){var u=0,l=n("x"),g=n("y"),f=n("z"),T=y.getComponentMethod("calendars","handleTraceDefaults");return T(t,o,["x","y","z"],c),l&&g&&f&&(u=Math.min(l.length,g.length,f.length),o._length=o._xlength=o._ylength=o._zlength=u),u}},13551:function(G,H,e){G.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(G,H,e){var y=e(82196),P=e(9012),a=e(5386).fF,L=e(5386).si,M=e(50693),v=e(1426).extendFlat,p=y.marker,r=y.line,t=p.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},y.mode,{dflt:"markers"}),text:v({},y.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},y.hovertext,{}),line:{color:r.color,width:r.width,dash:r.dash,backoff:r.backoff,shape:v({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:y.connectgaps,fill:v({},y.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:y.fillcolor,marker:v({symbol:p.symbol,opacity:p.opacity,maxdisplayed:p.maxdisplayed,angle:p.angle,angleref:p.angleref,standoff:p.standoff,size:p.size,sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,line:v({width:t.width,editType:"calc"},M("marker.line")),gradient:p.gradient,editType:"calc"},M("marker")),textfont:y.textfont,textposition:y.textposition,selected:y.selected,unselected:y.unselected,hoverinfo:v({},P.hoverinfo,{flags:["a","b","text","name"]}),hoveron:y.hoveron,hovertemplate:a()}},34618:function(G,H,e){var y=e(92770),P=e(36922),a=e(75225),L=e(66279),M=e(47761).calcMarkerSize,v=e(22882);G.exports=function(r,t){var o=t._carpetTrace=v(r,t);if(!(!o||!o.visible||o.visible==="legendonly")){var n;t.xaxis=o.xaxis,t.yaxis=o.yaxis;var c=t._length,u=new Array(c),l,g,f=!1;for(n=0;n<c;n++)if(l=t.a[n],g=t.b[n],y(l)&&y(g)){var T=o.ab2xy(+l,+g,!0),h=o.isVisible(+l,+g);h||(f=!0),u[n]={x:T[0],y:T[1],a:l,b:g,vis:h}}else u[n]={x:!1,y:!1};return t._needsCull=f,u[0].carpet=o,u[0].trace=t,M(t,c),P(r,t),a(u,t),L(u,t),u}}},98965:function(G,H,e){var y=e(71828),P=e(47581),a=e(34098),L=e(49508),M=e(11058),v=e(94039),p=e(82410),r=e(28908),t=e(97001);G.exports=function(n,c,u,l){function g(w,C){return y.coerce(n,c,t,w,C)}g("carpet"),c.xaxis="x",c.yaxis="y";var f=g("a"),T=g("b"),h=Math.min(f.length,T.length);if(!h){c.visible=!1;return}c._length=h,g("text"),g("texttemplate"),g("hovertext");var s=h<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",s),a.hasMarkers(c)&&L(n,c,u,l,g,{gradient:!0}),a.hasLines(c)&&(M(n,c,u,l,g,{backoff:!0}),v(n,c,g),g("connectgaps")),a.hasText(c)&&p(n,c,l,g);var d=[];(a.hasMarkers(c)||a.hasText(c))&&(g("marker.maxdisplayed"),d.push("points")),g("fill"),c.fill!=="none"&&(r(n,c,u,g),a.hasLines(c)||v(n,c,g)),(c.fill==="tonext"||c.fill==="toself")&&d.push("fills");var A=g("hoveron",d.join("+")||"points");A!=="fills"&&g("hovertemplate"),y.coerceSelectionMarkerOpacity(c,g)}},16165:function(G){G.exports=function(e,y,P,a,L){var M=a[L];return e.a=M.a,e.b=M.b,e.y=M.y,e}},48953:function(G){G.exports=function(e,y){var P={},a=y._carpet,L=a.ab2ij([e.a,e.b]),M=Math.floor(L[0]),v=L[0]-M,p=Math.floor(L[1]),r=L[1]-p,t=a.evalxy([],M,p,v,r);return P.yLabel=t[1].toFixed(3),P}},22931:function(G,H,e){var y=e(33720),P=e(71828).fillText;G.exports=function(L,M,v,p){var r=y(L,M,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var o=1-t.y0/L.ya._length,n=L.xa._length,c=n*o/2,u=n-c;return t.x0=Math.max(Math.min(t.x0,u),c),t.x1=Math.max(Math.min(t.x1,u),c),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var g=t.trace,f=g._carpet,T=g._module.formatLabels(l,g);t.yLabel=T.yLabel,delete t.text;var h=[];function s(w,C){var b;w.labelprefix&&w.labelprefix.length>0?b=w.labelprefix.replace(/ = $/,""):b=w._hovertitle,h.push(b+": "+C.toFixed(3)+w.labelsuffix)}if(!g.hovertemplate){var d=l.hi||g.hoverinfo,A=d.split("+");A.indexOf("all")!==-1&&(A=["a","b","text"]),A.indexOf("a")!==-1&&s(f.aaxis,l.a),A.indexOf("b")!==-1&&s(f.baxis,l.b),h.push("y: "+t.yLabel),A.indexOf("text")!==-1&&P(l,g,h),t.extraText=h.join("<br>")}return r}},46858:function(G,H,e){G.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(G,H,e){var y=e(32663),P=e(89298),a=e(91424);G.exports=function(M,v,p,r){var t,o,n,c=p[0][0].carpet,u=P.getFromId(M,c.xaxis||"x"),l=P.getFromId(M,c.yaxis||"y"),g={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)o=p[t][0].trace,o._xA=u,o._yA=l;for(y(M,g,p,r),t=0;t<p.length;t++)o=p[t][0].trace,n=r.selectAll("g.trace"+o.uid+" .js-line"),a.setClipUrl(n,p[t][0].carpet._clipPathId,M)}},19316:function(G,H,e){var y=e(5386).fF,P=e(5386).si,a=e(82196),L=e(9012),M=e(50693),v=e(79952).P,p=e(1426).extendFlat,r=e(30962).overrideAll,t=a.marker,o=a.line,n=t.line;G.exports=r({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:p({},a.mode,{dflt:"markers"}),text:p({},a.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:p({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:o.color,width:o.width,dash:v},connectgaps:a.connectgaps,marker:p({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:p({},t.angleref,{values:["previous","up","north"]}),standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,colorbar:t.colorbar,line:p({width:n.width},M("marker.line")),gradient:t.gradient},M("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:p({},L.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:y()},"calc","nested")},84622:function(G,H,e){var y=e(92770),P=e(50606).BADNUM,a=e(36922),L=e(75225),M=e(66279),v=e(71828).isArrayOrTypedArray,p=e(71828)._;function r(t){return t&&typeof t=="string"}G.exports=function(o,n){var c=v(n.locations),u=c?n.locations.length:n._length,l=new Array(u),g;n.geojson?g=function(A){return r(A)||y(A)}:g=r;for(var f=0;f<u;f++){var T=l[f]={};if(c){var h=n.locations[f];T.loc=g(h)?h:null}else{var s=n.lon[f],d=n.lat[f];y(s)&&y(d)?T.lonlat=[+s,+d]:T.lonlat=[P,P]}}return L(l,n),a(o,n),M(l,n),u&&(l[0].t={labels:{lat:p(o,"lat:")+" ",lon:p(o,"lon:")+" "}}),l}},10659:function(G,H,e){var y=e(71828),P=e(34098),a=e(49508),L=e(11058),M=e(82410),v=e(28908),p=e(19316);G.exports=function(t,o,n,c){function u(A,w){return y.coerce(t,o,p,A,w)}var l=u("locations"),g;if(l&&l.length){var f=u("geojson"),T;(typeof f=="string"&&f!==""||y.isPlainObject(f))&&(T="geojson-id");var h=u("locationmode",T);h==="geojson-id"&&u("featureidkey"),g=l.length}else{var s=u("lon")||[],d=u("lat")||[];g=Math.min(s.length,d.length)}if(!g){o.visible=!1;return}o._length=g,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),P.hasMarkers(o)&&a(t,o,n,c,u,{gradient:!0}),P.hasLines(o)&&(L(t,o,n,c,u),u("connectgaps")),P.hasText(o)&&(u("texttemplate"),M(t,o,c,u)),u("fill"),o.fill!=="none"&&v(t,o,n,u),y.coerceSelectionMarkerOpacity(o,u)}},84084:function(G){G.exports=function(e,y,P,a,L){e.lon=y.lon,e.lat=y.lat,e.location=y.loc?y.loc:null;var M=a[L];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e}},82719:function(G,H,e){var y=e(89298);G.exports=function(a,L,M){var v={},p=M[L.geo]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=y.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=y.tickText(r,r.c2l(t[1]),!0).text,v}},14977:function(G,H,e){var y=e(30211),P=e(50606).BADNUM,a=e(34603),L=e(71828).fillText,M=e(19316);G.exports=function(r,t,o){var n=r.cd,c=n[0].trace,u=r.xa,l=r.ya,g=r.subplot,f=g.projection.isLonLatOverEdges,T=g.project;function h(S){var x=S.lonlat;if(x[0]===P||f(x))return 1/0;var i=T(x),E=T([t,o]),m=Math.abs(i[0]-E[0]),k=Math.abs(i[1]-E[1]),I=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(m*m+k*k)-I,1-3/I)}if(y.getClosest(n,h,r),r.index!==!1){var s=n[r.index],d=s.lonlat,A=[u.c2p(d),l.c2p(d)],w=s.mrc||1;r.x0=A[0]-w,r.x1=A[0]+w,r.y0=A[1]-w,r.y1=A[1]+w,r.loc=s.loc,r.lon=d[0],r.lat=d[1];var C={};C[c.geo]={_subplot:g};var b=c._module.formatLabels(s,c,C);return r.lonLabel=b.lonLabel,r.latLabel=b.latLabel,r.color=a(c,s),r.extraText=v(c,s,r,n[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}};function v(p,r,t,o){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,c=n==="all"?M.hoverinfo.flags:n.split("+"),u=c.indexOf("location")!==-1&&Array.isArray(p.locations),l=c.indexOf("lon")!==-1,g=c.indexOf("lat")!==-1,f=c.indexOf("text")!==-1,T=[];function h(s){return s+""}return u?T.push(r.loc):l&&g?T.push("("+h(t.latLabel)+", "+h(t.lonLabel)+")"):l?T.push(o.lon+h(t.lonLabel)):g&&T.push(o.lat+h(t.latLabel)),f&&L(r,p,T),T.join("<br>")}},17988:function(G,H,e){G.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(G,H,e){var y=e(39898),P=e(71828),a=e(90973).getTopojsonFeatures,L=e(18214),M=e(41327),v=e(71739).findExtremes,p=e(50606).BADNUM,r=e(47761).calcMarkerSize,t=e(34098),o=e(33095);function n(u,l,g){var f=l.layers.frontplot.select(".scatterlayer"),T=P.makeTraceGroups(f,g,"trace scattergeo");function h(s,d){s.lonlat[0]===p&&y.select(d).remove()}T.selectAll("*").remove(),T.each(function(s){var d=y.select(this),A=s[0].trace;if(t.hasLines(A)||A.fill!=="none"){var w=L.calcTraceToLineCoords(s),C=A.fill!=="none"?L.makePolygon(w):L.makeLine(w);d.selectAll("path.js-line").data([{geojson:C,trace:A}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(A)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(b){h(b,this)}),t.hasText(A)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(b){h(b,this)}),o(u,s)})}function c(u,l){var g=u[0].trace,f=l[g.geo],T=f._subplot,h=g._length,s,d;if(P.isArrayOrTypedArray(g.locations)){var A=g.locationmode,w=A==="geojson-id"?M.extractTraceFeature(u):a(g,T.topojson);for(s=0;s<h;s++){d=u[s];var C=A==="geojson-id"?d.fOut:M.locationToFeature(A,d.loc,w);d.lonlat=C?C.properties.ct:[p,p]}}var b={padded:!0},S,x;if(f.fitbounds==="geojson"&&g.locationmode==="geojson-id"){var i=M.computeBbox(M.getTraceGeojson(g));S=[i[0],i[2]],x=[i[1],i[3]]}else{for(S=new Array(h),x=new Array(h),s=0;s<h;s++)d=u[s],S[s]=d.lonlat[0],x[s]=d.lonlat[1];b.ppad=r(g,h)}g._extremes.lon=v(f.lonaxis._ax,S,b),g._extremes.lat=v(f.lataxis._ax,x,b)}G.exports={calcGeoJSON:c,plot:n}},20548:function(G,H,e){var y=e(34098),P=e(50606).BADNUM;G.exports=function(L,M){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],o=v[0].trace,n,c,u,l,g,f=!y.hasMarkers(o)&&!y.hasText(o);if(f)return[];if(M===!1)for(g=0;g<v.length;g++)v[g].selected=0;else for(g=0;g<v.length;g++)n=v[g],c=n.lonlat,c[0]!==P&&(u=p.c2p(c),l=r.c2p(c),M.contains([u,l],null,g,L)?(t.push({pointNumber:g,lon:c[0],lat:c[1]}),n.selected=1):n.selected=0);return t}},33095:function(G,H,e){var y=e(39898),P=e(91424),a=e(7901),L=e(16296),M=L.stylePoints,v=L.styleText;G.exports=function(t,o){o&&p(t,o)};function p(r,t){var o=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),M(n,o,r),v(n,o,r),n.selectAll("path.js-line").style("fill","none").each(function(c){var u=y.select(this),l=c.trace,g=l.line||{};u.call(a.stroke,g.color).call(P.dashLine,g.dash||"",g.width||0),l.fill!=="none"&&u.call(a.fill,l.fillcolor)})}},42341:function(G,H,e){var y=e(9012),P=e(82196),a=e(12663).axisHoverFormat,L=e(50693),M=e(78607),v=e(1426).extendFlat,p=e(30962).overrideAll,r=e(78232).DASHES,t=P.line,o=P.marker,n=o.line,c=G.exports=p({x:P.x,x0:P.x0,dx:P.dx,y:P.y,y0:P.y0,dy:P.dy,xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:P.text,hovertext:P.hovertext,textposition:P.textposition,textfont:P.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:t.color,width:t.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:M(r),dflt:"solid"}},marker:v({},L("marker"),{symbol:o.symbol,angle:o.angle,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:o.opacity,colorbar:o.colorbar,line:v({},L("marker.line"),{width:n.width})}),connectgaps:P.connectgaps,fill:v({},P.fill,{dflt:"none"}),fillcolor:P.fillcolor,selected:{marker:P.selected.marker,textfont:P.selected.textfont},unselected:{marker:P.unselected.marker,textfont:P.unselected.textfont},opacity:y.opacity},"calc","nested");c.x.editType=c.y.editType=c.x0.editType=c.y0.editType="calc+clearAxisTypes",c.hovertemplate=P.hovertemplate,c.texttemplate=P.texttemplate},72156:function(G,H,e){var y=e(20794);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:y.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(G,H,e){var y=e(88294),P=e(71828),a=e(41675),L=e(71739).findExtremes,M=e(42973),v=e(47761),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,o=e(36922),n=e(19635),c=e(38967),u=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;G.exports=function(h,s){var d=h._fullLayout,A=s._xA=a.getFromId(h,s.xaxis,"x"),w=s._yA=a.getFromId(h,s.yaxis,"y"),C=d._plots[s.xaxis+s.yaxis],b=s._length,S=b>=l,x=b*2,i={},E,m=A.makeCalcdata(s,"x"),k=w.makeCalcdata(s,"y"),I=M(s,A,"x",m),U=M(s,w,"y",k),z=I.vals,F=U.vals;s._x=z,s._y=F,s.xperiodalignment&&(s._origX=m,s._xStarts=I.starts,s._xEnds=I.ends),s.yperiodalignment&&(s._origY=k,s._yStarts=U.starts,s._yEnds=U.ends);var B=new Array(x),O=new Array(b);for(E=0;E<b;E++)B[E*2]=z[E]===u?NaN:z[E],B[E*2+1]=F[E]===u?NaN:F[E],O[E]=E;if(A.type==="log")for(E=0;E<x;E+=2)B[E]=A.c2l(B[E]);if(w.type==="log")for(E=1;E<x;E+=2)B[E]=w.c2l(B[E]);S&&A.type!=="log"&&w.type!=="log"?i.tree=y(B):i.ids=O,o(h,s);var N=f(h,C,s,B,z,F),Y=c(h,C);t(d,s);var $;return S?N.marker&&($=N.marker.sizeAvg||Math.max(N.marker.size,3)):$=p(s,b),r(h,s,A,w,z,F,$),N.errorX&&g(s,A,N.errorX),N.errorY&&g(s,w,N.errorY),N.fill&&!Y.fill2d&&(Y.fill2d=!0),N.marker&&!Y.scatter2d&&(Y.scatter2d=!0),N.line&&!Y.line2d&&(Y.line2d=!0),(N.errorX||N.errorY)&&!Y.error2d&&(Y.error2d=!0),N.text&&!Y.glText&&(Y.glText=!0),N.marker&&(N.marker.snap=b),Y.lineOptions.push(N.line),Y.errorXOptions.push(N.errorX),Y.errorYOptions.push(N.errorY),Y.fillOptions.push(N.fill),Y.markerOptions.push(N.marker),Y.markerSelectedOptions.push(N.markerSel),Y.markerUnselectedOptions.push(N.markerUnsel),Y.textOptions.push(N.text),Y.textSelectedOptions.push(N.textSel),Y.textUnselectedOptions.push(N.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),i._scene=Y,i.index=Y.count,i.x=z,i.y=F,i.positions=B,Y.count++,[{x:!1,y:!1,t:i,trace:s}]};function g(T,h,s){var d=T._extremes[h._id],A=L(h,s._bnds,{padded:!0});d.min=d.min.concat(A.min),d.max=d.max.concat(A.max)}function f(T,h,s,d,A,w){var C=n.style(T,s);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(T,s,d)),C.errorX||C.errorY){var b=n.errorBarPositions(T,s,d,A,w);C.errorX&&P.extendFlat(C.errorX,b.x),C.errorY&&P.extendFlat(C.errorY,b.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(T,s,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(T,s,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(T,s,C.text,C.markerUnsel))),C}},78232:function(G){var H=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:H,SYMBOL_STROKE:H/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(G,H,e){var y=e(92770),P=e(82019),a=e(25075),L=e(73972),M=e(71828),v=M.isArrayOrTypedArray,p=e(91424),r=e(41675),t=e(81697).formatColor,o=e(34098),n=e(39984),c=e(68645),u=e(78232),l=e(37822).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},f=e(23469).appendArrayPointValue;function T(U,z){var F,B={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=U._context.plotGlPixelRatio;if(z.visible!==!0)return B;if(o.hasText(z)&&(B.text=h(U,z),B.textSel=A(U,z,z.selected),B.textUnsel=A(U,z,z.unselected)),o.hasMarkers(z)&&(B.marker=s(U,z),B.markerSel=d(U,z,z.selected),B.markerUnsel=d(U,z,z.unselected),!z.unselected&&v(z.marker.opacity))){var N=z.marker.opacity;for(B.markerUnsel.opacity=new Array(N.length),F=0;F<N.length;F++)B.markerUnsel.opacity[F]=l*N[F]}if(o.hasLines(z)){B.line={overlay:!0,thickness:z.line.width*O,color:z.line.color,opacity:z.opacity};var Y=(u.DASHES[z.line.dash]||[1]).slice();for(F=0;F<Y.length;++F)Y[F]*=z.line.width*O;B.line.dashes=Y}return z.error_x&&z.error_x.visible&&(B.errorX=w(z,z.error_x,O)),z.error_y&&z.error_y.visible&&(B.errorY=w(z,z.error_y,O)),z.fill&&z.fill!=="none"&&(B.fill={closed:!0,fill:z.fillcolor,thickness:0}),B}function h(U,z){var F=U._fullLayout,B=z._length,O=z.textfont,N=z.textposition,Y=v(N)?N:[N],$=O.color,te=O.size,ie=O.family,ce={},J,Z=U._context.plotGlPixelRatio,ae=z.texttemplate;if(ae){ce.text=[];var j=F._d3locale,q=Array.isArray(ae),oe=q?Math.min(ae.length,B):B,Q=q?function(Te){return ae[Te]}:function(){return ae};for(J=0;J<oe;J++){var K={i:J},se=z._module.formatLabels(K,z,F),ne={};f(ne,z,J);var fe=z._meta||{};ce.text.push(M.texttemplateString(Q(J),se,j,ne,K,fe))}}else v(z.text)&&z.text.length<B?ce.text=z.text.slice():ce.text=z.text;if(v(ce.text))for(J=ce.text.length;J<B;J++)ce.text[J]="";for(ce.opacity=z.opacity,ce.font={},ce.align=[],ce.baseline=[],J=0;J<Y.length;J++){var ye=Y[J].split(/\s+/);switch(ye[1]){case"left":ce.align.push("right");break;case"right":ce.align.push("left");break;default:ce.align.push(ye[1])}switch(ye[0]){case"top":ce.baseline.push("bottom");break;case"bottom":ce.baseline.push("top");break;default:ce.baseline.push(ye[0])}}if(v($))for(ce.color=new Array(B),J=0;J<B;J++)ce.color[J]=$[J];else ce.color=$;if(v(te)||v(ie))for(ce.font=new Array(B),J=0;J<B;J++){var Ee=ce.font[J]={};Ee.size=(M.isTypedArray(te)?te[J]:v(te)?y(te[J])?te[J]:0:te)*Z,Ee.family=v(ie)?ie[J]:ie}else ce.font={size:te*Z,family:ie};return ce}function s(U,z){var F=z._length,B=z.marker,O={},N,Y=v(B.symbol),$=v(B.angle),te=v(B.color),ie=v(B.line.color),ce=v(B.opacity),J=v(B.size),Z=v(B.line.width),ae;if(Y||(ae=c.isOpenSymbol(B.symbol)),Y||te||ie||ce||$){O.symbols=new Array(F),O.angles=new Array(F),O.colors=new Array(F),O.borderColors=new Array(F);var j=B.symbol,q=B.angle,oe=t(B,B.opacity,F),Q=t(B.line,B.opacity,F);if(!v(Q[0])){var K=Q;for(Q=Array(F),N=0;N<F;N++)Q[N]=K}if(!v(oe[0])){var se=oe;for(oe=Array(F),N=0;N<F;N++)oe[N]=se}if(!v(j)){var ne=j;for(j=Array(F),N=0;N<F;N++)j[N]=ne}if(!v(q)){var fe=q;for(q=Array(F),N=0;N<F;N++)q[N]=fe}for(O.symbols=j,O.angles=q,O.colors=oe,O.borderColors=Q,N=0;N<F;N++)Y&&(ae=c.isOpenSymbol(B.symbol[N])),ae&&(Q[N]=oe[N].slice(),oe[N]=oe[N].slice(),oe[N][3]=0);for(O.opacity=z.opacity,O.markers=new Array(F),N=0;N<F;N++)O.markers[N]=E({mx:O.symbols[N],ma:O.angles[N]},z)}else ae?(O.color=a(B.color,"uint8"),O.color[3]=0,O.borderColor=a(B.color,"uint8")):(O.color=a(B.color,"uint8"),O.borderColor=a(B.line.color,"uint8")),O.opacity=z.opacity*B.opacity,O.marker=E({mx:B.symbol,ma:B.angle},z);var ye=1,Ee=n(z,ye),Te;if(J||Z){var ze=O.sizes=new Array(F),ke=O.borderSizes=new Array(F),Se=0,me;if(J){for(N=0;N<F;N++)ze[N]=Ee(B.size[N]),Se+=ze[N];me=Se/F}else for(Te=Ee(B.size),N=0;N<F;N++)ze[N]=Te;if(Z)for(N=0;N<F;N++)ke[N]=B.line.width[N];else for(Te=B.line.width,N=0;N<F;N++)ke[N]=Te;O.sizeAvg=me}else O.size=Ee(B&&B.size||10),O.borderSizes=Ee(B.line.width);return O}function d(U,z,F){var B=z.marker,O={};return F&&(F.marker&&F.marker.symbol?O=s(U,M.extendFlat({},B,F.marker)):F.marker&&(F.marker.size&&(O.size=F.marker.size),F.marker.color&&(O.colors=F.marker.color),F.marker.opacity!==void 0&&(O.opacity=F.marker.opacity))),O}function A(U,z,F){var B={};if(!F)return B;if(F.textfont){var O={opacity:1,text:z.text,texttemplate:z.texttemplate,textposition:z.textposition,textfont:M.extendFlat({},z.textfont)};F.textfont&&M.extendFlat(O.textfont,F.textfont),B=h(U,O)}return B}function w(U,z,F){var B={capSize:z.width*2*F,lineWidth:z.thickness*F,color:z.color};return z.copy_ystyle&&(B=U.error_y),B}var C=u.SYMBOL_SDF_SIZE,b=u.SYMBOL_SIZE,S=u.SYMBOL_STROKE,x={},i=p.symbolFuncs[0](b*.05);function E(U,z){var F=U.mx;if(F==="circle")return null;var B,O,N=p.symbolNumber(F),Y=p.symbolFuncs[N%100],$=!!p.symbolNoDot[N%100],te=!!p.symbolNoFill[N%100],ie=c.isDotSymbol(F);if(U.ma&&(F+="_"+U.ma),x[F])return x[F];var ce=p.getMarkerAngle(U,z);return ie&&!$?B=Y(b*1.1,ce)+i:B=Y(b,ce),O=P(B,{w:C,h:C,viewBox:[-b,-b,b,b],stroke:te?S:-S}),x[F]=O,O||null}function m(U,z,F){var B=F.length,O=B/2,N,Y;if(o.hasLines(z)&&O)if(z.line.shape==="hv"){for(N=[],Y=0;Y<O-1;Y++)isNaN(F[Y*2])||isNaN(F[Y*2+1])?N.push(NaN,NaN,NaN,NaN):(N.push(F[Y*2],F[Y*2+1]),!isNaN(F[Y*2+2])&&!isNaN(F[Y*2+3])?N.push(F[Y*2+2],F[Y*2+1]):N.push(NaN,NaN));N.push(F[B-2],F[B-1])}else if(z.line.shape==="hvh"){for(N=[],Y=0;Y<O-1;Y++)if(isNaN(F[Y*2])||isNaN(F[Y*2+1])||isNaN(F[Y*2+2])||isNaN(F[Y*2+3]))!isNaN(F[Y*2])&&!isNaN(F[Y*2+1])?N.push(F[Y*2],F[Y*2+1]):N.push(NaN,NaN),N.push(NaN,NaN);else{var $=(F[Y*2]+F[Y*2+2])/2;N.push(F[Y*2],F[Y*2+1],$,F[Y*2+1],$,F[Y*2+3])}N.push(F[B-2],F[B-1])}else if(z.line.shape==="vhv"){for(N=[],Y=0;Y<O-1;Y++)if(isNaN(F[Y*2])||isNaN(F[Y*2+1])||isNaN(F[Y*2+2])||isNaN(F[Y*2+3]))!isNaN(F[Y*2])&&!isNaN(F[Y*2+1])?N.push(F[Y*2],F[Y*2+1]):N.push(NaN,NaN),N.push(NaN,NaN);else{var te=(F[Y*2+1]+F[Y*2+3])/2;N.push(F[Y*2],F[Y*2+1],F[Y*2],te,F[Y*2+2],te)}N.push(F[B-2],F[B-1])}else if(z.line.shape==="vh"){for(N=[],Y=0;Y<O-1;Y++)isNaN(F[Y*2])||isNaN(F[Y*2+1])?N.push(NaN,NaN,NaN,NaN):(N.push(F[Y*2],F[Y*2+1]),!isNaN(F[Y*2+2])&&!isNaN(F[Y*2+3])?N.push(F[Y*2],F[Y*2+3]):N.push(NaN,NaN));N.push(F[B-2],F[B-1])}else N=F;var ie=!1;for(Y=0;Y<N.length;Y++)if(isNaN(N[Y])){ie=!0;break}var ce=ie||N.length>u.TOO_MANY_POINTS||o.hasMarkers(z)?"rect":"round";if(ie&&z.connectgaps){var J=N[0],Z=N[1];for(Y=0;Y<N.length;Y+=2)isNaN(N[Y])||isNaN(N[Y+1])?(N[Y]=J,N[Y+1]=Z):(J=N[Y],Z=N[Y+1])}return{join:ce,positions:N}}function k(U,z,F,B,O){var N=L.getComponentMethod("errorbars","makeComputeError"),Y=r.getFromId(U,z.xaxis,"x"),$=r.getFromId(U,z.yaxis,"y"),te=F.length/2,ie={};function ce(J,Z){var ae=Z._id.charAt(0),j=z["error_"+ae];if(j&&j.visible&&(Z.type==="linear"||Z.type==="log")){for(var q=N(j),oe={x:0,y:1}[ae],Q={x:[0,1,2,3],y:[2,3,0,1]}[ae],K=new Float64Array(4*te),se=1/0,ne=-1/0,fe=0,ye=0;fe<te;fe++,ye+=4){var Ee=J[fe];if(y(Ee)){var Te=F[fe*2+oe],ze=q(Ee,fe),ke=ze[0],Se=ze[1];if(y(ke)&&y(Se)){var me=Ee-ke,Ce=Ee+Se;K[ye+Q[0]]=Te-Z.c2l(me),K[ye+Q[1]]=Z.c2l(Ce)-Te,K[ye+Q[2]]=0,K[ye+Q[3]]=0,se=Math.min(se,Ee-ke),ne=Math.max(ne,Ee+Se)}}}ie[ae]={positions:F,errors:K,_bnds:[se,ne]}}}return ce(B,Y),ce(O,$),ie}function I(U,z,F,B){var O=z._length,N={},Y;if(o.hasMarkers(z)){var $=F.font,te=F.align,ie=F.baseline;for(N.offset=new Array(O),Y=0;Y<O;Y++){var ce=B.sizes?B.sizes[Y]:B.size,J=v($)?$[Y].size:$.size,Z=v(te)?te.length>1?te[Y]:te[0]:te,ae=v(ie)?ie.length>1?ie[Y]:ie[0]:ie,j=g[Z],q=g[ae],oe=ce?ce/.8+1:0,Q=-q*oe-q*.5;N.offset[Y]=[j*oe/J,Q/J]}}return N}G.exports={style:T,markerStyle:s,markerSelection:d,linePositions:m,errorBarPositions:k,textPosition:I}},47148:function(G,H,e){var y=e(71828),P=e(73972),a=e(68645),L=e(42341),M=e(47581),v=e(34098),p=e(67513),r=e(73927),t=e(49508),o=e(11058),n=e(28908),c=e(82410);G.exports=function(l,g,f,T){function h(x,i){return y.coerce(l,g,L,x,i)}var s=l.marker?a.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),A=p(l,g,T,h);if(!A){g.visible=!1;return}r(l,g,T,h),h("xhoverformat"),h("yhoverformat");var w=A<M.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",w),v.hasMarkers(g)&&(t(l,g,f,T,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",s||d?1:0)),v.hasLines(g)&&(h("connectgaps"),o(l,g,f,T,h),h("line.shape")),v.hasText(g)&&(h("texttemplate"),c(l,g,T,h));var C=(g.line||{}).color,b=(g.marker||{}).color;h("fill"),g.fill!=="none"&&n(l,g,f,h);var S=P.getComponentMethod("errorbars","supplyDefaults");S(l,g,C||b||f,{axis:"y"}),S(l,g,C||b||f,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(g,h)}},5345:function(G,H,e){var y=e(71828),P=e(7901),a=e(37822).DESELECTDIM;function L(M){var v=M[0],p=v.trace,r=v.t,t=r._scene,o=r.index,n=t.selectBatch[o],c=t.unselectBatch[o],u=t.textOptions[o],l=t.textSelectedOptions[o]||{},g=t.textUnselectedOptions[o]||{},f=y.extendFlat({},u),T,h;if(n.length||c.length){var s=l.color,d=g.color,A=u.color,w=y.isArrayOrTypedArray(A);for(f.color=new Array(p._length),T=0;T<n.length;T++)h=n[T],f.color[h]=s||(w?A[h]:A);for(T=0;T<c.length;T++){h=c[T];var C=w?A[h]:A;f.color[h]=d||(s?C:P.addOpacity(C,a))}}t.glText[o].update(f)}G.exports={styleTextSelection:L}},68101:function(G,H,e){var y=e(8225);G.exports=function(a,L,M){var v=a.i;return"x"in a||(a.x=L._x[v]),"y"in a||(a.y=L._y[v]),y(a,L,M)}},68645:function(G,H,e){var y=e(78232);H.isOpenSymbol=function(P){return typeof P=="string"?y.OPEN_RE.test(P):P%200>100},H.isDotSymbol=function(P){return typeof P=="string"?y.DOT_RE.test(P):P>200}},20794:function(G,H,e){var y=e(73972),P=e(71828),a=e(34603);function L(v,p,r,t){var o=v.cd,n=o[0].t,c=o[0].trace,u=v.xa,l=v.ya,g=n.x,f=n.y,T=u.c2p(p),h=l.c2p(r),s=v.distance,d;if(n.tree){var A=u.p2c(T-s),w=u.p2c(T+s),C=l.p2c(h-s),b=l.p2c(h+s);t==="x"?d=n.tree.range(Math.min(A,w),Math.min(l._rl[0],l._rl[1]),Math.max(A,w),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(A,w),Math.min(C,b),Math.max(A,w),Math.max(C,b))}else d=n.ids;var S,x,i,E,m,k,I,U,z,F=s;if(t==="x"){var B=!!c.xperiodalignment,O=!!c.yperiodalignment;for(m=0;m<d.length;m++){if(S=d[m],i=g[S],k=Math.abs(u.c2p(i)-T),B){var N=u.c2p(c._xStarts[S]),Y=u.c2p(c._xEnds[S]);k=T>=Math.min(N,Y)&&T<=Math.max(N,Y)?0:1/0}if(k<F){if(F=k,E=f[S],I=l.c2p(E)-h,O){var $=l.c2p(c._yStarts[S]),te=l.c2p(c._yEnds[S]);I=h>=Math.min($,te)&&h<=Math.max($,te)?0:1/0}z=Math.sqrt(k*k+I*I),x=d[m]}}}else for(m=d.length-1;m>-1;m--)S=d[m],i=g[S],E=f[S],k=u.c2p(i)-T,I=l.c2p(E)-h,U=Math.sqrt(k*k+I*I),U<F&&(F=z=U,x=S);return v.index=x,v.distance=F,v.dxy=z,x===void 0?[v]:[M(v,g,f,c)]}function M(v,p,r,t){var o=v.xa,n=v.ya,c=v.distance,u=v.dxy,l=v.index,g={pointNumber:l,x:p[l],y:r[l]};g.tx=P.isArrayOrTypedArray(t.text)?t.text[l]:t.text,g.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,g.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,g.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var f=t.textfont;f&&(g.ts=P.isArrayOrTypedArray(f.size)?f.size[l]:f.size,g.tc=Array.isArray(f.color)?f.color[l]:f.color,g.tf=Array.isArray(f.family)?f.family[l]:f.family);var T=t.marker;T&&(g.ms=P.isArrayOrTypedArray(T.size)?T.size[l]:T.size,g.mo=P.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,g.mx=P.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,g.ma=P.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,g.mc=P.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var h=T&&T.line;h&&(g.mlc=Array.isArray(h.color)?h.color[l]:h.color,g.mlw=P.isArrayOrTypedArray(h.width)?h.width[l]:h.width);var s=T&&T.gradient;s&&s.type!=="none"&&(g.mgt=Array.isArray(s.type)?s.type[l]:s.type,g.mgc=Array.isArray(s.color)?s.color[l]:s.color);var d=o.c2p(g.x,!0),A=n.c2p(g.y,!0),w=g.mrc||1,C=t.hoverlabel;C&&(g.hbg=Array.isArray(C.bgcolor)?C.bgcolor[l]:C.bgcolor,g.hbc=Array.isArray(C.bordercolor)?C.bordercolor[l]:C.bordercolor,g.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[l]:C.font.size,g.htc=Array.isArray(C.font.color)?C.font.color[l]:C.font.color,g.htf=Array.isArray(C.font.family)?C.font.family[l]:C.font.family,g.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[l]:C.namelength);var b=t.hoverinfo;b&&(g.hi=Array.isArray(b)?b[l]:b);var S=t.hovertemplate;S&&(g.ht=Array.isArray(S)?S[l]:S);var x={};x[v.index]=g;var i=t._origX,E=t._origY,m=P.extendFlat({},v,{color:a(t,g),x0:d-w,x1:d+w,xLabelVal:i?i[l]:g.x,y0:A-w,y1:A+w,yLabelVal:E?E[l]:g.y,cd:x,distance:c,spikeDistance:u,hovertemplate:g.ht});return g.htx?m.text=g.htx:g.tx?m.text=g.tx:t.text&&(m.text=t.text),P.fillText(g,t,m),y.getComponentMethod("errorbars","hoverInfo")(g,t,m),m}G.exports={hoverPoints:L,calcHover:M}},68868:function(G,H,e){var y=e(72156);y.plot=e(26787),G.exports=y},26787:function(G,H,e){var y=e(11870),P=e(46075),a=e(3593),L=e(42505),M=e(71828),v=e(64505).selectMode,p=e(79749),r=e(34098),t=e(68687),o=e(5345).styleTextSelection,n={};function c(l,g,f,T){var h=l._size,s=l.width*T,d=l.height*T,A=h.l*T,w=h.b*T,C=h.r*T,b=h.t*T,S=h.w*T,x=h.h*T;return[A+g.domain[0]*S,w+f.domain[0]*x,s-C-(1-g.domain[1])*S,d-b-(1-f.domain[1])*x]}var u=G.exports=function(g,f,T){if(T.length){var h=g._fullLayout,s=f._scene,d=f.xaxis,A=f.yaxis,w,C;if(s){var b=p(g,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!b){s.init();return}var S=s.count,x=h._glcanvas.data()[0].regl;if(t(g,f,T),s.dirty){if((s.line2d||s.error2d)&&!(s.scatter2d||s.fill2d||s.glText)&&x.clear({}),s.error2d===!0&&(s.error2d=a(x)),s.line2d===!0&&(s.line2d=P(x)),s.scatter2d===!0&&(s.scatter2d=y(x)),s.fill2d===!0&&(s.fill2d=P(x)),s.glText===!0)for(s.glText=new Array(S),w=0;w<S;w++)s.glText[w]=new L(x);if(s.glText){if(S>s.glText.length){var i=S-s.glText.length;for(w=0;w<i;w++)s.glText.push(new L(x))}else if(S<s.glText.length){var E=s.glText.length-S,m=s.glText.splice(S,E);m.forEach(function(Q){Q.destroy()})}for(w=0;w<S;w++)s.glText[w].update(s.textOptions[w])}if(s.line2d&&(s.line2d.update(s.lineOptions),s.lineOptions=s.lineOptions.map(function(Q){if(Q&&Q.positions){for(var K=Q.positions,se=0;se<K.length&&(isNaN(K[se])||isNaN(K[se+1]));)se+=2;for(var ne=K.length-2;ne>se&&(isNaN(K[ne])||isNaN(K[ne+1]));)ne-=2;Q.positions=K.slice(se,ne+2)}return Q}),s.line2d.update(s.lineOptions)),s.error2d){var k=(s.errorXOptions||[]).concat(s.errorYOptions||[]);s.error2d.update(k)}s.scatter2d&&s.scatter2d.update(s.markerOptions),s.fillOrder=M.repeat(null,S),s.fill2d&&(s.fillOptions=s.fillOptions.map(function(Q,K){var se=T[K];if(!(!Q||!se||!se[0]||!se[0].trace)){var ne=se[0],fe=ne.trace,ye=ne.t,Ee=s.lineOptions[K],Te,ze,ke=[];fe._ownfill&&ke.push(K),fe._nexttrace&&ke.push(K+1),ke.length&&(s.fillOrder[K]=ke);var Se=[],me=Ee&&Ee.positions||ye.positions,Ce,Ne;if(fe.fill==="tozeroy"){for(Ce=0;Ce<me.length&&isNaN(me[Ce+1]);)Ce+=2;for(Ne=me.length-2;Ne>Ce&&isNaN(me[Ne+1]);)Ne-=2;me[Ce+1]!==0&&(Se=[me[Ce],0]),Se=Se.concat(me.slice(Ce,Ne+2)),me[Ne+1]!==0&&(Se=Se.concat([me[Ne],0]))}else if(fe.fill==="tozerox"){for(Ce=0;Ce<me.length&&isNaN(me[Ce]);)Ce+=2;for(Ne=me.length-2;Ne>Ce&&isNaN(me[Ne]);)Ne-=2;me[Ce]!==0&&(Se=[0,me[Ce+1]]),Se=Se.concat(me.slice(Ce,Ne+2)),me[Ne]!==0&&(Se=Se.concat([0,me[Ne+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Se=[],Te=0,Q.splitNull=!0,ze=0;ze<me.length;ze+=2)(isNaN(me[ze])||isNaN(me[ze+1]))&&(Se=Se.concat(me.slice(Te,ze)),Se.push(me[Te],me[Te+1]),Se.push(null,null),Te=ze+2);Se=Se.concat(me.slice(Te)),Te&&Se.push(me[Te],me[Te+1])}else{var He=fe._nexttrace;if(He){var De=s.lineOptions[K+1];if(De){var Ve=De.positions;if(fe.fill==="tonexty"){for(Se=me.slice(),K=Math.floor(Ve.length/2);K--;){var at=Ve[K*2],lt=Ve[K*2+1];isNaN(at)||isNaN(lt)||Se.push(at,lt)}Q.fill=He.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var $e=s.lineOptions[K-1].positions,et=Se.length/2;Te=et;var ct=[Te];for(ze=0;ze<$e.length;ze+=2)(isNaN($e[ze])||isNaN($e[ze+1]))&&(ct.push(ze/2+et+1),Te=ze+2);Se=Se.concat($e),Q.hole=ct}return Q.fillmode=fe.fill,Q.opacity=fe.opacity,Q.positions=Se,Q}}),s.fill2d.update(s.fillOptions))}var I=h.dragmode,U=v(I),z=h.clickmode.indexOf("select")>-1;for(w=0;w<S;w++){var F=T[w][0],B=F.trace,O=F.t,N=O.index,Y=B._length,$=O.x,te=O.y;if(B.selectedpoints||U||z){if(U||(U=!0),B.selectedpoints){var ie=s.selectBatch[N]=M.selIndices2selPoints(B),ce={};for(C=0;C<ie.length;C++)ce[ie[C]]=1;var J=[];for(C=0;C<Y;C++)ce[C]||J.push(C);s.unselectBatch[N]=J}var Z=O.xpx=new Array(Y),ae=O.ypx=new Array(Y);for(C=0;C<Y;C++)Z[C]=d.c2p($[C]),ae[C]=A.c2p(te[C])}else O.xpx=O.ypx=null}if(U){if(s.select2d||(s.select2d=y(h._glcanvas.data()[1].regl)),s.scatter2d){var j=new Array(S);for(w=0;w<S;w++)j[w]=s.selectBatch[w].length||s.unselectBatch[w].length?s.markerUnselectedOptions[w]:{};s.scatter2d.update(j)}s.select2d&&(s.select2d.update(s.markerOptions),s.select2d.update(s.markerSelectedOptions)),s.glText&&T.forEach(function(Q){var K=((Q||[])[0]||{}).trace||{};r.hasText(K)&&o(Q)})}else s.scatter2d&&s.scatter2d.update(s.markerOptions);var q={viewport:c(h,d,A,g._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(A._rl||A.range)[0],(d._rl||d.range)[1],(A._rl||A.range)[1]]},oe=M.repeat(q,s.count);s.fill2d&&s.fill2d.update(oe),s.line2d&&s.line2d.update(oe),s.error2d&&s.error2d.update(oe.concat(oe)),s.scatter2d&&s.scatter2d.update(oe),s.select2d&&s.select2d.update(oe),s.glText&&s.glText.forEach(function(Q){Q.update(q)})}}};u.reglPrecompiled=n},38967:function(G,H,e){var y=e(71828);G.exports=function(a,L){var M=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(M=L._scene={},M.init=function(){y.extendFlat(M,p,v)},M.init(),M.update=function(t){var o=y.repeat(t,M.count);if(M.fill2d&&M.fill2d.update(o),M.scatter2d&&M.scatter2d.update(o),M.line2d&&M.line2d.update(o),M.error2d&&M.error2d.update(o.concat(o)),M.select2d&&M.select2d.update(o),M.glText)for(var n=0;n<M.count;n++)M.glText[n].update(t)},M.draw=function(){for(var t=M.count,o=M.fill2d,n=M.error2d,c=M.line2d,u=M.scatter2d,l=M.glText,g=M.select2d,f=M.selectBatch,T=M.unselectBatch,h=0;h<t;h++){if(o&&M.fillOrder[h]&&o.draw(M.fillOrder[h]),c&&M.lineOptions[h]&&c.draw(h),n&&(M.errorXOptions[h]&&n.draw(h),M.errorYOptions[h]&&n.draw(h+t)),u&&M.markerOptions[h])if(T[h].length){var s=y.repeat([],M.count);s[h]=T[h],u.draw(s)}else f[h].length||u.draw(h);l[h]&&M.textOptions[h]&&l[h].render()}g&&g.draw(f),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(t){t.destroy&&t.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,L._scene=null}),M.dirty||y.extendFlat(M,v),M}},58147:function(G,H,e){var y=e(34098),P=e(5345).styleTextSelection;G.exports=function(L,M){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],o=v[0].trace,n=v[0].t,c=o._length,u=n.x,l=n.y,g=n._scene,f=n.index;if(!g)return t;var T=y.hasText(o),h=y.hasMarkers(o),s=!h&&!T;if(o.visible!==!0||s)return t;var d=[],A=[];if(M!==!1&&!M.degenerate)for(var w=0;w<c;w++)M.contains([n.xpx[w],n.ypx[w]],!1,w,L)?(d.push(w),t.push({pointNumber:w,x:p.c2d(u[w]),y:r.c2d(l[w])})):A.push(w);if(h){var C=g.scatter2d;if(!d.length&&!A.length){var b=new Array(g.count);b[f]=g.markerOptions[f],C.update.apply(C,b)}else if(!g.selectBatch[f].length&&!g.unselectBatch[f].length){var S=new Array(g.count);S[f]=g.markerUnselectedOptions[f],C.update.apply(C,S)}}return g.selectBatch[f]=d,g.unselectBatch[f]=A,T&&P(v),t}},99181:function(G,H,e){var y=e(5386).fF,P=e(5386).si,a=e(19316),L=e(82196),M=e(23585),v=e(9012),p=e(50693),r=e(1426).extendFlat,t=e(30962).overrideAll,o=e(23585),n=a.line,c=a.marker;G.exports=t({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:r({},o.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:r({},c.opacity,{dflt:1})},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:r({},L.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:L.connectgaps,marker:r({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:c.opacity,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode},p("marker")),fill:a.fill,fillcolor:L.fillcolor,textfont:M.layers.symbol.textfont,textposition:M.layers.symbol.textposition,below:{valType:"string"},selected:{marker:L.selected.marker},unselected:{marker:L.unselected.marker},hoverinfo:r({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:y()},"calc","nested")},15790:function(G,H,e){var y=e(92770),P=e(71828),a=e(50606).BADNUM,L=e(18214),M=e(21081),v=e(91424),p=e(39984),r=e(34098),t=e(13056),o=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,c=e(63893).BR_TAG_ALL;G.exports=function(A,w){var C=w[0].trace,b=C.visible===!0&&C._length!==0,S=C.fill!=="none",x=r.hasLines(C),i=r.hasMarkers(C),E=r.hasText(C),m=i&&C.marker.symbol==="circle",k=i&&C.marker.symbol!=="circle",I=C.cluster&&C.cluster.enabled,U=u("fill"),z=u("line"),F=u("circle"),B=u("symbol"),O={fill:U,line:z,circle:F,symbol:B};if(!b)return O;var N;if((S||x)&&(N=L.calcTraceToLineCoords(w)),S&&(U.geojson=L.makePolygon(N),U.layout.visibility="visible",P.extendFlat(U.paint,{"fill-color":C.fillcolor})),x&&(z.geojson=L.makeLine(N),z.layout.visibility="visible",P.extendFlat(z.paint,{"line-width":C.line.width,"line-color":C.line.color,"line-opacity":C.opacity})),m){var Y=l(w);F.geojson=Y.geojson,F.layout.visibility="visible",I&&(F.filter=["!",["has","point_count"]],O.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":s(C.cluster.color,C.cluster.step),"circle-radius":s(C.cluster.size,C.cluster.step),"circle-opacity":s(C.cluster.opacity,C.cluster.step)}},O.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),P.extendFlat(F.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(m&&I&&(F.filter=["!",["has","point_count"]]),(k||E)&&(B.geojson=g(w,A),P.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(P.extendFlat(B.layout,{"icon-size":C.marker.size/10}),"angle"in C.marker&&C.marker.angle!=="auto"&&P.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=C.marker.allowoverlap,P.extendFlat(B.paint,{"icon-opacity":C.opacity*C.marker.opacity,"icon-color":C.marker.color})),E)){var $=(C.marker||{}).size,te=t(C.textposition,$);P.extendFlat(B.layout,{"text-size":C.textfont.size,"text-anchor":te.anchor,"text-offset":te.offset,"text-font":C.textfont.family.split(", ")}),P.extendFlat(B.paint,{"text-color":C.textfont.color,"text-opacity":C.opacity})}return O};function u(d){return{type:d,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(d){var A=d[0].trace,w=A.marker,C=A.selectedpoints,b=P.isArrayOrTypedArray(w.color),S=P.isArrayOrTypedArray(w.size),x=P.isArrayOrTypedArray(w.opacity),i;function E($){return A.opacity*$}function m($){return $/2}var k;b&&(M.hasColorscale(A,"marker")?k=M.makeColorScaleFuncFromTrace(w):k=P.identity);var I;S&&(I=p(A));var U;x&&(U=function($){var te=y($)?+P.constrain($,0,1):0;return E(te)});var z=[];for(i=0;i<d.length;i++){var F=d[i],B=F.lonlat;if(!h(B)){var O={};k&&(O.mcc=F.mcc=k(F.mc)),I&&(O.mrc=F.mrc=I(F.ms)),U&&(O.mo=U(F.mo)),C&&(O.selected=F.selected||0),z.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:B},properties:O})}}var N;if(C)for(N=v.makeSelectedPointStyleFns(A),i=0;i<z.length;i++){var Y=z[i].properties;N.selectedOpacityFn&&(Y.mo=E(N.selectedOpacityFn(Y))),N.selectedColorFn&&(Y.mcc=N.selectedColorFn(Y)),N.selectedSizeFn&&(Y.mrc=N.selectedSizeFn(Y))}return{geojson:{type:"FeatureCollection",features:z},mcc:b||N&&N.selectedColorFn?{type:"identity",property:"mcc"}:w.color,mrc:S||N&&N.selectedSizeFn?{type:"identity",property:"mrc"}:m(w.size),mo:x||N&&N.selectedOpacityFn?{type:"identity",property:"mo"}:E(w.opacity)}}function g(d,A){for(var w=A._fullLayout,C=d[0].trace,b=C.marker||{},S=b.symbol,x=b.angle,i=S!=="circle"?f(S):T,E=x!=="auto"?f(x,!0):T,m=r.hasText(C)?f(C.text):T,k=[],I=0;I<d.length;I++){var U=d[I];if(!h(U.lonlat)){var z=C.texttemplate,F;if(z){var B=Array.isArray(z)?z[I]||"":z,O=C._module.formatLabels(U,C,w),N={};o(N,C,U.i);var Y=C._meta||{};F=P.texttemplateString(B,O,w._d3locale,N,U,Y)}else F=m(I);F&&(F=F.replace(n,"").replace(c,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:U.lonlat},properties:{symbol:i(I),angle:E(I),text:F}})}}return{type:"FeatureCollection",features:k}}function f(d,A){return P.isArrayOrTypedArray(d)?A?function(w){return y(d[w])?+d[w]:0}:function(w){return d[w]}:d?function(){return d}:T}function T(){return""}function h(d){return d[0]===a}function s(d,A){var w;if(P.isArrayOrTypedArray(d)&&P.isArrayOrTypedArray(A)){w=["step",["get","point_count"],d[0]];for(var C=1;C<d.length;C++)w.push(A[C-1],d[C])}else w=d;return w}},76645:function(G,H,e){var y=e(71828),P=e(34098),a=e(49508),L=e(11058),M=e(82410),v=e(28908),p=e(99181),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports=function(n,c,u,l){function g(S,x){return y.coerce(n,c,p,S,x)}function f(S,x){return y.coerce2(n,c,p,S,x)}var T=t(n,c,g);if(!T){c.visible=!1;return}if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),P.hasMarkers(c)){a(n,c,u,l,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var h=c.marker;h.symbol!=="circle"&&(y.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),y.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}P.hasLines(c)&&(L(n,c,u,l,g,{noDash:!0}),g("connectgaps"));var s=f("cluster.maxzoom"),d=f("cluster.step"),A=f("cluster.color",c.marker&&c.marker.color||u),w=f("cluster.size"),C=f("cluster.opacity"),b=s!==!1||d!==!1||A!==!1||w!==!1||C!==!1;g("cluster.enabled",b),P.hasText(c)&&M(n,c,l,g,{noSelect:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),g("fill"),c.fill!=="none"&&v(n,c,u,g),y.coerceSelectionMarkerOpacity(c,g)};function t(o,n,c){var u=c("lon")||[],l=c("lat")||[],g=Math.min(u.length,l.length);return n._length=g,g}},53353:function(G){G.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e}},15636:function(G,H,e){var y=e(89298);G.exports=function(a,L,M){var v={},p=M[L.subplot]._subplot,r=p.mockAxis,t=a.lonlat;return v.lonLabel=y.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=y.tickText(r,r.c2l(t[1]),!0).text,v}},28178:function(G,H,e){var y=e(30211),P=e(71828),a=e(34603),L=P.fillText,M=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function p(t,o,n){var c=t.cd,u=c[0].trace,l=t.xa,g=t.ya,f=t.subplot,T=[],h=v+u.uid+"-circle",s=u.cluster&&u.cluster.enabled;if(s){var d=f.map.queryRenderedFeatures(null,{layers:[h]});T=d.map(function(z){return z.id})}var A=o>=0?Math.floor((o+180)/360):Math.ceil((o-180)/360),w=A*360,C=o-w;function b(z){var F=z.lonlat;if(F[0]===M||s&&T.indexOf(z.i+1)===-1)return 1/0;var B=P.modHalf(F[0],360),O=F[1],N=f.project([B,O]),Y=N.x-l.c2p([C,O]),$=N.y-g.c2p([B,n]),te=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(Y*Y+$*$)-te,1-3/te)}if(y.getClosest(c,b,t),t.index!==!1){var S=c[t.index],x=S.lonlat,i=[P.modHalf(x[0],360)+w,x[1]],E=l.c2p(i),m=g.c2p(i),k=S.mrc||1;t.x0=E-k,t.x1=E+k,t.y0=m-k,t.y1=m+k;var I={};I[u.subplot]={_subplot:f};var U=u._module.formatLabels(S,u,I);return t.lonLabel=U.lonLabel,t.latLabel=U.latLabel,t.color=a(u,S),t.extraText=r(u,S,c[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,o,n){if(t.hovertemplate)return;var c=o.hi||t.hoverinfo,u=c.split("+"),l=u.indexOf("all")!==-1,g=u.indexOf("lon")!==-1,f=u.indexOf("lat")!==-1,T=o.lonlat,h=[];function s(d){return d+""}return l||g&&f?h.push("("+s(T[1])+", "+s(T[0])+")"):g?h.push(n.lon+s(T[0])):f&&h.push(n.lat+s(T[1])),(l||u.indexOf("text")!==-1)&&L(o,t,h),h.join("<br>")}G.exports={hoverPoints:p,getExtraText:r}},20467:function(G,H,e){G.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(y,P){if(P){var a=P[0].trace;a._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(G,H,e){var y=e(71828),P=e(15790),a=e(77734).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(p,r,t,o){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=o,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:a+r+"-fill",line:a+r+"-line",circle:a+r+"-circle",symbol:a+r+"-symbol",cluster:a+r+"-cluster",clusterCount:a+r+"-cluster-count"},this.below=null}var v=M.prototype;v.addSource=function(p,r,t){var o={type:"geojson",data:r.geojson};t&&t.enabled&&y.extendFlat(o,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],o)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var o={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(o.filter=r.filter);for(var n=this.layerIds[p],c,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){c=!0;break}c?(this.subplot.setOptions(n,"setLayoutProperty",o.layout),o.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",o.paint)):this.subplot.addLayer(o,t)},v.update=function(r){var t=r[0].trace,o=this.subplot,n=o.map,c=P(o.gd,r),u=o.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),g=!!this.clusterEnabled,f=this;function T(x){x||f.addSource("circle",c.circle,t.cluster);for(var i=L.cluster,E=0;E<i.length;E++){var m=i[E],k=c[m];f.addLayer(m,k,u)}}function h(x){for(var i=L.cluster,E=i.length-1;E>=0;E--){var m=i[E];n.removeLayer(f.layerIds[m])}x||n.removeSource(f.sourceIds.circle)}function s(x){for(var i=L.nonCluster,E=0;E<i.length;E++){var m=i[E],k=c[m];x||f.addSource(m,k),f.addLayer(m,k,u)}}function d(x){for(var i=L.nonCluster,E=i.length-1;E>=0;E--){var m=i[E];n.removeLayer(f.layerIds[m]),x||n.removeSource(f.sourceIds[m])}}function A(x){g?h(x):d(x)}function w(x){l?T(x):s(x)}function C(){for(var x=l?L.cluster:L.nonCluster,i=0;i<x.length;i++){var E=x[i],m=c[E];m&&(o.setOptions(f.layerIds[E],"setLayoutProperty",m.layout),m.layout.visibility==="visible"&&(E!=="cluster"&&f.setSourceData(E,m),o.setOptions(f.layerIds[E],"setPaintProperty",m.paint)))}}var b=this.isHidden,S=t.visible!==!0;S?b||A():b?S||w():g!==l?(A(),w()):(this.below!==u&&(A(!0),w(!0)),C()),this.clusterEnabled=l,this.isHidden=S,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,o=t.length-1;o>=0;o--){var n=t[o];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var o=t[0].trace,n=o.cluster&&o.cluster.enabled,c=o.visible!==!0,u=new M(r,o.uid,n,c),l=P(r.gd,t),g=u.below=r.belowLookup["trace-"+o.uid],f,T,h;if(n)for(u.addSource("circle",l.circle,o.cluster),f=0;f<L.cluster.length;f++)T=L.cluster[f],h=l[T],u.addLayer(T,h,g);else for(f=0;f<L.nonCluster.length;f++)T=L.nonCluster[f],h=l[T],u.addSource(T,h,o.cluster),u.addLayer(T,h,g);return t[0].trace._glTrace=u,u}},86387:function(G,H,e){var y=e(71828),P=e(34098),a=e(50606).BADNUM;G.exports=function(M,v){var p=M.cd,r=M.xaxis,t=M.yaxis,o=[],n=p[0].trace,c;if(!P.hasMarkers(n))return[];if(v===!1)for(c=0;c<p.length;c++)p[c].selected=0;else for(c=0;c<p.length;c++){var u=p[c],l=u.lonlat;if(l[0]!==a){var g=[y.modHalf(l[0],360),l[1]],f=[r.c2p(g),t.c2p(g)];v.contains(f,null,c,M)?(o.push({pointNumber:c,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return o}},81245:function(G,H,e){var y=e(5386).fF,P=e(5386).si,a=e(1426).extendFlat,L=e(82196),M=e(9012),v=L.line;G.exports={mode:L.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:a({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:a({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:a({},M.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:L.hoveron,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},26442:function(G,H,e){var y=e(92770),P=e(50606).BADNUM,a=e(89298),L=e(36922),M=e(75225),v=e(66279),p=e(47761).calcMarkerSize;G.exports=function(t,o){for(var n=t._fullLayout,c=o.subplot,u=n[c].radialaxis,l=n[c].angularaxis,g=u.makeCalcdata(o,"r"),f=l.makeCalcdata(o,"theta"),T=o._length,h=new Array(T),s=0;s<T;s++){var d=g[s],A=f[s],w=h[s]={};y(d)&&y(A)?(w.r=d,w.theta=A):w.r=P}var C=p(o,T);return o._extremes.x=a.findExtremes(u,g,{ppad:C}),L(t,o),M(h,o),v(h,o),h}},22184:function(G,H,e){var y=e(71828),P=e(34098),a=e(49508),L=e(11058),M=e(94039),v=e(82410),p=e(28908),r=e(47581).PTS_LINESONLY,t=e(81245);function o(c,u,l,g){function f(s,d){return y.coerce(c,u,t,s,d)}var T=n(c,u,g,f);if(!T){u.visible=!1;return}f("thetaunit"),f("mode",T<r?"lines+markers":"lines"),f("text"),f("hovertext"),u.hoveron!=="fills"&&f("hovertemplate"),P.hasMarkers(u)&&a(c,u,l,g,f,{gradient:!0}),P.hasLines(u)&&(L(c,u,l,g,f,{backoff:!0}),M(c,u,f),f("connectgaps")),P.hasText(u)&&(f("texttemplate"),v(c,u,g,f));var h=[];(P.hasMarkers(u)||P.hasText(u))&&(f("cliponaxis"),f("marker.maxdisplayed"),h.push("points")),f("fill"),u.fill!=="none"&&(p(c,u,l,f),P.hasLines(u)||M(c,u,f)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),f("hoveron",h.join("+")||"points"),y.coerceSelectionMarkerOpacity(u,f)}function n(c,u,l,g){var f=g("r"),T=g("theta");y.isTypedArray(f)&&(u.r=f=Array.from(f)),y.isTypedArray(T)&&(u.theta=T=Array.from(T));var h;if(f)T?h=Math.min(f.length,T.length):(h=f.length,g("theta0"),g("dtheta"));else{if(!T)return 0;h=u.theta.length,g("r0"),g("dr")}return u._length=h,h}G.exports={handleRThetaDefaults:n,supplyDefaults:o}},98608:function(G,H,e){var y=e(71828),P=e(89298);G.exports=function(L,M,v){var p={},r=v[M.subplot]._subplot,t,o;r?(t=r.radialAxis,o=r.angularAxis):(r=v[M.subplot],t=r.radialaxis,o=r.angularaxis);var n=t.c2l(L.r);p.rLabel=P.tickText(t,n,!0).text;var c=o.thetaunit==="degrees"?y.rad2deg(L.theta):L.theta;return p.thetaLabel=P.tickText(o,c,!0).text,p}},59150:function(G,H,e){var y=e(33720);function P(L,M,v,p){var r=y(L,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=L.subplot,n=t.cd[t.index],c=t.trace;if(o.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,c,o,t),t.hovertemplate=c.hovertemplate,r}}function a(L,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var o={};o[M.subplot]={_subplot:v};var n=M._module.formatLabels(L,M,o);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var c=L.hi||M.hoverinfo,u=[];function l(f,T){u.push(f._hovertitle+": "+T)}if(!M.hovertemplate){var g=c.split("+");g.indexOf("all")!==-1&&(g=["r","theta","text"]),g.indexOf("r")!==-1&&l(r,p.rLabel),g.indexOf("theta")!==-1&&l(t,p.thetaLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:a}},91271:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(G,H,e){var y=e(32663),P=e(50606).BADNUM;G.exports=function(L,M,v){for(var p=M.layers.frontplot.select("g.scatterlayer"),r=M.xaxis,t=M.yaxis,o={xaxis:r,yaxis:t,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},n=M.radialAxis,c=M.angularAxis,u=0;u<v.length;u++)for(var l=v[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var f=l[g],T=f.r;if(T===P)f.x=f.y=P;else{var h=n.c2g(T),s=c.c2g(f.theta);f.x=h*Math.cos(s),f.y=h*Math.sin(s)}}y(L,o,v,p)}},53286:function(G,H,e){var y=e(81245),P=e(42341),a=e(5386).si;G.exports={mode:y.mode,r:y.r,theta:y.theta,r0:y.r0,dr:y.dr,theta0:y.theta0,dtheta:y.dtheta,thetaunit:y.thetaunit,text:y.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:y.hovertext,hovertemplate:y.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:y.hoverinfo,selected:y.selected,unselected:y.unselected}},65746:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(G,H,e){var y=e(36922),P=e(47761).calcMarkerSize,a=e(19635),L=e(89298),M=e(78232).TOO_MANY_POINTS;G.exports=function(p,r){var t=p._fullLayout,o=r.subplot,n=t[o].radialaxis,c=t[o].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=c.makeCalcdata(r,"theta"),g=r._length,f={};g<u.length&&(u=u.slice(0,g)),g<l.length&&(l=l.slice(0,g)),f.r=u,f.theta=l,y(p,r);var T=f.opts=a.style(p,r),h;return g<M?h=P(r,g):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=L.findExtremes(n,u,{ppad:h}),[{x:!1,y:!1,t:f,trace:r}]}},75485:function(G,H,e){var y=e(71828),P=e(34098),a=e(22184).handleRThetaDefaults,L=e(49508),M=e(11058),v=e(82410),p=e(28908),r=e(47581).PTS_LINESONLY,t=e(53286);G.exports=function(n,c,u,l){function g(T,h){return y.coerce(n,c,t,T,h)}var f=a(n,c,l,g);if(!f){c.visible=!1;return}g("thetaunit"),g("mode",f<r?"lines+markers":"lines"),g("text"),g("hovertext"),c.hoveron!=="fills"&&g("hovertemplate"),P.hasMarkers(c)&&L(n,c,u,l,g,{noAngleRef:!0,noStandOff:!0}),P.hasLines(c)&&(M(n,c,u,l,g),g("connectgaps")),P.hasText(c)&&(g("texttemplate"),v(n,c,l,g)),g("fill"),c.fill!=="none"&&p(n,c,u,g),y.coerceSelectionMarkerOpacity(c,g)}},46255:function(G,H,e){var y=e(98608);G.exports=function(a,L,M){var v=a.i;return"r"in a||(a.r=L._r[v]),"theta"in a||(a.theta=L._theta[v]),y(a,L,M)}},29347:function(G,H,e){var y=e(20794),P=e(59150).makeHoverPointText;function a(L,M,v,p){var r=L.cd,t=r[0].t,o=t.r,n=t.theta,c=y.hoverPoints(L,M,v,p);if(!(!c||c[0].index===!1)){var u=c[0];if(u.index===void 0)return c;var l=L.subplot,g=u.cd[u.index],f=u.trace;if(g.r=o[u.index],g.theta=n[u.index],!!l.isPtInside(g))return u.xLabelVal=void 0,u.yLabelVal=void 0,P(g,f,l,u),c}}G.exports={hoverPoints:a}},21461:function(G,H,e){var y=e(65746);y.plot=e(49741),G.exports=y},49741:function(G,H,e){var y=e(88294),P=e(92770),a=e(26787),L=e(38967),M=e(19635),v=e(71828),p=e(78232).TOO_MANY_POINTS,r={};G.exports=function(o,n,c){if(c.length){var u=n.radialAxis,l=n.angularAxis,g=L(o,n);return c.forEach(function(f){if(!(!f||!f[0]||!f[0].trace)){var T=f[0],h=T.trace,s=T.t,d=h._length,A=s.r,w=s.theta,C=s.opts,b,S=A.slice(),x=w.slice();for(b=0;b<A.length;b++)n.isPtInside({r:A[b],theta:w[b]})||(S[b]=NaN,x[b]=NaN);var i=new Array(d*2),E=Array(d),m=Array(d);for(b=0;b<d;b++){var k=S[b],I,U;if(P(k)){var z=u.c2g(k),F=l.c2g(x[b],h.thetaunit);I=z*Math.cos(F),U=z*Math.sin(F)}else I=U=NaN;E[b]=i[b*2]=I,m[b]=i[b*2+1]=U}s.tree=y(i),C.marker&&d>=p&&(C.marker.cluster=s.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=i),C.line&&i.length>1&&v.extendFlat(C.line,M.linePositions(o,h,i)),C.text&&(v.extendFlat(C.text,{positions:i},M.textPosition(o,h,C.text,C.marker)),v.extendFlat(C.textSel,{positions:i},M.textPosition(o,h,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:i},M.textPosition(o,h,C.text,C.markerUnsel))),C.fill&&!g.fill2d&&(g.fill2d=!0),C.marker&&!g.scatter2d&&(g.scatter2d=!0),C.line&&!g.line2d&&(g.line2d=!0),C.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(C.line),g.fillOptions.push(C.fill),g.markerOptions.push(C.marker),g.markerSelectedOptions.push(C.markerSel),g.markerUnselectedOptions.push(C.markerUnsel),g.textOptions.push(C.text),g.textSelectedOptions.push(C.textSel),g.textUnselectedOptions.push(C.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),s.x=E,s.y=m,s.rawx=E,s.rawy=m,s.r=A,s.theta=w,s.positions=i,s._scene=g,s.index=g.count,g.count++}}),a(o,n,c)}},G.exports.reglPrecompiled=r},48300:function(G,H,e){var y=e(5386).fF,P=e(5386).si,a=e(1426).extendFlat,L=e(82196),M=e(9012),v=L.line;G.exports={mode:L.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:a({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:a({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:a({},M.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:L.hoveron,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},30621:function(G,H,e){var y=e(92770),P=e(50606).BADNUM,a=e(36922),L=e(75225),M=e(66279),v=e(47761).calcMarkerSize;G.exports=function(r,t){for(var o=r._fullLayout,n=t.subplot,c=o[n].realaxis,u=o[n].imaginaryaxis,l=c.makeCalcdata(t,"real"),g=u.makeCalcdata(t,"imag"),f=t._length,T=new Array(f),h=0;h<f;h++){var s=l[h],d=g[h],A=T[h]={};y(s)&&y(d)?(A.real=s,A.imag=d):A.real=P}return v(t,f),a(r,t),L(T,t),M(T,t),T}},65269:function(G,H,e){var y=e(71828),P=e(34098),a=e(49508),L=e(11058),M=e(94039),v=e(82410),p=e(28908),r=e(47581).PTS_LINESONLY,t=e(48300);G.exports=function(c,u,l,g){function f(s,d){return y.coerce(c,u,t,s,d)}var T=o(c,u,g,f);if(!T){u.visible=!1;return}f("mode",T<r?"lines+markers":"lines"),f("text"),f("hovertext"),u.hoveron!=="fills"&&f("hovertemplate"),P.hasMarkers(u)&&a(c,u,l,g,f,{gradient:!0}),P.hasLines(u)&&(L(c,u,l,g,f,{backoff:!0}),M(c,u,f),f("connectgaps")),P.hasText(u)&&(f("texttemplate"),v(c,u,g,f));var h=[];(P.hasMarkers(u)||P.hasText(u))&&(f("cliponaxis"),f("marker.maxdisplayed"),h.push("points")),f("fill"),u.fill!=="none"&&(p(c,u,l,f),P.hasLines(u)||M(c,u,f)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),f("hoveron",h.join("+")||"points"),y.coerceSelectionMarkerOpacity(u,f)};function o(n,c,u,l){var g=l("real"),f=l("imag"),T;return g&&f&&(T=Math.min(g.length,f.length)),y.isTypedArray(g)&&(c.real=g=Array.from(g)),y.isTypedArray(f)&&(c.imag=f=Array.from(f)),c._length=T,T}},62047:function(G,H,e){var y=e(89298);G.exports=function(a,L,M){var v={},p=M[L.subplot]._subplot;return v.realLabel=y.tickText(p.radialAxis,a.real,!0).text,v.imagLabel=y.tickText(p.angularAxis,a.imag,!0).text,v}},11350:function(G,H,e){var y=e(33720);function P(L,M,v,p){var r=y(L,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=L.subplot,n=t.cd[t.index],c=t.trace;if(o.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,c,o,t),t.hovertemplate=c.hovertemplate,r}}function a(L,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var o={};o[M.subplot]={_subplot:v};var n=M._module.formatLabels(L,M,o);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var c=L.hi||M.hoverinfo,u=[];function l(f,T){u.push(f._hovertitle+": "+T)}if(!M.hovertemplate){var g=c.split("+");g.indexOf("all")!==-1&&(g=["real","imag","text"]),g.indexOf("real")!==-1&&l(r,p.realLabel),g.indexOf("imag")!==-1&&l(t,p.imagLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:a}},85956:function(G,H,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(G,H,e){var y=e(32663),P=e(50606).BADNUM,a=e(23893),L=a.smith;G.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),o=p.xaxis,n=p.yaxis,c={xaxis:o,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=o,l[0].trace._yA=n);var f=l[g],T=f.real;if(T===P)f.x=f.y=P;else{var h=L([T,f.imag]);f.x=h[0],f.y=h[1]}}y(v,c,r,t)}},50413:function(G,H,e){var y=e(5386).fF,P=e(5386).si,a=e(82196),L=e(9012),M=e(50693),v=e(79952).P,p=e(1426).extendFlat,r=a.marker,t=a.line,o=r.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:p({},a.mode,{dflt:"markers"}),text:p({},a.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:p({},a.hovertext,{}),line:{color:t.color,width:t.width,dash:v,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:p({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:p({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:r.angleref,standoff:r.standoff,maxdisplayed:r.maxdisplayed,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:o.width,editType:"calc"},M("marker.line")),gradient:r.gradient,editType:"calc"},M("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:p({},L.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:y()}},54337:function(G,H,e){var y=e(92770),P=e(36922),a=e(75225),L=e(66279),M=e(47761).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,o){var n=t._fullLayout[o.subplot],c=n.sum,u=o.sum||c,l={a:o.a,b:o.b,c:o.c},g,f,T,h,s,d;for(g=0;g<v.length;g++)if(T=v[g],!l[T]){for(s=l[p[T][0]],d=l[p[T][1]],h=new Array(s.length),f=0;f<s.length;f++)h[f]=u-s[f]-d[f];l[T]=h}var A=o._length,w=new Array(A),C,b,S,x,i,E;for(g=0;g<A;g++)C=l.a[g],b=l.b[g],S=l.c[g],y(C)&&y(b)&&y(S)?(C=+C,b=+b,S=+S,x=c/(C+b+S),x!==1&&(C*=x,b*=x,S*=x),E=C,i=S-b,w[g]={x:i,y:E,a:C,b,c:S}):w[g]={x:!1,y:!1};return M(o,A),P(t,o),a(w,o),L(w,o),w}},46008:function(G,H,e){var y=e(71828),P=e(47581),a=e(34098),L=e(49508),M=e(11058),v=e(94039),p=e(82410),r=e(28908),t=e(50413);G.exports=function(n,c,u,l){function g(w,C){return y.coerce(n,c,t,w,C)}var f=g("a"),T=g("b"),h=g("c"),s;if(f?(s=f.length,T?(s=Math.min(s,T.length),h&&(s=Math.min(s,h.length))):h?s=Math.min(s,h.length):s=0):T&&h&&(s=Math.min(T.length,h.length)),!s){c.visible=!1;return}c._length=s,g("sum"),g("text"),g("hovertext"),c.hoveron!=="fills"&&g("hovertemplate");var d=s<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",d),a.hasMarkers(c)&&L(n,c,u,l,g,{gradient:!0}),a.hasLines(c)&&(M(n,c,u,l,g,{backoff:!0}),v(n,c,g),g("connectgaps")),a.hasText(c)&&(g("texttemplate"),p(n,c,l,g));var A=[];(a.hasMarkers(c)||a.hasText(c))&&(g("cliponaxis"),g("marker.maxdisplayed"),A.push("points")),g("fill"),c.fill!=="none"&&(r(n,c,u,g),a.hasLines(c)||v(n,c,g)),(c.fill==="tonext"||c.fill==="toself")&&A.push("fills"),g("hoveron",A.join("+")||"points"),y.coerceSelectionMarkerOpacity(c,g)}},4524:function(G){G.exports=function(e,y,P,a,L){if(y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),a[L]){var M=a[L];e.a=M.a,e.b=M.b,e.c=M.c}else e.a=y.a,e.b=y.b,e.c=y.c;return e}},93645:function(G,H,e){var y=e(89298);G.exports=function(a,L,M){var v={},p=M[L.subplot]._subplot;return v.aLabel=y.tickText(p.aaxis,a.a,!0).text,v.bLabel=y.tickText(p.baxis,a.b,!0).text,v.cLabel=y.tickText(p.caxis,a.c,!0).text,v}},47250:function(G,H,e){var y=e(33720);G.exports=function(a,L,M,v){var p=y(a,L,M,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/a.ya._length,o=a.xa._length,n=o*t/2,c=o-n;return r.x0=Math.max(Math.min(r.x0,c),n),r.x1=Math.max(Math.min(r.x1,c),n),p}var u=r.cd[r.index],l=r.trace,g=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var f={};f[l.subplot]={_subplot:g};var T=l._module.formatLabels(u,l,f);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var h=u.hi||l.hoverinfo,s=[];function d(w,C){s.push(w._hovertitle+": "+C)}if(!l.hovertemplate){var A=h.split("+");A.indexOf("all")!==-1&&(A=["a","b","c"]),A.indexOf("a")!==-1&&d(g.aaxis,r.aLabel),A.indexOf("b")!==-1&&d(g.baxis,r.bLabel),A.indexOf("c")!==-1&&d(g.caxis,r.cLabel)}return r.extraText=s.join("<br>"),r.hovertemplate=l.hovertemplate,p}},52979:function(G,H,e){G.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(G,H,e){var y=e(32663);G.exports=function(a,L,M){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,r=L.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},o=L.layers.frontplot.select("g.scatterlayer"),n=0;n<M.length;n++){var c=M[n];c.length&&(c[0].trace._xA=p,c[0].trace._yA=r)}y(a,t,M,o)}},46880:function(G,H,e){var y=e(82196),P=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,M=e(42341),v=e(85555).idRegex,p=e(44467).templatedArray,r=e(1426).extendFlat,t=y.marker,o=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},o.width,{editType:"calc"}),editType:"calc"}),c=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});c.color.editType=c.cmin.editType=c.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},M.text,{}),hovertext:r({},M.hovertext,{}),hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),marker:c,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},65017:function(G,H,e){var y=e(73972),P=e(83312);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},y.register(P)},16947:function(G,H,e){var y=e(46075),P=e(73972),a=e(79749),L=e(27659).a0,M=e(93612),v=e(41675).getFromId,p=e(89298).shouldShowZeroLine,r="splom",t={};function o(f){var T=f._fullLayout,h=P.getModule(r),s=L(f.calcdata,h)[0],d=a(f,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(T._hasOnlyLargeSploms&&u(f),h.plot(f,{},s))}function n(f){var T=f.calcdata,h=f._fullLayout;h._hasOnlyLargeSploms&&u(f);for(var s=0;s<T.length;s++){var d=T[s][0],A=d.trace,w=h._splomScenes[A.uid];A.type==="splom"&&w&&w.matrix&&c(f,A,w)}}function c(f,T,h){for(var s=h.matrixOptions.data.length,d=T._visibleDims,A=h.viewOpts.ranges=new Array(s),w=0;w<d.length;w++){var C=d[w],b=A[w]=new Array(4),S=v(f,T._diag[C][0]);S&&(b[0]=S.r2l(S.range[0]),b[2]=S.r2l(S.range[1]));var x=v(f,T._diag[C][1]);x&&(b[1]=x.r2l(x.range[0]),b[3]=x.r2l(x.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:A},{ranges:A}):h.matrix.update({ranges:A})}function u(f){var T=f._fullLayout,h=T._glcanvas.data()[0].regl,s=T._splomGrid;s||(s=T._splomGrid=y(h)),s.update(l(f))}function l(f){var T=f._context.plotGlPixelRatio,h=f._fullLayout,s=h._size,d=[0,0,h.width*T,h.height*T],A={},w;function C(Y,$,te,ie,ce,J){te*=T,ie*=T,ce*=T,J*=T;var Z=$[Y+"color"],ae=$[Y+"width"],j=String(Z+ae);j in A?A[j].data.push(NaN,NaN,te,ie,ce,J):A[j]={data:[te,ie,ce,J],join:"rect",thickness:ae*T,color:Z,viewport:d,range:d,overlay:!1}}for(w in h._splomSubplots){var b=h._plots[w],S=b.xaxis,x=b.yaxis,i=S._gridVals,E=x._gridVals,m=S._offset,k=S._length,I=x._length,U=s.b+x.domain[0]*s.h,z=-x._m,F=-z*x.r2l(x.range[0],x.calendar),B,O;if(S.showgrid)for(w=0;w<i.length;w++)B=m+S.l2p(i[w].x),C("grid",S,B,U,B,U+I);if(x.showgrid)for(w=0;w<E.length;w++)O=U+F+z*E[w].x,C("grid",x,m,O,m+k,O);p(f,S,x)&&(B=m+S.l2p(0),C("zeroline",S,B,U,B,U+I)),p(f,x,S)&&(O=U+F+0,C("zeroline",x,m,O,m+k,O))}var N=[];for(w in A)N.push(A[w]);return N}function g(f,T,h,s){var d={},A;if(s._splomScenes){for(A=0;A<f.length;A++){var w=f[A];w.type==="splom"&&(d[w.uid]=1)}for(A=0;A<h.length;A++){var C=h[A];if(!d[C.uid]){var b=s._splomScenes[C.uid];b&&b.destroy&&b.destroy(),s._splomScenes[C.uid]=null,delete s._splomScenes[C.uid]}}}Object.keys(s._splomScenes||{}).length===0&&delete s._splomScenes,s._splomGrid&&!T._hasOnlyLargeSploms&&s._hasOnlyLargeSploms&&(s._splomGrid.destroy(),s._splomGrid=null,delete s._splomGrid),M.clean(f,T,h,s)}G.exports={name:r,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:o,drag:n,updateGrid:u,clean:g,updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:t}},87625:function(G,H,e){var y=e(71828),P=e(41675),a=e(47761).calcMarkerSize,L=e(47761).calcAxisExpansion,M=e(36922),v=e(19635).markerSelection,p=e(19635).markerStyle,r=e(10164),t=e(50606).BADNUM,o=e(78232).TOO_MANY_POINTS;G.exports=function(c,u){var l=u.dimensions,g=u._length,f={},T=f.cdata=[],h=f.data=[],s=u._visibleDims=[],d,A,w,C,b;function S(k,I){for(var U=k.makeCalcdata({v:I.values,vcalendar:u.calendar},"v"),z=0;z<U.length;z++)U[z]=U[z]===t?NaN:U[z];T.push(U),h.push(k.type==="log"?y.simpleMap(U,k.c2l):U)}for(d=0;d<l.length;d++)if(w=l[d],w.visible){if(C=P.getFromId(c,u._diag[d][0]),b=P.getFromId(c,u._diag[d][1]),C&&b&&C.type!==b.type){y.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(S(C,w),b&&b.type==="category"&&(b._categories=C._categories.slice())):S(b,w),s.push(d)}M(c,u),y.extendFlat(f,p(c,u));var x=T.length,i=x*g>o,E;for(i?E=f.sizeAvg||Math.max(f.size,3):E=a(u,g),A=0;A<s.length;A++)d=s[A],w=l[d],C=P.getFromId(c,u._diag[d][0])||{},b=P.getFromId(c,u._diag[d][1])||{},L(c,u,C,b,T[A],T[A],E);var m=r(c,u);return m.matrix||(m.matrix=!0),m.matrixOptions=f,m.selectedOptions=v(c,u,u.selected),m.unselectedOptions=v(c,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},25784:function(G,H,e){var y=e(71828),P=e(85501),a=e(46880),L=e(34098),M=e(49508),v=e(94397),p=e(68645).isOpenSymbol;G.exports=function(n,c,u,l){function g(C,b){return y.coerce(n,c,a,C,b)}var f=P(n,c,{name:"dimensions",handleItemDefaults:r}),T=g("diagonal.visible"),h=g("showupperhalf"),s=g("showlowerhalf"),d=v(c,f,"values");if(!d||!T&&!h&&!s){c.visible=!1;return}g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),M(n,c,u,l,g,{noAngleRef:!0,noStandOff:!0});var A=p(c.marker.symbol),w=L.isBubble(c);g("marker.line.width",A||w?1:0),t(n,c,l,g),y.coerceSelectionMarkerOpacity(c,g)};function r(o,n){function c(l,g){return y.coerce(o,n,a.dimensions,l,g)}c("label");var u=c("values");u&&u.length?c("visible"):n.visible=!1,c("axis.type"),c("axis.matches")}function t(o,n,c,u){var l=n.dimensions,g=l.length,f=n.showupperhalf,T=n.showlowerhalf,h=n.diagonal.visible,s,d,A=new Array(g),w=new Array(g);for(s=0;s<g;s++){var C=s?s+1:"";A[s]="x"+C,w[s]="y"+C}var b=u("xaxes",A),S=u("yaxes",w),x=n._diag=new Array(g);n._xaxes={},n._yaxes={};var i=[],E=[];function m(Y,$,te,ie){if(Y){var ce=Y.charAt(0),J=c._splomAxes[ce];if(n["_"+ce+"axes"][Y]=1,ie.push(Y),!(Y in J)){var Z=J[Y]={};te&&(Z.label=te.label||"",te.visible&&te.axis&&(te.axis.type&&(Z.type=te.axis.type),te.axis.matches&&(Z.matches=$)))}}}var k=!h&&!T,I=!h&&!f;for(n._axesDim={},s=0;s<g;s++){var U=l[s],z=s===0,F=s===g-1,B=z&&k||F&&I?void 0:b[s],O=z&&I||F&&k?void 0:S[s];m(B,O,U,i),m(O,B,U,E),x[s]=[B,O],n._axesDim[B]=s,n._axesDim[O]=s}for(s=0;s<i.length;s++)for(d=0;d<E.length;d++){var N=i[s]+E[d];(s>d&&f||s<d&&T||s===d&&(h||!T||!f))&&(c._splomSubplots[N]=1)}(!T||!h&&f&&T)&&(c._splomGridDflt.xside="bottom",c._splomGridDflt.yside="left")}},28801:function(G,H,e){var y=e(71828),P=e(36922),a=e(19635).markerStyle;G.exports=function(M,v){var p=v.trace,r=M._fullLayout._splomScenes[p.uid];if(r){P(M,p),y.extendFlat(r.matrixOptions,a(M,p));var t=y.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},35948:function(G,H){H.getDimIndex=function(y,P){for(var a=P._id,L=a.charAt(0),M={x:0,y:1}[L],v=y._visibleDims,p=0;p<v.length;p++){var r=v[p];if(y._diag[r][M]===a)return p}return!1}},8567:function(G,H,e){var y=e(35948),P=e(20794).calcHover;function a(L,M,v){var p=L.cd,r=p[0].trace,t=L.scene,o=t.matrixOptions.cdata,n=L.xa,c=L.ya,u=n.c2p(M),l=c.c2p(v),g=L.distance,f=y.getDimIndex(r,n),T=y.getDimIndex(r,c);if(f===!1||T===!1)return[L];for(var h=o[f],s=o[T],d,A,w=g,C=0;C<h.length;C++){var b=h[C],S=s[C],x=n.c2p(b)-u,i=c.c2p(S)-l,E=Math.sqrt(x*x+i*i);E<w&&(w=A=E,d=C)}return L.index=d,L.distance=w,L.dxy=A,d===void 0?[L]:[P(L,h,s,r)]}G.exports={hoverPoints:a}},6419:function(G,H,e){var y=e(65017);y.basePlotModule=e(16947),G.exports=y},79410:function(G,H,e){var y=e(60487),P=e(71828),a=e(41675),L=e(64505).selectMode;G.exports=function(p,r,t){if(t.length)for(var o=0;o<t.length;o++)M(p,t[o][0])};function M(v,p){var r=v._fullLayout,t=r._size,o=p.trace,n=p.t,c=r._splomScenes[o.uid],u=c.matrixOptions,l=u.cdata,g=r._glcanvas.data()[0].regl,f=r.dragmode,T,h,s,d,A;if(l.length!==0){u.lower=o.showupperhalf,u.upper=o.showlowerhalf,u.diagonal=o.diagonal.visible;var w=o._visibleDims,C=l.length,b=c.viewOpts={};for(b.ranges=new Array(C),b.domains=new Array(C),A=0;A<w.length;A++){s=w[A];var S=b.ranges[A]=new Array(4),x=b.domains[A]=new Array(4);T=a.getFromId(v,o._diag[s][0]),T&&(S[0]=T._rl[0],S[2]=T._rl[1],x[0]=T.domain[0],x[2]=T.domain[1]),h=a.getFromId(v,o._diag[s][1]),h&&(S[1]=h._rl[0],S[3]=h._rl[1],x[1]=h.domain[0],x[3]=h.domain[1])}var i=v._context.plotGlPixelRatio,E=t.l*i,m=t.b*i,k=t.w*i,I=t.h*i;b.viewport=[E,m,k+E,I+m],c.matrix===!0&&(c.matrix=y(g));var U=r.clickmode.indexOf("select")>-1,z=L(f)||!!o.selectedpoints||U,F=!0;if(z){var B=o._length;if(o.selectedpoints){c.selectBatch=o.selectedpoints;var O=o.selectedpoints,N={};for(s=0;s<O.length;s++)N[O[s]]=!0;var Y=[];for(s=0;s<B;s++)N[s]||Y.push(s);c.unselectBatch=Y}var $=n.xpx=new Array(C),te=n.ypx=new Array(C);for(A=0;A<w.length;A++){if(s=w[A],T=a.getFromId(v,o._diag[s][0]),T)for($[A]=new Array(B),d=0;d<B;d++)$[A][d]=T.c2p(l[A][d]);if(h=a.getFromId(v,o._diag[s][1]),h)for(te[A]=new Array(B),d=0;d<B;d++)te[A][d]=h.c2p(l[A][d])}if(c.selectBatch.length||c.unselectBatch.length){var ie=P.extendFlat({},u,c.unselectedOptions,b),ce=P.extendFlat({},u,c.selectedOptions,b);c.matrix.update(ie,ce),F=!1}}else n.xpx=n.ypx=null;if(F){var J=P.extendFlat({},u,b);c.matrix.update(J,null)}}}},10164:function(G,H,e){var y=e(71828);G.exports=function(a,L){var M=a._fullLayout,v=L.uid,p=M._splomScenes;p||(p=M._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},o=p[L.uid];return o||(o=p[v]=y.extendFlat({},r,t),o.draw=function(){o.matrix&&o.matrix.draw&&(o.selectBatch.length||o.unselectBatch.length?o.matrix.draw(o.unselectBatch,o.selectBatch):o.matrix.draw()),o.dirty=!1},o.destroy=function(){o.matrix&&o.matrix.destroy&&o.matrix.destroy(),o.matrixOptions=null,o.selectBatch=null,o.unselectBatch=null,o=null}),o.dirty||y.extendFlat(o,r),o}},8689:function(G,H,e){var y=e(71828),P=y.pushUnique,a=e(34098),L=e(35948);G.exports=function(v,p){var r=v.cd,t=r[0].trace,o=r[0].t,n=v.scene,c=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,g=[];if(!n)return g;var f=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||f)return g;var T=L.getDimIndex(t,u),h=L.getDimIndex(t,l);if(T===!1||h===!1)return g;var s=o.xpx[T],d=o.ypx[h],A=c[T],w=c[h],C=(v.scene.selectBatch||[]).slice(),b=[];if(p!==!1&&!p.degenerate)for(var S=0;S<A.length;S++)p.contains([s[S],d[S]],null,S,v)?(g.push({pointNumber:S,x:A[S],y:w[S]}),P(C,S)):C.indexOf(S)!==-1?P(C,S):b.push(S);var x=n.matrixOptions;return!C.length&&!b.length?n.matrix.update(x,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,y.extendFlat({},x,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=b,g}},21850:function(G,H,e){var y=e(50693),P=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),M=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},88489:function(G,H,e){var y=e(71828),P=e(78803);function a(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var o=0,n,c,u;r.starts&&(n=v(r.starts.x||[]),c=v(r.starts.y||[]),u=v(r.starts.z||[]),o=Math.min(n.length,c.length,u.length)),r._startsX=n||[],r._startsY=c||[],r._startsZ=u||[];var l=0,g=1/0,f;for(f=0;f<r._len;f++){var T=r._u[f],h=r._v[f],s=r._w[f],d=Math.sqrt(T*T+h*h+s*s);l=Math.max(l,d),g=Math.min(g,d)}for(P(p,r,{vals:[g,l],containerStr:"",cLetter:"c"}),f=0;f<o;f++){var A=n[f];t.xMax=Math.max(t.xMax,A),t.xMin=Math.min(t.xMin,A);var w=c[f];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var C=u[f];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=o,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(p){var r=p._x,t=p._y,o=p._z,n=p._len,c,u,l,g=-1/0,f=1/0,T=-1/0,h=1/0,s=-1/0,d=1/0,A="",w,C,b,S,x,i,E,m,k;for(n&&(S=r[0],i=t[0],m=o[0]),n>1&&(x=r[n-1],E=t[n-1],k=o[n-1]),c=0;c<n;c++)g=Math.max(g,r[c]),f=Math.min(f,r[c]),T=Math.max(T,t[c]),h=Math.min(h,t[c]),s=Math.max(s,o[c]),d=Math.min(d,o[c]),!w&&r[c]!==S&&(w=!0,A+="x"),!C&&t[c]!==i&&(C=!0,A+="y"),!b&&o[c]!==m&&(b=!0,A+="z");w||(A+="x"),C||(A+="y"),b||(A+="z");var I=M(p._x),U=M(p._y),z=M(p._z);A=A.replace("x",(S>x?"-":"+")+"x"),A=A.replace("y",(i>E?"-":"+")+"y"),A=A.replace("z",(m>k?"-":"+")+"z");var F=function(){n=0,I=[],U=[],z=[]};(!n||n<I.length*U.length*z.length)&&F();var B=function(fe){return fe==="x"?r:fe==="y"?t:o},O=function(fe){return fe==="x"?I:fe==="y"?U:z},N=function(fe){return fe[n-1]<fe[0]?-1:1},Y=B(A[1]),$=B(A[3]),te=B(A[5]),ie=O(A[1]).length,ce=O(A[3]).length,J=O(A[5]).length,Z=!1,ae=function(fe,ye,Ee){return ie*(ce*fe+ye)+Ee},j=N(B(A[1])),q=N(B(A[3])),oe=N(B(A[5]));for(c=0;c<J-1;c++){for(u=0;u<ce-1;u++){for(l=0;l<ie-1;l++){var Q=ae(c,u,l),K=ae(c,u,l+1),se=ae(c,u+1,l),ne=ae(c+1,u,l);if((!(Y[Q]*j<Y[K]*j)||!($[Q]*q<$[se]*q)||!(te[Q]*oe<te[ne]*oe))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(y.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:f,yMin:h,zMin:d,xMax:g,yMax:T,zMax:s,Xs:I,Ys:U,Zs:z,len:n,fill:A}}function M(p){return y.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),y.isTypedArray(p))return p.subarray(0,r);for(var t=[],o=0;o<r;o++)t[o]=+p[o];return t}G.exports={calc:a,filter:v,processGrid:L}},90154:function(G,H,e){var y=e(9330).gl_streamtube3d,P=y.createTubeMesh,a=e(71828),L=e(81697).parseColorScale,M=e(21081).extractOpts,v=e(90060),p={xaxis:0,yaxis:1,zaxis:2};function r(l,g){this.scene=l,this.uid=g,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var g=this.scene.fullSceneLayout,f=this.scene.dataScale;function T(d,A){var w=g[A],C=f[p[A]];return w.l2c(d)/C}if(l.object===this.mesh){var h=l.data.position,s=l.data.velocity;return l.traceCoordinate=[T(h[0],"xaxis"),T(h[1],"yaxis"),T(h[2],"zaxis"),T(s[0],"xaxis"),T(s[1],"yaxis"),T(s[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function o(l){var g=l.length,f;return g>2?f=l.slice(1,g-1):g===2?f=[(l[0]+l[1])/2]:f=l,f}function n(l){var g=l.length;return g===1?[.5,.5]:[l[1]-l[0],l[g-1]-l[g-2]]}function c(l,g){var f=l.fullSceneLayout,T=l.dataScale,h=g._len,s={};function d(ce,J){var Z=f[J],ae=T[p[J]];return a.simpleMap(ce,function(j){return Z.d2l(j)*ae})}if(s.vectors=v(d(g._u,"xaxis"),d(g._v,"yaxis"),d(g._w,"zaxis"),h),!h)return{positions:[],cells:[]};var A=d(g._Xs,"xaxis"),w=d(g._Ys,"yaxis"),C=d(g._Zs,"zaxis");s.meshgrid=[A,w,C],s.gridFill=g._gridFill;var b=g._slen;if(b)s.startingPositions=v(d(g._startsX,"xaxis"),d(g._startsY,"yaxis"),d(g._startsZ,"zaxis"));else{for(var S=w[0],x=o(A),i=o(C),E=new Array(x.length*i.length),m=0,k=0;k<x.length;k++)for(var I=0;I<i.length;I++)E[m++]=[x[k],S,i[I]];s.startingPositions=E}s.colormap=L(g),s.tubeSize=g.sizeref,s.maxLength=g.maxdisplayed;var U=d(g._xbnds,"xaxis"),z=d(g._ybnds,"yaxis"),F=d(g._zbnds,"zaxis"),B=n(A),O=n(w),N=n(C),Y=[[U[0]-B[0],z[0]-O[0],F[0]-N[0]],[U[1]+B[1],z[1]+O[1],F[1]+N[1]]],$=y(s,Y),te=M(g);$.vertexIntensityBounds=[te.min/g._normMax,te.max/g._normMax];var ie=g.lightposition;return $.lightPosition=[ie.x,ie.y,ie.z],$.ambient=g.lighting.ambient,$.diffuse=g.lighting.diffuse,$.specular=g.lighting.specular,$.roughness=g.lighting.roughness,$.fresnel=g.lighting.fresnel,$.opacity=g.opacity,g._pad=$.tubeScale*g.sizeref*2,$}t.update=function(l){this.data=l;var g=c(this.scene,l);this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,g){var f=l.glplot.gl,T=c(l,g),h=P(f,T),s=new r(l,g.uid);return s.mesh=h,s.data=g,h._trace=s,l.glplot.add(h),s}G.exports=u},22459:function(G,H,e){var y=e(71828),P=e(1586),a=e(21850);G.exports=function(M,v,p,r){function t(f,T){return y.coerce(M,v,a,f,T)}var o=t("u"),n=t("v"),c=t("w"),u=t("x"),l=t("y"),g=t("z");if(!o||!o.length||!n||!n.length||!c||!c.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},61510:function(G,H,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(y,P){return y.tubex=y.x,y.tubey=y.y,y.tubez=y.z,y.tubeu=P.traceCoordinate[3],y.tubev=P.traceCoordinate[4],y.tubew=P.traceCoordinate[5],y.norm=P.traceCoordinate[6],y.divergence=P.traceCoordinate[7],delete y.x,delete y.y,delete y.z,y},meta:{}}},57564:function(G,H,e){var y=e(9012),P=e(5386).fF,a=e(5386).si,L=e(50693),M=e(27670).Y,v=e(34e3),p=e(7055),r=e(1426).extendFlat,t=e(79952).u;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},y.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(G,H,e){var y=e(74875);H.name="sunburst",H.plot=function(P,a,L,M){y.plotBasePlot(H.name,P,a,L,M)},H.clean=function(P,a,L,M){y.cleanBasePlot(H.name,P,a,L,M)}},52147:function(G,H,e){var y=e(674),P=e(92770),a=e(71828),L=e(21081).makeColorScaleFuncFromTrace,M=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,p=e(21081).calc,r=e(50606).ALMOST_EQUAL,t={},o={},n={};H.calc=function(u,l){var g=u._fullLayout,f=l.ids,T=a.isArrayOrTypedArray(f),h=l.labels,s=l.parents,d=l.values,A=a.isArrayOrTypedArray(d),w=[],C={},b={},S=function(j,q){C[j]?C[j].push(q):C[j]=[q],b[q]=1},x=function(j){return j||typeof j=="number"},i=function(j){return!A||P(d[j])&&d[j]>=0},E,m,k;T?(E=Math.min(f.length,s.length),m=function(j){return x(f[j])&&i(j)},k=function(j){return String(f[j])}):(E=Math.min(h.length,s.length),m=function(j){return x(h[j])&&i(j)},k=function(j){return String(h[j])}),A&&(E=Math.min(E,d.length));for(var I=0;I<E;I++)if(m(I)){var U=k(I),z=x(s[I])?String(s[I]):"",F={i:I,id:U,pid:z,label:x(h[I])?String(h[I]):""};A&&(F.v=+d[I]),w.push(F),S(z,U)}if(C[""]){if(C[""].length>1){for(var N=a.randstr(),Y=0;Y<w.length;Y++)w[Y].pid===""&&(w[Y].pid=N);w.unshift({hasMultipleRoots:!0,id:N,pid:"",label:""})}}else{var B=[],O;for(O in C)b[O]||B.push(O);if(B.length===1)O=B[0],w.unshift({hasImpliedRoot:!0,id:O,pid:"",label:O});else return a.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",B.join(", ")].join(" "))}var $;try{$=y.stratify().id(function(j){return j.id}).parentId(function(j){return j.pid})(w)}catch(j){return a.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",j.message].join(" "))}var te=y.hierarchy($),ie=!1;if(A)switch(l.branchvalues){case"remainder":te.sum(function(j){return j.data.v});break;case"total":te.each(function(j){var q=j.data.data,oe=q.v;if(j.children){var Q=j.children.reduce(function(K,se){return K+se.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(oe=Q),oe<Q*r)return ie=!0,a.warn(["Total value for node",j.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,oe,`
children sum =`,Q].join(" "))}j.value=oe});break}else c(te,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ie){l.sort&&te.sort(function(j,q){return q.value-j.value});var ce,J,Z=l.marker.colors||[],ae=!!Z.length;return l._hasColorscale?(ae||(Z=A?l.values:l._values),p(u,l,{vals:Z,containerStr:"marker",cLetter:"c"}),J=L(l.marker)):ce=M(g["_"+l.type+"colormap"]),te.each(function(j){var q=j.data.data;q.color=l._hasColorscale?J(Z[q.i]):ce(Z[q.i],q.id)}),w[0].hierarchy=te,w}},H._runCrossTraceCalc=function(u,l){var g=l._fullLayout,f=l.calcdata,T=g[u+"colorway"],h=g["_"+u+"colormap"];g["extend"+u+"colors"]&&(T=v(T,u==="icicle"?n:u==="treemap"?o:t));var s=0,d;function A(S){var x=S.data.data,i=x.id;x.color===!1&&(h[i]?x.color=h[i]:S.parent?S.parent.parent?x.color=S.parent.data.data.color:(h[i]=x.color=T[s%T.length],s++):x.color=d)}for(var w=0;w<f.length;w++){var C=f[w],b=C[0];b.trace.type===u&&b.hierarchy&&(d=b.trace.root.color,b.hierarchy.each(A))}},H.crossTraceCalc=function(u){return H._runCrossTraceCalc("sunburst",u)};function c(u,l,g){var f=0,T=u.children;if(T){for(var h=T.length,s=0;s<h;s++)f+=c(T[s],l,g);g.branches&&f++}else g.leaves&&f++;return u.value=u.data.data.value=f,l._values||(l._values=[]),l._values[u.data.data.i]=f,f}},7055:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(G,H,e){var y=e(71828),P=e(57564),a=e(27670).c,L=e(90769).handleText,M=e(37434).handleMarkerDefaults,v=e(21081),p=v.hasColorscale,r=v.handleDefaults;G.exports=function(o,n,c,u){function l(A,w){return y.coerce(o,n,P,A,w)}var g=l("labels"),f=l("parents");if(!g||!g.length||!f||!f.length){n.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),M(o,n,u,l);var h=n._hasColorscale=p(o,"marker","colors")||(o.marker||{}).coloraxis;h&&r(o,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",h?1:.7);var s=l("text");l("texttemplate"),n.texttemplate||l("textinfo",y.isArrayOrTypedArray(s)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";L(o,n,u,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,u,l),n._length=null}},43467:function(G,H,e){var y=e(91424),P=e(7901);G.exports=function(L,M,v,p,r){var t=M.data.data,o=t.i,n=r||t.color;if(o>=0){M.i=t.i;var c=v.marker;c.pattern?(!c.colors||!c.pattern.shape)&&(c.color=n,M.color=n):(c.color=n,M.color=n),y.pointStyle(L,v,p,M)}else P.fill(L,n)}},83523:function(G,H,e){var y=e(39898),P=e(73972),a=e(23469).appendArrayPointValue,L=e(30211),M=e(71828),v=e(11086),p=e(2791),r=e(53581),t=r.formatPieValue;G.exports=function(c,u,l,g,f){var T=g[0],h=T.trace,s=T.hierarchy,d=h.type==="sunburst",A=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var w=function(S){var x=l._fullLayout;if(!(l._dragging||x.hovermode===!1)){var i=l._fullData[h.index],E=S.data.data,m=E.i,k=p.isHierarchyRoot(S),I=p.getParent(s,S),U=p.getValue(S),z=function(K){return M.castOption(i,m,K)},F=z("hovertemplate"),B=L.castHoverinfo(i,x,m),O=x.separators,N;if(F||B&&B!=="none"&&B!=="skip"){var Y,$;d&&(Y=T.cx+S.pxmid[0]*(1-S.rInscribed),$=T.cy+S.pxmid[1]*(1-S.rInscribed)),A&&(Y=S._hoverX,$=S._hoverY);var te={},ie=[],ce=[],J=function(K){return ie.indexOf(K)!==-1};B&&(ie=B==="all"?i._module.attributes.hoverinfo.flags:B.split("+")),te.label=E.label,J("label")&&te.label&&ce.push(te.label),E.hasOwnProperty("v")&&(te.value=E.v,te.valueLabel=t(te.value,O),J("value")&&ce.push(te.valueLabel)),te.currentPath=S.currentPath=p.getPath(S.data),J("current path")&&!k&&ce.push(te.currentPath);var Z,ae=[],j=function(){ae.indexOf(Z)===-1&&(ce.push(Z),ae.push(Z))};te.percentParent=S.percentParent=U/p.getValue(I),te.parent=S.parentString=p.getPtLabel(I),J("percent parent")&&(Z=p.formatPercent(te.percentParent,O)+" of "+te.parent,j()),te.percentEntry=S.percentEntry=U/p.getValue(u),te.entry=S.entry=p.getPtLabel(u),J("percent entry")&&!k&&!S.onPathbar&&(Z=p.formatPercent(te.percentEntry,O)+" of "+te.entry,j()),te.percentRoot=S.percentRoot=U/p.getValue(s),te.root=S.root=p.getPtLabel(s),J("percent root")&&!k&&(Z=p.formatPercent(te.percentRoot,O)+" of "+te.root,j()),te.text=z("hovertext")||z("text"),J("text")&&(Z=te.text,M.isValidTextValue(Z)&&ce.push(Z)),N=[o(S,i,f.eventDataKeys)];var q={trace:i,y:$,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:ce.join("<br>"),name:F||J("name")?i.name:void 0,color:z("hoverlabel.bgcolor")||E.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:F,hovertemplateLabels:te,eventData:N};d&&(q.x0=Y-S.rInscribed*S.rpx1,q.x1=Y+S.rInscribed*S.rpx1,q.idealAlign=S.pxmid[0]<0?"left":"right"),A&&(q.x=Y,q.idealAlign=Y<0?"left":"right");var oe=[];L.loneHover(q,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:l,inOut_bbox:oe}),N[0].bbox=oe[0],h._hasHoverLabel=!0}if(A){var Q=c.select("path.surface");f.styleOne(Q,S,i,l,{hovered:!0})}h._hasHoverEvent=!0,l.emit("plotly_hover",{points:N||[o(S,i,f.eventDataKeys)],event:y.event})}},C=function(S){var x=l._fullLayout,i=l._fullData[h.index],E=y.select(this).datum();if(h._hasHoverEvent&&(S.originalEvent=y.event,l.emit("plotly_unhover",{points:[o(E,i,f.eventDataKeys)],event:y.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(L.loneUnhover(x._hoverlayer.node()),h._hasHoverLabel=!1),A){var m=c.select("path.surface");f.styleOne(m,E,i,l,{hovered:!1})}},b=function(S){var x=l._fullLayout,i=l._fullData[h.index],E=d&&(p.isHierarchyRoot(S)||p.isLeaf(S)),m=p.getPtId(S),k=p.isEntry(S)?p.findEntryWithChild(s,m):p.findEntryWithLevel(s,m),I=p.getPtId(k),U={points:[o(S,i,f.eventDataKeys)],event:y.event};E||(U.nextLevel=I);var z=v.triggerHandler(l,"plotly_"+h.type+"click",U);if(z!==!1&&x.hovermode&&(l._hoverdata=[o(S,i,f.eventDataKeys)],L.click(l,y.event)),!E&&z!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",i,x._tracePreGUI[i.uid],{level:i.level});var F={data:[{level:I}],traces:[h.index]},B={frame:{redraw:!1,duration:f.transitionTime},transition:{duration:f.transitionTime,easing:f.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(x._hoverlayer.node()),P.call("animate",l,F,B)}};c.on("mouseover",w),c.on("mouseout",C),c.on("click",b)};function o(n,c,u){for(var l=n.data.data,g={curveNumber:c.index,pointNumber:l.i,data:c._input,fullData:c},f=0;f<u.length;f++){var T=u[f];T in n&&(g[T]=n[T])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(g.parent=n.parentString),a(g,c,l.i),g}},2791:function(G,H,e){var y=e(71828),P=e(7901),a=e(6964),L=e(53581);H.findEntryWithLevel=function(r,t){var o;return t&&r.eachAfter(function(n){if(H.getPtId(n)===t)return o=n.copy()}),o||r},H.findEntryWithChild=function(r,t){var o;return r.eachAfter(function(n){for(var c=n.children||[],u=0;u<c.length;u++){var l=c[u];if(H.getPtId(l)===t)return o=n.copy()}}),o||r},H.isEntry=function(r){return!r.parent},H.isLeaf=function(r){return!r.children},H.getPtId=function(r){return r.data.data.id},H.getPtLabel=function(r){return r.data.data.label},H.getValue=function(r){return r.value},H.isHierarchyRoot=function(r){return p(r)===""},H.setSliceCursor=function(r,t,o){var n=o.isTransitioning;if(!n){var c=r.datum();n=o.hideOnRoot&&H.isHierarchyRoot(c)||o.hideOnLeaves&&H.isLeaf(c)}a(r,n?null:"pointer")};function M(r,t,o){return{color:H.getOutsideTextFontKey("color",r,t,o),family:H.getOutsideTextFontKey("family",r,t,o),size:H.getOutsideTextFontKey("size",r,t,o)}}function v(r,t,o,n){var c=(n||{}).onPathbar,u=t.data.data,l=u.i,g=y.castOption(r,l,(c?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=y.castOption(r._input,l,"textfont.color")),{color:g||P.contrast(u.color),family:H.getInsideTextFontKey("family",r,t,o,n),size:H.getInsideTextFontKey("size",r,t,o,n)}}H.getInsideTextFontKey=function(r,t,o,n,c){var u=(c||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",g=o.data.data.i;return y.castOption(t,g,l+"."+r)||y.castOption(t,g,"textfont."+r)||n.size},H.getOutsideTextFontKey=function(r,t,o,n){var c=o.data.data.i;return y.castOption(t,c,"outsidetextfont."+r)||y.castOption(t,c,"textfont."+r)||n.size},H.isOutsideText=function(r,t){return!r._hasColorscale&&H.isHierarchyRoot(t)},H.determineTextFont=function(r,t,o,n){return H.isOutsideText(r,t)?M(r,t,o):v(r,t,o,n)},H.hasTransition=function(r){return!!(r&&r.duration>0)},H.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},H.isHeader=function(r,t){return!(H.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}H.getParent=function(r,t){return H.findEntryWithLevel(r,p(t))},H.listPath=function(r,t){var o=r.parent;if(!o)return[];var n=t?[o.data[t]]:[o];return H.listPath(o,t).concat(n)},H.getPath=function(r){return H.listPath(r,"label").join("/")+"/"},H.formatValue=L.formatPieValue,H.formatPercent=function(r,t){var o=y.formatPercent(r,0);return o==="0%"&&(o=L.formatPiePercent(r,t)),o}},87619:function(G,H,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(G,H,e){var y=e(71828),P=e(2654);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("sunburstcolorway",M.colorway),v("extendsunburstcolors")}},24714:function(G,H,e){var y=e(39898),P=e(674),a=e(81684).sX,L=e(91424),M=e(71828),v=e(63893),p=e(72597),r=p.recordMinTextSize,t=p.clearMinTextSize,o=e(14575),n=e(53581).getRotationAngle,c=o.computeTransform,u=o.transformInsideText,l=e(29969).styleOne,g=e(16688).resizeText,f=e(83523),T=e(7055),h=e(2791);H.plot=function(b,S,x,i){var E=b._fullLayout,m=E._sunburstlayer,k,I,U=!x,z=!E.uniformtext.mode&&h.hasTransition(x);if(t("sunburst",E),k=m.selectAll("g.trace.sunburst").data(S,function(B){return B[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),z){i&&(I=i());var F=y.transition().duration(x.duration).ease(x.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});F.each(function(){m.selectAll("g.trace").each(function(B){s(b,B,this,x)})})}else k.each(function(B){s(b,B,this,x)}),E.uniformtext.mode&&g(b,E._sunburstlayer.selectAll(".trace"),"sunburst");U&&k.exit().remove()};function s(b,S,x,i){var E=b._context.staticPlot,m=b._fullLayout,k=!m.uniformtext.mode&&h.hasTransition(i),I=y.select(x),U=I.selectAll("g.slice"),z=S[0],F=z.trace,B=z.hierarchy,O=h.findEntryWithLevel(B,F.level),N=h.getMaxDepth(F),Y=m._size,$=F.domain,te=Y.w*($.x[1]-$.x[0]),ie=Y.h*($.y[1]-$.y[0]),ce=.5*Math.min(te,ie),J=z.cx=Y.l+Y.w*($.x[1]+$.x[0])/2,Z=z.cy=Y.t+Y.h*(1-$.y[0])-ie/2;if(!O)return U.remove();var ae=null,j={};k&&U.each(function(Ve){j[h.getPtId(Ve)]={rpx0:Ve.rpx0,rpx1:Ve.rpx1,x0:Ve.x0,x1:Ve.x1,transform:Ve.transform},!ae&&h.isEntry(Ve)&&(ae=Ve)});var q=d(O).descendants(),oe=O.height+1,Q=0,K=N;z.hasMultipleRoots&&h.isHierarchyRoot(O)&&(q=q.slice(1),oe-=1,Q=1,K+=1),q=q.filter(function(Ve){return Ve.y1<=K});var se=n(F.rotation);se&&q.forEach(function(Ve){Ve.x0+=se,Ve.x1+=se});var ne=Math.min(oe,N),fe=function(Ve){return(Ve-Q)/ne*ce},ye=function(Ve,at){return[Ve*Math.cos(at),-Ve*Math.sin(at)]},Ee=function(Ve){return M.pathAnnulus(Ve.rpx0,Ve.rpx1,Ve.x0,Ve.x1,J,Z)},Te=function(Ve){return J+w(Ve)[0]*(Ve.transform.rCenter||0)+(Ve.transform.x||0)},ze=function(Ve){return Z+w(Ve)[1]*(Ve.transform.rCenter||0)+(Ve.transform.y||0)};U=U.data(q,h.getPtId),U.enter().append("g").classed("slice",!0),k?U.exit().transition().each(function(){var Ve=y.select(this),at=Ve.select("path.surface");at.transition().attrTween("d",function($e){var et=Ce($e);return function(ct){return Ee(et(ct))}});var lt=Ve.select("g.slicetext");lt.attr("opacity",0)}).remove():U.exit().remove(),U.order();var ke=null;if(k&&ae){var Se=h.getPtId(ae);U.each(function(Ve){ke===null&&h.getPtId(Ve)===Se&&(ke=Ve.x1)})}var me=U;k&&(me=me.transition().each("end",function(){var Ve=y.select(this);h.setSliceCursor(Ve,b,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),me.each(function(Ve){var at=y.select(this),lt=M.ensureSingle(at,"path","surface",function(At){At.style("pointer-events",E?"none":"all")});Ve.rpx0=fe(Ve.y0),Ve.rpx1=fe(Ve.y1),Ve.xmid=(Ve.x0+Ve.x1)/2,Ve.pxmid=ye(Ve.rpx1,Ve.xmid),Ve.midangle=-(Ve.xmid-Math.PI/2),Ve.startangle=-(Ve.x0-Math.PI/2),Ve.stopangle=-(Ve.x1-Math.PI/2),Ve.halfangle=.5*Math.min(M.angleDelta(Ve.x0,Ve.x1)||Math.PI,Math.PI),Ve.ring=1-Ve.rpx0/Ve.rpx1,Ve.rInscribed=A(Ve),k?lt.transition().attrTween("d",function(At){var Rt=Ne(At);return function(Vt){return Ee(Rt(Vt))}}):lt.attr("d",Ee),at.call(f,O,b,S,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,b,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:b._transitioning}),lt.call(l,Ve,F,b);var $e=M.ensureSingle(at,"g","slicetext"),et=M.ensureSingle($e,"text","",function(At){At.attr("data-notex",1)}),ct=M.ensureUniformFontSize(b,h.determineTextFont(F,Ve,m.font));et.text(H.formatSliceLabel(Ve,O,F,S,m)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ct).call(v.convertToTspans,b);var dt=L.bBox(et.node());Ve.transform=u(dt,Ve,z),Ve.transform.targetX=Te(Ve),Ve.transform.targetY=ze(Ve);var gt=function(At,Rt){var Vt=At.transform;return c(Vt,Rt),Vt.fontSize=ct.size,r(F.type,Vt,m),M.getTextTransform(Vt)};k?et.transition().attrTween("transform",function(At){var Rt=He(At);return function(Vt){return gt(Rt(Vt),dt)}}):et.attr("transform",gt(Ve,dt))});function Ce(Ve){var at=h.getPtId(Ve),lt=j[at],$e=j[h.getPtId(O)],et;if($e){var ct=(Ve.x1>$e.x1?2*Math.PI:0)+se;et=Ve.rpx1<$e.rpx1?{x0:Ve.x0,x1:Ve.x1,rpx0:0,rpx1:0}:{x0:ct,x1:ct,rpx0:Ve.rpx0,rpx1:Ve.rpx1}}else{var dt,gt=h.getPtId(Ve.parent);U.each(function(Ge){if(h.getPtId(Ge)===gt)return dt=Ge});var At=dt.children,Rt;At.forEach(function(Ge,Ie){if(h.getPtId(Ge)===at)return Rt=Ie});var Vt=At.length,Je=a(dt.x0,dt.x1);et={rpx0:ce,rpx1:ce,x0:Je(Rt/Vt),x1:Je((Rt+1)/Vt)}}return a(lt,et)}function Ne(Ve){var at=j[h.getPtId(Ve)],lt,$e={x0:Ve.x0,x1:Ve.x1,rpx0:Ve.rpx0,rpx1:Ve.rpx1};if(at)lt=at;else if(ae)if(Ve.parent)if(ke){var et=(Ve.x1>ke?2*Math.PI:0)+se;lt={x0:et,x1:et}}else lt={rpx0:ce,rpx1:ce},M.extendFlat(lt,De(Ve));else lt={rpx0:0,rpx1:0};else lt={x0:se,x1:se};return a(lt,$e)}function He(Ve){var at=j[h.getPtId(Ve)],lt,$e=Ve.transform;if(at)lt=at;else if(lt={rpx1:Ve.rpx1,transform:{textPosAngle:$e.textPosAngle,scale:0,rotate:$e.rotate,rCenter:$e.rCenter,x:$e.x,y:$e.y}},ae)if(Ve.parent)if(ke){var et=Ve.x1>ke?2*Math.PI:0;lt.x0=lt.x1=et}else M.extendFlat(lt,De(Ve));else lt.x0=lt.x1=se;else lt.x0=lt.x1=se;var ct=a(lt.transform.textPosAngle,Ve.transform.textPosAngle),dt=a(lt.rpx1,Ve.rpx1),gt=a(lt.x0,Ve.x0),At=a(lt.x1,Ve.x1),Rt=a(lt.transform.scale,$e.scale),Vt=a(lt.transform.rotate,$e.rotate),Je=$e.rCenter===0?3:lt.transform.rCenter===0?1/3:1,Ge=a(lt.transform.rCenter,$e.rCenter),Ie=function(Fe){return Ge(Math.pow(Fe,Je))};return function(Fe){var Pe=dt(Fe),xe=gt(Fe),ge=At(Fe),Me=Ie(Fe),Ae=ye(Pe,(xe+ge)/2),Ue=ct(Fe),Ze={pxmid:Ae,rpx1:Pe,transform:{textPosAngle:Ue,rCenter:Me,x:$e.x,y:$e.y}};return r(F.type,$e,m),{transform:{targetX:Te(Ze),targetY:ze(Ze),scale:Rt(Fe),rotate:Vt(Fe),rCenter:Me}}}}function De(Ve){var at=Ve.parent,lt=j[h.getPtId(at)],$e={};if(lt){var et=at.children,ct=et.indexOf(Ve),dt=et.length,gt=a(lt.x0,lt.x1);$e.x0=gt(ct/dt),$e.x1=gt(ct/dt)}else $e.x0=$e.x1=0;return $e}}function d(b){return P.partition().size([2*Math.PI,b.height+1])(b)}H.formatSliceLabel=function(b,S,x,i,E){var m=x.texttemplate,k=x.textinfo;if(!m&&(!k||k==="none"))return"";var I=E.separators,U=i[0],z=b.data.data,F=U.hierarchy,B=h.isHierarchyRoot(b),O=h.getParent(F,b),N=h.getValue(b);if(!m){var Y=k.split("+"),$=function(Q){return Y.indexOf(Q)!==-1},te=[],ie;if($("label")&&z.label&&te.push(z.label),z.hasOwnProperty("v")&&$("value")&&te.push(h.formatValue(z.v,I)),!B){$("current path")&&te.push(h.getPath(b.data));var ce=0;$("percent parent")&&ce++,$("percent entry")&&ce++,$("percent root")&&ce++;var J=ce>1;if(ce){var Z,ae=function(Q){ie=h.formatPercent(Z,I),J&&(ie+=" of "+Q),te.push(ie)};$("percent parent")&&!B&&(Z=N/h.getValue(O),ae("parent")),$("percent entry")&&(Z=N/h.getValue(S),ae("entry")),$("percent root")&&(Z=N/h.getValue(F),ae("root"))}}return $("text")&&(ie=M.castOption(x,z.i,"text"),M.isValidTextValue(ie)&&te.push(ie)),te.join("<br>")}var j=M.castOption(x,z.i,"texttemplate");if(!j)return"";var q={};z.label&&(q.label=z.label),z.hasOwnProperty("v")&&(q.value=z.v,q.valueLabel=h.formatValue(z.v,I)),q.currentPath=h.getPath(b.data),B||(q.percentParent=N/h.getValue(O),q.percentParentLabel=h.formatPercent(q.percentParent,I),q.parent=h.getPtLabel(O)),q.percentEntry=N/h.getValue(S),q.percentEntryLabel=h.formatPercent(q.percentEntry,I),q.entry=h.getPtLabel(S),q.percentRoot=N/h.getValue(F),q.percentRootLabel=h.formatPercent(q.percentRoot,I),q.root=h.getPtLabel(F),z.hasOwnProperty("color")&&(q.color=z.color);var oe=M.castOption(x,z.i,"text");return(M.isValidTextValue(oe)||oe==="")&&(q.text=oe),q.customdata=M.castOption(x,z.i,"customdata"),M.texttemplateString(j,q,E._d3locale,q,x._meta||{})};function A(b){return b.rpx0===0&&M.isFullCircle([b.x0,b.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(b.halfangle)),b.ring/2))}function w(b){return C(b.rpx1,b.transform.textPosAngle)}function C(b,S){return[b*Math.sin(S),-b*Math.cos(S)]}},29969:function(G,H,e){var y=e(39898),P=e(7901),a=e(71828),L=e(72597).resizeText,M=e(43467);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(o){var n=y.select(this),c=o[0],u=c.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){y.select(this).call(p,l,u,r)})})}function p(r,t,o,n){var c=t.data.data,u=!t.children,l=c.i,g=a.castOption(o,l,"marker.line.color")||P.defaultLine,f=a.castOption(o,l,"marker.line.width")||0;r.call(M,t,o,n).style("stroke-width",f).call(P.stroke,g).style("opacity",u?o.leaf.opacity:null)}G.exports={style:v,styleOne:p}},54532:function(G,H,e){var y=e(7901),P=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,M=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:y.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:y.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var o=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},M.hoverinfo),showlegend:v({},M.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType="calc+clearAxisTypes",o.transforms=void 0},18396:function(G,H,e){var y=e(78803);G.exports=function(a,L){L.surfacecolor?y(a,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):y(a,L,{vals:L.z,containerStr:"",cLetter:"c"})}},43768:function(G,H,e){var y=e(9330).gl_surface3d,P=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,L=e(824),M=e(43907),v=e(71828).isArrayOrTypedArray,p=e(81697).parseColorScale,r=e(78614),t=e(21081).extractOpts;function o(i,E,m){this.scene=i,this.uid=m,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=o.prototype;n.getXat=function(i,E,m,k){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[E][i]:this.data.x[i]:i;return m===void 0?I:k.d2l(I,0,m)},n.getYat=function(i,E,m,k){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[E][i]:this.data.y[E]:E;return m===void 0?I:k.d2l(I,0,m)},n.getZat=function(i,E,m,k){var I=this.data.z[E][i];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[E][i]),m===void 0?I:k.d2l(I,0,m)},n.handlePick=function(i){if(i.object===this.surface){var E=(i.data.index[0]-1)/this.dataScaleX-1,m=(i.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(m),this.data._ylength-1),0);i.index=[k,I],i.traceCoordinate=[this.getXat(k,I),this.getYat(k,I),this.getZat(k,I)],i.dataCoordinate=[this.getXat(k,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var U=0;U<3;U++){var z=i.dataCoordinate[U];z!=null&&(i.dataCoordinate[U]*=this.scene.dataScale[U])}var F=this.data.hovertext||this.data.text;return v(F)&&F[I]&&F[I][k]!==void 0?i.textLabel=F[I][k]:F?i.textLabel=F:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function c(i){var E=i[0].rgb,m=i[i.length-1].rgb;return E[0]===m[0]&&E[1]===m[1]&&E[2]===m[2]&&E[3]===m[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(i,E){if(i<E)return 0;for(var m=0;Math.floor(i%E)===0;)i/=E,m++;return m}function g(i){for(var E=[],m=0;m<u.length;m++){var k=u[m];E.push(l(i,k))}return E}function f(i){for(var E=g(i),m=i,k=0;k<u.length;k++)if(E[k]>0){m=u[k];break}return m}function T(i,E){if(!(i<1||E<1)){for(var m=g(i),k=g(E),I=1,U=0;U<u.length;U++)I*=Math.pow(u[U],Math.max(m[U],k[U]));return I}}function h(i){if(i.length!==0){for(var E=1,m=0;m<i.length;m++)E=T(E,i[m]);return E}}n.calcXnums=function(i){var E,m=[];for(E=1;E<i;E++){var k=this.getXat(E-1,0),I=this.getXat(E,0);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?m[E-1]=Math.abs(I-k):m[E-1]=0}var U=0;for(E=1;E<i;E++)U+=m[E-1];for(E=1;E<i;E++)m[E-1]===0?m[E-1]=1:m[E-1]=Math.round(U/m[E-1]);return m},n.calcYnums=function(i){var E,m=[];for(E=1;E<i;E++){var k=this.getYat(0,E-1),I=this.getYat(0,E);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?m[E-1]=Math.abs(I-k):m[E-1]=0}var U=0;for(E=1;E<i;E++)U+=m[E-1];for(E=1;E<i;E++)m[E-1]===0?m[E-1]=1:m[E-1]=Math.round(U/m[E-1]);return m};var s=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=s[9],A=s[13];n.estimateScale=function(i,E){for(var m=E===0?this.calcXnums(i):this.calcYnums(i),k=1+h(m);k<d;)k*=2;for(;k>A;)k--,k/=f(k),k++,k<d&&(k=A);var I=Math.round(k/i);return I>1?I:1};function w(i,E,m){var k=m[8]+m[2]*E[0]+m[5]*E[1];return i[0]=(m[6]+m[0]*E[0]+m[3]*E[1])/k,i[1]=(m[7]+m[1]*E[0]+m[4]*E[1])/k,i}function C(i,E,m){return b(i,E,w,m),i}function b(i,E,m,k){for(var I=[0,0],U=i.shape[0],z=i.shape[1],F=0;F<U;F++)for(var B=0;B<z;B++)m(I,[F,B],k),i.set(F,B,a(E,I[0],I[1]));return i}n.refineCoords=function(i){for(var E=this.dataScaleX,m=this.dataScaleY,k=i[0].shape[0],I=i[0].shape[1],U=Math.floor(i[0].shape[0]*E+1)|0,z=Math.floor(i[0].shape[1]*m+1)|0,F=1+k+1,B=1+I+1,O=P(new Float32Array(F*B),[F,B]),N=[1/E,0,0,0,1/m,0,0,0,1],Y=0;Y<i.length;++Y){this.surface.padField(O,i[Y]);var $=P(new Float32Array(U*z),[U,z]);C($,O,N),i[Y]=$}};function S(i,E){for(var m=!1,k=0;k<i.length;k++)if(E===i[k]){m=!0;break}m===!1&&i.push(E)}n.setContourLevels=function(){var i=[[],[],[]],E=[!1,!1,!1],m=!1,k,I,U;for(k=0;k<3;++k)if(this.showContour[k]&&(m=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(E[k]=!0,I=this.contourStart[k];I<this.contourEnd[k];I+=this.contourSize[k])U=I*this.scene.dataScale[k],S(i[k],U);if(m){var z=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(z[k]=E[k]?i[k]:this.scene.contourLevels[k]);this.surface.update({levels:z})}},n.update=function(i){var E=this.scene,m=E.fullSceneLayout,k=this.surface,I=p(i),U=E.dataScale,z=i.z[0].length,F=i._ylength,B=E.contourLevels;this.data=i;var O,N,Y,$,te=[];for(O=0;O<3;O++)for(te[O]=[],N=0;N<z;N++)te[O][N]=[];for(N=0;N<z;N++)for(Y=0;Y<F;Y++)te[0][N][Y]=this.getXat(N,Y,i.xcalendar,m.xaxis),te[1][N][Y]=this.getYat(N,Y,i.ycalendar,m.yaxis),te[2][N][Y]=this.getZat(N,Y,i.zcalendar,m.zaxis);if(i.connectgaps)for(i._emptypoints=M(te[2]),L(te[2],i._emptypoints),i._interpolatedZ=[],N=0;N<z;N++)for(i._interpolatedZ[N]=[],Y=0;Y<F;Y++)i._interpolatedZ[N][Y]=te[2][N][Y];for(O=0;O<3;O++)for(N=0;N<z;N++)for(Y=0;Y<F;Y++)$=te[O][N][Y],$==null?te[O][N][Y]=NaN:$=te[O][N][Y]*=U[O];for(O=0;O<3;O++)for(N=0;N<z;N++)for(Y=0;Y<F;Y++)$=te[O][N][Y],$!=null&&(this.minValues[O]>$&&(this.minValues[O]=$),this.maxValues[O]<$&&(this.maxValues[O]=$));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(N=0;N<z;N++)for(Y=0;Y<F;Y++)$=te[O][N][Y],$!=null&&(te[O][N][Y]-=this.objectOffset[O]);var ie=[P(new Float32Array(z*F),[z,F]),P(new Float32Array(z*F),[z,F]),P(new Float32Array(z*F),[z,F])];for(O=0;O<3;O++)for(N=0;N<z;N++)for(Y=0;Y<F;Y++)ie[O].set(N,Y,te[O][N][Y]);te=[];var ce={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},J=t(i);if(ce.intensityBounds=[J.min,J.max],i.surfacecolor){var Z=P(new Float32Array(z*F),[z,F]);for(N=0;N<z;N++)for(Y=0;Y<F;Y++)Z.set(N,Y,i.surfacecolor[Y][N]);ie.push(Z)}else ce.intensityBounds[0]*=U[2],ce.intensityBounds[1]*=U[2];(A<ie[0].shape[0]||A<ie[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ie[0].shape[0],0),this.dataScaleY=this.estimateScale(ie[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ie)),i.surfacecolor&&(ce.intensity=ie.pop());var ae=[!0,!0,!0],j=["x","y","z"];for(O=0;O<3;++O){var q=i.contours[j[O]];ae[O]=q.highlight,ce.showContour[O]=q.show||q.highlight,ce.showContour[O]&&(ce.contourProject[O]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[O]=!0,ce.levels[O]=B[O],k.highlightColor[O]=ce.contourColor[O]=r(q.color),q.usecolormap?k.highlightTint[O]=ce.contourTint[O]=0:k.highlightTint[O]=ce.contourTint[O]=1,ce.contourWidth[O]=q.width,this.contourStart[O]=q.start,this.contourEnd[O]=q.end,this.contourSize[O]=q.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),q.highlight&&(ce.dynamicColor[O]=r(q.highlightcolor),ce.dynamicWidth[O]=q.highlightwidth))}c(I)&&(ce.vertexColor=!0),ce.objectOffset=this.objectOffset,ce.coords=ie,k.update(ce),k.visible=i.visible,k.enableDynamic=ae,k.enableHighlight=ae,k.snapToData=!0,"lighting"in i&&(k.ambientLight=i.lighting.ambient,k.diffuseLight=i.lighting.diffuse,k.specularLight=i.lighting.specular,k.roughness=i.lighting.roughness,k.fresnel=i.lighting.fresnel),"lightposition"in i&&(k.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function x(i,E){var m=i.glplot.gl,k=y({gl:m}),I=new o(i,k,E.uid);return k._trace=I,I.update(E),i.glplot.add(k),I}G.exports=x},91831:function(G,H,e){var y=e(73972),P=e(71828),a=e(1586),L=e(54532),M=.1;function v(n,c){for(var u=[],l=32,g=0;g<l;g++){var f=g/(l-1),T=c+(1-c)*(1-Math.pow(Math.sin(n*f*Math.PI),2));u.push([f,Math.max(0,Math.min(1,T))])}return u}function p(n){var c=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<c)return!1;c=+l[0]}return!0}function r(n,c,u,l){var g,f;function T(i,E){return P.coerce(n,c,L,i,E)}var h=T("x"),s=T("y"),d=T("z");if(!d||!d.length||h&&h.length<1||s&&s.length<1){c.visible=!1;return}c._xlength=Array.isArray(h)&&P.isArrayOrTypedArray(h[0])?d.length:d[0].length,c._ylength=d.length;var A=y.getComponentMethod("calendars","handleTraceDefaults");A(n,c,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){T(i)});var w=T("surfacecolor"),C=["x","y","z"];for(g=0;g<3;++g){var b="contours."+C[g],S=T(b+".show"),x=T(b+".highlight");if(S||x)for(f=0;f<3;++f)T(b+".project."+C[f]);S&&(T(b+".color"),T(b+".width"),T(b+".usecolormap")),x&&(T(b+".highlightcolor"),T(b+".highlightwidth")),T(b+".start"),T(b+".end"),T(b+".size")}w||(o(n,"zmin","cmin"),o(n,"zmax","cmax"),o(n,"zauto","cauto")),a(n,c,l,T,{prefix:"",cLetter:"c"}),t(n,c,l,T),c._length=null}function t(n,c,u,l){var g=l("opacityscale");g==="max"?c.opacityscale=[[0,M],[1,1]]:g==="min"?c.opacityscale=[[0,1],[1,M]]:g==="extremes"?c.opacityscale=v(1,M):p(g)||(c.opacityscale=void 0)}function o(n,c,u){c in n&&!(u in n)&&(n[u]=n[c])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},93601:function(G,H,e){G.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(G,H,e){var y=e(50215),P=e(1426).extendFlat,a=e(30962).overrideAll,L=e(41940),M=e(27670).Y,v=e(12663).descriptionOnlyNumbers,p=G.exports=a({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},99469:function(G,H,e){var y=e(27659).a0,P=e(36736),a="table";H.name=a,H.plot=function(L){var M=y(L.calcdata,a)[0];M.length&&P(L,M)},H.clean=function(L,M,v,p){var r=p._has&&p._has(a),t=M._has&&M._has(a);r&&!t&&p._paperdiv.selectAll(".table").remove()}},76333:function(G,H,e){var y=e(28984).wrap;G.exports=function(){return y({})}},49850:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(G,H,e){var y=e(49850),P=e(1426).extendFlat,a=e(92770),L=e(73627).isTypedArray,M=e(73627).isArrayOrTypedArray;G.exports=function(g,f){var T=r(f.cells.values),h=function($){return $.slice(f.header.values.length,$.length)},s=r(f.header.values);s.length&&!s[0].length&&(s[0]=[""],s=r(s));var d=s.concat(h(T).map(function(){return t((s[0]||[""]).length)})),A=f.domain,w=Math.floor(g._fullLayout._size.w*(A.x[1]-A.x[0])),C=Math.floor(g._fullLayout._size.h*(A.y[1]-A.y[0])),b=f.header.values.length?d[0].map(function(){return f.header.height}):[y.emptyHeaderHeight],S=T.length?T[0].map(function(){return f.cells.height}):[],x=b.reduce(p,0),i=C-x,E=i+y.uplift,m=c(S,E),k=c(b,x),I=n(k,[]),U=n(m,I),z={},F=f._fullInput.columnorder;M(F)&&(F=Array.from(F)),F=F.concat(h(T.map(function($,te){return te})));var B=d.map(function($,te){var ie=M(f.columnwidth)?f.columnwidth[Math.min(te,f.columnwidth.length-1)]:f.columnwidth;return a(ie)?Number(ie):1}),O=B.reduce(p,0);B=B.map(function($){return $/O*w});var N=Math.max(v(f.header.line.width),v(f.cells.line.width)),Y={key:f.uid+g._context.staticPlot,translateX:A.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-A.y[1]),size:g._fullLayout._size,width:w,maxLineWidth:N,height:C,columnOrder:F,groupHeight:C,rowBlocks:U,headerRowBlocks:I,scrollY:0,cells:P({},f.cells,{values:T}),headerCells:P({},f.header,{values:d}),gdColumns:d.map(function($){return $[0]}),gdColumnsOriginalOrder:d.map(function($){return $[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function($,te){var ie=z[$];z[$]=(ie||0)+1;var ce=$+"__"+z[$];return{key:ce,label:$,specIndex:te,xIndex:F[te],xScale:o,x:void 0,calcdata:void 0,columnWidth:B[te]}})};return Y.columns.forEach(function($){$.calcdata=Y,$.x=o($)}),Y};function v(l){if(M(l)){for(var g=0,f=0;f<l.length;f++)g=Math.max(g,v(l[f]));return g}return l}function p(l,g){return l+g}function r(l){var g=l.slice(),f=1/0,T=0,h;for(h=0;h<g.length;h++)L(g[h])?g[h]=Array.from(g[h]):M(g[h])||(g[h]=[g[h]]),f=Math.min(f,g[h].length),T=Math.max(T,g[h].length);if(f!==T)for(h=0;h<g.length;h++){var s=T-g[h].length;s&&(g[h]=g[h].concat(t(s)))}return g}function t(l){for(var g=new Array(l),f=0;f<l;f++)g[f]="";return g}function o(l){return l.calcdata.columns.reduce(function(g,f){return f.xIndex<l.xIndex?g+f.columnWidth:g},0)}function n(l,g){var f=Object.keys(l);return f.map(function(T){return P({},l[T],{auxiliaryBlocks:g})})}function c(l,g){for(var f={},T,h=0,s=0,d=u(),A=0,w=0,C=0;C<l.length;C++)T=l[C],d.rows.push({rowIndex:C,rowHeight:T}),s+=T,(s>=g||C===l.length-1)&&(f[h]=d,d.key=w++,d.firstRowIndex=A,d.lastRowIndex=C,d=u(),h+=s,A=C+1,s=0);return f}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(G,H,e){var y=e(1426).extendFlat;H.splitToPanels=function(a){var L=[0,0],M=y({},a,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:y({},a.calcdata,{cells:a.calcdata.headerCells})}),v=y({},a,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),p=y({},a,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,p,M]},H.splitToCells=function(a){var L=P(a);return(a.values||[]).slice(L[0],L[1]).map(function(M,v){var p=typeof M=="string"&&M.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:M}})};function P(a){var L=a.rowBlocks[a.page],M=L?L.rows[0].rowIndex:0,v=L?M+L.rows.length:0;return[M,v]}},39754:function(G,H,e){var y=e(71828),P=e(44464),a=e(27670).c;function L(M,v){for(var p=M.columnorder||[],r=M.header.values.length,t=p.slice(0,r),o=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return o.indexOf(u)}),c=n.length;c<r;c++)n.push(c);v("columnorder",n)}G.exports=function(v,p,r,t){function o(n,c){return y.coerce(v,p,P,n,c)}a(p,t,o),o("columnwidth"),o("header.values"),o("header.format"),o("header.align"),o("header.prefix"),o("header.suffix"),o("header.height"),o("header.line.width"),o("header.line.color"),o("header.fill.color"),y.coerceFont(o,"header.font",y.extendFlat({},t.font)),L(p,o),o("cells.values"),o("cells.format"),o("cells.align"),o("cells.prefix"),o("cells.suffix"),o("cells.height"),o("cells.line.width"),o("cells.line.color"),o("cells.fill.color"),y.coerceFont(o,"cells.font",y.extendFlat({},t.font)),p._length=null}},96595:function(G,H,e){G.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(G,H,e){var y=e(49850),P=e(39898),a=e(71828),L=a.numberFormat,M=e(28984),v=e(91424),p=e(63893),r=e(71828).raiseToTop,t=e(71828).strTranslate,o=e(71828).cancelTransition,n=e(51018),c=e(56269),u=e(7901);G.exports=function(se,ne){var fe=!se._context.staticPlot,ye=se._fullLayout._paper.selectAll("."+y.cn.table).data(ne.map(function($e){var et=M.unwrap($e),ct=et.trace;return n(se,ct)}),M.keyFun);ye.exit().remove(),ye.enter().append("g").classed(y.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ye.attr("width",function($e){return $e.width+$e.size.l+$e.size.r}).attr("height",function($e){return $e.height+$e.size.t+$e.size.b}).attr("transform",function($e){return t($e.translateX,$e.translateY)});var Ee=ye.selectAll("."+y.cn.tableControlView).data(M.repeat,M.keyFun),Te=Ee.enter().append("g").classed(y.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var ze="onwheel"in document?"wheel":"mousewheel";Te.on("mousemove",function($e){Ee.filter(function(et){return $e===et}).call(h,se)}).on(ze,function($e){if(!$e.scrollbarState.wheeling){$e.scrollbarState.wheeling=!0;var et=$e.scrollY+P.event.deltaY,ct=$(se,Ee,null,et)($e);ct||(P.event.stopPropagation(),P.event.preventDefault()),$e.scrollbarState.wheeling=!1}}).call(h,se,!0)}Ee.attr("transform",function($e){return t($e.size.l,$e.size.t)});var ke=Ee.selectAll("."+y.cn.scrollBackground).data(M.repeat,M.keyFun);ke.enter().append("rect").classed(y.cn.scrollBackground,!0).attr("fill","none"),ke.attr("width",function($e){return $e.width}).attr("height",function($e){return $e.height}),Ee.each(function($e){v.setClipUrl(P.select(this),g(se,$e),se)});var Se=Ee.selectAll("."+y.cn.yColumn).data(function($e){return $e.columns},M.keyFun);Se.enter().append("g").classed(y.cn.yColumn,!0),Se.exit().remove(),Se.attr("transform",function($e){return t($e.x,0)}),fe&&Se.call(P.behavior.drag().origin(function($e){var et=P.select(this);return z(et,$e,-y.uplift),r(this),$e.calcdata.columnDragInProgress=!0,h(Ee.filter(function(ct){return $e.calcdata.key===ct.key}),se),$e}).on("drag",function($e){var et=P.select(this),ct=function(At){return($e===At?P.event.x:At.x)+At.columnWidth/2};$e.x=Math.max(-y.overdrag,Math.min($e.calcdata.width+y.overdrag-$e.columnWidth,P.event.x));var dt=T(Se).filter(function(At){return At.calcdata.key===$e.calcdata.key}),gt=dt.sort(function(At,Rt){return ct(At)-ct(Rt)});gt.forEach(function(At,Rt){At.xIndex=Rt,At.x=$e===At?At.x:At.xScale(At)}),Se.filter(function(At){return $e!==At}).transition().ease(y.transitionEase).duration(y.transitionDuration).attr("transform",function(At){return t(At.x,0)}),et.call(o).attr("transform",t($e.x,-y.uplift))}).on("dragend",function($e){var et=P.select(this),ct=$e.calcdata;$e.x=$e.xScale($e),$e.calcdata.columnDragInProgress=!1,z(et,$e,0),I(se,ct,ct.columns.map(function(dt){return dt.xIndex}))})),Se.each(function($e){v.setClipUrl(P.select(this),f(se,$e),se)});var me=Se.selectAll("."+y.cn.columnBlock).data(c.splitToPanels,M.keyFun);me.enter().append("g").classed(y.cn.columnBlock,!0).attr("id",function($e){return $e.key}),me.style("cursor",function($e){return $e.dragHandle?"ew-resize":$e.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ce=me.filter(B),Ne=me.filter(F);fe&&Ne.call(P.behavior.drag().origin(function($e){return P.event.stopPropagation(),$e}).on("drag",$(se,Ee,-1)).on("dragend",function(){})),s(se,Ee,Ce,me),s(se,Ee,Ne,me);var He=Ee.selectAll("."+y.cn.scrollAreaClip).data(M.repeat,M.keyFun);He.enter().append("clipPath").classed(y.cn.scrollAreaClip,!0).attr("id",function($e){return g(se,$e)});var De=He.selectAll("."+y.cn.scrollAreaClipRect).data(M.repeat,M.keyFun);De.enter().append("rect").classed(y.cn.scrollAreaClipRect,!0).attr("x",-y.overdrag).attr("y",-y.uplift).attr("fill","none"),De.attr("width",function($e){return $e.width+2*y.overdrag}).attr("height",function($e){return $e.height+y.uplift});var Ve=Se.selectAll("."+y.cn.columnBoundary).data(M.repeat,M.keyFun);Ve.enter().append("g").classed(y.cn.columnBoundary,!0);var at=Se.selectAll("."+y.cn.columnBoundaryClippath).data(M.repeat,M.keyFun);at.enter().append("clipPath").classed(y.cn.columnBoundaryClippath,!0),at.attr("id",function($e){return f(se,$e)});var lt=at.selectAll("."+y.cn.columnBoundaryRect).data(M.repeat,M.keyFun);lt.enter().append("rect").classed(y.cn.columnBoundaryRect,!0).attr("fill","none"),lt.attr("width",function($e){return $e.columnWidth+2*l($e)}).attr("height",function($e){return $e.calcdata.height+2*l($e)+y.uplift}).attr("x",function($e){return-l($e)}).attr("y",function($e){return-l($e)}),Y(null,Ne,Ee)};function l(K){return Math.ceil(K.calcdata.maxLineWidth/2)}function g(K,se){return"clip"+K._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function f(K,se){return"clip"+K._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T(K){return[].concat.apply([],K.map(function(se){return se})).map(function(se){return se.__data__})}function h(K,se,ne){function fe(Se){var me=Se.rowBlocks;return ae(me,me.length-1)+(me.length?j(me[me.length-1],1/0):1)}var ye=K.selectAll("."+y.cn.scrollbarKit).data(M.repeat,M.keyFun);ye.enter().append("g").classed(y.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ye.each(function(Se){var me=Se.scrollbarState;me.totalHeight=fe(Se),me.scrollableAreaHeight=Se.groupHeight-O(Se),me.currentlyVisibleHeight=Math.min(me.totalHeight,me.scrollableAreaHeight),me.ratio=me.currentlyVisibleHeight/me.totalHeight,me.barLength=Math.max(me.ratio*me.currentlyVisibleHeight,y.goldenRatio*y.scrollbarWidth),me.barWiggleRoom=me.currentlyVisibleHeight-me.barLength,me.wiggleRoom=Math.max(0,me.totalHeight-me.scrollableAreaHeight),me.topY=me.barWiggleRoom===0?0:Se.scrollY/me.wiggleRoom*me.barWiggleRoom,me.bottomY=me.topY+me.barLength,me.dragMultiplier=me.wiggleRoom/me.barWiggleRoom}).attr("transform",function(Se){var me=Se.width+y.scrollbarWidth/2+y.scrollbarOffset;return t(me,O(Se))});var Ee=ye.selectAll("."+y.cn.scrollbar).data(M.repeat,M.keyFun);Ee.enter().append("g").classed(y.cn.scrollbar,!0);var Te=Ee.selectAll("."+y.cn.scrollbarSlider).data(M.repeat,M.keyFun);Te.enter().append("g").classed(y.cn.scrollbarSlider,!0),Te.attr("transform",function(Se){return t(0,Se.scrollbarState.topY||0)});var ze=Te.selectAll("."+y.cn.scrollbarGlyph).data(M.repeat,M.keyFun);ze.enter().append("line").classed(y.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",y.scrollbarWidth).attr("stroke-linecap","round").attr("y1",y.scrollbarWidth/2),ze.attr("y2",function(Se){return Se.scrollbarState.barLength-y.scrollbarWidth/2}).attr("stroke-opacity",function(Se){return Se.columnDragInProgress||!Se.scrollbarState.barWiggleRoom||ne?0:.4}),ze.transition().delay(0).duration(0),ze.transition().delay(y.scrollbarHideDelay).duration(y.scrollbarHideDuration).attr("stroke-opacity",0);var ke=Ee.selectAll("."+y.cn.scrollbarCaptureZone).data(M.repeat,M.keyFun);ke.enter().append("line").classed(y.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",y.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Se){var me=P.event.y,Ce=this.getBoundingClientRect(),Ne=Se.scrollbarState,He=me-Ce.top,De=P.scale.linear().domain([0,Ne.scrollableAreaHeight]).range([0,Ne.totalHeight]).clamp(!0);Ne.topY<=He&&He<=Ne.bottomY||$(se,K,null,De(He-Ne.barLength/2))(Se)}).call(P.behavior.drag().origin(function(Se){return P.event.stopPropagation(),Se.scrollbarState.scrollbarScrollInProgress=!0,Se}).on("drag",$(se,K)).on("dragend",function(){})),ke.attr("y2",function(Se){return Se.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(ze.remove(),ke.remove())}function s(K,se,ne,fe){var ye=d(ne),Ee=A(ye);S(Ee);var Te=w(Ee);i(Te);var ze=b(Ee),ke=C(ze);x(ke),E(ke,se,fe,K),Z(Ee)}function d(K){var se=K.selectAll("."+y.cn.columnCells).data(M.repeat,M.keyFun);return se.enter().append("g").classed(y.cn.columnCells,!0),se.exit().remove(),se}function A(K){var se=K.selectAll("."+y.cn.columnCell).data(c.splitToCells,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(y.cn.columnCell,!0),se.exit().remove(),se}function w(K){var se=K.selectAll("."+y.cn.cellRect).data(M.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("rect").classed(y.cn.cellRect,!0),se}function C(K){var se=K.selectAll("."+y.cn.cellText).data(M.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("text").classed(y.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function b(K){var se=K.selectAll("."+y.cn.cellTextHolder).data(M.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(y.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function S(K){K.each(function(se,ne){var fe=se.calcdata.cells.font,ye=se.column.specIndex,Ee={size:U(fe.size,ye,ne),color:U(fe.color,ye,ne),family:U(fe.family,ye,ne)};se.rowNumber=se.key,se.align=U(se.calcdata.cells.align,ye,ne),se.cellBorderWidth=U(se.calcdata.cells.line.width,ye,ne),se.font=Ee})}function x(K){K.each(function(se){v.font(P.select(this),se.font)})}function i(K){K.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ne=P.select(this);u.stroke(ne,U(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),u.fill(ne,U(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function E(K,se,ne,fe){K.text(function(ye){var Ee=ye.column.specIndex,Te=ye.rowNumber,ze=ye.value,ke=typeof ze=="string",Se=ke&&ze.match(/<br>/i),me=!ke||Se;ye.mayHaveMarkup=ke&&ze.match(/[<&>]/);var Ce=m(ze);ye.latex=Ce;var Ne=Ce?"":U(ye.calcdata.cells.prefix,Ee,Te)||"",He=Ce?"":U(ye.calcdata.cells.suffix,Ee,Te)||"",De=Ce?null:U(ye.calcdata.cells.format,Ee,Te)||null,Ve=Ne+(De?L(De)(ye.value):ye.value)+He,at;ye.wrappingNeeded=!ye.wrapped&&!me&&!Ce&&(at=k(Ve)),ye.cellHeightMayIncrease=Se||Ce||ye.mayHaveMarkup||(at===void 0?k(Ve):at),ye.needsConvertToTspans=ye.mayHaveMarkup||ye.wrappingNeeded||ye.latex;var lt;if(ye.wrappingNeeded){var $e=y.wrapSplitCharacter===" "?Ve.replace(/<a href=/ig,"<a_href="):Ve,et=$e.split(y.wrapSplitCharacter),ct=y.wrapSplitCharacter===" "?et.map(function(dt){return dt.replace(/<a_href=/ig,"<a href=")}):et;ye.fragments=ct.map(function(dt){return{text:dt,width:null}}),ye.fragments.push({fragment:y.wrapSpacer,width:null}),lt=ct.join(y.lineBreaker)+y.lineBreaker+y.wrapSpacer}else delete ye.fragments,lt=Ve;return lt}).attr("dy",function(ye){return ye.needsConvertToTspans?0:"0.75em"}).each(function(ye){var Ee=this,Te=P.select(Ee),ze=ye.wrappingNeeded?ie:ce;ye.needsConvertToTspans?p.convertToTspans(Te,fe,ze(ne,Ee,se,fe,ye)):P.select(Ee.parentNode).attr("transform",function(ke){return t(J(ke),y.cellPad)}).attr("text-anchor",function(ke){return{left:"start",center:"middle",right:"end"}[ke.align]})})}function m(K){return typeof K=="string"&&K.match(y.latexCheck)}function k(K){return K.indexOf(y.wrapSplitCharacter)!==-1}function I(K,se,ne){var fe=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ye,Ee){return ne[fe.indexOf(ye)]-ne[fe.indexOf(Ee)]}),se.columnorder=ne,K.emit("plotly_restyle")}function U(K,se,ne){if(a.isArrayOrTypedArray(K)){var fe=K[Math.min(se,K.length-1)];return a.isArrayOrTypedArray(fe)?fe[Math.min(ne,fe.length-1)]:fe}else return K}function z(K,se,ne){K.transition().ease(y.releaseTransitionEase).duration(y.releaseTransitionDuration).attr("transform",t(se.x,ne))}function F(K){return K.type==="cells"}function B(K){return K.type==="header"}function O(K){var se=K.rowBlocks.length?K.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ne,fe){return ne+j(fe,1/0)},0)}function N(K,se,ne){for(var fe=[],ye=0,Ee=0;Ee<K.length;Ee++){for(var Te=K[Ee],ze=Te.rows,ke=0,Se=0;Se<ze.length;Se++)ke+=ze[Se].rowHeight;Te.allRowsHeight=ke;var me=ye+ke,Ce=se,Ne=Ce+ne;Ce<me&&Ne>ye&&fe.push(Ee),ye+=ke}return fe}function Y(K,se,ne){var fe=T(se)[0];if(fe!==void 0){var ye=fe.rowBlocks,Ee=fe.calcdata,Te=ae(ye,ye.length),ze=fe.calcdata.groupHeight-O(fe),ke=Ee.scrollY=Math.max(0,Math.min(Te-ze,Ee.scrollY)),Se=N(ye,ke,ze);Se.length===1&&(Se[0]===ye.length-1?Se.unshift(Se[0]-1):Se.push(Se[0]+1)),Se[0]%2&&Se.reverse(),se.each(function(me,Ce){me.page=Se[Ce],me.scrollY=ke}),se.attr("transform",function(me){var Ce=ae(me.rowBlocks,me.page)-me.scrollY;return t(0,Ce)}),K&&(te(K,ne,se,Se,fe.prevPages,fe,0),te(K,ne,se,Se,fe.prevPages,fe,1),h(ne,K))}}function $(K,se,ne,fe){return function(Ee){var Te=Ee.calcdata?Ee.calcdata:Ee,ze=se.filter(function(Ce){return Te.key===Ce.key}),ke=ne||Te.scrollbarState.dragMultiplier,Se=Te.scrollY;Te.scrollY=fe===void 0?Te.scrollY+ke*P.event.dy:fe;var me=ze.selectAll("."+y.cn.yColumn).selectAll("."+y.cn.columnBlock).filter(F);return Y(K,me,ze),Te.scrollY===Se}}function te(K,se,ne,fe,ye,Ee,Te){var ze=fe[Te]!==ye[Te];ze&&(clearTimeout(Ee.currentRepaint[Te]),Ee.currentRepaint[Te]=setTimeout(function(){var ke=ne.filter(function(Se,me){return me===Te&&fe[me]!==ye[me]});s(K,se,ke,ne),ye[Te]=fe[Te]}))}function ie(K,se,ne,fe){return function(){var Ee=P.select(se.parentNode);Ee.each(function(Te){var ze=Te.fragments;Ee.selectAll("tspan.line").each(function(Ve,at){ze[at].width=this.getComputedTextLength()});var ke=ze[ze.length-1].width,Se=ze.slice(0,-1),me=[],Ce,Ne,He=0,De=Te.column.columnWidth-2*y.cellPad;for(Te.value="";Se.length;)Ce=Se.shift(),Ne=Ce.width+ke,He+Ne>De&&(Te.value+=me.join(y.wrapSpacer)+y.lineBreaker,me=[],He=0),me.push(Ce.text),He+=Ne;He&&(Te.value+=me.join(y.wrapSpacer)),Te.wrapped=!0}),Ee.selectAll("tspan.line").remove(),E(Ee.select("."+y.cn.cellText),ne,K,fe),P.select(se.parentNode.parentNode).call(Z)}}function ce(K,se,ne,fe,ye){return function(){if(!ye.settledY){var Te=P.select(se.parentNode),ze=oe(ye),ke=ye.key-ze.firstRowIndex,Se=ze.rows[ke].rowHeight,me=ye.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*y.cellPad:Se,Ce=Math.max(me,Se),Ne=Ce-ze.rows[ke].rowHeight;Ne&&(ze.rows[ke].rowHeight=Ce,K.selectAll("."+y.cn.columnCell).call(Z),Y(null,K.filter(F),0),h(ne,fe,!0)),Te.attr("transform",function(){var He=this,De=He.parentNode,Ve=De.getBoundingClientRect(),at=P.select(He.parentNode).select("."+y.cn.cellRect).node().getBoundingClientRect(),lt=He.transform.baseVal.consolidate(),$e=at.top-Ve.top+(lt?lt.matrix.f:y.cellPad);return t(J(ye,P.select(He.parentNode).select("."+y.cn.cellTextHolder).node().getBoundingClientRect().width),$e)}),ye.settledY=!0}}}function J(K,se){switch(K.align){case"left":return y.cellPad;case"right":return K.column.columnWidth-(se||0)-y.cellPad;case"center":return(K.column.columnWidth-(se||0))/2;default:return y.cellPad}}function Z(K){K.attr("transform",function(se){var ne=se.rowBlocks[0].auxiliaryBlocks.reduce(function(Te,ze){return Te+j(ze,1/0)},0),fe=oe(se),ye=j(fe,se.key),Ee=ye+ne;return t(0,Ee)}).selectAll("."+y.cn.cellRect).attr("height",function(se){return Q(oe(se),se.key).rowHeight})}function ae(K,se){for(var ne=0,fe=se-1;fe>=0;fe--)ne+=q(K[fe]);return ne}function j(K,se){for(var ne=0,fe=0;fe<K.rows.length&&K.rows[fe].rowIndex<se;fe++)ne+=K.rows[fe].rowHeight;return ne}function q(K){var se=K.allRowsHeight;if(se!==void 0)return se;for(var ne=0,fe=0;fe<K.rows.length;fe++)ne+=K.rows[fe].rowHeight;return K.allRowsHeight=ne,ne}function oe(K){return K.rowBlocks[K.page]}function Q(K,se){return K.rows[se-K.firstRowIndex]}},45802:function(G,H,e){var y=e(5386).fF,P=e(5386).si,a=e(50693),L=e(27670).Y,M=e(34e3),v=e(57564),p=e(43473),r=e(1426).extendFlat,t=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:y({},{keys:p.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:r({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},78018:function(G,H,e){var y=e(74875);H.name="treemap",H.plot=function(P,a,L,M){y.plotBasePlot(H.name,P,a,L,M)},H.clean=function(P,a,L,M){y.cleanBasePlot(H.name,P,a,L,M)}},65039:function(G,H,e){var y=e(52147);H.y=function(P,a){return y.calc(P,a)},H.T=function(P){return y._runCrossTraceCalc("treemap",P)}},43473:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(G,H,e){var y=e(71828),P=e(45802),a=e(7901),L=e(27670).c,M=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,r=e(21081),t=r.hasColorscale,o=r.handleDefaults;G.exports=function(c,u,l,g){function f(i,E){return y.coerce(c,u,P,i,E)}var T=f("labels"),h=f("parents");if(!T||!T.length||!h||!h.length){u.visible=!1;return}var s=f("values");s&&s.length?f("branchvalues"):f("count"),f("level"),f("maxdepth");var d=f("tiling.packing");d==="squarify"&&f("tiling.squarifyratio"),f("tiling.flip"),f("tiling.pad");var A=f("text");f("texttemplate"),u.texttemplate||f("textinfo",y.isArrayOrTypedArray(A)?"text+label":"label"),f("hovertext"),f("hovertemplate");var w=f("pathbar.visible"),C="auto";M(c,u,g,f,C,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition");var b=u.textposition.indexOf("bottom")!==-1;p(c,u,g,f);var S=u._hasColorscale=t(c,"marker","colors")||(c.marker||{}).coloraxis;S?o(c,u,g,f,{prefix:"marker.",cLetter:"c"}):f("marker.depthfade",!(u.marker.colors||[]).length);var x=u.textfont.size*2;f("marker.pad.t",b?x/4:x),f("marker.pad.l",x/4),f("marker.pad.r",x/4),f("marker.pad.b",b?x:x/4),f("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:a.contrast(g.paper_bgcolor)}}},w&&(f("pathbar.thickness",u.pathbar.textfont.size+2*v),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),L(u,g,f),u._length=null}},80694:function(G,H,e){var y=e(39898),P=e(2791),a=e(72597),L=a.clearMinTextSize,M=e(16688).resizeText,v=e(46650);G.exports=function(r,t,o,n,c){var u=c.type,l=c.drawDescendants,g=r._fullLayout,f=g["_"+u+"layer"],T,h,s=!o;if(L(u,g),T=f.selectAll("g.trace."+u).data(t,function(A){return A[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(u,!0),T.order(),!g.uniformtext.mode&&P.hasTransition(o)){n&&(h=n());var d=y.transition().duration(o.duration).ease(o.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});d.each(function(){f.selectAll("g.trace").each(function(A){v(r,A,this,o,l)})})}else T.each(function(A){v(r,A,this,o,l)}),g.uniformtext.mode&&M(r,f.selectAll(".trace"),u);s&&T.exit().remove()}},66209:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(63893),M=e(37210),v=e(96362).styleOne,p=e(43473),r=e(2791),t=e(83523),o=!0;G.exports=function(c,u,l,g,f){var T=f.barDifY,h=f.width,s=f.height,d=f.viewX,A=f.viewY,w=f.pathSlice,C=f.toMoveInsideSlice,b=f.strTransform,S=f.hasTransition,x=f.handleSlicesExit,i=f.makeUpdateSliceInterpolator,E=f.makeUpdateTextInterpolator,m={},k=c._context.staticPlot,I=c._fullLayout,U=u[0],z=U.trace,F=U.hierarchy,B=h/z._entryDepth,O=r.listPath(l.data,"id"),N=M(F.copy(),[h,s],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();N=N.filter(function($){var te=O.indexOf($.data.id);return te===-1?!1:($.x0=B*te,$.x1=B*(te+1),$.y0=T,$.y1=T+s,$.onPathbar=!0,!0)}),N.reverse(),g=g.data(N,r.getPtId),g.enter().append("g").classed("pathbar",!0),x(g,o,m,[h,s],w),g.order();var Y=g;S&&(Y=Y.transition().each("end",function(){var $=y.select(this);r.setSliceCursor($,c,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function($){$._x0=d($.x0),$._x1=d($.x1),$._y0=A($.y0),$._y1=A($.y1),$._hoverX=d($.x1-Math.min(h,s)/2),$._hoverY=A($.y1-s/2);var te=y.select(this),ie=P.ensureSingle(te,"path","surface",function(ae){ae.style("pointer-events",k?"none":"all")});S?ie.transition().attrTween("d",function(ae){var j=i(ae,o,m,[h,s]);return function(q){return w(j(q))}}):ie.attr("d",w),te.call(t,l,c,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,c,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:c._transitioning}),ie.call(v,$,z,c,{hovered:!1}),$._text=(r.getPtLabel($)||"").split("<br>").join(" ")||"";var ce=P.ensureSingle(te,"g","slicetext"),J=P.ensureSingle(ce,"text","",function(ae){ae.attr("data-notex",1)}),Z=P.ensureUniformFontSize(c,r.determineTextFont(z,$,I.font,{onPathbar:!0}));J.text($._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,Z).call(L.convertToTspans,c),$.textBB=a.bBox(J.node()),$.transform=C($,{fontSize:Z.size,onPathbar:!0}),$.transform.fontSize=Z.size,S?J.transition().attrTween("transform",function(ae){var j=E(ae,o,m,[h,s]);return function(q){return b(j(q))}}):J.attr("transform",b($))})}},52583:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(63893),M=e(37210),v=e(96362).styleOne,p=e(43473),r=e(2791),t=e(83523),o=e(24714).formatSliceLabel,n=!1;G.exports=function(u,l,g,f,T){var h=T.width,s=T.height,d=T.viewX,A=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,b=T.strTransform,S=T.hasTransition,x=T.handleSlicesExit,i=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,m=T.prevEntry,k={},I=u._context.staticPlot,U=u._fullLayout,z=l[0],F=z.trace,B=F.textposition.indexOf("left")!==-1,O=F.textposition.indexOf("right")!==-1,N=F.textposition.indexOf("bottom")!==-1,Y=!N&&!F.marker.pad.t||N&&!F.marker.pad.b,$=M(g,[h,s],{packing:F.tiling.packing,squarifyratio:F.tiling.squarifyratio,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,pad:{inner:F.tiling.pad,top:F.marker.pad.t,left:F.marker.pad.l,right:F.marker.pad.r,bottom:F.marker.pad.b}}),te=$.descendants(),ie=1/0,ce=-1/0;te.forEach(function(q){var oe=q.depth;oe>=F._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(ie=Math.min(ie,oe),ce=Math.max(ce,oe))}),f=f.data(te,r.getPtId),F._maxVisibleLayers=isFinite(ce)?ce-ie+1:0,f.enter().append("g").classed("slice",!0),x(f,n,k,[h,s],w),f.order();var J=null;if(S&&m){var Z=r.getPtId(m);f.each(function(q){J===null&&r.getPtId(q)===Z&&(J={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var ae=function(){return J||{x0:0,x1:h,y0:0,y1:s}},j=f;return S&&(j=j.transition().each("end",function(){var q=y.select(this);r.setSliceCursor(q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(q){var oe=r.isHeader(q,F);q._x0=d(q.x0),q._x1=d(q.x1),q._y0=A(q.y0),q._y1=A(q.y1),q._hoverX=d(q.x1-F.marker.pad.r),q._hoverY=A(N?q.y1-F.marker.pad.b/2:q.y0+F.marker.pad.t/2);var Q=y.select(this),K=P.ensureSingle(Q,"path","surface",function(ye){ye.style("pointer-events",I?"none":"all")});S?K.transition().attrTween("d",function(ye){var Ee=i(ye,n,ae(),[h,s]);return function(Te){return w(Ee(Te))}}):K.attr("d",w),Q.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),K.call(v,q,F,u,{hovered:!1}),q.x0===q.x1||q.y0===q.y1?q._text="":oe?q._text=Y?"":r.getPtLabel(q)||"":q._text=o(q,g,F,l,U)||"";var se=P.ensureSingle(Q,"g","slicetext"),ne=P.ensureSingle(se,"text","",function(ye){ye.attr("data-notex",1)}),fe=P.ensureUniformFontSize(u,r.determineTextFont(F,q,U.font));ne.text(q._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":B||oe?"start":"middle").call(a.font,fe).call(L.convertToTspans,u),q.textBB=a.bBox(ne.node()),q.transform=C(q,{fontSize:fe.size,isHeader:oe}),q.transform.fontSize=fe.size,S?ne.transition().attrTween("transform",function(ye){var Ee=E(ye,n,ae(),[h,s]);return function(Te){return b(Ee(Te))}}):ne.attr("transform",b(q))}),J}},14102:function(G){G.exports=function H(e,y,P){var a;P.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),P.flipX&&(a=e.x0,e.x0=y[0]-e.x1,e.x1=y[0]-a),P.flipY&&(a=e.y0,e.y0=y[1]-e.y1,e.y1=y[1]-a);var L=e.children;if(L)for(var M=0;M<L.length;M++)H(L[M],y,P)}},70954:function(G,H,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(G,H,e){var y=e(71828),P=e(55479);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("treemapcolorway",M.colorway),v("extendtreemapcolors")}},37210:function(G,H,e){var y=e(674),P=e(14102);G.exports=function(M,v,p){var r=p.flipX,t=p.flipY,o=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],c=p.pad[r?"right":"left"],u=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],g;o&&(g=c,c=n,n=g,g=u,u=l,l=g);var f=y.treemap().tile(a(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(c).paddingRight(u).paddingTop(n).paddingBottom(l).size(o?[v[1],v[0]]:v)(M);return(o||r||t)&&P(f,v,{swapXY:o,flipX:r,flipY:t}),f};function a(L,M){switch(L){case"squarify":return y.treemapSquarify.ratio(M);case"binary":return y.treemapBinary;case"dice":return y.treemapDice;case"slice":return y.treemapSlice;default:return y.treemapSliceDice}}},5893:function(G,H,e){var y=e(80694),P=e(52583);G.exports=function(L,M,v,p){return y(L,M,v,p,{type:"treemap",drawDescendants:P})}},46650:function(G,H,e){var y=e(39898),P=e(81684).sX,a=e(2791),L=e(71828),M=e(97313).TEXTPAD,v=e(17295),p=v.toMoveInsideBar,r=e(72597),t=r.recordMinTextSize,o=e(43473),n=e(66209);function c(u){return a.isHierarchyRoot(u)?"":a.getPtId(u)}G.exports=function(l,g,f,T,h){var s=l._fullLayout,d=g[0],A=d.trace,w=A.type,C=w==="icicle",b=d.hierarchy,S=a.findEntryWithLevel(b,A.level),x=y.select(f),i=x.selectAll("g.pathbar"),E=x.selectAll("g.slice");if(!S){i.remove(),E.remove();return}var m=a.isHierarchyRoot(S),k=!s.uniformtext.mode&&a.hasTransition(T),I=a.getMaxDepth(A),U=function(Je){return Je.data.depth-S.data.depth<I},z=s._size,F=A.domain,B=z.w*(F.x[1]-F.x[0]),O=z.h*(F.y[1]-F.y[0]),N=B,Y=A.pathbar.thickness,$=A.marker.line.width+o.gapWithPathbar,te=A.pathbar.visible?A.pathbar.side.indexOf("bottom")>-1?O+$:-(Y+$):0,ie={x0:N,x1:N,y0:te,y1:te+Y},ce=function(Je,Ge,Ie){var Fe=A.tiling.pad,Pe=function(Ae){return Ae-Fe<=Ge.x0},xe=function(Ae){return Ae+Fe>=Ge.x1},ge=function(Ae){return Ae-Fe<=Ge.y0},Me=function(Ae){return Ae+Fe>=Ge.y1};return Je.x0===Ge.x0&&Je.x1===Ge.x1&&Je.y0===Ge.y0&&Je.y1===Ge.y1?{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1}:{x0:Pe(Je.x0-Fe)?0:xe(Je.x0-Fe)?Ie[0]:Je.x0,x1:Pe(Je.x1+Fe)?0:xe(Je.x1+Fe)?Ie[0]:Je.x1,y0:ge(Je.y0-Fe)?0:Me(Je.y0-Fe)?Ie[1]:Je.y0,y1:ge(Je.y1+Fe)?0:Me(Je.y1+Fe)?Ie[1]:Je.y1}},J=null,Z={},ae={},j=null,q=function(Je,Ge){return Ge?Z[c(Je)]:ae[c(Je)]},oe=function(Je,Ge,Ie,Fe){if(Ge)return Z[c(b)]||ie;var Pe=ae[A.level]||Ie;return U(Je)?ce(Je,Pe,Fe):{}};d.hasMultipleRoots&&m&&I++,A._maxDepth=I,A._backgroundColor=s.paper_bgcolor,A._entryDepth=S.data.depth,A._atRootLevel=m;var Q=-B/2+z.l+z.w*(F.x[1]+F.x[0])/2,K=-O/2+z.t+z.h*(1-(F.y[1]+F.y[0])/2),se=function(Je){return Q+Je},ne=function(Je){return K+Je},fe=ne(0),ye=se(0),Ee=function(Je){return ye+Je},Te=function(Je){return fe+Je};function ze(Je,Ge){return Je+","+Ge}var ke=Ee(0),Se=function(Je){Je.x=Math.max(ke,Je.x)},me=A.pathbar.edgeshape,Ce=function(Je){var Ge=Ee(Math.max(Math.min(Je.x0,Je.x0),0)),Ie=Ee(Math.min(Math.max(Je.x1,Je.x1),N)),Fe=Te(Je.y0),Pe=Te(Je.y1),xe=Y/2,ge={},Me={};ge.x=Ge,Me.x=Ie,ge.y=Me.y=(Fe+Pe)/2;var Ae={x:Ge,y:Fe},Ue={x:Ie,y:Fe},Ze={x:Ie,y:Pe},tt={x:Ge,y:Pe};return me===">"?(Ae.x-=xe,Ue.x-=xe,Ze.x-=xe,tt.x-=xe):me==="/"?(Ze.x-=xe,tt.x-=xe,ge.x-=xe/2,Me.x-=xe/2):me==="\\"?(Ae.x-=xe,Ue.x-=xe,ge.x-=xe/2,Me.x-=xe/2):me==="<"&&(ge.x-=xe,Me.x-=xe),Se(Ae),Se(tt),Se(ge),Se(Ue),Se(Ze),Se(Me),"M"+ze(Ae.x,Ae.y)+"L"+ze(Ue.x,Ue.y)+"L"+ze(Me.x,Me.y)+"L"+ze(Ze.x,Ze.y)+"L"+ze(tt.x,tt.y)+"L"+ze(ge.x,ge.y)+"Z"},Ne=A[C?"tiling":"marker"].pad,He=function(Je){return A.textposition.indexOf(Je)!==-1},De=He("top"),Ve=He("left"),at=He("right"),lt=He("bottom"),$e=function(Je){var Ge=se(Je.x0),Ie=se(Je.x1),Fe=ne(Je.y0),Pe=ne(Je.y1),xe=Ie-Ge,ge=Pe-Fe;if(!xe||!ge)return"";var Me=A.marker.cornerradius||0,Ae=Math.min(Me,xe/2,ge/2);Ae&&Je.data&&Je.data.data&&Je.data.data.label&&(De&&(Ae=Math.min(Ae,Ne.t)),Ve&&(Ae=Math.min(Ae,Ne.l)),at&&(Ae=Math.min(Ae,Ne.r)),lt&&(Ae=Math.min(Ae,Ne.b)));var Ue=function(Ze,tt){return Ae?"a"+ze(Ae,Ae)+" 0 0 1 "+ze(Ze,tt):""};return"M"+ze(Ge,Fe+Ae)+Ue(Ae,-Ae)+"L"+ze(Ie-Ae,Fe)+Ue(Ae,Ae)+"L"+ze(Ie,Pe-Ae)+Ue(-Ae,Ae)+"L"+ze(Ge+Ae,Pe)+Ue(-Ae,-Ae)+"Z"},et=function(Je,Ge){var Ie=Je.x0,Fe=Je.x1,Pe=Je.y0,xe=Je.y1,ge=Je.textBB,Me=De||Ge.isHeader&&!lt,Ae=Me?"start":lt?"end":"middle",Ue=He("right"),Ze=He("left")||Ge.onPathbar,tt=Ze?-1:Ue?1:0;if(Ge.isHeader){if(Ie+=(C?Ne:Ne.l)-M,Fe-=(C?Ne:Ne.r)-M,Ie>=Fe){var ft=(Ie+Fe)/2;Ie=ft,Fe=ft}var pt;lt?(pt=xe-(C?Ne:Ne.b),Pe<pt&&pt<xe&&(Pe=pt)):(pt=Pe+(C?Ne:Ne.t),Pe<pt&&pt<xe&&(xe=pt))}var Yt=p(Ie,Fe,Pe,xe,ge,{isHorizontal:!1,constrained:!0,angle:0,anchor:Ae,leftToRight:tt});return Yt.fontSize=Ge.fontSize,Yt.targetX=se(Yt.targetX),Yt.targetY=ne(Yt.targetY),isNaN(Yt.targetX)||isNaN(Yt.targetY)?{}:(Ie!==Fe&&Pe!==xe&&t(A.type,Yt,s),{scale:Yt.scale,rotate:Yt.rotate,textX:Yt.textX,textY:Yt.textY,anchorX:Yt.anchorX,anchorY:Yt.anchorY,targetX:Yt.targetX,targetY:Yt.targetY})},ct=function(Je,Ge){for(var Ie,Fe=0,Pe=Je;!Ie&&Fe<I;)Fe++,Pe=Pe.parent,Pe?Ie=q(Pe,Ge):Fe=I;return Ie||{}},dt=function(Je,Ge,Ie,Fe){var Pe=q(Je,Ge),xe;if(Ge)xe=ie;else{var ge=q(S,Ge);ge?xe=ce(Je,ge,Fe):xe={}}return P(Pe,xe)},gt=function(Je,Ge,Ie,Fe,Pe){var xe=q(Je,Ge),ge;if(xe)ge=xe;else if(Ge)ge=ie;else if(J)if(Je.parent){var Me=j||Ie;Me&&!Ge?ge=ce(Je,Me,Fe):(ge={},L.extendFlat(ge,ct(Je,Ge)))}else ge=L.extendFlat({},Je),C&&(Pe.orientation==="h"?Pe.flipX?ge.x0=Je.x1:ge.x1=0:Pe.flipY?ge.y0=Je.y1:ge.y1=0);else ge={};return P(ge,{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1})},At=function(Je,Ge,Ie,Fe){var Pe=q(Je,Ge),xe={},ge=oe(Je,Ge,Ie,Fe);L.extendFlat(xe,{transform:et({x0:ge.x0,x1:ge.x1,y0:ge.y0,y1:ge.y1,textBB:Je.textBB,_text:Je._text},{isHeader:a.isHeader(Je,A)})}),Pe?xe=Pe:Je.parent&&L.extendFlat(xe,ct(Je,Ge));var Me=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&t(A.type,Me,s),P(xe,{transform:{scale:Me.scale,rotate:Me.rotate,textX:Me.textX,textY:Me.textY,anchorX:Me.anchorX,anchorY:Me.anchorY,targetX:Me.targetX,targetY:Me.targetY}})},Rt=function(Je,Ge,Ie,Fe,Pe){var xe=Fe[0],ge=Fe[1];k?Je.exit().transition().each(function(){var Me=y.select(this),Ae=Me.select("path.surface");Ae.transition().attrTween("d",function(Ze){var tt=dt(Ze,Ge,Ie,[xe,ge]);return function(ft){return Pe(tt(ft))}});var Ue=Me.select("g.slicetext");Ue.attr("opacity",0)}).remove():Je.exit().remove()},Vt=function(Je){var Ge=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&t(A.type,Ge,s),L.getTextTransform({textX:Ge.textX,textY:Ge.textY,anchorX:Ge.anchorX,anchorY:Ge.anchorY,targetX:Ge.targetX,targetY:Ge.targetY,scale:Ge.scale,rotate:Ge.rotate})};k&&(i.each(function(Je){Z[c(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(Z[c(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate})}),E.each(function(Je){ae[c(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(ae[c(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate}),!J&&a.isEntry(Je)&&(J=Je)})),j=h(l,g,S,E,{width:B,height:O,viewX:se,viewY:ne,pathSlice:$e,toMoveInsideSlice:et,prevEntry:J,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:At,handleSlicesExit:Rt,hasTransition:k,strTransform:Vt}),A.pathbar.visible?n(l,g,S,i,{barDifY:te,width:N,height:Y,viewX:Ee,viewY:Te,pathSlice:Ce,toMoveInsideSlice:et,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:At,handleSlicesExit:Rt,hasTransition:k,strTransform:Vt}):i.remove()}},96362:function(G,H,e){var y=e(39898),P=e(7901),a=e(71828),L=e(2791),M=e(72597).resizeText,v=e(43467);function p(t){var o=t._fullLayout._treemaplayer.selectAll(".trace");M(t,o,"treemap"),o.each(function(n){var c=y.select(this),u=n[0],l=u.trace;c.style("opacity",l.opacity),c.selectAll("path.surface").each(function(g){y.select(this).call(r,g,l,t,{hovered:!1})})})}function r(t,o,n,c,u){var l=(u||{}).hovered,g=o.data.data,f=g.i,T,h,s=g.color,d=L.isHierarchyRoot(o),A=1;if(l)T=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(d&&s===n.root.color)A=100,T="rgba(0,0,0,0)",h=0;else if(T=a.castOption(n,f,"marker.line.color")||P.defaultLine,h=a.castOption(n,f,"marker.line.width")||0,!n._hasColorscale&&!o.onPathbar){var w=n.marker.depthfade;if(w){var C=P.combine(P.addOpacity(n._backgroundColor,.75),s),b;if(w===!0){var S=L.getMaxDepth(n);isFinite(S)?L.isLeaf(o)?b=0:b=n._maxVisibleLayers-(o.data.depth-n._entryDepth):b=o.data.height+1}else b=o.data.depth-n._entryDepth,n._atRootLevel||b++;if(b>0)for(var x=0;x<b;x++){var i=.5*x/b;s=P.combine(P.addOpacity(C,i),s)}}}t.call(v,o,n,c,s).style("stroke-width",h).call(P.stroke,T).style("opacity",A)}G.exports={style:p,styleOne:r}},68875:function(G,H,e){var y=e(53522),P=e(1426).extendFlat,a=e(12663).axisHoverFormat;G.exports={y:y.y,x:y.x,x0:y.x0,y0:y.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:P({},y.name,{}),orientation:P({},y.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,points:P({},y.boxpoints,{}),jitter:P({},y.jitter,{}),pointpos:P({},y.pointpos,{}),width:P({},y.width,{}),marker:y.marker,text:y.text,hovertext:y.hovertext,hovertemplate:y.hovertemplate,quartilemethod:y.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(G,H,e){var y=e(71828),P=e(89298),a=e(48518),L=e(60168),M=e(50606).BADNUM;G.exports=function(o,n){var c=a(o,n);if(c[0].t.empty)return c;for(var u=o._fullLayout,l=P.getFromId(o,n[n.orientation==="h"?"xaxis":"yaxis"]),g=1/0,f=-1/0,T=0,h=0,s=0;s<c.length;s++){var d=c[s],A=d.pts.map(L.extractVal),w=d.bandwidth=p(n,d,A),C=d.span=r(n,d,l,w);if(d.min===d.max&&w===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=w,T=Math.max(T,1);else{var b=C[1]-C[0],S=Math.ceil(b/(w/3)),x=b/S;if(!isFinite(x)||!isFinite(S))return y.error("Something went wrong with computing the violin span"),c[0].t.empty=!0,c;var i=L.makeKDE(d,n,A);d.density=new Array(S);for(var E=0,m=C[0];m<C[1]+x/2;E++,m+=x){var k=i(m);d.density[E]={v:k,t:m},T=Math.max(T,k)}}h=Math.max(h,A.length),g=Math.min(g,C[0]),f=Math.max(f,C[1])}var I=P.findExtremes(l,[g,f],{padded:!0});if(n._extremes[l._id]=I,n.width)c[0].t.maxKDE=T;else{var U=u._violinScaleGroupStats,z=n.scalegroup,F=U[z];F?(F.maxKDE=Math.max(F.maxKDE,T),F.maxCount=Math.max(F.maxCount,h)):U[z]={maxKDE:T,maxCount:h}}return c[0].t.labels.kde=y._(o,"kde:"),c};function v(t,o,n){var c=Math.min(o,n/1.349);return 1.059*c*Math.pow(t,-.2)}function p(t,o,n){var c=o.max-o.min;if(!c)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,c/1e4);var u=n.length,l=y.stdev(n,u-1,o.mean);return Math.max(v(u,l,o.q3-o.q1),c/100)}function r(t,o,n,c){var u=t.spanmode,l=t.span||[],g=[o.min,o.max],f=[o.min-2*c,o.max+2*c],T;function h(d){var A=l[d],w=n.type==="multicategory"?n.r2c(A):n.d2c(A,0,t[o.valLetter+"calendar"]);return w===M?f[d]:w}u==="soft"?T=f:u==="hard"?T=g:T=[h(0),h(1)];var s={type:"linear",range:T};return P.setConvert(s),s.cleanRange(),T}},86403:function(G,H,e){var y=e(37188).setPositionOffset,P=["v","h"];G.exports=function(L,M){for(var v=L.calcdata,p=M.xaxis,r=M.yaxis,t=0;t<P.length;t++){for(var o=P[t],n=o==="h"?r:p,c=[],u=0;u<v.length;u++){var l=v[u],g=l[0].t,f=l[0].trace;f.visible===!0&&f.type==="violin"&&!g.empty&&f.orientation===o&&f.xaxis===p._id&&f.yaxis===r._id&&c.push(u)}y("violin",L,c,n)}}},15899:function(G,H,e){var y=e(71828),P=e(7901),a=e(36411),L=e(68875);G.exports=function(v,p,r,t){function o(x,i){return y.coerce(v,p,L,x,i)}function n(x,i){return y.coerce2(v,p,L,x,i)}if(a.handleSampleDefaults(v,p,o,t),p.visible!==!1){o("bandwidth"),o("side");var c=o("width");c||(o("scalegroup",p.name),o("scalemode"));var u=o("span"),l;Array.isArray(u)&&(l="manual"),o("spanmode",l);var g=o("line.color",(v.marker||{}).color||r),f=o("line.width"),T=o("fillcolor",P.addOpacity(p.line.color,.5));a.handlePointsDefaults(v,p,o,{prefix:""});var h=n("box.width"),s=n("box.fillcolor",T),d=n("box.line.color",g),A=n("box.line.width",f),w=o("box.visible",!!(h||s||d||A));w||(p.box={visible:!1});var C=n("meanline.color",g),b=n("meanline.width",f),S=o("meanline.visible",!!(C||b));S||(p.meanline={visible:!1}),o("quartilemethod")}}},60168:function(G,H,e){var y=e(71828),P={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};H.makeKDE=function(a,L,M){var v=M.length,p=P.gaussian,r=a.bandwidth,t=1/(v*r);return function(o){for(var n=0,c=0;c<v;c++)n+=p((o-M[c])/r);return t*n}},H.getPositionOnKdePath=function(a,L,M){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=y.findPointOnPath(a.path,M,p,{pathLength:a.pathLength}),t=a.posCenterPx,o=r[v],n=L.side==="both"?2*t-o:t;return[o,n]},H.getKdeValue=function(a,L,M){var v=a.pts.map(H.extractVal),p=H.makeKDE(a,L,v);return p(M)/a.posDensityScale},H.extractVal=function(a){return a.v}},57634:function(G,H,e){var y=e(7901),P=e(71828),a=e(89298),L=e(41868),M=e(60168);G.exports=function(p,r,t,o,n){n||(n={});var c=n.hoverLayer,u=p.cd,l=u[0].trace,g=l.hoveron,f=g.indexOf("violins")!==-1,T=g.indexOf("kde")!==-1,h=[],s,d;if(f||T){var A=L.hoverOnBoxes(p,r,t,o);if(T&&A.length>0){var w=p.xa,C=p.ya,b,S,x,i,E;l.orientation==="h"?(E=r,b="y",x=C,S="x",i=w):(E=t,b="x",x=w,S="y",i=C);var m=u[p.index];if(E>=m.span[0]&&E<=m.span[1]){var k=P.extendFlat({},p),I=i.c2p(E,!0),U=M.getKdeValue(m,l,E),z=M.getPositionOnKdePath(m,l,I),F=x._offset,B=x._length;k[b+"0"]=z[0],k[b+"1"]=z[1],k[S+"0"]=k[S+"1"]=I,k[S+"Label"]=S+": "+a.hoverLabelText(i,E,l[S+"hoverformat"])+", "+u[0].t.labels.kde+" "+U.toFixed(3);for(var O=0,N=0;N<A.length;N++)if(A[N].attr==="med"){O=N;break}k.spikeDistance=A[O].spikeDistance;var Y=b+"Spike";k[Y]=A[O][Y],A[O].spikeDistance=void 0,A[O][Y]=void 0,k.hovertemplate=!1,h.push(k),d={},d[b+"1"]=P.constrain(F+z[0],F,F+B),d[b+"2"]=P.constrain(F+z[1],F,F+B),d[S+"1"]=d[S+"2"]=i._offset+I}}f&&(h=h.concat(A))}g.indexOf("points")!==-1&&(s=L.hoverOnPoints(p,r,t));var $=c.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return $.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),$.exit().remove(),$.attr(d).call(y.stroke,p.color),o==="closest"?s?[s]:h:(s&&h.push(s),h)}},47462:function(G,H,e){G.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(G,H,e){var y=e(40094),P=e(71828).extendFlat;G.exports={violinmode:P({},y.boxmode,{}),violingap:P({},y.boxgap,{}),violingroupgap:P({},y.boxgroupgap,{})}},33598:function(G,H,e){var y=e(71828),P=e(9228),a=e(4199);G.exports=function(M,v,p){function r(t,o){return y.coerce(M,v,P,t,o)}a._supply(M,v,p,r,"violin")}},28443:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(86047),M=e(34621),v=e(60168);G.exports=function(r,t,o,n){var c=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,g=t.yaxis;function f(T,h){var s=M(T,{xaxis:l,yaxis:g,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(s[0],1)}P.makeTraceGroups(n,o,"trace violins").each(function(T){var h=y.select(this),s=T[0],d=s.t,A=s.trace;if(A.visible!==!0||d.empty){h.remove();return}var w=d.bPos,C=d.bdPos,b=t[d.valLetter+"axis"],S=t[d.posLetter+"axis"],x=A.side==="both",i=x||A.side==="positive",E=x||A.side==="negative",m=h.selectAll("path.violin").data(P.identity);m.enter().append("path").style("vector-effect",c?"none":"non-scaling-stroke").attr("class","violin"),m.exit().remove(),m.each(function(N){var Y=y.select(this),$=N.density,te=$.length,ie=S.c2l(N.pos+w,!0),ce=S.l2p(ie),J;if(A.width)J=d.maxKDE/C;else{var Z=u._violinScaleGroupStats[A.scalegroup];J=A.scalemode==="count"?Z.maxKDE/C*(Z.maxCount/N.pts.length):Z.maxKDE/C}var ae,j,q,oe,Q,K,se;if(i){for(K=new Array(te),oe=0;oe<te;oe++)se=K[oe]={},se[d.posLetter]=ie+$[oe].v/J,se[d.valLetter]=b.c2l($[oe].t,!0);ae=f(K,A)}if(E){for(K=new Array(te),Q=0,oe=te-1;Q<te;Q++,oe--)se=K[Q]={},se[d.posLetter]=ie-$[oe].v/J,se[d.valLetter]=b.c2l($[oe].t,!0);j=f(K,A)}if(x)q=ae+"L"+j.substr(1)+"Z";else{var ne=[ce,b.c2p($[0].t)],fe=[ce,b.c2p($[te-1].t)];A.orientation==="h"&&(ne.reverse(),fe.reverse()),i?q="M"+ne+"L"+ae.substr(1)+"L"+fe:q="M"+fe+"L"+j.substr(1)+"L"+ne}Y.attr("d",q),N.posCenterPx=ce,N.posDensityScale=J*C,N.path=Y.node(),N.pathLength=N.path.getTotalLength()/(x?2:1)});var k=A.box,I=k.width,U=(k.line||{}).width,z,F;x?(z=C*I,F=0):i?(z=[0,C*I/2],F=U*{x:1,y:-1}[d.posLetter]):(z=[C*I/2,0],F=U*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(h,{pos:S,val:b},A,{bPos:w,bdPos:z,bPosPxOffset:F}),L.plotBoxMean(h,{pos:S,val:b},A,{bPos:w,bdPos:z,bPosPxOffset:F});var B;!A.box.visible&&A.meanline.visible&&(B=P.identity);var O=h.selectAll("path.meanline").data(B||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",c?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(N){var Y=b.c2p(N.mean,!0),$=v.getPositionOnKdePath(N,A,Y);y.select(this).attr("d",A.orientation==="h"?"M"+Y+","+$[0]+"V"+$[1]:"M"+$[0]+","+Y+"H"+$[1])}),L.plotPoints(h,{x:l,y:g},A,d)})}},31847:function(G,H,e){var y=e(39898),P=e(7901),a=e(16296).stylePoints;G.exports=function(M){var v=y.select(M).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=y.select(this),o=r.box||{},n=o.line||{},c=r.meanline||{},u=c.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,o.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(P.stroke,c.color),t.selectAll("path.meanline").style(l).call(P.stroke,c.color),a(t,r,M)})}},16336:function(G,H,e){var y=e(50693),P=e(16249),a=e(54532),L=e(9012),M=e(1426).extendFlat,v=e(30962).overrideAll,p=G.exports=v(M({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:a.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:M({},L.hoverinfo),showlegend:M({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},64809:function(G,H,e){var y=e(9330).gl_mesh3d,P=e(81697).parseColorScale,a=e(71828).isArrayOrTypedArray,L=e(78614),M=e(21081).extractOpts,v=e(90060),p=e(22674).findNearestOnAxis,r=e(22674).generateIsoMeshes;function t(c,u,l){this.scene=c,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var o=t.prototype;o.handlePick=function(c){if(c.object===this.mesh){var u=c.data.index,l=this.data._meshX[u],g=this.data._meshY[u],f=this.data._meshZ[u],T=this.data._Ys.length,h=this.data._Zs.length,s=p(l,this.data._Xs).id,d=p(g,this.data._Ys).id,A=p(f,this.data._Zs).id,w=c.index=A+h*d+h*T*s;c.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var C=this.data.hovertext||this.data.text;return a(C)&&C[w]!==void 0?c.textLabel=C[w]:C&&(c.textLabel=C),!0}},o.update=function(c){var u=this.scene,l=u.fullSceneLayout;this.data=r(c);function g(d,A,w,C){return A.map(function(b){return d.d2l(b,0,C)*w})}var f=v(g(l.xaxis,c._meshX,u.dataScale[0],c.xcalendar),g(l.yaxis,c._meshY,u.dataScale[1],c.ycalendar),g(l.zaxis,c._meshZ,u.dataScale[2],c.zcalendar)),T=v(c._meshI,c._meshJ,c._meshK),h={positions:f,cells:T,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,opacityscale:c.opacityscale,contourEnable:c.contour.show,contourColor:L(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading},s=M(c);h.vertexIntensity=c._meshIntensity,h.vertexIntensityBounds=[s.min,s.max],h.colormap=P(c),this.mesh.update(h)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(c,u){var l=c.glplot.gl,g=y({gl:l}),f=new t(c,g,u.uid);return g._trace=f,f.update(u),c.glplot.add(g),f}G.exports=n},47651:function(G,H,e){var y=e(71828),P=e(16336),a=e(82738).supplyIsoDefaults,L=e(91831).opacityscaleDefaults;G.exports=function(v,p,r,t){function o(n,c){return y.coerce(v,p,P,n,c)}a(v,p,r,t,o),L(v,p,t,o)}},17659:function(G,H,e){G.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(G,H,e){var y=e(1486),P=e(82196).line,a=e(9012),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(5386).si,p=e(48334),r=e(1426).extendFlat,t=e(7901);function o(n){return{marker:{color:r({},y.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},y.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},y.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:y.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:y.text,textposition:y.textposition,insidetextanchor:y.insidetextanchor,textangle:y.textangle,textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:y.orientation,offset:y.offset,width:y.width,increasing:o(),decreasing:o(),totals:o(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup}},52752:function(G,H,e){var y=e(89298),P=e(42973),a=e(71828).mergeArray,L=e(66279),M=e(50606).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}G.exports=function(t,o){var n=y.getFromId(t,o.xaxis||"x"),c=y.getFromId(t,o.yaxis||"y"),u,l,g,f,T,h;o.orientation==="h"?(u=n.makeCalcdata(o,"x"),g=c.makeCalcdata(o,"y"),f=P(o,c,"y",g),T=!!o.yperiodalignment,h="y"):(u=c.makeCalcdata(o,"y"),g=n.makeCalcdata(o,"x"),f=P(o,n,"x",g),T=!!o.xperiodalignment,h="x"),l=f.vals;for(var s=Math.min(l.length,u.length),d=new Array(s),A=0,w,C=!1,b=0;b<s;b++){var S=u[b]||0,x=!1;(u[b]!==M||p(o.measure[b])||v(o.measure[b]))&&b+1<s&&(u[b+1]!==M||p(o.measure[b+1])||v(o.measure[b+1]))&&(x=!0);var i=d[b]={i:b,p:l[b],s:S,rawS:S,cNext:x};v(o.measure[b])?(A=i.s,i.isSum=!0,i.dir="totals",i.s=A):p(o.measure[b])?(i.isSum=!0,i.dir="totals",i.s=A):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",w=i.s,i.s=A+w,A+=w),i.dir==="totals"&&(C=!0),T&&(d[b].orig_p=g[b],d[b][h+"End"]=f.ends[b],d[b][h+"Start"]=f.starts[b]),o.ids&&(i.id=String(o.ids[b])),i.v=(o.base||0)+A}return d.length&&(d[0].hasTotals=C),a(o.text,d,"tx"),a(o.hovertext,d,"htx"),L(d,o),d}},48334:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},70766:function(G,H,e){var y=e(11661).setGroupPositions;G.exports=function(a,L){var M=a._fullLayout,v=a._fullData,p=a.calcdata,r=L.xaxis,t=L.yaxis,o=[],n=[],c=[],u,l;for(l=0;l<v.length;l++){var g=v[l];g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="waterfall"&&(u=p[l],g.orientation==="h"?c.push(u):n.push(u),o.push(u))}var f={mode:M.waterfallmode,norm:M.waterfallnorm,gap:M.waterfallgap,groupgap:M.waterfallgroupgap};for(y(a,r,t,n,f),y(a,t,r,c,f),l=0;l<o.length;l++){u=o[l];for(var T=0;T<u.length;T++){var h=u[T];h.isSum===!1&&(h.s0+=T===0?0:u[T-1].s),T+1<u.length&&(u[T].nextP0=u[T+1].p0,u[T].nextS0=u[T+1].s0)}}}},83266:function(G,H,e){var y=e(71828),P=e(26125),a=e(90769).handleText,L=e(67513),M=e(73927),v=e(43037),p=e(7901),r=e(22372),t=r.INCREASING.COLOR,o=r.DECREASING.COLOR,n="#4499FF";function c(g,f,T){g(f+".marker.color",T),g(f+".marker.line.color",p.defaultLine),g(f+".marker.line.width")}function u(g,f,T,h){function s(b,S){return y.coerce(g,f,v,b,S)}var d=L(g,f,h,s);if(!d){f.visible=!1;return}M(g,f,h,s),s("xhoverformat"),s("yhoverformat"),s("measure"),s("orientation",f.x&&!f.y?"h":"v"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate");var A=s("textposition");a(g,f,h,s,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&(s("texttemplate"),f.texttemplate||s("textinfo")),c(s,"increasing",t),c(s,"decreasing",o),c(s,"totals",n);var w=s("connector.visible");if(w){s("connector.mode");var C=s("connector.line.width");C&&(s("connector.line.color"),s("connector.line.dash"))}}function l(g,f){var T,h;function s(A){return y.coerce(h._input,h,v,A)}if(f.waterfallmode==="group")for(var d=0;d<g.length;d++)h=g[d],T=h._input,P(T,h,f,s)}G.exports={supplyDefaults:u,crossTraceDefaults:l}},58593:function(G){G.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"initial"in y&&(e.initial=y.initial),"delta"in y&&(e.delta=y.delta),"final"in y&&(e.final=y.final),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},61326:function(G,H,e){var y=e(89298).hoverLabelText,P=e(7901).opacity,a=e(95423).hoverOnBars,L=e(22372),M={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};G.exports=function(r,t,o,n,c){var u=a(r,t,o,n,c);if(!u)return;var l=u.cd,g=l[0].trace,f=g.orientation==="h",T=f?"x":"y",h=f?r.xa:r.ya;function s(m){return y(h,m,g[T+"hoverformat"])}var d=u.index,A=l[d],w=A.isSum?A.b+A.s:A.rawS;u.initial=A.b+A.s-w,u.delta=w,u.final=u.initial+u.delta;var C=s(Math.abs(u.delta));u.deltaLabel=w<0?"("+C+")":C,u.finalLabel=s(u.final),u.initialLabel=s(u.initial);var b=A.hi||g.hoverinfo,S=[];if(b&&b!=="none"&&b!=="skip"){var x=b==="all",i=b.split("+"),E=function(m){return x||i.indexOf(m)!==-1};A.isSum||(E("final")&&(f?!E("x"):!E("y"))&&S.push(u.finalLabel),E("delta")&&(w<0?S.push(u.deltaLabel+" "+M.decreasing):S.push(u.deltaLabel+" "+M.increasing)),E("initial")&&S.push("Initial: "+u.initialLabel))}return S.length&&(u.extraText=S.join("<br>")),u.color=v(g,A),[u]};function v(p,r){var t=p[r.dir].marker,o=t.color,n=t.line.color,c=t.line.width;if(P(o))return o;if(P(n)&&c)return n}},19990:function(G,H,e){G.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(G,H,e){var y=e(71828),P=e(13494);G.exports=function(a,L,M){var v=!1;function p(o,n){return y.coerce(a,L,P,o,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},30436:function(G,H,e){var y=e(39898),P=e(71828),a=e(91424),L=e(50606).BADNUM,M=e(17295),v=e(72597).clearMinTextSize;G.exports=function(o,n,c,u){var l=o._fullLayout;v("waterfall",l),M.plot(o,n,c,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(o,n,c,u)};function p(t,o,n,c){var u=o.xaxis,l=o.yaxis;P.makeTraceGroups(c,n,"trace bars").each(function(g){var f=y.select(this),T=g[0].trace,h=P.ensureSingle(f,"g","lines");if(!T.connector||!T.connector.visible){h.remove();return}var s=T.orientation==="h",d=T.connector.mode,A=h.selectAll("g.line").data(P.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var w=A.size();A.each(function(C,b){if(!(b!==w-1&&!C.cNext)){var S=r(C,u,l,s),x=S[0],i=S[1],E="";x[0]!==L&&i[0]!==L&&x[1]!==L&&i[1]!==L&&(d==="spanning"&&!C.isSum&&b>0&&(s?E+="M"+x[0]+","+i[1]+"V"+i[0]:E+="M"+x[1]+","+i[0]+"H"+x[0]),d!=="between"&&(C.isSum||b<w-1)&&(s?E+="M"+x[1]+","+i[0]+"V"+i[1]:E+="M"+x[0]+","+i[1]+"H"+x[1]),x[2]!==L&&i[2]!==L&&(s?E+="M"+x[1]+","+i[1]+"V"+i[2]:E+="M"+x[1]+","+i[1]+"H"+x[2])),E===""&&(E="M0,0Z"),P.ensureSingle(y.select(this),"path").attr("d",E).call(a.setClipUrl,o.layerClipId,t)}})})}function r(t,o,n,c){var u=[],l=[],g=c?o:n,f=c?n:o;return u[0]=g.c2p(t.s0,!0),l[0]=f.c2p(t.p0,!0),u[1]=g.c2p(t.s1,!0),l[1]=f.c2p(t.p1,!0),u[2]=g.c2p(t.nextS0,!0),l[2]=f.c2p(t.nextP0,!0),c?[u,l]:[l,u]}},55750:function(G,H,e){var y=e(39898),P=e(91424),a=e(7901),L=e(37822).DESELECTDIM,M=e(16688),v=e(72597).resizeText,p=M.styleTextPoints;function r(t,o,n){var c=n||y.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");v(t,c,"waterfall"),c.style("opacity",function(u){return u[0].trace.opacity}),c.each(function(u){var l=y.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(f){if(!f.isBlank){var T=g[f.dir].marker;y.select(this).call(a.fill,T.color).call(a.stroke,T.line.color).call(P.dashLine,T.line.dash,T.line.width).style("opacity",g.selectedpoints&&!f.selected?L:1)}}),p(l,g,t),l.selectAll(".lines").each(function(){var f=g.connector.line;P.lineGroupStyle(y.select(this).selectAll("path"),f.width,f.color,f.dash)})})}G.exports={style:r}},82887:function(G,H,e){var y=e(89298),P=e(71828),a=e(86281),L=e(79344).p,M=e(50606).BADNUM;H.moduleType="transform",H.name="aggregate";var v=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;H.supplyDefaults=function(u,l){var g={},f;function T(m,k){return P.coerce(u,g,v,m,k)}var h=T("enabled");if(!h)return g;var s=a.findArrayAttributes(l),d={};for(f=0;f<s.length;f++)d[s[f]]=1;var A=T("groups");if(!Array.isArray(A)){if(!d[A])return g.enabled=!1,g;d[A]=0}var w=u.aggregations||[],C=g.aggregations=new Array(w.length),b;function S(m,k){return P.coerce(w[f],b,p,m,k)}for(f=0;f<w.length;f++){b={_index:f};var x=S("target"),i=S("func"),E=S("enabled");E&&x&&(d[x]||i==="count"&&d[x]===void 0)?(i==="stddev"&&S("funcmode"),d[x]=0,C[f]=b):C[f]={enabled:!1,_index:f}}for(f=0;f<s.length;f++)d[s[f]]&&C.push({target:s[f],func:p.func.dflt,enabled:!0,_index:-1});return g},H.calcTransform=function(u,l,g){if(g.enabled){var f=g.groups,T=P.getTargetArray(l,{target:f});if(T){var h,s,d,A,w={},C={},b=[],S=L(l.transforms,g),x=T.length;for(l._length&&(x=Math.min(x,l._length)),h=0;h<x;h++)s=T[h],d=w[s],d===void 0?(w[s]=b.length,A=[h],b.push(A),C[w[s]]=S(h)):(b[d].push(h),C[w[s]]=(C[w[s]]||[]).concat(S(h)));g._indexToPoints=C;var i=g.aggregations;for(h=0;h<i.length;h++)r(u,l,b,i[h]);typeof f=="string"&&r(u,l,b,{target:f,func:"first",enabled:!0}),l._length=b.length}}};function r(u,l,g,f){if(f.enabled){for(var T=f.target,h=P.nestedProperty(l,T),s=h.get(),d=y.getDataConversions(u,l,T,s),A=t(f,d),w=new Array(g.length),C=0;C<g.length;C++)w[C]=A(s,g[C]);h.set(w),f.func==="count"&&P.pushUnique(l._arrayAttrs,T)}}function t(u,l){var g=u.func,f=l.d2c,T=l.c2d;switch(g){case"count":return o;case"first":return n;case"last":return c;case"sum":return function(h,s){for(var d=0,A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&(d+=w)}return T(d)};case"avg":return function(h,s){for(var d=0,A=0,w=0;w<s.length;w++){var C=f(h[s[w]]);C!==M&&(d+=C,A++)}return A?T(d/A):M};case"min":return function(h,s){for(var d=1/0,A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&(d=Math.min(d,w))}return d===1/0?M:T(d)};case"max":return function(h,s){for(var d=-1/0,A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&(d=Math.max(d,w))}return d===-1/0?M:T(d)};case"range":return function(h,s){for(var d=1/0,A=-1/0,w=0;w<s.length;w++){var C=f(h[s[w]]);C!==M&&(d=Math.min(d,C),A=Math.max(A,C))}return A===-1/0||d===1/0?M:T(A-d)};case"change":return function(h,s){var d=f(h[s[0]]),A=f(h[s[s.length-1]]);return d===M||A===M?M:T(A-d)};case"median":return function(h,s){for(var d=[],A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&d.push(w)}if(!d.length)return M;d.sort(P.sorterAsc);var C=(d.length-1)/2;return T((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(h,s){for(var d={},A=0,w=M,C=0;C<s.length;C++){var b=f(h[s[C]]);if(b!==M){var S=d[b]=(d[b]||0)+1;S>A&&(A=S,w=b)}}return A?T(w):M};case"rms":return function(h,s){for(var d=0,A=0,w=0;w<s.length;w++){var C=f(h[s[w]]);C!==M&&(d+=C*C,A++)}return A?T(Math.sqrt(d/A)):M};case"stddev":return function(h,s){var d=0,A=0,w=1,C=M,b;for(b=0;b<s.length&&C===M;b++)C=f(h[s[b]]);if(C===M)return M;for(;b<s.length;b++){var S=f(h[s[b]]);if(S!==M){var x=S-C;d+=x,A+=x*x,w++}}var i=u.funcmode==="sample"?w-1:w;return i?Math.sqrt((A-d*d/w)/i):0}}}function o(u,l){return l.length}function n(u,l){return u[l[0]]}function c(u,l){return u[l[l.length-1]]}},14382:function(G,H,e){var y=e(71828),P=e(73972),a=e(89298),L=e(79344).p,M=e(74808),v=M.COMPARISON_OPS,p=M.INTERVAL_OPS,r=M.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(o){var n={};function c(f,T){return y.coerce(o,n,H.attributes,f,T)}var u=c("enabled");if(u){var l=c("target");if(y.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;c("preservegaps"),c("operation"),c("value");var g=P.getComponentMethod("calendars","handleDefaults");g(o,n,"valuecalendar",null),g(o,n,"targetcalendar",null)}return n},H.calcTransform=function(o,n,c){if(!c.enabled)return;var u=y.getTargetArray(n,c);if(!u)return;var l=c.target,g=u.length;n._length&&(g=Math.min(g,n._length));var f=c.targetcalendar,T=n._arrayAttrs,h=c.preservegaps;if(typeof l=="string"){var s=y.nestedProperty(n,l+"calendar").get();s&&(f=s)}var d=a.getDataToCoordFunc(o,n,l,u),A=t(c,d,f),w={},C={},b=0;function S(I,U){for(var z=0;z<T.length;z++){var F=y.nestedProperty(n,T[z]);I(F,U)}}var x,i;h?(x=function(I){w[I.astr]=y.extendDeep([],I.get()),I.set(new Array(g))},i=function(I,U){var z=w[I.astr][U];I.get()[U]=z}):(x=function(I){w[I.astr]=y.extendDeep([],I.get()),I.set([])},i=function(I,U){var z=w[I.astr][U];I.get().push(z)}),S(x);for(var E=L(n.transforms,c),m=0;m<g;m++){var k=A(u[m]);k?(S(i,m),C[b++]=E(m)):h&&b++}c._indexToPoints=C,n._length=b};function t(o,n,c){var u=o.operation,l=o.value,g=y.isArrayOrTypedArray(l);function f(d){return d.indexOf(u)!==-1}var T=function(d){return n(d,0,o.valuecalendar)},h=function(d){return n(d,0,c)},s;switch(f(v)?s=T(g?l[0]:l):f(p)?s=g?[T(l[0]),T(l[1])]:[T(l),T(l)]:f(r)&&(s=g?l.map(T):[T(l)]),u){case"=":return function(d){return h(d)===s};case"!=":return function(d){return h(d)!==s};case"<":return function(d){return h(d)<s};case"<=":return function(d){return h(d)<=s};case">":return function(d){return h(d)>s};case">=":return function(d){return h(d)>=s};case"[]":return function(d){var A=h(d);return A>=s[0]&&A<=s[1]};case"()":return function(d){var A=h(d);return A>s[0]&&A<s[1]};case"[)":return function(d){var A=h(d);return A>=s[0]&&A<s[1]};case"(]":return function(d){var A=h(d);return A>s[0]&&A<=s[1]};case"][":return function(d){var A=h(d);return A<=s[0]||A>=s[1]};case")(":return function(d){var A=h(d);return A<s[0]||A>s[1]};case"](":return function(d){var A=h(d);return A<=s[0]||A>s[1]};case")[":return function(d){var A=h(d);return A<s[0]||A>=s[1]};case"{}":return function(d){return s.indexOf(h(d))!==-1};case"}{":return function(d){return s.indexOf(h(d))===-1}}}},43102:function(G,H,e){var y=e(71828),P=e(86281),a=e(74875),L=e(79344).p;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(v,p,r){var t,o={};function n(T,h){return y.coerce(v,o,H.attributes,T,h)}var c=n("enabled");if(!c)return o;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=o.styles=[];if(u)for(t=0;t<u.length;t++){var g=l[t]={};y.coerce(u[t],l[t],H.attributes.styles,"target");var f=y.coerce(u[t],l[t],H.attributes.styles,"value");y.isPlainObject(f)?g.value=y.extendDeep({},f):f&&delete g.value}return o},H.transform=function(v,p){var r,t,o,n=[];for(t=0;t<v.length;t++)for(r=M(v[t],p),o=0;o<r.length;o++)n.push(r[o]);return n};function M(v,p){var r,t,o,n,c,u,l,g,f,T,h=p.transform,s=p.transformIndex,d=v.transforms[s].groups,A=L(v.transforms,h);if(!y.isArrayOrTypedArray(d)||d.length===0)return[v];var w=y.filterUnique(d),C=new Array(w.length),b=d.length,S=P.findArrayAttributes(v),x=h.styles||[],i={};for(r=0;r<x.length;r++)i[x[r].target]=x[r].value;h.styles&&(T=y.keyedContainer(h,"styles","target","value.name"));var E={},m={};for(r=0;r<w.length;r++){u=w[r],E[u]=r,m[u]=0,l=C[r]=y.extendDeepNoArrays({},v),l._group=u,l.transforms[s]._indexToPoints={};var k=null;for(T&&(k=T.get(u)),k||k===""?l.name=k:l.name=y.templateString(h.nameformat,{trace:v.name,group:u}),g=l.transforms,l.transforms=[],t=0;t<g.length;t++)l.transforms[t]=y.extendDeepNoArrays({},g[t]);for(t=0;t<S.length;t++)y.nestedProperty(l,S[t]).set([])}for(o=0;o<S.length;o++){for(n=S[o],t=0,f=[];t<w.length;t++)f[t]=y.nestedProperty(C[t],n).get();for(c=y.nestedProperty(v,n).get(),t=0;t<b;t++)f[E[d[t]]].push(c[t])}for(t=0;t<b;t++){l=C[E[d[t]]];var I=l.transforms[s]._indexToPoints;I[m[d[t]]]=A(t),m[d[t]]++}for(r=0;r<w.length;r++)u=w[r],l=C[r],a.clearExpandedTraceDefaultColors(l),l=y.extendDeepNoArrays(l,i[u]||{});return C}},79344:function(G,H){H.p=function(e,y){for(var P,a,L=0;L<e.length&&(P=e[L],P!==y);L++)!P._indexToPoints||P.enabled===!1||(a=P._indexToPoints);var M=a?function(v){return a[v]}:function(v){return[v]};return M}},32275:function(G,H,e){var y=e(71828),P=e(89298),a=e(79344).p,L=e(50606).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(p){var r={};function t(n,c){return y.coerce(p,r,H.attributes,n,c)}var o=t("enabled");return o&&(t("target"),t("order")),r},H.calcTransform=function(p,r,t){if(t.enabled){var o=y.getTargetArray(r,t);if(o){var n=t.target,c=o.length;r._length&&(c=Math.min(c,r._length));var u=r._arrayAttrs,l=P.getDataToCoordFunc(p,r,n,o),g=M(t,o,l,c),f=a(r.transforms,t),T={},h,s;for(h=0;h<u.length;h++){var d=y.nestedProperty(r,u[h]),A=d.get(),w=new Array(c);for(s=0;s<c;s++)w[s]=A[g[s]];d.set(w)}for(s=0;s<c;s++)T[s]=f(g[s]);t._indexToPoints=T,r._length=c}}};function M(p,r,t,o){var n=new Array(o),c=new Array(o),u;for(u=0;u<o;u++)n[u]={v:r[u],i:u};for(n.sort(v(p,t)),u=0;u<o;u++)c[u]=n[u].i;return c}function v(p,r){switch(p.order){case"ascending":return function(t,o){var n=r(t.v),c=r(o.v);return n===L?1:c===L?-1:n-c};case"descending":return function(t,o){var n=r(t.v),c=r(o.v);return n===L?1:c===L?-1:c-n}}}},11506:function(G,H){H.version="2.28.0"},9330:function(G,H,e){var y=e(90386);(function(a,L){G.exports=L()})(self,function(){return function(){var P={7386:function(v,p,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(xe,ge){if(!(xe instanceof ge))throw new TypeError("Cannot call a class as a function")}function o(xe,ge){for(var Me=0;Me<ge.length;Me++){var Ae=ge[Me];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(xe,Ae.key,Ae)}}function n(xe,ge,Me){return ge&&o(xe.prototype,ge),Me&&o(xe,Me),Object.defineProperty(xe,"prototype",{writable:!1}),xe}function c(xe,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(ge&&ge.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),ge&&u(xe,ge)}function u(xe,ge){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ae,Ue){return Ae.__proto__=Ue,Ae},u(xe,ge)}function l(xe){var ge=T();return function(){var Ae=h(xe),Ue;if(ge){var Ze=h(this).constructor;Ue=Reflect.construct(Ae,arguments,Ze)}else Ue=Ae.apply(this,arguments);return g(this,Ue)}}function g(xe,ge){if(ge&&(s(ge)==="object"||typeof ge=="function"))return ge;if(ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(xe)}function f(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(xe){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},h(xe)}function s(xe){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},s(xe)}var d=r(3910),A=r(3187),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=x,p.h2=50;var C=2147483647;x.TYPED_ARRAY_SUPPORT=b(),!x.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{var xe=new Uint8Array(1),ge={foo:function(){return 42}};return Object.setPrototypeOf(ge,Uint8Array.prototype),Object.setPrototypeOf(xe,ge),xe.foo()===42}catch{return!1}}Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}});function S(xe){if(xe>C)throw new RangeError('The value "'+xe+'" is invalid for option "size"');var ge=new Uint8Array(xe);return Object.setPrototypeOf(ge,x.prototype),ge}function x(xe,ge,Me){if(typeof xe=="number"){if(typeof ge=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(xe)}return i(xe,ge,Me)}x.poolSize=8192;function i(xe,ge,Me){if(typeof xe=="string")return I(xe,ge);if(ArrayBuffer.isView(xe))return z(xe);if(xe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(xe));if(Je(xe,ArrayBuffer)||xe&&Je(xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(xe,SharedArrayBuffer)||xe&&Je(xe.buffer,SharedArrayBuffer)))return F(xe,ge,Me);if(typeof xe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ae=xe.valueOf&&xe.valueOf();if(Ae!=null&&Ae!==xe)return x.from(Ae,ge,Me);var Ue=B(xe);if(Ue)return Ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof xe[Symbol.toPrimitive]=="function")return x.from(xe[Symbol.toPrimitive]("string"),ge,Me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(xe))}x.from=function(xe,ge,Me){return i(xe,ge,Me)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array);function E(xe){if(typeof xe!="number")throw new TypeError('"size" argument must be of type number');if(xe<0)throw new RangeError('The value "'+xe+'" is invalid for option "size"')}function m(xe,ge,Me){return E(xe),xe<=0?S(xe):ge!==void 0?typeof Me=="string"?S(xe).fill(ge,Me):S(xe).fill(ge):S(xe)}x.alloc=function(xe,ge,Me){return m(xe,ge,Me)};function k(xe){return E(xe),S(xe<0?0:O(xe)|0)}x.allocUnsafe=function(xe){return k(xe)},x.allocUnsafeSlow=function(xe){return k(xe)};function I(xe,ge){if((typeof ge!="string"||ge==="")&&(ge="utf8"),!x.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var Me=N(xe,ge)|0,Ae=S(Me),Ue=Ae.write(xe,ge);return Ue!==Me&&(Ae=Ae.slice(0,Ue)),Ae}function U(xe){for(var ge=xe.length<0?0:O(xe.length)|0,Me=S(ge),Ae=0;Ae<ge;Ae+=1)Me[Ae]=xe[Ae]&255;return Me}function z(xe){if(Je(xe,Uint8Array)){var ge=new Uint8Array(xe);return F(ge.buffer,ge.byteOffset,ge.byteLength)}return U(xe)}function F(xe,ge,Me){if(ge<0||xe.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(xe.byteLength<ge+(Me||0))throw new RangeError('"length" is outside of buffer bounds');var Ae;return ge===void 0&&Me===void 0?Ae=new Uint8Array(xe):Me===void 0?Ae=new Uint8Array(xe,ge):Ae=new Uint8Array(xe,ge,Me),Object.setPrototypeOf(Ae,x.prototype),Ae}function B(xe){if(x.isBuffer(xe)){var ge=O(xe.length)|0,Me=S(ge);return Me.length===0||xe.copy(Me,0,0,ge),Me}if(xe.length!==void 0)return typeof xe.length!="number"||Ge(xe.length)?S(0):U(xe);if(xe.type==="Buffer"&&Array.isArray(xe.data))return U(xe.data)}function O(xe){if(xe>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return xe|0}x.isBuffer=function(ge){return ge!=null&&ge._isBuffer===!0&&ge!==x.prototype},x.compare=function(ge,Me){if(Je(ge,Uint8Array)&&(ge=x.from(ge,ge.offset,ge.byteLength)),Je(Me,Uint8Array)&&(Me=x.from(Me,Me.offset,Me.byteLength)),!x.isBuffer(ge)||!x.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===Me)return 0;for(var Ae=ge.length,Ue=Me.length,Ze=0,tt=Math.min(Ae,Ue);Ze<tt;++Ze)if(ge[Ze]!==Me[Ze]){Ae=ge[Ze],Ue=Me[Ze];break}return Ae<Ue?-1:Ue<Ae?1:0},x.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(ge,Me){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return x.alloc(0);var Ae;if(Me===void 0)for(Me=0,Ae=0;Ae<ge.length;++Ae)Me+=ge[Ae].length;var Ue=x.allocUnsafe(Me),Ze=0;for(Ae=0;Ae<ge.length;++Ae){var tt=ge[Ae];if(Je(tt,Uint8Array))Ze+tt.length>Ue.length?(x.isBuffer(tt)||(tt=x.from(tt)),tt.copy(Ue,Ze)):Uint8Array.prototype.set.call(Ue,tt,Ze);else if(x.isBuffer(tt))tt.copy(Ue,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=tt.length}return Ue};function N(xe,ge){if(x.isBuffer(xe))return xe.length;if(ArrayBuffer.isView(xe)||Je(xe,ArrayBuffer))return xe.byteLength;if(typeof xe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(xe));var Me=xe.length,Ae=arguments.length>2&&arguments[2]===!0;if(!Ae&&Me===0)return 0;for(var Ue=!1;;)switch(ge){case"ascii":case"latin1":case"binary":return Me;case"utf8":case"utf-8":return dt(xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me*2;case"hex":return Me>>>1;case"base64":return Rt(xe).length;default:if(Ue)return Ae?-1:dt(xe).length;ge=(""+ge).toLowerCase(),Ue=!0}}x.byteLength=N;function Y(xe,ge,Me){var Ae=!1;if((ge===void 0||ge<0)&&(ge=0),ge>this.length||((Me===void 0||Me>this.length)&&(Me=this.length),Me<=0)||(Me>>>=0,ge>>>=0,Me<=ge))return"";for(xe||(xe="utf8");;)switch(xe){case"hex":return fe(this,ge,Me);case"utf8":case"utf-8":return oe(this,ge,Me);case"ascii":return se(this,ge,Me);case"latin1":case"binary":return ne(this,ge,Me);case"base64":return q(this,ge,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,ge,Me);default:if(Ae)throw new TypeError("Unknown encoding: "+xe);xe=(xe+"").toLowerCase(),Ae=!0}}x.prototype._isBuffer=!0;function $(xe,ge,Me){var Ae=xe[ge];xe[ge]=xe[Me],xe[Me]=Ae}x.prototype.swap16=function(){var ge=this.length;if(ge%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Me=0;Me<ge;Me+=2)$(this,Me,Me+1);return this},x.prototype.swap32=function(){var ge=this.length;if(ge%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Me=0;Me<ge;Me+=4)$(this,Me,Me+3),$(this,Me+1,Me+2);return this},x.prototype.swap64=function(){var ge=this.length;if(ge%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Me=0;Me<ge;Me+=8)$(this,Me,Me+7),$(this,Me+1,Me+6),$(this,Me+2,Me+5),$(this,Me+3,Me+4);return this},x.prototype.toString=function(){var ge=this.length;return ge===0?"":arguments.length===0?oe(this,0,ge):Y.apply(this,arguments)},x.prototype.toLocaleString=x.prototype.toString,x.prototype.equals=function(ge){if(!x.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge?!0:x.compare(this,ge)===0},x.prototype.inspect=function(){var ge="",Me=p.h2;return ge=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(ge+=" ... "),"<Buffer "+ge+">"},w&&(x.prototype[w]=x.prototype.inspect),x.prototype.compare=function(ge,Me,Ae,Ue,Ze){if(Je(ge,Uint8Array)&&(ge=x.from(ge,ge.offset,ge.byteLength)),!x.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(ge));if(Me===void 0&&(Me=0),Ae===void 0&&(Ae=ge?ge.length:0),Ue===void 0&&(Ue=0),Ze===void 0&&(Ze=this.length),Me<0||Ae>ge.length||Ue<0||Ze>this.length)throw new RangeError("out of range index");if(Ue>=Ze&&Me>=Ae)return 0;if(Ue>=Ze)return-1;if(Me>=Ae)return 1;if(Me>>>=0,Ae>>>=0,Ue>>>=0,Ze>>>=0,this===ge)return 0;for(var tt=Ze-Ue,ft=Ae-Me,pt=Math.min(tt,ft),Yt=this.slice(Ue,Ze),Jt=ge.slice(Me,Ae),Tt=0;Tt<pt;++Tt)if(Yt[Tt]!==Jt[Tt]){tt=Yt[Tt],ft=Jt[Tt];break}return tt<ft?-1:ft<tt?1:0};function te(xe,ge,Me,Ae,Ue){if(xe.length===0)return-1;if(typeof Me=="string"?(Ae=Me,Me=0):Me>2147483647?Me=2147483647:Me<-2147483648&&(Me=-2147483648),Me=+Me,Ge(Me)&&(Me=Ue?0:xe.length-1),Me<0&&(Me=xe.length+Me),Me>=xe.length){if(Ue)return-1;Me=xe.length-1}else if(Me<0)if(Ue)Me=0;else return-1;if(typeof ge=="string"&&(ge=x.from(ge,Ae)),x.isBuffer(ge))return ge.length===0?-1:ie(xe,ge,Me,Ae,Ue);if(typeof ge=="number")return ge=ge&255,typeof Uint8Array.prototype.indexOf=="function"?Ue?Uint8Array.prototype.indexOf.call(xe,ge,Me):Uint8Array.prototype.lastIndexOf.call(xe,ge,Me):ie(xe,[ge],Me,Ae,Ue);throw new TypeError("val must be string, number or Buffer")}function ie(xe,ge,Me,Ae,Ue){var Ze=1,tt=xe.length,ft=ge.length;if(Ae!==void 0&&(Ae=String(Ae).toLowerCase(),Ae==="ucs2"||Ae==="ucs-2"||Ae==="utf16le"||Ae==="utf-16le")){if(xe.length<2||ge.length<2)return-1;Ze=2,tt/=2,ft/=2,Me/=2}function pt($t,wr){return Ze===1?$t[wr]:$t.readUInt16BE(wr*Ze)}var Yt;if(Ue){var Jt=-1;for(Yt=Me;Yt<tt;Yt++)if(pt(xe,Yt)===pt(ge,Jt===-1?0:Yt-Jt)){if(Jt===-1&&(Jt=Yt),Yt-Jt+1===ft)return Jt*Ze}else Jt!==-1&&(Yt-=Yt-Jt),Jt=-1}else for(Me+ft>tt&&(Me=tt-ft),Yt=Me;Yt>=0;Yt--){for(var Tt=!0,zt=0;zt<ft;zt++)if(pt(xe,Yt+zt)!==pt(ge,zt)){Tt=!1;break}if(Tt)return Yt}return-1}x.prototype.includes=function(ge,Me,Ae){return this.indexOf(ge,Me,Ae)!==-1},x.prototype.indexOf=function(ge,Me,Ae){return te(this,ge,Me,Ae,!0)},x.prototype.lastIndexOf=function(ge,Me,Ae){return te(this,ge,Me,Ae,!1)};function ce(xe,ge,Me,Ae){Me=Number(Me)||0;var Ue=xe.length-Me;Ae?(Ae=Number(Ae),Ae>Ue&&(Ae=Ue)):Ae=Ue;var Ze=ge.length;Ae>Ze/2&&(Ae=Ze/2);var tt;for(tt=0;tt<Ae;++tt){var ft=parseInt(ge.substr(tt*2,2),16);if(Ge(ft))return tt;xe[Me+tt]=ft}return tt}function J(xe,ge,Me,Ae){return Vt(dt(ge,xe.length-Me),xe,Me,Ae)}function Z(xe,ge,Me,Ae){return Vt(gt(ge),xe,Me,Ae)}function ae(xe,ge,Me,Ae){return Vt(Rt(ge),xe,Me,Ae)}function j(xe,ge,Me,Ae){return Vt(At(ge,xe.length-Me),xe,Me,Ae)}x.prototype.write=function(ge,Me,Ae,Ue){if(Me===void 0)Ue="utf8",Ae=this.length,Me=0;else if(Ae===void 0&&typeof Me=="string")Ue=Me,Ae=this.length,Me=0;else if(isFinite(Me))Me=Me>>>0,isFinite(Ae)?(Ae=Ae>>>0,Ue===void 0&&(Ue="utf8")):(Ue=Ae,Ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ze=this.length-Me;if((Ae===void 0||Ae>Ze)&&(Ae=Ze),ge.length>0&&(Ae<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var tt=!1;;)switch(Ue){case"hex":return ce(this,ge,Me,Ae);case"utf8":case"utf-8":return J(this,ge,Me,Ae);case"ascii":case"latin1":case"binary":return Z(this,ge,Me,Ae);case"base64":return ae(this,ge,Me,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,ge,Me,Ae);default:if(tt)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),tt=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(xe,ge,Me){return ge===0&&Me===xe.length?d.fromByteArray(xe):d.fromByteArray(xe.slice(ge,Me))}function oe(xe,ge,Me){Me=Math.min(xe.length,Me);for(var Ae=[],Ue=ge;Ue<Me;){var Ze=xe[Ue],tt=null,ft=Ze>239?4:Ze>223?3:Ze>191?2:1;if(Ue+ft<=Me){var pt=void 0,Yt=void 0,Jt=void 0,Tt=void 0;switch(ft){case 1:Ze<128&&(tt=Ze);break;case 2:pt=xe[Ue+1],(pt&192)===128&&(Tt=(Ze&31)<<6|pt&63,Tt>127&&(tt=Tt));break;case 3:pt=xe[Ue+1],Yt=xe[Ue+2],(pt&192)===128&&(Yt&192)===128&&(Tt=(Ze&15)<<12|(pt&63)<<6|Yt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(tt=Tt));break;case 4:pt=xe[Ue+1],Yt=xe[Ue+2],Jt=xe[Ue+3],(pt&192)===128&&(Yt&192)===128&&(Jt&192)===128&&(Tt=(Ze&15)<<18|(pt&63)<<12|(Yt&63)<<6|Jt&63,Tt>65535&&Tt<1114112&&(tt=Tt))}}tt===null?(tt=65533,ft=1):tt>65535&&(tt-=65536,Ae.push(tt>>>10&1023|55296),tt=56320|tt&1023),Ae.push(tt),Ue+=ft}return K(Ae)}var Q=4096;function K(xe){var ge=xe.length;if(ge<=Q)return String.fromCharCode.apply(String,xe);for(var Me="",Ae=0;Ae<ge;)Me+=String.fromCharCode.apply(String,xe.slice(Ae,Ae+=Q));return Me}function se(xe,ge,Me){var Ae="";Me=Math.min(xe.length,Me);for(var Ue=ge;Ue<Me;++Ue)Ae+=String.fromCharCode(xe[Ue]&127);return Ae}function ne(xe,ge,Me){var Ae="";Me=Math.min(xe.length,Me);for(var Ue=ge;Ue<Me;++Ue)Ae+=String.fromCharCode(xe[Ue]);return Ae}function fe(xe,ge,Me){var Ae=xe.length;(!ge||ge<0)&&(ge=0),(!Me||Me<0||Me>Ae)&&(Me=Ae);for(var Ue="",Ze=ge;Ze<Me;++Ze)Ue+=Ie[xe[Ze]];return Ue}function ye(xe,ge,Me){for(var Ae=xe.slice(ge,Me),Ue="",Ze=0;Ze<Ae.length-1;Ze+=2)Ue+=String.fromCharCode(Ae[Ze]+Ae[Ze+1]*256);return Ue}x.prototype.slice=function(ge,Me){var Ae=this.length;ge=~~ge,Me=Me===void 0?Ae:~~Me,ge<0?(ge+=Ae,ge<0&&(ge=0)):ge>Ae&&(ge=Ae),Me<0?(Me+=Ae,Me<0&&(Me=0)):Me>Ae&&(Me=Ae),Me<ge&&(Me=ge);var Ue=this.subarray(ge,Me);return Object.setPrototypeOf(Ue,x.prototype),Ue};function Ee(xe,ge,Me){if(xe%1!==0||xe<0)throw new RangeError("offset is not uint");if(xe+ge>Me)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUintLE=x.prototype.readUIntLE=function(ge,Me,Ae){ge=ge>>>0,Me=Me>>>0,Ae||Ee(ge,Me,this.length);for(var Ue=this[ge],Ze=1,tt=0;++tt<Me&&(Ze*=256);)Ue+=this[ge+tt]*Ze;return Ue},x.prototype.readUintBE=x.prototype.readUIntBE=function(ge,Me,Ae){ge=ge>>>0,Me=Me>>>0,Ae||Ee(ge,Me,this.length);for(var Ue=this[ge+--Me],Ze=1;Me>0&&(Ze*=256);)Ue+=this[ge+--Me]*Ze;return Ue},x.prototype.readUint8=x.prototype.readUInt8=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,1,this.length),this[ge]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,2,this.length),this[ge]|this[ge+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,2,this.length),this[ge]<<8|this[ge+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+this[ge+3]*16777216},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,4,this.length),this[ge]*16777216+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},x.prototype.readBigUInt64LE=Fe(function(ge){ge=ge>>>0,lt(ge,"offset");var Me=this[ge],Ae=this[ge+7];(Me===void 0||Ae===void 0)&&$e(ge,this.length-8);var Ue=Me+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24),Ze=this[++ge]+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+Ae*Math.pow(2,24);return BigInt(Ue)+(BigInt(Ze)<<BigInt(32))}),x.prototype.readBigUInt64BE=Fe(function(ge){ge=ge>>>0,lt(ge,"offset");var Me=this[ge],Ae=this[ge+7];(Me===void 0||Ae===void 0)&&$e(ge,this.length-8);var Ue=Me*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge],Ze=this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Ae;return(BigInt(Ue)<<BigInt(32))+BigInt(Ze)}),x.prototype.readIntLE=function(ge,Me,Ae){ge=ge>>>0,Me=Me>>>0,Ae||Ee(ge,Me,this.length);for(var Ue=this[ge],Ze=1,tt=0;++tt<Me&&(Ze*=256);)Ue+=this[ge+tt]*Ze;return Ze*=128,Ue>=Ze&&(Ue-=Math.pow(2,8*Me)),Ue},x.prototype.readIntBE=function(ge,Me,Ae){ge=ge>>>0,Me=Me>>>0,Ae||Ee(ge,Me,this.length);for(var Ue=Me,Ze=1,tt=this[ge+--Ue];Ue>0&&(Ze*=256);)tt+=this[ge+--Ue]*Ze;return Ze*=128,tt>=Ze&&(tt-=Math.pow(2,8*Me)),tt},x.prototype.readInt8=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,1,this.length),this[ge]&128?(255-this[ge]+1)*-1:this[ge]},x.prototype.readInt16LE=function(ge,Me){ge=ge>>>0,Me||Ee(ge,2,this.length);var Ae=this[ge]|this[ge+1]<<8;return Ae&32768?Ae|4294901760:Ae},x.prototype.readInt16BE=function(ge,Me){ge=ge>>>0,Me||Ee(ge,2,this.length);var Ae=this[ge+1]|this[ge]<<8;return Ae&32768?Ae|4294901760:Ae},x.prototype.readInt32LE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},x.prototype.readInt32BE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},x.prototype.readBigInt64LE=Fe(function(ge){ge=ge>>>0,lt(ge,"offset");var Me=this[ge],Ae=this[ge+7];(Me===void 0||Ae===void 0)&&$e(ge,this.length-8);var Ue=this[ge+4]+this[ge+5]*Math.pow(2,8)+this[ge+6]*Math.pow(2,16)+(Ae<<24);return(BigInt(Ue)<<BigInt(32))+BigInt(Me+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24))}),x.prototype.readBigInt64BE=Fe(function(ge){ge=ge>>>0,lt(ge,"offset");var Me=this[ge],Ae=this[ge+7];(Me===void 0||Ae===void 0)&&$e(ge,this.length-8);var Ue=(Me<<24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge];return(BigInt(Ue)<<BigInt(32))+BigInt(this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Ae)}),x.prototype.readFloatLE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,4,this.length),A.read(this,ge,!0,23,4)},x.prototype.readFloatBE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,4,this.length),A.read(this,ge,!1,23,4)},x.prototype.readDoubleLE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,8,this.length),A.read(this,ge,!0,52,8)},x.prototype.readDoubleBE=function(ge,Me){return ge=ge>>>0,Me||Ee(ge,8,this.length),A.read(this,ge,!1,52,8)};function Te(xe,ge,Me,Ae,Ue,Ze){if(!x.isBuffer(xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(ge>Ue||ge<Ze)throw new RangeError('"value" argument is out of bounds');if(Me+Ae>xe.length)throw new RangeError("Index out of range")}x.prototype.writeUintLE=x.prototype.writeUIntLE=function(ge,Me,Ae,Ue){if(ge=+ge,Me=Me>>>0,Ae=Ae>>>0,!Ue){var Ze=Math.pow(2,8*Ae)-1;Te(this,ge,Me,Ae,Ze,0)}var tt=1,ft=0;for(this[Me]=ge&255;++ft<Ae&&(tt*=256);)this[Me+ft]=ge/tt&255;return Me+Ae},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(ge,Me,Ae,Ue){if(ge=+ge,Me=Me>>>0,Ae=Ae>>>0,!Ue){var Ze=Math.pow(2,8*Ae)-1;Te(this,ge,Me,Ae,Ze,0)}var tt=Ae-1,ft=1;for(this[Me+tt]=ge&255;--tt>=0&&(ft*=256);)this[Me+tt]=ge/ft&255;return Me+Ae},x.prototype.writeUint8=x.prototype.writeUInt8=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,1,255,0),this[Me]=ge&255,Me+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,2,65535,0),this[Me]=ge&255,this[Me+1]=ge>>>8,Me+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,2,65535,0),this[Me]=ge>>>8,this[Me+1]=ge&255,Me+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,4,4294967295,0),this[Me+3]=ge>>>24,this[Me+2]=ge>>>16,this[Me+1]=ge>>>8,this[Me]=ge&255,Me+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,4,4294967295,0),this[Me]=ge>>>24,this[Me+1]=ge>>>16,this[Me+2]=ge>>>8,this[Me+3]=ge&255,Me+4};function ze(xe,ge,Me,Ae,Ue){at(ge,Ae,Ue,xe,Me,7);var Ze=Number(ge&BigInt(4294967295));xe[Me++]=Ze,Ze=Ze>>8,xe[Me++]=Ze,Ze=Ze>>8,xe[Me++]=Ze,Ze=Ze>>8,xe[Me++]=Ze;var tt=Number(ge>>BigInt(32)&BigInt(4294967295));return xe[Me++]=tt,tt=tt>>8,xe[Me++]=tt,tt=tt>>8,xe[Me++]=tt,tt=tt>>8,xe[Me++]=tt,Me}function ke(xe,ge,Me,Ae,Ue){at(ge,Ae,Ue,xe,Me,7);var Ze=Number(ge&BigInt(4294967295));xe[Me+7]=Ze,Ze=Ze>>8,xe[Me+6]=Ze,Ze=Ze>>8,xe[Me+5]=Ze,Ze=Ze>>8,xe[Me+4]=Ze;var tt=Number(ge>>BigInt(32)&BigInt(4294967295));return xe[Me+3]=tt,tt=tt>>8,xe[Me+2]=tt,tt=tt>>8,xe[Me+1]=tt,tt=tt>>8,xe[Me]=tt,Me+8}x.prototype.writeBigUInt64LE=Fe(function(ge){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,ge,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeBigUInt64BE=Fe(function(ge){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,ge,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeIntLE=function(ge,Me,Ae,Ue){if(ge=+ge,Me=Me>>>0,!Ue){var Ze=Math.pow(2,8*Ae-1);Te(this,ge,Me,Ae,Ze-1,-Ze)}var tt=0,ft=1,pt=0;for(this[Me]=ge&255;++tt<Ae&&(ft*=256);)ge<0&&pt===0&&this[Me+tt-1]!==0&&(pt=1),this[Me+tt]=(ge/ft>>0)-pt&255;return Me+Ae},x.prototype.writeIntBE=function(ge,Me,Ae,Ue){if(ge=+ge,Me=Me>>>0,!Ue){var Ze=Math.pow(2,8*Ae-1);Te(this,ge,Me,Ae,Ze-1,-Ze)}var tt=Ae-1,ft=1,pt=0;for(this[Me+tt]=ge&255;--tt>=0&&(ft*=256);)ge<0&&pt===0&&this[Me+tt+1]!==0&&(pt=1),this[Me+tt]=(ge/ft>>0)-pt&255;return Me+Ae},x.prototype.writeInt8=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,1,127,-128),ge<0&&(ge=255+ge+1),this[Me]=ge&255,Me+1},x.prototype.writeInt16LE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,2,32767,-32768),this[Me]=ge&255,this[Me+1]=ge>>>8,Me+2},x.prototype.writeInt16BE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,2,32767,-32768),this[Me]=ge>>>8,this[Me+1]=ge&255,Me+2},x.prototype.writeInt32LE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,4,2147483647,-2147483648),this[Me]=ge&255,this[Me+1]=ge>>>8,this[Me+2]=ge>>>16,this[Me+3]=ge>>>24,Me+4},x.prototype.writeInt32BE=function(ge,Me,Ae){return ge=+ge,Me=Me>>>0,Ae||Te(this,ge,Me,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[Me]=ge>>>24,this[Me+1]=ge>>>16,this[Me+2]=ge>>>8,this[Me+3]=ge&255,Me+4},x.prototype.writeBigInt64LE=Fe(function(ge){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,ge,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeBigInt64BE=Fe(function(ge){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,ge,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(xe,ge,Me,Ae,Ue,Ze){if(Me+Ae>xe.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("Index out of range")}function me(xe,ge,Me,Ae,Ue){return ge=+ge,Me=Me>>>0,Ue||Se(xe,ge,Me,4),A.write(xe,ge,Me,Ae,23,4),Me+4}x.prototype.writeFloatLE=function(ge,Me,Ae){return me(this,ge,Me,!0,Ae)},x.prototype.writeFloatBE=function(ge,Me,Ae){return me(this,ge,Me,!1,Ae)};function Ce(xe,ge,Me,Ae,Ue){return ge=+ge,Me=Me>>>0,Ue||Se(xe,ge,Me,8),A.write(xe,ge,Me,Ae,52,8),Me+8}x.prototype.writeDoubleLE=function(ge,Me,Ae){return Ce(this,ge,Me,!0,Ae)},x.prototype.writeDoubleBE=function(ge,Me,Ae){return Ce(this,ge,Me,!1,Ae)},x.prototype.copy=function(ge,Me,Ae,Ue){if(!x.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(Ae||(Ae=0),!Ue&&Ue!==0&&(Ue=this.length),Me>=ge.length&&(Me=ge.length),Me||(Me=0),Ue>0&&Ue<Ae&&(Ue=Ae),Ue===Ae||ge.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(Ae<0||Ae>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),ge.length-Me<Ue-Ae&&(Ue=ge.length-Me+Ae);var Ze=Ue-Ae;return this===ge&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,Ae,Ue):Uint8Array.prototype.set.call(ge,this.subarray(Ae,Ue),Me),Ze},x.prototype.fill=function(ge,Me,Ae,Ue){if(typeof ge=="string"){if(typeof Me=="string"?(Ue=Me,Me=0,Ae=this.length):typeof Ae=="string"&&(Ue=Ae,Ae=this.length),Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!x.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(ge.length===1){var Ze=ge.charCodeAt(0);(Ue==="utf8"&&Ze<128||Ue==="latin1")&&(ge=Ze)}}else typeof ge=="number"?ge=ge&255:typeof ge=="boolean"&&(ge=Number(ge));if(Me<0||this.length<Me||this.length<Ae)throw new RangeError("Out of range index");if(Ae<=Me)return this;Me=Me>>>0,Ae=Ae===void 0?this.length:Ae>>>0,ge||(ge=0);var tt;if(typeof ge=="number")for(tt=Me;tt<Ae;++tt)this[tt]=ge;else{var ft=x.isBuffer(ge)?ge:x.from(ge,Ue),pt=ft.length;if(pt===0)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(tt=0;tt<Ae-Me;++tt)this[tt+Me]=ft[tt%pt]}return this};var Ne={};function He(xe,ge,Me){Ne[xe]=function(Ae){c(Ze,Ae);var Ue=l(Ze);function Ze(){var tt;return t(this,Ze),tt=Ue.call(this),Object.defineProperty(f(tt),"message",{value:ge.apply(f(tt),arguments),writable:!0,configurable:!0}),tt.name="".concat(tt.name," [").concat(xe,"]"),tt.stack,delete tt.name,tt}return n(Ze,[{key:"code",get:function(){return xe},set:function(ft){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ft,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(xe,"]: ").concat(this.message)}}]),Ze}(Me)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(xe){return xe?"".concat(xe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(xe,ge){return'The "'.concat(xe,'" argument must be of type number. Received type ').concat(s(ge))},TypeError),He("ERR_OUT_OF_RANGE",function(xe,ge,Me){var Ae='The value of "'.concat(xe,'" is out of range.'),Ue=Me;return Number.isInteger(Me)&&Math.abs(Me)>Math.pow(2,32)?Ue=De(String(Me)):typeof Me=="bigint"&&(Ue=String(Me),(Me>Math.pow(BigInt(2),BigInt(32))||Me<-Math.pow(BigInt(2),BigInt(32)))&&(Ue=De(Ue)),Ue+="n"),Ae+=" It must be ".concat(ge,". Received ").concat(Ue),Ae},RangeError);function De(xe){for(var ge="",Me=xe.length,Ae=xe[0]==="-"?1:0;Me>=Ae+4;Me-=3)ge="_".concat(xe.slice(Me-3,Me)).concat(ge);return"".concat(xe.slice(0,Me)).concat(ge)}function Ve(xe,ge,Me){lt(ge,"offset"),(xe[ge]===void 0||xe[ge+Me]===void 0)&&$e(ge,xe.length-(Me+1))}function at(xe,ge,Me,Ae,Ue,Ze){if(xe>Me||xe<ge){var tt=typeof ge=="bigint"?"n":"",ft;throw Ze>3?ge===0||ge===BigInt(0)?ft=">= 0".concat(tt," and < 2").concat(tt," ** ").concat((Ze+1)*8).concat(tt):ft=">= -(2".concat(tt," ** ").concat((Ze+1)*8-1).concat(tt,") and < 2 ** ")+"".concat((Ze+1)*8-1).concat(tt):ft=">= ".concat(ge).concat(tt," and <= ").concat(Me).concat(tt),new Ne.ERR_OUT_OF_RANGE("value",ft,xe)}Ve(Ae,Ue,Ze)}function lt(xe,ge){if(typeof xe!="number")throw new Ne.ERR_INVALID_ARG_TYPE(ge,"number",xe)}function $e(xe,ge,Me){throw Math.floor(xe)!==xe?(lt(xe,Me),new Ne.ERR_OUT_OF_RANGE(Me||"offset","an integer",xe)):ge<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE(Me||"offset",">= ".concat(Me?1:0," and <= ").concat(ge),xe)}var et=/[^+/0-9A-Za-z-_]/g;function ct(xe){if(xe=xe.split("=")[0],xe=xe.trim().replace(et,""),xe.length<2)return"";for(;xe.length%4!==0;)xe=xe+"=";return xe}function dt(xe,ge){ge=ge||1/0;for(var Me,Ae=xe.length,Ue=null,Ze=[],tt=0;tt<Ae;++tt){if(Me=xe.charCodeAt(tt),Me>55295&&Me<57344){if(!Ue){if(Me>56319){(ge-=3)>-1&&Ze.push(239,191,189);continue}else if(tt+1===Ae){(ge-=3)>-1&&Ze.push(239,191,189);continue}Ue=Me;continue}if(Me<56320){(ge-=3)>-1&&Ze.push(239,191,189),Ue=Me;continue}Me=(Ue-55296<<10|Me-56320)+65536}else Ue&&(ge-=3)>-1&&Ze.push(239,191,189);if(Ue=null,Me<128){if((ge-=1)<0)break;Ze.push(Me)}else if(Me<2048){if((ge-=2)<0)break;Ze.push(Me>>6|192,Me&63|128)}else if(Me<65536){if((ge-=3)<0)break;Ze.push(Me>>12|224,Me>>6&63|128,Me&63|128)}else if(Me<1114112){if((ge-=4)<0)break;Ze.push(Me>>18|240,Me>>12&63|128,Me>>6&63|128,Me&63|128)}else throw new Error("Invalid code point")}return Ze}function gt(xe){for(var ge=[],Me=0;Me<xe.length;++Me)ge.push(xe.charCodeAt(Me)&255);return ge}function At(xe,ge){for(var Me,Ae,Ue,Ze=[],tt=0;tt<xe.length&&!((ge-=2)<0);++tt)Me=xe.charCodeAt(tt),Ae=Me>>8,Ue=Me%256,Ze.push(Ue),Ze.push(Ae);return Ze}function Rt(xe){return d.toByteArray(ct(xe))}function Vt(xe,ge,Me,Ae){var Ue;for(Ue=0;Ue<Ae&&!(Ue+Me>=ge.length||Ue>=xe.length);++Ue)ge[Ue+Me]=xe[Ue];return Ue}function Je(xe,ge){return xe instanceof ge||xe!=null&&xe.constructor!=null&&xe.constructor.name!=null&&xe.constructor.name===ge.name}function Ge(xe){return xe!==xe}var Ie=function(){for(var xe="0123456789abcdef",ge=new Array(256),Me=0;Me<16;++Me)for(var Ae=Me*16,Ue=0;Ue<16;++Ue)ge[Ae+Ue]=xe[Me]+xe[Ue];return ge}();function Fe(xe){return typeof BigInt>"u"?Pe:xe}function Pe(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=o,v.exports.isMobile=o,v.exports.default=o;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function o(n){n||(n={});var c=n.ua;if(!c&&typeof navigator<"u"&&(c=navigator.userAgent),c&&c.headers&&typeof c.headers["user-agent"]=="string"&&(c=c.headers["user-agent"]),typeof c!="string")return!1;var u=p.test(c)&&!r.test(c)||!!n.tablet&&t.test(c);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&c.indexOf("Macintosh")!==-1&&c.indexOf("Safari")!==-1&&(u=!0),u}},3910:function(v,p){p.byteLength=g,p.toByteArray=T,p.fromByteArray=d;for(var r=[],t=[],o=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=n.length;c<u;++c)r[c]=n[c],t[n.charCodeAt(c)]=c;t[45]=62,t[95]=63;function l(A){var w=A.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=A.indexOf("=");C===-1&&(C=w);var b=C===w?0:4-C%4;return[C,b]}function g(A){var w=l(A),C=w[0],b=w[1];return(C+b)*3/4-b}function f(A,w,C){return(w+C)*3/4-C}function T(A){var w,C=l(A),b=C[0],S=C[1],x=new o(f(A,b,S)),i=0,E=S>0?b-4:b,m;for(m=0;m<E;m+=4)w=t[A.charCodeAt(m)]<<18|t[A.charCodeAt(m+1)]<<12|t[A.charCodeAt(m+2)]<<6|t[A.charCodeAt(m+3)],x[i++]=w>>16&255,x[i++]=w>>8&255,x[i++]=w&255;return S===2&&(w=t[A.charCodeAt(m)]<<2|t[A.charCodeAt(m+1)]>>4,x[i++]=w&255),S===1&&(w=t[A.charCodeAt(m)]<<10|t[A.charCodeAt(m+1)]<<4|t[A.charCodeAt(m+2)]>>2,x[i++]=w>>8&255,x[i++]=w&255),x}function h(A){return r[A>>18&63]+r[A>>12&63]+r[A>>6&63]+r[A&63]}function s(A,w,C){for(var b,S=[],x=w;x<C;x+=3)b=(A[x]<<16&16711680)+(A[x+1]<<8&65280)+(A[x+2]&255),S.push(h(b));return S.join("")}function d(A){for(var w,C=A.length,b=C%3,S=[],x=16383,i=0,E=C-b;i<E;i+=x)S.push(s(A,i,i+x>E?E:i+x));return b===1?(w=A[C-1],S.push(r[w>>2]+r[w<<4&63]+"==")):b===2&&(w=(A[C-2]<<8)+A[C-1],S.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),S.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,o,n,c){var u,l,g=c*8-n-1,f=(1<<g)-1,T=f>>1,h=-7,s=o?c-1:0,d=o?-1:1,A=r[t+s];for(s+=d,u=A&(1<<-h)-1,A>>=-h,h+=g;h>0;u=u*256+r[t+s],s+=d,h-=8);for(l=u&(1<<-h)-1,u>>=-h,h+=n;h>0;l=l*256+r[t+s],s+=d,h-=8);if(u===0)u=1-T;else{if(u===f)return l?NaN:(A?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-T}return(A?-1:1)*l*Math.pow(2,u-n)},p.write=function(r,t,o,n,c,u){var l,g,f,T=u*8-c-1,h=(1<<T)-1,s=h>>1,d=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:u-1,w=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,l=h):(l=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+s>=1?t+=d/f:t+=d*Math.pow(2,1-s),t*f>=2&&(l++,f/=2),l+s>=h?(g=0,l=h):l+s>=1?(g=(t*f-1)*Math.pow(2,c),l=l+s):(g=t*Math.pow(2,s-1)*Math.pow(2,c),l=0));c>=8;r[o+A]=g&255,A+=w,g/=256,c-=8);for(l=l<<c|g,T+=c;T>0;r[o+A]=l&255,A+=w,l/=256,T-=8);r[o+A-w]|=C*128}},1152:function(v,p,r){v.exports=l;var t=r(3440),o=r(7774),n=r(9298);function c(g,f){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(T){return g[T]}),this._mode=f,this._active=g[f],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=c.prototype;u.flush=function(g){for(var f=this._controllerList,T=0;T<f.length;++T)f[T].flush(g)},u.idle=function(g){for(var f=this._controllerList,T=0;T<f.length;++T)f[T].idle(g)},u.lookAt=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].lookAt(g,f,T,h)},u.rotate=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].rotate(g,f,T,h)},u.pan=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].pan(g,f,T,h)},u.translate=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].translate(g,f,T,h)},u.setMatrix=function(g,f){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setMatrix(g,f)},u.setDistanceLimits=function(g,f){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistanceLimits(g,f)},u.setDistance=function(g,f){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistance(g,f)},u.recalcMatrix=function(g){this._active.recalcMatrix(g)},u.getDistance=function(g){return this._active.getDistance(g)},u.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},u.lastT=function(){return this._active.lastT()},u.setMode=function(g){if(g!==this._mode){var f=this._controllerNames.indexOf(g);if(!(f<0)){var T=this._active,h=this._controllerList[f],s=Math.max(T.lastT(),h.lastT());T.recalcMatrix(s),h.setMatrix(s,T.computedMatrix),this._active=h,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(g){g=g||{};var f=g.eye||[0,0,1],T=g.center||[0,0,0],h=g.up||[0,1,0],s=g.distanceLimits||[0,1/0],d=g.mode||"turntable",A=t(),w=o(),C=n();return A.setDistanceLimits(s[0],s[1]),A.lookAt(0,f,T,h),w.setDistanceLimits(s[0],s[1]),w.lookAt(0,f,T,h),C.setDistanceLimits(s[0],s[1]),C.lookAt(0,f,T,h),new c({turntable:A,orbit:w,matrix:C},d)}},8126:function(v,p,r){var t=typeof WeakMap>"u"?r(5346):WeakMap,o=r(5827),n=r(2944),c=new t;function u(l){var g=c.get(l),f=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!f||!l.isBuffer(f)){var T=o(l,new Float32Array([-1,-1,-1,4,4,-1]));g=n(l,[{buffer:T,type:l.FLOAT,size:2}]),g._triangleBuffer=T,c.set(l,g)}g.bind(),l.drawArrays(l.TRIANGLES,0,3),g.unbind()}v.exports=u},8008:function(v,p,r){var t=r(4930);v.exports=o;function o(n,c,u){c=typeof c=="number"?c:1,u=u||": ";var l=n.split(/\r?\n/),g=String(l.length+c-1).length;return l.map(function(f,T){var h=T+c,s=String(h).length,d=t(h,g-s);return d+u+f}).join(`
`)}},2153:function(v,p,r){v.exports=n;var t=r(417);function o(c,u){for(var l=new Array(u+1),g=0;g<c.length;++g)l[g]=c[g];for(var g=0;g<=c.length;++g){for(var f=c.length;f<=u;++f){for(var T=new Array(u),h=0;h<u;++h)T[h]=Math.pow(f+1-g,h);l[f]=T}var s=t.apply(void 0,l);if(s)return!0}return!1}function n(c){var u=c.length;if(u===0)return[];if(u===1)return[0];for(var l=c[0].length,g=[c[0]],f=[0],T=1;T<u;++T){if(g.push(c[T]),!o(g,l)){g.pop();continue}if(f.push(T),f.length===l+1)return f}return f}},4653:function(v,p,r){v.exports=n;var t=r(4419),o=r(1778);function n(c,u){return t(u).filter(function(l){for(var g=new Array(l.length),f=0;f<l.length;++f)g[f]=u[l[f]];return o(g)*c<1})}},2350:function(v,p,r){v.exports=n;var t=r(4653),o=r(8691);function n(c,u){return o(t(c,u))}},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,p,r){v.exports=n;var t=r(6606);function o(c){for(var u=0,l=0;l<c.length;++l)u+=c[l];return u}function n(c,u){for(var l=u.length,g=new Array(l+1),f=0;f<l;++f){for(var T=new Array(l+1),h=0;h<=l;++h)T[h]=c[h][f];g[f]=T}g[l]=new Array(l+1);for(var f=0;f<=l;++f)g[l][f]=1;for(var s=new Array(l+1),f=0;f<l;++f)s[f]=u[f];s[l]=1;var d=t(g,s),A=o(d[l+1]);A===0&&(A=1);for(var w=new Array(l+1),f=0;f<=l;++f)w[f]=o(d[f])/A;return w}},1539:function(v,p,r){var t=r(8524);v.exports=o;function o(n,c){return t(n[0].mul(c[1]).add(c[0].mul(n[1])),n[1].mul(c[1]))}},8846:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(v,p,r){var t=r(8524);v.exports=o;function o(n,c){return t(n[0].mul(c[1]),n[1].mul(c[0]))}},5125:function(v,p,r){var t=r(234),o=r(3218),n=r(5514),c=r(2813),u=r(8524),l=r(9189);v.exports=g;function g(f,T){if(t(f))return T?l(f,g(T)):[f[0].clone(),f[1].clone()];var h=0,s,d;if(o(f))s=f.clone();else if(typeof f=="string")s=c(f);else{if(f===0)return[n(0),n(1)];if(f===Math.floor(f))s=n(f);else{for(;f!==Math.floor(f);)f=f*Math.pow(2,256),h-=256;s=n(f)}}if(t(T))s.mul(T[1]),d=T[0].clone();else if(o(T))d=T.clone();else if(typeof T=="string")d=c(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),h+=256;d=n(T)}return h>0?s=s.ushln(h):h<0&&(d=d.ushln(-h)),u(s,d)}},234:function(v,p,r){var t=r(3218);v.exports=o;function o(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},4275:function(v,p,r){var t=r(1928);v.exports=o;function o(n){return n.cmp(new t(0))}},9958:function(v,p,r){var t=r(4275);v.exports=o;function o(n){var c=n.length,u=n.words,l=0;if(c===1)l=u[0];else if(c===2)l=u[0]+u[1]*67108864;else for(var g=0;g<c;g++){var f=u[g];l+=f*Math.pow(67108864,g)}return t(n)*l}},1112:function(v,p,r){var t=r(8362),o=r(2288).countTrailingZeros;v.exports=n;function n(c){var u=o(t.lo(c));if(u<32)return u;var l=o(t.hi(c));return l>20?52:l+32}},3218:function(v,p,r){r(1928),v.exports=t;function t(o){return o&&typeof o=="object"&&!!o.words}},5514:function(v,p,r){var t=r(1928),o=r(8362);v.exports=n;function n(c){var u=o.exponent(c);return u<52?new t(c):new t(c*Math.pow(2,52-u)).ushln(u-52)}},8524:function(v,p,r){var t=r(5514),o=r(4275);v.exports=n;function n(c,u){var l=o(c),g=o(u);if(l===0)return[t(0),t(1)];if(g===0)return[t(0),t(0)];g<0&&(c=c.neg(),u=u.neg());var f=c.gcd(u);return f.cmpn(1)?[c.div(f),u.div(f)]:[c,u]}},2813:function(v,p,r){var t=r(1928);v.exports=o;function o(n){return new t(n)}},3962:function(v,p,r){var t=r(8524);v.exports=o;function o(n,c){return t(n[0].mul(c[0]),n[1].mul(c[1]))}},4951:function(v,p,r){var t=r(4275);v.exports=o;function o(n){return t(n[0])*t(n[1])}},4354:function(v,p,r){var t=r(8524);v.exports=o;function o(n,c){return t(n[0].mul(c[1]).sub(n[1].mul(c[0])),n[1].mul(c[1]))}},7999:function(v,p,r){var t=r(9958),o=r(1112);v.exports=n;function n(c){var u=c[0],l=c[1];if(u.cmpn(0)===0)return 0;var g=u.abs().divmod(l.abs()),f=g.div,T=t(f),h=g.mod,s=u.negative!==l.negative?-1:1;if(h.cmpn(0)===0)return s*T;if(T){var d=o(T)+4,A=t(h.ushln(d).divRound(l));return s*(T+A*Math.pow(2,-d))}else{var w=l.bitLength()-h.bitLength()+53,A=t(h.ushln(w).divRound(l));return w<1023?s*A*Math.pow(2,-w):(A*=Math.pow(2,-1023),s*A*Math.pow(2,1023-w))}}},5070:function(v){function p(u,l,g,f,T){for(var h=T+1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A>=0?(h=s,T=s-1):f=s+1}return h}function r(u,l,g,f,T){for(var h=T+1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A>0?(h=s,T=s-1):f=s+1}return h}function t(u,l,g,f,T){for(var h=f-1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A<0?(h=s,f=s+1):T=s-1}return h}function o(u,l,g,f,T){for(var h=f-1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A<=0?(h=s,f=s+1):T=s-1}return h}function n(u,l,g,f,T){for(;f<=T;){var h=f+T>>>1,s=u[h],d=g!==void 0?g(s,l):s-l;if(d===0)return h;d<=0?f=h+1:T=h-1}return-1}function c(u,l,g,f,T,h){return typeof g=="function"?h(u,l,g,f===void 0?0:f|0,T===void 0?u.length-1:T|0):h(u,l,void 0,g===void 0?0:g|0,f===void 0?u.length-1:f|0)}v.exports={ge:function(u,l,g,f,T){return c(u,l,g,f,T,p)},gt:function(u,l,g,f,T){return c(u,l,g,f,T,r)},lt:function(u,l,g,f,T){return c(u,l,g,f,T,t)},le:function(u,l,g,f,T){return c(u,l,g,f,T,o)},eq:function(u,l,g,f,T){return c(u,l,g,f,T,n)}}},2288:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var c=n>>r-1;return(n^c)-c},p.min=function(n,c){return c^(n^c)&-(n<c)},p.max=function(n,c){return n^(n^c)&-(n<c)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var c,u;return c=(n>65535)<<4,n>>>=c,u=(n>255)<<3,n>>>=u,c|=u,u=(n>15)<<2,n>>>=u,c|=u,u=(n>3)<<1,n>>>=u,c|=u,c|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var c=32;return n&=-n,n&&c--,n&65535&&(c-=16),n&16711935&&(c-=8),n&252645135&&(c-=4),n&858993459&&(c-=2),n&1431655765&&(c-=1),c}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var c=0;c<256;++c){var u=c,l=c,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[c]=l<<g&255}})(o),p.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},p.interleave2=function(n,c){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,c&=65535,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,n|c<<1},p.deinterleave2=function(n,c){return n=n>>>c&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,c,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|=c<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,c){return n=n>>>c&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var c=n|n-1;return c+1|(~c&-~c)-1>>>t(n)+1}},1928:function(v,p,r){v=r.nmd(v),function(t,o){function n(B,O){if(!B)throw new Error(O||"Assertion failed")}function c(B,O){B.super_=O;var N=function(){};N.prototype=O.prototype,B.prototype=new N,B.prototype.constructor=B}function u(B,O,N){if(u.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((O==="le"||O==="be")&&(N=O,O=10),this._init(B||0,O||10,N||"be"))}typeof t=="object"?t.exports=u:o.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(6601).Buffer}catch{}u.isBN=function(O){return O instanceof u?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===u.wordSize&&Array.isArray(O.words)},u.max=function(O,N){return O.cmp(N)>0?O:N},u.min=function(O,N){return O.cmp(N)<0?O:N},u.prototype._init=function(O,N,Y){if(typeof O=="number")return this._initNumber(O,N,Y);if(typeof O=="object")return this._initArray(O,N,Y);N==="hex"&&(N=16),n(N===(N|0)&&N>=2&&N<=36),O=O.toString().replace(/\s+/g,"");var $=0;O[0]==="-"&&($++,this.negative=1),$<O.length&&(N===16?this._parseHex(O,$,Y):(this._parseBase(O,N,$),Y==="le"&&this._initArray(this.toArray(),N,Y)))},u.prototype._initNumber=function(O,N,Y){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(n(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),Y==="le"&&this._initArray(this.toArray(),N,Y)},u.prototype._initArray=function(O,N,Y){if(n(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var te,ie,ce=0;if(Y==="be")for($=O.length-1,te=0;$>=0;$-=3)ie=O[$]|O[$-1]<<8|O[$-2]<<16,this.words[te]|=ie<<ce&67108863,this.words[te+1]=ie>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,te++);else if(Y==="le")for($=0,te=0;$<O.length;$+=3)ie=O[$]|O[$+1]<<8|O[$+2]<<16,this.words[te]|=ie<<ce&67108863,this.words[te+1]=ie>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,te++);return this.strip()};function g(B,O){var N=B.charCodeAt(O);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function f(B,O,N){var Y=g(B,N);return N-1>=O&&(Y|=g(B,N-1)<<4),Y}u.prototype._parseHex=function(O,N,Y){this.length=Math.ceil((O.length-N)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var te=0,ie=0,ce;if(Y==="be")for($=O.length-1;$>=N;$-=2)ce=f(O,N,$)<<te,this.words[ie]|=ce&67108863,te>=18?(te-=18,ie+=1,this.words[ie]|=ce>>>26):te+=8;else{var J=O.length-N;for($=J%2===0?N+1:N;$<O.length;$+=2)ce=f(O,N,$)<<te,this.words[ie]|=ce&67108863,te>=18?(te-=18,ie+=1,this.words[ie]|=ce>>>26):te+=8}this.strip()};function T(B,O,N,Y){for(var $=0,te=Math.min(B.length,N),ie=O;ie<te;ie++){var ce=B.charCodeAt(ie)-48;$*=Y,ce>=49?$+=ce-49+10:ce>=17?$+=ce-17+10:$+=ce}return $}u.prototype._parseBase=function(O,N,Y){this.words=[0],this.length=1;for(var $=0,te=1;te<=67108863;te*=N)$++;$--,te=te/N|0;for(var ie=O.length-Y,ce=ie%$,J=Math.min(ie,ie-ce)+Y,Z=0,ae=Y;ae<J;ae+=$)Z=T(O,ae,ae+$,N),this.imuln(te),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(ce!==0){var j=1;for(Z=T(O,ae,O.length,N),ae=0;ae<ce;ae++)j*=N;this.imuln(j),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this.strip()},u.prototype.copy=function(O){O.words=new Array(this.length);for(var N=0;N<this.length;N++)O.words[N]=this.words[N];O.length=this.length,O.negative=this.negative,O.red=this.red},u.prototype.clone=function(){var O=new u(null);return this.copy(O),O},u.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(O,N){O=O||10,N=N|0||1;var Y;if(O===16||O==="hex"){Y="";for(var $=0,te=0,ie=0;ie<this.length;ie++){var ce=this.words[ie],J=((ce<<$|te)&16777215).toString(16);te=ce>>>24-$&16777215,te!==0||ie!==this.length-1?Y=h[6-J.length]+J+Y:Y=J+Y,$+=2,$>=26&&($-=26,ie--)}for(te!==0&&(Y=te.toString(16)+Y);Y.length%N!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}if(O===(O|0)&&O>=2&&O<=36){var Z=s[O],ae=d[O];Y="";var j=this.clone();for(j.negative=0;!j.isZero();){var q=j.modn(ae).toString(O);j=j.idivn(ae),j.isZero()?Y=q+Y:Y=h[Z-q.length]+q+Y}for(this.isZero()&&(Y="0"+Y);Y.length%N!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(O,N){return n(typeof l<"u"),this.toArrayLike(l,O,N)},u.prototype.toArray=function(O,N){return this.toArrayLike(Array,O,N)},u.prototype.toArrayLike=function(O,N,Y){var $=this.byteLength(),te=Y||Math.max(1,$);n($<=te,"byte array longer than desired length"),n(te>0,"Requested array length <= 0"),this.strip();var ie=N==="le",ce=new O(te),J,Z,ae=this.clone();if(ie){for(Z=0;!ae.isZero();Z++)J=ae.andln(255),ae.iushrn(8),ce[Z]=J;for(;Z<te;Z++)ce[Z]=0}else{for(Z=0;Z<te-$;Z++)ce[Z]=0;for(Z=0;!ae.isZero();Z++)J=ae.andln(255),ae.iushrn(8),ce[te-Z-1]=J}return ce},Math.clz32?u.prototype._countBits=function(O){return 32-Math.clz32(O)}:u.prototype._countBits=function(O){var N=O,Y=0;return N>=4096&&(Y+=13,N>>>=13),N>=64&&(Y+=7,N>>>=7),N>=8&&(Y+=4,N>>>=4),N>=2&&(Y+=2,N>>>=2),Y+N},u.prototype._zeroBits=function(O){if(O===0)return 26;var N=O,Y=0;return N&8191||(Y+=13,N>>>=13),N&127||(Y+=7,N>>>=7),N&15||(Y+=4,N>>>=4),N&3||(Y+=2,N>>>=2),N&1||Y++,Y},u.prototype.bitLength=function(){var O=this.words[this.length-1],N=this._countBits(O);return(this.length-1)*26+N};function A(B){for(var O=new Array(B.bitLength()),N=0;N<O.length;N++){var Y=N/26|0,$=N%26;O[N]=(B.words[Y]&1<<$)>>>$}return O}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,N=0;N<this.length;N++){var Y=this._zeroBits(this.words[N]);if(O+=Y,Y!==26)break}return O},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},u.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var N=0;N<O.length;N++)this.words[N]=this.words[N]|O.words[N];return this.strip()},u.prototype.ior=function(O){return n((this.negative|O.negative)===0),this.iuor(O)},u.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},u.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},u.prototype.iuand=function(O){var N;this.length>O.length?N=O:N=this;for(var Y=0;Y<N.length;Y++)this.words[Y]=this.words[Y]&O.words[Y];return this.length=N.length,this.strip()},u.prototype.iand=function(O){return n((this.negative|O.negative)===0),this.iuand(O)},u.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},u.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},u.prototype.iuxor=function(O){var N,Y;this.length>O.length?(N=this,Y=O):(N=O,Y=this);for(var $=0;$<Y.length;$++)this.words[$]=N.words[$]^Y.words[$];if(this!==N)for(;$<N.length;$++)this.words[$]=N.words[$];return this.length=N.length,this.strip()},u.prototype.ixor=function(O){return n((this.negative|O.negative)===0),this.iuxor(O)},u.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},u.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},u.prototype.inotn=function(O){n(typeof O=="number"&&O>=0);var N=Math.ceil(O/26)|0,Y=O%26;this._expand(N),Y>0&&N--;for(var $=0;$<N;$++)this.words[$]=~this.words[$]&67108863;return Y>0&&(this.words[$]=~this.words[$]&67108863>>26-Y),this.strip()},u.prototype.notn=function(O){return this.clone().inotn(O)},u.prototype.setn=function(O,N){n(typeof O=="number"&&O>=0);var Y=O/26|0,$=O%26;return this._expand(Y+1),N?this.words[Y]=this.words[Y]|1<<$:this.words[Y]=this.words[Y]&~(1<<$),this.strip()},u.prototype.iadd=function(O){var N;if(this.negative!==0&&O.negative===0)return this.negative=0,N=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,N=this.isub(O),O.negative=1,N._normSign();var Y,$;this.length>O.length?(Y=this,$=O):(Y=O,$=this);for(var te=0,ie=0;ie<$.length;ie++)N=(Y.words[ie]|0)+($.words[ie]|0)+te,this.words[ie]=N&67108863,te=N>>>26;for(;te!==0&&ie<Y.length;ie++)N=(Y.words[ie]|0)+te,this.words[ie]=N&67108863,te=N>>>26;if(this.length=Y.length,te!==0)this.words[this.length]=te,this.length++;else if(Y!==this)for(;ie<Y.length;ie++)this.words[ie]=Y.words[ie];return this},u.prototype.add=function(O){var N;return O.negative!==0&&this.negative===0?(O.negative=0,N=this.sub(O),O.negative^=1,N):O.negative===0&&this.negative!==0?(this.negative=0,N=O.sub(this),this.negative=1,N):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},u.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var N=this.iadd(O);return O.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var Y=this.cmp(O);if(Y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,te;Y>0?($=this,te=O):($=O,te=this);for(var ie=0,ce=0;ce<te.length;ce++)N=($.words[ce]|0)-(te.words[ce]|0)+ie,ie=N>>26,this.words[ce]=N&67108863;for(;ie!==0&&ce<$.length;ce++)N=($.words[ce]|0)+ie,ie=N>>26,this.words[ce]=N&67108863;if(ie===0&&ce<$.length&&$!==this)for(;ce<$.length;ce++)this.words[ce]=$.words[ce];return this.length=Math.max(this.length,ce),$!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(O){return this.clone().isub(O)};function w(B,O,N){N.negative=O.negative^B.negative;var Y=B.length+O.length|0;N.length=Y,Y=Y-1|0;var $=B.words[0]|0,te=O.words[0]|0,ie=$*te,ce=ie&67108863,J=ie/67108864|0;N.words[0]=ce;for(var Z=1;Z<Y;Z++){for(var ae=J>>>26,j=J&67108863,q=Math.min(Z,O.length-1),oe=Math.max(0,Z-B.length+1);oe<=q;oe++){var Q=Z-oe|0;$=B.words[Q]|0,te=O.words[oe]|0,ie=$*te+j,ae+=ie/67108864|0,j=ie&67108863}N.words[Z]=j|0,J=ae|0}return J!==0?N.words[Z]=J|0:N.length--,N.strip()}var C=function(O,N,Y){var $=O.words,te=N.words,ie=Y.words,ce=0,J,Z,ae,j=$[0]|0,q=j&8191,oe=j>>>13,Q=$[1]|0,K=Q&8191,se=Q>>>13,ne=$[2]|0,fe=ne&8191,ye=ne>>>13,Ee=$[3]|0,Te=Ee&8191,ze=Ee>>>13,ke=$[4]|0,Se=ke&8191,me=ke>>>13,Ce=$[5]|0,Ne=Ce&8191,He=Ce>>>13,De=$[6]|0,Ve=De&8191,at=De>>>13,lt=$[7]|0,$e=lt&8191,et=lt>>>13,ct=$[8]|0,dt=ct&8191,gt=ct>>>13,At=$[9]|0,Rt=At&8191,Vt=At>>>13,Je=te[0]|0,Ge=Je&8191,Ie=Je>>>13,Fe=te[1]|0,Pe=Fe&8191,xe=Fe>>>13,ge=te[2]|0,Me=ge&8191,Ae=ge>>>13,Ue=te[3]|0,Ze=Ue&8191,tt=Ue>>>13,ft=te[4]|0,pt=ft&8191,Yt=ft>>>13,Jt=te[5]|0,Tt=Jt&8191,zt=Jt>>>13,$t=te[6]|0,wr=$t&8191,yt=$t>>>13,Xt=te[7]|0,Qt=Xt&8191,gr=Xt>>>13,sr=te[8]|0,vt=sr&8191,it=sr>>>13,xt=te[9]|0,Mt=xt&8191,Dt=xt>>>13;Y.negative=O.negative^N.negative,Y.length=19,J=Math.imul(q,Ge),Z=Math.imul(q,Ie),Z=Z+Math.imul(oe,Ge)|0,ae=Math.imul(oe,Ie);var Lt=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,J=Math.imul(K,Ge),Z=Math.imul(K,Ie),Z=Z+Math.imul(se,Ge)|0,ae=Math.imul(se,Ie),J=J+Math.imul(q,Pe)|0,Z=Z+Math.imul(q,xe)|0,Z=Z+Math.imul(oe,Pe)|0,ae=ae+Math.imul(oe,xe)|0;var Bt=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,J=Math.imul(fe,Ge),Z=Math.imul(fe,Ie),Z=Z+Math.imul(ye,Ge)|0,ae=Math.imul(ye,Ie),J=J+Math.imul(K,Pe)|0,Z=Z+Math.imul(K,xe)|0,Z=Z+Math.imul(se,Pe)|0,ae=ae+Math.imul(se,xe)|0,J=J+Math.imul(q,Me)|0,Z=Z+Math.imul(q,Ae)|0,Z=Z+Math.imul(oe,Me)|0,ae=ae+Math.imul(oe,Ae)|0;var Nt=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,J=Math.imul(Te,Ge),Z=Math.imul(Te,Ie),Z=Z+Math.imul(ze,Ge)|0,ae=Math.imul(ze,Ie),J=J+Math.imul(fe,Pe)|0,Z=Z+Math.imul(fe,xe)|0,Z=Z+Math.imul(ye,Pe)|0,ae=ae+Math.imul(ye,xe)|0,J=J+Math.imul(K,Me)|0,Z=Z+Math.imul(K,Ae)|0,Z=Z+Math.imul(se,Me)|0,ae=ae+Math.imul(se,Ae)|0,J=J+Math.imul(q,Ze)|0,Z=Z+Math.imul(q,tt)|0,Z=Z+Math.imul(oe,Ze)|0,ae=ae+Math.imul(oe,tt)|0;var jt=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(jt>>>26)|0,jt&=67108863,J=Math.imul(Se,Ge),Z=Math.imul(Se,Ie),Z=Z+Math.imul(me,Ge)|0,ae=Math.imul(me,Ie),J=J+Math.imul(Te,Pe)|0,Z=Z+Math.imul(Te,xe)|0,Z=Z+Math.imul(ze,Pe)|0,ae=ae+Math.imul(ze,xe)|0,J=J+Math.imul(fe,Me)|0,Z=Z+Math.imul(fe,Ae)|0,Z=Z+Math.imul(ye,Me)|0,ae=ae+Math.imul(ye,Ae)|0,J=J+Math.imul(K,Ze)|0,Z=Z+Math.imul(K,tt)|0,Z=Z+Math.imul(se,Ze)|0,ae=ae+Math.imul(se,tt)|0,J=J+Math.imul(q,pt)|0,Z=Z+Math.imul(q,Yt)|0,Z=Z+Math.imul(oe,pt)|0,ae=ae+Math.imul(oe,Yt)|0;var lr=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(lr>>>26)|0,lr&=67108863,J=Math.imul(Ne,Ge),Z=Math.imul(Ne,Ie),Z=Z+Math.imul(He,Ge)|0,ae=Math.imul(He,Ie),J=J+Math.imul(Se,Pe)|0,Z=Z+Math.imul(Se,xe)|0,Z=Z+Math.imul(me,Pe)|0,ae=ae+Math.imul(me,xe)|0,J=J+Math.imul(Te,Me)|0,Z=Z+Math.imul(Te,Ae)|0,Z=Z+Math.imul(ze,Me)|0,ae=ae+Math.imul(ze,Ae)|0,J=J+Math.imul(fe,Ze)|0,Z=Z+Math.imul(fe,tt)|0,Z=Z+Math.imul(ye,Ze)|0,ae=ae+Math.imul(ye,tt)|0,J=J+Math.imul(K,pt)|0,Z=Z+Math.imul(K,Yt)|0,Z=Z+Math.imul(se,pt)|0,ae=ae+Math.imul(se,Yt)|0,J=J+Math.imul(q,Tt)|0,Z=Z+Math.imul(q,zt)|0,Z=Z+Math.imul(oe,Tt)|0,ae=ae+Math.imul(oe,zt)|0;var fr=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(fr>>>26)|0,fr&=67108863,J=Math.imul(Ve,Ge),Z=Math.imul(Ve,Ie),Z=Z+Math.imul(at,Ge)|0,ae=Math.imul(at,Ie),J=J+Math.imul(Ne,Pe)|0,Z=Z+Math.imul(Ne,xe)|0,Z=Z+Math.imul(He,Pe)|0,ae=ae+Math.imul(He,xe)|0,J=J+Math.imul(Se,Me)|0,Z=Z+Math.imul(Se,Ae)|0,Z=Z+Math.imul(me,Me)|0,ae=ae+Math.imul(me,Ae)|0,J=J+Math.imul(Te,Ze)|0,Z=Z+Math.imul(Te,tt)|0,Z=Z+Math.imul(ze,Ze)|0,ae=ae+Math.imul(ze,tt)|0,J=J+Math.imul(fe,pt)|0,Z=Z+Math.imul(fe,Yt)|0,Z=Z+Math.imul(ye,pt)|0,ae=ae+Math.imul(ye,Yt)|0,J=J+Math.imul(K,Tt)|0,Z=Z+Math.imul(K,zt)|0,Z=Z+Math.imul(se,Tt)|0,ae=ae+Math.imul(se,zt)|0,J=J+Math.imul(q,wr)|0,Z=Z+Math.imul(q,yt)|0,Z=Z+Math.imul(oe,wr)|0,ae=ae+Math.imul(oe,yt)|0;var hr=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(hr>>>26)|0,hr&=67108863,J=Math.imul($e,Ge),Z=Math.imul($e,Ie),Z=Z+Math.imul(et,Ge)|0,ae=Math.imul(et,Ie),J=J+Math.imul(Ve,Pe)|0,Z=Z+Math.imul(Ve,xe)|0,Z=Z+Math.imul(at,Pe)|0,ae=ae+Math.imul(at,xe)|0,J=J+Math.imul(Ne,Me)|0,Z=Z+Math.imul(Ne,Ae)|0,Z=Z+Math.imul(He,Me)|0,ae=ae+Math.imul(He,Ae)|0,J=J+Math.imul(Se,Ze)|0,Z=Z+Math.imul(Se,tt)|0,Z=Z+Math.imul(me,Ze)|0,ae=ae+Math.imul(me,tt)|0,J=J+Math.imul(Te,pt)|0,Z=Z+Math.imul(Te,Yt)|0,Z=Z+Math.imul(ze,pt)|0,ae=ae+Math.imul(ze,Yt)|0,J=J+Math.imul(fe,Tt)|0,Z=Z+Math.imul(fe,zt)|0,Z=Z+Math.imul(ye,Tt)|0,ae=ae+Math.imul(ye,zt)|0,J=J+Math.imul(K,wr)|0,Z=Z+Math.imul(K,yt)|0,Z=Z+Math.imul(se,wr)|0,ae=ae+Math.imul(se,yt)|0,J=J+Math.imul(q,Qt)|0,Z=Z+Math.imul(q,gr)|0,Z=Z+Math.imul(oe,Qt)|0,ae=ae+Math.imul(oe,gr)|0;var Ye=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,J=Math.imul(dt,Ge),Z=Math.imul(dt,Ie),Z=Z+Math.imul(gt,Ge)|0,ae=Math.imul(gt,Ie),J=J+Math.imul($e,Pe)|0,Z=Z+Math.imul($e,xe)|0,Z=Z+Math.imul(et,Pe)|0,ae=ae+Math.imul(et,xe)|0,J=J+Math.imul(Ve,Me)|0,Z=Z+Math.imul(Ve,Ae)|0,Z=Z+Math.imul(at,Me)|0,ae=ae+Math.imul(at,Ae)|0,J=J+Math.imul(Ne,Ze)|0,Z=Z+Math.imul(Ne,tt)|0,Z=Z+Math.imul(He,Ze)|0,ae=ae+Math.imul(He,tt)|0,J=J+Math.imul(Se,pt)|0,Z=Z+Math.imul(Se,Yt)|0,Z=Z+Math.imul(me,pt)|0,ae=ae+Math.imul(me,Yt)|0,J=J+Math.imul(Te,Tt)|0,Z=Z+Math.imul(Te,zt)|0,Z=Z+Math.imul(ze,Tt)|0,ae=ae+Math.imul(ze,zt)|0,J=J+Math.imul(fe,wr)|0,Z=Z+Math.imul(fe,yt)|0,Z=Z+Math.imul(ye,wr)|0,ae=ae+Math.imul(ye,yt)|0,J=J+Math.imul(K,Qt)|0,Z=Z+Math.imul(K,gr)|0,Z=Z+Math.imul(se,Qt)|0,ae=ae+Math.imul(se,gr)|0,J=J+Math.imul(q,vt)|0,Z=Z+Math.imul(q,it)|0,Z=Z+Math.imul(oe,vt)|0,ae=ae+Math.imul(oe,it)|0;var We=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(We>>>26)|0,We&=67108863,J=Math.imul(Rt,Ge),Z=Math.imul(Rt,Ie),Z=Z+Math.imul(Vt,Ge)|0,ae=Math.imul(Vt,Ie),J=J+Math.imul(dt,Pe)|0,Z=Z+Math.imul(dt,xe)|0,Z=Z+Math.imul(gt,Pe)|0,ae=ae+Math.imul(gt,xe)|0,J=J+Math.imul($e,Me)|0,Z=Z+Math.imul($e,Ae)|0,Z=Z+Math.imul(et,Me)|0,ae=ae+Math.imul(et,Ae)|0,J=J+Math.imul(Ve,Ze)|0,Z=Z+Math.imul(Ve,tt)|0,Z=Z+Math.imul(at,Ze)|0,ae=ae+Math.imul(at,tt)|0,J=J+Math.imul(Ne,pt)|0,Z=Z+Math.imul(Ne,Yt)|0,Z=Z+Math.imul(He,pt)|0,ae=ae+Math.imul(He,Yt)|0,J=J+Math.imul(Se,Tt)|0,Z=Z+Math.imul(Se,zt)|0,Z=Z+Math.imul(me,Tt)|0,ae=ae+Math.imul(me,zt)|0,J=J+Math.imul(Te,wr)|0,Z=Z+Math.imul(Te,yt)|0,Z=Z+Math.imul(ze,wr)|0,ae=ae+Math.imul(ze,yt)|0,J=J+Math.imul(fe,Qt)|0,Z=Z+Math.imul(fe,gr)|0,Z=Z+Math.imul(ye,Qt)|0,ae=ae+Math.imul(ye,gr)|0,J=J+Math.imul(K,vt)|0,Z=Z+Math.imul(K,it)|0,Z=Z+Math.imul(se,vt)|0,ae=ae+Math.imul(se,it)|0,J=J+Math.imul(q,Mt)|0,Z=Z+Math.imul(q,Dt)|0,Z=Z+Math.imul(oe,Mt)|0,ae=ae+Math.imul(oe,Dt)|0;var kt=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(kt>>>26)|0,kt&=67108863,J=Math.imul(Rt,Pe),Z=Math.imul(Rt,xe),Z=Z+Math.imul(Vt,Pe)|0,ae=Math.imul(Vt,xe),J=J+Math.imul(dt,Me)|0,Z=Z+Math.imul(dt,Ae)|0,Z=Z+Math.imul(gt,Me)|0,ae=ae+Math.imul(gt,Ae)|0,J=J+Math.imul($e,Ze)|0,Z=Z+Math.imul($e,tt)|0,Z=Z+Math.imul(et,Ze)|0,ae=ae+Math.imul(et,tt)|0,J=J+Math.imul(Ve,pt)|0,Z=Z+Math.imul(Ve,Yt)|0,Z=Z+Math.imul(at,pt)|0,ae=ae+Math.imul(at,Yt)|0,J=J+Math.imul(Ne,Tt)|0,Z=Z+Math.imul(Ne,zt)|0,Z=Z+Math.imul(He,Tt)|0,ae=ae+Math.imul(He,zt)|0,J=J+Math.imul(Se,wr)|0,Z=Z+Math.imul(Se,yt)|0,Z=Z+Math.imul(me,wr)|0,ae=ae+Math.imul(me,yt)|0,J=J+Math.imul(Te,Qt)|0,Z=Z+Math.imul(Te,gr)|0,Z=Z+Math.imul(ze,Qt)|0,ae=ae+Math.imul(ze,gr)|0,J=J+Math.imul(fe,vt)|0,Z=Z+Math.imul(fe,it)|0,Z=Z+Math.imul(ye,vt)|0,ae=ae+Math.imul(ye,it)|0,J=J+Math.imul(K,Mt)|0,Z=Z+Math.imul(K,Dt)|0,Z=Z+Math.imul(se,Mt)|0,ae=ae+Math.imul(se,Dt)|0;var It=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(It>>>26)|0,It&=67108863,J=Math.imul(Rt,Me),Z=Math.imul(Rt,Ae),Z=Z+Math.imul(Vt,Me)|0,ae=Math.imul(Vt,Ae),J=J+Math.imul(dt,Ze)|0,Z=Z+Math.imul(dt,tt)|0,Z=Z+Math.imul(gt,Ze)|0,ae=ae+Math.imul(gt,tt)|0,J=J+Math.imul($e,pt)|0,Z=Z+Math.imul($e,Yt)|0,Z=Z+Math.imul(et,pt)|0,ae=ae+Math.imul(et,Yt)|0,J=J+Math.imul(Ve,Tt)|0,Z=Z+Math.imul(Ve,zt)|0,Z=Z+Math.imul(at,Tt)|0,ae=ae+Math.imul(at,zt)|0,J=J+Math.imul(Ne,wr)|0,Z=Z+Math.imul(Ne,yt)|0,Z=Z+Math.imul(He,wr)|0,ae=ae+Math.imul(He,yt)|0,J=J+Math.imul(Se,Qt)|0,Z=Z+Math.imul(Se,gr)|0,Z=Z+Math.imul(me,Qt)|0,ae=ae+Math.imul(me,gr)|0,J=J+Math.imul(Te,vt)|0,Z=Z+Math.imul(Te,it)|0,Z=Z+Math.imul(ze,vt)|0,ae=ae+Math.imul(ze,it)|0,J=J+Math.imul(fe,Mt)|0,Z=Z+Math.imul(fe,Dt)|0,Z=Z+Math.imul(ye,Mt)|0,ae=ae+Math.imul(ye,Dt)|0;var Zt=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,J=Math.imul(Rt,Ze),Z=Math.imul(Rt,tt),Z=Z+Math.imul(Vt,Ze)|0,ae=Math.imul(Vt,tt),J=J+Math.imul(dt,pt)|0,Z=Z+Math.imul(dt,Yt)|0,Z=Z+Math.imul(gt,pt)|0,ae=ae+Math.imul(gt,Yt)|0,J=J+Math.imul($e,Tt)|0,Z=Z+Math.imul($e,zt)|0,Z=Z+Math.imul(et,Tt)|0,ae=ae+Math.imul(et,zt)|0,J=J+Math.imul(Ve,wr)|0,Z=Z+Math.imul(Ve,yt)|0,Z=Z+Math.imul(at,wr)|0,ae=ae+Math.imul(at,yt)|0,J=J+Math.imul(Ne,Qt)|0,Z=Z+Math.imul(Ne,gr)|0,Z=Z+Math.imul(He,Qt)|0,ae=ae+Math.imul(He,gr)|0,J=J+Math.imul(Se,vt)|0,Z=Z+Math.imul(Se,it)|0,Z=Z+Math.imul(me,vt)|0,ae=ae+Math.imul(me,it)|0,J=J+Math.imul(Te,Mt)|0,Z=Z+Math.imul(Te,Dt)|0,Z=Z+Math.imul(ze,Mt)|0,ae=ae+Math.imul(ze,Dt)|0;var rr=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(rr>>>26)|0,rr&=67108863,J=Math.imul(Rt,pt),Z=Math.imul(Rt,Yt),Z=Z+Math.imul(Vt,pt)|0,ae=Math.imul(Vt,Yt),J=J+Math.imul(dt,Tt)|0,Z=Z+Math.imul(dt,zt)|0,Z=Z+Math.imul(gt,Tt)|0,ae=ae+Math.imul(gt,zt)|0,J=J+Math.imul($e,wr)|0,Z=Z+Math.imul($e,yt)|0,Z=Z+Math.imul(et,wr)|0,ae=ae+Math.imul(et,yt)|0,J=J+Math.imul(Ve,Qt)|0,Z=Z+Math.imul(Ve,gr)|0,Z=Z+Math.imul(at,Qt)|0,ae=ae+Math.imul(at,gr)|0,J=J+Math.imul(Ne,vt)|0,Z=Z+Math.imul(Ne,it)|0,Z=Z+Math.imul(He,vt)|0,ae=ae+Math.imul(He,it)|0,J=J+Math.imul(Se,Mt)|0,Z=Z+Math.imul(Se,Dt)|0,Z=Z+Math.imul(me,Mt)|0,ae=ae+Math.imul(me,Dt)|0;var ur=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(ur>>>26)|0,ur&=67108863,J=Math.imul(Rt,Tt),Z=Math.imul(Rt,zt),Z=Z+Math.imul(Vt,Tt)|0,ae=Math.imul(Vt,zt),J=J+Math.imul(dt,wr)|0,Z=Z+Math.imul(dt,yt)|0,Z=Z+Math.imul(gt,wr)|0,ae=ae+Math.imul(gt,yt)|0,J=J+Math.imul($e,Qt)|0,Z=Z+Math.imul($e,gr)|0,Z=Z+Math.imul(et,Qt)|0,ae=ae+Math.imul(et,gr)|0,J=J+Math.imul(Ve,vt)|0,Z=Z+Math.imul(Ve,it)|0,Z=Z+Math.imul(at,vt)|0,ae=ae+Math.imul(at,it)|0,J=J+Math.imul(Ne,Mt)|0,Z=Z+Math.imul(Ne,Dt)|0,Z=Z+Math.imul(He,Mt)|0,ae=ae+Math.imul(He,Dt)|0;var er=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(er>>>26)|0,er&=67108863,J=Math.imul(Rt,wr),Z=Math.imul(Rt,yt),Z=Z+Math.imul(Vt,wr)|0,ae=Math.imul(Vt,yt),J=J+Math.imul(dt,Qt)|0,Z=Z+Math.imul(dt,gr)|0,Z=Z+Math.imul(gt,Qt)|0,ae=ae+Math.imul(gt,gr)|0,J=J+Math.imul($e,vt)|0,Z=Z+Math.imul($e,it)|0,Z=Z+Math.imul(et,vt)|0,ae=ae+Math.imul(et,it)|0,J=J+Math.imul(Ve,Mt)|0,Z=Z+Math.imul(Ve,Dt)|0,Z=Z+Math.imul(at,Mt)|0,ae=ae+Math.imul(at,Dt)|0;var Ot=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,J=Math.imul(Rt,Qt),Z=Math.imul(Rt,gr),Z=Z+Math.imul(Vt,Qt)|0,ae=Math.imul(Vt,gr),J=J+Math.imul(dt,vt)|0,Z=Z+Math.imul(dt,it)|0,Z=Z+Math.imul(gt,vt)|0,ae=ae+Math.imul(gt,it)|0,J=J+Math.imul($e,Mt)|0,Z=Z+Math.imul($e,Dt)|0,Z=Z+Math.imul(et,Mt)|0,ae=ae+Math.imul(et,Dt)|0;var vr=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(vr>>>26)|0,vr&=67108863,J=Math.imul(Rt,vt),Z=Math.imul(Rt,it),Z=Z+Math.imul(Vt,vt)|0,ae=Math.imul(Vt,it),J=J+Math.imul(dt,Mt)|0,Z=Z+Math.imul(dt,Dt)|0,Z=Z+Math.imul(gt,Mt)|0,ae=ae+Math.imul(gt,Dt)|0;var yr=(ce+J|0)+((Z&8191)<<13)|0;ce=(ae+(Z>>>13)|0)+(yr>>>26)|0,yr&=67108863,J=Math.imul(Rt,Mt),Z=Math.imul(Rt,Dt),Z=Z+Math.imul(Vt,Mt)|0,ae=Math.imul(Vt,Dt);var pr=(ce+J|0)+((Z&8191)<<13)|0;return ce=(ae+(Z>>>13)|0)+(pr>>>26)|0,pr&=67108863,ie[0]=Lt,ie[1]=Bt,ie[2]=Nt,ie[3]=jt,ie[4]=lr,ie[5]=fr,ie[6]=hr,ie[7]=Ye,ie[8]=We,ie[9]=kt,ie[10]=It,ie[11]=Zt,ie[12]=rr,ie[13]=ur,ie[14]=er,ie[15]=Ot,ie[16]=vr,ie[17]=yr,ie[18]=pr,ce!==0&&(ie[19]=ce,Y.length++),Y};Math.imul||(C=w);function b(B,O,N){N.negative=O.negative^B.negative,N.length=B.length+O.length;for(var Y=0,$=0,te=0;te<N.length-1;te++){var ie=$;$=0;for(var ce=Y&67108863,J=Math.min(te,O.length-1),Z=Math.max(0,te-B.length+1);Z<=J;Z++){var ae=te-Z,j=B.words[ae]|0,q=O.words[Z]|0,oe=j*q,Q=oe&67108863;ie=ie+(oe/67108864|0)|0,Q=Q+ce|0,ce=Q&67108863,ie=ie+(Q>>>26)|0,$+=ie>>>26,ie&=67108863}N.words[te]=ce,Y=ie,ie=$}return Y!==0?N.words[te]=Y:N.length--,N.strip()}function S(B,O,N){var Y=new x;return Y.mulp(B,O,N)}u.prototype.mulTo=function(O,N){var Y,$=this.length+O.length;return this.length===10&&O.length===10?Y=C(this,O,N):$<63?Y=w(this,O,N):$<1024?Y=b(this,O,N):Y=S(this,O,N),Y};function x(B,O){this.x=B,this.y=O}x.prototype.makeRBT=function(O){for(var N=new Array(O),Y=u.prototype._countBits(O)-1,$=0;$<O;$++)N[$]=this.revBin($,Y,O);return N},x.prototype.revBin=function(O,N,Y){if(O===0||O===Y-1)return O;for(var $=0,te=0;te<N;te++)$|=(O&1)<<N-te-1,O>>=1;return $},x.prototype.permute=function(O,N,Y,$,te,ie){for(var ce=0;ce<ie;ce++)$[ce]=N[O[ce]],te[ce]=Y[O[ce]]},x.prototype.transform=function(O,N,Y,$,te,ie){this.permute(ie,O,N,Y,$,te);for(var ce=1;ce<te;ce<<=1)for(var J=ce<<1,Z=Math.cos(2*Math.PI/J),ae=Math.sin(2*Math.PI/J),j=0;j<te;j+=J)for(var q=Z,oe=ae,Q=0;Q<ce;Q++){var K=Y[j+Q],se=$[j+Q],ne=Y[j+Q+ce],fe=$[j+Q+ce],ye=q*ne-oe*fe;fe=q*fe+oe*ne,ne=ye,Y[j+Q]=K+ne,$[j+Q]=se+fe,Y[j+Q+ce]=K-ne,$[j+Q+ce]=se-fe,Q!==J&&(ye=Z*q-ae*oe,oe=Z*oe+ae*q,q=ye)}},x.prototype.guessLen13b=function(O,N){var Y=Math.max(N,O)|1,$=Y&1,te=0;for(Y=Y/2|0;Y;Y=Y>>>1)te++;return 1<<te+1+$},x.prototype.conjugate=function(O,N,Y){if(!(Y<=1))for(var $=0;$<Y/2;$++){var te=O[$];O[$]=O[Y-$-1],O[Y-$-1]=te,te=N[$],N[$]=-N[Y-$-1],N[Y-$-1]=-te}},x.prototype.normalize13b=function(O,N){for(var Y=0,$=0;$<N/2;$++){var te=Math.round(O[2*$+1]/N)*8192+Math.round(O[2*$]/N)+Y;O[$]=te&67108863,te<67108864?Y=0:Y=te/67108864|0}return O},x.prototype.convert13b=function(O,N,Y,$){for(var te=0,ie=0;ie<N;ie++)te=te+(O[ie]|0),Y[2*ie]=te&8191,te=te>>>13,Y[2*ie+1]=te&8191,te=te>>>13;for(ie=2*N;ie<$;++ie)Y[ie]=0;n(te===0),n((te&-8192)===0)},x.prototype.stub=function(O){for(var N=new Array(O),Y=0;Y<O;Y++)N[Y]=0;return N},x.prototype.mulp=function(O,N,Y){var $=2*this.guessLen13b(O.length,N.length),te=this.makeRBT($),ie=this.stub($),ce=new Array($),J=new Array($),Z=new Array($),ae=new Array($),j=new Array($),q=new Array($),oe=Y.words;oe.length=$,this.convert13b(O.words,O.length,ce,$),this.convert13b(N.words,N.length,ae,$),this.transform(ce,ie,J,Z,$,te),this.transform(ae,ie,j,q,$,te);for(var Q=0;Q<$;Q++){var K=J[Q]*j[Q]-Z[Q]*q[Q];Z[Q]=J[Q]*q[Q]+Z[Q]*j[Q],J[Q]=K}return this.conjugate(J,Z,$),this.transform(J,Z,oe,ie,$,te),this.conjugate(oe,ie,$),this.normalize13b(oe,$),Y.negative=O.negative^N.negative,Y.length=O.length+N.length,Y.strip()},u.prototype.mul=function(O){var N=new u(null);return N.words=new Array(this.length+O.length),this.mulTo(O,N)},u.prototype.mulf=function(O){var N=new u(null);return N.words=new Array(this.length+O.length),S(this,O,N)},u.prototype.imul=function(O){return this.clone().mulTo(O,this)},u.prototype.imuln=function(O){n(typeof O=="number"),n(O<67108864);for(var N=0,Y=0;Y<this.length;Y++){var $=(this.words[Y]|0)*O,te=($&67108863)+(N&67108863);N>>=26,N+=$/67108864|0,N+=te>>>26,this.words[Y]=te&67108863}return N!==0&&(this.words[Y]=N,this.length++),this},u.prototype.muln=function(O){return this.clone().imuln(O)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(O){var N=A(O);if(N.length===0)return new u(1);for(var Y=this,$=0;$<N.length&&N[$]===0;$++,Y=Y.sqr());if(++$<N.length)for(var te=Y.sqr();$<N.length;$++,te=te.sqr())N[$]!==0&&(Y=Y.mul(te));return Y},u.prototype.iushln=function(O){n(typeof O=="number"&&O>=0);var N=O%26,Y=(O-N)/26,$=67108863>>>26-N<<26-N,te;if(N!==0){var ie=0;for(te=0;te<this.length;te++){var ce=this.words[te]&$,J=(this.words[te]|0)-ce<<N;this.words[te]=J|ie,ie=ce>>>26-N}ie&&(this.words[te]=ie,this.length++)}if(Y!==0){for(te=this.length-1;te>=0;te--)this.words[te+Y]=this.words[te];for(te=0;te<Y;te++)this.words[te]=0;this.length+=Y}return this.strip()},u.prototype.ishln=function(O){return n(this.negative===0),this.iushln(O)},u.prototype.iushrn=function(O,N,Y){n(typeof O=="number"&&O>=0);var $;N?$=(N-N%26)/26:$=0;var te=O%26,ie=Math.min((O-te)/26,this.length),ce=67108863^67108863>>>te<<te,J=Y;if($-=ie,$=Math.max(0,$),J){for(var Z=0;Z<ie;Z++)J.words[Z]=this.words[Z];J.length=ie}if(ie!==0)if(this.length>ie)for(this.length-=ie,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+ie];else this.words[0]=0,this.length=1;var ae=0;for(Z=this.length-1;Z>=0&&(ae!==0||Z>=$);Z--){var j=this.words[Z]|0;this.words[Z]=ae<<26-te|j>>>te,ae=j&ce}return J&&ae!==0&&(J.words[J.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(O,N,Y){return n(this.negative===0),this.iushrn(O,N,Y)},u.prototype.shln=function(O){return this.clone().ishln(O)},u.prototype.ushln=function(O){return this.clone().iushln(O)},u.prototype.shrn=function(O){return this.clone().ishrn(O)},u.prototype.ushrn=function(O){return this.clone().iushrn(O)},u.prototype.testn=function(O){n(typeof O=="number"&&O>=0);var N=O%26,Y=(O-N)/26,$=1<<N;if(this.length<=Y)return!1;var te=this.words[Y];return!!(te&$)},u.prototype.imaskn=function(O){n(typeof O=="number"&&O>=0);var N=O%26,Y=(O-N)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Y)return this;if(N!==0&&Y++,this.length=Math.min(Y,this.length),N!==0){var $=67108863^67108863>>>N<<N;this.words[this.length-1]&=$}return this.strip()},u.prototype.maskn=function(O){return this.clone().imaskn(O)},u.prototype.iaddn=function(O){return n(typeof O=="number"),n(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},u.prototype._iaddn=function(O){this.words[0]+=O;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},u.prototype.isubn=function(O){if(n(typeof O=="number"),n(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},u.prototype.addn=function(O){return this.clone().iaddn(O)},u.prototype.subn=function(O){return this.clone().isubn(O)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(O,N,Y){var $=O.length+Y,te;this._expand($);var ie,ce=0;for(te=0;te<O.length;te++){ie=(this.words[te+Y]|0)+ce;var J=(O.words[te]|0)*N;ie-=J&67108863,ce=(ie>>26)-(J/67108864|0),this.words[te+Y]=ie&67108863}for(;te<this.length-Y;te++)ie=(this.words[te+Y]|0)+ce,ce=ie>>26,this.words[te+Y]=ie&67108863;if(ce===0)return this.strip();for(n(ce===-1),ce=0,te=0;te<this.length;te++)ie=-(this.words[te]|0)+ce,ce=ie>>26,this.words[te]=ie&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(O,N){var Y=this.length-O.length,$=this.clone(),te=O,ie=te.words[te.length-1]|0,ce=this._countBits(ie);Y=26-ce,Y!==0&&(te=te.ushln(Y),$.iushln(Y),ie=te.words[te.length-1]|0);var J=$.length-te.length,Z;if(N!=="mod"){Z=new u(null),Z.length=J+1,Z.words=new Array(Z.length);for(var ae=0;ae<Z.length;ae++)Z.words[ae]=0}var j=$.clone()._ishlnsubmul(te,1,J);j.negative===0&&($=j,Z&&(Z.words[J]=1));for(var q=J-1;q>=0;q--){var oe=($.words[te.length+q]|0)*67108864+($.words[te.length+q-1]|0);for(oe=Math.min(oe/ie|0,67108863),$._ishlnsubmul(te,oe,q);$.negative!==0;)oe--,$.negative=0,$._ishlnsubmul(te,1,q),$.isZero()||($.negative^=1);Z&&(Z.words[q]=oe)}return Z&&Z.strip(),$.strip(),N!=="div"&&Y!==0&&$.iushrn(Y),{div:Z||null,mod:$}},u.prototype.divmod=function(O,N,Y){if(n(!O.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var $,te,ie;return this.negative!==0&&O.negative===0?(ie=this.neg().divmod(O,N),N!=="mod"&&($=ie.div.neg()),N!=="div"&&(te=ie.mod.neg(),Y&&te.negative!==0&&te.iadd(O)),{div:$,mod:te}):this.negative===0&&O.negative!==0?(ie=this.divmod(O.neg(),N),N!=="mod"&&($=ie.div.neg()),{div:$,mod:ie.mod}):this.negative&O.negative?(ie=this.neg().divmod(O.neg(),N),N!=="div"&&(te=ie.mod.neg(),Y&&te.negative!==0&&te.isub(O)),{div:ie.div,mod:te}):O.length>this.length||this.cmp(O)<0?{div:new u(0),mod:this}:O.length===1?N==="div"?{div:this.divn(O.words[0]),mod:null}:N==="mod"?{div:null,mod:new u(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new u(this.modn(O.words[0]))}:this._wordDiv(O,N)},u.prototype.div=function(O){return this.divmod(O,"div",!1).div},u.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},u.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},u.prototype.divRound=function(O){var N=this.divmod(O);if(N.mod.isZero())return N.div;var Y=N.div.negative!==0?N.mod.isub(O):N.mod,$=O.ushrn(1),te=O.andln(1),ie=Y.cmp($);return ie<0||te===1&&ie===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},u.prototype.modn=function(O){n(O<=67108863);for(var N=(1<<26)%O,Y=0,$=this.length-1;$>=0;$--)Y=(N*Y+(this.words[$]|0))%O;return Y},u.prototype.idivn=function(O){n(O<=67108863);for(var N=0,Y=this.length-1;Y>=0;Y--){var $=(this.words[Y]|0)+N*67108864;this.words[Y]=$/O|0,N=$%O}return this.strip()},u.prototype.divn=function(O){return this.clone().idivn(O)},u.prototype.egcd=function(O){n(O.negative===0),n(!O.isZero());var N=this,Y=O.clone();N.negative!==0?N=N.umod(O):N=N.clone();for(var $=new u(1),te=new u(0),ie=new u(0),ce=new u(1),J=0;N.isEven()&&Y.isEven();)N.iushrn(1),Y.iushrn(1),++J;for(var Z=Y.clone(),ae=N.clone();!N.isZero();){for(var j=0,q=1;!(N.words[0]&q)&&j<26;++j,q<<=1);if(j>0)for(N.iushrn(j);j-- >0;)($.isOdd()||te.isOdd())&&($.iadd(Z),te.isub(ae)),$.iushrn(1),te.iushrn(1);for(var oe=0,Q=1;!(Y.words[0]&Q)&&oe<26;++oe,Q<<=1);if(oe>0)for(Y.iushrn(oe);oe-- >0;)(ie.isOdd()||ce.isOdd())&&(ie.iadd(Z),ce.isub(ae)),ie.iushrn(1),ce.iushrn(1);N.cmp(Y)>=0?(N.isub(Y),$.isub(ie),te.isub(ce)):(Y.isub(N),ie.isub($),ce.isub(te))}return{a:ie,b:ce,gcd:Y.iushln(J)}},u.prototype._invmp=function(O){n(O.negative===0),n(!O.isZero());var N=this,Y=O.clone();N.negative!==0?N=N.umod(O):N=N.clone();for(var $=new u(1),te=new u(0),ie=Y.clone();N.cmpn(1)>0&&Y.cmpn(1)>0;){for(var ce=0,J=1;!(N.words[0]&J)&&ce<26;++ce,J<<=1);if(ce>0)for(N.iushrn(ce);ce-- >0;)$.isOdd()&&$.iadd(ie),$.iushrn(1);for(var Z=0,ae=1;!(Y.words[0]&ae)&&Z<26;++Z,ae<<=1);if(Z>0)for(Y.iushrn(Z);Z-- >0;)te.isOdd()&&te.iadd(ie),te.iushrn(1);N.cmp(Y)>=0?(N.isub(Y),$.isub(te)):(Y.isub(N),te.isub($))}var j;return N.cmpn(1)===0?j=$:j=te,j.cmpn(0)<0&&j.iadd(O),j},u.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var N=this.clone(),Y=O.clone();N.negative=0,Y.negative=0;for(var $=0;N.isEven()&&Y.isEven();$++)N.iushrn(1),Y.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var te=N.cmp(Y);if(te<0){var ie=N;N=Y,Y=ie}else if(te===0||Y.cmpn(1)===0)break;N.isub(Y)}while(!0);return Y.iushln($)},u.prototype.invm=function(O){return this.egcd(O).a.umod(O)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(O){return this.words[0]&O},u.prototype.bincn=function(O){n(typeof O=="number");var N=O%26,Y=(O-N)/26,$=1<<N;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=$,this;for(var te=$,ie=Y;te!==0&&ie<this.length;ie++){var ce=this.words[ie]|0;ce+=te,te=ce>>>26,ce&=67108863,this.words[ie]=ce}return te!==0&&(this.words[ie]=te,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(O){var N=O<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this.strip();var Y;if(this.length>1)Y=1;else{N&&(O=-O),n(O<=67108863,"Number is too big");var $=this.words[0]|0;Y=$===O?0:$<O?-1:1}return this.negative!==0?-Y|0:Y},u.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var N=this.ucmp(O);return this.negative!==0?-N|0:N},u.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var N=0,Y=this.length-1;Y>=0;Y--){var $=this.words[Y]|0,te=O.words[Y]|0;if($!==te){$<te?N=-1:$>te&&(N=1);break}}return N},u.prototype.gtn=function(O){return this.cmpn(O)===1},u.prototype.gt=function(O){return this.cmp(O)===1},u.prototype.gten=function(O){return this.cmpn(O)>=0},u.prototype.gte=function(O){return this.cmp(O)>=0},u.prototype.ltn=function(O){return this.cmpn(O)===-1},u.prototype.lt=function(O){return this.cmp(O)===-1},u.prototype.lten=function(O){return this.cmpn(O)<=0},u.prototype.lte=function(O){return this.cmp(O)<=0},u.prototype.eqn=function(O){return this.cmpn(O)===0},u.prototype.eq=function(O){return this.cmp(O)===0},u.red=function(O){return new z(O)},u.prototype.toRed=function(O){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(O){return this.red=O,this},u.prototype.forceRed=function(O){return n(!this.red,"Already a number in reduction context"),this._forceRed(O)},u.prototype.redAdd=function(O){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},u.prototype.redIAdd=function(O){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},u.prototype.redSub=function(O){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},u.prototype.redISub=function(O){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},u.prototype.redShl=function(O){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},u.prototype.redMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},u.prototype.redIMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(O){return n(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var i={k256:null,p224:null,p192:null,p25519:null};function E(B,O){this.name=B,this.p=new u(O,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var O=new u(null);return O.words=new Array(Math.ceil(this.n/13)),O},E.prototype.ireduce=function(O){var N=O,Y;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),Y=N.bitLength();while(Y>this.n);var $=Y<this.n?-1:N.ucmp(this.p);return $===0?(N.words[0]=0,N.length=1):$>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},E.prototype.split=function(O,N){O.iushrn(this.n,0,N)},E.prototype.imulK=function(O){return O.imul(this.k)};function m(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(m,E),m.prototype.split=function(O,N){for(var Y=4194303,$=Math.min(O.length,9),te=0;te<$;te++)N.words[te]=O.words[te];if(N.length=$,O.length<=9){O.words[0]=0,O.length=1;return}var ie=O.words[9];for(N.words[N.length++]=ie&Y,te=10;te<O.length;te++){var ce=O.words[te]|0;O.words[te-10]=(ce&Y)<<4|ie>>>22,ie=ce}ie>>>=22,O.words[te-10]=ie,ie===0&&O.length>10?O.length-=10:O.length-=9},m.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var N=0,Y=0;Y<O.length;Y++){var $=O.words[Y]|0;N+=$*977,O.words[Y]=N&67108863,N=$*64+(N/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function k(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(k,E);function I(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(I,E);function U(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(U,E),U.prototype.imulK=function(O){for(var N=0,Y=0;Y<O.length;Y++){var $=(O.words[Y]|0)*19+N,te=$&67108863;$>>>=26,O.words[Y]=te,N=$}return N!==0&&(O.words[O.length++]=N),O},u._prime=function(O){if(i[O])return i[O];var N;if(O==="k256")N=new m;else if(O==="p224")N=new k;else if(O==="p192")N=new I;else if(O==="p25519")N=new U;else throw new Error("Unknown prime "+O);return i[O]=N,N};function z(B){if(typeof B=="string"){var O=u._prime(B);this.m=O.p,this.prime=O}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}z.prototype._verify1=function(O){n(O.negative===0,"red works only with positives"),n(O.red,"red works only with red numbers")},z.prototype._verify2=function(O,N){n((O.negative|N.negative)===0,"red works only with positives"),n(O.red&&O.red===N.red,"red works only with red numbers")},z.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},z.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},z.prototype.add=function(O,N){this._verify2(O,N);var Y=O.add(N);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},z.prototype.iadd=function(O,N){this._verify2(O,N);var Y=O.iadd(N);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},z.prototype.sub=function(O,N){this._verify2(O,N);var Y=O.sub(N);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},z.prototype.isub=function(O,N){this._verify2(O,N);var Y=O.isub(N);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},z.prototype.shl=function(O,N){return this._verify1(O),this.imod(O.ushln(N))},z.prototype.imul=function(O,N){return this._verify2(O,N),this.imod(O.imul(N))},z.prototype.mul=function(O,N){return this._verify2(O,N),this.imod(O.mul(N))},z.prototype.isqr=function(O){return this.imul(O,O.clone())},z.prototype.sqr=function(O){return this.mul(O,O)},z.prototype.sqrt=function(O){if(O.isZero())return O.clone();var N=this.m.andln(3);if(n(N%2===1),N===3){var Y=this.m.add(new u(1)).iushrn(2);return this.pow(O,Y)}for(var $=this.m.subn(1),te=0;!$.isZero()&&$.andln(1)===0;)te++,$.iushrn(1);n(!$.isZero());var ie=new u(1).toRed(this),ce=ie.redNeg(),J=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new u(2*Z*Z).toRed(this);this.pow(Z,J).cmp(ce)!==0;)Z.redIAdd(ce);for(var ae=this.pow(Z,$),j=this.pow(O,$.addn(1).iushrn(1)),q=this.pow(O,$),oe=te;q.cmp(ie)!==0;){for(var Q=q,K=0;Q.cmp(ie)!==0;K++)Q=Q.redSqr();n(K<oe);var se=this.pow(ae,new u(1).iushln(oe-K-1));j=j.redMul(se),ae=se.redSqr(),q=q.redMul(ae),oe=K}return j},z.prototype.invm=function(O){var N=O._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},z.prototype.pow=function(O,N){if(N.isZero())return new u(1).toRed(this);if(N.cmpn(1)===0)return O.clone();var Y=4,$=new Array(1<<Y);$[0]=new u(1).toRed(this),$[1]=O;for(var te=2;te<$.length;te++)$[te]=this.mul($[te-1],O);var ie=$[0],ce=0,J=0,Z=N.bitLength()%26;for(Z===0&&(Z=26),te=N.length-1;te>=0;te--){for(var ae=N.words[te],j=Z-1;j>=0;j--){var q=ae>>j&1;if(ie!==$[0]&&(ie=this.sqr(ie)),q===0&&ce===0){J=0;continue}ce<<=1,ce|=q,J++,!(J!==Y&&(te!==0||j!==0))&&(ie=this.mul(ie,$[ce]),J=0,ce=0)}Z=26}return ie},z.prototype.convertTo=function(O){var N=O.umod(this.m);return N===O?N.clone():N},z.prototype.convertFrom=function(O){var N=O.clone();return N.red=null,N},u.mont=function(O){return new F(O)};function F(B){z.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(F,z),F.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},F.prototype.convertFrom=function(O){var N=this.imod(O.mul(this.rinv));return N.red=null,N},F.prototype.imul=function(O,N){if(O.isZero()||N.isZero())return O.words[0]=0,O.length=1,O;var Y=O.imul(N),$=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=Y.isub($).iushrn(this.shift),ie=te;return te.cmp(this.m)>=0?ie=te.isub(this.m):te.cmpn(0)<0&&(ie=te.iadd(this.m)),ie._forceRed(this)},F.prototype.mul=function(O,N){if(O.isZero()||N.isZero())return new u(0)._forceRed(this);var Y=O.mul(N),$=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=Y.isub($).iushrn(this.shift),ie=te;return te.cmp(this.m)>=0?ie=te.isub(this.m):te.cmpn(0)<0&&(ie=te.iadd(this.m)),ie._forceRed(this)},F.prototype.invm=function(O){var N=this.imod(O._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(r){var t,o,n,c=r.length,u=0;for(t=0;t<c;++t)u+=r[t].length;var l=new Array(u),g=0;for(t=0;t<c;++t){var f=r[t],T=f.length;for(o=0;o<T;++o){var h=l[g++]=new Array(T-1),s=0;for(n=0;n<T;++n)n!==o&&(h[s++]=f[n]);if(o&1){var d=h[1];h[1]=h[0],h[0]=d}}}return l}},2569:function(v,p,r){v.exports=s;var t=r(5306),o=r(1390),n=r(2337);function c(d,A){for(var w=0;w<d;++w)if(!(A[w]<=A[w+d]))return!0;return!1}function u(d,A,w,C){for(var b=0,S=0,x=0,i=d.length;x<i;++x){var E=d[x];if(!c(A,E)){for(var m=0;m<2*A;++m)w[b++]=E[m];C[S++]=x}}return S}function l(d,A,w,C){var b=d.length,S=A.length;if(!(b<=0||S<=0)){var x=d[0].length>>>1;if(!(x<=0)){var i,E=t.mallocDouble(2*x*b),m=t.mallocInt32(b);if(b=u(d,x,E,m),b>0){if(x===1&&C)o.init(b),i=o.sweepComplete(x,w,0,b,E,m,0,b,E,m);else{var k=t.mallocDouble(2*x*S),I=t.mallocInt32(S);S=u(A,x,k,I),S>0&&(o.init(b+S),x===1?i=o.sweepBipartite(x,w,0,b,E,m,0,S,k,I):i=n(x,w,C,b,E,m,S,k,I),t.free(k),t.free(I))}t.free(E),t.free(m)}return i}}}var g;function f(d,A){g.push([d,A])}function T(d){return g=[],l(d,d,f,!0),g}function h(d,A){return g=[],l(d,A,f,!1),g}function s(d,A,w){switch(arguments.length){case 1:return T(d);case 2:return typeof A=="function"?l(d,d,A,!0):h(d,A);case 3:return l(d,A,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function r(){function n(l,g,f,T,h,s,d,A,w,C,b){for(var S=2*l,x=T,i=S*T;x<h;++x,i+=S){var E=s[g+i],m=s[g+i+l],k=d[x];e:for(var I=A,U=S*A;I<w;++I,U+=S){var z=C[g+U],F=C[g+U+l],B=b[I];if(!(F<E||m<z)){for(var O=g+1;O<l;++O){var N=s[O+i],Y=s[O+l+i],$=C[O+U],te=C[O+l+U];if(Y<$||te<N)continue e}var ie=f(k,B);if(ie!==void 0)return ie}}}}function c(l,g,f,T,h,s,d,A,w,C,b){for(var S=2*l,x=A,i=S*A;x<w;++x,i+=S){var E=C[g+i],m=C[g+i+l],k=b[x];e:for(var I=T,U=S*T;I<h;++I,U+=S){var z=s[g+U],F=s[g+U+l],B=d[I];if(!(m<z||F<E)){for(var O=g+1;O<l;++O){var N=s[O+U],Y=s[O+l+U],$=C[O+i],te=C[O+l+i];if(Y<$||te<N)continue e}var ie=f(B,k);if(ie!==void 0)return ie}}}}function u(l,g,f,T,h,s,d,A,w,C,b){return h-T>w-A?n(l,g,f,T,h,s,d,A,w,C,b):c(l,g,f,T,h,s,d,A,w,C,b)}return u}function t(){function n(f,T,h,s,d,A,w,C,b,S,x){for(var i=2*f,E=s,m=i*s;E<d;++E,m+=i){var k=A[T+m],I=A[T+m+f],U=w[E];e:for(var z=C,F=i*C;z<b;++z,F+=i){var B=S[T+F],O=x[z];if(!(B<=k||I<B)){for(var N=T+1;N<f;++N){var Y=A[N+m],$=A[N+f+m],te=S[N+F],ie=S[N+f+F];if($<te||ie<Y)continue e}var ce=h(O,U);if(ce!==void 0)return ce}}}}function c(f,T,h,s,d,A,w,C,b,S,x){for(var i=2*f,E=s,m=i*s;E<d;++E,m+=i){var k=A[T+m],I=A[T+m+f],U=w[E];e:for(var z=C,F=i*C;z<b;++z,F+=i){var B=S[T+F],O=x[z];if(!(B<k||I<B)){for(var N=T+1;N<f;++N){var Y=A[N+m],$=A[N+f+m],te=S[N+F],ie=S[N+f+F];if($<te||ie<Y)continue e}var ce=h(U,O);if(ce!==void 0)return ce}}}}function u(f,T,h,s,d,A,w,C,b,S,x){for(var i=2*f,E=C,m=i*C;E<b;++E,m+=i){var k=S[T+m],I=x[E];e:for(var U=s,z=i*s;U<d;++U,z+=i){var F=A[T+z],B=A[T+z+f],O=w[U];if(!(k<=F||B<k)){for(var N=T+1;N<f;++N){var Y=A[N+z],$=A[N+f+z],te=S[N+m],ie=S[N+f+m];if($<te||ie<Y)continue e}var ce=h(I,O);if(ce!==void 0)return ce}}}}function l(f,T,h,s,d,A,w,C,b,S,x){for(var i=2*f,E=C,m=i*C;E<b;++E,m+=i){var k=S[T+m],I=x[E];e:for(var U=s,z=i*s;U<d;++U,z+=i){var F=A[T+z],B=A[T+z+f],O=w[U];if(!(k<F||B<k)){for(var N=T+1;N<f;++N){var Y=A[N+z],$=A[N+f+z],te=S[N+m],ie=S[N+f+m];if($<te||ie<Y)continue e}var ce=h(O,I);if(ce!==void 0)return ce}}}}function g(f,T,h,s,d,A,w,C,b,S,x,i){return A-d>S-b?s?n(f,T,h,d,A,w,C,b,S,x,i):c(f,T,h,d,A,w,C,b,S,x,i):s?u(f,T,h,d,A,w,C,b,S,x,i):l(f,T,h,d,A,w,C,b,S,x,i)}return g}function o(n){return n?r():t()}p.partial=o(!1),p.full=o(!0)},2337:function(v,p,r){v.exports=B;var t=r(5306),o=r(2288),n=r(7333),c=n.partial,u=n.full,l=r(1390),g=r(2464),f=r(122),T=128,h=1<<22,s=1<<22,d=f("!(lo>=p0)&&!(p1>=hi)"),A=f("lo===p0"),w=f("lo<p0"),C=f("hi<=p0"),b=f("lo<=p0&&p0<=hi"),S=f("lo<p0&&p0<=hi"),x=6,i=2,E=1024,m=t.mallocInt32(E),k=t.mallocDouble(E);function I(O,N){var Y=8*o.log2(N+1)*(O+1)|0,$=o.nextPow2(x*Y);m.length<$&&(t.free(m),m=t.mallocInt32($));var te=o.nextPow2(i*Y);k.length<te&&(t.free(k),k=t.mallocDouble(te))}function U(O,N,Y,$,te,ie,ce,J,Z){var ae=x*O;m[ae]=N,m[ae+1]=Y,m[ae+2]=$,m[ae+3]=te,m[ae+4]=ie,m[ae+5]=ce;var j=i*O;k[j]=J,k[j+1]=Z}function z(O,N,Y,$,te,ie,ce,J,Z,ae,j){var q=2*O,oe=Z*q,Q=ae[oe+N];e:for(var K=te,se=te*q;K<ie;++K,se+=q){var ne=ce[se+N],fe=ce[se+N+O];if(!(Q<ne||fe<Q)&&!($&&Q===ne)){for(var ye=J[K],Ee=N+1;Ee<O;++Ee){var ne=ce[se+Ee],fe=ce[se+Ee+O],Te=ae[oe+Ee],ze=ae[oe+Ee+O];if(fe<Te||ze<ne)continue e}var ke;if($?ke=Y(j,ye):ke=Y(ye,j),ke!==void 0)return ke}}}function F(O,N,Y,$,te,ie,ce,J,Z,ae){var j=2*O,q=J*j,oe=Z[q+N];e:for(var Q=$,K=$*j;Q<te;++Q,K+=j){var se=ce[Q];if(se!==ae){var ne=ie[K+N],fe=ie[K+N+O];if(!(oe<ne||fe<oe)){for(var ye=N+1;ye<O;++ye){var ne=ie[K+ye],fe=ie[K+ye+O],Ee=Z[q+ye],Te=Z[q+ye+O];if(fe<Ee||Te<ne)continue e}var ze=Y(se,ae);if(ze!==void 0)return ze}}}}function B(O,N,Y,$,te,ie,ce,J,Z){I(O,$+ce);var ae=0,j=2*O,q;for(U(ae++,0,0,$,0,ce,Y?16:0,-1/0,1/0),Y||U(ae++,0,0,ce,0,$,1,-1/0,1/0);ae>0;){ae-=1;var oe=ae*x,Q=m[oe],K=m[oe+1],se=m[oe+2],ne=m[oe+3],fe=m[oe+4],ye=m[oe+5],Ee=ae*i,Te=k[Ee],ze=k[Ee+1],ke=ye&1,Se=!!(ye&16),me=te,Ce=ie,Ne=J,He=Z;if(ke&&(me=J,Ce=Z,Ne=te,He=ie),!(ye&2&&(se=w(O,Q,K,se,me,Ce,ze),K>=se))&&!(ye&4&&(K=C(O,Q,K,se,me,Ce,Te),K>=se))){var De=se-K,Ve=fe-ne;if(Se){if(O*De*(De+Ve)<s){if(q=l.scanComplete(O,Q,N,K,se,me,Ce,ne,fe,Ne,He),q!==void 0)return q;continue}}else if(O*Math.min(De,Ve)<T){if(q=c(O,Q,N,ke,K,se,me,Ce,ne,fe,Ne,He),q!==void 0)return q;continue}else if(O*De*Ve<h){if(q=l.scanBipartite(O,Q,N,ke,K,se,me,Ce,ne,fe,Ne,He),q!==void 0)return q;continue}var at=d(O,Q,K,se,me,Ce,Te,ze);if(K<at)if(O*(at-K)<T){if(q=u(O,Q+1,N,K,at,me,Ce,ne,fe,Ne,He),q!==void 0)return q}else if(Q===O-2){if(ke?q=l.sweepBipartite(O,N,ne,fe,Ne,He,K,at,me,Ce):q=l.sweepBipartite(O,N,K,at,me,Ce,ne,fe,Ne,He),q!==void 0)return q}else U(ae++,Q+1,K,at,ne,fe,ke,-1/0,1/0),U(ae++,Q+1,ne,fe,K,at,ke^1,-1/0,1/0);if(at<se){var lt=g(O,Q,ne,fe,Ne,He),$e=Ne[j*lt+Q],et=A(O,Q,lt,fe,Ne,He,$e);if(et<fe&&U(ae++,Q,at,se,et,fe,(ke|4)+(Se?16:0),$e,ze),ne<lt&&U(ae++,Q,at,se,ne,lt,(ke|2)+(Se?16:0),Te,$e),lt+1===et){if(Se?q=F(O,Q,N,at,se,me,Ce,lt,Ne,He[lt]):q=z(O,Q,N,ke,at,se,me,Ce,lt,Ne,He[lt]),q!==void 0)return q}else if(lt<et){var ct;if(Se){if(ct=b(O,Q,at,se,me,Ce,$e),at<ct){var dt=A(O,Q,at,ct,me,Ce,$e);if(Q===O-2){if(at<dt&&(q=l.sweepComplete(O,N,at,dt,me,Ce,lt,et,Ne,He),q!==void 0)||dt<ct&&(q=l.sweepBipartite(O,N,dt,ct,me,Ce,lt,et,Ne,He),q!==void 0))return q}else at<dt&&U(ae++,Q+1,at,dt,lt,et,16,-1/0,1/0),dt<ct&&(U(ae++,Q+1,dt,ct,lt,et,0,-1/0,1/0),U(ae++,Q+1,lt,et,dt,ct,1,-1/0,1/0))}}else ke?ct=S(O,Q,at,se,me,Ce,$e):ct=b(O,Q,at,se,me,Ce,$e),at<ct&&(Q===O-2?ke?q=l.sweepBipartite(O,N,lt,et,Ne,He,at,ct,me,Ce):q=l.sweepBipartite(O,N,at,ct,me,Ce,lt,et,Ne,He):(U(ae++,Q+1,at,ct,lt,et,ke,-1/0,1/0),U(ae++,Q+1,lt,et,at,ct,ke^1,-1/0,1/0)))}}}}}},2464:function(v,p,r){v.exports=u;var t=r(122),o=t("lo<p0"),n=8;function c(l,g,f,T,h,s){for(var d=2*l,A=d*(f+1)+g,w=f+1;w<T;++w,A+=d)for(var C=h[A],b=w,S=d*(w-1);b>f&&h[S+g]>C;--b,S-=d){for(var x=S,i=S+d,E=0;E<d;++E,++x,++i){var m=h[x];h[x]=h[i],h[i]=m}var k=s[b];s[b]=s[b-1],s[b-1]=k}}function u(l,g,f,T,h,s){if(T<=f+1)return f;for(var d=f,A=T,w=T+f>>>1,C=2*l,b=w,S=h[C*w+g];d<A;){if(A-d<n){c(l,g,d,A,h,s),S=h[C*w+g];break}var x=A-d,i=Math.random()*x+d|0,E=h[C*i+g],m=Math.random()*x+d|0,k=h[C*m+g],I=Math.random()*x+d|0,U=h[C*I+g];E<=k?U>=k?(b=m,S=k):E>=U?(b=i,S=E):(b=I,S=U):k>=U?(b=m,S=k):U>=E?(b=i,S=E):(b=I,S=U);for(var B=C*(A-1),O=C*b,z=0;z<C;++z,++B,++O){var F=h[B];h[B]=h[O],h[O]=F}var N=s[A-1];s[A-1]=s[b],s[b]=N,b=o(l,g,d,A-1,h,s,S);for(var B=C*(A-1),O=C*b,z=0;z<C;++z,++B,++O){var F=h[B];h[B]=h[O],h[O]=F}var N=s[A-1];if(s[A-1]=s[b],s[b]=N,w<b){for(A=b-1;d<A&&h[C*(A-1)+g]===S;)A-=1;A+=1}else if(b<w)for(d=b+1;d<A&&h[C*d+g]===S;)d+=1;else break}return o(l,g,f,w,h,s,h[C*w+g])}},122:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":o,"lo<=p0":n,"hi<=p0":c,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":g};function r(f){return p[f]}function t(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,x=h,i=T,E=f+T,m=h;s>m;++m,b+=C){var k=d[b+i];if(k===w)if(x===m)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[b+I];d[b+I]=d[S],d[S++]=U}var z=A[m];A[m]=A[x],A[x++]=z}}return x}function o(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,x=h,i=T,E=f+T,m=h;s>m;++m,b+=C){var k=d[b+i];if(k<w)if(x===m)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[b+I];d[b+I]=d[S],d[S++]=U}var z=A[m];A[m]=A[x],A[x++]=z}}return x}function n(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,x=h,i=T,E=f+T,m=h;s>m;++m,b+=C){var k=d[b+E];if(k<=w)if(x===m)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[b+I];d[b+I]=d[S],d[S++]=U}var z=A[m];A[m]=A[x],A[x++]=z}}return x}function c(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,x=h,i=T,E=f+T,m=h;s>m;++m,b+=C){var k=d[b+E];if(k<=w)if(x===m)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[b+I];d[b+I]=d[S],d[S++]=U}var z=A[m];A[m]=A[x],A[x++]=z}}return x}function u(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,x=h,i=T,E=f+T,m=h;s>m;++m,b+=C){var k=d[b+i],I=d[b+E];if(k<=w&&w<=I)if(x===m)x+=1,S+=C;else{for(var U=0;C>U;++U){var z=d[b+U];d[b+U]=d[S],d[S++]=z}var F=A[m];A[m]=A[x],A[x++]=F}}return x}function l(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,x=h,i=T,E=f+T,m=h;s>m;++m,b+=C){var k=d[b+i],I=d[b+E];if(k<w&&w<=I)if(x===m)x+=1,S+=C;else{for(var U=0;C>U;++U){var z=d[b+U];d[b+U]=d[S],d[S++]=z}var F=A[m];A[m]=A[x],A[x++]=F}}return x}function g(f,T,h,s,d,A,w,C){for(var b=2*f,S=b*h,x=S,i=h,E=T,m=f+T,k=h;s>k;++k,S+=b){var I=d[S+E],U=d[S+m];if(!(I>=w)&&!(C>=U))if(i===k)i+=1,x+=b;else{for(var z=0;b>z;++z){var F=d[S+z];d[S+z]=d[x],d[x++]=F}var B=A[k];A[k]=A[i],A[i++]=B}}return i}},309:function(v){v.exports=r;var p=32;function r(T,h){h<=4*p?t(0,h-1,T):f(0,h-1,T)}function t(T,h,s){for(var d=2*(T+1),A=T+1;A<=h;++A){for(var w=s[d++],C=s[d++],b=A,S=d-2;b-- >T;){var x=s[S-2],i=s[S-1];if(x<w)break;if(x===w&&i<C)break;s[S]=x,s[S+1]=i,S-=2}s[S]=w,s[S+1]=C}}function o(T,h,s){T*=2,h*=2;var d=s[T],A=s[T+1];s[T]=s[h],s[T+1]=s[h+1],s[h]=d,s[h+1]=A}function n(T,h,s){T*=2,h*=2,s[T]=s[h],s[T+1]=s[h+1]}function c(T,h,s,d){T*=2,h*=2,s*=2;var A=d[T],w=d[T+1];d[T]=d[h],d[T+1]=d[h+1],d[h]=d[s],d[h+1]=d[s+1],d[s]=A,d[s+1]=w}function u(T,h,s,d,A){T*=2,h*=2,A[T]=A[h],A[h]=s,A[T+1]=A[h+1],A[h+1]=d}function l(T,h,s){T*=2,h*=2;var d=s[T],A=s[h];return d<A?!1:d===A?s[T+1]>s[h+1]:!0}function g(T,h,s,d){T*=2;var A=d[T];return A<h?!0:A===h?d[T+1]<s:!1}function f(T,h,s){var d=(h-T+1)/6|0,A=T+d,w=h-d,C=T+h>>1,b=C-d,S=C+d,x=A,i=b,E=C,m=S,k=w,I=T+1,U=h-1,z=0;l(x,i,s)&&(z=x,x=i,i=z),l(m,k,s)&&(z=m,m=k,k=z),l(x,E,s)&&(z=x,x=E,E=z),l(i,E,s)&&(z=i,i=E,E=z),l(x,m,s)&&(z=x,x=m,m=z),l(E,m,s)&&(z=E,E=m,m=z),l(i,k,s)&&(z=i,i=k,k=z),l(i,E,s)&&(z=i,i=E,E=z),l(m,k,s)&&(z=m,m=k,k=z);for(var F=s[2*i],B=s[2*i+1],O=s[2*m],N=s[2*m+1],Y=2*x,$=2*E,te=2*k,ie=2*A,ce=2*C,J=2*w,Z=0;Z<2;++Z){var ae=s[Y+Z],j=s[$+Z],q=s[te+Z];s[ie+Z]=ae,s[ce+Z]=j,s[J+Z]=q}n(b,T,s),n(S,h,s);for(var oe=I;oe<=U;++oe)if(g(oe,F,B,s))oe!==I&&o(oe,I,s),++I;else if(!g(oe,O,N,s))for(;;)if(g(U,O,N,s)){g(U,F,B,s)?(c(oe,I,U,s),++I,--U):(o(oe,U,s),--U);break}else{if(--U<oe)break;continue}u(T,I-1,F,B,s),u(h,U+1,O,N,s),I-2-T<=p?t(T,I-2,s):f(T,I-2,s),h-(U+2)<=p?t(U+2,h,s):f(U+2,h,s),U-I<=p?t(I,U,s):f(I,U,s)}},1390:function(v,p,r){v.exports={init:A,sweepBipartite:b,sweepComplete:S,scanBipartite:x,scanComplete:i};var t=r(5306),o=r(2288),n=r(309),c=1<<28,u=1024,l=t.mallocInt32(u),g=t.mallocInt32(u),f=t.mallocInt32(u),T=t.mallocInt32(u),h=t.mallocInt32(u),s=t.mallocInt32(u),d=t.mallocDouble(u*8);function A(E){var m=o.nextPow2(E);l.length<m&&(t.free(l),l=t.mallocInt32(m)),g.length<m&&(t.free(g),g=t.mallocInt32(m)),f.length<m&&(t.free(f),f=t.mallocInt32(m)),T.length<m&&(t.free(T),T=t.mallocInt32(m)),h.length<m&&(t.free(h),h=t.mallocInt32(m)),s.length<m&&(t.free(s),s=t.mallocInt32(m));var k=8*m;d.length<k&&(t.free(d),d=t.mallocDouble(k))}function w(E,m,k,I){var U=m[I],z=E[k-1];E[U]=z,m[z]=U}function C(E,m,k,I){E[k]=I,m[I]=k}function b(E,m,k,I,U,z,F,B,O,N){for(var Y=0,$=2*E,te=E-1,ie=$-1,ce=k;ce<I;++ce){var J=z[ce],Z=$*ce;d[Y++]=U[Z+te],d[Y++]=-(J+1),d[Y++]=U[Z+ie],d[Y++]=J}for(var ce=F;ce<B;++ce){var J=N[ce]+c,ae=$*ce;d[Y++]=O[ae+te],d[Y++]=-J,d[Y++]=O[ae+ie],d[Y++]=J}var j=Y>>>1;n(d,j);for(var q=0,oe=0,ce=0;ce<j;++ce){var Q=d[2*ce+1]|0;if(Q>=c)Q=Q-c|0,w(f,T,oe--,Q);else if(Q>=0)w(l,g,q--,Q);else if(Q<=-c){Q=-Q-c|0;for(var K=0;K<q;++K){var se=m(l[K],Q);if(se!==void 0)return se}C(f,T,oe++,Q)}else{Q=-Q-1|0;for(var K=0;K<oe;++K){var se=m(Q,f[K]);if(se!==void 0)return se}C(l,g,q++,Q)}}}function S(E,m,k,I,U,z,F,B,O,N){for(var Y=0,$=2*E,te=E-1,ie=$-1,ce=k;ce<I;++ce){var J=z[ce]+1<<1,Z=$*ce;d[Y++]=U[Z+te],d[Y++]=-J,d[Y++]=U[Z+ie],d[Y++]=J}for(var ce=F;ce<B;++ce){var J=N[ce]+1<<1,ae=$*ce;d[Y++]=O[ae+te],d[Y++]=-J|1,d[Y++]=O[ae+ie],d[Y++]=J|1}var j=Y>>>1;n(d,j);for(var q=0,oe=0,Q=0,ce=0;ce<j;++ce){var K=d[2*ce+1]|0,se=K&1;if(ce<j-1&&K>>1===d[2*ce+3]>>1&&(se=2,ce+=1),K<0){for(var ne=-(K>>1)-1,fe=0;fe<Q;++fe){var ye=m(h[fe],ne);if(ye!==void 0)return ye}if(se!==0)for(var fe=0;fe<q;++fe){var ye=m(l[fe],ne);if(ye!==void 0)return ye}if(se!==1)for(var fe=0;fe<oe;++fe){var ye=m(f[fe],ne);if(ye!==void 0)return ye}se===0?C(l,g,q++,ne):se===1?C(f,T,oe++,ne):se===2&&C(h,s,Q++,ne)}else{var ne=(K>>1)-1;se===0?w(l,g,q--,ne):se===1?w(f,T,oe--,ne):se===2&&w(h,s,Q--,ne)}}}function x(E,m,k,I,U,z,F,B,O,N,Y,$){var te=0,ie=2*E,ce=m,J=m+E,Z=1,ae=1;I?ae=c:Z=c;for(var j=U;j<z;++j){var q=j+Z,oe=ie*j;d[te++]=F[oe+ce],d[te++]=-q,d[te++]=F[oe+J],d[te++]=q}for(var j=O;j<N;++j){var q=j+ae,Q=ie*j;d[te++]=Y[Q+ce],d[te++]=-q}var K=te>>>1;n(d,K);for(var se=0,j=0;j<K;++j){var ne=d[2*j+1]|0;if(ne<0){var q=-ne,fe=!1;if(q>=c?(fe=!I,q-=c):(fe=!!I,q-=1),fe)C(l,g,se++,q);else{var ye=$[q],Ee=ie*q,Te=Y[Ee+m+1],ze=Y[Ee+m+1+E];e:for(var ke=0;ke<se;++ke){var Se=l[ke],me=ie*Se;if(!(ze<F[me+m+1]||F[me+m+1+E]<Te)){for(var Ce=m+2;Ce<E;++Ce)if(Y[Ee+Ce+E]<F[me+Ce]||F[me+Ce+E]<Y[Ee+Ce])continue e;var Ne=B[Se],He;if(I?He=k(ye,Ne):He=k(Ne,ye),He!==void 0)return He}}}}else w(l,g,se--,ne-Z)}}function i(E,m,k,I,U,z,F,B,O,N,Y){for(var $=0,te=2*E,ie=m,ce=m+E,J=I;J<U;++J){var Z=J+c,ae=te*J;d[$++]=z[ae+ie],d[$++]=-Z,d[$++]=z[ae+ce],d[$++]=Z}for(var J=B;J<O;++J){var Z=J+1,j=te*J;d[$++]=N[j+ie],d[$++]=-Z}var q=$>>>1;n(d,q);for(var oe=0,J=0;J<q;++J){var Q=d[2*J+1]|0;if(Q<0){var Z=-Q;if(Z>=c)l[oe++]=Z-c;else{Z-=1;var K=Y[Z],se=te*Z,ne=N[se+m+1],fe=N[se+m+1+E];e:for(var ye=0;ye<oe;++ye){var Ee=l[ye],Te=F[Ee];if(Te===K)break;var ze=te*Ee;if(!(fe<z[ze+m+1]||z[ze+m+1+E]<ne)){for(var ke=m+2;ke<E;++ke)if(N[se+ke+E]<z[ze+ke]||z[ze+ke+E]<N[se+ke])continue e;var Se=k(Te,K);if(Se!==void 0)return Se}}}}else{for(var Z=Q-c,ye=oe-1;ye>=0;--ye)if(l[ye]===Z){for(var ke=ye+1;ke<oe;++ke)l[ke-1]=l[ke];break}--oe}}}},7761:function(v,p,r){var t=r(9971),o=r(743),n=r(2161),c=r(7098);v.exports=T;function u(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function l(h,s){return h[0]-s[0]||h[1]-s[1]}function g(h){return h.map(u).sort(l)}function f(h,s,d){return s in h?h[s]:d}function T(h,s,d){Array.isArray(s)?(d=d||{},s=s||[]):(d=s||{},s=[]);var A=!!f(d,"delaunay",!0),w=!!f(d,"interior",!0),C=!!f(d,"exterior",!0),b=!!f(d,"infinity",!1);if(!w&&!C||h.length===0)return[];var S=t(h,s);if(A||w!==C||b){for(var x=o(h.length,g(s)),i=0;i<S.length;++i){var E=S[i];x.addTriangle(E[0],E[1],E[2])}return A&&n(h,x),C?w?b?c(x,0,b):x.cells():c(x,1,b):c(x,-1)}else return S}},2161:function(v,p,r){var t=r(2227)[4];r(5070),v.exports=n;function o(c,u,l,g,f,T){var h=u.opposite(g,f);if(!(h<0)){if(f<g){var s=g;g=f,f=s,s=T,T=h,h=s}u.isConstraint(g,f)||t(c[g],c[f],c[T],c[h])<0&&l.push(g,f)}}function n(c,u){for(var l=[],g=c.length,f=u.stars,T=0;T<g;++T)for(var h=f[T],s=1;s<h.length;s+=2){var d=h[s];if(!(d<T)&&!u.isConstraint(T,d)){for(var A=h[s-1],w=-1,C=1;C<h.length;C+=2)if(h[C-1]===d){w=h[C];break}w<0||t(c[T],c[d],c[A],c[w])<0&&l.push(T,d)}}for(;l.length>0;){for(var d=l.pop(),T=l.pop(),A=-1,w=-1,h=f[T],b=1;b<h.length;b+=2){var S=h[b-1],x=h[b];S===d?w=x:x===d&&(A=S)}A<0||w<0||t(c[T],c[d],c[A],c[w])>=0||(u.flip(T,d),o(c,u,l,A,T,w),o(c,u,l,T,w,A),o(c,u,l,w,d,A),o(c,u,l,d,A,w))}}},7098:function(v,p,r){var t=r(5070);v.exports=g;function o(f,T,h,s,d,A,w){this.cells=f,this.neighbor=T,this.flags=s,this.constraint=h,this.active=d,this.next=A,this.boundary=w}var n=o.prototype;function c(f,T){return f[0]-T[0]||f[1]-T[1]||f[2]-T[2]}n.locate=function(){var f=[0,0,0];return function(T,h,s){var d=T,A=h,w=s;return h<s?h<T&&(d=h,A=s,w=T):s<T&&(d=s,A=T,w=h),d<0?-1:(f[0]=d,f[1]=A,f[2]=w,t.eq(this.cells,f,c))}}();function u(f,T){for(var h=f.cells(),s=h.length,d=0;d<s;++d){var A=h[d],w=A[0],C=A[1],b=A[2];C<b?C<w&&(A[0]=C,A[1]=b,A[2]=w):b<w&&(A[0]=b,A[1]=w,A[2]=C)}h.sort(c);for(var S=new Array(s),d=0;d<S.length;++d)S[d]=0;var x=[],i=[],E=new Array(3*s),m=new Array(3*s),k=null;T&&(k=[]);for(var I=new o(h,E,m,S,x,i,k),d=0;d<s;++d)for(var A=h[d],U=0;U<3;++U){var w=A[U],C=A[(U+1)%3],z=E[3*d+U]=I.locate(C,w,f.opposite(C,w)),F=m[3*d+U]=f.isConstraint(w,C);z<0&&(F?i.push(d):(x.push(d),S[d]=1),T&&k.push([C,w,-1]))}return I}function l(f,T,h){for(var s=0,d=0;d<f.length;++d)T[d]===h&&(f[s++]=f[d]);return f.length=s,f}function g(f,T,h){var s=u(f,h);if(T===0)return h?s.cells.concat(s.boundary):s.cells;for(var d=1,A=s.active,w=s.next,C=s.flags,b=s.cells,S=s.constraint,x=s.neighbor;A.length>0||w.length>0;){for(;A.length>0;){var i=A.pop();if(C[i]!==-d){C[i]=d,b[i];for(var E=0;E<3;++E){var m=x[3*i+E];m>=0&&C[m]===0&&(S[3*i+E]?w.push(m):(A.push(m),C[m]=d))}}}var k=w;w=A,A=k,w.length=0,d=-d}var I=l(b,C,T);return h?I.concat(s.boundary):I}},9971:function(v,p,r){var t=r(5070),o=r(417)[3],n=0,c=1,u=2;v.exports=w;function l(C,b,S,x,i){this.a=C,this.b=b,this.idx=S,this.lowerIds=x,this.upperIds=i}function g(C,b,S,x){this.a=C,this.b=b,this.type=S,this.idx=x}function f(C,b){var S=C.a[0]-b.a[0]||C.a[1]-b.a[1]||C.type-b.type;return S||C.type!==n&&(S=o(C.a,C.b,b.b),S)?S:C.idx-b.idx}function T(C,b){return o(C.a,C.b,b)}function h(C,b,S,x,i){for(var E=t.lt(b,x,T),m=t.gt(b,x,T),k=E;k<m;++k){for(var I=b[k],U=I.lowerIds,F=U.length;F>1&&o(S[U[F-2]],S[U[F-1]],x)>0;)C.push([U[F-1],U[F-2],i]),F-=1;U.length=F,U.push(i);for(var z=I.upperIds,F=z.length;F>1&&o(S[z[F-2]],S[z[F-1]],x)<0;)C.push([z[F-2],z[F-1],i]),F-=1;z.length=F,z.push(i)}}function s(C,b){var S;return C.a[0]<b.a[0]?S=o(C.a,C.b,b.a):S=o(b.b,b.a,C.a),S||(b.b[0]<C.b[0]?S=o(C.a,C.b,b.b):S=o(b.b,b.a,C.b),S||C.idx-b.idx)}function d(C,b,S){var x=t.le(C,S,s),i=C[x],E=i.upperIds,m=E[E.length-1];i.upperIds=[m],C.splice(x+1,0,new l(S.a,S.b,S.idx,[m],E))}function A(C,b,S){var x=S.a;S.a=S.b,S.b=x;var i=t.eq(C,S,s),E=C[i],m=C[i-1];m.upperIds=E.upperIds,C.splice(i,1)}function w(C,b){for(var S=C.length,x=b.length,i=[],E=0;E<S;++E)i.push(new g(C[E],null,n,E));for(var E=0;E<x;++E){var m=b[E],k=C[m[0]],I=C[m[1]];k[0]<I[0]?i.push(new g(k,I,u,E),new g(I,k,c,E)):k[0]>I[0]&&i.push(new g(I,k,u,E),new g(k,I,c,E))}i.sort(f);for(var U=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),z=[new l([U,1],[U,0],-1,[],[])],F=[],E=0,B=i.length;E<B;++E){var O=i[E],N=O.type;N===n?h(F,z,C,O.a,O.idx):N===u?d(z,C,O):A(z,C,O)}return F}},743:function(v,p,r){var t=r(5070);v.exports=u;function o(l,g){this.stars=l,this.edges=g}var n=o.prototype;function c(l,g,f){for(var T=1,h=l.length;T<h;T+=2)if(l[T-1]===g&&l[T]===f){l[T-1]=l[h-2],l[T]=l[h-1],l.length=h-2;return}}n.isConstraint=function(){var l=[0,0];function g(f,T){return f[0]-T[0]||f[1]-T[1]}return function(f,T){return l[0]=Math.min(f,T),l[1]=Math.max(f,T),t.eq(this.edges,l,g)>=0}}(),n.removeTriangle=function(l,g,f){var T=this.stars;c(T[l],g,f),c(T[g],f,l),c(T[f],l,g)},n.addTriangle=function(l,g,f){var T=this.stars;T[l].push(g,f),T[g].push(f,l),T[f].push(l,g)},n.opposite=function(l,g){for(var f=this.stars[g],T=1,h=f.length;T<h;T+=2)if(f[T]===l)return f[T-1];return-1},n.flip=function(l,g){var f=this.opposite(l,g),T=this.opposite(g,l);this.removeTriangle(l,g,f),this.removeTriangle(g,l,T),this.addTriangle(l,T,f),this.addTriangle(g,f,T)},n.edges=function(){for(var l=this.stars,g=[],f=0,T=l.length;f<T;++f)for(var h=l[f],s=0,d=h.length;s<d;s+=2)g.push([h[s],h[s+1]]);return g},n.cells=function(){for(var l=this.stars,g=[],f=0,T=l.length;f<T;++f)for(var h=l[f],s=0,d=h.length;s<d;s+=2){var A=h[s],w=h[s+1];f<Math.min(A,w)&&g.push([f,A,w])}return g};function u(l,g){for(var f=new Array(l),T=0;T<l;++T)f[T]=[];return new o(f,g)}},9887:function(v){v.exports=p;function p(r){for(var t=1,o=1;o<r.length;++o)for(var n=0;n<o;++n)if(r[o]<r[n])t=-t;else if(r[n]===r[o])return 0;return t}},9243:function(v,p,r){var t=r(3094),o=r(6606);function n(l,g){for(var f=0,T=l.length,h=0;h<T;++h)f+=l[h]*g[h];return f}function c(l){var g=l.length;if(g===0)return[];l[0].length;var f=t([l.length+1,l.length+1],1),T=t([l.length+1],1);f[g][g]=0;for(var h=0;h<g;++h){for(var s=0;s<=h;++s)f[s][h]=f[h][s]=2*n(l[h],l[s]);T[h]=n(l[h],l[h])}for(var d=o(f,T),A=0,w=d[g+1],h=0;h<w.length;++h)A+=w[h];for(var C=new Array(g),h=0;h<g;++h){for(var w=d[h],b=0,s=0;s<w.length;++s)b+=w[s];C[h]=b/A}return C}function u(l){if(l.length===0)return[];for(var g=l[0].length,f=t([g]),T=c(l),h=0;h<l.length;++h)for(var s=0;s<g;++s)f[s]+=l[h][s]*T[h];return f}u.barycenetric=c,v.exports=u},1778:function(v,p,r){v.exports=o;var t=r(9243);function o(n){for(var c=t(n),u=0,l=0;l<n.length;++l)for(var g=n[l],f=0;f<c.length;++f)u+=Math.pow(g[f]-c[f],2);return Math.sqrt(u/n.length)}},197:function(v,p,r){v.exports=k;var t=r(1731),o=r(2569),n=r(4434),c=r(5125),u=r(8846),l=r(7999),g=r(2826),f=r(8551),T=r(5528);function h(I){var U=l(I);return[f(U,-1/0),f(U,1/0)]}function s(I,U){for(var z=new Array(U.length),F=0;F<U.length;++F){var B=U[F],O=I[B[0]],N=I[B[1]];z[F]=[f(Math.min(O[0],N[0]),-1/0),f(Math.min(O[1],N[1]),-1/0),f(Math.max(O[0],N[0]),1/0),f(Math.max(O[1],N[1]),1/0)]}return z}function d(I){for(var U=new Array(I.length),z=0;z<I.length;++z){var F=I[z];U[z]=[f(F[0],-1/0),f(F[1],-1/0),f(F[0],1/0),f(F[1],1/0)]}return U}function A(I,U,z){var F=[];return o(z,function(B,O){var N=U[B],Y=U[O];if(!(N[0]===Y[0]||N[0]===Y[1]||N[1]===Y[0]||N[1]===Y[1])){var $=I[N[0]],te=I[N[1]],ie=I[Y[0]],ce=I[Y[1]];n($,te,ie,ce)&&F.push([B,O])}}),F}function w(I,U,z,F){var B=[];return o(z,F,function(O,N){var Y=U[O];if(!(Y[0]===N||Y[1]===N)){var $=I[N],te=I[Y[0]],ie=I[Y[1]];n(te,ie,$,$)&&B.push([O,N])}}),B}function C(I,U,z,F,B){var O,N,Y=I.map(function(Ee){return[c(Ee[0]),c(Ee[1])]});for(O=0;O<z.length;++O){var $=z[O];N=$[0];var te=$[1],ie=U[N],ce=U[te],J=T(g(I[ie[0]]),g(I[ie[1]]),g(I[ce[0]]),g(I[ce[1]]));if(J){var Z=I.length;I.push([l(J[0]),l(J[1])]),Y.push(J),F.push([N,Z],[te,Z])}}for(F.sort(function(Ee,Te){if(Ee[0]!==Te[0])return Ee[0]-Te[0];var ze=Y[Ee[1]],ke=Y[Te[1]];return u(ze[0],ke[0])||u(ze[1],ke[1])}),O=F.length-1;O>=0;--O){var ae=F[O];N=ae[0];var j=U[N],q=j[0],oe=j[1],Q=I[q],K=I[oe];if((Q[0]-K[0]||Q[1]-K[1])<0){var se=q;q=oe,oe=se}j[0]=q;var ne=j[1]=ae[1],fe;for(B&&(fe=j[2]);O>0&&F[O-1][0]===N;){var ae=F[--O],ye=ae[1];B?U.push([ne,ye,fe]):U.push([ne,ye]),ne=ye}B?U.push([ne,oe,fe]):U.push([ne,oe])}return Y}function b(I,U,z){for(var F=U.length,B=new t(F),O=[],N=0;N<U.length;++N){var Y=U[N],$=h(Y[0]),te=h(Y[1]);O.push([f($[0],-1/0),f(te[0],-1/0),f($[1],1/0),f(te[1],1/0)])}o(O,function(ae,j){B.link(ae,j)});for(var ie=!0,ce=new Array(F),N=0;N<F;++N){var J=B.find(N);J!==N&&(ie=!1,I[J]=[Math.min(I[N][0],I[J][0]),Math.min(I[N][1],I[J][1])])}if(ie)return null;for(var Z=0,N=0;N<F;++N){var J=B.find(N);J===N?(ce[N]=Z,I[Z++]=I[N]):ce[N]=-1}I.length=Z;for(var N=0;N<F;++N)ce[N]<0&&(ce[N]=ce[B.find(N)]);return ce}function S(I,U){return I[0]-U[0]||I[1]-U[1]}function x(I,U){var z=I[0]-U[0]||I[1]-U[1];return z||(I[2]<U[2]?-1:I[2]>U[2]?1:0)}function i(I,U,z){if(I.length!==0){if(U)for(var F=0;F<I.length;++F){var B=I[F],O=U[B[0]],N=U[B[1]];B[0]=Math.min(O,N),B[1]=Math.max(O,N)}else for(var F=0;F<I.length;++F){var B=I[F],O=B[0],N=B[1];B[0]=Math.min(O,N),B[1]=Math.max(O,N)}z?I.sort(x):I.sort(S);for(var Y=1,F=1;F<I.length;++F){var $=I[F-1],te=I[F];te[0]===$[0]&&te[1]===$[1]&&(!z||te[2]===$[2])||(I[Y++]=te)}I.length=Y}}function E(I,U,z){var F=b(I,[],d(I));return i(U,F,z),!!F}function m(I,U,z){var F=s(I,U),B=A(I,U,F),O=d(I),N=w(I,U,F,O),Y=C(I,U,B,N,z),$=b(I,Y);return i(U,$,z),$?!0:B.length>0||N.length>0}function k(I,U,z){var F;if(z){F=U;for(var B=new Array(U.length),O=0;O<U.length;++O){var N=U[O];B[O]=[N[0],N[1],z[O]]}U=B}for(var Y=E(I,U,!!z);m(I,U,!!z);)Y=!0;if(z&&Y){F.length=0,z.length=0;for(var O=0;O<U.length;++O){var N=U[O];F.push([N[0],N[1]]),z.push(N[2])}}return Y}},5528:function(v,p,r){v.exports=T;var t=r(3962),o=r(9189),n=r(4354),c=r(4951),u=r(6695),l=r(7584),g=r(4469);function f(h,s){return n(t(h[0],s[1]),t(h[1],s[0]))}function T(h,s,d,A){var w=u(s,h),C=u(A,d),b=f(w,C);if(c(b)===0)return null;var S=u(h,d),x=f(C,S),i=o(x,b),E=g(w,i),m=l(h,E);return m}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,r){var t=r(5692),o=r(3578);v.exports=n;function n(g){var f,T,h,s,d,A,w,C,i,b,S;if(g||(g={}),C=(g.nshades||72)-1,w=g.format||"hex",A=g.colormap,A||(A="jet"),typeof A=="string"){if(A=A.toLowerCase(),!t[A])throw Error(A+" not a supported colorscale");d=t[A]}else if(Array.isArray(A))d=A.slice();else throw Error("unsupported colormap option",A);if(d.length>C+1)throw new Error(A+" map requires nshades to be at least size "+d.length);Array.isArray(g.alpha)?g.alpha.length!==2?b=[1,1]:b=g.alpha.slice():typeof g.alpha=="number"?b=[g.alpha,g.alpha]:b=[1,1],f=d.map(function(k){return Math.round(k.index*C)}),b[0]=Math.min(Math.max(b[0],0),1),b[1]=Math.min(Math.max(b[1],0),1);var x=d.map(function(k,I){var U=d[I].index,z=d[I].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=b[0]+(b[1]-b[0])*U),z}),i=[];for(S=0;S<f.length-1;++S){s=f[S+1]-f[S],T=x[S],h=x[S+1];for(var E=0;E<s;E++){var m=E/s;i.push([Math.round(o(T[0],h[0],m)),Math.round(o(T[1],h[1],m)),Math.round(o(T[2],h[2],m)),o(T[3],h[3],m)])}}return i.push(d[d.length-1].rgb.concat(b[1])),w==="hex"?i=i.map(u):w==="rgbaString"?i=i.map(l):w==="float"&&(i=i.map(c)),i}function c(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function u(g){for(var f,T="#",h=0;h<3;++h)f=g[h],f=f.toString(16),T+=("00"+f).substr(f.length);return T}function l(g){return"rgba("+g.join(",")+")"}},9398:function(v,p,r){v.exports=g;var t=r(417),o=r(7538),n=r(87),c=r(2019),u=r(9662);function l(f,T,h){var s=n(f[0],-T[0]),d=n(f[1],-T[1]),A=n(h[0],-T[0]),w=n(h[1],-T[1]),C=u(c(s,A),c(d,w));return C[C.length-1]>=0}function g(f,T,h,s){var d=t(T,h,s);if(d===0){var A=o(t(f,T,h)),w=o(t(f,T,s));if(A===w){if(A===0){var C=l(f,T,h),b=l(f,T,s);return C===b?0:C?1:-1}return 0}else{if(w===0)return A>0||l(f,T,s)?-1:1;if(A===0)return w>0||l(f,T,h)?1:-1}return o(w-A)}var S=t(f,T,h);if(S>0)return d>0&&t(f,T,s)>0?1:-1;if(S<0)return d>0||t(f,T,s)>0?1:-1;var x=t(f,T,s);return x>0||l(f,T,h)?1:-1}},7538:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=t;var p=Math.min;function r(o,n){return o-n}function t(o,n){var c=o.length,u=o.length-n.length;if(u)return u;switch(c){case 0:return 0;case 1:return o[0]-n[0];case 2:return o[0]+o[1]-n[0]-n[1]||p(o[0],o[1])-p(n[0],n[1]);case 3:var l=o[0]+o[1],g=n[0]+n[1];if(u=l+o[2]-(g+n[2]),u)return u;var f=p(o[0],o[1]),T=p(n[0],n[1]);return p(f,o[2])-p(T,n[2])||p(f+o[2],l)-p(T+n[2],g);case 4:var h=o[0],s=o[1],d=o[2],A=o[3],w=n[0],C=n[1],b=n[2],S=n[3];return h+s+d+A-(w+C+b+S)||p(h,s,d,A)-p(w,C,b,S,w)||p(h+s,h+d,h+A,s+d,s+A,d+A)-p(w+C,w+b,w+S,C+b,C+S,b+S)||p(h+s+d,h+s+A,h+d+A,s+d+A)-p(w+C+b,w+C+S,w+b+S,C+b+S);default:for(var x=o.slice().sort(r),i=n.slice().sort(r),E=0;E<c;++E)if(u=x[E]-i[E],u)return u;return 0}}},1284:function(v,p,r){var t=r(9209),o=r(9887);v.exports=n;function n(c,u){return t(c,u)||o(c)-o(u)}},5537:function(v,p,r){var t=r(8950),o=r(8722),n=r(3332);v.exports=c;function c(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var g=u[0].length;return g===0?[]:g===1?t(u):g===2?o(u):n(u,g)}},8950:function(v){v.exports=p;function p(r){for(var t=0,o=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[o][0]&&(o=n);return t<o?[[t],[o]]:t>o?[[o],[t]]:[[t]]}},8722:function(v,p,r){v.exports=o;var t=r(3266);function o(n){var c=t(n),u=c.length;if(u<=2)return[];for(var l=new Array(u),g=c[u-1],f=0;f<u;++f){var T=c[f];l[f]=[g,T],g=T}return l}},3332:function(v,p,r){v.exports=u;var t=r(2183),o=r(2153);function n(l,g){for(var f=l.length,T=new Array(f),h=0;h<g.length;++h)T[h]=l[g[h]];for(var s=g.length,h=0;h<f;++h)g.indexOf(h)<0&&(T[s++]=l[h]);return T}function c(l,g){for(var f=l.length,T=g.length,h=0;h<f;++h)for(var s=l[h],d=0;d<s.length;++d){var A=s[d];if(A<T)s[d]=g[A];else{A=A-T;for(var w=0;w<T;++w)A>=g[w]&&(A+=1);s[d]=A}}return l}function u(l,g){try{return t(l,!0)}catch{var f=o(l);if(f.length<=g)return[];var T=n(l,f),h=t(T,!0);return c(h,f)}}},9680:function(v){function p(t,o,n,c,u,l){var g=6*u*u-6*u,f=3*u*u-4*u+1,T=-6*u*u+6*u,h=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var s=t.length-1;s>=0;--s)l[s]=g*t[s]+f*o[s]+T*n[s]+h*c[s];return l}return g*t+f*o+T*n[s]+h*c}function r(t,o,n,c,u,l){var g=u-1,f=u*u,T=g*g,h=(1+2*u)*T,s=u*T,d=f*(3-2*u),A=f*g;if(t.length){l||(l=new Array(t.length));for(var w=t.length-1;w>=0;--w)l[w]=h*t[w]+s*o[w]+d*n[w]+A*c[w];return l}return h*t+s*o+d*n+A*c}v.exports=r,v.exports.derivative=p},4419:function(v,p,r){var t=r(2183),o=r(1215);v.exports=l;function n(g,f){this.point=g,this.index=f}function c(g,f){for(var T=g.point,h=f.point,s=T.length,d=0;d<s;++d){var A=h[d]-T[d];if(A)return A}return 0}function u(g,f,T){if(g===1)return T?[[-1,0]]:[];var h=f.map(function(C,b){return[C[0],b]});h.sort(function(C,b){return C[0]-b[0]});for(var s=new Array(g-1),d=1;d<g;++d){var A=h[d-1],w=h[d];s[d-1]=[A[1],w[1]]}return T&&s.push([-1,s[0][1]],[s[g-1][1],-1]),s}function l(g,f){var T=g.length;if(T===0)return[];var h=g[0].length;if(h<1)return[];if(h===1)return u(T,g,f);for(var s=new Array(T),d=1,A=0;A<T;++A){for(var w=g[A],C=new Array(h+1),b=0,S=0;S<h;++S){var x=w[S];C[S]=x,b+=x*x}C[h]=b,s[A]=new n(C,A),d=Math.max(b,d)}o(s,c),T=s.length;for(var i=new Array(T+h+1),E=new Array(T+h+1),m=(h+1)*(h+1)*d,k=new Array(h+1),A=0;A<=h;++A)k[A]=0;k[h]=m,i[0]=k.slice(),E[0]=-1;for(var A=0;A<=h;++A){var C=k.slice();C[A]=1,i[A+1]=C,E[A+1]=-1}for(var A=0;A<T;++A){var I=s[A];i[A+h+1]=I.point,E[A+h+1]=I.index}var U=t(i,!1);if(f?U=U.filter(function(z){for(var F=0,B=0;B<=h;++B){var O=E[z[B]];if(O<0&&++F>=2)return!1;z[B]=O}return!0}):U=U.filter(function(z){for(var F=0;F<=h;++F){var B=E[z[F]];if(B<0)return!1;z[F]=B}return!0}),h&1)for(var A=0;A<U.length;++A){var I=U[A],C=I[0];I[0]=I[1],I[1]=C}return U}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let n=function(l,g){return t[0]=l,t[1]=g,r[0]},c=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(g){return r[0]=g,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=c,v.exports.hi=u}else if(t[0]===1072693248){let n=function(l,g){return t[1]=l,t[0]=g,r[0]},c=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(g){return r[0]=g,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=c,v.exports.hi=u}else p=!1}if(!p){let n=function(l,g){return o.writeUInt32LE(l,0,!0),o.writeUInt32LE(g,4,!0),o.readDoubleLE(0,!0)},c=function(l){return o.writeDoubleLE(l,0,!0),o.readUInt32LE(0,!0)},u=function(l){return o.writeDoubleLE(l,0,!0),o.readUInt32LE(4,!0)};var o=new Buffer(8);v.exports=function(g){return o.writeDoubleLE(g,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=c,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var c=v.exports.hi(n);return(c<<1>>>21)-1023},v.exports.fraction=function(n){var c=v.exports.lo(n),u=v.exports.hi(n),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[c,l]},v.exports.denormalized=function(n){var c=v.exports.hi(n);return!(c&2146435072)}},3094:function(v){function p(o,n,c){var u=o[c]|0;if(u<=0)return[];var l=new Array(u),g;if(c===o.length-1)for(g=0;g<u;++g)l[g]=n;else for(g=0;g<u;++g)l[g]=p(o,n,c+1);return l}function r(o,n){var c,u;for(c=new Array(o),u=0;u<o;++u)c[u]=n;return c}function t(o,n){switch(typeof n>"u"&&(n=0),typeof o){case"number":if(o>0)return r(o|0,n);break;case"object":if(typeof o.length=="number")return p(o,n,0);break}return[]}v.exports=t},8348:function(v,p,r){v.exports=o;var t=r(1215);function o(n,c){var u=n.length;if(typeof c!="number"){c=0;for(var l=0;l<u;++l){var g=n[l];c=Math.max(c,g[0],g[1])}c=(c|0)+1}c=c|0;for(var f=new Array(c),l=0;l<c;++l)f[l]=[];for(var l=0;l<u;++l){var g=n[l];f[g[0]].push(g[1]),f[g[1]].push(g[0])}for(var T=0;T<c;++T)t(f[T],function(h,s){return h-s});return f}},5795:function(v){v.exports=p;function p(r,t,o){var n=t||0,c=o||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[c*r[12]-r[8],c*r[13]-r[9],c*r[14]-r[10],c*r[15]-r[11]]]}},8444:function(v,p,r){v.exports=g;var t=r(9680),o=r(5070);function n(f,T,h){return Math.min(T,Math.max(f,h))}function c(f,T,h){this.dimension=f.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var s=0;s<this.dimension;++s)this.bounds[0][s]=-1/0,this.bounds[1][s]=1/0;this._state=f.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[h],this._scratch=[f.slice(),f.slice(),f.slice(),f.slice(),f.slice()]}var u=c.prototype;u.flush=function(f){var T=o.gt(this._time,f)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},u.curve=function(f){var T=this._time,h=T.length,s=o.le(T,f),d=this._scratch[0],A=this._state,w=this._velocity,C=this.dimension,b=this.bounds;if(s<0)for(var S=C-1,x=0;x<C;++x,--S)d[x]=A[S];else if(s>=h-1)for(var S=A.length-1,i=f-T[h-1],x=0;x<C;++x,--S)d[x]=A[S]+i*w[S];else{for(var S=C*(s+1)-1,E=T[s],m=T[s+1],k=m-E||1,I=this._scratch[1],U=this._scratch[2],z=this._scratch[3],F=this._scratch[4],B=!0,x=0;x<C;++x,--S)I[x]=A[S],z[x]=w[S]*k,U[x]=A[S+C],F[x]=w[S+C]*k,B=B&&I[x]===U[x]&&z[x]===F[x]&&z[x]===0;if(B)for(var x=0;x<C;++x)d[x]=I[x];else t(I,z,U,F,(f-E)/k,d)}for(var O=b[0],N=b[1],x=0;x<C;++x)d[x]=n(O[x],N[x],d[x]);return d},u.dcurve=function(f){var T=this._time,h=T.length,s=o.le(T,f),d=this._scratch[0],A=this._state,w=this._velocity,C=this.dimension;if(s>=h-1){var b=A.length-1;f-T[h-1];for(var S=0;S<C;++S,--b)d[S]=w[b]}else{for(var b=C*(s+1)-1,x=T[s],i=T[s+1],E=i-x||1,m=this._scratch[1],k=this._scratch[2],I=this._scratch[3],U=this._scratch[4],z=!0,S=0;S<C;++S,--b)m[S]=A[b],I[S]=w[b]*E,k[S]=A[b+C],U[S]=w[b+C]*E,z=z&&m[S]===k[S]&&I[S]===U[S]&&I[S]===0;if(z)for(var S=0;S<C;++S)d[S]=0;else{t.derivative(m,I,k,U,(f-x)/E,d);for(var S=0;S<C;++S)d[S]/=E}}return d},u.lastT=function(){var f=this._time;return f[f.length-1]},u.stable=function(){for(var f=this._velocity,T=f.length,h=this.dimension-1;h>=0;--h)if(f[--T])return!1;return!0},u.jump=function(f){var T=this.lastT(),h=this.dimension;if(!(f<T||arguments.length!==h+1)){var s=this._state,d=this._velocity,A=s.length-this.dimension,w=this.bounds,C=w[0],b=w[1];this._time.push(T,f);for(var S=0;S<2;++S)for(var x=0;x<h;++x)s.push(s[A++]),d.push(0);this._time.push(f);for(var x=h;x>0;--x)s.push(n(C[x-1],b[x-1],arguments[x])),d.push(0)}},u.push=function(f){var T=this.lastT(),h=this.dimension;if(!(f<T||arguments.length!==h+1)){var s=this._state,d=this._velocity,A=s.length-this.dimension,w=f-T,C=this.bounds,b=C[0],S=C[1],x=w>1e-6?1/w:0;this._time.push(f);for(var i=h;i>0;--i){var E=n(b[i-1],S[i-1],arguments[i]);s.push(E),d.push((E-s[A++])*x)}}},u.set=function(f){var T=this.dimension;if(!(f<this.lastT()||arguments.length!==T+1)){var h=this._state,s=this._velocity,d=this.bounds,A=d[0],w=d[1];this._time.push(f);for(var C=T;C>0;--C)h.push(n(A[C-1],w[C-1],arguments[C])),s.push(0)}},u.move=function(f){var T=this.lastT(),h=this.dimension;if(!(f<=T||arguments.length!==h+1)){var s=this._state,d=this._velocity,A=s.length-this.dimension,w=this.bounds,C=w[0],b=w[1],S=f-T,x=S>1e-6?1/S:0;this._time.push(f);for(var i=h;i>0;--i){var E=arguments[i];s.push(n(C[i-1],b[i-1],s[A++]+E)),d.push(E*x)}}},u.idle=function(f){var T=this.lastT();if(!(f<T)){var h=this.dimension,s=this._state,d=this._velocity,A=s.length-h,w=this.bounds,C=w[0],b=w[1],S=f-T;this._time.push(f);for(var x=h-1;x>=0;--x)s.push(n(C[x],b[x],s[A]+S*d[A])),d.push(0),A+=1}};function l(f){for(var T=new Array(f),h=0;h<f;++h)T[h]=0;return T}function g(f,T,h){switch(arguments.length){case 0:return new c([0],[0],0);case 1:if(typeof f=="number"){var s=l(f);return new c(s,s,0)}else return new c(f,l(f.length),0);case 2:if(typeof T=="number"){var s=l(f.length);return new c(f,s,+T)}else h=0;case 3:if(f.length!==T.length)throw new Error("state and velocity lengths must match");return new c(f,T,h)}}},7080:function(v){v.exports=C;var p=0,r=1;function t(b,S,x,i,E,m){this._color=b,this.key=S,this.value=x,this.left=i,this.right=E,this._count=m}function o(b){return new t(b._color,b.key,b.value,b.left,b.right,b._count)}function n(b,S){return new t(b,S.key,S.value,S.left,S.right,S._count)}function c(b){b._count=1+(b.left?b.left._count:0)+(b.right?b.right._count:0)}function u(b,S){this._compare=b,this.root=S}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var b=[];return this.forEach(function(S,x){b.push(S)}),b}}),Object.defineProperty(l,"values",{get:function(){var b=[];return this.forEach(function(S,x){b.push(x)}),b}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(b,S){for(var x=this._compare,i=this.root,E=[],m=[];i;){var k=x(b,i.key);E.push(i),m.push(k),k<=0?i=i.left:i=i.right}E.push(new t(p,b,S,null,null,1));for(var I=E.length-2;I>=0;--I){var i=E[I];m[I]<=0?E[I]=new t(i._color,i.key,i.value,E[I+1],i.right,i._count+1):E[I]=new t(i._color,i.key,i.value,i.left,E[I+1],i._count+1)}for(var I=E.length-1;I>1;--I){var U=E[I-1],i=E[I];if(U._color===r||i._color===r)break;var z=E[I-2];if(z.left===U)if(U.left===i){var F=z.right;if(F&&F._color===p)U._color=r,z.right=n(r,F),z._color=p,I-=1;else{if(z._color=p,z.left=U.right,U._color=r,U.right=z,E[I-2]=U,E[I-1]=i,c(z),c(U),I>=3){var B=E[I-3];B.left===z?B.left=U:B.right=U}break}}else{var F=z.right;if(F&&F._color===p)U._color=r,z.right=n(r,F),z._color=p,I-=1;else{if(U.right=i.left,z._color=p,z.left=i.right,i._color=r,i.left=U,i.right=z,E[I-2]=i,E[I-1]=U,c(z),c(U),c(i),I>=3){var B=E[I-3];B.left===z?B.left=i:B.right=i}break}}else if(U.right===i){var F=z.left;if(F&&F._color===p)U._color=r,z.left=n(r,F),z._color=p,I-=1;else{if(z._color=p,z.right=U.left,U._color=r,U.left=z,E[I-2]=U,E[I-1]=i,c(z),c(U),I>=3){var B=E[I-3];B.right===z?B.right=U:B.left=U}break}}else{var F=z.left;if(F&&F._color===p)U._color=r,z.left=n(r,F),z._color=p,I-=1;else{if(U.left=i.right,z._color=p,z.right=i.left,i._color=r,i.right=U,i.left=z,E[I-2]=i,E[I-1]=U,c(z),c(U),c(i),I>=3){var B=E[I-3];B.right===z?B.right=i:B.left=i}break}}}return E[0]._color=r,new u(x,E[0])};function g(b,S){if(S.left){var x=g(b,S.left);if(x)return x}var x=b(S.key,S.value);if(x)return x;if(S.right)return g(b,S.right)}function f(b,S,x,i){var E=S(b,i.key);if(E<=0){if(i.left){var m=f(b,S,x,i.left);if(m)return m}var m=x(i.key,i.value);if(m)return m}if(i.right)return f(b,S,x,i.right)}function T(b,S,x,i,E){var m=x(b,E.key),k=x(S,E.key),I;if(m<=0&&(E.left&&(I=T(b,S,x,i,E.left),I)||k>0&&(I=i(E.key,E.value),I)))return I;if(k>0&&E.right)return T(b,S,x,i,E.right)}l.forEach=function(S,x,i){if(this.root)switch(arguments.length){case 1:return g(S,this.root);case 2:return f(x,this._compare,S,this.root);case 3:return this._compare(x,i)>=0?void 0:T(x,i,this._compare,S,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var b=[],S=this.root;S;)b.push(S),S=S.left;return new h(this,b)}}),Object.defineProperty(l,"end",{get:function(){for(var b=[],S=this.root;S;)b.push(S),S=S.right;return new h(this,b)}}),l.at=function(b){if(b<0)return new h(this,[]);for(var S=this.root,x=[];;){if(x.push(S),S.left){if(b<S.left._count){S=S.left;continue}b-=S.left._count}if(!b)return new h(this,x);if(b-=1,S.right){if(b>=S.right._count)break;S=S.right}else break}return new h(this,[])},l.ge=function(b){for(var S=this._compare,x=this.root,i=[],E=0;x;){var m=S(b,x.key);i.push(x),m<=0&&(E=i.length),m<=0?x=x.left:x=x.right}return i.length=E,new h(this,i)},l.gt=function(b){for(var S=this._compare,x=this.root,i=[],E=0;x;){var m=S(b,x.key);i.push(x),m<0&&(E=i.length),m<0?x=x.left:x=x.right}return i.length=E,new h(this,i)},l.lt=function(b){for(var S=this._compare,x=this.root,i=[],E=0;x;){var m=S(b,x.key);i.push(x),m>0&&(E=i.length),m<=0?x=x.left:x=x.right}return i.length=E,new h(this,i)},l.le=function(b){for(var S=this._compare,x=this.root,i=[],E=0;x;){var m=S(b,x.key);i.push(x),m>=0&&(E=i.length),m<0?x=x.left:x=x.right}return i.length=E,new h(this,i)},l.find=function(b){for(var S=this._compare,x=this.root,i=[];x;){var E=S(b,x.key);if(i.push(x),E===0)return new h(this,i);E<=0?x=x.left:x=x.right}return new h(this,[])},l.remove=function(b){var S=this.find(b);return S?S.remove():this},l.get=function(b){for(var S=this._compare,x=this.root;x;){var i=S(b,x.key);if(i===0)return x.value;i<=0?x=x.left:x=x.right}};function h(b,S){this.tree=b,this._stack=S}var s=h.prototype;Object.defineProperty(s,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(s,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),s.clone=function(){return new h(this.tree,this._stack.slice())};function d(b,S){b.key=S.key,b.value=S.value,b.left=S.left,b.right=S.right,b._color=S._color,b._count=S._count}function A(b){for(var S,x,i,E,m=b.length-1;m>=0;--m){if(S=b[m],m===0){S._color=r;return}if(x=b[m-1],x.left===S){if(i=x.right,i.right&&i.right._color===p){if(i=x.right=o(i),E=i.right=o(i.right),x.right=i.left,i.left=x,i.right=E,i._color=x._color,S._color=r,x._color=r,E._color=r,c(x),c(i),m>1){var k=b[m-2];k.left===x?k.left=i:k.right=i}b[m-1]=i;return}else if(i.left&&i.left._color===p){if(i=x.right=o(i),E=i.left=o(i.left),x.right=E.left,i.left=E.right,E.left=x,E.right=i,E._color=x._color,x._color=r,i._color=r,S._color=r,c(x),c(i),c(E),m>1){var k=b[m-2];k.left===x?k.left=E:k.right=E}b[m-1]=E;return}if(i._color===r)if(x._color===p){x._color=r,x.right=n(p,i);return}else{x.right=n(p,i);continue}else{if(i=o(i),x.right=i.left,i.left=x,i._color=x._color,x._color=p,c(x),c(i),m>1){var k=b[m-2];k.left===x?k.left=i:k.right=i}b[m-1]=i,b[m]=x,m+1<b.length?b[m+1]=S:b.push(S),m=m+2}}else{if(i=x.left,i.left&&i.left._color===p){if(i=x.left=o(i),E=i.left=o(i.left),x.left=i.right,i.right=x,i.left=E,i._color=x._color,S._color=r,x._color=r,E._color=r,c(x),c(i),m>1){var k=b[m-2];k.right===x?k.right=i:k.left=i}b[m-1]=i;return}else if(i.right&&i.right._color===p){if(i=x.left=o(i),E=i.right=o(i.right),x.left=E.right,i.right=E.left,E.right=x,E.left=i,E._color=x._color,x._color=r,i._color=r,S._color=r,c(x),c(i),c(E),m>1){var k=b[m-2];k.right===x?k.right=E:k.left=E}b[m-1]=E;return}if(i._color===r)if(x._color===p){x._color=r,x.left=n(p,i);return}else{x.left=n(p,i);continue}else{if(i=o(i),x.left=i.right,i.right=x,i._color=x._color,x._color=p,c(x),c(i),m>1){var k=b[m-2];k.right===x?k.right=i:k.left=i}b[m-1]=i,b[m]=x,m+1<b.length?b[m+1]=S:b.push(S),m=m+2}}}}s.remove=function(){var b=this._stack;if(b.length===0)return this.tree;var S=new Array(b.length),x=b[b.length-1];S[S.length-1]=new t(x._color,x.key,x.value,x.left,x.right,x._count);for(var i=b.length-2;i>=0;--i){var x=b[i];x.left===b[i+1]?S[i]=new t(x._color,x.key,x.value,S[i+1],x.right,x._count):S[i]=new t(x._color,x.key,x.value,x.left,S[i+1],x._count)}if(x=S[S.length-1],x.left&&x.right){var E=S.length;for(x=x.left;x.right;)S.push(x),x=x.right;var m=S[E-1];S.push(new t(x._color,m.key,m.value,x.left,x.right,x._count)),S[E-1].key=x.key,S[E-1].value=x.value;for(var i=S.length-2;i>=E;--i)x=S[i],S[i]=new t(x._color,x.key,x.value,x.left,S[i+1],x._count);S[E-1].left=S[E]}if(x=S[S.length-1],x._color===p){var k=S[S.length-2];k.left===x?k.left=null:k.right===x&&(k.right=null),S.pop();for(var i=0;i<S.length;++i)S[i]._count--;return new u(this.tree._compare,S[0])}else if(x.left||x.right){x.left?d(x,x.left):x.right&&d(x,x.right),x._color=r;for(var i=0;i<S.length-1;++i)S[i]._count--;return new u(this.tree._compare,S[0])}else{if(S.length===1)return new u(this.tree._compare,null);for(var i=0;i<S.length;++i)S[i]._count--;var I=S[S.length-2];A(S),I.left===x?I.left=null:I.right=null}return new u(this.tree._compare,S[0])},Object.defineProperty(s,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(s,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(s,"index",{get:function(){var b=0,S=this._stack;if(S.length===0){var x=this.tree.root;return x?x._count:0}else S[S.length-1].left&&(b=S[S.length-1].left._count);for(var i=S.length-2;i>=0;--i)S[i+1]===S[i].right&&(++b,S[i].left&&(b+=S[i].left._count));return b},enumerable:!0}),s.next=function(){var b=this._stack;if(b.length!==0){var S=b[b.length-1];if(S.right)for(S=S.right;S;)b.push(S),S=S.left;else for(b.pop();b.length>0&&b[b.length-1].right===S;)S=b[b.length-1],b.pop()}},Object.defineProperty(s,"hasNext",{get:function(){var b=this._stack;if(b.length===0)return!1;if(b[b.length-1].right)return!0;for(var S=b.length-1;S>0;--S)if(b[S-1].left===b[S])return!0;return!1}}),s.update=function(b){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var x=new Array(S.length),i=S[S.length-1];x[x.length-1]=new t(i._color,i.key,b,i.left,i.right,i._count);for(var E=S.length-2;E>=0;--E)i=S[E],i.left===S[E+1]?x[E]=new t(i._color,i.key,i.value,x[E+1],i.right,i._count):x[E]=new t(i._color,i.key,i.value,i.left,x[E+1],i._count);return new u(this.tree._compare,x[0])},s.prev=function(){var b=this._stack;if(b.length!==0){var S=b[b.length-1];if(S.left)for(S=S.left;S;)b.push(S),S=S.right;else for(b.pop();b.length>0&&b[b.length-1].left===S;)S=b[b.length-1],b.pop()}},Object.defineProperty(s,"hasPrev",{get:function(){var b=this._stack;if(b.length===0)return!1;if(b[b.length-1].left)return!0;for(var S=b.length-1;S>0;--S)if(b[S-1].right===b[S])return!0;return!1}});function w(b,S){return b<S?-1:b>S?1:0}function C(b){return new u(b||w,null)}},7453:function(v,p,r){v.exports=i;var t=r(9557),o=r(1681),n=r(1011),c=r(2864),u=r(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function g(E,m){return E[0]=m[0],E[1]=m[1],E[2]=m[2],E}function f(E){this.gl=E,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(E)}var T=f.prototype;T.update=function(E){E=E||{};function m(ie,ce,J){if(J in E){var Z=E[J],ae=this[J],j;(ie?Array.isArray(Z)&&Array.isArray(Z[0]):Array.isArray(Z))?this[J]=j=[ce(Z[0]),ce(Z[1]),ce(Z[2])]:this[J]=j=[ce(Z),ce(Z),ce(Z)];for(var q=0;q<3;++q)if(j[q]!==ae[q])return!0}return!1}var k=m.bind(this,!1,Number),I=m.bind(this,!1,Boolean),U=m.bind(this,!1,String),z=m.bind(this,!0,function(ie){if(Array.isArray(ie)){if(ie.length===3)return[+ie[0],+ie[1],+ie[2],1];if(ie.length===4)return[+ie[0],+ie[1],+ie[2],+ie[3]]}return[0,0,0,1]}),F,B=!1,O=!1;if("bounds"in E)for(var N=E.bounds,Y=0;Y<2;++Y)for(var $=0;$<3;++$)N[Y][$]!==this.bounds[Y][$]&&(O=!0),this.bounds[Y][$]=N[Y][$];if("ticks"in E){F=E.ticks,B=!0,this.autoTicks=!1;for(var Y=0;Y<3;++Y)this.tickSpacing[Y]=0}else k("tickSpacing")&&(this.autoTicks=!0,O=!0);if(this._firstInit&&("ticks"in E||"tickSpacing"in E||(this.autoTicks=!0),O=!0,B=!0,this._firstInit=!1),O&&this.autoTicks&&(F=u.create(this.bounds,this.tickSpacing),B=!0),B){for(var Y=0;Y<3;++Y)F[Y].sort(function(ce,J){return ce.x-J.x});u.equal(F,this.ticks)?B=!1:this.ticks=F}I("tickEnable"),U("tickFont")&&(B=!0),k("tickSize"),k("tickAngle"),k("tickPad"),z("tickColor");var te=U("labels");U("labelFont")&&(te=!0),I("labelEnable"),k("labelSize"),k("labelPad"),z("labelColor"),I("lineEnable"),I("lineMirror"),k("lineWidth"),z("lineColor"),I("lineTickEnable"),I("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),z("lineTickColor"),I("gridEnable"),k("gridWidth"),z("gridColor"),I("zeroEnable"),z("zeroLineColor"),k("zeroLineWidth"),I("backgroundEnable"),z("backgroundColor"),this._text?this._text&&(te||B)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&B&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=o(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var s=[new h,new h,new h];function d(E,m,k,I,U){for(var z=E.primalOffset,F=E.primalMinor,B=E.mirrorOffset,O=E.mirrorMinor,N=I[m],Y=0;Y<3;++Y)if(m!==Y){var $=z,te=B,ie=F,ce=O;N&1<<Y&&($=B,te=z,ie=O,ce=F),$[Y]=k[0][Y],te[Y]=k[1][Y],U[Y]>0?(ie[Y]=-1,ce[Y]=0):(ie[Y]=0,ce[Y]=1)}}var A=[0,0,0],w={model:l,view:l,projection:l,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(E){};var C=0,b=[0,0,0],S=[0,0,0],x=[0,0,0];T.draw=function(E){E=E||w;for(var ae=this.gl,m=E.model||l,k=E.view||l,I=E.projection||l,U=this.bounds,z=E._ortho||!1,F=c(m,k,I,U,z),B=F.cubeEdges,O=F.axis,N=k[12],Y=k[13],$=k[14],te=k[15],ie=z?2:1,ce=ie*this.pixelRatio*(I[3]*N+I[7]*Y+I[11]*$+I[15]*te)/ae.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=B[J],this.lastCubeProps.axis[J]=O[J];for(var Z=s,J=0;J<3;++J)d(s[J],J,this.bounds,B,O);for(var ae=this.gl,j=A,J=0;J<3;++J)this.backgroundEnable[J]?j[J]=O[J]:j[J]=0;this._background.draw(m,k,I,U,j,this.backgroundColor),this._lines.bind(m,k,I,this);for(var J=0;J<3;++J){var q=[0,0,0];O[J]>0?q[J]=U[1][J]:q[J]=U[0][J];for(var oe=0;oe<2;++oe){var Q=(J+1+oe)%3,K=(J+1+(oe^1))%3;this.gridEnable[Q]&&this._lines.drawGrid(Q,K,this.bounds,q,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(var oe=0;oe<2;++oe){var Q=(J+1+oe)%3,K=(J+1+(oe^1))%3;this.zeroEnable[K]&&Math.min(U[0][K],U[1][K])<=0&&Math.max(U[0][K],U[1][K])>=0&&this._lines.drawZero(Q,K,this.bounds,q,this.zeroLineColor[K],this.zeroLineWidth[K]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var se=g(b,Z[J].primalMinor),ne=g(S,Z[J].mirrorMinor),fe=this.lineTickLength,oe=0;oe<3;++oe){var ye=ce/m[5*oe];se[oe]*=fe[oe]*ye,ne[oe]*=fe[oe]*ye}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,Z[J].primalOffset,se,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,Z[J].mirrorOffset,ne,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(m,k,I,this.pixelRatio);var Ee,Te=.5,ze,ke;function Se(Ve){ke=[0,0,0],ke[Ve]=1}function me(Ve,at,lt){var $e=(Ve+1)%3,et=(Ve+2)%3,ct=at[$e],dt=at[et],gt=lt[$e],At=lt[et];if(ct>0&&At>0){Se($e);return}else if(ct>0&&At<0){Se($e);return}else if(ct<0&&At>0){Se($e);return}else if(ct<0&&At<0){Se($e);return}else if(dt>0&&gt>0){Se(et);return}else if(dt>0&&gt<0){Se(et);return}else if(dt<0&&gt>0){Se(et);return}else if(dt<0&&gt<0){Se(et);return}}for(var J=0;J<3;++J){for(var Ce=Z[J].primalMinor,Ne=Z[J].mirrorMinor,He=g(x,Z[J].primalOffset),oe=0;oe<3;++oe)this.lineTickEnable[J]&&(He[oe]+=ce*Ce[oe]*Math.max(this.lineTickLength[oe],0)/m[5*oe]);var De=[0,0,0];if(De[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,ze=1,Ee=[this.tickAlign[J],Te,ze],Ee[0]==="auto"?Ee[0]=C:Ee[0]=parseInt(""+Ee[0]),ke=[0,0,0],me(J,Ce,Ne);for(var oe=0;oe<3;++oe)He[oe]+=ce*Ce[oe]*this.tickPad[oe]/m[5*oe];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],He,this.tickColor[J],De,ke,Ee)}if(this.labelEnable[J]){ze=0,ke=[0,0,0],this.labels[J].length>4&&(Se(J),ze=1),Ee=[this.labelAlign[J],Te,ze],Ee[0]==="auto"?Ee[0]=C:Ee[0]=parseInt(""+Ee[0]);for(var oe=0;oe<3;++oe)He[oe]+=ce*Ce[oe]*this.labelPad[oe]/m[5*oe];He[J]+=.5*(U[0][J]+U[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],He,this.labelColor[J],[0,0,0],ke,Ee)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function i(E,m){var k=new f(E);return k.update(m),k}},1011:function(v,p,r){v.exports=l;var t=r(5827),o=r(2944),n=r(1943).bg;function c(g,f,T,h){this.gl=g,this.buffer=f,this.vao=T,this.shader=h}var u=c.prototype;u.draw=function(g,f,T,h,s,d){for(var A=!1,w=0;w<3;++w)A=A||s[w];if(A){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:f,projection:T,bounds:h,enable:s,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(g){for(var f=[],T=[],h=0,s=0;s<3;++s)for(var d=(s+1)%3,A=(s+2)%3,w=[0,0,0],C=[0,0,0],b=-1;b<=1;b+=2){T.push(h,h+2,h+1,h+1,h+2,h+3),w[s]=b,C[s]=b;for(var S=-1;S<=1;S+=2){w[d]=S;for(var x=-1;x<=1;x+=2)w[A]=x,f.push(w[0],w[1],w[2],C[0],C[1],C[2]),h+=1}var i=d;d=A,A=i}var E=t(g,new Float32Array(f)),m=t(g,new Uint16Array(T),g.ELEMENT_ARRAY_BUFFER),k=o(g,[{buffer:E,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:g.FLOAT,size:3,offset:12,stride:24}],m),I=n(g);return I.attributes.position.location=0,I.attributes.normal.location=1,new c(g,E,k,I)}},2864:function(v,p,r){v.exports=b;var t=r(2288),o=r(104),n=r(4670),c=r(417),u=new Array(16),l=new Array(8),g=new Array(8),f=new Array(3),T=[0,0,0];(function(){for(var S=0;S<8;++S)l[S]=[1,1,1,1],g[S]=[1,1,1]})();function h(S,x,i){for(var E=0;E<4;++E){S[E]=i[12+E];for(var m=0;m<3;++m)S[E]+=x[m]*i[4*m+E]}}var s=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var x=0;x<s.length;++x)if(S=n.positive(S,s[x]),S.length<3)return 0;for(var i=S[0],E=i[0]/i[3],m=i[1]/i[3],k=0,x=1;x+1<S.length;++x){var I=S[x],U=S[x+1],z=I[0]/I[3],F=I[1]/I[3],B=U[0]/U[3],O=U[1]/U[3],N=z-E,Y=F-m,$=B-E,te=O-m;k+=Math.abs(N*te-Y*$)}return k}var A=[1,1,1],w=[0,0,0],C={cubeEdges:A,axis:w};function b(S,x,i,E,m){o(u,x,S),o(u,i,u);for(var k=0,I=0;I<2;++I){f[2]=E[I][2];for(var U=0;U<2;++U){f[1]=E[U][1];for(var z=0;z<2;++z)f[0]=E[z][0],h(l[k],f,u),k+=1}}for(var F=-1,I=0;I<8;++I){for(var B=l[I][3],O=0;O<3;++O)g[I][O]=l[I][O]/B;m&&(g[I][2]*=-1),B<0&&(F<0||g[I][2]<g[F][2])&&(F=I)}if(F<0){F=0;for(var N=0;N<3;++N){for(var Y=(N+2)%3,$=(N+1)%3,te=-1,ie=-1,ce=0;ce<2;++ce){var J=ce<<N,Z=J+(ce<<Y)+(1-ce<<$),ae=J+(1-ce<<Y)+(ce<<$);c(g[J],g[Z],g[ae],T)<0||(ce?te=1:ie=1)}if(te<0||ie<0){ie>te&&(F|=1<<N);continue}for(var ce=0;ce<2;++ce){var J=ce<<N,Z=J+(ce<<Y)+(1-ce<<$),ae=J+(1-ce<<Y)+(ce<<$),j=d([l[J],l[Z],l[ae],l[J+(1<<Y)+(1<<$)]]);ce?te=j:ie=j}if(ie>te){F|=1<<N;continue}}}for(var q=7^F,oe=-1,I=0;I<8;++I)I===F||I===q||(oe<0||g[oe][1]>g[I][1])&&(oe=I);for(var Q=-1,I=0;I<3;++I){var K=oe^1<<I;if(!(K===F||K===q)){Q<0&&(Q=K);var $=g[K];$[0]<g[Q][0]&&(Q=K)}}for(var se=-1,I=0;I<3;++I){var K=oe^1<<I;if(!(K===F||K===q||K===Q)){se<0&&(se=K);var $=g[K];$[0]>g[se][0]&&(se=K)}}var ne=A;ne[0]=ne[1]=ne[2]=0,ne[t.log2(Q^oe)]=oe&Q,ne[t.log2(oe^se)]=oe&se;var fe=se^7;fe===F||fe===q?(fe=Q^7,ne[t.log2(se^fe)]=fe&se):ne[t.log2(Q^fe)]=fe&Q;for(var ye=w,Ee=F,N=0;N<3;++N)Ee&1<<N?ye[N]=-1:ye[N]=1;return C}},1681:function(v,p,r){v.exports=A;var t=r(5827),o=r(2944),n=r(1943).j,c=[0,0,0],u=[0,0,0],l=[0,0,0],g=[0,0,0],f=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function h(w,C){return w[0]=C[0],w[1]=C[1],w[2]=C[2],w}function s(w,C,b,S,x,i,E,m){this.gl=w,this.vertBuffer=C,this.vao=b,this.shader=S,this.tickCount=x,this.tickOffset=i,this.gridCount=E,this.gridOffset=m}var d=s.prototype;d.bind=function(w,C,b){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=C,this.shader.uniforms.projection=b,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,C,b,S,x){var i=T(u);this.shader.uniforms.majorAxis=u,i[w]=C[1][w]-C[0][w],this.shader.uniforms.minorAxis=i;var E=h(g,b);E[w]+=C[0][w],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=x,this.shader.uniforms.color=S;var m=T(l);m[(w+2)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6);var m=T(l);m[(w+1)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,C,b,S,x){if(this.tickCount[w]){var i=T(c);i[w]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=b,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=x;var E=T(l);E[w]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,C,b,S,x,i){if(this.gridCount[w]){var E=T(u);E[C]=b[1][C]-b[0][C],this.shader.uniforms.minorAxis=E;var m=h(g,S);m[C]+=b[0][C],this.shader.uniforms.offset=m;var k=T(c);k[w]=1,this.shader.uniforms.majorAxis=k;var I=T(l);I[w]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=x,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,C,b,S,x,i){var E=T(u);this.shader.uniforms.majorAxis=E,E[w]=b[1][w]-b[0][w],this.shader.uniforms.minorAxis=E;var m=h(g,S);m[w]+=b[0][w],this.shader.uniforms.offset=m;var k=T(l);k[C]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=x,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function A(w,C,b){var S=[],x=[0,0,0],i=[0,0,0],E=[0,0,0],m=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var z=S.length/3|0,I=0;I<b[k].length;++I){var U=+b[k][I].x;S.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=S.length/3|0;x[k]=z,i[k]=B-z;for(var z=S.length/3|0,F=0;F<b[k].length;++F){var U=+b[k][F].x;S.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=S.length/3|0;E[k]=z,m[k]=B-z}var O=t(w,new Float32Array(S)),N=o(w,[{buffer:O,type:w.FLOAT,size:3,stride:0,offset:0}]),Y=n(w);return Y.attributes.position.location=0,new s(w,O,N,Y,i,x,m,E)}},1943:function(v,p,r){var t=r(6832),o=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(T){return o(T,n,c,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(T){return o(T,u,l,null,[{name:"position",type:"vec3"}])};var g=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return o(T,g,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,r){v.exports=d;var t=r(5827),o=r(2944),n=r(875),c=r(1943).f,u=window||y.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var g=3;function f(A,w,C,b){this.gl=A,this.shader=w,this.buffer=C,this.vao=b,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=f.prototype,h=[0,0];T.bind=function(A,w,C,b){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=A,S.view=w,S.projection=C,S.pixelScale=b,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},T.unbind=function(){this.vao.unbind()},T.update=function(A,w,C,b,S){var x=[];function i(O,N,Y,$,te,ie){var ce=l[Y];ce||(ce=l[Y]={});var J=ce[N];J||(J=ce[N]=s(N,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:te,styletags:ie}));for(var Z=($||12)/12,ae=J.positions,j=J.cells,q=0,oe=j.length;q<oe;++q)for(var Q=j[q],K=2;K>=0;--K){var se=ae[Q[K]];x.push(Z*se[0],-Z*se[1],O)}}for(var E=[0,0,0],m=[0,0,0],k=[0,0,0],I=[0,0,0],U=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){k[F]=x.length/g|0,i(.5*(A[0][F]+A[1][F]),w[F],C[F],12,U,z),I[F]=(x.length/g|0)-k[F],E[F]=x.length/g|0;for(var B=0;B<b[F].length;++B)b[F][B].text&&i(b[F][B].x,b[F][B].text,b[F][B].font||S,b[F][B].fontSize||12,U,z);m[F]=(x.length/g|0)-E[F]}this.buffer.update(x),this.tickOffset=E,this.tickCount=m,this.labelOffset=k,this.labelCount=I},T.drawTicks=function(A,w,C,b,S,x,i,E){this.tickCount[A]&&(this.shader.uniforms.axis=x,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=b,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A]))},T.drawLabel=function(A,w,C,b,S,x,i,E){this.labelCount[A]&&(this.shader.uniforms.axis=x,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=b,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[A],this.labelOffset[A]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function s(A,w){try{return n(A,w)}catch(C){return console.warn('error vectorizing text:"'+A+'" error:',C),{cells:[],positions:[]}}}function d(A,w,C,b,S,x){var i=t(A),E=o(A,[{buffer:i,size:3}]),m=c(A);m.attributes.position.location=0;var k=new f(A,m,i,E);return k.update(w,C,b,S,x),k}},8468:function(v,p){p.create=t,p.equal=o;function r(n,c){var u=n+"",l=u.indexOf("."),g=0;l>=0&&(g=u.length-l-1);var f=Math.pow(10,g),T=Math.round(n*c*f),h=T+"";if(h.indexOf("e")>=0)return h;var s=T/f,d=T%f;T<0?(s=-Math.ceil(s)|0,d=-d|0):(s=Math.floor(s)|0,d=d|0);var A=""+s;if(T<0&&(A="-"+A),g){for(var w=""+d;w.length<g;)w="0"+w;return A+"."+w}else return A}function t(n,c){for(var u=[],l=0;l<3;++l){var g=[];.5*(n[0][l]+n[1][l]);for(var f=0;f*c[l]<=n[1][l];++f)g.push({x:f*c[l],text:r(c[l],f)});for(var f=-1;f*c[l]>=n[0][l];--f)g.push({x:f*c[l],text:r(c[l],f)});u.push(g)}return u}function o(n,c){for(var u=0;u<3;++u){if(n[u].length!==c[u].length)return!1;for(var l=0;l<n[u].length;++l){var g=n[u][l],f=c[u][l];if(g.x!==f.x||g.text!==f.text||g.font!==f.font||g.fontColor!==f.fontColor||g.fontSize!==f.fontSize||g.dx!==f.dx||g.dy!==f.dy)return!1}}return!0}},2771:function(v,p,r){v.exports=C;var t=r(5795),o=r(4670),n=r(2864),c=r(104),u=r(2142),l=r(6342),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function T(b,S,x){this.lo=b,this.hi=S,this.pixelsPerDataUnit=x}var h=[0,0,0,1],s=[0,0,0,1];function d(b,S,x,i,E){for(var m=0;m<3;++m){for(var k=h,I=s,U=0;U<3;++U)I[U]=k[U]=x[U];I[3]=k[3]=1,I[m]+=1,l(I,I,S),I[3]<0&&(b[m]=1/0),k[m]-=1,l(k,k,S),k[3]<0&&(b[m]=1/0);var z=(k[0]/k[3]-I[0]/I[3])*i,F=(k[1]/k[3]-I[1]/I[3])*E;b[m]=.25*Math.sqrt(z*z+F*F)}return b}var A=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0];function C(b,S,x,i,F){var m=S.model||g,k=S.view||g,I=S.projection||g,U=S._ortho||!1,z=b.bounds,F=F||n(m,k,I,z,U),B=F.axis;c(f,k,m),c(f,I,f);for(var O=A,N=0;N<3;++N)O[N].lo=1/0,O[N].hi=-1/0,O[N].pixelsPerDataUnit=1/0;var Y=t(u(f,f));u(f,f);for(var $=0;$<3;++$){var te=($+1)%3,ie=($+2)%3,ce=w;e:for(var N=0;N<2;++N){var J=[];if(B[$]<0!=!!N){ce[$]=z[N][$];for(var Z=0;Z<2;++Z){ce[te]=z[Z^N][te];for(var ae=0;ae<2;++ae)ce[ie]=z[ae^Z^N][ie],J.push(ce.slice())}for(var j=U?5:4,Z=j;Z===j;++Z){if(J.length===0)continue e;J=o.positive(J,Y[Z])}for(var Z=0;Z<J.length;++Z)for(var ie=J[Z],q=d(w,f,ie,x,i),ae=0;ae<3;++ae)O[ae].lo=Math.min(O[ae].lo,ie[ae]),O[ae].hi=Math.max(O[ae].hi,ie[ae]),ae!==$&&(O[ae].pixelsPerDataUnit=Math.min(O[ae].pixelsPerDataUnit,Math.abs(q[ae])))}}}return O}},5827:function(v,p,r){var t=r(5306),o=r(7498),n=r(5050),c=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(s,d,A,w,C){this.gl=s,this.type=d,this.handle=A,this.length=w,this.usage=C}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function g(s,d,A,w,C,b){var S=C.length*C.BYTES_PER_ELEMENT;if(b<0)return s.bufferData(d,C,w),S;if(S+b>A)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return s.bufferSubData(d,b,C),A}function f(s,d){for(var A=t.malloc(s.length,d),w=s.length,C=0;C<w;++C)A[C]=s[C];return A}function T(s,d){for(var A=1,w=d.length-1;w>=0;--w){if(d[w]!==A)return!1;A*=s[w]}return!0}l.update=function(s,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof s=="object"&&typeof s.shape<"u"){var A=s.dtype;if(c.indexOf(A)<0&&(A="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&A!=="uint16"?A="uint32":A="uint16"}if(A===s.dtype&&T(s.shape,s.stride))s.offset===0&&s.data.length===s.shape[0]?this.length=g(this.gl,this.type,this.length,this.usage,s.data,d):this.length=g(this.gl,this.type,this.length,this.usage,s.data.subarray(s.offset,s.shape[0]),d);else{var C=t.malloc(s.size,A),b=n(C,s.shape);o.assign(b,s),d<0?this.length=g(this.gl,this.type,this.length,this.usage,C,d):this.length=g(this.gl,this.type,this.length,this.usage,C.subarray(0,s.size),d),t.free(C)}}else if(Array.isArray(s)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=f(s,"uint16"):S=f(s,"float32"),d<0?this.length=g(this.gl,this.type,this.length,this.usage,S,d):this.length=g(this.gl,this.type,this.length,this.usage,S.subarray(0,s.length),d),t.free(S)}else if(typeof s=="object"&&typeof s.length=="number")this.length=g(this.gl,this.type,this.length,this.usage,s,d);else if(typeof s=="number"||s===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");s=s|0,s<=0&&(s=1),this.gl.bufferData(this.type,s|0,this.usage),this.length=s}else throw new Error("gl-buffer: Invalid data type")};function h(s,d,A,w){if(A=A||s.ARRAY_BUFFER,w=w||s.DYNAMIC_DRAW,A!==s.ARRAY_BUFFER&&A!==s.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==s.DYNAMIC_DRAW&&w!==s.STATIC_DRAW&&w!==s.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=s.createBuffer(),b=new u(s,A,C,0,w);return b.update(d),b}v.exports=h},1140:function(v,p,r){var t=r(2858);v.exports=function(n,c){var u=n.positions,l=n.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return c&&(c[0]=[0,0,0],c[1]=[0,0,0]),g;for(var f=0,T=1/0,h=-1/0,s=1/0,d=-1/0,A=1/0,w=-1/0,C=null,b=null,S=[],x=1/0,i=!1,E=0;E<u.length;E++){var m=u[E];T=Math.min(m[0],T),h=Math.max(m[0],h),s=Math.min(m[1],s),d=Math.max(m[1],d),A=Math.min(m[2],A),w=Math.max(m[2],w);var k=l[E];if(t.length(k)>f&&(f=t.length(k)),E){var I=2*t.distance(C,m)/(t.length(b)+t.length(k));I?(x=Math.min(x,I),i=!1):i=!0}i||(C=m,b=k),S.push(k)}var U=[T,s,A],z=[h,d,w];c&&(c[0]=U,c[1]=z),f===0&&(f=1);var F=1/f;isFinite(x)||(x=1),g.vectorScale=x;var B=n.coneSize||.5;n.absoluteConeSize&&(B=n.absoluteConeSize*F),g.coneScale=B;for(var E=0,O=0;E<u.length;E++)for(var m=u[E],N=m[0],Y=m[1],$=m[2],te=S[E],ie=t.length(te)*F,ce=0,J=8;ce<J;ce++){g.positions.push([N,Y,$,O++]),g.positions.push([N,Y,$,O++]),g.positions.push([N,Y,$,O++]),g.positions.push([N,Y,$,O++]),g.positions.push([N,Y,$,O++]),g.positions.push([N,Y,$,O++]),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vertexIntensity.push(ie,ie,ie),g.vertexIntensity.push(ie,ie,ie);var Z=g.positions.length;g.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return g};var o=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(n,c){return v.exports.createMesh(n,c,{shaders:o,traceType:"cone"})}},5028:function(v,p,r){var t=r(5158),o=r(5827),n=r(2944),c=r(8931),u=r(104),l=r(7437),g=r(5050),f=r(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(S,x,i,E,m,k,I,U,z,F,B){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=i,this.pickShader=E,this.trianglePositions=m,this.triangleVectors=k,this.triangleColors=U,this.triangleUVs=z,this.triangleIds=I,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var s=h.prototype;s.isOpaque=function(){return this.opacity>=1},s.isTransparent=function(){return this.opacity<1},s.pickSlots=1,s.setPickBase=function(S){this.pickId=S};function d(S){for(var x=f({colormap:S,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),E=0;E<256;++E){for(var m=x[E],k=0;k<3;++k)i[4*E+k]=m[k];i[4*E+3]=m[3]*255}return g(i,[256,256,4],[4,0,1])}function A(S){for(var x=S.length,i=new Array(x),E=0;E<x;++E)i[E]=S[E][2];return i}s.update=function(S){S=S||{};var x=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var i=S.cells,E=S.positions,m=S.vectors;if(!(!E||!i||!m)){var k=[],I=[],U=[],z=[],F=[];this.cells=i,this.positions=E,this.vectors=m;var B=S.meshColor||[1,1,1,1],O=S.vertexIntensity,N=1/0,Y=-1/0;if(O)if(S.vertexIntensityBounds)N=+S.vertexIntensityBounds[0],Y=+S.vertexIntensityBounds[1];else for(var $=0;$<O.length;++$){var te=O[$];N=Math.min(N,te),Y=Math.max(Y,te)}else for(var $=0;$<E.length;++$){var te=E[$][2];N=Math.min(N,te),Y=Math.max(Y,te)}O?this.intensity=O:this.intensity=A(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var $=0;$<E.length;++$)for(var ie=E[$],ce=0;ce<3;++ce)isNaN(ie[ce])||!isFinite(ie[ce])||(this.bounds[0][ce]=Math.min(this.bounds[0][ce],ie[ce]),this.bounds[1][ce]=Math.max(this.bounds[1][ce],ie[ce]));var J=0;e:for(var $=0;$<i.length;++$){var Z=i[$];switch(Z.length){case 3:for(var ce=0;ce<3;++ce)for(var ae=Z[ce],ie=E[ae],j=0;j<3;++j)if(isNaN(ie[j])||!isFinite(ie[j]))continue e;for(var ce=0;ce<3;++ce){var ae=Z[2-ce],ie=E[ae];k.push(ie[0],ie[1],ie[2],ie[3]);var q=m[ae];I.push(q[0],q[1],q[2],q[3]||0);var oe=B;oe.length===3?U.push(oe[0],oe[1],oe[2],1):U.push(oe[0],oe[1],oe[2],oe[3]);var Q;O?Q=[(O[ae]-N)/(Y-N),0]:Q=[(ie[2]-N)/(Y-N),0],z.push(Q[0],Q[1]),F.push($)}J+=1;break}}this.triangleCount=J,this.trianglePositions.update(k),this.triangleVectors.update(I),this.triangleColors.update(U),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(F))}},s.drawTransparent=s.draw=function(S){S=S||{};for(var x=this.gl,i=S.model||T,E=S.view||T,m=S.projection||T,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);var U={model:i,view:E,projection:m,inverseModel:T.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};U.inverseModel=l(U.inverseModel,U.model),x.disable(x.CULL_FACE),this.texture.bind(0);var z=new Array(16);u(z,U.view,U.model),u(z,U.projection,z),l(z,z);for(var I=0;I<3;++I)U.eyePosition[I]=z[12+I]/z[15];for(var F=z[15],I=0;I<3;++I)F+=this.lightPosition[I]*z[4*I+3];for(var I=0;I<3;++I){for(var B=z[12+I],O=0;O<3;++O)B+=z[4*O+I]*this.lightPosition[O];U.lightPosition[I]=B/F}if(this.triangleCount>0){var N=this.triShader;N.bind(),N.uniforms=U,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},s.drawPick=function(S){S=S||{};for(var x=this.gl,i=S.model||T,E=S.view||T,m=S.projection||T,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);this._model=[].slice.call(i),this._view=[].slice.call(E),this._projection=[].slice.call(m),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var U={model:i,view:E,projection:m,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=U,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},s.pick=function(S){if(!S||S.id!==this.pickId)return null;var x=S.value[0]+256*S.value[1]+65536*S.value[2],i=this.cells[x],E=this.positions[i[1]].slice(0,3),m={position:E,dataCoordinate:E,index:Math.floor(i[1]/48)};return this.traceType==="cone"?m.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(m.intensity=this.intensity[i[1]],m.velocity=this.vectors[i[1]].slice(0,3),m.divergence=this.vectors[i[1]][3],m.index=x),m},s.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(S,x){var i=t(S,x.meshShader.vertex,x.meshShader.fragment,null,x.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function C(S,x){var i=t(S,x.pickShader.vertex,x.pickShader.fragment,null,x.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function b(S,x,i){var E=i.shaders;arguments.length===1&&(x=S,S=x.gl);var m=w(S,E),k=C(S,E),I=c(S,g(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=S.LINEAR_MIPMAP_LINEAR,I.magFilter=S.LINEAR;var U=o(S),z=o(S),F=o(S),B=o(S),O=o(S),N=n(S,[{buffer:U,type:S.FLOAT,size:4},{buffer:O,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:S.FLOAT,size:4},{buffer:B,type:S.FLOAT,size:2},{buffer:z,type:S.FLOAT,size:4}]),Y=new h(S,I,m,k,U,z,O,F,B,N,i.traceType||"cone");return Y.update(x),Y}v.exports=b},7234:function(v,p,r){var t=r(6832),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),c=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:c,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,r){var t=r(1950);v.exports=function(n){return t[n]}},3110:function(v,p,r){v.exports=h;var t=r(5827),o=r(2944),n=r(7667),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(s,d,A,w){this.gl=s,this.shader=w,this.buffer=d,this.vao=A,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(s){var d=this.gl,A=this.shader.uniforms;this.shader.bind();var w=A.view=s.view||c,C=A.projection=s.projection||c;A.model=s.model||c,A.clipBounds=this.clipBounds,A.opacity=this.opacity;var b=w[12],S=w[13],x=w[14],i=w[15],E=s._ortho||!1,m=E?2:1,k=m*this.pixelRatio*(C[3]*b+C[7]*S+C[11]*x+C[15]*i)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),A.capSize=this.capSize[I]*k,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function g(s,d){for(var A=0;A<3;++A)s[0][A]=Math.min(s[0][A],d[A]),s[1][A]=Math.max(s[1][A],d[A])}var f=function(){for(var s=new Array(3),d=0;d<3;++d){for(var A=[],w=1;w<=2;++w)for(var C=-1;C<=1;C+=2){var b=(w+d)%3,S=[0,0,0];S[b]=C,A.push(S)}s[d]=A}return s}();function T(s,d,A,w){for(var C=f[w],b=0;b<C.length;++b){var S=C[b];s.push(d[0],d[1],d[2],A[0],A[1],A[2],A[3],S[0],S[1],S[2])}return C.length}l.update=function(s){s=s||{},"lineWidth"in s&&(this.lineWidth=s.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in s&&(this.capSize=s.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=s.color||[[0,0,0],[0,0,0],[0,0,0]],A=s.position,w=s.error;if(Array.isArray(d[0])||(d=[d,d,d]),A&&w){var C=[],b=A.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var x=0;x<3;++x){this.lineOffset[x]=S;e:for(var i=0;i<b;++i){for(var E=A[i],m=0;m<3;++m)if(isNaN(E[m])||!isFinite(E[m]))continue e;var k=w[i],I=d[x];if(Array.isArray(I[0])&&(I=d[i]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][x])||isNaN(k[1][x]))){if(k[0][x]<0){var U=E.slice();U[x]+=k[0][x],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,U[0],U[1],U[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,U),S+=2+T(C,U,I,x)}if(k[1][x]>0){var U=E.slice();U[x]+=k[1][x],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,U[0],U[1],U[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,U),S+=2+T(C,U,I,x)}}}this.lineCount[x]=S-this.lineOffset[x]}this.buffer.update(C)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(s){var d=s.gl,A=t(d),w=o(d,[{buffer:A,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:A,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:A,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var b=new u(d,A,w,C);return b.update(s),b}},7667:function(v,p,r){var t=r(6832),o=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return o(u,n,c,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,r){var t=r(8931);v.exports=S;var o=null,n,c,u,l;function g(x){var i=x.getParameter(x.FRAMEBUFFER_BINDING),E=x.getParameter(x.RENDERBUFFER_BINDING),m=x.getParameter(x.TEXTURE_BINDING_2D);return[i,E,m]}function f(x,i){x.bindFramebuffer(x.FRAMEBUFFER,i[0]),x.bindRenderbuffer(x.RENDERBUFFER,i[1]),x.bindTexture(x.TEXTURE_2D,i[2])}function T(x,i){var E=x.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);o=new Array(E+1);for(var m=0;m<=E;++m){for(var k=new Array(E),I=0;I<m;++I)k[I]=x.COLOR_ATTACHMENT0+I;for(var I=m;I<E;++I)k[I]=x.NONE;o[m]=k}}function h(x){switch(x){case n:throw new Error("gl-fbo: Framebuffer unsupported");case c:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(x,i,E,m,k,I){if(!m)return null;var U=t(x,i,E,k,m);return U.magFilter=x.NEAREST,U.minFilter=x.NEAREST,U.mipSamples=1,U.bind(),x.framebufferTexture2D(x.FRAMEBUFFER,I,x.TEXTURE_2D,U.handle,0),U}function d(x,i,E,m,k){var I=x.createRenderbuffer();return x.bindRenderbuffer(x.RENDERBUFFER,I),x.renderbufferStorage(x.RENDERBUFFER,m,i,E),x.framebufferRenderbuffer(x.FRAMEBUFFER,k,x.RENDERBUFFER,I),I}function A(x){var i=g(x.gl),E=x.gl,m=x.handle=E.createFramebuffer(),k=x._shape[0],I=x._shape[1],U=x.color.length,z=x._ext,F=x._useStencil,B=x._useDepth,O=x._colorType;E.bindFramebuffer(E.FRAMEBUFFER,m);for(var N=0;N<U;++N)x.color[N]=s(E,k,I,O,E.RGBA,E.COLOR_ATTACHMENT0+N);U===0?(x._color_rb=d(E,k,I,E.RGBA4,E.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(o[0])):U>1&&z.drawBuffersWEBGL(o[U]);var Y=E.getExtension("WEBGL_depth_texture");Y?F?x.depth=s(E,k,I,Y.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B&&(x.depth=s(E,k,I,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):B&&F?x._depth_rb=d(E,k,I,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B?x._depth_rb=d(E,k,I,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):F&&(x._depth_rb=d(E,k,I,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var $=E.checkFramebufferStatus(E.FRAMEBUFFER);if($!==E.FRAMEBUFFER_COMPLETE){x._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(x.handle),x.handle=null,x.depth&&(x.depth.dispose(),x.depth=null),x._depth_rb&&(E.deleteRenderbuffer(x._depth_rb),x._depth_rb=null);for(var N=0;N<x.color.length;++N)x.color[N].dispose(),x.color[N]=null;x._color_rb&&(E.deleteRenderbuffer(x._color_rb),x._color_rb=null),f(E,i),h($)}f(E,i)}function w(x,i,E,m,k,I,U,z){this.gl=x,this._shape=[i|0,E|0],this._destroyed=!1,this._ext=z,this.color=new Array(k);for(var F=0;F<k;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=m,this._useDepth=I,this._useStencil=U;var B=this,O=[i|0,E|0];Object.defineProperties(O,{0:{get:function(){return B._shape[0]},set:function(N){return B.width=N}},1:{get:function(){return B._shape[1]},set:function(N){return B.height=N}}}),this._shapeVector=O,A(this)}var C=w.prototype;function b(x,i,E){if(x._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(x._shape[0]===i&&x._shape[1]===E)){var m=x.gl,k=m.getParameter(m.MAX_RENDERBUFFER_SIZE);if(i<0||i>k||E<0||E>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");x._shape[0]=i,x._shape[1]=E;for(var I=g(m),U=0;U<x.color.length;++U)x.color[U].shape=x._shape;x._color_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,x._color_rb),m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,x._shape[0],x._shape[1])),x.depth&&(x.depth.shape=x._shape),x._depth_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,x._depth_rb),x._useDepth&&x._useStencil?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,x._shape[0],x._shape[1]):x._useDepth?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,x._shape[0],x._shape[1]):x._useStencil&&m.renderbufferStorage(m.RENDERBUFFER,m.STENCIL_INDEX,x._shape[0],x._shape[1])),m.bindFramebuffer(m.FRAMEBUFFER,x.handle);var z=m.checkFramebufferStatus(m.FRAMEBUFFER);z!==m.FRAMEBUFFER_COMPLETE&&(x.dispose(),f(m,I),h(z)),f(m,I)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(x){if(Array.isArray(x)||(x=[x|0,x|0]),x.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=x[0]|0,E=x[1]|0;return b(this,i,E),[i,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(x){return x=x|0,b(this,x,this._shape[1]),x},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(x){return x=x|0,b(this,this._shape[0],x),x},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var x=this.gl;x.bindFramebuffer(x.FRAMEBUFFER,this.handle),x.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var x=this.gl;x.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(x.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(x.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(x,i,E,m){n||(n=x.FRAMEBUFFER_UNSUPPORTED,c=x.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=x.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=x.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=x.getExtension("WEBGL_draw_buffers");if(!o&&k&&T(x,k),Array.isArray(i)&&(m=E,E=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var I=x.getParameter(x.MAX_RENDERBUFFER_SIZE);if(i<0||i>I||E<0||E>I)throw new Error("gl-fbo: Parameters are too large for FBO");m=m||{};var U=1;if("color"in m){if(U=Math.max(m.color|0,0),U<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(U>1)if(k){if(U>x.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+U+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=x.UNSIGNED_BYTE,F=x.getExtension("OES_texture_float");if(m.float&&U>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");z=x.FLOAT}else m.preferFloat&&U>0&&F&&(z=x.FLOAT);var B=!0;"depth"in m&&(B=!!m.depth);var O=!1;return"stencil"in m&&(O=!!m.stencil),new w(x,i,E,z,U,B,O,k)}},3530:function(v,p,r){var t=r(8974).sprintf,o=r(6603),n=r(9365),c=r(8008);v.exports=u;function u(l,g,f){var T=n(g)||"of unknown name (see npm glsl-shader-name)",h="unknown type";f!==void 0&&(h=f===o.FRAGMENT_SHADER?"fragment":"vertex");for(var s=t(`Error compiling %s shader %s:
`,h,T),d=t("%s%s",s,l),A=l.split(`
`),w={},C=0;C<A.length;C++){var b=A[C];if(!(b===""||b==="\0")){var S=parseInt(b.split(":")[2]);if(isNaN(S))throw new Error(t("Could not parse error: %s",b));w[S]=b}}for(var x=c(g).split(`
`),C=0;C<x.length;C++)if(!(!w[C+3]&&!w[C+2]&&!w[C+1])){var i=x[C];if(s+=i+`
`,w[C+1]){var E=w[C+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),s+=t(`^^^ %s

`,E)}}return{long:s.trim(),short:d.trim()}}},6386:function(v,p,r){v.exports=h;var t=r(5070),o=r(9560),n=r(5306),c=r(5158),u=r(5827),l=r(1292);function g(s,d,A,w,C,b,S){this.plot=s,this.shader=d,this.pickShader=A,this.positionBuffer=w,this.weightBuffer=C,this.colorBuffer=b,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var f=g.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=function(){var s=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,A=this.shader,w=this.bounds,C=this.numVertices;if(!(C<=0)){var b=d.gl,S=d.dataBox,x=w[2]-w[0],i=w[3]-w[1],E=S[2]-S[0],m=S[3]-S[1];s[0]=2*x/E,s[4]=2*i/m,s[6]=2*(w[0]-S[0])/E-1,s[7]=2*(w[1]-S[1])/m-1,A.bind();var k=A.uniforms;k.viewTransform=s,k.shape=this.shape;var I=A.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(b.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(b.UNSIGNED_BYTE,!0),b.drawArrays(b.TRIANGLES,0,C)}}}(),f.drawPick=function(){var s=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(A){var w=this.plot,C=this.pickShader,b=this.bounds,S=this.numVertices;if(!(S<=0)){var x=w.gl,i=w.dataBox,E=b[2]-b[0],m=b[3]-b[1],k=i[2]-i[0],I=i[3]-i[1];s[0]=2*E/k,s[4]=2*m/I,s[6]=2*(b[0]-i[0])/k-1,s[7]=2*(b[1]-i[1])/I-1;for(var U=0;U<4;++U)d[U]=A>>U*8&255;this.pickOffset=A,C.bind();var z=C.uniforms;z.viewTransform=s,z.pickOffset=d,z.shape=this.shape;var F=C.attributes;return this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(x.UNSIGNED_BYTE,!1),this.idBuffer.bind(),F.pickId.pointer(x.UNSIGNED_BYTE,!1),x.drawArrays(x.TRIANGLES,0,S),A+this.shape[0]*this.shape[1]}}}(),f.pick=function(s,d,A){var w=this.pickOffset,C=this.shape[0]*this.shape[1];if(A<w||A>=w+C)return null;var b=A-w,S=this.xData,x=this.yData;return{object:this,pointId:b,dataCoord:[S[b%this.shape[0]],x[b/this.shape[0]|0]]}},f.update=function(s){s=s||{};var d=s.shape||[0,0],A=s.x||o(d[0]),w=s.y||o(d[1]),C=s.z||new Float32Array(d[0]*d[1]),b=s.zsmooth!==!1;this.xData=A,this.yData=w;var S=s.colorLevels||[0],x=s.colorValues||[0,0,0,1],i=S.length,E=this.bounds,m,k,I,U;b?(m=E[0]=A[0],k=E[1]=w[0],I=E[2]=A[A.length-1],U=E[3]=w[w.length-1]):(m=E[0]=A[0]+(A[1]-A[0])/2,k=E[1]=w[0]+(w[1]-w[0])/2,I=E[2]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2,U=E[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var z=1/(I-m),F=1/(U-k),B=d[0],O=d[1];this.shape=[B,O];var N=(b?(B-1)*(O-1):B*O)*(T.length>>>1);this.numVertices=N;for(var Y=n.mallocUint8(N*4),$=n.mallocFloat32(N*2),te=n.mallocUint8(N*2),ie=n.mallocUint32(N),ce=0,J=b?B-1:B,Z=b?O-1:O,ae=0;ae<Z;++ae){var j,q;b?(j=F*(w[ae]-k),q=F*(w[ae+1]-k)):(j=ae<O-1?F*(w[ae]-(w[ae+1]-w[ae])/2-k):F*(w[ae]-(w[ae]-w[ae-1])/2-k),q=ae<O-1?F*(w[ae]+(w[ae+1]-w[ae])/2-k):F*(w[ae]+(w[ae]-w[ae-1])/2-k));for(var oe=0;oe<J;++oe){var Q,K;b?(Q=z*(A[oe]-m),K=z*(A[oe+1]-m)):(Q=oe<B-1?z*(A[oe]-(A[oe+1]-A[oe])/2-m):z*(A[oe]-(A[oe]-A[oe-1])/2-m),K=oe<B-1?z*(A[oe]+(A[oe+1]-A[oe])/2-m):z*(A[oe]+(A[oe]-A[oe-1])/2-m));for(var se=0;se<T.length;se+=2){var ne=T[se],fe=T[se+1],ye=b?(ae+fe)*B+(oe+ne):ae*B+oe,Ee=C[ye],Te=t.le(S,Ee),ze,ke,Se,me;if(Te<0)ze=x[0],ke=x[1],Se=x[2],me=x[3];else if(Te===i-1)ze=x[4*i-4],ke=x[4*i-3],Se=x[4*i-2],me=x[4*i-1];else{var Ce=(Ee-S[Te])/(S[Te+1]-S[Te]),Ne=1-Ce,He=4*Te,De=4*(Te+1);ze=Ne*x[He]+Ce*x[De],ke=Ne*x[He+1]+Ce*x[De+1],Se=Ne*x[He+2]+Ce*x[De+2],me=Ne*x[He+3]+Ce*x[De+3]}Y[4*ce]=255*ze,Y[4*ce+1]=255*ke,Y[4*ce+2]=255*Se,Y[4*ce+3]=255*me,$[2*ce]=Q*.5+K*.5,$[2*ce+1]=j*.5+q*.5,te[2*ce]=ne,te[2*ce+1]=fe,ie[ce]=ae*B+oe,ce+=1}}}this.positionBuffer.update($),this.weightBuffer.update(te),this.colorBuffer.update(Y),this.idBuffer.update(ie),n.free($),n.free(Y),n.free(te),n.free(ie)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(s,d){var A=s.gl,w=c(A,l.vertex,l.fragment),C=c(A,l.pickVertex,l.pickFragment),b=u(A),S=u(A),x=u(A),i=u(A),E=new g(s,w,C,b,S,x,i);return E.update(d),s.addObject(E),E}},1292:function(v,p,r){var t=r(6832);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,r){var t=r(6832),o=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(g){return o(g,n,c,null,l)},p.createPickShader=function(g){return o(g,n,u,null,l)}},6086:function(v,p,r){v.exports=x;var t=r(5827),o=r(2944),n=r(8931),c=new Uint8Array(4),u=new Float32Array(c.buffer);function l(i,E,m,k){return c[0]=k,c[1]=m,c[2]=E,c[3]=i,u[0]}var g=r(5070),f=r(5050),T=r(248),h=T.createShader,s=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function A(i,E){for(var m=0,k=0;k<3;++k){var I=i[k]-E[k];m+=I*I}return Math.sqrt(m)}function w(i){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],m=0;m<3;++m)E[0][m]=Math.max(i[0][m],E[0][m]),E[1][m]=Math.min(i[1][m],E[1][m]);return E}function C(i,E,m,k){this.arcLength=i,this.position=E,this.index=m,this.dataCoordinate=k}function b(i,E,m,k,I,U){this.gl=i,this.shader=E,this.pickShader=m,this.buffer=k,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=U,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=b.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(i){this.pickId=i},S.drawTransparent=S.draw=function(i){if(this.vertexCount){var E=this.gl,m=this.shader,k=this.vao;m.bind(),m.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.drawPick=function(i){if(this.vertexCount){var E=this.gl,m=this.pickShader,k=this.vao;m.bind(),m.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.update=function(i){var E,m;this.dirty=!0;var k=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],U=[],z=[],F=0,B=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=i.position||i.positions;if(N){var Y=i.color||i.colors||[0,0,0,1],$=i.lineWidth||1,te=!1;e:for(E=1;E<N.length;++E){var ie=N[E-1],ce=N[E];for(U.push(F),z.push(ie.slice()),m=0;m<3;++m){if(isNaN(ie[m])||isNaN(ce[m])||!isFinite(ie[m])||!isFinite(ce[m])){if(!k&&I.length>0){for(var J=0;J<24;++J)I.push(I[I.length-12]);B+=2,te=!0}continue e}O[0][m]=Math.min(O[0][m],ie[m],ce[m]),O[1][m]=Math.max(O[1][m],ie[m],ce[m])}var Z,ae;Array.isArray(Y[0])?(Z=Y.length>E-1?Y[E-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],ae=Y.length>E?Y[E]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):Z=ae=Y,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),ae.length===3&&(ae=[ae[0],ae[1],ae[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var j;Array.isArray($)?j=$.length>E-1?$[E-1]:$.length>0?$[$.length-1]:[0,0,0,1]:j=$;var q=F;if(F+=A(ie,ce),te){for(m=0;m<2;++m)I.push(ie[0],ie[1],ie[2],ce[0],ce[1],ce[2],q,j,Z[0],Z[1],Z[2],Z[3]);B+=2,te=!1}I.push(ie[0],ie[1],ie[2],ce[0],ce[1],ce[2],q,j,Z[0],Z[1],Z[2],Z[3],ie[0],ie[1],ie[2],ce[0],ce[1],ce[2],q,-j,Z[0],Z[1],Z[2],Z[3],ce[0],ce[1],ce[2],ie[0],ie[1],ie[2],F,-j,ae[0],ae[1],ae[2],ae[3],ce[0],ce[1],ce[2],ie[0],ie[1],ie[2],F,j,ae[0],ae[1],ae[2],ae[3]),B+=4}}if(this.buffer.update(I),U.push(F),z.push(N[N.length-1].slice()),this.bounds=O,this.vertexCount=B,this.points=z,this.arcLength=U,"dashes"in i){var oe=i.dashes,Q=oe.slice();for(Q.unshift(0),E=1;E<Q.length;++E)Q[E]=Q[E-1]+Q[E];var K=f(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(m=0;m<4;++m)K.set(E,0,m,0);g.le(Q,Q[Q.length-1]*E/255)&1?K.set(E,0,0,0):K.set(E,0,0,255)}this.texture.setPixels(K)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(i){if(!i||i.id!==this.pickId)return null;var E=l(i.value[0],i.value[1],i.value[2],0),m=g.le(this.arcLength,E);if(m<0)return null;if(m===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),m);for(var k=this.points[m],I=this.points[Math.min(m+1,this.points.length-1)],U=(E-this.arcLength[m])/(this.arcLength[m+1]-this.arcLength[m]),z=1-U,F=[0,0,0],B=0;B<3;++B)F[B]=z*k[B]+U*I[B];var O=Math.min(U<.5?m:m+1,this.points.length-1);return new C(E,F,O,this.points[O])};function x(i){var E=i.gl||i.scene&&i.scene.gl,m=h(E);m.attributes.position.location=0,m.attributes.nextPosition.location=1,m.attributes.arcLength.location=2,m.attributes.lineWidth.location=3,m.attributes.color.location=4;var k=s(E);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var I=t(E),U=o(E,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),z=f(new Array(256*4),[256,1,4]),F=0;F<1024;++F)z.data[F]=255;var B=n(E,z);B.wrap=E.REPEAT;var O=new b(E,m,k,I,U,B);return O.update(i),O}},7332:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],c=r[3],u=r[4],l=r[5],g=r[6],f=r[7],T=r[8],h=r[9],s=r[10],d=r[11],A=r[12],w=r[13],C=r[14],b=r[15],S=t*l-o*u,x=t*g-n*u,i=t*f-c*u,E=o*g-n*l,m=o*f-c*l,k=n*f-c*g,I=T*w-h*A,U=T*C-s*A,z=T*b-d*A,F=h*C-s*w,B=h*b-d*w,O=s*b-d*C;return S*O-x*B+i*F+E*z-m*U+k*I}},5950:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],c=t[2],u=t[3],l=o+o,g=n+n,f=c+c,T=o*l,h=n*l,s=n*g,d=c*l,A=c*g,w=c*f,C=u*l,b=u*g,S=u*f;return r[0]=1-s-w,r[1]=h+S,r[2]=d-b,r[3]=0,r[4]=h-S,r[5]=1-T-w,r[6]=A+C,r[7]=0,r[8]=d+b,r[9]=A-C,r[10]=1-T-s,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2],l=t[3],g=n+n,f=c+c,T=u+u,h=n*g,s=n*f,d=n*T,A=c*f,w=c*T,C=u*T,b=l*g,S=l*f,x=l*T;return r[0]=1-(A+C),r[1]=s+x,r[2]=d-S,r[3]=0,r[4]=s-x,r[5]=1-(h+C),r[6]=w+b,r[7]=0,r[8]=d+S,r[9]=w-b,r[10]=1-(h+A),r[11]=0,r[12]=o[0],r[13]=o[1],r[14]=o[2],r[15]=1,r}},9947:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],c=t[2],u=t[3],l=t[4],g=t[5],f=t[6],T=t[7],h=t[8],s=t[9],d=t[10],A=t[11],w=t[12],C=t[13],b=t[14],S=t[15],x=o*g-n*l,i=o*f-c*l,E=o*T-u*l,m=n*f-c*g,k=n*T-u*g,I=c*T-u*f,U=h*C-s*w,z=h*b-d*w,F=h*S-A*w,B=s*b-d*C,O=s*S-A*C,N=d*S-A*b,Y=x*N-i*O+E*B+m*F-k*z+I*U;return Y?(Y=1/Y,r[0]=(g*N-f*O+T*B)*Y,r[1]=(c*O-n*N-u*B)*Y,r[2]=(C*I-b*k+S*m)*Y,r[3]=(d*k-s*I-A*m)*Y,r[4]=(f*F-l*N-T*z)*Y,r[5]=(o*N-c*F+u*z)*Y,r[6]=(b*E-w*I-S*i)*Y,r[7]=(h*I-d*E+A*i)*Y,r[8]=(l*O-g*F+T*U)*Y,r[9]=(n*F-o*O-u*U)*Y,r[10]=(w*k-C*E+S*x)*Y,r[11]=(s*E-h*k-A*x)*Y,r[12]=(g*z-l*B-f*U)*Y,r[13]=(o*B-n*z+c*U)*Y,r[14]=(C*i-w*m-b*x)*Y,r[15]=(h*m-s*i+d*x)*Y,r):null}},3012:function(v,p,r){var t=r(9947);v.exports=o;function o(n,c,u,l){var g,f,T,h,s,d,A,w,C,b,S=c[0],x=c[1],i=c[2],E=l[0],m=l[1],k=l[2],I=u[0],U=u[1],z=u[2];return Math.abs(S-I)<1e-6&&Math.abs(x-U)<1e-6&&Math.abs(i-z)<1e-6?t(n):(A=S-I,w=x-U,C=i-z,b=1/Math.sqrt(A*A+w*w+C*C),A*=b,w*=b,C*=b,g=m*C-k*w,f=k*A-E*C,T=E*w-m*A,b=Math.sqrt(g*g+f*f+T*T),b?(b=1/b,g*=b,f*=b,T*=b):(g=0,f=0,T=0),h=w*T-C*f,s=C*g-A*T,d=A*f-w*g,b=Math.sqrt(h*h+s*s+d*d),b?(b=1/b,h*=b,s*=b,d*=b):(h=0,s=0,d=0),n[0]=g,n[1]=h,n[2]=A,n[3]=0,n[4]=f,n[5]=s,n[6]=w,n[7]=0,n[8]=T,n[9]=d,n[10]=C,n[11]=0,n[12]=-(g*S+f*x+T*i),n[13]=-(h*S+s*x+d*i),n[14]=-(A*S+w*x+C*i),n[15]=1,n)}},104:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2],l=t[3],g=t[4],f=t[5],T=t[6],h=t[7],s=t[8],d=t[9],A=t[10],w=t[11],C=t[12],b=t[13],S=t[14],x=t[15],i=o[0],E=o[1],m=o[2],k=o[3];return r[0]=i*n+E*g+m*s+k*C,r[1]=i*c+E*f+m*d+k*b,r[2]=i*u+E*T+m*A+k*S,r[3]=i*l+E*h+m*w+k*x,i=o[4],E=o[5],m=o[6],k=o[7],r[4]=i*n+E*g+m*s+k*C,r[5]=i*c+E*f+m*d+k*b,r[6]=i*u+E*T+m*A+k*S,r[7]=i*l+E*h+m*w+k*x,i=o[8],E=o[9],m=o[10],k=o[11],r[8]=i*n+E*g+m*s+k*C,r[9]=i*c+E*f+m*d+k*b,r[10]=i*u+E*T+m*A+k*S,r[11]=i*l+E*h+m*w+k*x,i=o[12],E=o[13],m=o[14],k=o[15],r[12]=i*n+E*g+m*s+k*C,r[13]=i*c+E*f+m*d+k*b,r[14]=i*u+E*T+m*A+k*S,r[15]=i*l+E*h+m*w+k*x,r}},5268:function(v){v.exports=p;function p(r,t,o,n,c,u,l){var g=1/(t-o),f=1/(n-c),T=1/(u-l);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+o)*g,r[13]=(c+n)*f,r[14]=(l+u)*T,r[15]=1,r}},1120:function(v){v.exports=p;function p(r,t,o,n,c){var u=1/Math.tan(t/2),l=1/(n-c);return r[0]=u/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(c+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*c*n*l,r[15]=0,r}},4422:function(v){v.exports=p;function p(r,t,o,n){var c=n[0],u=n[1],l=n[2],g=Math.sqrt(c*c+u*u+l*l),f,T,h,s,d,A,w,C,b,S,x,i,E,m,k,I,U,z,F,B,O,N,Y,$;return Math.abs(g)<1e-6?null:(g=1/g,c*=g,u*=g,l*=g,f=Math.sin(o),T=Math.cos(o),h=1-T,s=t[0],d=t[1],A=t[2],w=t[3],C=t[4],b=t[5],S=t[6],x=t[7],i=t[8],E=t[9],m=t[10],k=t[11],I=c*c*h+T,U=u*c*h+l*f,z=l*c*h-u*f,F=c*u*h-l*f,B=u*u*h+T,O=l*u*h+c*f,N=c*l*h+u*f,Y=u*l*h-c*f,$=l*l*h+T,r[0]=s*I+C*U+i*z,r[1]=d*I+b*U+E*z,r[2]=A*I+S*U+m*z,r[3]=w*I+x*U+k*z,r[4]=s*F+C*B+i*O,r[5]=d*F+b*B+E*O,r[6]=A*F+S*B+m*O,r[7]=w*F+x*B+k*O,r[8]=s*N+C*Y+i*$,r[9]=d*N+b*Y+E*$,r[10]=A*N+S*Y+m*$,r[11]=w*N+x*Y+k*$,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),c=Math.cos(o),u=t[4],l=t[5],g=t[6],f=t[7],T=t[8],h=t[9],s=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*c+T*n,r[5]=l*c+h*n,r[6]=g*c+s*n,r[7]=f*c+d*n,r[8]=T*c-u*n,r[9]=h*c-l*n,r[10]=s*c-g*n,r[11]=d*c-f*n,r}},7115:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),c=Math.cos(o),u=t[0],l=t[1],g=t[2],f=t[3],T=t[8],h=t[9],s=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*c-T*n,r[1]=l*c-h*n,r[2]=g*c-s*n,r[3]=f*c-d*n,r[8]=u*n+T*c,r[9]=l*n+h*c,r[10]=g*n+s*c,r[11]=f*n+d*c,r}},5240:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),c=Math.cos(o),u=t[0],l=t[1],g=t[2],f=t[3],T=t[4],h=t[5],s=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*c+T*n,r[1]=l*c+h*n,r[2]=g*c+s*n,r[3]=f*c+d*n,r[4]=T*c-u*n,r[5]=h*c-l*n,r[6]=s*c-g*n,r[7]=d*c-f*n,r}},3668:function(v){v.exports=p;function p(r,t,o){var n=o[0],c=o[1],u=o[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*c,r[5]=t[5]*c,r[6]=t[6]*c,r[7]=t[7]*c,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(v){v.exports=p;function p(r,t,o){var n=o[0],c=o[1],u=o[2],l,g,f,T,h,s,d,A,w,C,b,S;return t===r?(r[12]=t[0]*n+t[4]*c+t[8]*u+t[12],r[13]=t[1]*n+t[5]*c+t[9]*u+t[13],r[14]=t[2]*n+t[6]*c+t[10]*u+t[14],r[15]=t[3]*n+t[7]*c+t[11]*u+t[15]):(l=t[0],g=t[1],f=t[2],T=t[3],h=t[4],s=t[5],d=t[6],A=t[7],w=t[8],C=t[9],b=t[10],S=t[11],r[0]=l,r[1]=g,r[2]=f,r[3]=T,r[4]=h,r[5]=s,r[6]=d,r[7]=A,r[8]=w,r[9]=C,r[10]=b,r[11]=S,r[12]=l*n+h*c+w*u+t[12],r[13]=g*n+s*c+C*u+t[13],r[14]=f*n+d*c+b*u+t[14],r[15]=T*n+A*c+S*u+t[15]),r}},2142:function(v){v.exports=p;function p(r,t){if(r===t){var o=t[1],n=t[2],c=t[3],u=t[6],l=t[7],g=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=o,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=c,r[13]=l,r[14]=g}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(v,p,r){var t=r(957),o=r(7309);v.exports=g;function n(f,T){for(var h=[0,0,0,0],s=0;s<4;++s)for(var d=0;d<4;++d)h[d]+=f[4*s+d]*T[s];return h}function c(f,T,h,s,d){for(var A=n(s,n(h,n(T,[f[0],f[1],f[2],1]))),w=0;w<3;++w)A[w]/=A[3];return[.5*d[0]*(1+A[0]),.5*d[1]*(1-A[1])]}function u(f,T){if(f.length===2){for(var h=0,s=0,d=0;d<2;++d)h+=Math.pow(T[d]-f[0][d],2),s+=Math.pow(T[d]-f[1][d],2);return h=Math.sqrt(h),s=Math.sqrt(s),h+s<1e-6?[1,0]:[s/(h+s),h/(s+h)]}else if(f.length===3){var A=[0,0];return o(f[0],f[1],f[2],T,A),t(f,A)}return[]}function l(f,T){for(var h=[0,0,0],s=0;s<f.length;++s)for(var d=f[s],A=T[s],w=0;w<3;++w)h[w]+=A*d[w];return h}function g(f,T,h,s,d,A){if(f.length===1)return[0,f[0].slice()];for(var w=new Array(f.length),C=0;C<f.length;++C)w[C]=c(f[C],h,s,d,A);for(var b=0,S=1/0,C=0;C<w.length;++C){for(var x=0,i=0;i<2;++i)x+=Math.pow(w[C][i]-T[i],2);x<S&&(S=x,b=C)}for(var E=u(w,T),m=0,C=0;C<3;++C){if(E[C]<-.001||E[C]>1.0001)return null;m+=E[C]}return Math.abs(m-1)>.001?null:[b,l(f,E),E]}},2056:function(v,p,r){var t=r(6832),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),s=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:c,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:f,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:s,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,r){var t=1e-6,o=1e-6,n=r(5158),c=r(5827),u=r(2944),l=r(8931),g=r(115),f=r(104),T=r(7437),h=r(5050),s=r(9156),d=r(7212),A=r(5306),w=r(2056),C=r(4340),b=w.meshShader,S=w.wireShader,x=w.pointShader,i=w.pickShader,E=w.pointPickShader,m=w.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(J,Z,ae,j,q,oe,Q,K,se,ne,fe,ye,Ee,Te,ze,ke,Se,me,Ce,Ne,He,De,Ve,at,lt,$e,et){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=ae,this.lineShader=j,this.pointShader=q,this.pickShader=oe,this.pointPickShader=Q,this.contourShader=K,this.trianglePositions=se,this.triangleColors=fe,this.triangleNormals=Ee,this.triangleUVs=ye,this.triangleIds=ne,this.triangleVAO=Te,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ze,this.edgeColors=Se,this.edgeUVs=me,this.edgeIds=ke,this.edgeVAO=Ce,this.edgeCount=0,this.pointPositions=Ne,this.pointColors=De,this.pointUVs=Ve,this.pointSizes=at,this.pointIds=He,this.pointVAO=lt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=$e,this.contourVAO=et,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var U=I.prototype;U.isOpaque=function(){return!this.hasAlpha},U.isTransparent=function(){return this.hasAlpha},U.pickSlots=1,U.setPickBase=function(J){this.pickId=J};function z(J,Z){if(!Z||!Z.length)return 1;for(var ae=0;ae<Z.length;++ae){if(Z.length<2)return 1;if(Z[ae][0]===J)return Z[ae][1];if(Z[ae][0]>J&&ae>0){var j=(Z[ae][0]-J)/(Z[ae][0]-Z[ae-1][0]);return Z[ae][1]*(1-j)+j*Z[ae-1][1]}}return 1}function F(J,Z){for(var ae=s({colormap:J,nshades:256,format:"rgba"}),j=new Uint8Array(256*4),q=0;q<256;++q){for(var oe=ae[q],Q=0;Q<3;++Q)j[4*q+Q]=oe[Q];Z?j[4*q+3]=255*z(q/255,Z):j[4*q+3]=255*oe[3]}return h(j,[256,256,4],[4,0,1])}function B(J){for(var Z=J.length,ae=new Array(Z),j=0;j<Z;++j)ae[j]=J[j][2];return ae}U.highlight=function(J){if(!J||!this.contourEnable){this.contourCount=0;return}for(var Z=d(this.cells,this.intensity,J.intensity),ae=Z.cells,j=Z.vertexIds,q=Z.vertexWeights,oe=ae.length,Q=A.mallocFloat32(2*3*oe),K=0,se=0;se<oe;++se)for(var ne=ae[se],fe=0;fe<2;++fe){var ye=ne[0];ne.length===2&&(ye=ne[fe]);for(var Ee=j[ye][0],Te=j[ye][1],ze=q[ye],ke=1-ze,Se=this.positions[Ee],me=this.positions[Te],Ce=0;Ce<3;++Ce)Q[K++]=ze*Se[Ce]+ke*me[Ce]}this.contourCount=K/3|0,this.contourPositions.update(Q.subarray(0,K)),A.free(Q)},U.update=function(J){J=J||{};var Z=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=l(Z,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(F(J.colormap,this.opacityscale)),this.texture.generateMipmap());var ae=J.cells,j=J.positions;if(!(!j||!ae)){var q=[],oe=[],Q=[],K=[],se=[],ne=[],fe=[],ye=[],Ee=[],Te=[],ze=[],ke=[],Se=[],me=[];this.cells=ae,this.positions=j;var Ce=J.vertexNormals,Ne=J.cellNormals,He=J.vertexNormalsEpsilon===void 0?t:J.vertexNormalsEpsilon,De=J.faceNormalsEpsilon===void 0?o:J.faceNormalsEpsilon;J.useFacetNormals&&!Ne&&(Ne=g.faceNormals(ae,j,De)),!Ne&&!Ce&&(Ce=g.vertexNormals(ae,j,He));var Ve=J.vertexColors,at=J.cellColors,lt=J.meshColor||[1,1,1,1],$e=J.vertexUVs,et=J.vertexIntensity,ct=J.cellUVs,dt=J.cellIntensity,gt=1/0,At=-1/0;if(!$e&&!ct)if(et)if(J.vertexIntensityBounds)gt=+J.vertexIntensityBounds[0],At=+J.vertexIntensityBounds[1];else for(var Rt=0;Rt<et.length;++Rt){var Vt=et[Rt];gt=Math.min(gt,Vt),At=Math.max(At,Vt)}else if(dt)if(J.cellIntensityBounds)gt=+J.cellIntensityBounds[0],At=+J.cellIntensityBounds[1];else for(var Rt=0;Rt<dt.length;++Rt){var Vt=dt[Rt];gt=Math.min(gt,Vt),At=Math.max(At,Vt)}else for(var Rt=0;Rt<j.length;++Rt){var Vt=j[Rt][2];gt=Math.min(gt,Vt),At=Math.max(At,Vt)}et?this.intensity=et:dt?this.intensity=dt:this.intensity=B(j),this.pickVertex=!(dt||at);var Je=J.pointSizes,Ge=J.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Rt=0;Rt<j.length;++Rt)for(var Ie=j[Rt],Fe=0;Fe<3;++Fe)isNaN(Ie[Fe])||!isFinite(Ie[Fe])||(this.bounds[0][Fe]=Math.min(this.bounds[0][Fe],Ie[Fe]),this.bounds[1][Fe]=Math.max(this.bounds[1][Fe],Ie[Fe]));var Pe=0,xe=0,ge=0;e:for(var Rt=0;Rt<ae.length;++Rt){var Me=ae[Rt];switch(Me.length){case 1:for(var Ae=Me[0],Ie=j[Ae],Fe=0;Fe<3;++Fe)if(isNaN(Ie[Fe])||!isFinite(Ie[Fe]))continue e;Te.push(Ie[0],Ie[1],Ie[2]);var Ue;Ve?Ue=Ve[Ae]:at?Ue=at[Rt]:Ue=lt,this.opacityscale&&et?oe.push(Ue[0],Ue[1],Ue[2],this.opacity*z((et[Ae]-gt)/(At-gt),this.opacityscale)):Ue.length===3?ze.push(Ue[0],Ue[1],Ue[2],this.opacity):(ze.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0));var Ze;$e?Ze=$e[Ae]:et?Ze=[(et[Ae]-gt)/(At-gt),0]:ct?Ze=ct[Rt]:dt?Ze=[(dt[Rt]-gt)/(At-gt),0]:Ze=[(Ie[2]-gt)/(At-gt),0],ke.push(Ze[0],Ze[1]),Je?Se.push(Je[Ae]):Se.push(Ge),me.push(Rt),ge+=1;break;case 2:for(var Fe=0;Fe<2;++Fe)for(var Ae=Me[Fe],Ie=j[Ae],tt=0;tt<3;++tt)if(isNaN(Ie[tt])||!isFinite(Ie[tt]))continue e;for(var Fe=0;Fe<2;++Fe){var Ae=Me[Fe],Ie=j[Ae];ne.push(Ie[0],Ie[1],Ie[2]);var Ue;Ve?Ue=Ve[Ae]:at?Ue=at[Rt]:Ue=lt,this.opacityscale&&et?oe.push(Ue[0],Ue[1],Ue[2],this.opacity*z((et[Ae]-gt)/(At-gt),this.opacityscale)):Ue.length===3?fe.push(Ue[0],Ue[1],Ue[2],this.opacity):(fe.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0));var Ze;$e?Ze=$e[Ae]:et?Ze=[(et[Ae]-gt)/(At-gt),0]:ct?Ze=ct[Rt]:dt?Ze=[(dt[Rt]-gt)/(At-gt),0]:Ze=[(Ie[2]-gt)/(At-gt),0],ye.push(Ze[0],Ze[1]),Ee.push(Rt)}xe+=1;break;case 3:for(var Fe=0;Fe<3;++Fe)for(var Ae=Me[Fe],Ie=j[Ae],tt=0;tt<3;++tt)if(isNaN(Ie[tt])||!isFinite(Ie[tt]))continue e;for(var Fe=0;Fe<3;++Fe){var Ae=Me[2-Fe],Ie=j[Ae];q.push(Ie[0],Ie[1],Ie[2]);var Ue;Ve?Ue=Ve[Ae]:at?Ue=at[Rt]:Ue=lt,Ue?this.opacityscale&&et?oe.push(Ue[0],Ue[1],Ue[2],this.opacity*z((et[Ae]-gt)/(At-gt),this.opacityscale)):Ue.length===3?oe.push(Ue[0],Ue[1],Ue[2],this.opacity):(oe.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var Ze;$e?Ze=$e[Ae]:et?Ze=[(et[Ae]-gt)/(At-gt),0]:ct?Ze=ct[Rt]:dt?Ze=[(dt[Rt]-gt)/(At-gt),0]:Ze=[(Ie[2]-gt)/(At-gt),0],K.push(Ze[0],Ze[1]);var ft;Ce?ft=Ce[Ae]:ft=Ne[Rt],Q.push(ft[0],ft[1],ft[2]),se.push(Rt)}Pe+=1;break}}this.pointCount=ge,this.edgeCount=xe,this.triangleCount=Pe,this.pointPositions.update(Te),this.pointColors.update(ze),this.pointUVs.update(ke),this.pointSizes.update(Se),this.pointIds.update(new Uint32Array(me)),this.edgePositions.update(ne),this.edgeColors.update(fe),this.edgeUVs.update(ye),this.edgeIds.update(new Uint32Array(Ee)),this.trianglePositions.update(q),this.triangleColors.update(oe),this.triangleUVs.update(K),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(se))}},U.drawTransparent=U.draw=function(J){J=J||{};for(var Z=this.gl,ae=J.model||k,j=J.view||k,q=J.projection||k,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)oe[0][Q]=Math.max(oe[0][Q],this.clipBounds[0][Q]),oe[1][Q]=Math.min(oe[1][Q],this.clipBounds[1][Q]);var K={model:ae,view:j,projection:q,inverseModel:k.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=T(K.inverseModel,K.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var se=new Array(16);f(se,K.view,K.model),f(se,K.projection,se),T(se,se);for(var Q=0;Q<3;++Q)K.eyePosition[Q]=se[12+Q]/se[15];for(var ne=se[15],Q=0;Q<3;++Q)ne+=this.lightPosition[Q]*se[4*Q+3];for(var Q=0;Q<3;++Q){for(var fe=se[12+Q],ye=0;ye<3;++ye)fe+=se[4*ye+Q]*this.lightPosition[ye];K.lightPosition[Q]=fe/ne}if(this.triangleCount>0){var Ee=this.triShader;Ee.bind(),Ee.uniforms=K,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ee=this.lineShader;Ee.bind(),Ee.uniforms=K,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ee=this.pointShader;Ee.bind(),Ee.uniforms=K,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ee=this.contourShader;Ee.bind(),Ee.uniforms=K,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},U.drawPick=function(J){J=J||{};for(var Z=this.gl,ae=J.model||k,j=J.view||k,q=J.projection||k,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)oe[0][Q]=Math.max(oe[0][Q],this.clipBounds[0][Q]),oe[1][Q]=Math.min(oe[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(ae),this._view=[].slice.call(j),this._projection=[].slice.call(q),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var K={model:ae,view:j,projection:q,clipBounds:oe,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=K,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},U.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var Z=J.value[0]+256*J.value[1]+65536*J.value[2],ae=this.cells[Z],j=this.positions,q=new Array(ae.length),oe=0;oe<ae.length;++oe)q[oe]=j[ae[oe]];var Q=J.coord[0],K=J.coord[1];if(!this.pickVertex){var se=this.positions[ae[0]],ne=this.positions[ae[1]],fe=this.positions[ae[2]],ye=[(se[0]+ne[0]+fe[0])/3,(se[1]+ne[1]+fe[1])/3,(se[2]+ne[2]+fe[2])/3];return{_cellCenter:!0,position:[Q,K],index:Z,cell:ae,cellId:Z,intensity:this.intensity[Z],dataCoordinate:ye}}var Ee=C(q,[Q*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ee)return null;for(var Te=Ee[2],ze=0,oe=0;oe<ae.length;++oe)ze+=Te[oe]*this.intensity[ae[oe]];return{position:Ee[1],index:ae[Ee[0]],cell:ae,cellId:Z,intensity:ze,dataCoordinate:this.positions[ae[Ee[0]]]}},U.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function O(J){var Z=n(J,b.vertex,b.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function N(J){var Z=n(J,S.vertex,S.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function Y(J){var Z=n(J,x.vertex,x.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function $(J){var Z=n(J,i.vertex,i.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function te(J){var Z=n(J,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function ie(J){var Z=n(J,m.vertex,m.fragment);return Z.attributes.position.location=0,Z}function ce(J,Z){arguments.length===1&&(Z=J,J=Z.gl);var ae=J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives");if(!ae)throw new Error("derivatives not supported");var j=O(J),q=N(J),oe=Y(J),Q=$(J),K=te(J),se=ie(J),ne=l(J,h(new Uint8Array([255,255,255,255]),[1,1,4]));ne.generateMipmap(),ne.minFilter=J.LINEAR_MIPMAP_LINEAR,ne.magFilter=J.LINEAR;var fe=c(J),ye=c(J),Ee=c(J),Te=c(J),ze=c(J),ke=u(J,[{buffer:fe,type:J.FLOAT,size:3},{buffer:ze,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:J.FLOAT,size:4},{buffer:Ee,type:J.FLOAT,size:2},{buffer:Te,type:J.FLOAT,size:3}]),Se=c(J),me=c(J),Ce=c(J),Ne=c(J),He=u(J,[{buffer:Se,type:J.FLOAT,size:3},{buffer:Ne,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:J.FLOAT,size:4},{buffer:Ce,type:J.FLOAT,size:2}]),De=c(J),Ve=c(J),at=c(J),lt=c(J),$e=c(J),et=u(J,[{buffer:De,type:J.FLOAT,size:3},{buffer:$e,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ve,type:J.FLOAT,size:4},{buffer:at,type:J.FLOAT,size:2},{buffer:lt,type:J.FLOAT,size:1}]),ct=c(J),dt=u(J,[{buffer:ct,type:J.FLOAT,size:3}]),gt=new I(J,ne,j,q,oe,Q,K,se,fe,ze,ye,Ee,Te,ke,Se,Ne,me,Ce,He,De,$e,Ve,at,lt,et,ct,dt);return gt.update(Z),gt}v.exports=ce},4554:function(v,p,r){v.exports=l;var t=r(5827),o=r(5158),n=r(2709);function c(g,f,T){this.plot=g,this.vbo=f,this.shader=T}var u=c.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var g=[0,0],f=[0,0];return function(T,h,s,d,A){var w=this.plot,C=this.shader,b=w.gl;g[0]=T,g[1]=h,f[0]=s,f[1]=d,C.uniforms.lo=g,C.uniforms.hi=f,C.uniforms.color=A,b.drawArrays(b.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var f=g.gl,T=t(f,[0,0,0,1,1,0,1,1]),h=o(f,n.boxVert,n.lineFrag);return new c(g,T,h)}},3016:function(v,p,r){v.exports=f;var t=r(5827),o=r(5158),n=r(5070),c=r(2709);function u(T,h,s,d){this.plot=T,this.vbo=h,this.shader=s,this.tickShader=d,this.ticks=[[],[]]}function l(T,h){return T-h}var g=u.prototype;g.draw=function(){var T=[0,0],h=[0,0],s=[0,0];return function(){for(var d=this.plot,A=this.vbo,w=this.shader,C=this.ticks,b=d.gl,S=d._tickBounds,x=d.dataBox,i=d.viewBox,E=d.gridLineWidth,m=d.gridLineColor,k=d.gridLineEnable,I=d.pixelRatio,U=0;U<2;++U){var z=S[U],F=S[U+2],B=F-z,O=.5*(x[U+2]+x[U]),N=x[U+2]-x[U];h[U]=2*B/N,T[U]=2*(z-O)/N}w.bind(),A.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=T,w.uniforms.dataScale=h;for(var Y=0,U=0;U<2;++U){s[0]=s[1]=0,s[U]=1,w.uniforms.dataAxis=s,w.uniforms.lineWidth=E[U]/(i[U+2]-i[U])*I,w.uniforms.color=m[U];var $=C[U].length*6;k[U]&&$&&b.drawArrays(b.TRIANGLES,Y,$),Y+=$}}}(),g.drawTickMarks=function(){var T=[0,0],h=[0,0],s=[1,0],d=[0,1],A=[0,0],w=[0,0];return function(){for(var C=this.plot,b=this.vbo,S=this.tickShader,x=this.ticks,i=C.gl,E=C._tickBounds,m=C.dataBox,k=C.viewBox,I=C.pixelRatio,U=C.screenBox,z=U[2]-U[0],F=U[3]-U[1],B=k[2]-k[0],O=k[3]-k[1],N=0;N<2;++N){var Y=E[N],$=E[N+2],te=$-Y,ie=.5*(m[N+2]+m[N]),ce=m[N+2]-m[N];h[N]=2*te/ce,T[N]=2*(Y-ie)/ce}h[0]*=B/z,T[0]*=B/z,h[1]*=O/F,T[1]*=O/F,S.bind(),b.bind(),S.attributes.dataCoord.pointer();var J=S.uniforms;J.dataShift=T,J.dataScale=h;var Z=C.tickMarkLength,ae=C.tickMarkWidth,j=C.tickMarkColor,q=0,oe=x[0].length*6,Q=Math.min(n.ge(x[0],(m[0]-E[0])/(E[2]-E[0]),l),x[0].length),K=Math.min(n.gt(x[0],(m[2]-E[0])/(E[2]-E[0]),l),x[0].length),se=q+6*Q,ne=6*Math.max(0,K-Q),fe=Math.min(n.ge(x[1],(m[1]-E[1])/(E[3]-E[1]),l),x[1].length),ye=Math.min(n.gt(x[1],(m[3]-E[1])/(E[3]-E[1]),l),x[1].length),Ee=oe+6*fe,Te=6*Math.max(0,ye-fe);A[0]=2*(k[0]-Z[1])/z-1,A[1]=(k[3]+k[1])/F-1,w[0]=Z[1]*I/z,w[1]=ae[1]*I/F,Te&&(J.color=j[1],J.tickScale=w,J.dataAxis=d,J.screenOffset=A,i.drawArrays(i.TRIANGLES,Ee,Te)),A[0]=(k[2]+k[0])/z-1,A[1]=2*(k[1]-Z[0])/F-1,w[0]=ae[0]*I/z,w[1]=Z[0]*I/F,ne&&(J.color=j[0],J.tickScale=w,J.dataAxis=s,J.screenOffset=A,i.drawArrays(i.TRIANGLES,se,ne)),A[0]=2*(k[2]+Z[3])/z-1,A[1]=(k[3]+k[1])/F-1,w[0]=Z[3]*I/z,w[1]=ae[3]*I/F,Te&&(J.color=j[3],J.tickScale=w,J.dataAxis=d,J.screenOffset=A,i.drawArrays(i.TRIANGLES,Ee,Te)),A[0]=(k[2]+k[0])/z-1,A[1]=2*(k[3]+Z[2])/F-1,w[0]=ae[2]*I/z,w[1]=Z[2]*I/F,ne&&(J.color=j[2],J.tickScale=w,J.dataAxis=s,J.screenOffset=A,i.drawArrays(i.TRIANGLES,se,ne))}}(),g.update=function(){var T=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(s){var d=s.ticks,A=s.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,b=[[],[]],S=0;S<2;++S)for(var x=b[S],i=d[S],E=A[S],m=A[S+2],k=0;k<i.length;++k){var I=(i[k].x-E)/(m-E);x.push(I);for(var U=0;U<6;++U)w[C++]=I,w[C++]=T[U],w[C++]=h[U]}this.ticks=b,this.vbo.update(w)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function f(T){var h=T.gl,s=t(h),d=o(h,c.gridVert,c.gridFrag),A=o(h,c.tickVert,c.gridFrag),w=new u(T,s,d,A);return w}},1154:function(v,p,r){v.exports=l;var t=r(5827),o=r(5158),n=r(2709);function c(g,f,T){this.plot=g,this.vbo=f,this.shader=T}var u=c.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var g=[0,0],f=[0,0];return function(T,h,s,d,A,w){var C=this.plot,b=this.shader,S=C.gl;g[0]=T,g[1]=h,f[0]=s,f[1]=d,b.uniforms.start=g,b.uniforms.end=f,b.uniforms.width=A*C.pixelRatio,b.uniforms.color=w,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var f=g.gl,T=t(f,[-1,-1,-1,1,1,-1,1,1]),h=o(f,n.lineVert,n.lineFrag),s=new c(g,T,h);return s}},2709:function(v,p,r){var t=r(6832),o=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:o,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:o,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:o,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,r){v.exports=f;var t=r(5827),o=r(5158),n=r(6946),c=r(5070),u=r(2709);function l(T,h,s){this.plot=T,this.vbo=h,this.shader=s,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g=l.prototype;g.drawTicks=function(){var T=[0,0],h=[0,0],s=[0,0];return function(d){var A=this.plot,w=this.shader,C=this.tickX[d],b=this.tickOffset[d],S=A.gl,x=A.viewBox,i=A.dataBox,E=A.screenBox,m=A.pixelRatio,k=A.tickEnable,I=A.tickPad,U=A.tickColor,z=A.tickAngle,F=A.labelEnable,B=A.labelPad,O=A.labelColor,N=A.labelAngle,Y=this.labelOffset[d],$=this.labelCount[d],te=c.lt(C,i[d]),ie=c.le(C,i[d+2]);T[0]=T[1]=0,T[d]=1,h[d]=(x[2+d]+x[d])/(E[2+d]-E[d])-1;var ce=2/E[2+(d^1)]-E[d^1];h[d^1]=ce*x[d^1]-1,k[d]&&(h[d^1]-=ce*m*I[d],te<ie&&b[ie]>b[te]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=h,w.uniforms.color=U[d],w.uniforms.angle=z[d],S.drawArrays(S.TRIANGLES,b[te],b[ie]-b[te]))),F[d]&&$&&(h[d^1]-=ce*m*B[d],w.uniforms.dataAxis=s,w.uniforms.screenOffset=h,w.uniforms.color=O[d],w.uniforms.angle=N[d],S.drawArrays(S.TRIANGLES,Y,$)),h[d^1]=ce*x[2+(d^1)]-1,k[d+2]&&(h[d^1]+=ce*m*I[d+2],te<ie&&b[ie]>b[te]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=h,w.uniforms.color=U[d+2],w.uniforms.angle=z[d+2],S.drawArrays(S.TRIANGLES,b[te],b[ie]-b[te]))),F[d+2]&&$&&(h[d^1]+=ce*m*B[d+2],w.uniforms.dataAxis=s,w.uniforms.screenOffset=h,w.uniforms.color=O[d+2],w.uniforms.angle=N[d+2],S.drawArrays(S.TRIANGLES,Y,$))}}(),g.drawTitle=function(){var T=[0,0],h=[0,0];return function(){var s=this.plot,d=this.shader,A=s.gl,w=s.screenBox,C=s.titleCenter,b=s.titleAngle,S=s.titleColor,x=s.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)h[i]=2*(C[i]*x-w[i])/(w[2+i]-w[i])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=h,d.uniforms.angle=b,d.uniforms.color=S,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var T=[0,0],h=[0,0],s=[0,0];return function(){var d=this.plot,A=this.shader,w=d._tickBounds,C=d.dataBox,b=d.screenBox,S=d.viewBox;A.bind();for(var x=0;x<2;++x){var i=w[x],E=w[x+2],m=E-i,k=.5*(C[x+2]+C[x]),I=C[x+2]-C[x],U=S[x],z=S[x+2],F=z-U,B=b[x],O=b[x+2],N=O-B;h[x]=2*m/I*F/N,T[x]=2*(i-k)/I*F/N}s[1]=2*d.pixelRatio/(b[3]-b[1]),s[0]=s[1]*(b[3]-b[1])/(b[2]-b[0]),A.uniforms.dataScale=h,A.uniforms.dataShift=T,A.uniforms.textScale=s,this.vbo.bind(),A.attributes.textCoordinate.pointer()}}(),g.update=function(T){var h=[],s=T.ticks,d=T.bounds,A,w,C,b,S;for(S=0;S<2;++S){var x=[Math.floor(h.length/3)],i=[-1/0],E=s[S];for(A=0;A<E.length;++A){var m=E[A],k=m.x,I=m.text,U=m.font||"sans-serif";b=m.fontSize||12;for(var z=1/(d[S+2]-d[S]),F=d[S],B=I.split(`
`),O=0;O<B.length;O++)for(C=n(U,B[O]).data,w=0;w<C.length;w+=2)h.push(C[w]*b,-C[w+1]*b-O*b*1.2,(k-F)*z);x.push(Math.floor(h.length/3)),i.push(k)}this.tickOffset[S]=x,this.tickX[S]=i}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(h.length/3),C=n(T.labelFont[S],T.labels[S],{textAlign:"center"}).data,b=T.labelSize[S],A=0;A<C.length;A+=2)h.push(C[A]*b,-C[A+1]*b,0);this.labelCount[S]=Math.floor(h.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(h.length/3),C=n(T.titleFont,T.title).data,b=T.titleSize,A=0;A<C.length;A+=2)h.push(C[A]*b,-C[A+1]*b,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(T){var h=T.gl,s=t(h),d=o(h,u.textVert,u.textFrag),A=new l(T,s,d);return A}},2117:function(v,p,r){v.exports=h;var t=r(2611),o=r(3016),n=r(5613),c=r(1154),u=r(4554);function l(s,d){this.gl=s,this.pickBuffer=d,this.screenBox=[0,0,s.drawingBufferWidth,s.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=l.prototype;g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){return function(){var s=this.gl,d=this.screenBox,A=this.viewBox,w=this.dataBox,C=this.pixelRatio,b=this.grid,S=this.line,x=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,s.bindFramebuffer(s.FRAMEBUFFER,null),s.enable(s.SCISSOR_TEST),s.disable(s.DEPTH_TEST),s.depthFunc(s.LESS),s.depthMask(!1),s.enable(s.BLEND),s.blendEquation(s.FUNC_ADD,s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),this.borderColor){s.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;s.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)}s.scissor(A[0],A[1],A[2]-A[0],A[3]-A[1]),s.viewport(A[0],A[1],A[2]-A[0],A[3]-A[1]);var m=this.backgroundColor;s.clearColor(m[0]*m[3],m[1]*m[3],m[2]*m[3],m[3]),s.clear(s.COLOR_BUFFER_BIT),b.draw();var k=this.zeroLineEnable,I=this.zeroLineColor,U=this.zeroLineWidth;if(k[0]||k[1]){S.bind();for(var z=0;z<2;++z)if(!(!k[z]||!(w[z]<=0&&w[z+2]>=0))){var F=d[z]-w[z]*(d[z+2]-d[z])/(w[z+2]-w[z]);z===0?S.drawLine(F,d[1],F,d[3],U[z],I[z]):S.drawLine(d[0],F,d[2],F,U[z],I[z])}}for(var z=0;z<i.length;++z)i[z].draw();s.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),s.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var B=this.borderLineEnable,O=this.borderLineWidth,N=this.borderLineColor;B[1]&&S.drawLine(A[0],A[1]-.5*O[1]*C,A[0],A[3]+.5*O[3]*C,O[1],N[1]),B[0]&&S.drawLine(A[0]-.5*O[0]*C,A[1],A[2]+.5*O[2]*C,A[1],O[0],N[0]),B[3]&&S.drawLine(A[2],A[1]-.5*O[1]*C,A[2],A[3]+.5*O[3]*C,O[3],N[3]),B[2]&&S.drawLine(A[0]-.5*O[0]*C,A[3],A[2]+.5*O[2]*C,A[3],O[2],N[2]),x.bind();for(var z=0;z<2;++z)x.drawTicks(z);this.titleEnable&&x.drawTitle();for(var Y=this.overlays,z=0;z<Y.length;++z)Y[z].draw();s.disable(s.SCISSOR_TEST),s.disable(s.BLEND),s.depthMask(!0)}}}(),g.drawPick=function(){return function(){if(!this.static){var s=this.pickBuffer;this.gl,this._pickTimeout=null,s.begin();for(var d=1,A=this.objects,w=0;w<A.length;++w)d=A[w].drawPick(d);s.end()}}}(),g.pick=function(){return function(s,d){if(!this.static){var A=this.pixelRatio,w=this.pickPixelRatio,C=this.viewBox,b=Math.round((s-C[0]/A)*w)|0,S=Math.round((d-C[1]/A)*w)|0,x=this.pickBuffer.query(b,S,this.pickRadius);if(!x)return null;for(var i=x.id+(x.value[0]<<8)+(x.value[1]<<16)+(x.value[2]<<24),E=this.objects,m=0;m<E.length;++m){var k=E[m].pick(b,S,i);if(k)return k}return null}}}();function f(s){for(var d=s.slice(),A=0;A<d.length;++A)d[A]=d[A].slice();return d}function T(s,d){return s.x-d.x}g.setScreenBox=function(s){var d=this.screenBox,A=this.pixelRatio;d[0]=Math.round(s[0]*A)|0,d[1]=Math.round(s[1]*A)|0,d[2]=Math.round(s[2]*A)|0,d[3]=Math.round(s[3]*A)|0,this.setDirty()},g.setDataBox=function(s){var d=this.dataBox,A=d[0]!==s[0]||d[1]!==s[1]||d[2]!==s[2]||d[3]!==s[3];A&&(d[0]=s[0],d[1]=s[1],d[2]=s[2],d[3]=s[3],this.setDirty())},g.setViewBox=function(s){var d=this.pixelRatio,A=this.viewBox;A[0]=Math.round(s[0]*d)|0,A[1]=Math.round(s[1]*d)|0,A[2]=Math.round(s[2]*d)|0,A[3]=Math.round(s[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((s[2]-s[0])*w)|0,Math.round((s[3]-s[1])*w)|0],this.setDirty()},g.update=function(s){s=s||{};var d=this.gl;this.pixelRatio=s.pixelRatio||1;var A=this.pixelRatio;this.pickPixelRatio=Math.max(A,1),this.setScreenBox(s.screenBox||[0,0,d.drawingBufferWidth/A,d.drawingBufferHeight/A]),this.screenBox,this.setViewBox(s.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/A,.125*(this.screenBox[3]-this.screenBox[1])/A,.875*(this.screenBox[2]-this.screenBox[0])/A,.875*(this.screenBox[3]-this.screenBox[1])/A]);var w=this.viewBox,C=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(s.dataBox||[-10,-10/C,10,10/C]),this.borderColor=s.borderColor!==!1?(s.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(s.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(s.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(s.gridLineWidth||[1,1]).slice(),this.gridLineColor=f(s.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(s.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(s.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=f(s.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(s.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(s.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=f(s.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(s.titleCenter||[.5*(w[0]+w[2])/A,(w[3]+120)/A]).slice(),this.titleEnable=!("titleEnable"in s)||!!s.titleEnable,this.titleAngle=s.titleAngle||0,this.titleColor=(s.titleColor||[0,0,0,1]).slice(),this.labelPad=(s.labelPad||[15,15,15,15]).slice(),this.labelAngle=(s.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(s.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=f(s.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(s.tickPad||[15,15,15,15]).slice(),this.tickAngle=(s.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(s.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=f(s.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(s.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(s.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=f(s.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var b=s.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var x=0;x<2;++x){var i=b[x].slice(0);i.length!==0&&(i.sort(T),S[x]=Math.min(S[x],i[0].x),S[x+2]=Math.max(S[x+2],i[i.length-1].x))}this.grid.update({bounds:S,ticks:b}),this.text.update({bounds:S,ticks:b,labels:s.labels||["x","y"],labelSize:s.labelSize||[12,12],labelFont:s.labelFont||["sans-serif","sans-serif"],title:s.title||"",titleSize:s.titleSize||18,titleFont:s.titleFont||"sans-serif"}),this.static=!!s.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var s=this.objects.length-1;s>=0;--s)this.objects[s].dispose();this.objects.length=0;for(var s=this.overlays.length-1;s>=0;--s)this.overlays[s].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(s){this.objects.indexOf(s)<0&&(this.objects.push(s),this.setDirty())},g.removeObject=function(s){for(var d=this.objects,A=0;A<d.length;++A)if(d[A]===s){d.splice(A,1),this.setDirty();break}},g.addOverlay=function(s){this.overlays.indexOf(s)<0&&(this.overlays.push(s),this.setOverlayDirty())},g.removeOverlay=function(s){for(var d=this.overlays,A=0;A<d.length;++A)if(d[A]===s){d.splice(A,1),this.setOverlayDirty();break}};function h(s){var d=s.gl,A=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new l(d,A);return w.grid=o(w),w.text=n(w),w.line=c(w),w.box=u(w),w.update(s),w}},4296:function(v,p,r){v.exports=g;var t=r(8161),o=r(1152),n=r(6145),c=r(6475),u=r(2565),l=r(5233);function g(f,T){f=f||document.body,T=T||{};var h=[.01,1/0];"distanceLimits"in T&&(h[0]=T.distanceLimits[0],h[1]=T.distanceLimits[1]),"zoomMin"in T&&(h[0]=T.zoomMin),"zoomMax"in T&&(h[1]=T.zoomMax);var s=o({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:h}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=0,w=f.clientWidth,C=f.clientHeight,b={keyBindingMode:"rotate",enableWheel:!0,view:s,element:f,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:s.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var S=t(),x=this.delay,i=S-2*x;s.idle(S-x),s.recalcMatrix(i),s.flush(S-(100+x*2));for(var E=!0,m=s.computedMatrix,k=0;k<16;++k)E=E&&d[k]===m[k],d[k]=m[k];var I=f.clientWidth===w&&f.clientHeight===C;return w=f.clientWidth,C=f.clientHeight,E?!I:(A=Math.exp(s.computedRadius[0]),!0)},lookAt:function(S,x,i){s.lookAt(s.lastT(),S,x,i)},rotate:function(S,x,i){s.rotate(s.lastT(),S,x,i)},pan:function(S,x,i){s.pan(s.lastT(),S,x,i)},translate:function(S,x,i){s.translate(s.lastT(),S,x,i)}};return Object.defineProperties(b,{matrix:{get:function(){return s.computedMatrix},set:function(S){return s.setMatrix(s.lastT(),S),s.computedMatrix},enumerable:!0},mode:{get:function(){return s.getMode()},set:function(S){var x=s.computedUp.slice(),i=s.computedEye.slice(),E=s.computedCenter.slice();if(s.setMode(S),S==="turntable"){var m=t();s._active.lookAt(m,i,E,x),s._active.lookAt(m+500,i,E,[0,0,1]),s._active.flush(m)}return s.getMode()},enumerable:!0},center:{get:function(){return s.computedCenter},set:function(S){return s.lookAt(s.lastT(),null,S),s.computedCenter},enumerable:!0},eye:{get:function(){return s.computedEye},set:function(S){return s.lookAt(s.lastT(),S),s.computedEye},enumerable:!0},up:{get:function(){return s.computedUp},set:function(S){return s.lookAt(s.lastT(),null,null,S),s.computedUp},enumerable:!0},distance:{get:function(){return A},set:function(S){return s.setDistance(s.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return s.getDistanceLimits(h)},set:function(S){return s.setDistanceLimits(S),S},enumerable:!0}}),f.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),b._lastX=-1,b._lastY=-1,b._lastMods={shift:!1,control:!1,alt:!1,meta:!1},b.enableMouseListeners=function(){b.mouseListener=n(f,S),f.addEventListener("touchstart",function(x){var i=u(x.changedTouches[0],f);S(0,i[0],i[1],b._lastMods),S(1,i[0],i[1],b._lastMods)},l?{passive:!0}:!1),f.addEventListener("touchmove",function(x){var i=u(x.changedTouches[0],f);S(1,i[0],i[1],b._lastMods),x.preventDefault()},l?{passive:!1}:!1),f.addEventListener("touchend",function(x){S(0,b._lastX,b._lastY,b._lastMods)},l?{passive:!0}:!1);function S(x,i,E,m){var k=b.keyBindingMode;if(k!==!1){var I=k==="rotate",U=k==="pan",z=k==="zoom",F=!!m.control,B=!!m.alt,O=!!m.shift,N=!!(x&1),Y=!!(x&2),$=!!(x&4),te=1/f.clientHeight,ie=te*(i-b._lastX),ce=te*(E-b._lastY),J=b.flipX?1:-1,Z=b.flipY?1:-1,ae=Math.PI*b.rotateSpeed,j=t();if(b._lastX!==-1&&b._lastY!==-1&&((I&&N&&!F&&!B&&!O||N&&!F&&!B&&O)&&s.rotate(j,J*ae*ie,-Z*ae*ce,0),(U&&N&&!F&&!B&&!O||Y||N&&F&&!B&&!O)&&s.pan(j,-b.translateSpeed*ie*A,b.translateSpeed*ce*A,0),z&&N&&!F&&!B&&!O||$||N&&!F&&B&&!O)){var q=-b.zoomSpeed*ce/window.innerHeight*(j-s.lastT())*100;s.pan(j,0,0,A*(Math.exp(q)-1))}return b._lastX=i,b._lastY=E,b._lastMods=m,!0}}b.wheelListener=c(f,function(x,i){if(b.keyBindingMode!==!1&&b.enableWheel){var E=b.flipX?1:-1,m=b.flipY?1:-1,k=t();if(Math.abs(x)>Math.abs(i))s.rotate(k,0,0,-x*E*Math.PI*b.rotateSpeed/window.innerWidth);else if(!b._ortho){var I=-b.zoomSpeed*m*i/window.innerHeight*(k-s.lastT())/20;s.pan(k,0,0,A*(Math.exp(I)-1))}}},!0)},b.enableMouseListeners(),b}},8245:function(v,p,r){var t=r(6832),o=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),c=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return o(u,n,c,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,r){var t=r(4296),o=r(7453),n=r(2771),c=r(6496),u=r(2611),l=r(4234),g=r(8126),f=r(6145),T=r(1120),h=r(5268),s=r(8245),d=r(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:t};function A(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(i,E){var m=null;try{m=i.getContext("webgl",E),m||(m=i.getContext("experimental-webgl",E))}catch{return null}return m}function C(i){var E=Math.round(Math.log(Math.abs(i))/Math.log(10));if(E<0){var m=Math.round(Math.pow(10,-E));return Math.ceil(i*m)/m}else if(E>0){var m=Math.round(Math.pow(10,E));return Math.ceil(i/m)*m}return Math.ceil(i)}function b(i){return typeof i=="boolean"?i:!0}function S(i){i=i||{},i.camera=i.camera||{};var E=i.canvas;if(!E)if(E=document.createElement("canvas"),i.container){var m=i.container;m.appendChild(E)}else document.body.appendChild(E);var k=i.gl;if(k||(i.glOptions&&(d=!!i.glOptions.preserveDrawingBuffer),k=w(E,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var I=i.bounds||[[-10,-10,-10],[10,10,10]],U=new A,z=l(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),F=s(k),B=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,O={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:B},N=i.axes||{},Y=o(k,N);Y.enable=!N.disable;var $=i.spikes||{},te=c(k,$),ie=[],ce=[],J=[],Z=[],ae=!0,Q=!0,j=new Array(16),q=new Array(16),oe={view:null,projection:j,model:q,_ortho:!1},Q=!0,K=[k.drawingBufferWidth,k.drawingBufferHeight],se=i.cameraObject||t(E,O),ne={gl:k,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:E,selection:U,camera:se,axes:Y,axesPixels:null,spikes:te,bounds:I,objects:ie,shape:K,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:b(i.autoResize),autoBounds:b(i.autoBounds),autoScale:!!i.autoScale,autoCenter:b(i.autoCenter),clipToBounds:b(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ne){this.aspect[0]=Ne.x,this.aspect[1]=Ne.y,this.aspect[2]=Ne.z,Q=!0},setBounds:function(Ne,He){this.bounds[0][Ne]=He.min,this.bounds[1][Ne]=He.max},setClearColor:function(Ne){this.clearColor=Ne},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[k.drawingBufferWidth/ne.pixelRatio|0,k.drawingBufferHeight/ne.pixelRatio|0];function ye(){if(!ne._stopped&&ne.autoResize){var Ne=E.parentNode,He=1,De=1;Ne&&Ne!==document.body?(He=Ne.clientWidth,De=Ne.clientHeight):(He=window.innerWidth,De=window.innerHeight);var Ve=Math.ceil(He*ne.pixelRatio)|0,at=Math.ceil(De*ne.pixelRatio)|0;if(Ve!==E.width||at!==E.height){E.width=Ve,E.height=at;var lt=E.style;lt.position=lt.position||"absolute",lt.left="0px",lt.top="0px",lt.width=He+"px",lt.height=De+"px",ae=!0}}}ne.autoResize&&ye(),window.addEventListener("resize",ye);function Ee(){for(var Ne=ie.length,He=Z.length,De=0;De<He;++De)J[De]=0;e:for(var De=0;De<Ne;++De){var Ve=ie[De],at=Ve.pickSlots;if(!at){ce[De]=-1;continue}for(var lt=0;lt<He;++lt)if(J[lt]+at<255){ce[De]=lt,Ve.setPickBase(J[lt]+1),J[lt]+=at;continue e}var $e=u(k,K);ce[De]=He,Z.push($e),J.push(at),Ve.setPickBase(1),He+=1}for(;He>0&&J[He-1]===0;)J.pop(),Z.pop().dispose()}ne.update=function(Ne){ne._stopped||(ae=!0,Q=!0)},ne.add=function(Ne){ne._stopped||(Ne.axes=Y,ie.push(Ne),ce.push(-1),ae=!0,Q=!0,Ee())},ne.remove=function(Ne){if(!ne._stopped){var He=ie.indexOf(Ne);He<0||(ie.splice(He,1),ce.pop(),ae=!0,Q=!0,Ee())}},ne.dispose=function(){if(!ne._stopped&&(ne._stopped=!0,window.removeEventListener("resize",ye),E.removeEventListener("webglcontextlost",Te),ne.mouseListener.enabled=!1,!ne.contextLost)){Y.dispose(),te.dispose();for(var Ne=0;Ne<ie.length;++Ne)ie[Ne].dispose();z.dispose();for(var Ne=0;Ne<Z.length;++Ne)Z[Ne].dispose();F.dispose(),k=null,Y=null,te=null,ie=[]}},ne._mouseRotating=!1,ne._prevButtons=0,ne.enableMouseListeners=function(){ne.mouseListener=f(E,function(Ne,He,De){if(!ne._stopped){var Ve=Z.length,at=ie.length,lt=U.object;U.distance=1/0,U.mouse[0]=He,U.mouse[1]=De,U.object=null,U.screen=null,U.dataCoordinate=U.dataPosition=null;var $e=!1;if(Ne&&ne._prevButtons)ne._mouseRotating=!0;else{ne._mouseRotating&&(Q=!0),ne._mouseRotating=!1;for(var et=0;et<Ve;++et){var ct=Z[et].query(He,fe[1]-De-1,ne.pickRadius);if(ct){if(ct.distance>U.distance)continue;for(var dt=0;dt<at;++dt){var gt=ie[dt];if(ce[dt]===et){var At=gt.pick(ct);At&&(U.buttons=Ne,U.screen=ct.coord,U.distance=ct.distance,U.object=gt,U.index=At.distance,U.dataPosition=At.position,U.dataCoordinate=At.dataCoordinate,U.data=At,$e=!0)}}}}}lt&&lt!==U.object&&(lt.highlight&&lt.highlight(null),ae=!0),U.object&&(U.object.highlight&&U.object.highlight(U.data),ae=!0),$e=$e||U.object!==lt,$e&&ne.onselect&&ne.onselect(U),Ne&1&&!(ne._prevButtons&1)&&ne.onclick&&ne.onclick(U),ne._prevButtons=Ne}})};function Te(){if(ne.contextLost)return!0;k.isContextLost()&&(ne.contextLost=!0,ne.mouseListener.enabled=!1,ne.selection.object=null,ne.oncontextloss&&ne.oncontextloss())}E.addEventListener("webglcontextlost",Te);function ze(){if(!Te()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ne=ie.length,He=Z.length,De=0;De<He;++De){var Ve=Z[De];Ve.shape=fe,Ve.begin();for(var at=0;at<Ne;++at)if(ce[at]===De){var lt=ie[at];lt.drawPick&&(lt.pixelRatio=1,lt.drawPick(oe))}Ve.end()}}}var ke=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Se=[ke[0].slice(),ke[1].slice()];function me(){if(!Te()){ye();var Ne=ne.camera.tick();oe.view=ne.camera.matrix,ae=ae||Ne,Q=Q||Ne,Y.pixelRatio=ne.pixelRatio,te.pixelRatio=ne.pixelRatio;var He=ie.length,De=ke[0],Ve=ke[1];De[0]=De[1]=De[2]=1/0,Ve[0]=Ve[1]=Ve[2]=-1/0;for(var at=0;at<He;++at){var lt=ie[at];lt.pixelRatio=ne.pixelRatio,lt.axes=ne.axes,ae=ae||!!lt.dirty,Q=Q||!!lt.dirty;var $e=lt.bounds;if($e)for(var et=$e[0],ct=$e[1],dt=0;dt<3;++dt)De[dt]=Math.min(De[dt],et[dt]),Ve[dt]=Math.max(Ve[dt],ct[dt])}var gt=ne.bounds;if(ne.autoBounds)for(var dt=0;dt<3;++dt){if(Ve[dt]<De[dt])De[dt]=-1,Ve[dt]=1;else{De[dt]===Ve[dt]&&(De[dt]-=1,Ve[dt]+=1);var At=.05*(Ve[dt]-De[dt]);De[dt]=De[dt]-At,Ve[dt]=Ve[dt]+At}gt[0][dt]=De[dt],gt[1][dt]=Ve[dt]}for(var Rt=!1,dt=0;dt<3;++dt)Rt=Rt||Se[0][dt]!==gt[0][dt]||Se[1][dt]!==gt[1][dt],Se[0][dt]=gt[0][dt],Se[1][dt]=gt[1][dt];if(Q=Q||Rt,ae=ae||Rt,!!ae){if(Rt){for(var Vt=[0,0,0],at=0;at<3;++at)Vt[at]=C((gt[1][at]-gt[0][at])/10);Y.autoTicks?Y.update({bounds:gt,tickSpacing:Vt}):Y.update({bounds:gt})}var Je=k.drawingBufferWidth,Ge=k.drawingBufferHeight;K[0]=Je,K[1]=Ge,fe[0]=Math.max(Je/ne.pixelRatio,1)|0,fe[1]=Math.max(Ge/ne.pixelRatio,1)|0,x(ne,B);for(var at=0;at<He;++at){var lt=ie[at];lt.axesBounds=gt,ne.clipToBounds&&(lt.clipBounds=gt)}U.object&&(ne.snapToData?te.position=U.dataCoordinate:te.position=U.dataPosition,te.bounds=gt),Q&&(Q=!1,ze()),ne.axesPixels=n(ne.axes,oe,Je,Ge),ne.onrender&&ne.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Je,Ge),ne.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Ie=!1;Y.enable&&(Ie=Ie||Y.isTransparent(),Y.draw(oe)),te.axes=Y,U.object&&te.draw(oe),k.disable(k.CULL_FACE);for(var at=0;at<He;++at){var lt=ie[at];lt.axes=Y,lt.pixelRatio=ne.pixelRatio,lt.isOpaque&&lt.isOpaque()&&lt.draw(oe),lt.isTransparent&&lt.isTransparent()&&(Ie=!0)}if(Ie){z.shape=K,z.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(oe);for(var at=0;at<He;++at){var lt=ie[at];lt.isOpaque&&lt.isOpaque()&&lt.draw(oe)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(oe);for(var at=0;at<He;++at){var lt=ie[at];lt.isTransparent&&lt.isTransparent()&&lt.drawTransparent(oe)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),F.bind(),z.color[0].bind(0),F.uniforms.accumBuffer=0,g(k),k.disable(k.BLEND)}ae=!1;for(var at=0;at<He;++at)ie[at].dirty=!1}}}function Ce(){ne._stopped||ne.contextLost||(me(),requestAnimationFrame(Ce))}return ne.enableMouseListeners(),Ce(),ne.redraw=function(){ne._stopped||(ae=!0,me())},ne}function x(i,E){var m=i.bounds,k=i.cameraParams,I=k.projection,U=k.model,z=i.gl.drawingBufferWidth,F=i.gl.drawingBufferHeight,B=i.zNear,O=i.zFar,N=i.fovy,Y=z/F;E?(h(I,-Y,Y,-1,1,B,O),k._ortho=!0):(T(I,N,Y,B,O),k._ortho=!1);for(var $=0;$<16;++$)U[$]=0;U[15]=1;for(var te=0,$=0;$<3;++$)te=Math.max(te,m[1][$]-m[0][$]);for(var $=0;$<3;++$)i.autoScale?U[5*$]=i.aspect[$]/(m[1][$]-m[0][$]):U[5*$]=1/te,i.autoCenter&&(U[12+$]=-U[5*$]*.5*(m[0][$]+m[1][$]))}},8023:function(v,p,r){var t=r(6832);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,r){var t=r(5158),o=r(5827),n=r(5306),c=r(8023);v.exports=f;function u(T,h,s,d,A){this.plot=T,this.offsetBuffer=h,this.pickBuffer=s,this.shader=d,this.pickShader=A,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var h;T=T||{};function s(x,i){return x in T?T[x]:i}this.sizeMin=s("sizeMin",.5),this.sizeMax=s("sizeMax",20),this.color=s("color",[1,0,0,1]).slice(),this.areaRatio=s("areaRatio",1),this.borderColor=s("borderColor",[0,0,0,1]).slice(),this.blend=s("blend",!1);var d=T.positions.length>>>1,A=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,C=T.positions,b=A?C:n.mallocFloat32(C.length),S=w?T.idToIndex:n.mallocInt32(d);if(A||b.set(C),!w)for(b.set(C),h=0;h<d;h++)S[h]=h;this.points=C,this.offsetBuffer.update(b),this.pickBuffer.update(S),A||n.free(b),w||n.free(S),this.pointCount=d,this.pickOffset=0};function g(T,h){var s=0,d=T.length>>>1,A;for(A=0;A<d;A++){var w=T[A*2],C=T[A*2+1];w>=h[0]&&w<=h[2]&&C>=h[1]&&C<=h[3]&&s++}return s}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(s){var d=s!==void 0,A=d?this.pickShader:this.shader,w=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return s;var b=C[2]-C[0],S=C[3]-C[1],x=g(this.points,C),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(x,.33333)));T[0]=2/b,T[4]=2/S,T[6]=-2*C[0]/b-1,T[7]=-2*C[1]/S-1,this.offsetBuffer.bind(),A.bind(),A.attributes.position.pointer(),A.uniforms.matrix=T,A.uniforms.color=this.color,A.uniforms.borderColor=this.borderColor,A.uniforms.pointCloud=i<5,A.uniforms.pointSize=i,A.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=s&255,h[1]=s>>8&255,h[2]=s>>16&255,h[3]=s>>24&255,this.pickBuffer.bind(),A.attributes.pickId.pointer(w.UNSIGNED_BYTE),A.uniforms.pickOffset=h,this.pickOffset=s);var E=w.getParameter(w.BLEND),m=w.getParameter(w.DITHER);return E&&!this.blend&&w.disable(w.BLEND),m&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),E&&!this.blend&&w.enable(w.BLEND),m&&w.enable(w.DITHER),s+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,h,s){var d=this.pickOffset,A=this.pointCount;if(s<d||s>=d+A)return null;var w=s-d,C=this.points;return{object:this,pointId:w,dataCoord:[C[2*w],C[2*w+1]]}};function f(T,h){var s=T.gl,d=o(s),A=o(s),w=t(s,c.pointVertex,c.pointFragment),C=t(s,c.pickVertex,c.pickFragment),b=new u(T,d,A,w,C);return b.update(h),T.addObject(b),b}},6093:function(v){v.exports=p;function p(r,t,o,n){var c=t[0],u=t[1],l=t[2],g=t[3],f=o[0],T=o[1],h=o[2],s=o[3],d,A,w,C,b;return A=c*f+u*T+l*h+g*s,A<0&&(A=-A,f=-f,T=-T,h=-h,s=-s),1-A>1e-6?(d=Math.acos(A),w=Math.sin(d),C=Math.sin((1-n)*d)/w,b=Math.sin(n*d)/w):(C=1-n,b=n),r[0]=C*c+b*f,r[1]=C*u+b*T,r[2]=C*l+b*h,r[3]=C*g+b*s,r}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,r){var t=r(875);v.exports=n;var o={};function n(c,u,l){var g=o[u];if(g||(g=o[u]={}),c in g)return g[c];var f={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};f.triangles=!0;var T=t(c,f);f.triangles=!1;var h=t(c,f),s,d;if(l&&l!==1){for(s=0;s<T.positions.length;++s)for(d=0;d<T.positions[s].length;++d)T.positions[s][d]/=l;for(s=0;s<h.positions.length;++s)for(d=0;d<h.positions[s].length;++d)h.positions[s][d]/=l}var A=[[1/0,1/0],[-1/0,-1/0]],w=h.positions.length;for(s=0;s<w;++s){var C=h.positions[s];for(d=0;d<2;++d)A[0][d]=Math.min(A[0][d],C[d]),A[1][d]=Math.max(A[1][d],C[d])}return g[c]=[T,h,A]}},9282:function(v,p,r){var t=r(5158),o=r(6832),n=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),g=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),f=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:l,attributes:f},h={vertex:c,fragment:l,attributes:f},s={vertex:u,fragment:l,attributes:f},d={vertex:n,fragment:g,attributes:f},A={vertex:c,fragment:g,attributes:f},w={vertex:u,fragment:g,attributes:f};function C(b,S){var x=t(b,S),i=x.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,x}p.createPerspective=function(b){return C(b,T)},p.createOrtho=function(b){return C(b,h)},p.createProject=function(b){return C(b,s)},p.createPickPerspective=function(b){return C(b,d)},p.createPickOrtho=function(b){return C(b,A)},p.createPickProject=function(b){return C(b,w)}},2182:function(v,p,r){var t=r(3596),o=r(5827),n=r(2944),c=r(5306),u=r(104),l=r(9282),g=r(4123),f=r(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ce;function h(J,Z){var ae=J[0],j=J[1],q=J[2],oe=J[3];return J[0]=Z[0]*ae+Z[4]*j+Z[8]*q+Z[12]*oe,J[1]=Z[1]*ae+Z[5]*j+Z[9]*q+Z[13]*oe,J[2]=Z[2]*ae+Z[6]*j+Z[10]*q+Z[14]*oe,J[3]=Z[3]*ae+Z[7]*j+Z[11]*q+Z[15]*oe,J}function s(J,Z,ae,j){return h(j,j),h(j,j),h(j,j)}function d(J,Z){this.index=J,this.dataCoordinate=this.position=Z}function A(J){return J===!0||J>1?1:J}function w(J,Z,ae,j,q,oe,Q,K,se,ne,fe,ye){this.gl=J,this.pixelRatio=1,this.shader=Z,this.orthoShader=ae,this.projectShader=j,this.pointBuffer=q,this.colorBuffer=oe,this.glyphBuffer=Q,this.idBuffer=K,this.vao=se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ne,this.pickOrthoShader=fe,this.pickProjectShader=ye,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var C=w.prototype;C.pickSlots=1,C.setPickBase=function(J){this.pickId=J},C.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},C.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var b=[0,0],S=[0,0,0],x=[0,0,0],i=[0,0,0,1],E=[0,0,0,1],m=T.slice(),k=[0,0,0],I=[[0,0,0],[0,0,0]];function U(J){return J[0]=J[1]=J[2]=0,J}function z(J,Z){return J[0]=Z[0],J[1]=Z[1],J[2]=Z[2],J[3]=1,J}function F(J,Z,ae,j){return J[0]=Z[0],J[1]=Z[1],J[2]=Z[2],J[ae]=j,J}function B(J){for(var Z=I,ae=0;ae<2;++ae)for(var j=0;j<3;++j)Z[ae][j]=Math.max(Math.min(J[ae][j],1e8),-1e8);return Z}function O(J,Z,ae,j){var q=Z.axesProject,oe=Z.gl,Q=J.uniforms,K=ae.model||T,se=ae.view||T,ne=ae.projection||T,fe=Z.axesBounds,ye=B(Z.clipBounds),Ee;Z.axes&&Z.axes.lastCubeProps?Ee=Z.axes.lastCubeProps.axis:Ee=[1,1,1],b[0]=2/oe.drawingBufferWidth,b[1]=2/oe.drawingBufferHeight,J.bind(),Q.view=se,Q.projection=ne,Q.screenSize=b,Q.highlightId=Z.highlightId,Q.highlightScale=Z.highlightScale,Q.clipBounds=ye,Q.pickGroup=Z.pickId/255,Q.pixelRatio=j;for(var Te=0;Te<3;++Te)if(q[Te]){Q.scale=Z.projectScale[Te],Q.opacity=Z.projectOpacity[Te];for(var ze=m,ke=0;ke<16;++ke)ze[ke]=0;for(var ke=0;ke<4;++ke)ze[5*ke]=1;ze[5*Te]=0,Ee[Te]<0?ze[12+Te]=fe[0][Te]:ze[12+Te]=fe[1][Te],u(ze,K,ze),Q.model=ze;var Se=(Te+1)%3,me=(Te+2)%3,Ce=U(S),Ne=U(x);Ce[Se]=1,Ne[me]=1;var He=s(ne,se,K,z(i,Ce)),De=s(ne,se,K,z(E,Ne));if(Math.abs(He[1])>Math.abs(De[1])){var Ve=He;He=De,De=Ve,Ve=Ce,Ce=Ne,Ne=Ve;var at=Se;Se=me,me=at}He[0]<0&&(Ce[Se]=-1),De[1]>0&&(Ne[me]=-1);for(var lt=0,$e=0,ke=0;ke<4;++ke)lt+=Math.pow(K[4*Se+ke],2),$e+=Math.pow(K[4*me+ke],2);Ce[Se]/=Math.sqrt(lt),Ne[me]/=Math.sqrt($e),Q.axes[0]=Ce,Q.axes[1]=Ne,Q.fragClipBounds[0]=F(k,ye[0],Te,-1e8),Q.fragClipBounds[1]=F(k,ye[1],Te,1e8),Z.vao.bind(),Z.vao.draw(oe.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(oe.lineWidth(Z.lineWidth*j),Z.vao.draw(oe.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}var N=[-1e8,-1e8,-1e8],Y=[1e8,1e8,1e8],$=[N,Y];function te(J,Z,ae,j,q,oe,Q){var K=ae.gl;if((oe===ae.projectHasAlpha||Q)&&O(Z,ae,j,q),oe===ae.hasAlpha||Q){J.bind();var se=J.uniforms;se.model=j.model||T,se.view=j.view||T,se.projection=j.projection||T,b[0]=2/K.drawingBufferWidth,b[1]=2/K.drawingBufferHeight,se.screenSize=b,se.highlightId=ae.highlightId,se.highlightScale=ae.highlightScale,se.fragClipBounds=$,se.clipBounds=ae.axes.bounds,se.opacity=ae.opacity,se.pickGroup=ae.pickId/255,se.pixelRatio=q,ae.vao.bind(),ae.vao.draw(K.TRIANGLES,ae.vertexCount),ae.lineWidth>0&&(K.lineWidth(ae.lineWidth*q),ae.vao.draw(K.LINES,ae.lineVertexCount,ae.vertexCount)),ae.vao.unbind()}}C.draw=function(J){var Z=this.useOrtho?this.orthoShader:this.shader;te(Z,this.projectShader,this,J,this.pixelRatio,!1,!1)},C.drawTransparent=function(J){var Z=this.useOrtho?this.orthoShader:this.shader;te(Z,this.projectShader,this,J,this.pixelRatio,!0,!1)},C.drawPick=function(J){var Z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;te(Z,this.pickProjectShader,this,J,1,!0,!0)},C.pick=function(J){if(!J||J.id!==this.pickId)return null;var Z=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(Z>=this.pointCount||Z<0)return null;var ae=this.points[Z],j=this._selectResult;j.index=Z;for(var q=0;q<3;++q)j.position[q]=j.dataCoordinate[q]=ae[q];return j},C.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var Z=J.index,ae=Z&255,j=Z>>8&255,q=Z>>16&255;this.highlightId=[ae/255,j/255,q/255,0]}};function ie(J,Z,ae,j){var q;Array.isArray(J)?Z<J.length?q=J[Z]:q=void 0:q=J,q=f(q);var oe=!0;t(q)&&(q="",oe=!1);var Q=g(q,ae,j);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:oe}}C.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var Z=!!J.project;this.axesProject=[Z,Z,Z]}if("projectScale"in J)if(Array.isArray(J.projectScale))this.projectScale=J.projectScale.slice();else{var ae=+J.projectScale;this.projectScale=[ae,ae,ae]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(Array.isArray(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var ae=+J.projectOpacity;this.projectOpacity=[ae,ae,ae]}for(var j=0;j<3;++j)this.projectOpacity[j]=A(this.projectOpacity[j]),this.projectOpacity[j]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=A(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var q=J.position,oe=J.font||"normal",Q=J.alignment||[0,0],K,se;if(Q.length===2)K=Q[0],se=Q[1];else{K=[],se=[];for(var j=0;j<Q.length;++j)K[j]=Q[j][0],se[j]=Q[j][1]}var ne=[1/0,1/0,1/0],fe=[-1/0,-1/0,-1/0],ye=J.glyph,Ee=J.color,Te=J.size,ze=J.angle,ke=J.lineColor,Se=-1,me=0,Ce=0,Ne=0;if(q.length){Ne=q.length;e:for(var j=0;j<Ne;++j){for(var He=q[j],De=0;De<3;++De)if(isNaN(He[De])||!isFinite(He[De]))continue e;var Ve=ie(ye,j,oe,this.pixelRatio),at=Ve.mesh,lt=Ve.lines,$e=Ve.bounds;me+=at.cells.length*3,Ce+=lt.edges.length*2}}var et=me+Ce,ct=c.mallocFloat(3*et),dt=c.mallocFloat(4*et),gt=c.mallocFloat(2*et),At=c.mallocUint32(et);if(et>0){var Rt=0,Vt=me,Je=[0,0,0,1],Ge=[0,0,0,1],Ie=Array.isArray(Ee)&&Array.isArray(Ee[0]),Fe=Array.isArray(ke)&&Array.isArray(ke[0]);e:for(var j=0;j<Ne;++j){Se+=1;for(var He=q[j],De=0;De<3;++De){if(isNaN(He[De])||!isFinite(He[De]))continue e;fe[De]=Math.max(fe[De],He[De]),ne[De]=Math.min(ne[De],He[De])}var Ve=ie(ye,j,oe,this.pixelRatio),at=Ve.mesh,lt=Ve.lines,$e=Ve.bounds,Pe=Ve.visible;if(!Pe)Je=[1,1,1,0];else if(Array.isArray(Ee)){var xe;if(Ie?j<Ee.length?xe=Ee[j]:xe=[0,0,0,0]:xe=Ee,xe.length===3){for(var De=0;De<3;++De)Je[De]=xe[De];Je[3]=1}else if(xe.length===4){for(var De=0;De<4;++De)Je[De]=xe[De];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;if(!Pe)Ge=[1,1,1,0];else if(Array.isArray(ke)){var xe;if(Fe?j<ke.length?xe=ke[j]:xe=[0,0,0,0]:xe=ke,xe.length===3){for(var De=0;De<3;++De)Ge[De]=xe[De];Ge[De]=1}else if(xe.length===4){for(var De=0;De<4;++De)Ge[De]=xe[De];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Ge[0]=Ge[1]=Ge[2]=0,Ge[3]=1;var ge=.5;Pe?Array.isArray(Te)?j<Te.length?ge=+Te[j]:ge=12:Te?ge=+Te:this.useOrtho&&(ge=12):ge=0;var Me=0;Array.isArray(ze)?j<ze.length?Me=+ze[j]:Me=0:ze&&(Me=+ze);for(var Ae=Math.cos(Me),Ue=Math.sin(Me),He=q[j],De=0;De<3;++De)fe[De]=Math.max(fe[De],He[De]),ne[De]=Math.min(ne[De],He[De]);var Ze=K,tt=se,Ze=0;Array.isArray(K)?j<K.length?Ze=K[j]:Ze=0:K&&(Ze=K);var tt=0;Array.isArray(se)?j<se.length?tt=se[j]:tt=0:se&&(tt=se),Ze*=Ze>0?1-$e[0][0]:Ze<0?1+$e[1][0]:1,tt*=tt>0?1-$e[0][1]:tt<0?1+$e[1][1]:1;for(var ft=[Ze,tt],zt=at.cells||[],$t=at.positions||[],De=0;De<zt.length;++De)for(var pt=zt[De],Yt=0;Yt<3;++Yt){for(var Jt=0;Jt<3;++Jt)ct[3*Rt+Jt]=He[Jt];for(var Jt=0;Jt<4;++Jt)dt[4*Rt+Jt]=Je[Jt];At[Rt]=Se;var Tt=$t[pt[Yt]];gt[2*Rt]=ge*(Ae*Tt[0]-Ue*Tt[1]+ft[0]),gt[2*Rt+1]=ge*(Ue*Tt[0]+Ae*Tt[1]+ft[1]),Rt+=1}for(var zt=lt.edges,$t=lt.positions,De=0;De<zt.length;++De)for(var pt=zt[De],Yt=0;Yt<2;++Yt){for(var Jt=0;Jt<3;++Jt)ct[3*Vt+Jt]=He[Jt];for(var Jt=0;Jt<4;++Jt)dt[4*Vt+Jt]=Ge[Jt];At[Vt]=Se;var Tt=$t[pt[Yt]];gt[2*Vt]=ge*(Ae*Tt[0]-Ue*Tt[1]+ft[0]),gt[2*Vt+1]=ge*(Ue*Tt[0]+Ae*Tt[1]+ft[1]),Vt+=1}}}this.bounds=[ne,fe],this.points=q,this.pointCount=q.length,this.vertexCount=me,this.lineVertexCount=Ce,this.pointBuffer.update(ct),this.colorBuffer.update(dt),this.glyphBuffer.update(gt),this.idBuffer.update(At),c.free(ct),c.free(dt),c.free(gt),c.free(At)},C.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ce(J){var Z=J.gl,ae=l.createPerspective(Z),j=l.createOrtho(Z),q=l.createProject(Z),oe=l.createPickPerspective(Z),Q=l.createPickOrtho(Z),K=l.createPickProject(Z),se=o(Z),ne=o(Z),fe=o(Z),ye=o(Z),Ee=n(Z,[{buffer:se,size:3,type:Z.FLOAT},{buffer:ne,size:4,type:Z.FLOAT},{buffer:fe,size:2,type:Z.FLOAT},{buffer:ye,size:4,type:Z.UNSIGNED_BYTE,normalized:!0}]),Te=new w(Z,ae,j,q,se,ne,fe,ye,Ee,oe,Q,K);return Te.update(J),Te}},1884:function(v,p,r){var t=r(6832);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,r){var t=r(5158),o=r(5827),n=r(1884);v.exports=l;function c(g,f,T){this.plot=g,this.boxBuffer=f,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=c.prototype;u.draw=function(){if(this.enabled){var g=this.plot,f=this.selectBox,T=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var s=this.outerColor,d=this.borderColor,A=g.box,w=g.screenBox,C=g.dataBox,b=g.viewBox,S=g.pixelRatio,x=(f[0]-C[0])*(b[2]-b[0])/(C[2]-C[0])+b[0],i=(f[1]-C[1])*(b[3]-b[1])/(C[3]-C[1])+b[1],E=(f[2]-C[0])*(b[2]-b[0])/(C[2]-C[0])+b[0],m=(f[3]-C[1])*(b[3]-b[1])/(C[3]-C[1])+b[1];if(x=Math.max(x,b[0]),i=Math.max(i,b[1]),E=Math.min(E,b[2]),m=Math.min(m,b[3]),!(E<x||m<i)){A.bind();var k=w[2]-w[0],I=w[3]-w[1];if(this.outerFill&&(A.drawBox(0,0,k,i,s),A.drawBox(0,i,x,m,s),A.drawBox(0,m,k,I,s),A.drawBox(E,i,k,m,s)),this.innerFill&&A.drawBox(x,i,E,m,h),T>0){var U=T*S;A.drawBox(x-U,i-U,E+U,i+U,d),A.drawBox(x-U,m-U,E+U,m+U,d),A.drawBox(x-U,i-U,x+U,m+U,d),A.drawBox(E-U,i-U,E+U,m+U,d)}}}},u.update=function(g){g=g||{},this.innerFill=!!g.innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(g,f){var T=g.gl,h=o(T,[0,0,0,1,1,0,1,1]),s=t(T,n.boxVertex,n.boxFragment),d=new c(g,h,s);return d.update(f),g.addOverlay(d),d}},2611:function(v,p,r){v.exports=T;var t=r(4234),o=r(5306),n=r(5050),c=r(2288).nextPow2,u=function(h,s,d){for(var A=1e8,w=-1,C=-1,b=h.shape[0],S=h.shape[1],x=0;x<b;x++)for(var i=0;i<S;i++){var E=h.get(x,i,0),m=h.get(x,i,1),k=h.get(x,i,2),I=h.get(x,i,3);if(E<255||m<255||k<255||I<255){var U=s-x,z=d-i,F=U*U+z*z;F<A&&(A=F,w=x,C=i)}}return[w,C,A]};function l(h,s,d,A,w){this.coord=[h,s],this.id=d,this.value=A,this.distance=w}function g(h,s,d){this.gl=h,this.fbo=s,this.buffer=d,this._readTimeout=null;var A=this;this._readCallback=function(){A.gl&&(s.bind(),h.readPixels(0,0,s.shape[0],s.shape[1],h.RGBA,h.UNSIGNED_BYTE,A.buffer),A._readTimeout=null)}}var f=g.prototype;Object.defineProperty(f,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var s=this.fbo.shape[0],d=this.fbo.shape[1];if(d*s*4>this.buffer.length){o.free(this.buffer);for(var A=this.buffer=o.mallocUint8(c(d*s*4)),w=0;w<d*s*4;++w)A[w]=255}return h}}}),f.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},f.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},f.query=function(h,s,d){if(!this.gl)return null;var A=this.fbo.shape.slice();h=h|0,s=s|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(h-d,0),A[0])|0,C=Math.min(Math.max(h+d,0),A[0])|0,b=Math.min(Math.max(s-d,0),A[1])|0,S=Math.min(Math.max(s+d,0),A[1])|0;if(C<=w||S<=b)return null;var x=[C-w,S-b],i=n(this.buffer,[x[0],x[1],4],[4,A[0]*4,1],4*(w+A[0]*b)),E=u(i.hi(x[0],x[1],1),d,d),m=E[0],k=E[1];if(m<0||Math.pow(this.radius,2)<E[2])return null;var I=i.get(m,k,0),U=i.get(m,k,1),z=i.get(m,k,2),F=i.get(m,k,3);return new l(m+w|0,k+b|0,I,[U,z,F],Math.sqrt(E[2]))},f.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(h,s){var d=s[0],A=s[1],w={},C=t(h,d,A,w),b=o.mallocUint8(d*A*4);return new g(h,C,b)}},5158:function(v,p,r){var t=r(9016),o=r(4280),n=r(3984),c=r(1628),u=r(2631),l=r(9068);function g(s){this.gl=s,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=g.prototype;f.bind=function(){this.program||this._relink();var s,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),A=this.gl.lastAttribCount;if(d>A)for(s=A;s<d;s++)this.gl.enableVertexAttribArray(s);else if(A>d)for(s=d;s<A;s++)this.gl.disableVertexAttribArray(s);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},f.dispose=function(){for(var s=this.gl.lastAttribCount,d=0;d<s;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(s,d){return s.name<d.name?-1:1}f.update=function(s,d,A,w){if(!d||arguments.length===1){var C=s;s=C.vertex,d=C.fragment,A=C.uniforms,w=C.attributes}var b=this,S=b.gl,x=b._vref;b._vref=c.shader(S,S.VERTEX_SHADER,s),x&&x.dispose(),b.vertShader=b._vref.shader;var i=this._fref;if(b._fref=c.shader(S,S.FRAGMENT_SHADER,d),i&&i.dispose(),b.fragShader=b._fref.shader,!A||!w){var E=S.createProgram();if(S.attachShader(E,b.fragShader),S.attachShader(E,b.vertShader),S.linkProgram(E),!S.getProgramParameter(E,S.LINK_STATUS)){var m=S.getProgramInfoLog(E);throw new l(m,"Error linking program:"+m)}A=A||u.uniforms(S,E),w=w||u.attributes(S,E),S.deleteProgram(E)}w=w.slice(),w.sort(T);var k=[],I=[],U=[],z;for(z=0;z<w.length;++z){var F=w[z];if(F.type.indexOf("mat")>=0){for(var B=F.type.charAt(F.type.length-1)|0,O=new Array(B),N=0;N<B;++N)O[N]=U.length,I.push(F.name+"["+N+"]"),typeof F.location=="number"?U.push(F.location+N):Array.isArray(F.location)&&F.location.length===B&&typeof F.location[N]=="number"?U.push(F.location[N]|0):U.push(-1);k.push({name:F.name,type:F.type,locations:O})}else k.push({name:F.name,type:F.type,locations:[U.length]}),I.push(F.name),typeof F.location=="number"?U.push(F.location|0):U.push(-1)}var Y=0;for(z=0;z<U.length;++z)if(U[z]<0){for(;U.indexOf(Y)>=0;)Y+=1;U[z]=Y}var $=new Array(A.length);function te(){b.program=c.program(S,b._vref,b._fref,I,U);for(var ie=0;ie<A.length;++ie)$[ie]=S.getUniformLocation(b.program,A[ie].name)}te(),b._relink=te,b.types={uniforms:n(A),attributes:n(w)},b.attributes=o(S,b,k,U),Object.defineProperty(b,"uniforms",t(S,b,A,$))};function h(s,d,A,w,C){var b=new g(s);return b.update(d,A,w,C),b}v.exports=h},9068:function(v){function p(r,t,o){this.shortMessage=t||"",this.longMessage=o||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(o?`
`+o:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,r){v.exports=g;var t=r(9068);function o(f,T,h,s,d,A){this._gl=f,this._wrapper=T,this._index=h,this._locations=s,this._dimension=d,this._constFunc=A}var n=o.prototype;n.pointer=function(T,h,s,d){var A=this,w=A._gl,C=A._locations[A._index];w.vertexAttribPointer(C,A._dimension,T||w.FLOAT,!!h,s||0,d||0),w.enableVertexAttribArray(C)},n.set=function(f,T,h,s){return this._constFunc(this._locations[this._index],f,T,h,s)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(f){return f!==this._locations[this._index]&&(this._locations[this._index]=f|0,this._wrapper.program=null),f|0}});var c=[function(f,T,h){return h.length===void 0?f.vertexAttrib1f(T,h):f.vertexAttrib1fv(T,h)},function(f,T,h,s){return h.length===void 0?f.vertexAttrib2f(T,h,s):f.vertexAttrib2fv(T,h)},function(f,T,h,s,d){return h.length===void 0?f.vertexAttrib3f(T,h,s,d):f.vertexAttrib3fv(T,h)},function(f,T,h,s,d,A){return h.length===void 0?f.vertexAttrib4f(T,h,s,d,A):f.vertexAttrib4fv(T,h)}];function u(f,T,h,s,d,A,w){var C=c[d],b=new o(f,T,h,s,d,C);Object.defineProperty(A,w,{set:function(S){return f.disableVertexAttribArray(s[h]),C(f,s[h],S),S},get:function(){return b},enumerable:!0})}function l(f,T,h,s,d,A,w){for(var C=new Array(d),b=new Array(d),S=0;S<d;++S)u(f,T,h[S],s,d,C,S),b[S]=C[S];Object.defineProperty(C,"location",{set:function(E){if(Array.isArray(E))for(var m=0;m<d;++m)b[m].location=E[m];else for(var m=0;m<d;++m)b[m].location=E+m;return E},get:function(){for(var E=new Array(d),m=0;m<d;++m)E[m]=s[h[m]];return E},enumerable:!0}),C.pointer=function(E,m,k,I){E=E||f.FLOAT,m=!!m,k=k||d*d,I=I||0;for(var U=0;U<d;++U){var z=s[h[U]];f.vertexAttribPointer(z,d,E,m,k,I+U*d),f.enableVertexAttribArray(z)}};var x=new Array(d),i=f["vertexAttrib"+d+"fv"];Object.defineProperty(A,w,{set:function(E){for(var m=0;m<d;++m){var k=s[h[m]];if(f.disableVertexAttribArray(k),Array.isArray(E[0]))i.call(f,k,E[m]);else{for(var I=0;I<d;++I)x[I]=E[d*m+I];i.call(f,k,x)}}return E},get:function(){return C},enumerable:!0})}function g(f,T,h,s){for(var d={},A=0,w=h.length;A<w;++A){var C=h[A],b=C.name,S=C.type,x=C.locations;switch(S){case"bool":case"int":case"float":u(f,T,x[0],s,1,d,b);break;default:if(S.indexOf("vec")>=0){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new t("","Invalid data type for attribute "+b+": "+S);u(f,T,x[0],s,i,d,b)}else if(S.indexOf("mat")>=0){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new t("","Invalid data type for attribute "+b+": "+S);l(f,T,x,s,i,d,b)}else throw new t("","Unknown data type for attribute "+b+": "+S);break}}return d}},9016:function(v,p,r){var t=r(3984),o=r(9068);v.exports=u;function n(l){return function(){return l}}function c(l,g){for(var f=new Array(l),T=0;T<l;++T)f[T]=g;return f}function u(l,g,f,T){function h(S){return function(x,i,E){return x.getUniform(i.program,E[S])}}function s(S){return function(i){for(var E=d("",S),m=0;m<E.length;++m){var k=E[m],I=k[0],U=k[1];if(T[U]){var z=i;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var F=I;if(I.indexOf(".")===0&&(F=I.slice(1)),F.indexOf("]")===F.length-1){var B=F.indexOf("["),O=F.slice(0,B),N=F.slice(B+1,F.length-1);z=O?i[O][N]:i[N]}else z=i[F]}var Y=f[U].type,$;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[U],z);break;case"float":l.uniform1f(T[U],z);break;default:var te=Y.indexOf("vec");if(0<=te&&te<=1&&Y.length===4+te){if($=Y.charCodeAt(Y.length-1)-48,$<2||$>4)throw new o("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":l["uniform"+$+"iv"](T[U],z);break;case"v":l["uniform"+$+"fv"](T[U],z);break;default:throw new o("","Unrecognized data type for vector "+name+": "+Y)}}else if(Y.indexOf("mat")===0&&Y.length===4){if($=Y.charCodeAt(Y.length-1)-48,$<2||$>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+Y);l["uniformMatrix"+$+"fv"](T[U],!1,z);break}else throw new o("","Unknown uniform data type for "+name+": "+Y)}}}}}function d(S,x){if(typeof x!="object")return[[S,x]];var i=[];for(var E in x){var m=x[E],k=S;parseInt(E)+""===E?k+="["+E+"]":k+="."+E,typeof m=="object"?i.push.apply(i,d(k,m)):i.push([k,m])}return i}function A(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var x=S.indexOf("vec");if(0<=x&&x<=1&&S.length===4+x){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new o("","Invalid data type");return S.charAt(0)==="b"?c(i,!1):c(i,0)}else if(S.indexOf("mat")===0&&S.length===4){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+S);return c(i*i,0)}else throw new o("","Unknown uniform data type for "+name+": "+S)}}function w(S,x,i){if(typeof i=="object"){var E=C(i);Object.defineProperty(S,x,{get:n(E),set:s(i),enumerable:!0,configurable:!1})}else T[i]?Object.defineProperty(S,x,{get:h(i),set:s(i),enumerable:!0,configurable:!1}):S[x]=A(f[i].type)}function C(S){var x;if(Array.isArray(S)){x=new Array(S.length);for(var i=0;i<S.length;++i)w(x,i,S[i])}else{x={};for(var E in S)w(x,E,S[E])}return x}var b=t(f,!0);return{get:n(C(b)),set:s(b),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(r,t){for(var o={},n=0;n<r.length;++n)for(var c=r[n].name,u=c.split("."),l=o,g=0;g<u.length;++g){var f=u[g].split("[");if(f.length>1){f[0]in l||(l[f[0]]=[]),l=l[f[0]];for(var T=1;T<f.length;++T){var h=parseInt(f[T]);T<f.length-1||g<u.length-1?(h in l||(T<f.length-1?l[h]=[]:l[h]={}),l=l[h]):t?l[h]=n:l[h]=r[n].type}}else g<u.length-1?(f[0]in l||(l[f[0]]={}),l=l[f[0]]):t?l[f[0]]=n:l[f[0]]=r[n].type}return o}},2631:function(v,p){p.uniforms=n,p.attributes=c;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function o(u,l){if(!t){var g=Object.keys(r);t={};for(var f=0;f<g.length;++f){var T=g[f];t[u[T]]=r[T]}}return t[l]}function n(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),f=[],T=0;T<g;++T){var h=u.getActiveUniform(l,T);if(h){var s=o(u,h.type);if(h.size>1)for(var d=0;d<h.size;++d)f.push({name:h.name.replace("[0]","["+d+"]"),type:s});else f.push({name:h.name,type:s})}}return f}function c(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),f=[],T=0;T<g;++T){var h=u.getActiveAttrib(l,T);h&&f.push({name:h.name,type:o(u,h.type)})}return f}},1628:function(v,p,r){p.shader=d,p.program=A;var t=r(9068),o=r(3530),n=typeof WeakMap>"u"?r(4037):WeakMap,c=new n,u=0;function l(w,C,b,S,x,i,E){this.id=w,this.src=C,this.type=b,this.shader=S,this.count=i,this.programs=[],this.cache=E}l.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,C=w.gl,b=this.programs,S=0,x=b.length;S<x;++S){var i=w.programs[b[S]];i&&(delete w.programs[S],C.deleteProgram(i))}C.deleteShader(this.shader),delete w.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function g(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var f=g.prototype;function T(w,C,b){var S=w.createShader(C);if(w.shaderSource(S,b),w.compileShader(S),!w.getShaderParameter(S,w.COMPILE_STATUS)){var x=w.getShaderInfoLog(S);try{var i=o(x,b,C)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(x,`Error compiling shader:
`+x)}throw new t(x,i.short,i.long)}return S}f.getShaderReference=function(w,C){var b=this.gl,S=this.shaders[w===b.FRAGMENT_SHADER|0],x=S[C];if(!x||!b.isShader(x.shader)){var i=T(b,w,C);x=S[C]=new l(u++,C,w,i,[],1,this)}else x.count+=1;return x};function h(w,C,b,S,x){var i=w.createProgram();w.attachShader(i,C),w.attachShader(i,b);for(var E=0;E<S.length;++E)w.bindAttribLocation(i,x[E],S[E]);if(w.linkProgram(i),!w.getProgramParameter(i,w.LINK_STATUS)){var m=w.getProgramInfoLog(i);throw new t(m,"Error linking program: "+m)}return i}f.getProgram=function(w,C,b,S){var x=[w.id,C.id,b.join(":"),S.join(":")].join("@"),i=this.programs[x];return(!i||!this.gl.isProgram(i))&&(this.programs[x]=i=h(this.gl,w.shader,C.shader,b,S),w.programs.push(x),C.programs.push(x)),i};function s(w){var C=c.get(w);return C||(C=new g(w),c.set(w,C)),C}function d(w,C,b){return s(w).getShaderReference(C,b)}function A(w,C,b,S,x){return s(w).getProgram(C,b,S,x)}},3050:function(v){v.exports=t;function p(o){this.plot=o,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(o){o=o||{},this.enable=(o.enable||[!0,!0,!1,!1]).slice(),this.width=(o.width||[1,1,1,1]).slice(),this.color=(o.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(o.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var o=this.enable,n=this.width,c=this.color,u=this.center,l=this.plot,g=l.line,f=l.dataBox,T=l.viewBox;if(g.bind(),f[0]<=u[0]&&u[0]<=f[2]&&f[1]<=u[1]&&u[1]<=f[3]){var h=T[0]+(u[0]-f[0])/(f[2]-f[0])*(T[2]-T[0]),s=T[1]+(u[1]-f[1])/(f[3]-f[1])*(T[3]-T[1]);o[0]&&g.drawLine(h,s,T[0],s,n[0],c[0]),o[1]&&g.drawLine(h,s,h,T[1],n[1],c[1]),o[2]&&g.drawLine(h,s,T[2],s,n[2],c[2]),o[3]&&g.drawLine(h,s,h,T[3],n[3],c[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(o,n){var c=new p(o);return c.update(n),o.addOverlay(c),c}},3540:function(v,p,r){var t=r(6832),o=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),c=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return o(u,n,c,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,r){var t=r(5827),o=r(2944),n=r(3540);v.exports=h;var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(s,d,A,w){this.gl=s,this.buffer=d,this.vao=A,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,g=[0,0,0],f=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(s){},l.draw=function(s){var d=this.gl,A=this.vao,w=this.shader;A.bind(),w.bind();var C=s.model||c,b=s.view||c,S=s.projection||c,x;this.axes&&(x=this.axes.lastCubeProps.axis);for(var i=g,E=f,m=0;m<3;++m)x&&x[m]<0?(i[m]=this.bounds[0][m],E[m]=this.bounds[1][m]):(i[m]=this.bounds[1][m],E[m]=this.bounds[0][m]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,w.uniforms.model=C,w.uniforms.view=b,w.uniforms.projection=S,w.uniforms.coordinates=[this.position,i,E],w.uniforms.colors=this.colors,w.uniforms.screenShape=T;for(var m=0;m<3;++m)w.uniforms.lineWidth=this.lineWidth[m]*this.pixelRatio,this.enabled[m]&&(A.draw(d.TRIANGLES,6,6*m),this.drawSides[m]&&A.draw(d.TRIANGLES,12,18+12*m));A.unbind()},l.update=function(s){s&&("bounds"in s&&(this.bounds=s.bounds),"position"in s&&(this.position=s.position),"lineWidth"in s&&(this.lineWidth=s.lineWidth),"colors"in s&&(this.colors=s.colors),"enabled"in s&&(this.enabled=s.enabled),"drawSides"in s&&(this.drawSides=s.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(s,d){var A=[];function w(i,E,m,k,I,U){var z=[i,E,m,0,0,0,1];z[k+3]=1,z[k]=I,A.push.apply(A,z),z[6]=-1,A.push.apply(A,z),z[k]=U,A.push.apply(A,z),A.push.apply(A,z),z[6]=1,A.push.apply(A,z),z[k]=I,A.push.apply(A,z)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var C=t(s,A),b=o(s,[{type:s.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:s.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:s.FLOAT,buffer:C,size:1,offset:24,stride:28}]),S=n(s);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var x=new u(s,C,b,S);return x.update(d),x}},9578:function(v,p,r){var t=r(6832),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),c=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:c,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,r){var t=r(2858),o=r(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],c=function(A,w,C,b){for(var S=A.points,x=A.velocities,i=A.divergences,E=[],m=[],k=[],I=[],U=[],z=[],F=0,B=0,O=o.create(),N=o.create(),Y=8,$=0;$<S.length;$++){var te=S[$],ie=x[$],ce=i[$];w===0&&(ce=C*.05),B=t.length(ie)/b,O=o.create(),t.copy(O,ie),O[3]=ce;for(var J=0;J<Y;J++)U[J]=[te[0],te[1],te[2],J];if(I.length>0)for(var J=0;J<Y;J++){var Z=(J+1)%Y;E.push(I[J],U[J],U[Z],U[Z],I[Z],I[J]),k.push(N,O,O,O,N,N),z.push(F,B,B,B,F,F);var ae=E.length;m.push([ae-6,ae-5,ae-4],[ae-3,ae-2,ae-1])}var j=I;I=U,U=j;var q=N;N=O,O=q;var oe=F;F=B,B=oe}return{positions:E,cells:m,vectors:k,vertexIntensity:z}},u=function(A,w,C,b){for(var S=0,x=0;x<A.length;x++)for(var i=A[x].velocities,E=0;E<i.length;E++)S=Math.max(S,t.length(i[E]));for(var m=A.map(function($){return c($,C,b,S)}),k=[],I=[],U=[],z=[],x=0;x<m.length;x++){var F=m[x],B=k.length;k=k.concat(F.positions),U=U.concat(F.vectors),z=z.concat(F.vertexIntensity);for(var E=0;E<F.cells.length;E++){var O=F.cells[E],N=[];I.push(N);for(var Y=0;Y<O.length;Y++)N.push(O[Y]+B)}}return{positions:k,cells:I,vectors:U,vertexIntensity:z,colormap:w}},l=function(A,w){var C=A.length,b;for(b=0;b<C;b++){var S=A[b];if(S===w)return b;if(S>w)return b-1}return b},g=function(A,w,C){return A<w?w:A>C?C:A},f=function(A,w,C){var b=w.vectors,S=w.meshgrid,x=A[0],i=A[1],E=A[2],m=S[0].length,k=S[1].length,I=S[2].length,U=l(S[0],x),z=l(S[1],i),F=l(S[2],E),B=U+1,O=z+1,N=F+1;if(U=g(U,0,m-1),B=g(B,0,m-1),z=g(z,0,k-1),O=g(O,0,k-1),F=g(F,0,I-1),N=g(N,0,I-1),U<0||z<0||F<0||B>m-1||O>k-1||N>I-1)return t.create();var Y=S[0][U],$=S[0][B],te=S[1][z],ie=S[1][O],ce=S[2][F],J=S[2][N],Z=(x-Y)/($-Y),ae=(i-te)/(ie-te),j=(E-ce)/(J-ce);isFinite(Z)||(Z=.5),isFinite(ae)||(ae=.5),isFinite(j)||(j=.5);var q,oe,Q,K,se,ne;switch(C.reversedX&&(U=m-1-U,B=m-1-B),C.reversedY&&(z=k-1-z,O=k-1-O),C.reversedZ&&(F=I-1-F,N=I-1-N),C.filled){case 5:se=F,ne=N,Q=z*I,K=O*I,q=U*I*k,oe=B*I*k;break;case 4:se=F,ne=N,q=U*I,oe=B*I,Q=z*I*m,K=O*I*m;break;case 3:Q=z,K=O,se=F*k,ne=N*k,q=U*k*I,oe=B*k*I;break;case 2:Q=z,K=O,q=U*k,oe=B*k,se=F*k*m,ne=N*k*m;break;case 1:q=U,oe=B,se=F*m,ne=N*m,Q=z*m*I,K=O*m*I;break;default:q=U,oe=B,Q=z*m,K=O*m,se=F*m*k,ne=N*m*k;break}var fe=b[q+Q+se],ye=b[q+Q+ne],Ee=b[q+K+se],Te=b[q+K+ne],ze=b[oe+Q+se],ke=b[oe+Q+ne],Se=b[oe+K+se],me=b[oe+K+ne],Ce=t.create(),Ne=t.create(),He=t.create(),De=t.create();t.lerp(Ce,fe,ze,Z),t.lerp(Ne,ye,ke,Z),t.lerp(He,Ee,Se,Z),t.lerp(De,Te,me,Z);var Ve=t.create(),at=t.create();t.lerp(Ve,Ce,He,ae),t.lerp(at,Ne,De,ae);var lt=t.create();return t.lerp(lt,Ve,at,j),lt},T=function(A){var w=1/0;A.sort(function(x,i){return x-i});for(var C=A.length,b=1;b<C;b++){var S=Math.abs(A[b]-A[b-1]);S<w&&(w=S)}return w},h=function(A){for(var w=[],C=[],b=[],S={},x={},i={},E=A.length,m=0;m<E;m++){var k=A[m],I=k[0],U=k[1],z=k[2];S[I]||(w.push(I),S[I]=!0),x[U]||(C.push(U),x[U]=!0),i[z]||(b.push(z),i[z]=!0)}var F=T(w),B=T(C),O=T(b),N=Math.min(F,B,O);return isFinite(N)?N:1};v.exports=function(A,w){var C=A.startingPositions,b=A.maxLength||1e3,S=A.tubeSize||1,x=A.absoluteTubeSize,i=A.gridFill||"+x+y+z",E={};i.indexOf("-x")!==-1&&(E.reversedX=!0),i.indexOf("-y")!==-1&&(E.reversedY=!0),i.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var m=A.getVelocity||function(ke){return f(ke,A,E)},k=A.getDivergence||function(ke,Se){var me=t.create(),Ce=1e-4;t.add(me,ke,[Ce,0,0]);var Ne=m(me);t.subtract(Ne,Ne,Se),t.scale(Ne,Ne,1/Ce),t.add(me,ke,[0,Ce,0]);var He=m(me);t.subtract(He,He,Se),t.scale(He,He,1/Ce),t.add(me,ke,[0,0,Ce]);var De=m(me);return t.subtract(De,De,Se),t.scale(De,De,1/Ce),t.add(me,Ne,He),t.add(me,me,De),me},I=[],U=w[0][0],z=w[0][1],F=w[0][2],B=w[1][0],O=w[1][1],N=w[1][2],Y=function(ke){var Se=ke[0],me=ke[1],Ce=ke[2];return!(Se<U||Se>B||me<z||me>O||Ce<F||Ce>N)},$=t.distance(w[0],w[1]),te=10*$/b,ie=te*te,ce=1,J=0,Z=C.length;Z>1&&(ce=h(C));for(var ae=0;ae<Z;ae++){var j=t.create();t.copy(j,C[ae]);var q=[j],oe=[],Q=m(j),K=j;oe.push(Q);var se=[],ne=k(j,Q),fe=t.length(ne);isFinite(fe)&&fe>J&&(J=fe),se.push(fe),I.push({points:q,velocities:oe,divergences:se});for(var ye=0;ye<b*100&&q.length<b&&Y(j);){ye++;var Ee=t.clone(Q),Te=t.squaredLength(Ee);if(Te===0)break;if(Te>ie&&t.scale(Ee,Ee,te/Math.sqrt(Te)),t.add(Ee,Ee,j),Q=m(Ee),t.squaredDistance(K,Ee)-ie>-1e-4*ie){q.push(Ee),K=Ee,oe.push(Q);var ne=k(Ee,Q),fe=t.length(ne);isFinite(fe)&&fe>J&&(J=fe),se.push(fe)}j=Ee}}var ze=u(I,A.colormap,J,ce);return x?ze.tubeScale=x:(J===0&&(J=1),ze.tubeScale=S*.5*ce/J),ze};var s=r(9578),d=r(1140).createMesh;v.exports.createTubeMesh=function(A,w){return d(A,w,{shaders:s,traceType:"streamtube"})}},9054:function(v,p,r){var t=r(5158),o=r(6832),n=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),c=o([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(g){var f=t(g,n,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},p.createPickShader=function(g){var f=t(g,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},p.createContourShader=function(g){var f=t(g,u,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f},p.createPickContourShader=function(g){var f=t(g,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f}},3754:function(v,p,r){v.exports=oe;var t=r(2288),o=r(5827),n=r(2944),c=r(8931),u=r(5306),l=r(9156),g=r(7498),f=r(7382),T=r(5050),h=r(4162),s=r(104),d=r(7437),A=r(5070),w=r(9144),C=r(9054),b=C.createShader,S=C.createContourShader,x=C.createPickShader,i=C.createPickContourShader,E=4*10,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Q=0;Q<3;++Q){var K=I[Q],se=(Q+1)%3,ne=(Q+2)%3;K[se+0]=1,K[ne+3]=1,K[Q+6]=1}})();function U(Q,K,se,ne,fe){this.position=Q,this.index=K,this.uv=se,this.level=ne,this.dataCoordinate=fe}var z=256;function F(Q,K,se,ne,fe,ye,Ee,Te,ze,ke,Se,me,Ce,Ne,He){this.gl=Q,this.shape=K,this.bounds=se,this.objectOffset=He,this.intensityBounds=[],this._shader=ne,this._pickShader=fe,this._coordinateBuffer=ye,this._vao=Ee,this._colorMap=Te,this._contourShader=ze,this._contourPickShader=ke,this._contourBuffer=Se,this._contourVAO=me,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ce,this._dynamicVAO=Ne,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=F.prototype;B.genColormap=function(Q,K){var se=!1,ne=f([l({colormap:Q,nshades:z,format:"rgba"}).map(function(fe,ye){var Ee=K?O(ye/255,K):fe[3];return Ee<1&&(se=!0),[fe[0],fe[1],fe[2],255*Ee]})]);return g.divseq(ne,255),this.hasAlphaScale=se,ne},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(Q){this.pickId=Q};function O(Q,K){if(!K||!K.length)return 1;for(var se=0;se<K.length;++se){if(K.length<2)return 1;if(K[se][0]===Q)return K[se][1];if(K[se][0]>Q&&se>0){var ne=(K[se][0]-Q)/(K[se][0]-K[se-1][0]);return K[se][1]*(1-ne)+ne*K[se-1][1]}}return 1}var N=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[m.slice(),m.slice(),m.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function $(Q,K){var se,ne,fe,ye=K.axes&&K.axes.lastCubeProps.axis||N,Ee=K.showSurface,Te=K.showContour;for(se=0;se<3;++se)for(Ee=Ee||K.surfaceProject[se],ne=0;ne<3;++ne)Te=Te||K.contourProject[se][ne];for(se=0;se<3;++se){var ze=Y.projections[se];for(ne=0;ne<16;++ne)ze[ne]=0;for(ne=0;ne<4;++ne)ze[5*ne]=1;ze[5*se]=0,ze[12+se]=K.axesBounds[+(ye[se]>0)][se],s(ze,Q.model,ze);var ke=Y.clipBounds[se];for(fe=0;fe<2;++fe)for(ne=0;ne<3;++ne)ke[fe][ne]=Q.clipBounds[fe][ne];ke[0][se]=-1e8,ke[1][se]=1e8}return Y.showSurface=Ee,Y.showContour=Te,Y}var te={model:m,view:m,projection:m,inverseModel:m.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ie=m.slice(),ce=[1,0,0,0,1,0,0,0,1];function J(Q,K){Q=Q||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ne=te;ne.model=Q.model||m,ne.view=Q.view||m,ne.projection=Q.projection||m,ne.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ne.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ne.objectOffset=this.objectOffset,ne.contourColor=this.contourColor[0],ne.inverseModel=d(ne.inverseModel,ne.model);for(var fe=0;fe<2;++fe)for(var ye=ne.clipBounds[fe],Ee=0;Ee<3;++Ee)ye[Ee]=Math.min(Math.max(this.clipBounds[fe][Ee],-1e8),1e8);ne.kambient=this.ambientLight,ne.kdiffuse=this.diffuseLight,ne.kspecular=this.specularLight,ne.roughness=this.roughness,ne.fresnel=this.fresnel,ne.opacity=this.opacity,ne.height=0,ne.permutation=ce,ne.vertexColor=this.vertexColor;var Te=ie;for(s(Te,ne.view,ne.model),s(Te,ne.projection,Te),d(Te,Te),fe=0;fe<3;++fe)ne.eyePosition[fe]=Te[12+fe]/Te[15];var ze=Te[15];for(fe=0;fe<3;++fe)ze+=this.lightPosition[fe]*Te[4*fe+3];for(fe=0;fe<3;++fe){var ke=Te[12+fe];for(Ee=0;Ee<3;++Ee)ke+=Te[4*Ee+fe]*this.lightPosition[Ee];ne.lightPosition[fe]=ke/ze}var Se=$(ne,this);if(Se.showSurface){for(this._shader.bind(),this._shader.uniforms=ne,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Se.projections[fe],this._shader.uniforms.clipBounds=Se.clipBounds[fe],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var me=this._contourShader;ne.kambient=1,ne.kdiffuse=0,ne.kspecular=0,ne.opacity=1,me.bind(),me.uniforms=ne;var Ce=this._contourVAO;for(Ce.bind(),fe=0;fe<3;++fe)for(me.uniforms.permutation=I[fe],se.lineWidth(this.contourWidth[fe]*this.pixelRatio),Ee=0;Ee<this.contourLevels[fe].length;++Ee)Ee===this.highlightLevel[fe]?(me.uniforms.contourColor=this.highlightColor[fe],me.uniforms.contourTint=this.highlightTint[fe]):(Ee===0||Ee-1===this.highlightLevel[fe])&&(me.uniforms.contourColor=this.contourColor[fe],me.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][Ee]&&(me.uniforms.height=this.contourLevels[fe][Ee],Ce.draw(se.LINES,this._contourCounts[fe][Ee],this._contourOffsets[fe][Ee]));for(fe=0;fe<3;++fe)for(me.uniforms.model=Se.projections[fe],me.uniforms.clipBounds=Se.clipBounds[fe],Ee=0;Ee<3;++Ee)if(this.contourProject[fe][Ee]){me.uniforms.permutation=I[Ee],se.lineWidth(this.contourWidth[Ee]*this.pixelRatio);for(var Ne=0;Ne<this.contourLevels[Ee].length;++Ne)Ne===this.highlightLevel[Ee]?(me.uniforms.contourColor=this.highlightColor[Ee],me.uniforms.contourTint=this.highlightTint[Ee]):(Ne===0||Ne-1===this.highlightLevel[Ee])&&(me.uniforms.contourColor=this.contourColor[Ee],me.uniforms.contourTint=this.contourTint[Ee]),this._contourCounts[Ee][Ne]&&(me.uniforms.height=this.contourLevels[Ee][Ne],Ce.draw(se.LINES,this._contourCounts[Ee][Ne],this._contourOffsets[Ee][Ne]))}for(Ce.unbind(),Ce=this._dynamicVAO,Ce.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(me.uniforms.model=ne.model,me.uniforms.clipBounds=ne.clipBounds,me.uniforms.permutation=I[fe],se.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),me.uniforms.contourColor=this.dynamicColor[fe],me.uniforms.contourTint=this.dynamicTint[fe],me.uniforms.height=this.dynamicLevel[fe],Ce.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),Ee=0;Ee<3;++Ee)this.contourProject[Ee][fe]&&(me.uniforms.model=Se.projections[Ee],me.uniforms.clipBounds=Se.clipBounds[Ee],Ce.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));Ce.unbind()}}B.draw=function(Q){return J.call(this,Q,!1)},B.drawTransparent=function(Q){return J.call(this,Q,!0)};var Z={model:m,view:m,projection:m,inverseModel:m,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};B.drawPick=function(Q){Q=Q||{};var K=this.gl;K.disable(K.CULL_FACE);var se=Z;se.model=Q.model||m,se.view=Q.view||m,se.projection=Q.projection||m,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=ce;for(var ne=0;ne<2;++ne)for(var fe=se.clipBounds[ne],ye=0;ye<3;++ye)fe[ye]=Math.min(Math.max(this.clipBounds[ne][ye],-1e8),1e8);var Ee=$(se,this);if(Ee.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(K.TRIANGLES,this._vertexCount),ne=0;ne<3;++ne)this.surfaceProject[ne]&&(this._pickShader.uniforms.model=Ee.projections[ne],this._pickShader.uniforms.clipBounds=Ee.clipBounds[ne],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var Te=this._contourPickShader;Te.bind(),Te.uniforms=se;var ze=this._contourVAO;for(ze.bind(),ye=0;ye<3;++ye)for(K.lineWidth(this.contourWidth[ye]*this.pixelRatio),Te.uniforms.permutation=I[ye],ne=0;ne<this.contourLevels[ye].length;++ne)this._contourCounts[ye][ne]&&(Te.uniforms.height=this.contourLevels[ye][ne],ze.draw(K.LINES,this._contourCounts[ye][ne],this._contourOffsets[ye][ne]));for(ne=0;ne<3;++ne)for(Te.uniforms.model=Ee.projections[ne],Te.uniforms.clipBounds=Ee.clipBounds[ne],ye=0;ye<3;++ye)if(this.contourProject[ne][ye]){Te.uniforms.permutation=I[ye],K.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[ye].length;++ke)this._contourCounts[ye][ke]&&(Te.uniforms.height=this.contourLevels[ye][ke],ze.draw(K.LINES,this._contourCounts[ye][ke],this._contourOffsets[ye][ke]))}ze.unbind()}},B.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var K=this._field[2].shape,se=this._pickResult,ne=K[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,fe=Math.floor(ne),ye=ne-fe,Ee=K[1]*(Q.value[1]+(Q.value[2]&15)/16)/255,Te=Math.floor(Ee),ze=Ee-Te;fe+=1,Te+=1;var ke=se.position;ke[0]=ke[1]=ke[2]=0;for(var Se=0;Se<2;++Se)for(var me=Se?ye:1-ye,Ce=0;Ce<2;++Ce)for(var Ne=Ce?ze:1-ze,He=fe+Se,De=Te+Ce,Ve=me*Ne,at=0;at<3;++at)ke[at]+=this._field[at].get(He,De)*Ve;for(var lt=this._pickResult.level,$e=0;$e<3;++$e)if(lt[$e]=A.le(this.contourLevels[$e],ke[$e]),lt[$e]<0)this.contourLevels[$e].length>0&&(lt[$e]=0);else if(lt[$e]<this.contourLevels[$e].length-1){var et=this.contourLevels[$e][lt[$e]],ct=this.contourLevels[$e][lt[$e]+1];Math.abs(et-ke[$e])>Math.abs(ct-ke[$e])&&(lt[$e]+=1)}for(se.index[0]=ye<.5?fe:fe+1,se.index[1]=ze<.5?Te:Te+1,se.uv[0]=ne/K[0],se.uv[1]=Ee/K[1],at=0;at<3;++at)se.dataCoordinate[at]=this._field[at].get(se.index[0],se.index[1]);return se},B.padField=function(Q,K){var se=K.shape.slice(),ne=Q.shape.slice();g.assign(Q.lo(1,1).hi(se[0],se[1]),K),g.assign(Q.lo(1).hi(se[0],1),K.hi(se[0],1)),g.assign(Q.lo(1,ne[1]-1).hi(se[0],1),K.lo(0,se[1]-1).hi(se[0],1)),g.assign(Q.lo(0,1).hi(1,se[1]),K.hi(1)),g.assign(Q.lo(ne[0]-1,1).hi(1,se[1]),K.lo(se[0]-1)),Q.set(0,0,K.get(0,0)),Q.set(0,ne[1]-1,K.get(0,se[1]-1)),Q.set(ne[0]-1,0,K.get(se[0]-1,0)),Q.set(ne[0]-1,ne[1]-1,K.get(se[0]-1,se[1]-1))};function ae(Q,K){return Array.isArray(Q)?[K(Q[0]),K(Q[1]),K(Q[2])]:[K(Q),K(Q),K(Q)]}function j(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function q(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[j(Q[0]),j(Q[1]),j(Q[2])];var K=j(Q);return[K.slice(),K.slice(),K.slice()]}}B.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=ae(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=ae(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=ae(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=q(Q.contourColor)),"contourProject"in Q&&(this.contourProject=ae(Q.contourProject,function(It){return ae(It,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=q(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=ae(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=ae(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var K=Q.field||Q.coords&&Q.coords[2]||null,se=!1;if(K||(this._field[2].shape[0]||this._field[2].shape[2]?K=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):K=this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var ne=(K.shape[0]+2)*(K.shape[1]+2);ne>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ne))),this._field[2]=T(this._field[2].data,[K.shape[0]+2,K.shape[1]+2]),this.padField(this._field[2],K),this.shape=K.shape.slice();for(var fe=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(u.freeFloat(this._field[ye].data),this._field[ye].data=u.mallocFloat(this._field[2].size)),this._field[ye]=T(this._field[ye].data,[fe[0]+2,fe[1]+2]);if(Q.coords){var Ee=Q.coords;if(!Array.isArray(Ee)||Ee.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var Te=Ee[ye];for(Ce=0;Ce<2;++Ce)if(Te.shape[Ce]!==fe[Ce])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],Te)}}else if(Q.ticks){var ze=Q.ticks;if(!Array.isArray(ze)||ze.length!==2)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var ke=ze[ye];if((Array.isArray(ke)||ke.length)&&(ke=T(ke)),ke.shape[0]!==fe[ye])throw new Error("gl-surface: invalid tick length");var Se=T(ke.data,fe);Se.stride[ye]=ke.stride[0],Se.stride[ye^1]=0,this.padField(this._field[ye],Se)}}else{for(ye=0;ye<2;++ye){var me=[0,0];me[ye]=1,this._field[ye]=T(this._field[ye].data,[fe[0]+2,fe[1]+2],me,0)}this._field[0].set(0,0,0);for(var Ce=0;Ce<fe[0];++Ce)this._field[0].set(Ce+1,0,Ce);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),Ce=0;Ce<fe[1];++Ce)this._field[1].set(0,Ce+1,Ce);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Ne=this._field,He=T(u.mallocFloat(Ne[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(ye=0;ye<3;++ye)w(He.pick(ye),Ne[ye],"mirror");var De=T(u.mallocFloat(Ne[2].size*3),[fe[0]+2,fe[1]+2,3]);for(ye=0;ye<fe[0]+2;++ye)for(Ce=0;Ce<fe[1]+2;++Ce){var Ve=He.get(0,ye,Ce,0),at=He.get(0,ye,Ce,1),lt=He.get(1,ye,Ce,0),$e=He.get(1,ye,Ce,1),et=He.get(2,ye,Ce,0),ct=He.get(2,ye,Ce,1),dt=lt*ct-$e*et,gt=et*at-ct*Ve,At=Ve*$e-at*lt,Rt=Math.sqrt(dt*dt+gt*gt+At*At);Rt<1e-8?(Rt=Math.max(Math.abs(dt),Math.abs(gt),Math.abs(At)),Rt<1e-8?(At=1,gt=dt=0,Rt=1):Rt=1/Rt):Rt=1/Math.sqrt(Rt),De.set(ye,Ce,0,dt*Rt),De.set(ye,Ce,1,gt*Rt),De.set(ye,Ce,2,At*Rt)}u.free(He.data);var Vt=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],Ge=1/0,Ie=-1/0,Fe=(fe[0]-1)*(fe[1]-1)*6,Pe=u.mallocFloat(t.nextPow2(10*Fe)),xe=0,ge=0;for(ye=0;ye<fe[0]-1;++ye)e:for(Ce=0;Ce<fe[1]-1;++Ce){for(var Me=0;Me<2;++Me)for(var Ae=0;Ae<2;++Ae)for(var Ue=0;Ue<3;++Ue){var Ze=this._field[Ue].get(1+ye+Me,1+Ce+Ae);if(isNaN(Ze)||!isFinite(Ze))continue e}for(Ue=0;Ue<6;++Ue){var tt=ye+k[Ue][0],ft=Ce+k[Ue][1],pt=this._field[0].get(tt+1,ft+1),Yt=this._field[1].get(tt+1,ft+1);Ze=this._field[2].get(tt+1,ft+1),dt=De.get(tt+1,ft+1,0),gt=De.get(tt+1,ft+1,1),At=De.get(tt+1,ft+1,2),Q.intensity&&(Jt=Q.intensity.get(tt,ft));var Jt=Q.intensity?Q.intensity.get(tt,ft):Ze+this.objectOffset[2];Pe[xe++]=tt,Pe[xe++]=ft,Pe[xe++]=pt,Pe[xe++]=Yt,Pe[xe++]=Ze,Pe[xe++]=0,Pe[xe++]=Jt,Pe[xe++]=dt,Pe[xe++]=gt,Pe[xe++]=At,Vt[0]=Math.min(Vt[0],pt+this.objectOffset[0]),Vt[1]=Math.min(Vt[1],Yt+this.objectOffset[1]),Vt[2]=Math.min(Vt[2],Ze+this.objectOffset[2]),Ge=Math.min(Ge,Jt),Je[0]=Math.max(Je[0],pt+this.objectOffset[0]),Je[1]=Math.max(Je[1],Yt+this.objectOffset[1]),Je[2]=Math.max(Je[2],Ze+this.objectOffset[2]),Ie=Math.max(Ie,Jt),ge+=1}}for(Q.intensityBounds&&(Ge=+Q.intensityBounds[0],Ie=+Q.intensityBounds[1]),ye=6;ye<xe;ye+=10)Pe[ye]=(Pe[ye]-Ge)/(Ie-Ge);this._vertexCount=ge,this._coordinateBuffer.update(Pe.subarray(0,xe)),u.freeFloat(Pe),u.free(De.data),this.bounds=[Vt,Je],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==Ge||this.intensityBounds[1]!==Ie)&&(se=!0),this.intensityBounds=[Ge,Ie]}if("levels"in Q){var Tt=Q.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],ye=0;ye<3;++ye)Tt[ye]=Tt[ye].slice(),Tt[ye].sort(function(It,Zt){return It-Zt});for(ye=0;ye<3;++ye)for(Ce=0;Ce<Tt[ye].length;++Ce)Tt[ye][Ce]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(Tt[ye].length!==this.contourLevels[ye].length){se=!0;break}for(Ce=0;Ce<Tt[ye].length;++Ce)if(Tt[ye][Ce]!==this.contourLevels[ye][Ce]){se=!0;break e}}this.contourLevels=Tt}if(se){Ne=this._field,fe=this.shape;for(var zt=[],$t=0;$t<3;++$t){var wr=this.contourLevels[$t],yt=[],Xt=[],Qt=[0,0,0];for(ye=0;ye<wr.length;++ye){var gr=h(this._field[$t],wr[ye]);yt.push(zt.length/5|0),ge=0;e:for(Ce=0;Ce<gr.cells.length;++Ce){var sr=gr.cells[Ce];for(Ue=0;Ue<2;++Ue){var vt=gr.positions[sr[Ue]],it=vt[0],xt=Math.floor(it)|0,Mt=it-xt,Dt=vt[1],Lt=Math.floor(Dt)|0,Bt=Dt-Lt,Nt=!1;t:for(var jt=0;jt<3;++jt){Qt[jt]=0;var lr=($t+jt+1)%3;for(Me=0;Me<2;++Me){var fr=Me?Mt:1-Mt;for(tt=Math.min(Math.max(xt+Me,0),fe[0])|0,Ae=0;Ae<2;++Ae){var hr=Ae?Bt:1-Bt;if(ft=Math.min(Math.max(Lt+Ae,0),fe[1])|0,jt<2?Ze=this._field[lr].get(tt,ft):Ze=(this.intensity.get(tt,ft)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ze)||isNaN(Ze)){Nt=!0;break t}var Ye=fr*hr;Qt[jt]+=Ye*Ze}}}if(!Nt)zt.push(Qt[0],Qt[1],vt[0],vt[1],Qt[2]),ge+=1;else{if(Ue>0){for(var We=0;We<5;++We)zt.pop();ge-=1}continue e}}}Xt.push(ge)}this._contourOffsets[$t]=yt,this._contourCounts[$t]=Xt}var kt=u.mallocFloat(zt.length);for(ye=0;ye<zt.length;++ye)kt[ye]=zt[ye];this._contourBuffer.update(kt),u.freeFloat(kt)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)u.freeFloat(this._field[Q].data)},B.highlight=function(Q){var K;if(!Q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(K=0;K<3;++K)this.enableHighlight[K]?this.highlightLevel[K]=Q.level[K]:this.highlightLevel[K]=-1;var se;for(this.snapToData?se=Q.dataCoordinate:se=Q.position,K=0;K<3;++K)se[K]-=this.objectOffset[K];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ne=0,fe=this.shape,ye=u.mallocFloat(12*fe[0]*fe[1]),Ee=0;Ee<3;++Ee){if(!this.enableDynamic[Ee]){this.dynamicLevel[Ee]=NaN,this._dynamicCounts[Ee]=0;continue}this.dynamicLevel[Ee]=se[Ee];var Te=(Ee+1)%3,ze=(Ee+2)%3,ke=this._field[Ee],Se=this._field[Te],me=this._field[ze],Ce=h(ke,se[Ee]),Ne=Ce.cells,He=Ce.positions;for(this._dynamicOffsets[Ee]=ne,K=0;K<Ne.length;++K)for(var De=Ne[K],Ve=0;Ve<2;++Ve){var at=He[De[Ve]],lt=+at[0],$e=lt|0,et=Math.min($e+1,fe[0])|0,ct=lt-$e,dt=1-ct,gt=+at[1],At=gt|0,Rt=Math.min(At+1,fe[1])|0,Vt=gt-At,Je=1-Vt,Ge=dt*Je,Ie=dt*Vt,Fe=ct*Je,Pe=ct*Vt,xe=Ge*Se.get($e,At)+Ie*Se.get($e,Rt)+Fe*Se.get(et,At)+Pe*Se.get(et,Rt),ge=Ge*me.get($e,At)+Ie*me.get($e,Rt)+Fe*me.get(et,At)+Pe*me.get(et,Rt);if(isNaN(xe)||isNaN(ge)){Ve&&(ne-=1);break}ye[2*ne+0]=xe,ye[2*ne+1]=ge,ne+=1}this._dynamicCounts[Ee]=ne-this._dynamicOffsets[Ee]}this._dynamicBuffer.update(ye.subarray(0,2*ne)),u.freeFloat(ye)}};function oe(Q){var K=Q.gl,se=b(K),ne=x(K),fe=S(K),ye=i(K),Ee=o(K),Te=n(K,[{buffer:Ee,size:4,stride:E,offset:0},{buffer:Ee,size:3,stride:E,offset:16},{buffer:Ee,size:3,stride:E,offset:28}]),ze=o(K),ke=n(K,[{buffer:ze,size:4,stride:20,offset:0},{buffer:ze,size:1,stride:20,offset:16}]),Se=o(K),me=n(K,[{buffer:Se,size:2,type:K.FLOAT}]),Ce=c(K,1,z,K.RGBA,K.UNSIGNED_BYTE);Ce.minFilter=K.LINEAR,Ce.magFilter=K.LINEAR;var Ne=new F(K,[0,0],[[0,0,0],[0,0,0]],se,ne,Ee,Te,Ce,fe,ye,ze,ke,Se,me,[0,0,0]),He={levels:[[],[],[]]};for(var De in Q)He[De]=Q[De];return He.colormap=He.colormap||"jet",Ne.update(He),Ne}},8931:function(v,p,r){var t=r(5050),o=r(7498),n=r(5306);v.exports=i;var c=null,u=null,l=null;function g(E){c=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],u=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],l=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function f(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var T=function(E,m){o.muls(E,m,255)};function h(E,m,k){var I=E.gl,U=I.getParameter(I.MAX_TEXTURE_SIZE);if(m<0||m>U||k<0||k>U)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[m,k],E.bind(),I.texImage2D(I.TEXTURE_2D,0,E.format,m,k,0,E.format,E.type,null),E._mipLevels=[0],E}function s(E,m,k,I,U,z){this.gl=E,this.handle=m,this.format=U,this.type=z,this._shape=[k,I],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return F._wrapS},set:function(N){return F.wrapS=N}},{get:function(){return F._wrapT},set:function(N){return F.wrapT=N}}]),this._wrapVector=B;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return F._shape[0]},set:function(N){return F.width=N}},{get:function(){return F._shape[1]},set:function(N){return F.height=N}}]),this._shapeVector=O}var d=s.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var m=this.gl;if(this.type===m.FLOAT&&c.indexOf(E)>=0&&(m.getExtension("OES_texture_float_linear")||(E=m.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var m=this.gl;if(this.type===m.FLOAT&&c.indexOf(E)>=0&&(m.getExtension("OES_texture_float_linear")||(E=m.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var m=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,m!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var m=0;m<2;++m)if(l.indexOf(E[m])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,h(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,h(this,this._shape[0],E),E}}}),d.bind=function(E){var m=this.gl;return E!==void 0&&m.activeTexture(m.TEXTURE0+(E|0)),m.bindTexture(m.TEXTURE_2D,this.handle),E!==void 0?E|0:m.getParameter(m.ACTIVE_TEXTURE)-m.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),m=0;E>0;++m,E>>>=1)this._mipLevels.indexOf(m)<0&&this._mipLevels.push(m)},d.setPixels=function(E,m,k,I){var U=this.gl;this.bind(),Array.isArray(m)?(I=k,k=m[1]|0,m=m[0]|0):(m=m||0,k=k||0),I=I||0;var z=f(E)?E:E.raw;if(z){var F=this._mipLevels.indexOf(I)<0;F?(U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(I)):U.texSubImage2D(U.TEXTURE_2D,I,m,k,this.format,this.type,z)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||m+E.shape[1]>this._shape[1]>>>I||k+E.shape[0]>this._shape[0]>>>I||m<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(U,m,k,I,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function A(E,m){return E.length===3?m[2]===1&&m[1]===E[0]*E[2]&&m[0]===E[2]:m[0]===1&&m[1]===E[0]}function w(E,m,k,I,U,z,F,B){var O=B.dtype,N=B.shape.slice();if(N.length<2||N.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,$=0,te=A(N,B.stride.slice());if(O==="float32"?Y=E.FLOAT:O==="float64"?(Y=E.FLOAT,te=!1,O="float32"):O==="uint8"?Y=E.UNSIGNED_BYTE:(Y=E.UNSIGNED_BYTE,te=!1,O="uint8"),N.length===2)$=E.LUMINANCE,N=[N[0],N[1],1],B=t(B.data,N,[B.stride[0],B.stride[1],1],B.offset);else if(N.length===3){if(N[2]===1)$=E.ALPHA;else if(N[2]===2)$=E.LUMINANCE_ALPHA;else if(N[2]===3)$=E.RGB;else if(N[2]===4)$=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");N[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if(($===E.LUMINANCE||$===E.ALPHA)&&(U===E.LUMINANCE||U===E.ALPHA)&&($=U),$!==U)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ie=B.size,ce=F.indexOf(I)<0;if(ce&&F.push(I),Y===z&&te)B.offset===0&&B.data.length===ie?ce?E.texImage2D(E.TEXTURE_2D,I,U,N[0],N[1],0,U,z,B.data):E.texSubImage2D(E.TEXTURE_2D,I,m,k,N[0],N[1],U,z,B.data):ce?E.texImage2D(E.TEXTURE_2D,I,U,N[0],N[1],0,U,z,B.data.subarray(B.offset,B.offset+ie)):E.texSubImage2D(E.TEXTURE_2D,I,m,k,N[0],N[1],U,z,B.data.subarray(B.offset,B.offset+ie));else{var J;z===E.FLOAT?J=n.mallocFloat32(ie):J=n.mallocUint8(ie);var Z=t(J,N,[N[2],N[2]*N[0],1]);Y===E.FLOAT&&z===E.UNSIGNED_BYTE?T(Z,B):o.assign(Z,B),ce?E.texImage2D(E.TEXTURE_2D,I,U,N[0],N[1],0,U,z,J.subarray(0,ie)):E.texSubImage2D(E.TEXTURE_2D,I,m,k,N[0],N[1],U,z,J.subarray(0,ie)),z===E.FLOAT?n.freeFloat32(J):n.freeUint8(J)}}function C(E){var m=E.createTexture();return E.bindTexture(E.TEXTURE_2D,m),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),m}function b(E,m,k,I,U){var z=E.getParameter(E.MAX_TEXTURE_SIZE);if(m<0||m>z||k<0||k>z)throw new Error("gl-texture2d: Invalid texture shape");if(U===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=C(E);return E.texImage2D(E.TEXTURE_2D,0,I,m,k,0,I,U,null),new s(E,F,m,k,I,U)}function S(E,m,k,I,U,z){var F=C(E);return E.texImage2D(E.TEXTURE_2D,0,U,U,z,m),new s(E,F,k,I,U,z)}function x(E,m){var k=m.dtype,I=m.shape.slice(),U=E.getParameter(E.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>U||I[1]<0||I[1]>U)throw new Error("gl-texture2d: Invalid texture size");var z=A(I,m.stride.slice()),F=0;k==="float32"?F=E.FLOAT:k==="float64"?(F=E.FLOAT,z=!1,k="float32"):k==="uint8"?F=E.UNSIGNED_BYTE:(F=E.UNSIGNED_BYTE,z=!1,k="uint8");var B=0;if(I.length===2)B=E.LUMINANCE,I=[I[0],I[1],1],m=t(m.data,I,[m.stride[0],m.stride[1],1],m.offset);else if(I.length===3)if(I[2]===1)B=E.ALPHA;else if(I[2]===2)B=E.LUMINANCE_ALPHA;else if(I[2]===3)B=E.RGB;else if(I[2]===4)B=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===E.FLOAT&&!E.getExtension("OES_texture_float")&&(F=E.UNSIGNED_BYTE,z=!1);var O,N,Y=m.size;if(z)m.offset===0&&m.data.length===Y?O=m.data:O=m.data.subarray(m.offset,m.offset+Y);else{var $=[I[2],I[2]*I[0],1];N=n.malloc(Y,k);var te=t(N,I,$,0);(k==="float32"||k==="float64")&&F===E.UNSIGNED_BYTE?T(te,m):o.assign(te,m),O=N.subarray(0,Y)}var ie=C(E);return E.texImage2D(E.TEXTURE_2D,0,B,I[0],I[1],0,B,F,O),z||n.free(N),new s(E,ie,I[0],I[1],B,F)}function i(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(c||g(E),typeof arguments[1]=="number")return b(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return b(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var m=arguments[1],k=f(m)?m:m.raw;if(k)return S(E,k,m.width|0,m.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(m.shape&&m.data&&m.stride)return x(E,m)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(r,t,o){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(o){if(o.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var c=0;c<o.length;++c){var u=o[c];if(u.buffer){var l=u.buffer,g=u.size||4,f=u.type||r.FLOAT,T=!!u.normalized,h=u.stride||0,s=u.offset||0;l.bind(),r.enableVertexAttribArray(c),r.vertexAttribPointer(c,g,f,T,h,s)}else{if(typeof u=="number")r.vertexAttrib1f(c,u);else if(u.length===1)r.vertexAttrib1f(c,u[0]);else if(u.length===2)r.vertexAttrib2f(c,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(c,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(c,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(c)}}for(;c<n;++c)r.disableVertexAttribArray(c)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var c=0;c<n;++c)r.disableVertexAttribArray(c)}}v.exports=p},7220:function(v,p,r){var t=r(3056);function o(c){this.gl=c,this._elements=null,this._attributes=null,this._elementsType=c.UNSIGNED_SHORT}o.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},o.prototype.update=function(c,u,l){this._elements=u,this._attributes=c,this._elementsType=l||this.gl.UNSIGNED_SHORT},o.prototype.dispose=function(){},o.prototype.unbind=function(){},o.prototype.draw=function(c,u,l){l=l||0;var g=this.gl;this._elements?g.drawElements(c,u,this._elementsType,l):g.drawArrays(c,l,u)};function n(c){return new o(c)}v.exports=n},3778:function(v,p,r){var t=r(3056);function o(u,l,g,f,T,h){this.location=u,this.dimension=l,this.a=g,this.b=f,this.c=T,this.d=h}o.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,g){this.gl=u,this._ext=l,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,g){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var f=0;f<u.length;++f){var T=u[f];typeof T=="number"?this._attribs.push(new o(f,1,T)):Array.isArray(T)&&this._attribs.push(new o(f,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=g||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,g){g=g||0;var f=this.gl;this._useElements?f.drawElements(u,l,this._elementsType,g):f.drawArrays(u,g,l)};function c(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=c},2944:function(v,p,r){var t=r(3778),o=r(7220);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function c(u,l,g,f){var T=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),h;return T?h=t(u,T):h=o(u),h.update(l,g,f),h}v.exports=c},2598:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r}},5879:function(v,p,r){v.exports=c;var t=r(5415),o=r(899),n=r(9305);function c(u,l){var g=t(u[0],u[1],u[2]),f=t(l[0],l[1],l[2]);o(g,g),o(f,f);var T=n(g,f);return T>1?0:Math.acos(T)}},8827:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2],l=o[0],g=o[1],f=o[2];return r[0]=c*f-u*g,r[1]=u*l-n*f,r[2]=n*g-c*l,r}},5981:function(v,p,r){v.exports=r(8288)},8288:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2];return Math.sqrt(o*o+n*n+c*c)}},8629:function(v,p,r){v.exports=r(7979)},7979:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r}},9305:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,r){v.exports=o;var t=r(154);function o(n,c){var u=n[0],l=n[1],g=n[2],f=c[0],T=c[1],h=c[2];return Math.abs(u-f)<=t*Math.max(1,Math.abs(u),Math.abs(f))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(g-h)<=t*Math.max(1,Math.abs(g),Math.abs(h))}},5777:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(v,p,r){v.exports=o;var t=r(8501)();function o(n,c,u,l,g,f){var T,h;for(c||(c=3),u||(u=0),l?h=Math.min(l*c+u,n.length):h=n.length,T=u;T<h;T+=c)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],g(t,t,f),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},5415:function(v){v.exports=p;function p(r,t,o){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=o,n}},2858:function(v,p,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(v,p,r){v.exports=r(4693)},4693:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2];return Math.sqrt(t*t+o*o+n*n)}},1868:function(v){v.exports=p;function p(r,t,o,n){var c=t[0],u=t[1],l=t[2];return r[0]=c+n*(o[0]-c),r[1]=u+n*(o[1]-u),r[2]=l+n*(o[2]-l),r}},1716:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r}},3605:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r}},5733:function(v,p,r){v.exports=r(105)},105:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r}},435:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],c=t[2],u=o*o+n*n+c*c;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},6660:function(v){v.exports=p;function p(r,t){t=t||1;var o=Math.random()*2*Math.PI,n=Math.random()*2-1,c=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(o)*c,r[1]=Math.sin(o)*c,r[2]=n*t,r}},392:function(v){v.exports=p;function p(r,t,o,n){var c=o[1],u=o[2],l=t[1]-c,g=t[2]-u,f=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=c+l*T-g*f,r[2]=u+l*f+g*T,r}},3222:function(v){v.exports=p;function p(r,t,o,n){var c=o[0],u=o[2],l=t[0]-c,g=t[2]-u,f=Math.sin(n),T=Math.cos(n);return r[0]=c+g*f+l*T,r[1]=t[1],r[2]=u+g*T-l*f,r}},3388:function(v){v.exports=p;function p(r,t,o,n){var c=o[0],u=o[1],l=t[0]-c,g=t[1]-u,f=Math.sin(n),T=Math.cos(n);return r[0]=c+l*T-g*f,r[1]=u+l*f+g*T,r[2]=t[2],r}},1624:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r}},6722:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t[0]+o[0]*n,r[1]=t[1]+o[1]*n,r[2]=t[2]+o[2]*n,r}},831:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t,r[1]=o,r[2]=n,r}},5294:function(v,p,r){v.exports=r(6403)},3303:function(v,p,r){v.exports=r(4337)},6403:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2];return o*o+n*n+c*c}},4337:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2];return t*t+o*o+n*n}},8921:function(v,p,r){v.exports=r(911)},911:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r}},9908:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2];return r[0]=n*o[0]+c*o[3]+u*o[6],r[1]=n*o[1]+c*o[4]+u*o[7],r[2]=n*o[2]+c*o[5]+u*o[8],r}},3255:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2],l=o[3]*n+o[7]*c+o[11]*u+o[15];return l=l||1,r[0]=(o[0]*n+o[4]*c+o[8]*u+o[12])/l,r[1]=(o[1]*n+o[5]*c+o[9]*u+o[13])/l,r[2]=(o[2]*n+o[6]*c+o[10]*u+o[14])/l,r}},6568:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2],l=o[0],g=o[1],f=o[2],T=o[3],h=T*n+g*u-f*c,s=T*c+f*n-l*u,d=T*u+l*c-g*n,A=-l*n-g*c-f*u;return r[0]=h*T+A*-l+s*-f-d*-g,r[1]=s*T+A*-g+d*-l-h*-f,r[2]=d*T+A*-f+h*-g-s*-l,r}},3433:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r[3]=t[3]+o[3],r}},1413:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(o*o+n*n+c*c+u*u)}},205:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r[3]=t[3]/o[3],r}},4242:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(v){v.exports=p;function p(r,t,o,n){var c=new Float32Array(4);return c[0]=r,c[1]=t,c[2]=o,c[3]=n,c}},4020:function(v,p,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],c=r[3];return Math.sqrt(t*t+o*o+n*n+c*c)}},8746:function(v){v.exports=p;function p(r,t,o,n){var c=t[0],u=t[1],l=t[2],g=t[3];return r[0]=c+n*(o[0]-c),r[1]=u+n*(o[1]-u),r[2]=l+n*(o[2]-l),r[3]=g+n*(o[3]-g),r}},3030:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r[3]=Math.max(t[3],o[3]),r}},2170:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r[3]=Math.min(t[3],o[3]),r}},746:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r[3]=t[3]*o[3],r}},6459:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],c=t[2],u=t[3],l=o*o+n*n+c*c+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=o*l,r[1]=n*l,r[2]=c*l,r[3]=u*l),r}},3770:function(v,p,r){var t=r(381),o=r(5510);v.exports=n;function n(c,u){return u=u||1,c[0]=Math.random(),c[1]=Math.random(),c[2]=Math.random(),c[3]=Math.random(),t(c,c),o(c,c,u),c}},5510:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r[3]=t[3]*o,r}},4224:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t[0]+o[0]*n,r[1]=t[1]+o[1]*n,r[2]=t[2]+o[2]*n,r[3]=t[3]+o[3]*n,r}},6453:function(v){v.exports=p;function p(r,t,o,n,c){return r[0]=t,r[1]=o,r[2]=n,r[3]=c,r}},1542:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2],u=t[3]-r[3];return o*o+n*n+c*c+u*u}},9037:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],c=r[3];return t*t+o*o+n*n+c*c}},2705:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r[3]=t[3]-o[3],r}},6342:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2],l=t[3];return r[0]=o[0]*n+o[4]*c+o[8]*u+o[12]*l,r[1]=o[1]*n+o[5]*c+o[9]*u+o[13]*l,r[2]=o[2]*n+o[6]*c+o[10]*u+o[14]*l,r[3]=o[3]*n+o[7]*c+o[11]*u+o[15]*l,r}},5022:function(v){v.exports=p;function p(r,t,o){var n=t[0],c=t[1],u=t[2],l=o[0],g=o[1],f=o[2],T=o[3],h=T*n+g*u-f*c,s=T*c+f*n-l*u,d=T*u+l*c-g*n,A=-l*n-g*c-f*u;return r[0]=h*T+A*-l+s*-f-d*-g,r[1]=s*T+A*-g+d*-l-h*-f,r[2]=d*T+A*-f+h*-g-s*-l,r[3]=t[3],r}},9365:function(v,p,r){var t=r(8096),o=r(7896);v.exports=n;function n(c){for(var u=Array.isArray(c)?c:t(c),l=0;l<u.length;l++){var g=u[l];if(g.type==="preprocessor"){var f=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(f&&f[2]){var T=f[1],h=f[2];return(T?o(h):h).trim()}}}}},3193:function(v,p,r){v.exports=m;var t=r(399),o=r(9746),n=r(9525),c=r(9458),u=r(3585),l=999,g=9999,f=0,T=1,h=2,s=3,d=4,A=5,w=6,C=7,b=8,S=9,x=10,i=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function m(k){var I=0,U=0,z=l,F,B,O=[],N=[],Y=1,$=0,te=0,ie=!1,ce=!1,J="",Z;k=k||{};var ae=n,j=t;k.version==="300 es"&&(ae=u,j=c);for(var q={},oe={},I=0;I<ae.length;I++)q[ae[I]]=!0;for(var I=0;I<j.length;I++)oe[j[I]]=!0;return function(He){return N=[],He!==null?K(He):se()};function Q(He){He.length&&N.push({type:E[z],data:He,position:te,line:Y,column:$})}function K(He){I=0,He.toString&&(He=He.toString()),J+=He.replace(/\r\n/g,`
`),Z=J.length;for(var De;F=J[I],I<Z;){switch(De=I,z){case f:I=Te();break;case T:I=Ee();break;case h:I=ye();break;case s:I=ze();break;case d:I=me();break;case i:I=Se();break;case A:I=Ce();break;case g:I=Ne();break;case S:I=fe();break;case l:I=ne();break}if(De!==I)switch(J[De]){case`
`:$=0,++Y;break;default:++$;break}}return U+=I,J=J.slice(I),N}function se(He){return O.length&&Q(O.join("")),z=x,Q("(eof)"),N}function ne(){return O=O.length?[]:O,B==="/"&&F==="*"?(te=U+I-1,z=f,B=F,I+1):B==="/"&&F==="/"?(te=U+I-1,z=T,B=F,I+1):F==="#"?(z=h,te=U+I,I):/\s/.test(F)?(z=S,te=U+I,I):(ie=/\d/.test(F),ce=/[^\w_]/.test(F),te=U+I,z=ie?d:ce?s:g,I)}function fe(){return/[^\s]/g.test(F)?(Q(O.join("")),z=l,I):(O.push(F),B=F,I+1)}function ye(){return(F==="\r"||F===`
`)&&B!=="\\"?(Q(O.join("")),z=l,I):(O.push(F),B=F,I+1)}function Ee(){return ye()}function Te(){return F==="/"&&B==="*"?(O.push(F),Q(O.join("")),z=l,I+1):(O.push(F),B=F,I+1)}function ze(){if(B==="."&&/\d/.test(F))return z=A,I;if(B==="/"&&F==="*")return z=f,I;if(B==="/"&&F==="/")return z=T,I;if(F==="."&&O.length){for(;ke(O););return z=A,I}if(F===";"||F===")"||F==="("){if(O.length)for(;ke(O););return Q(F),z=l,I+1}var He=O.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||He){for(;ke(O););return z=l,I}return O.push(F),B=F,I+1}function ke(He){var De=0,Ve,at;do{if(Ve=o.indexOf(He.slice(0,He.length+De).join("")),at=o[Ve],Ve===-1){if(De--+He.length>0)continue;at=He.slice(0,1).join("")}return Q(at),te+=at.length,O=O.slice(at.length),O.length}while(!0)}function Se(){return/[^a-fA-F0-9]/.test(F)?(Q(O.join("")),z=l,I):(O.push(F),B=F,I+1)}function me(){return F==="."||/[eE]/.test(F)?(O.push(F),z=A,B=F,I+1):F==="x"&&O.length===1&&O[0]==="0"?(z=i,O.push(F),B=F,I+1):/[^\d]/.test(F)?(Q(O.join("")),z=l,I):(O.push(F),B=F,I+1)}function Ce(){return F==="f"&&(O.push(F),B=F,I+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(B)?(O.push(F),B=F,I+1):/[^\d]/.test(F)?(Q(O.join("")),z=l,I):(O.push(F),B=F,I+1)}function Ne(){if(/[^\d\w_]/.test(F)){var He=O.join("");return oe[He]?z=b:q[He]?z=C:z=w,Q(O.join("")),z=l,I}return O.push(F),B=F,I+1}}},3585:function(v,p,r){var t=r(9525);t=t.slice().filter(function(o){return!/^(gl\_|texture)/.test(o)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,r){var t=r(399);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,r){var t=r(3193);v.exports=o;function o(n,c){var u=t(c),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],o=0;o<p.length-1;o++)t.push(p[o],r[o]||"");return t.push(p[o]),t.join("")}},5233:function(v,p,r){var t=r(4846);function o(){var n=!1;try{var c=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch{n=!1}return n}v.exports=t&&o()},2183:function(v,p,r){v.exports=s;var t=r(417),o=r(8211).H;function n(d,A,w){this.vertices=d,this.adjacent=A,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var A=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=A};function c(d,A,w){this.vertices=d,this.cell=A,this.index=w}function u(d,A){return o(d.vertices,A.vertices)}function l(d){return function(){var A=this.tuple;return d.apply(this,A)}}function g(d){var A=t[d+1];return A||(A=t),l(A)}var f=[];function T(d,A,w){this.dimension=d,this.vertices=A,this.simplices=w,this.interior=w.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var b=f[d];b||(b=f[d]=g(d)),this.orient=b}var h=T.prototype;h.handleBoundaryDegeneracy=function(d,A){var w=this.dimension,C=this.vertices.length-1,b=this.tuple,S=this.vertices,x=[d];for(d.lastVisited=-C;x.length>0;){d=x.pop();for(var i=d.adjacent,E=0;E<=w;++E){var m=i[E];if(!(!m.boundary||m.lastVisited<=-C)){for(var k=m.vertices,I=0;I<=w;++I){var U=k[I];U<0?b[I]=A:b[I]=S[U]}var z=this.orient();if(z>0)return m;m.lastVisited=-C,z===0&&x.push(m)}}}return null},h.walk=function(d,A){var w=this.vertices.length-1,C=this.dimension,b=this.vertices,S=this.tuple,x=A?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[x];e:for(;!i.boundary;){for(var E=i.vertices,m=i.adjacent,k=0;k<=C;++k)S[k]=b[E[k]];i.lastVisited=w;for(var k=0;k<=C;++k){var I=m[k];if(!(I.lastVisited>=w)){var U=S[k];S[k]=d;var z=this.orient();if(S[k]=U,z<0){i=I;continue e}else I.boundary?I.lastVisited=-w:I.lastVisited=w}}return}return i},h.addPeaks=function(d,A){var w=this.vertices.length-1,C=this.dimension,b=this.vertices,S=this.tuple,x=this.interior,i=this.simplices,E=[A];A.lastVisited=w,A.vertices[A.vertices.indexOf(-1)]=w,A.boundary=!1,x.push(A);for(var m=[];E.length>0;){var A=E.pop(),k=A.vertices,I=A.adjacent,U=k.indexOf(w);if(!(U<0)){for(var z=0;z<=C;++z)if(z!==U){var F=I[z];if(!(!F.boundary||F.lastVisited>=w)){var B=F.vertices;if(F.lastVisited!==-w){for(var O=0,N=0;N<=C;++N)B[N]<0?(O=N,S[N]=d):S[N]=b[B[N]];var Y=this.orient();if(Y>0){B[O]=w,F.boundary=!1,x.push(F),E.push(F),F.lastVisited=w;continue}else F.lastVisited=-w}var $=F.adjacent,te=k.slice(),ie=I.slice(),ce=new n(te,ie,!0);i.push(ce);var J=$.indexOf(A);if(!(J<0)){$[J]=ce,ie[U]=F,te[z]=-1,ie[z]=A,I[z]=ce,ce.flip();for(var N=0;N<=C;++N){var Z=te[N];if(!(Z<0||Z===w)){for(var ae=new Array(C-1),j=0,q=0;q<=C;++q){var oe=te[q];oe<0||q===N||(ae[j++]=oe)}m.push(new c(ae,ce,N))}}}}}}}m.sort(u);for(var z=0;z+1<m.length;z+=2){var Q=m[z],K=m[z+1],se=Q.index,ne=K.index;se<0||ne<0||(Q.cell.adjacent[Q.index]=K.cell,K.cell.adjacent[K.index]=Q.cell)}},h.insert=function(d,A){var w=this.vertices;w.push(d);var C=this.walk(d,A);if(C){for(var b=this.dimension,S=this.tuple,x=0;x<=b;++x){var i=C.vertices[x];i<0?S[x]=d:S[x]=w[i]}var E=this.orient(S);E<0||E===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},h.boundary=function(){for(var d=this.dimension,A=[],w=this.simplices,C=w.length,b=0;b<C;++b){var S=w[b];if(S.boundary){for(var x=new Array(d),i=S.vertices,E=0,m=0,k=0;k<=d;++k)i[k]>=0?x[E++]=i[k]:m=k&1;if(m===(d&1)){var I=x[0];x[0]=x[1],x[1]=I}A.push(x)}}return A};function s(d,A){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(w<=C)throw new Error("Must input at least d+1 points");var b=d.slice(0,C+1),S=t.apply(void 0,b);if(S===0)throw new Error("Input not in general position");for(var x=new Array(C+1),i=0;i<=C;++i)x[i]=i;S<0&&(x[0]=1,x[1]=0);for(var E=new n(x,new Array(C+1),!1),m=E.adjacent,k=new Array(C+2),i=0;i<=C;++i){for(var I=x.slice(),U=0;U<=C;++U)U===i&&(I[U]=-1);var z=I[0];I[0]=I[1],I[1]=z;var F=new n(I,new Array(C+1),!0);m[i]=F,k[i]=F}k[C+1]=E;for(var i=0;i<=C;++i)for(var I=m[i].vertices,B=m[i].adjacent,U=0;U<=C;++U){var O=I[U];if(O<0){B[U]=E;continue}for(var N=0;N<=C;++N)m[N].vertices.indexOf(O)<0&&(B[U]=m[N])}for(var Y=new T(C,b,k),$=!!A,i=C+1;i<w;++i)Y.insert(d[i],$);return Y.boundary()}},9014:function(v,p,r){var t=r(5070),o=0,n=1,c=2;v.exports=E;function u(m,k,I,U,z){this.mid=m,this.left=k,this.right=I,this.leftPoints=U,this.rightPoints=z,this.count=(k?k.count:0)+(I?I.count:0)+U.length}var l=u.prototype;function g(m,k){m.mid=k.mid,m.left=k.left,m.right=k.right,m.leftPoints=k.leftPoints,m.rightPoints=k.rightPoints,m.count=k.count}function f(m,k){var I=S(k);m.mid=I.mid,m.left=I.left,m.right=I.right,m.leftPoints=I.leftPoints,m.rightPoints=I.rightPoints,m.count=I.count}function T(m,k){var I=m.intervals([]);I.push(k),f(m,I)}function h(m,k){var I=m.intervals([]),U=I.indexOf(k);return U<0?o:(I.splice(U,1),f(m,I),n)}l.intervals=function(m){return m.push.apply(m,this.leftPoints),this.left&&this.left.intervals(m),this.right&&this.right.intervals(m),m},l.insert=function(m){var k=this.count-this.leftPoints.length;if(this.count+=1,m[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?T(this,m):this.left.insert(m):this.left=S([m]);else if(m[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?T(this,m):this.right.insert(m):this.right=S([m]);else{var I=t.ge(this.leftPoints,m,C),U=t.ge(this.rightPoints,m,b);this.leftPoints.splice(I,0,m),this.rightPoints.splice(U,0,m)}},l.remove=function(m){var k=this.count-this.leftPoints;if(m[1]<this.mid){if(!this.left)return o;var I=this.right?this.right.count:0;if(4*I>3*(k-1))return h(this,m);var U=this.left.remove(m);return U===c?(this.left=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else if(m[0]>this.mid){if(!this.right)return o;var z=this.left?this.left.count:0;if(4*z>3*(k-1))return h(this,m);var U=this.right.remove(m);return U===c?(this.right=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else{if(this.count===1)return this.leftPoints[0]===m?c:o;if(this.leftPoints.length===1&&this.leftPoints[0]===m){if(this.left&&this.right){for(var F=this,B=this.left;B.right;)F=B,B=B.right;if(F===this)B.right=this.right;else{var O=this.left,U=this.right;F.count-=B.count,F.right=B.left,B.left=O,B.right=U}g(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return n}for(var O=t.ge(this.leftPoints,m,C);O<this.leftPoints.length&&this.leftPoints[O][0]===m[0];++O)if(this.leftPoints[O]===m){this.count-=1,this.leftPoints.splice(O,1);for(var U=t.ge(this.rightPoints,m,b);U<this.rightPoints.length&&this.rightPoints[U][1]===m[1];++U)if(this.rightPoints[U]===m)return this.rightPoints.splice(U,1),n}return o}};function s(m,k,I){for(var U=0;U<m.length&&m[U][0]<=k;++U){var z=I(m[U]);if(z)return z}}function d(m,k,I){for(var U=m.length-1;U>=0&&m[U][1]>=k;--U){var z=I(m[U]);if(z)return z}}function A(m,k){for(var I=0;I<m.length;++I){var U=k(m[I]);if(U)return U}}l.queryPoint=function(m,k){if(m<this.mid){if(this.left){var I=this.left.queryPoint(m,k);if(I)return I}return s(this.leftPoints,m,k)}else if(m>this.mid){if(this.right){var I=this.right.queryPoint(m,k);if(I)return I}return d(this.rightPoints,m,k)}else return A(this.leftPoints,k)},l.queryInterval=function(m,k,I){if(m<this.mid&&this.left){var U=this.left.queryInterval(m,k,I);if(U)return U}if(k>this.mid&&this.right){var U=this.right.queryInterval(m,k,I);if(U)return U}return k<this.mid?s(this.leftPoints,k,I):m>this.mid?d(this.rightPoints,m,I):A(this.leftPoints,I)};function w(m,k){return m-k}function C(m,k){var I=m[0]-k[0];return I||m[1]-k[1]}function b(m,k){var I=m[1]-k[1];return I||m[0]-k[0]}function S(m){if(m.length===0)return null;for(var k=[],I=0;I<m.length;++I)k.push(m[I][0],m[I][1]);k.sort(w);for(var U=k[k.length>>1],z=[],F=[],B=[],I=0;I<m.length;++I){var O=m[I];O[1]<U?z.push(O):U<O[0]?F.push(O):B.push(O)}var N=B,Y=B.slice();return N.sort(C),Y.sort(b),new u(U,S(z),S(F),N,Y)}function x(m){this.root=m}var i=x.prototype;i.insert=function(m){this.root?this.root.insert(m):this.root=new u(m[0],null,null,[m],[m])},i.remove=function(m){if(this.root){var k=this.root.remove(m);return k===c&&(this.root=null),k!==o}return!1},i.queryPoint=function(m,k){if(this.root)return this.root.queryPoint(m,k)},i.queryInterval=function(m,k,I){if(m<=k&&this.root)return this.root.queryInterval(m,k,I)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(m){return!m||m.length===0?new x(null):new x(S(m))}},9560:function(v){function p(r){for(var t=new Array(r),o=0;o<r;++o)t[o]=o;return t}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},3596:function(v){v.exports=function(p){for(var r=p.length,t,o=0;o<r;o++)if(t=p.charCodeAt(o),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(v){function p(r,t,o){return r*(1-o)+t*o}v.exports=p},7191:function(v,p,r){var t=r(4690),o=r(9823),n=r(7332),c=r(7787),u=r(7437),l=r(2142),g={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},f=o(),T=o(),h=[0,0,0,0],s=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,x,i,E,m,k){if(x||(x=[0,0,0]),i||(i=[0,0,0]),E||(E=[0,0,0]),m||(m=[0,0,0,1]),k||(k=[0,0,0,1]),!t(f,S)||(n(T,f),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(c(T)<1e-8)))return!1;var I=f[3],U=f[7],z=f[11],F=f[12],B=f[13],O=f[14],N=f[15];if(I!==0||U!==0||z!==0){h[0]=I,h[1]=U,h[2]=z,h[3]=N;var Y=u(T,T);if(!Y)return!1;l(T,T),A(m,h,T)}else m[0]=m[1]=m[2]=0,m[3]=1;if(x[0]=F,x[1]=B,x[2]=O,w(s,f),i[0]=g.length(s[0]),g.normalize(s[0],s[0]),E[0]=g.dot(s[0],s[1]),C(s[1],s[1],s[0],1,-E[0]),i[1]=g.length(s[1]),g.normalize(s[1],s[1]),E[0]/=i[1],E[1]=g.dot(s[0],s[2]),C(s[2],s[2],s[0],1,-E[1]),E[2]=g.dot(s[1],s[2]),C(s[2],s[2],s[1],1,-E[2]),i[2]=g.length(s[2]),g.normalize(s[2],s[2]),E[1]/=i[2],E[2]/=i[2],g.cross(d,s[1],s[2]),g.dot(s[0],d)<0)for(var $=0;$<3;$++)i[$]*=-1,s[$][0]*=-1,s[$][1]*=-1,s[$][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+s[0][0]-s[1][1]-s[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-s[0][0]+s[1][1]-s[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-s[0][0]-s[1][1]+s[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+s[0][0]+s[1][1]+s[2][2],0)),s[2][1]>s[1][2]&&(k[0]=-k[0]),s[0][2]>s[2][0]&&(k[1]=-k[1]),s[1][0]>s[0][1]&&(k[2]=-k[2]),!0};function A(b,S,x){var i=S[0],E=S[1],m=S[2],k=S[3];return b[0]=x[0]*i+x[4]*E+x[8]*m+x[12]*k,b[1]=x[1]*i+x[5]*E+x[9]*m+x[13]*k,b[2]=x[2]*i+x[6]*E+x[10]*m+x[14]*k,b[3]=x[3]*i+x[7]*E+x[11]*m+x[15]*k,b}function w(b,S){b[0][0]=S[0],b[0][1]=S[1],b[0][2]=S[2],b[1][0]=S[4],b[1][1]=S[5],b[1][2]=S[6],b[2][0]=S[8],b[2][1]=S[9],b[2][2]=S[10]}function C(b,S,x,i,E){b[0]=S[0]*i+x[0]*E,b[1]=S[1]*i+x[1]*E,b[2]=S[2]*i+x[2]*E}},4690:function(v){v.exports=function(r,t){var o=t[15];if(o===0)return!1;for(var n=1/o,c=0;c<16;c++)r[c]=t[c]*n;return!0}},7649:function(v,p,r){var t=r(1868),o=r(1102),n=r(7191),c=r(7787),u=r(1116),l=h(),g=h(),f=h();v.exports=T;function T(A,w,C,b){if(c(w)===0||c(C)===0)return!1;var S=n(w,l.translate,l.scale,l.skew,l.perspective,l.quaternion),x=n(C,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!S||!x?!1:(t(f.translate,l.translate,g.translate,b),t(f.skew,l.skew,g.skew,b),t(f.scale,l.scale,g.scale,b),t(f.perspective,l.perspective,g.perspective,b),u(f.quaternion,l.quaternion,g.quaternion,b),o(A,f.translate,f.scale,f.skew,f.perspective,f.quaternion),!0)}function h(){return{translate:s(),scale:s(1),skew:s(),perspective:d(),quaternion:d()}}function s(A){return[A||0,A||0,A||0]}function d(){return[0,0,0,1]}},1102:function(v,p,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var o=t.create();v.exports=function(c,u,l,g,f,T){return t.identity(c),t.fromRotationTranslation(c,T,u),c[3]=f[0],c[7]=f[1],c[11]=f[2],c[15]=f[3],t.identity(o),g[2]!==0&&(o[9]=g[2],t.multiply(c,c,o)),g[1]!==0&&(o[9]=0,o[8]=g[1],t.multiply(c,c,o)),g[0]!==0&&(o[8]=0,o[4]=g[0],t.multiply(c,c,o)),t.scale(c,c,l),c}},9298:function(v,p,r){var t=r(5070),o=r(7649),n=r(7437),c=r(6109),u=r(7115),l=r(5240),g=r(3012),f=r(998);r(3668);var T=r(899),h=[0,0,0];v.exports=w;function s(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=s.prototype;d.recalcMatrix=function(C){var b=this._time,S=t.le(b,C),x=this.computedMatrix;if(!(S<0)){var i=this._components;if(S===b.length-1)for(var E=16*S,m=0;m<16;++m)x[m]=i[E++];else{for(var k=b[S+1]-b[S],E=16*S,I=this.prevMatrix,U=!0,m=0;m<16;++m)I[m]=i[E++];for(var z=this.nextMatrix,m=0;m<16;++m)z[m]=i[E++],U=U&&I[m]===z[m];if(k<1e-6||U)for(var m=0;m<16;++m)x[m]=I[m];else o(x,I,z,(C-b[S])/k)}var F=this.computedUp;F[0]=x[1],F[1]=x[5],F[2]=x[9],T(F,F);var B=this.computedInverse;n(B,x);var O=this.computedEye,N=B[15];O[0]=B[12]/N,O[1]=B[13]/N,O[2]=B[14]/N;for(var Y=this.computedCenter,$=Math.exp(this.computedRadius[0]),m=0;m<3;++m)Y[m]=O[m]-x[2+4*m]*$}},d.idle=function(C){if(!(C<this.lastT())){for(var b=this._components,S=b.length-16,x=0;x<16;++x)b.push(b[S++]);this._time.push(C)}},d.flush=function(C){var b=t.gt(this._time,C)-2;b<0||(this._time.splice(0,b),this._components.splice(0,16*b))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,b,S,x){this.recalcMatrix(C),b=b||this.computedEye,S=S||h,x=x||this.computedUp,this.setMatrix(C,g(this.computedMatrix,b,S,x));for(var i=0,E=0;E<3;++E)i+=Math.pow(S[E]-b[E],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},d.rotate=function(C,b,S,x){this.recalcMatrix(C);var i=this.computedInverse;b&&u(i,i,b),S&&c(i,i,S),x&&l(i,i,x),this.setMatrix(C,n(this.computedMatrix,i))};var A=[0,0,0];d.pan=function(C,b,S,x){A[0]=-(b||0),A[1]=-(S||0),A[2]=-(x||0),this.recalcMatrix(C);var i=this.computedInverse;f(i,i,A),this.setMatrix(C,n(i,i))},d.translate=function(C,b,S,x){A[0]=b||0,A[1]=S||0,A[2]=x||0,this.recalcMatrix(C);var i=this.computedMatrix;f(i,i,A),this.setMatrix(C,i)},d.setMatrix=function(C,b){if(!(C<this.lastT())){this._time.push(C);for(var S=0;S<16;++S)this._components.push(b[S])}},d.setDistance=function(C,b){this.computedRadius[0]=b},d.setDistanceLimits=function(C,b){var S=this._limits;S[0]=C,S[1]=b},d.getDistanceLimits=function(C){var b=this._limits;return C?(C[0]=b[0],C[1]=b[1],C):b};function w(C){C=C||{};var b=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new s(b)}},3266:function(v,p,r){v.exports=o;var t=r(417)[3];function o(n){var c=n.length;if(c<3){for(var d=new Array(c),u=0;u<c;++u)d[u]=u;return c===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(c),u=0;u<c;++u)l[u]=u;l.sort(function(b,S){var x=n[b][0]-n[S][0];return x||n[b][1]-n[S][1]});for(var g=[l[0],l[1]],f=[l[0],l[1]],u=2;u<c;++u){for(var T=l[u],h=n[T],s=g.length;s>1&&t(n[g[s-2]],n[g[s-1]],h)<=0;)s-=1,g.pop();for(g.push(T),s=f.length;s>1&&t(n[f[s-2]],n[f[s-1]],h)>=0;)s-=1,f.pop();f.push(T)}for(var d=new Array(f.length+g.length-2),A=0,u=0,w=g.length;u<w;++u)d[A++]=g[u];for(var C=f.length-2;C>0;--C)d[A++]=f[C];return d}},6145:function(v,p,r){v.exports=o;var t=r(4110);function o(n,c){c||(c=n,n=window);var u=0,l=0,g=0,f={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function h(m){var k=!1;return"altKey"in m&&(k=k||m.altKey!==f.alt,f.alt=!!m.altKey),"shiftKey"in m&&(k=k||m.shiftKey!==f.shift,f.shift=!!m.shiftKey),"ctrlKey"in m&&(k=k||m.ctrlKey!==f.control,f.control=!!m.ctrlKey),"metaKey"in m&&(k=k||m.metaKey!==f.meta,f.meta=!!m.metaKey),k}function s(m,k){var I=t.x(k),U=t.y(k);"buttons"in k&&(m=k.buttons|0),(m!==u||I!==l||U!==g||h(k))&&(u=m|0,l=I||0,g=U||0,c&&c(u,l,g,f))}function d(m){s(0,m)}function A(){(u||l||g||f.shift||f.alt||f.meta||f.control)&&(l=g=0,u=0,f.shift=f.alt=f.control=f.meta=!1,c&&c(0,0,0,f))}function w(m){h(m)&&c&&c(u,l,g,f)}function C(m){t.buttons(m)===0?s(0,m):s(u,m)}function b(m){s(u|t.buttons(m),m)}function S(m){s(u&~t.buttons(m),m)}function x(){T||(T=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",b),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",A),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",A),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function i(){T&&(T=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",b),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",A),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",A),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}x();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return T},set:function(m){m?x():i()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),E}},2565:function(v){var p={left:0,top:0};v.exports=r;function r(o,n,c){n=n||o.currentTarget||o.srcElement,Array.isArray(c)||(c=[0,0]);var u=o.clientX||0,l=o.clientY||0,g=t(n);return c[0]=u-g.left,c[1]=l-g.top,c}function t(o){return o===window||o===document||o===document.body?p:o.getBoundingClientRect()}},4110:function(v,p){function r(c){if(typeof c=="object"){if("buttons"in c)return c.buttons;if("which"in c){var u=c.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in c){var u=c.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}p.buttons=r;function t(c){return c.target||c.srcElement||window}p.element=t;function o(c){if(typeof c=="object"){if("offsetX"in c)return c.offsetX;var u=t(c),l=u.getBoundingClientRect();return c.clientX-l.left}return 0}p.x=o;function n(c){if(typeof c=="object"){if("offsetY"in c)return c.offsetY;var u=t(c),l=u.getBoundingClientRect();return c.clientY-l.top}return 0}p.y=n},6475:function(v,p,r){var t=r(14);v.exports=o;function o(n,c,u){typeof n=="function"&&(u=!!c,c=n,n=window);var l=t("ex",n),g=function(f){u&&f.preventDefault();var T=f.deltaX||0,h=f.deltaY||0,s=f.deltaZ||0,d=f.deltaMode,A=1;switch(d){case 1:A=l;break;case 2:A=window.innerHeight;break}if(T*=A,h*=A,s*=A,T||h||s)return c(T,h,s,f)};return n.addEventListener("wheel",g),g}},9284:function(v,p,r){var t=r(5306);v.exports=c;var o={"false,0,1":function(l,g,f,T,h){return function(d,A,w,C){var b=d.shape[0]|0,S=d.shape[1]|0,x=d.data,i=d.offset|0,E=d.stride[0]|0,m=d.stride[1]|0,k=i,I,U=-E|0,z=0,F=-m|0,B=0,O=-E-m|0,N=0,Y=E|0,$=m-E*b|0,te=0,ie=0,ce=0,J=2*b|0,Z=T(J),ae=T(J),j=0,q=0,oe=-1,Q=-1,K=0,se=-b|0,ne=b|0,fe=0,ye=-b-1|0,Ee=b-1|0,Te=0,ze=0,ke=0;for(te=0;te<b;++te)Z[j++]=f(x[k],A,w,C),k+=Y;if(k+=$,S>0){if(ie=1,Z[j++]=f(x[k],A,w,C),k+=Y,b>0)for(te=1,I=x[k],q=Z[j]=f(I,A,w,C),K=Z[j+oe],fe=Z[j+se],Te=Z[j+ye],(q!==K||q!==fe||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,K,fe,Te,A,w,C),ze=ae[j]=ce++),j+=1,k+=Y,te=2;te<b;++te)I=x[k],q=Z[j]=f(I,A,w,C),K=Z[j+oe],fe=Z[j+se],Te=Z[j+ye],(q!==K||q!==fe||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,K,fe,Te,A,w,C),ze=ae[j]=ce++,Te!==K&&g(ae[j+oe],ze,N,z,Te,K,A,w,C)),j+=1,k+=Y;for(k+=$,j=0,ke=oe,oe=Q,Q=ke,ke=se,se=ne,ne=ke,ke=ye,ye=Ee,Ee=ke,ie=2;ie<S;++ie){if(Z[j++]=f(x[k],A,w,C),k+=Y,b>0)for(te=1,I=x[k],q=Z[j]=f(I,A,w,C),K=Z[j+oe],fe=Z[j+se],Te=Z[j+ye],(q!==K||q!==fe||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,K,fe,Te,A,w,C),ze=ae[j]=ce++,Te!==fe&&g(ae[j+se],ze,B,N,fe,Te,A,w,C)),j+=1,k+=Y,te=2;te<b;++te)I=x[k],q=Z[j]=f(I,A,w,C),K=Z[j+oe],fe=Z[j+se],Te=Z[j+ye],(q!==K||q!==fe||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,K,fe,Te,A,w,C),ze=ae[j]=ce++,Te!==fe&&g(ae[j+se],ze,B,N,fe,Te,A,w,C),Te!==K&&g(ae[j+oe],ze,N,z,Te,K,A,w,C)),j+=1,k+=Y;ie&1&&(j=0),ke=oe,oe=Q,Q=ke,ke=se,se=ne,ne=ke,ke=ye,ye=Ee,Ee=ke,k+=$}}h(ae),h(Z)}},"false,1,0":function(l,g,f,T,h){return function(d,A,w,C){var b=d.shape[0]|0,S=d.shape[1]|0,x=d.data,i=d.offset|0,E=d.stride[0]|0,m=d.stride[1]|0,k=i,I,U=-E|0,z=0,F=-m|0,B=0,O=-E-m|0,N=0,Y=m|0,$=E-m*S|0,te=0,ie=0,ce=0,J=2*S|0,Z=T(J),ae=T(J),j=0,q=0,oe=-1,Q=-1,K=0,se=-S|0,ne=S|0,fe=0,ye=-S-1|0,Ee=S-1|0,Te=0,ze=0,ke=0;for(ie=0;ie<S;++ie)Z[j++]=f(x[k],A,w,C),k+=Y;if(k+=$,b>0){if(te=1,Z[j++]=f(x[k],A,w,C),k+=Y,S>0)for(ie=1,I=x[k],q=Z[j]=f(I,A,w,C),fe=Z[j+se],K=Z[j+oe],Te=Z[j+ye],(q!==fe||q!==K||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,fe,K,Te,A,w,C),ze=ae[j]=ce++),j+=1,k+=Y,ie=2;ie<S;++ie)I=x[k],q=Z[j]=f(I,A,w,C),fe=Z[j+se],K=Z[j+oe],Te=Z[j+ye],(q!==fe||q!==K||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,fe,K,Te,A,w,C),ze=ae[j]=ce++,Te!==K&&g(ae[j+oe],ze,B,N,K,Te,A,w,C)),j+=1,k+=Y;for(k+=$,j=0,ke=se,se=ne,ne=ke,ke=oe,oe=Q,Q=ke,ke=ye,ye=Ee,Ee=ke,te=2;te<b;++te){if(Z[j++]=f(x[k],A,w,C),k+=Y,S>0)for(ie=1,I=x[k],q=Z[j]=f(I,A,w,C),fe=Z[j+se],K=Z[j+oe],Te=Z[j+ye],(q!==fe||q!==K||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,fe,K,Te,A,w,C),ze=ae[j]=ce++,Te!==fe&&g(ae[j+se],ze,N,z,Te,fe,A,w,C)),j+=1,k+=Y,ie=2;ie<S;++ie)I=x[k],q=Z[j]=f(I,A,w,C),fe=Z[j+se],K=Z[j+oe],Te=Z[j+ye],(q!==fe||q!==K||q!==Te)&&(z=x[k+U],B=x[k+F],N=x[k+O],l(te,ie,I,z,B,N,q,fe,K,Te,A,w,C),ze=ae[j]=ce++,Te!==K&&g(ae[j+oe],ze,B,N,K,Te,A,w,C),Te!==fe&&g(ae[j+se],ze,N,z,Te,fe,A,w,C)),j+=1,k+=Y;te&1&&(j=0),ke=se,se=ne,ne=ke,ke=oe,oe=Q,Q=ke,ke=ye,ye=Ee,Ee=ke,k+=$}}h(ae),h(Z)}}};function n(u,l,g,f,T,h){var s=[h,T].join(","),d=o[s];return d(u,l,g,t.mallocUint32,t.freeUint32)}function c(u){function l(A){throw new Error("ndarray-extract-contour: "+A)}typeof u!="object"&&l("Must specify arguments");var g=u.order;Array.isArray(g)||l("Must specify order");var f=u.arrayArguments||1;f<1&&l("Must have at least one array argument");var T=u.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var h=u.getters||[],s=new Array(f),d=0;d<f;++d)h.indexOf(d)>=0?s[d]=!0:s[d]=!1;return n(u.vertex,u.cell,u.phase,T,g,s)}},9144:function(v,p,r){var t=r(3094),o={zero:function(w,C,b,S){var x=w[0],i=b[0];S|=0;var E=0,m=i;for(E=0;E<x;++E)C[S]=0,S+=m},fdTemplate1:function(w,C,b,S,x,i,E){var m=w[0],k=b[0],I=i[0],U=-1*k,z=k;S|=0,E|=0;var F=0,B=k,O=I;for(F=0;F<m;++F)x[E]=.5*(C[S+U]-C[S+z]),S+=B,E+=O},fdTemplate2:function(w,C,b,S,x,i,E,m,k,I){var U=w[0],z=w[1],F=b[0],B=b[1],O=i[0],N=i[1],Y=k[0],$=k[1],te=-1*F,ie=F,ce=-1*B,J=B;S|=0,E|=0,I|=0;var Z=0,ae=0,j=B,q=F-z*B,oe=N,Q=O-z*N,K=$,se=Y-z*$;for(ae=0;ae<U;++ae){for(Z=0;Z<z;++Z)x[E]=.5*(C[S+te]-C[S+ie]),m[I]=.5*(C[S+ce]-C[S+J]),S+=j,E+=oe,I+=K;S+=q,E+=Q,I+=se}}},n={cdiff:function(w){var C={};return function(S,x,i){var E=S.dtype,m=S.order,k=x.dtype,I=x.order,U=i.dtype,z=i.order,F=[E,m.join(),k,I.join(),U,z.join()].join(),B=C[F];return B||(C[F]=B=w([E,m,k,I,U,z])),B(S.shape.slice(0),S.data,S.stride,S.offset|0,x.data,x.stride,x.offset|0,i.data,i.stride,i.offset|0)}},zero:function(w){var C={};return function(S){var x=S.dtype,i=S.order,E=[x,i.join()].join(),m=C[E];return m||(C[E]=m=w([x,i])),m(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(w){var C={};return function(S,x){var i=S.dtype,E=S.order,m=x.dtype,k=x.order,I=[i,E.join(),m,k.join()].join(),U=C[I];return U||(C[I]=U=w([i,E,m,k])),U(S.shape.slice(0),S.data,S.stride,S.offset|0,x.data,x.stride,x.offset|0)}},fdTemplate2:function(w){var C={};return function(S,x,i){var E=S.dtype,m=S.order,k=x.dtype,I=x.order,U=i.dtype,z=i.order,F=[E,m.join(),k,I.join(),U,z.join()].join(),B=C[F];return B||(C[F]=B=w([E,m,k,I,U,z])),B(S.shape.slice(0),S.data,S.stride,S.offset|0,x.data,x.stride,x.offset|0,i.data,i.stride,i.offset|0)}}};function c(w){var C=n[w.funcName];return C(u.bind(void 0,w))}function u(w){return o[w.funcName]}function l(w){return c({funcName:w.funcName})}var g={},f={},T=l({funcName:"cdiff"}),h=l({funcName:"zero"});function s(w){return w in g?g[w]:g[w]=l({funcName:"fdTemplate"+w})}function d(w,C,b,S){return function(x,i){var E=i.shape.slice();return E[0]>2&&E[1]>2&&S(i.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),x.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),x.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(b(i.pick(0,-1).lo(1).hi(E[1]-2),x.pick(0,-1,1).lo(1).hi(E[1]-2)),C(x.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(b(i.pick(E[0]-1,-1).lo(1).hi(E[1]-2),x.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),C(x.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(b(i.pick(-1,0).lo(1).hi(E[0]-2),x.pick(-1,0,0).lo(1).hi(E[0]-2)),C(x.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(b(i.pick(-1,E[1]-1).lo(1).hi(E[0]-2),x.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),C(x.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),x.set(0,0,0,0),x.set(0,0,1,0),x.set(E[0]-1,0,0,0),x.set(E[0]-1,0,1,0),x.set(0,E[1]-1,0,0),x.set(0,E[1]-1,1,0),x.set(E[0]-1,E[1]-1,0,0),x.set(E[0]-1,E[1]-1,1,0),x}}function A(w){var C=w.join(),E=f[C];if(E)return E;for(var b=w.length,S=[T,h],x=1;x<=b;++x)S.push(s(x));var i=d,E=i.apply(void 0,S);return f[C]=E,E}v.exports=function(C,b,S){if(Array.isArray(S)||(typeof S=="string"?S=t(b.dimension,S):S=t(b.dimension,"clamp")),b.size===0)return C;if(b.dimension===0)return C.set(0),C;var x=A(S);return x(C,b)}},3581:function(v){function p(c,u){var l=Math.floor(u),g=u-l,f=0<=l&&l<c.shape[0],T=0<=l+1&&l+1<c.shape[0],h=f?+c.get(l):0,s=T?+c.get(l+1):0;return(1-g)*h+g*s}function r(c,u,l){var g=Math.floor(u),f=u-g,T=0<=g&&g<c.shape[0],h=0<=g+1&&g+1<c.shape[0],s=Math.floor(l),d=l-s,A=0<=s&&s<c.shape[1],w=0<=s+1&&s+1<c.shape[1],C=T&&A?c.get(g,s):0,b=T&&w?c.get(g,s+1):0,S=h&&A?c.get(g+1,s):0,x=h&&w?c.get(g+1,s+1):0;return(1-d)*((1-f)*C+f*S)+d*((1-f)*b+f*x)}function t(c,u,l,g){var f=Math.floor(u),T=u-f,h=0<=f&&f<c.shape[0],s=0<=f+1&&f+1<c.shape[0],d=Math.floor(l),A=l-d,w=0<=d&&d<c.shape[1],C=0<=d+1&&d+1<c.shape[1],b=Math.floor(g),S=g-b,x=0<=b&&b<c.shape[2],i=0<=b+1&&b+1<c.shape[2],E=h&&w&&x?c.get(f,d,b):0,m=h&&C&&x?c.get(f,d+1,b):0,k=s&&w&&x?c.get(f+1,d,b):0,I=s&&C&&x?c.get(f+1,d+1,b):0,U=h&&w&&i?c.get(f,d,b+1):0,z=h&&C&&i?c.get(f,d+1,b+1):0,F=s&&w&&i?c.get(f+1,d,b+1):0,B=s&&C&&i?c.get(f+1,d+1,b+1):0;return(1-S)*((1-A)*((1-T)*E+T*k)+A*((1-T)*m+T*I))+S*((1-A)*((1-T)*U+T*F)+A*((1-T)*z+T*B))}function o(c){var u=c.shape.length|0,l=new Array(u),g=new Array(u),f=new Array(u),T=new Array(u),h,s;for(h=0;h<u;++h)s=+arguments[h+1],l[h]=Math.floor(s),g[h]=s-l[h],f[h]=0<=l[h]&&l[h]<c.shape[h],T[h]=0<=l[h]+1&&l[h]+1<c.shape[h];var d=0,A,w,C;e:for(h=0;h<1<<u;++h){for(w=1,C=c.offset,A=0;A<u;++A)if(h&1<<A){if(!T[A])continue e;w*=g[A],C+=c.stride[A]*(l[A]+1)}else{if(!f[A])continue e;w*=1-g[A],C+=c.stride[A]*l[A]}d+=w*c.data[C]}return d}function n(c,u,l,g){switch(c.shape.length){case 0:return 0;case 1:return p(c,u);case 2:return r(c,u,l);case 3:return t(c,u,l,g);default:return o.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},7498:function(v,p){var r={"float64,2,1,0":function(){return function(f,T,h,s,d){var A=f[0],w=f[1],C=f[2],b=h[0],S=h[1],x=h[2];s|=0;var i=0,E=0,m=0,k=x,I=S-C*x,U=b-w*S;for(m=0;m<A;++m){for(E=0;E<w;++E){for(i=0;i<C;++i)T[s]/=d,s+=k;s+=I}s+=U}}},"uint8,2,0,1,float64,2,1,0":function(){return function(f,T,h,s,d,A,w,C){var b=f[0],S=f[1],x=f[2],i=h[0],E=h[1],m=h[2],k=A[0],I=A[1],U=A[2];s|=0,w|=0;for(var z=s,F=w,B=f[0]|0;B>0;){B<64?(b=B,B=0):(b=64,B-=64);for(var O=f[1]|0;O>0;){O<64?(S=O,O=0):(S=64,O-=64),s=z+B*i+O*E,w=F+B*k+O*I;var N=0,Y=0,$=0,te=m,ie=i-x*m,ce=E-b*i,J=U,Z=k-x*U,ae=I-b*k;for($=0;$<S;++$){for(Y=0;Y<b;++Y){for(N=0;N<x;++N)T[s]=d[w]*C,s+=te,w+=J;s+=ie,w+=Z}s+=ce,w+=ae}}}}},"float32,1,0,float32,1,0":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=h[0],x=h[1],i=A[0],E=A[1];s|=0,w|=0;var m=0,k=0,I=x,U=S-b*x,z=E,F=i-b*E;for(k=0;k<C;++k){for(m=0;m<b;++m)T[s]=d[w],s+=I,w+=z;s+=U,w+=F}}},"float32,1,0,float32,0,1":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=h[0],x=h[1],i=A[0],E=A[1];s|=0,w|=0;for(var m=s,k=w,I=f[1]|0;I>0;){I<64?(b=I,I=0):(b=64,I-=64);for(var U=f[0]|0;U>0;){U<64?(C=U,U=0):(C=64,U-=64),s=m+I*x+U*S,w=k+I*E+U*i;var z=0,F=0,B=x,O=S-b*x,N=E,Y=i-b*E;for(F=0;F<C;++F){for(z=0;z<b;++z)T[s]=d[w],s+=B,w+=N;s+=O,w+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=f[2],x=h[0],i=h[1],E=h[2],m=A[0],k=A[1],I=A[2];s|=0,w|=0;for(var U=s,z=w,F=f[2]|0;F>0;){F<64?(S=F,F=0):(S=64,F-=64);for(var B=f[0]|0;B>0;){B<64?(C=B,B=0):(C=64,B-=64);for(var O=f[1]|0;O>0;){O<64?(b=O,O=0):(b=64,O-=64),s=U+F*E+B*x+O*i,w=z+F*I+B*m+O*k;var N=0,Y=0,$=0,te=E,ie=x-S*E,ce=i-C*x,J=I,Z=m-S*I,ae=k-C*m;for($=0;$<b;++$){for(Y=0;Y<C;++Y){for(N=0;N<S;++N)T[s]=d[w],s+=te,w+=J;s+=ie,w+=Z}s+=ce,w+=ae}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=f[2],x=h[0],i=h[1],E=h[2],m=A[0],k=A[1],I=A[2];s|=0,w|=0;var U=0,z=0,F=0,B=E,O=x-S*E,N=i-C*x,Y=I,$=m-S*I,te=k-C*m;for(F=0;F<b;++F){for(z=0;z<C;++z){for(U=0;U<S;++U)T[s]=d[w],s+=B,w+=Y;s+=O,w+=$}s+=N,w+=te}}}};function t(g,f){var T=f.join(","),h=r[T];return h()}var o=t,n={mul:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=d.dtype,x=d.order,i=[A,w.join(),C,b.join(),S,x.join()].join(),E=f[i];return E||(f[i]=E=g([A,w,C,b,S,x])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d.data,d.stride,d.offset|0)}},muls:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=[A,w.join(),C,b.join()].join(),x=f[S];return x||(f[S]=x=g([A,w,C,b])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d)}},mulseq:function(g){var f={};return function(h,s){var d=h.dtype,A=h.order,w=[d,A.join()].join(),C=f[w];return C||(f[w]=C=g([d,A])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,s)}},div:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=d.dtype,x=d.order,i=[A,w.join(),C,b.join(),S,x.join()].join(),E=f[i];return E||(f[i]=E=g([A,w,C,b,S,x])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d.data,d.stride,d.offset|0)}},divs:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=[A,w.join(),C,b.join()].join(),x=f[S];return x||(f[S]=x=g([A,w,C,b])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d)}},divseq:function(g){var f={};return function(h,s){var d=h.dtype,A=h.order,w=[d,A.join()].join(),C=f[w];return C||(f[w]=C=g([d,A])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,s)}},assign:function(g){var f={};return function(h,s){var d=h.dtype,A=h.order,w=s.dtype,C=s.order,b=[d,A.join(),w,C.join()].join(),S=f[b];return S||(f[b]=S=g([d,A,w,C])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0)}}};function c(g){var f=n[g.funcName];return f(o.bind(void 0,g))}function u(g){return c({funcName:g.funcName})}var l={mul:"*",div:"/"};(function(){for(var g in l)p[g]=u({funcName:g}),p[g+"s"]=u({funcName:g+"s"}),p[g+"seq"]=u({funcName:g+"seq"})})(),p.assign=u({funcName:"assign"})},7382:function(v,p,r){var t=r(5050),o=r(9262);v.exports=function(c,u){for(var l=[],g=c,f=1;Array.isArray(g);)l.push(g.length),f*=g.length,g=g[0];return l.length===0?t():(u||(u=t(new Float64Array(f),l)),o(u,c),u)}},9262:function(v){function p(){return function(u,l,g,f,T){var h=u[0],s=u[1],d=u[2],A=g[0],w=g[1],C=g[2],b=[0,0,0];f|=0;var S=0,x=0,i=0,E=C,m=w-d*C,k=A-s*w;for(i=0;i<h;++i){for(x=0;x<s;++x){for(S=0;S<d;++S){{var I=T,U;for(U=0;U<b.length-1;++U)I=I[b[U]];l[f]=I[b[b.length-1]]}f+=E,++b[2]}f+=m,b[2]-=d,++b[1]}f+=k,b[1]-=s,++b[0]}}}function r(){return p()}var t=r;function o(u){var l={};return function(f,T){var h=f.dtype,s=f.order,d=[h,s.join()].join(),A=l[d];return A||(l[d]=A=u([h,s])),A(f.shape.slice(0),f.data,f.stride,f.offset|0,T)}}function n(u){return o(t.bind(void 0,u))}function c(u){return n({funcName:u.funcName})}v.exports=c({funcName:"convert"})},8139:function(v,p,r){var t=r(5306);function o(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,h){return function(d,A,w,C,b,S,x,i,E,m,k){var I,U,z,F=d*b+C,B,O=T(i),N,Y,$,te;for(I=d+1;I<=A;++I){for(U=I,F+=b,z=F,N=0,Y=F,B=0;B<i;++B)O[N++]=w[Y],Y+=E;e:for(;U-- >d;){N=0,Y=z-b;t:for(B=0;B<i;++B){if($=w[Y],te=O[N],$<te)break e;if($>te)break t;Y+=m,N+=k}for(N=z,Y=z-b,B=0;B<i;++B)w[N]=w[Y],N+=E,Y+=E;z-=b}for(N=z,Y=0,B=0;B<i;++B)w[N]=O[Y++],N+=E}h(O)}}};function c(T,h){var s=o(h),d=[h,T].join(","),A=n[d];return s?A(s[0],s[1]):A()}var u={"uint32,1,0":function(T,h,s){return function d(A,w,C,b,S,x,i,E,m,k,I){var U=(w-A+1)/6|0,z=A+U,F=w-U,B=A+w>>1,O=B-U,N=B+U,Y=z,$=O,te=B,ie=N,ce=F,J=A+1,Z=w-1,ae=!0,j,q,oe,Q,K,se,ne,fe,ye,Ee=0,Te=0,ze=0,ke,Se,me,Ce,Ne,He,De,Ve,at,lt,$e,et,ct,dt,gt,At,Rt=E,Vt=h(Rt),Je=h(Rt);Se=S*Y,me=S*$,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=Y,Y=$,$=q;break e}if(ze<0)break e;At+=k}Se=S*ie,me=S*ce,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=ie,ie=ce,ce=q;break e}if(ze<0)break e;At+=k}Se=S*Y,me=S*te,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=Y,Y=te,te=q;break e}if(ze<0)break e;At+=k}Se=S*$,me=S*te,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=$,$=te,te=q;break e}if(ze<0)break e;At+=k}Se=S*Y,me=S*ie,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=Y,Y=ie,ie=q;break e}if(ze<0)break e;At+=k}Se=S*te,me=S*ie,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=te,te=ie,ie=q;break e}if(ze<0)break e;At+=k}Se=S*$,me=S*ce,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=$,$=ce,ce=q;break e}if(ze<0)break e;At+=k}Se=S*$,me=S*te,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=$,$=te,te=q;break e}if(ze<0)break e;At+=k}Se=S*ie,me=S*ce,At=b;e:for(ke=0;ke<E;++ke){if(ne=Se+At,fe=me+At,ze=C[ne]-C[fe],ze>0){q=ie,ie=ce,ce=q;break e}if(ze<0)break e;At+=k}for(Se=S*Y,me=S*$,Ce=S*te,Ne=S*ie,He=S*ce,De=S*z,Ve=S*B,at=S*F,gt=0,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,ye=Ce+At,lt=Ne+At,$e=He+At,et=De+At,ct=Ve+At,dt=at+At,Vt[gt]=C[fe],Je[gt]=C[lt],ae=ae&&Vt[gt]===Je[gt],oe=C[ne],Q=C[ye],K=C[$e],C[et]=oe,C[ct]=Q,C[dt]=K,++gt,At+=m;for(Se=S*O,me=S*A,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,C[ne]=C[fe],At+=m;for(Se=S*N,me=S*w,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,C[ne]=C[fe],At+=m;if(ae)for(se=J;se<=Z;++se){ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(ze=C[ne]-Vt[gt],ze!==0)break e;gt+=I,ne+=k}if(ze!==0)if(ze<0){if(se!==J)for(Se=S*se,me=S*J,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=m;++J}else for(;;){ne=b+Z*S,gt=0;e:for(ke=0;ke<E;++ke){if(ze=C[ne]-Vt[gt],ze!==0)break e;gt+=I,ne+=k}if(ze>0)Z--;else if(ze<0){for(Se=S*se,me=S*J,Ce=S*Z,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,ye=Ce+At,j=C[ne],C[ne]=C[fe],C[fe]=C[ye],C[ye]=j,At+=m;++J,--Z;break}else{for(Se=S*se,me=S*Z,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=m;--Z;break}}}else for(se=J;se<=Z;++se){ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(Ee=C[ne]-Vt[gt],Ee!==0)break e;gt+=I,ne+=k}if(Ee<0){if(se!==J)for(Se=S*se,me=S*J,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=m;++J}else{ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(Te=C[ne]-Je[gt],Te!==0)break e;gt+=I,ne+=k}if(Te>0)for(;;){ne=b+Z*S,gt=0;e:for(ke=0;ke<E;++ke){if(ze=C[ne]-Je[gt],ze!==0)break e;gt+=I,ne+=k}if(ze>0){if(--Z<se)break;continue}else{ne=b+Z*S,gt=0;e:for(ke=0;ke<E;++ke){if(ze=C[ne]-Vt[gt],ze!==0)break e;gt+=I,ne+=k}if(ze<0){for(Se=S*se,me=S*J,Ce=S*Z,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,ye=Ce+At,j=C[ne],C[ne]=C[fe],C[fe]=C[ye],C[ye]=j,At+=m;++J,--Z}else{for(Se=S*se,me=S*Z,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=m;--Z}break}}}}for(Se=S*A,me=S*(J-1),gt=0,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,C[ne]=C[fe],C[fe]=Vt[gt],++gt,At+=m;for(Se=S*w,me=S*(Z+1),gt=0,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,C[ne]=C[fe],C[fe]=Je[gt],++gt,At+=m;if(J-2-A<=32?T(A,J-2,C,b,S,x,i,E,m,k,I):d(A,J-2,C,b,S,x,i,E,m,k,I),w-(Z+2)<=32?T(Z+2,w,C,b,S,x,i,E,m,k,I):d(Z+2,w,C,b,S,x,i,E,m,k,I),ae){s(Vt),s(Je);return}if(J<z&&Z>F){e:for(;;){for(ne=b+J*S,gt=0,At=b,ke=0;ke<E;++ke){if(C[ne]!==Vt[gt])break e;++gt,ne+=m}++J}e:for(;;){for(ne=b+Z*S,gt=0,At=b,ke=0;ke<E;++ke){if(C[ne]!==Je[gt])break e;++gt,ne+=m}--Z}for(se=J;se<=Z;++se){ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(Ee=C[ne]-Vt[gt],Ee!==0)break e;gt+=I,ne+=k}if(Ee===0){if(se!==J)for(Se=S*se,me=S*J,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=m;++J}else{ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(Te=C[ne]-Je[gt],Te!==0)break e;gt+=I,ne+=k}if(Te===0)for(;;){ne=b+Z*S,gt=0;e:for(ke=0;ke<E;++ke){if(ze=C[ne]-Je[gt],ze!==0)break e;gt+=I,ne+=k}if(ze===0){if(--Z<se)break;continue}else{ne=b+Z*S,gt=0;e:for(ke=0;ke<E;++ke){if(ze=C[ne]-Vt[gt],ze!==0)break e;gt+=I,ne+=k}if(ze<0){for(Se=S*se,me=S*J,Ce=S*Z,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,ye=Ce+At,j=C[ne],C[ne]=C[fe],C[fe]=C[ye],C[ye]=j,At+=m;++J,--Z}else{for(Se=S*se,me=S*Z,At=b,ke=0;ke<E;++ke)ne=Se+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=m;--Z}break}}}}}s(Vt),s(Je),Z-J<=32?T(J,Z,C,b,S,x,i,E,m,k,I):d(J,Z,C,b,S,x,i,E,m,k,I)}}};function l(T,h,s){var d=o(h),A=[h,T].join(","),w=u[A];return T.length>1&&d?w(s,d[0],d[1]):w(s)}var g={"uint32,1,0":function(T,h){return function(s){var d=s.data,A=s.offset|0,w=s.shape,C=s.stride,b=C[0]|0,S=w[0]|0,x=C[1]|0,i=w[1]|0,E=x,m=x,k=1;S<=32?T(0,S-1,d,A,b,x,S,i,E,m,k):h(0,S-1,d,A,b,x,S,i,E,m,k)}}};function f(T,h){var s=[h,T].join(","),d=g[s],A=c(T,h),w=l(T,h,A);return d(A,w)}v.exports=f},8729:function(v,p,r){var t=r(8139),o={};function n(c){var u=c.order,l=c.dtype,g=[u,l],f=g.join(":"),T=o[f];return T||(o[f]=T=t(u,l)),T(c),c}v.exports=n},5050:function(v,p,r){var t=r(4780),o=typeof Float64Array<"u";function n(h,s){return h[0]-s[0]}function c(){var h=this.stride,s=new Array(h.length),d;for(d=0;d<s.length;++d)s[d]=[Math.abs(h[d]),d];s.sort(n);var A=new Array(s.length);for(d=0;d<A.length;++d)A[d]=s[d][1];return A}var u={T:function(h){function s(A){this.data=A}var d=s.prototype;return d.dtype=h,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new s(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new s(w)}},0:function(h,s){function d(w,C){this.data=w,this.offset=C}var A=d.prototype;return A.dtype=h,A.index=function(){return this.offset},A.dimension=0,A.size=1,A.shape=A.stride=A.order=[],A.lo=A.hi=A.transpose=A.step=function(){return new d(this.data,this.offset)},A.pick=function(){return s(this.data)},A.valueOf=A.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},A.set=function(C){return h==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,b,S,x){return new d(C,x)}},1:function(h,s,d){function A(C,b,S,x){this.data=C,this.shape=[b],this.stride=[S],this.offset=x|0}var w=A.prototype;return w.dtype=h,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(b,S){return h==="generic"?this.data.set(this.offset+this.stride[0]*b,S):this.data[this.offset+this.stride[0]*b]=S},w.get=function(b){return h==="generic"?this.data.get(this.offset+this.stride[0]*b):this.data[this.offset+this.stride[0]*b]},w.index=function(b){return this.offset+this.stride[0]*b},w.hi=function(b){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,this.stride[0],this.offset)},w.lo=function(b){var S=this.offset,x=0,i=this.shape[0],E=this.stride[0];return typeof b=="number"&&b>=0&&(x=b|0,S+=E*x,i-=x),new A(this.data,i,E,S)},w.step=function(b){var S=this.shape[0],x=this.stride[0],i=this.offset,E=0,m=Math.ceil;return typeof b=="number"&&(E=b|0,E<0?(i+=x*(S-1),S=m(-S/E)):S=m(S/E),x*=E),new A(this.data,S,x,i)},w.transpose=function(b){b=b===void 0?0:b|0;var S=this.shape,x=this.stride;return new A(this.data,S[b],x[b],this.offset)},w.pick=function(b){var S=[],x=[],i=this.offset;typeof b=="number"&&b>=0?i=i+this.stride[0]*b|0:(S.push(this.shape[0]),x.push(this.stride[0]));var E=s[S.length+1];return E(this.data,S,x,i)},function(b,S,x,i){return new A(b,S[0],x[0],i)}},2:function(h,s,d){function A(C,b,S,x,i,E){this.data=C,this.shape=[b,S],this.stride=[x,i],this.offset=E|0}var w=A.prototype;return w.dtype=h,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(b,S,x){return h==="generic"?this.data.set(this.offset+this.stride[0]*b+this.stride[1]*S,x):this.data[this.offset+this.stride[0]*b+this.stride[1]*S]=x},w.get=function(b,S){return h==="generic"?this.data.get(this.offset+this.stride[0]*b+this.stride[1]*S):this.data[this.offset+this.stride[0]*b+this.stride[1]*S]},w.index=function(b,S){return this.offset+this.stride[0]*b+this.stride[1]*S},w.hi=function(b,S){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(b,S){var x=this.offset,i=0,E=this.shape[0],m=this.shape[1],k=this.stride[0],I=this.stride[1];return typeof b=="number"&&b>=0&&(i=b|0,x+=k*i,E-=i),typeof S=="number"&&S>=0&&(i=S|0,x+=I*i,m-=i),new A(this.data,E,m,k,I,x)},w.step=function(b,S){var x=this.shape[0],i=this.shape[1],E=this.stride[0],m=this.stride[1],k=this.offset,I=0,U=Math.ceil;return typeof b=="number"&&(I=b|0,I<0?(k+=E*(x-1),x=U(-x/I)):x=U(x/I),E*=I),typeof S=="number"&&(I=S|0,I<0?(k+=m*(i-1),i=U(-i/I)):i=U(i/I),m*=I),new A(this.data,x,i,E,m,k)},w.transpose=function(b,S){b=b===void 0?0:b|0,S=S===void 0?1:S|0;var x=this.shape,i=this.stride;return new A(this.data,x[b],x[S],i[b],i[S],this.offset)},w.pick=function(b,S){var x=[],i=[],E=this.offset;typeof b=="number"&&b>=0?E=E+this.stride[0]*b|0:(x.push(this.shape[0]),i.push(this.stride[0])),typeof S=="number"&&S>=0?E=E+this.stride[1]*S|0:(x.push(this.shape[1]),i.push(this.stride[1]));var m=s[x.length+1];return m(this.data,x,i,E)},function(b,S,x,i){return new A(b,S[0],S[1],x[0],x[1],i)}},3:function(h,s,d){function A(C,b,S,x,i,E,m,k){this.data=C,this.shape=[b,S,x],this.stride=[i,E,m],this.offset=k|0}var w=A.prototype;return w.dtype=h,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var b=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),x=Math.abs(this.stride[2]);return b>S?S>x?[2,1,0]:b>x?[1,2,0]:[1,0,2]:b>x?[2,0,1]:x>S?[0,1,2]:[0,2,1]}}),w.set=function(b,S,x,i){return h==="generic"?this.data.set(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x,i):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x]=i},w.get=function(b,S,x){return h==="generic"?this.data.get(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x]},w.index=function(b,S,x){return this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x},w.hi=function(b,S,x){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof x!="number"||x<0?this.shape[2]:x|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(b,S,x){var i=this.offset,E=0,m=this.shape[0],k=this.shape[1],I=this.shape[2],U=this.stride[0],z=this.stride[1],F=this.stride[2];return typeof b=="number"&&b>=0&&(E=b|0,i+=U*E,m-=E),typeof S=="number"&&S>=0&&(E=S|0,i+=z*E,k-=E),typeof x=="number"&&x>=0&&(E=x|0,i+=F*E,I-=E),new A(this.data,m,k,I,U,z,F,i)},w.step=function(b,S,x){var i=this.shape[0],E=this.shape[1],m=this.shape[2],k=this.stride[0],I=this.stride[1],U=this.stride[2],z=this.offset,F=0,B=Math.ceil;return typeof b=="number"&&(F=b|0,F<0?(z+=k*(i-1),i=B(-i/F)):i=B(i/F),k*=F),typeof S=="number"&&(F=S|0,F<0?(z+=I*(E-1),E=B(-E/F)):E=B(E/F),I*=F),typeof x=="number"&&(F=x|0,F<0?(z+=U*(m-1),m=B(-m/F)):m=B(m/F),U*=F),new A(this.data,i,E,m,k,I,U,z)},w.transpose=function(b,S,x){b=b===void 0?0:b|0,S=S===void 0?1:S|0,x=x===void 0?2:x|0;var i=this.shape,E=this.stride;return new A(this.data,i[b],i[S],i[x],E[b],E[S],E[x],this.offset)},w.pick=function(b,S,x){var i=[],E=[],m=this.offset;typeof b=="number"&&b>=0?m=m+this.stride[0]*b|0:(i.push(this.shape[0]),E.push(this.stride[0])),typeof S=="number"&&S>=0?m=m+this.stride[1]*S|0:(i.push(this.shape[1]),E.push(this.stride[1])),typeof x=="number"&&x>=0?m=m+this.stride[2]*x|0:(i.push(this.shape[2]),E.push(this.stride[2]));var k=s[i.length+1];return k(this.data,i,E,m)},function(b,S,x,i){return new A(b,S[0],S[1],S[2],x[0],x[1],x[2],i)}},4:function(h,s,d){function A(C,b,S,x,i,E,m,k,I,U){this.data=C,this.shape=[b,S,x,i],this.stride=[E,m,k,I],this.offset=U|0}var w=A.prototype;return w.dtype=h,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(b,S,x,i,E){return h==="generic"?this.data.set(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x+this.stride[3]*i,E):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x+this.stride[3]*i]=E},w.get=function(b,S,x,i){return h==="generic"?this.data.get(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x+this.stride[3]*i):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x+this.stride[3]*i]},w.index=function(b,S,x,i){return this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*x+this.stride[3]*i},w.hi=function(b,S,x,i){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof x!="number"||x<0?this.shape[2]:x|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(b,S,x,i){var E=this.offset,m=0,k=this.shape[0],I=this.shape[1],U=this.shape[2],z=this.shape[3],F=this.stride[0],B=this.stride[1],O=this.stride[2],N=this.stride[3];return typeof b=="number"&&b>=0&&(m=b|0,E+=F*m,k-=m),typeof S=="number"&&S>=0&&(m=S|0,E+=B*m,I-=m),typeof x=="number"&&x>=0&&(m=x|0,E+=O*m,U-=m),typeof i=="number"&&i>=0&&(m=i|0,E+=N*m,z-=m),new A(this.data,k,I,U,z,F,B,O,N,E)},w.step=function(b,S,x,i){var E=this.shape[0],m=this.shape[1],k=this.shape[2],I=this.shape[3],U=this.stride[0],z=this.stride[1],F=this.stride[2],B=this.stride[3],O=this.offset,N=0,Y=Math.ceil;return typeof b=="number"&&(N=b|0,N<0?(O+=U*(E-1),E=Y(-E/N)):E=Y(E/N),U*=N),typeof S=="number"&&(N=S|0,N<0?(O+=z*(m-1),m=Y(-m/N)):m=Y(m/N),z*=N),typeof x=="number"&&(N=x|0,N<0?(O+=F*(k-1),k=Y(-k/N)):k=Y(k/N),F*=N),typeof i=="number"&&(N=i|0,N<0?(O+=B*(I-1),I=Y(-I/N)):I=Y(I/N),B*=N),new A(this.data,E,m,k,I,U,z,F,B,O)},w.transpose=function(b,S,x,i){b=b===void 0?0:b|0,S=S===void 0?1:S|0,x=x===void 0?2:x|0,i=i===void 0?3:i|0;var E=this.shape,m=this.stride;return new A(this.data,E[b],E[S],E[x],E[i],m[b],m[S],m[x],m[i],this.offset)},w.pick=function(b,S,x,i){var E=[],m=[],k=this.offset;typeof b=="number"&&b>=0?k=k+this.stride[0]*b|0:(E.push(this.shape[0]),m.push(this.stride[0])),typeof S=="number"&&S>=0?k=k+this.stride[1]*S|0:(E.push(this.shape[1]),m.push(this.stride[1])),typeof x=="number"&&x>=0?k=k+this.stride[2]*x|0:(E.push(this.shape[2]),m.push(this.stride[2])),typeof i=="number"&&i>=0?k=k+this.stride[3]*i|0:(E.push(this.shape[3]),m.push(this.stride[3]));var I=s[E.length+1];return I(this.data,E,m,k)},function(b,S,x,i){return new A(b,S[0],S[1],S[2],S[3],x[0],x[1],x[2],x[3],i)}},5:function(s,d,A){function w(b,S,x,i,E,m,k,I,U,z,F,B){this.data=b,this.shape=[S,x,i,E,m],this.stride=[k,I,U,z,F],this.offset=B|0}var C=w.prototype;return C.dtype=s,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:A}),C.set=function(S,x,i,E,m,k){return s==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m,k):this.data[this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m]=k},C.get=function(S,x,i,E,m){return s==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m):this.data[this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m]},C.index=function(S,x,i,E,m){return this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m},C.hi=function(S,x,i,E,m){return new w(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof x!="number"||x<0?this.shape[1]:x|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof m!="number"||m<0?this.shape[4]:m|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(S,x,i,E,m){var k=this.offset,I=0,U=this.shape[0],z=this.shape[1],F=this.shape[2],B=this.shape[3],O=this.shape[4],N=this.stride[0],Y=this.stride[1],$=this.stride[2],te=this.stride[3],ie=this.stride[4];return typeof S=="number"&&S>=0&&(I=S|0,k+=N*I,U-=I),typeof x=="number"&&x>=0&&(I=x|0,k+=Y*I,z-=I),typeof i=="number"&&i>=0&&(I=i|0,k+=$*I,F-=I),typeof E=="number"&&E>=0&&(I=E|0,k+=te*I,B-=I),typeof m=="number"&&m>=0&&(I=m|0,k+=ie*I,O-=I),new w(this.data,U,z,F,B,O,N,Y,$,te,ie,k)},C.step=function(S,x,i,E,m){var k=this.shape[0],I=this.shape[1],U=this.shape[2],z=this.shape[3],F=this.shape[4],B=this.stride[0],O=this.stride[1],N=this.stride[2],Y=this.stride[3],$=this.stride[4],te=this.offset,ie=0,ce=Math.ceil;return typeof S=="number"&&(ie=S|0,ie<0?(te+=B*(k-1),k=ce(-k/ie)):k=ce(k/ie),B*=ie),typeof x=="number"&&(ie=x|0,ie<0?(te+=O*(I-1),I=ce(-I/ie)):I=ce(I/ie),O*=ie),typeof i=="number"&&(ie=i|0,ie<0?(te+=N*(U-1),U=ce(-U/ie)):U=ce(U/ie),N*=ie),typeof E=="number"&&(ie=E|0,ie<0?(te+=Y*(z-1),z=ce(-z/ie)):z=ce(z/ie),Y*=ie),typeof m=="number"&&(ie=m|0,ie<0?(te+=$*(F-1),F=ce(-F/ie)):F=ce(F/ie),$*=ie),new w(this.data,k,I,U,z,F,B,O,N,Y,$,te)},C.transpose=function(S,x,i,E,m){S=S===void 0?0:S|0,x=x===void 0?1:x|0,i=i===void 0?2:i|0,E=E===void 0?3:E|0,m=m===void 0?4:m|0;var k=this.shape,I=this.stride;return new w(this.data,k[S],k[x],k[i],k[E],k[m],I[S],I[x],I[i],I[E],I[m],this.offset)},C.pick=function(S,x,i,E,m){var k=[],I=[],U=this.offset;typeof S=="number"&&S>=0?U=U+this.stride[0]*S|0:(k.push(this.shape[0]),I.push(this.stride[0])),typeof x=="number"&&x>=0?U=U+this.stride[1]*x|0:(k.push(this.shape[1]),I.push(this.stride[1])),typeof i=="number"&&i>=0?U=U+this.stride[2]*i|0:(k.push(this.shape[2]),I.push(this.stride[2])),typeof E=="number"&&E>=0?U=U+this.stride[3]*E|0:(k.push(this.shape[3]),I.push(this.stride[3])),typeof m=="number"&&m>=0?U=U+this.stride[4]*m|0:(k.push(this.shape[4]),I.push(this.stride[4]));var z=d[k.length+1];return z(this.data,k,I,U)},function(S,x,i,E){return new w(S,x[0],x[1],x[2],x[3],x[4],i[0],i[1],i[2],i[3],i[4],E)}}};function l(h,s){var d=s===-1?"T":String(s),A=u[d];return s===-1?A(h):s===0?A(h,f[h][0]):A(h,f[h],c)}function g(h){if(t(h))return"buffer";if(o)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var f={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(h,s,d,A){if(h===void 0){var i=f.array[0];return i([])}else typeof h=="number"&&(h=[h]);s===void 0&&(s=[h.length]);var w=s.length;if(d===void 0){d=new Array(w);for(var C=w-1,b=1;C>=0;--C)d[C]=b,b*=s[C]}if(A===void 0){A=0;for(var C=0;C<w;++C)d[C]<0&&(A-=(s[C]-1)*d[C])}for(var S=g(h),x=f[S];x.length<=w+1;)x.push(l(S,x.length-1));var i=x[w+1];return i(h,s,d,A)}v.exports=T},8551:function(v,p,r){var t=r(8362),o=Math.pow(2,-1074),n=-1>>>0;v.exports=c;function c(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-o:o;var g=t.hi(u),f=t.lo(u);return l>u==u>0?f===n?(g+=1,f=0):f+=1:f===0?(f=n,g-=1):f-=1,t.pack(f,g)}},115:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(o,n,c){for(var u=n.length,l=new Array(u),g=c===void 0?r:c,f=0;f<u;++f)l[f]=[0,0,0];for(var f=0;f<o.length;++f)for(var T=o[f],h=0,s=T[T.length-1],d=T[0],A=0;A<T.length;++A){h=s,s=d,d=T[(A+1)%T.length];for(var w=n[h],C=n[s],b=n[d],S=new Array(3),x=0,i=new Array(3),E=0,m=0;m<3;++m)S[m]=w[m]-C[m],x+=S[m]*S[m],i[m]=b[m]-C[m],E+=i[m]*i[m];if(x*E>g)for(var k=l[s],I=1/Math.sqrt(x*E),m=0;m<3;++m){var U=(m+1)%3,z=(m+2)%3;k[m]+=I*(i[U]*S[z]-i[z]*S[U])}}for(var f=0;f<u;++f){for(var k=l[f],F=0,m=0;m<3;++m)F+=k[m]*k[m];if(F>g)for(var I=1/Math.sqrt(F),m=0;m<3;++m)k[m]*=I;else for(var m=0;m<3;++m)k[m]=0}return l},p.faceNormals=function(o,n,c){for(var u=o.length,l=new Array(u),g=c===void 0?t:c,f=0;f<u;++f){for(var T=o[f],h=new Array(3),s=0;s<3;++s)h[s]=n[T[s]];for(var d=new Array(3),A=new Array(3),s=0;s<3;++s)d[s]=h[1][s]-h[0][s],A[s]=h[2][s]-h[0][s];for(var w=new Array(3),C=0,s=0;s<3;++s){var b=(s+1)%3,S=(s+2)%3;w[s]=d[b]*A[S]-d[S]*A[b],C+=w[s]*w[s]}C>g?C=1/Math.sqrt(C):C=0;for(var s=0;s<3;++s)w[s]*=C;l[f]=w}return l}},567:function(v){v.exports=p;function p(r,t,o,n,c,u,l,g,f,T){var h=t+u+T;if(s>0){var s=Math.sqrt(h+1);r[0]=.5*(l-f)/s,r[1]=.5*(g-n)/s,r[2]=.5*(o-u)/s,r[3]=.5*s}else{var d=Math.max(t,u,T),s=Math.sqrt(2*d-h+1);t>=d?(r[0]=.5*s,r[1]=.5*(c+o)/s,r[2]=.5*(g+n)/s,r[3]=.5*(l-f)/s):u>=d?(r[0]=.5*(o+c)/s,r[1]=.5*s,r[2]=.5*(f+l)/s,r[3]=.5*(g-n)/s):(r[0]=.5*(n+g)/s,r[1]=.5*(l+f)/s,r[2]=.5*s,r[3]=.5*(o-c)/s)}return r}},7774:function(v,p,r){v.exports=s;var t=r(8444),o=r(3012),n=r(5950),c=r(7437),u=r(567);function l(d,A,w){return Math.sqrt(Math.pow(d,2)+Math.pow(A,2)+Math.pow(w,2))}function g(d,A,w,C){return Math.sqrt(Math.pow(d,2)+Math.pow(A,2)+Math.pow(w,2)+Math.pow(C,2))}function f(d,A){var w=A[0],C=A[1],b=A[2],S=A[3],x=g(w,C,b,S);x>1e-6?(d[0]=w/x,d[1]=C/x,d[2]=b/x,d[3]=S/x):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,A,w){this.radius=t([w]),this.center=t(A),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=T.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var A=this.computedRotation;f(A,A);var w=this.computedMatrix;n(w,A);var C=this.computedCenter,b=this.computedEye,S=this.computedUp,x=Math.exp(this.computedRadius[0]);b[0]=C[0]+x*w[2],b[1]=C[1]+x*w[6],b[2]=C[2]+x*w[10],S[0]=w[1],S[1]=w[5],S[2]=w[9];for(var i=0;i<3;++i){for(var E=0,m=0;m<3;++m)E+=w[i+4*m]*b[m];w[12+i]=-E}},h.getMatrix=function(d,A){this.recalcMatrix(d);var w=this.computedMatrix;if(A){for(var C=0;C<16;++C)A[C]=w[C];return A}return w},h.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},h.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},h.pan=function(d,A,w,C){A=A||0,w=w||0,C=C||0,this.recalcMatrix(d);var b=this.computedMatrix,S=b[1],x=b[5],i=b[9],E=l(S,x,i);S/=E,x/=E,i/=E;var m=b[0],k=b[4],I=b[8],U=m*S+k*x+I*i;m-=S*U,k-=x*U,I-=i*U;var z=l(m,k,I);m/=z,k/=z,I/=z,b[2],b[6],b[10];var F=m*A+S*w,B=k*A+x*w,O=I*A+i*w;this.center.move(d,F,B,O);var N=Math.exp(this.computedRadius[0]);N=Math.max(1e-4,N+C),this.radius.set(d,Math.log(N))},h.rotate=function(d,A,w,C){this.recalcMatrix(d),A=A||0,w=w||0;var b=this.computedMatrix,S=b[0],x=b[4],i=b[8],E=b[1],m=b[5],k=b[9],I=b[2],U=b[6],z=b[10],F=A*S+w*E,B=A*x+w*m,O=A*i+w*k,N=-(U*O-z*B),Y=-(z*F-I*O),$=-(I*B-U*F),te=Math.sqrt(Math.max(0,1-Math.pow(N,2)-Math.pow(Y,2)-Math.pow($,2))),ie=g(N,Y,$,te);ie>1e-6?(N/=ie,Y/=ie,$/=ie,te/=ie):(N=Y=$=0,te=1);var ce=this.computedRotation,J=ce[0],Z=ce[1],ae=ce[2],j=ce[3],q=J*te+j*N+Z*$-ae*Y,oe=Z*te+j*Y+ae*N-J*$,Q=ae*te+j*$+J*Y-Z*N,K=j*te-J*N-Z*Y-ae*$;if(C){N=I,Y=U,$=z;var se=Math.sin(C)/l(N,Y,$);N*=se,Y*=se,$*=se,te=Math.cos(A),q=q*te+K*N+oe*$-Q*Y,oe=oe*te+K*Y+Q*N-q*$,Q=Q*te+K*$+q*Y-oe*N,K=K*te-q*N-oe*Y-Q*$}var ne=g(q,oe,Q,K);ne>1e-6?(q/=ne,oe/=ne,Q/=ne,K/=ne):(q=oe=Q=0,K=1),this.rotation.set(d,q,oe,Q,K)},h.lookAt=function(d,A,w,C){this.recalcMatrix(d),w=w||this.computedCenter,A=A||this.computedEye,C=C||this.computedUp;var b=this.computedMatrix;o(b,A,w,C);var S=this.computedRotation;u(S,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),f(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var x=0,i=0;i<3;++i)x+=Math.pow(w[i]-A[i],2);this.radius.set(d,.5*Math.log(Math.max(x,1e-6))),this.center.set(d,w[0],w[1],w[2])},h.translate=function(d,A,w,C){this.center.move(d,A||0,w||0,C||0)},h.setMatrix=function(d,A){var w=this.computedRotation;u(w,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),f(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var C=this.computedMatrix;c(C,A);var b=C[15];if(Math.abs(b)>1e-6){var S=C[12]/b,x=C[13]/b,i=C[14]/b;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,S-C[2]*E,x-C[6]*E,i-C[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},h.setDistance=function(d,A){A>0&&this.radius.set(d,Math.log(A))},h.setDistanceLimits=function(d,A){d>0?d=Math.log(d):d=-1/0,A>0?A=Math.log(A):A=1/0,A=Math.max(A,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=A},h.getDistanceLimits=function(d){var A=this.radius.bounds;return d?(d[0]=Math.exp(A[0][0]),d[1]=Math.exp(A[1][0]),d):[Math.exp(A[0][0]),Math.exp(A[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(d){var A=this.lastT(),w=d.center;w&&this.center.set(A,w[0],w[1],w[2]);var C=d.rotation;C&&this.rotation.set(A,C[0],C[1],C[2],C[3]);var b=d.distance;b&&b>0&&this.radius.set(A,Math.log(b)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function s(d){d=d||{};var A=d.center||[0,0,0],w=d.rotation||[0,0,0,1],C=d.radius||1;A=[].slice.call(A,0,3),w=[].slice.call(w,0,4),f(w,w);var b=new T(w,A,Math.log(C));return b.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&b.lookAt(0,d.eye,d.center,d.up),b}},4930:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);v.exports=function(n,c,u){return u=typeof u<"u"?u+"":" ",t(u,c)+n}},4405:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var o=parseFloat(r,10);return t[0]=o,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(v,p,r){v.exports=o;var t=r(9398);function o(n,c){for(var u=c.length|0,l=n.length,g=[new Array(u),new Array(u)],f=0;f<u;++f)g[0][f]=[],g[1][f]=[];for(var f=0;f<l;++f){var T=n[f];g[0][T[0]].push(T),g[1][T[1]].push(T)}for(var h=[],f=0;f<u;++f)g[0][f].length+g[1][f].length===0&&h.push([f]);function s(x,i){var E=g[i][x[i]];E.splice(E.indexOf(x),1)}function d(x,i,E){for(var m,k,I,U=0;U<2;++U)if(g[U][i].length>0){m=g[U][i][0],I=U;break}k=m[I^1];for(var z=0;z<2;++z)for(var F=g[z][i],B=0;B<F.length;++B){var O=F[B],N=O[z^1],Y=t(c[x],c[i],c[k],c[N]);Y>0&&(m=O,k=N,I=z)}return E||m&&s(m,I),k}function A(x,i){var E=g[i][x][0],m=[x];s(E,i);for(var k=E[i^1];;){for(;k!==x;)m.push(k),k=d(m[m.length-2],k,!1);if(g[0][x].length+g[1][x].length===0)break;var I=m[m.length-1],U=x,z=m[1],F=d(I,U,!0);if(t(c[I],c[U],c[z],c[F])<0)break;m.push(x),k=d(I,U)}return m}function w(x,i){return i[1]===i[i.length-1]}for(var f=0;f<u;++f)for(var C=0;C<2;++C){for(var b=[];g[C][f].length>0;){g[0][f].length;var S=A(f,C);w(b,S)?b.push.apply(b,S):(b.length>0&&h.push(b),b=S)}b.length>0&&h.push(b)}return h}},3959:function(v,p,r){v.exports=o;var t=r(8348);function o(n,c){for(var u=t(n,c.length),l=new Array(c.length),g=new Array(c.length),f=[],T=0;T<c.length;++T){var h=u[T].length;g[T]=h,l[T]=!0,h<=1&&f.push(T)}for(;f.length>0;){var s=f.pop();l[s]=!1;for(var d=u[s],T=0;T<d.length;++T){var A=d[T];--g[A]===0&&f.push(A)}}for(var w=new Array(c.length),C=[],T=0;T<c.length;++T)if(l[T]){var s=C.length;w[T]=s,C.push(c[T])}else w[T]=-1;for(var b=[],T=0;T<n.length;++T){var S=n[T];l[S[0]]&&l[S[1]]&&b.push([w[S[0]],w[S[1]]])}return[b,C]}},8040:function(v,p,r){v.exports=h;var t=r(8348),o=r(4166),n=r(211),c=r(9660),u=r(9662),l=r(1215),g=r(3959);function f(s,d){for(var A=new Array(s),w=0;w<s;++w)A[w]=d;return A}function T(s){for(var d=new Array(s),A=0;A<s;++A)d[A]=[];return d}function h(s,d){var K=g(s,d);s=K[0],d=K[1];var A=d.length;s.length;for(var w=t(s,d.length),C=0;C<A;++C)if(w[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var b=o(s,d);function S(ze){for(var ke=ze.length,Se=[0],me=0;me<ke;++me){var Ce=d[ze[me]],Ne=d[ze[(me+1)%ke]],He=c(-Ce[0],Ce[1]),De=c(-Ce[0],Ne[1]),Ve=c(Ne[0],Ce[1]),at=c(Ne[0],Ne[1]);Se=u(Se,u(u(He,De),u(Ve,at)))}return Se[Se.length-1]>0}b=b.filter(S);for(var x=b.length,i=new Array(x),E=new Array(x),C=0;C<x;++C){i[C]=C;var m=new Array(x),k=b[C].map(function(ke){return d[ke]}),I=n([k]),U=0;e:for(var z=0;z<x;++z)if(m[z]=0,C!==z){for(var F=b[z],B=F.length,O=0;O<B;++O){var N=I(d[F[O]]);if(N!==0){N<0&&(m[z]=1,U+=1);continue e}}m[z]=1,U+=1}E[C]=[U,C,m]}E.sort(function(ze,ke){return ke[0]-ze[0]});for(var C=0;C<x;++C)for(var m=E[C],Y=m[1],$=m[2],z=0;z<x;++z)$[z]&&(i[z]=Y);for(var te=T(x),C=0;C<x;++C)te[C].push(i[C]),te[i[C]].push(C);for(var ie={},ce=f(A,!1),C=0;C<x;++C)for(var F=b[C],B=F.length,z=0;z<B;++z){var J=F[z],Z=F[(z+1)%B],ae=Math.min(J,Z)+":"+Math.max(J,Z);if(ae in ie){var j=ie[ae];te[j].push(C),te[C].push(j),ce[J]=ce[Z]=!0}else ie[ae]=C}function q(ze){for(var ke=ze.length,Se=0;Se<ke;++Se)if(!ce[ze[Se]])return!1;return!0}for(var oe=[],Q=f(x,-1),C=0;C<x;++C)i[C]===C&&!q(b[C])?(oe.push(C),Q[C]=0):Q[C]=-1;for(var K=[];oe.length>0;){var se=oe.pop(),ne=te[se];l(ne,function(ze,ke){return ze-ke});var fe=ne.length,ye=Q[se],Ee;if(ye===0){var F=b[se];Ee=[F]}for(var C=0;C<fe;++C){var Te=ne[C];if(!(Q[Te]>=0)&&(Q[Te]=ye^1,oe.push(Te),ye===0)){var F=b[Te];q(F)||(F.reverse(),Ee.push(F))}}ye===0&&K.push(Ee)}return K}},211:function(v,p,r){v.exports=d;var t=r(417)[3],o=r(4385),n=r(9014),c=r(5070);function u(){return!0}function l(A){return function(w,C){var b=A[w];return b?!!b.queryPoint(C,u):!1}}function g(A){for(var w={},C=0;C<A.length;++C){var b=A[C],S=b[0][0],x=b[0][1],i=b[1][1],E=[Math.min(x,i),Math.max(x,i)];S in w?w[S].push(E):w[S]=[E]}for(var m={},k=Object.keys(w),C=0;C<k.length;++C){var I=w[k[C]];m[k[C]]=n(I)}return l(m)}function f(A,w){return function(C){var b=c.le(w,C[0]);if(b<0)return 1;var S=A[b];if(!S)if(b>0&&w[b]===C[0])S=A[b-1];else return 1;for(var x=1;S;){var i=S.key,E=t(C,i[0],i[1]);if(i[0][0]<i[1][0])if(E<0)S=S.left;else if(E>0)x=-1,S=S.right;else return 0;else if(E>0)S=S.left;else if(E<0)x=1,S=S.right;else return 0}return x}}function T(A){return 1}function h(A){return function(C){return A(C[0],C[1])?0:1}}function s(A,w){return function(b){return A(b[0],b[1])?0:w(b)}}function d(A){for(var w=A.length,C=[],b=[],S=0;S<w;++S)for(var x=A[S],i=x.length,E=i-1,m=0;m<i;E=m++){var k=x[E],I=x[m];k[0]===I[0]?b.push([k,I]):C.push([k,I])}if(C.length===0)return b.length===0?T:h(g(b));var U=o(C),z=f(U.slabs,U.coordinates);return b.length===0?z:s(g(b),z)}},7309:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function o(n,c,u,l,g){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var f=0;f<l.length;++f)p[f]=n[f]-l[f],r[f]=c[f]-n[f],t[f]=u[f]-n[f];for(var T=0,h=0,s=0,d=0,A=0,w=0,f=0;f<l.length;++f){var C=r[f],b=t[f],S=p[f];T+=C*C,h+=C*b,s+=b*b,d+=S*C,A+=S*b,w+=S*S}var x=Math.abs(T*s-h*h),i=h*A-s*d,E=h*d-T*A,m;if(i+E<=x)if(i<0)E<0&&d<0?(E=0,-d>=T?(i=1,m=T+2*d+w):(i=-d/T,m=d*i+w)):(i=0,A>=0?(E=0,m=w):-A>=s?(E=1,m=s+2*A+w):(E=-A/s,m=A*E+w));else if(E<0)E=0,d>=0?(i=0,m=w):-d>=T?(i=1,m=T+2*d+w):(i=-d/T,m=d*i+w);else{var k=1/x;i*=k,E*=k,m=i*(T*i+h*E+2*d)+E*(h*i+s*E+2*A)+w}else{var I,U,z,F;i<0?(I=h+d,U=s+A,U>I?(z=U-I,F=T-2*h+s,z>=F?(i=1,E=0,m=T+2*d+w):(i=z/F,E=1-i,m=i*(T*i+h*E+2*d)+E*(h*i+s*E+2*A)+w)):(i=0,U<=0?(E=1,m=s+2*A+w):A>=0?(E=0,m=w):(E=-A/s,m=A*E+w))):E<0?(I=h+A,U=T+d,U>I?(z=U-I,F=T-2*h+s,z>=F?(E=1,i=0,m=s+2*A+w):(E=z/F,i=1-E,m=i*(T*i+h*E+2*d)+E*(h*i+s*E+2*A)+w)):(E=0,U<=0?(i=1,m=T+2*d+w):d>=0?(i=0,m=w):(i=-d/T,m=d*i+w))):(z=s+A-h-d,z<=0?(i=0,E=1,m=s+2*A+w):(F=T-2*h+s,z>=F?(i=1,E=0,m=T+2*d+w):(i=z/F,E=1-i,m=i*(T*i+h*E+2*d)+E*(h*i+s*E+2*A)+w)))}for(var B=1-i-E,f=0;f<l.length;++f)g[f]=B*n[f]+i*c[f]+E*u[f];return m<0?0:m}v.exports=o},1116:function(v,p,r){v.exports=r(6093)},7584:function(v,p,r){var t=r(1539);v.exports=o;function o(n,c){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],c[g]);return l}},2826:function(v,p,r){v.exports=o;var t=r(5125);function o(n){for(var c=new Array(n.length),u=0;u<n.length;++u)c[u]=t(n[u]);return c}},4469:function(v,p,r){var t=r(5125),o=r(3962);v.exports=n;function n(c,u){for(var l=t(u),g=c.length,f=new Array(g),T=0;T<g;++T)f[T]=o(c[T],l);return f}},6695:function(v,p,r){var t=r(4354);v.exports=o;function o(n,c){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],c[g]);return l}},7037:function(v,p,r){var t=r(9209),o=r(1284),n=r(9887);v.exports=c;function c(u){u.sort(o);for(var l=u.length,g=0,f=0;f<l;++f){var T=u[f],h=n(T);if(h!==0){if(g>0){var s=u[g-1];if(t(T,s)===0&&n(s)!==h){g-=1;continue}}u[g++]=T}}return u.length=g,u}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(o,n){if(typeof o!="string")throw new TypeError("expected a string");if(n===1)return o;if(n===2)return o+o;var c=o.length*n;if(r!==o||typeof r>"u")r=o,p="";else if(p.length>=c)return p.substr(0,c);for(;c>p.length&&n>1;)n&1&&(p+=o),n>>=1,o+=o;return p+=o,p=p.substr(0,c),p}},8161:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(r){for(var t=r.length,o=r[r.length-1],n=t,c=t-2;c>=0;--c){var u=o,l=r[c];o=u+l;var g=o-u,f=l-g;f&&(r[--n]=o,o=f)}for(var T=0,c=n;c<t;++c){var u=r[c],l=o;o=u+l;var g=o-u,f=l-g;f&&(r[T++]=f)}return r[T++]=o,r.length=T,r}},8167:function(v,p,r){var t=r(9660),o=r(9662),n=r(8289),c=r(402),u=6;function l(w,C,b,S){return function(i){return S(w(b(i[0][0],i[1][1]),b(-i[0][1],i[1][0])))}}function g(w,C,b,S){return function(i){return S(w(C(w(b(i[1][1],i[2][2]),b(-i[1][2],i[2][1])),i[0][0]),w(C(w(b(i[1][0],i[2][2]),b(-i[1][2],i[2][0])),-i[0][1]),C(w(b(i[1][0],i[2][1]),b(-i[1][1],i[2][0])),i[0][2]))))}}function f(w,C,b,S){return function(i){return S(w(w(C(w(C(w(b(i[2][2],i[3][3]),b(-i[2][3],i[3][2])),i[1][1]),w(C(w(b(i[2][1],i[3][3]),b(-i[2][3],i[3][1])),-i[1][2]),C(w(b(i[2][1],i[3][2]),b(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),C(w(C(w(b(i[2][2],i[3][3]),b(-i[2][3],i[3][2])),i[1][0]),w(C(w(b(i[2][0],i[3][3]),b(-i[2][3],i[3][0])),-i[1][2]),C(w(b(i[2][0],i[3][2]),b(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),w(C(w(C(w(b(i[2][1],i[3][3]),b(-i[2][3],i[3][1])),i[1][0]),w(C(w(b(i[2][0],i[3][3]),b(-i[2][3],i[3][0])),-i[1][1]),C(w(b(i[2][0],i[3][1]),b(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),C(w(C(w(b(i[2][1],i[3][2]),b(-i[2][2],i[3][1])),i[1][0]),w(C(w(b(i[2][0],i[3][2]),b(-i[2][2],i[3][0])),-i[1][1]),C(w(b(i[2][0],i[3][1]),b(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function T(w,C,b,S){return function(i){return S(w(w(C(w(w(C(w(C(w(b(i[3][3],i[4][4]),b(-i[3][4],i[4][3])),i[2][2]),w(C(w(b(i[3][2],i[4][4]),b(-i[3][4],i[4][2])),-i[2][3]),C(w(b(i[3][2],i[4][3]),b(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),C(w(C(w(b(i[3][3],i[4][4]),b(-i[3][4],i[4][3])),i[2][1]),w(C(w(b(i[3][1],i[4][4]),b(-i[3][4],i[4][1])),-i[2][3]),C(w(b(i[3][1],i[4][3]),b(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),w(C(w(C(w(b(i[3][2],i[4][4]),b(-i[3][4],i[4][2])),i[2][1]),w(C(w(b(i[3][1],i[4][4]),b(-i[3][4],i[4][1])),-i[2][2]),C(w(b(i[3][1],i[4][2]),b(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),C(w(C(w(b(i[3][2],i[4][3]),b(-i[3][3],i[4][2])),i[2][1]),w(C(w(b(i[3][1],i[4][3]),b(-i[3][3],i[4][1])),-i[2][2]),C(w(b(i[3][1],i[4][2]),b(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),C(w(w(C(w(C(w(b(i[3][3],i[4][4]),b(-i[3][4],i[4][3])),i[2][2]),w(C(w(b(i[3][2],i[4][4]),b(-i[3][4],i[4][2])),-i[2][3]),C(w(b(i[3][2],i[4][3]),b(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),C(w(C(w(b(i[3][3],i[4][4]),b(-i[3][4],i[4][3])),i[2][0]),w(C(w(b(i[3][0],i[4][4]),b(-i[3][4],i[4][0])),-i[2][3]),C(w(b(i[3][0],i[4][3]),b(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),w(C(w(C(w(b(i[3][2],i[4][4]),b(-i[3][4],i[4][2])),i[2][0]),w(C(w(b(i[3][0],i[4][4]),b(-i[3][4],i[4][0])),-i[2][2]),C(w(b(i[3][0],i[4][2]),b(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),C(w(C(w(b(i[3][2],i[4][3]),b(-i[3][3],i[4][2])),i[2][0]),w(C(w(b(i[3][0],i[4][3]),b(-i[3][3],i[4][0])),-i[2][2]),C(w(b(i[3][0],i[4][2]),b(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),w(C(w(w(C(w(C(w(b(i[3][3],i[4][4]),b(-i[3][4],i[4][3])),i[2][1]),w(C(w(b(i[3][1],i[4][4]),b(-i[3][4],i[4][1])),-i[2][3]),C(w(b(i[3][1],i[4][3]),b(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),C(w(C(w(b(i[3][3],i[4][4]),b(-i[3][4],i[4][3])),i[2][0]),w(C(w(b(i[3][0],i[4][4]),b(-i[3][4],i[4][0])),-i[2][3]),C(w(b(i[3][0],i[4][3]),b(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),w(C(w(C(w(b(i[3][1],i[4][4]),b(-i[3][4],i[4][1])),i[2][0]),w(C(w(b(i[3][0],i[4][4]),b(-i[3][4],i[4][0])),-i[2][1]),C(w(b(i[3][0],i[4][1]),b(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),C(w(C(w(b(i[3][1],i[4][3]),b(-i[3][3],i[4][1])),i[2][0]),w(C(w(b(i[3][0],i[4][3]),b(-i[3][3],i[4][0])),-i[2][1]),C(w(b(i[3][0],i[4][1]),b(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),w(C(w(w(C(w(C(w(b(i[3][2],i[4][4]),b(-i[3][4],i[4][2])),i[2][1]),w(C(w(b(i[3][1],i[4][4]),b(-i[3][4],i[4][1])),-i[2][2]),C(w(b(i[3][1],i[4][2]),b(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),C(w(C(w(b(i[3][2],i[4][4]),b(-i[3][4],i[4][2])),i[2][0]),w(C(w(b(i[3][0],i[4][4]),b(-i[3][4],i[4][0])),-i[2][2]),C(w(b(i[3][0],i[4][2]),b(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),w(C(w(C(w(b(i[3][1],i[4][4]),b(-i[3][4],i[4][1])),i[2][0]),w(C(w(b(i[3][0],i[4][4]),b(-i[3][4],i[4][0])),-i[2][1]),C(w(b(i[3][0],i[4][1]),b(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),C(w(C(w(b(i[3][1],i[4][2]),b(-i[3][2],i[4][1])),i[2][0]),w(C(w(b(i[3][0],i[4][2]),b(-i[3][2],i[4][0])),-i[2][1]),C(w(b(i[3][0],i[4][1]),b(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),C(w(w(C(w(C(w(b(i[3][2],i[4][3]),b(-i[3][3],i[4][2])),i[2][1]),w(C(w(b(i[3][1],i[4][3]),b(-i[3][3],i[4][1])),-i[2][2]),C(w(b(i[3][1],i[4][2]),b(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),C(w(C(w(b(i[3][2],i[4][3]),b(-i[3][3],i[4][2])),i[2][0]),w(C(w(b(i[3][0],i[4][3]),b(-i[3][3],i[4][0])),-i[2][2]),C(w(b(i[3][0],i[4][2]),b(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),w(C(w(C(w(b(i[3][1],i[4][3]),b(-i[3][3],i[4][1])),i[2][0]),w(C(w(b(i[3][0],i[4][3]),b(-i[3][3],i[4][0])),-i[2][1]),C(w(b(i[3][0],i[4][1]),b(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),C(w(C(w(b(i[3][1],i[4][2]),b(-i[3][2],i[4][1])),i[2][0]),w(C(w(b(i[3][0],i[4][2]),b(-i[3][2],i[4][0])),-i[2][1]),C(w(b(i[3][0],i[4][1]),b(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function h(w){var C=w===2?l:w===3?g:w===4?f:w===5?T:void 0;return C(o,n,t,c)}var s=[function(){return[0]},function(C){return[C[0][0]]}];function d(w,C,b,S,x,i,E,m){return function(I){switch(I.length){case 0:return w(I);case 1:return C(I);case 2:return b(I);case 3:return S(I);case 4:return x(I);case 5:return i(I)}var U=E[I.length];return U||(U=E[I.length]=m(I.length)),U(I)}}function A(){for(;s.length<u;)s.push(h(s.length));v.exports=d.apply(void 0,s.concat([s,h]));for(var w=0;w<s.length;++w)v.exports[w]=s[w]}A()},9130:function(v,p,r){var t=r(9660),o=r(9662);v.exports=n;function n(c,u){for(var l=t(c[0],u[0]),g=1;g<c.length;++g)l=o(l,t(c[g],u[g]));return l}},2227:function(v,p,r){var t=r(9660),o=r(9662),n=r(4078),c=r(8289),u=6;function l(x){var i=x===3?h:x===4?s:x===5?d:A;return i(o,n,t,c)}function g(){return 0}function f(){return 0}function T(){return 0}function h(x,i,E,m){function k(I,U,z){var F=E(I[0],I[0]),B=m(F,U[0]),O=m(F,z[0]),N=E(U[0],U[0]),Y=m(N,I[0]),$=m(N,z[0]),te=E(z[0],z[0]),ie=m(te,I[0]),ce=m(te,U[0]),J=x(i(ce,$),i(Y,B)),Z=i(ie,O),ae=i(J,Z);return ae[ae.length-1]}return k}function s(x,i,E,m){function k(I,U,z,F){var B=x(E(I[0],I[0]),E(I[1],I[1])),O=m(B,U[0]),N=m(B,z[0]),Y=m(B,F[0]),$=x(E(U[0],U[0]),E(U[1],U[1])),te=m($,I[0]),ie=m($,z[0]),ce=m($,F[0]),J=x(E(z[0],z[0]),E(z[1],z[1])),Z=m(J,I[0]),ae=m(J,U[0]),j=m(J,F[0]),q=x(E(F[0],F[0]),E(F[1],F[1])),oe=m(q,I[0]),Q=m(q,U[0]),K=m(q,z[0]),se=x(x(m(i(K,j),U[1]),x(m(i(Q,ce),-z[1]),m(i(ae,ie),F[1]))),x(m(i(Q,ce),I[1]),x(m(i(oe,Y),-U[1]),m(i(te,O),F[1])))),ne=x(x(m(i(K,j),I[1]),x(m(i(oe,Y),-z[1]),m(i(Z,N),F[1]))),x(m(i(ae,ie),I[1]),x(m(i(Z,N),-U[1]),m(i(te,O),z[1])))),fe=i(se,ne);return fe[fe.length-1]}return k}function d(x,i,E,m){function k(I,U,z,F,B){var O=x(E(I[0],I[0]),x(E(I[1],I[1]),E(I[2],I[2]))),N=m(O,U[0]),Y=m(O,z[0]),$=m(O,F[0]),te=m(O,B[0]),ie=x(E(U[0],U[0]),x(E(U[1],U[1]),E(U[2],U[2]))),ce=m(ie,I[0]),J=m(ie,z[0]),Z=m(ie,F[0]),ae=m(ie,B[0]),j=x(E(z[0],z[0]),x(E(z[1],z[1]),E(z[2],z[2]))),q=m(j,I[0]),oe=m(j,U[0]),Q=m(j,F[0]),K=m(j,B[0]),se=x(E(F[0],F[0]),x(E(F[1],F[1]),E(F[2],F[2]))),ne=m(se,I[0]),fe=m(se,U[0]),ye=m(se,z[0]),Ee=m(se,B[0]),Te=x(E(B[0],B[0]),x(E(B[1],B[1]),E(B[2],B[2]))),ze=m(Te,I[0]),ke=m(Te,U[0]),Se=m(Te,z[0]),me=m(Te,F[0]),Ce=x(x(x(m(x(m(i(me,Ee),z[1]),x(m(i(Se,K),-F[1]),m(i(ye,Q),B[1]))),U[2]),x(m(x(m(i(me,Ee),U[1]),x(m(i(ke,ae),-F[1]),m(i(fe,Z),B[1]))),-z[2]),m(x(m(i(Se,K),U[1]),x(m(i(ke,ae),-z[1]),m(i(oe,J),B[1]))),F[2]))),x(m(x(m(i(ye,Q),U[1]),x(m(i(fe,Z),-z[1]),m(i(oe,J),F[1]))),-B[2]),x(m(x(m(i(me,Ee),U[1]),x(m(i(ke,ae),-F[1]),m(i(fe,Z),B[1]))),I[2]),m(x(m(i(me,Ee),I[1]),x(m(i(ze,te),-F[1]),m(i(ne,$),B[1]))),-U[2])))),x(x(m(x(m(i(ke,ae),I[1]),x(m(i(ze,te),-U[1]),m(i(ce,N),B[1]))),F[2]),x(m(x(m(i(fe,Z),I[1]),x(m(i(ne,$),-U[1]),m(i(ce,N),F[1]))),-B[2]),m(x(m(i(ye,Q),U[1]),x(m(i(fe,Z),-z[1]),m(i(oe,J),F[1]))),I[2]))),x(m(x(m(i(ye,Q),I[1]),x(m(i(ne,$),-z[1]),m(i(q,Y),F[1]))),-U[2]),x(m(x(m(i(fe,Z),I[1]),x(m(i(ne,$),-U[1]),m(i(ce,N),F[1]))),z[2]),m(x(m(i(oe,J),I[1]),x(m(i(q,Y),-U[1]),m(i(ce,N),z[1]))),-F[2]))))),Ne=x(x(x(m(x(m(i(me,Ee),z[1]),x(m(i(Se,K),-F[1]),m(i(ye,Q),B[1]))),I[2]),m(x(m(i(me,Ee),I[1]),x(m(i(ze,te),-F[1]),m(i(ne,$),B[1]))),-z[2])),x(m(x(m(i(Se,K),I[1]),x(m(i(ze,te),-z[1]),m(i(q,Y),B[1]))),F[2]),m(x(m(i(ye,Q),I[1]),x(m(i(ne,$),-z[1]),m(i(q,Y),F[1]))),-B[2]))),x(x(m(x(m(i(Se,K),U[1]),x(m(i(ke,ae),-z[1]),m(i(oe,J),B[1]))),I[2]),m(x(m(i(Se,K),I[1]),x(m(i(ze,te),-z[1]),m(i(q,Y),B[1]))),-U[2])),x(m(x(m(i(ke,ae),I[1]),x(m(i(ze,te),-U[1]),m(i(ce,N),B[1]))),z[2]),m(x(m(i(oe,J),I[1]),x(m(i(q,Y),-U[1]),m(i(ce,N),z[1]))),-B[2])))),He=i(Ce,Ne);return He[He.length-1]}return k}function A(x,i,E,m){function k(I,U,z,F,B,O){var N=x(x(E(I[0],I[0]),E(I[1],I[1])),x(E(I[2],I[2]),E(I[3],I[3]))),Y=m(N,U[0]),$=m(N,z[0]),te=m(N,F[0]),ie=m(N,B[0]),ce=m(N,O[0]),J=x(x(E(U[0],U[0]),E(U[1],U[1])),x(E(U[2],U[2]),E(U[3],U[3]))),Z=m(J,I[0]),ae=m(J,z[0]),j=m(J,F[0]),q=m(J,B[0]),oe=m(J,O[0]),Q=x(x(E(z[0],z[0]),E(z[1],z[1])),x(E(z[2],z[2]),E(z[3],z[3]))),K=m(Q,I[0]),se=m(Q,U[0]),ne=m(Q,F[0]),fe=m(Q,B[0]),ye=m(Q,O[0]),Ee=x(x(E(F[0],F[0]),E(F[1],F[1])),x(E(F[2],F[2]),E(F[3],F[3]))),Te=m(Ee,I[0]),ze=m(Ee,U[0]),ke=m(Ee,z[0]),Se=m(Ee,B[0]),me=m(Ee,O[0]),Ce=x(x(E(B[0],B[0]),E(B[1],B[1])),x(E(B[2],B[2]),E(B[3],B[3]))),Ne=m(Ce,I[0]),He=m(Ce,U[0]),De=m(Ce,z[0]),Ve=m(Ce,F[0]),at=m(Ce,O[0]),lt=x(x(E(O[0],O[0]),E(O[1],O[1])),x(E(O[2],O[2]),E(O[3],O[3]))),$e=m(lt,I[0]),et=m(lt,U[0]),ct=m(lt,z[0]),dt=m(lt,F[0]),gt=m(lt,B[0]),At=x(x(x(m(x(x(m(x(m(i(gt,at),F[1]),x(m(i(dt,me),-B[1]),m(i(Ve,Se),O[1]))),z[2]),m(x(m(i(gt,at),z[1]),x(m(i(ct,ye),-B[1]),m(i(De,fe),O[1]))),-F[2])),x(m(x(m(i(dt,me),z[1]),x(m(i(ct,ye),-F[1]),m(i(ke,ne),O[1]))),B[2]),m(x(m(i(Ve,Se),z[1]),x(m(i(De,fe),-F[1]),m(i(ke,ne),B[1]))),-O[2]))),U[3]),x(m(x(x(m(x(m(i(gt,at),F[1]),x(m(i(dt,me),-B[1]),m(i(Ve,Se),O[1]))),U[2]),m(x(m(i(gt,at),U[1]),x(m(i(et,oe),-B[1]),m(i(He,q),O[1]))),-F[2])),x(m(x(m(i(dt,me),U[1]),x(m(i(et,oe),-F[1]),m(i(ze,j),O[1]))),B[2]),m(x(m(i(Ve,Se),U[1]),x(m(i(He,q),-F[1]),m(i(ze,j),B[1]))),-O[2]))),-z[3]),m(x(x(m(x(m(i(gt,at),z[1]),x(m(i(ct,ye),-B[1]),m(i(De,fe),O[1]))),U[2]),m(x(m(i(gt,at),U[1]),x(m(i(et,oe),-B[1]),m(i(He,q),O[1]))),-z[2])),x(m(x(m(i(ct,ye),U[1]),x(m(i(et,oe),-z[1]),m(i(se,ae),O[1]))),B[2]),m(x(m(i(De,fe),U[1]),x(m(i(He,q),-z[1]),m(i(se,ae),B[1]))),-O[2]))),F[3]))),x(x(m(x(x(m(x(m(i(dt,me),z[1]),x(m(i(ct,ye),-F[1]),m(i(ke,ne),O[1]))),U[2]),m(x(m(i(dt,me),U[1]),x(m(i(et,oe),-F[1]),m(i(ze,j),O[1]))),-z[2])),x(m(x(m(i(ct,ye),U[1]),x(m(i(et,oe),-z[1]),m(i(se,ae),O[1]))),F[2]),m(x(m(i(ke,ne),U[1]),x(m(i(ze,j),-z[1]),m(i(se,ae),F[1]))),-O[2]))),-B[3]),m(x(x(m(x(m(i(Ve,Se),z[1]),x(m(i(De,fe),-F[1]),m(i(ke,ne),B[1]))),U[2]),m(x(m(i(Ve,Se),U[1]),x(m(i(He,q),-F[1]),m(i(ze,j),B[1]))),-z[2])),x(m(x(m(i(De,fe),U[1]),x(m(i(He,q),-z[1]),m(i(se,ae),B[1]))),F[2]),m(x(m(i(ke,ne),U[1]),x(m(i(ze,j),-z[1]),m(i(se,ae),F[1]))),-B[2]))),O[3])),x(m(x(x(m(x(m(i(gt,at),F[1]),x(m(i(dt,me),-B[1]),m(i(Ve,Se),O[1]))),U[2]),m(x(m(i(gt,at),U[1]),x(m(i(et,oe),-B[1]),m(i(He,q),O[1]))),-F[2])),x(m(x(m(i(dt,me),U[1]),x(m(i(et,oe),-F[1]),m(i(ze,j),O[1]))),B[2]),m(x(m(i(Ve,Se),U[1]),x(m(i(He,q),-F[1]),m(i(ze,j),B[1]))),-O[2]))),I[3]),m(x(x(m(x(m(i(gt,at),F[1]),x(m(i(dt,me),-B[1]),m(i(Ve,Se),O[1]))),I[2]),m(x(m(i(gt,at),I[1]),x(m(i($e,ce),-B[1]),m(i(Ne,ie),O[1]))),-F[2])),x(m(x(m(i(dt,me),I[1]),x(m(i($e,ce),-F[1]),m(i(Te,te),O[1]))),B[2]),m(x(m(i(Ve,Se),I[1]),x(m(i(Ne,ie),-F[1]),m(i(Te,te),B[1]))),-O[2]))),-U[3])))),x(x(x(m(x(x(m(x(m(i(gt,at),U[1]),x(m(i(et,oe),-B[1]),m(i(He,q),O[1]))),I[2]),m(x(m(i(gt,at),I[1]),x(m(i($e,ce),-B[1]),m(i(Ne,ie),O[1]))),-U[2])),x(m(x(m(i(et,oe),I[1]),x(m(i($e,ce),-U[1]),m(i(Z,Y),O[1]))),B[2]),m(x(m(i(He,q),I[1]),x(m(i(Ne,ie),-U[1]),m(i(Z,Y),B[1]))),-O[2]))),F[3]),m(x(x(m(x(m(i(dt,me),U[1]),x(m(i(et,oe),-F[1]),m(i(ze,j),O[1]))),I[2]),m(x(m(i(dt,me),I[1]),x(m(i($e,ce),-F[1]),m(i(Te,te),O[1]))),-U[2])),x(m(x(m(i(et,oe),I[1]),x(m(i($e,ce),-U[1]),m(i(Z,Y),O[1]))),F[2]),m(x(m(i(ze,j),I[1]),x(m(i(Te,te),-U[1]),m(i(Z,Y),F[1]))),-O[2]))),-B[3])),x(m(x(x(m(x(m(i(Ve,Se),U[1]),x(m(i(He,q),-F[1]),m(i(ze,j),B[1]))),I[2]),m(x(m(i(Ve,Se),I[1]),x(m(i(Ne,ie),-F[1]),m(i(Te,te),B[1]))),-U[2])),x(m(x(m(i(He,q),I[1]),x(m(i(Ne,ie),-U[1]),m(i(Z,Y),B[1]))),F[2]),m(x(m(i(ze,j),I[1]),x(m(i(Te,te),-U[1]),m(i(Z,Y),F[1]))),-B[2]))),O[3]),m(x(x(m(x(m(i(dt,me),z[1]),x(m(i(ct,ye),-F[1]),m(i(ke,ne),O[1]))),U[2]),m(x(m(i(dt,me),U[1]),x(m(i(et,oe),-F[1]),m(i(ze,j),O[1]))),-z[2])),x(m(x(m(i(ct,ye),U[1]),x(m(i(et,oe),-z[1]),m(i(se,ae),O[1]))),F[2]),m(x(m(i(ke,ne),U[1]),x(m(i(ze,j),-z[1]),m(i(se,ae),F[1]))),-O[2]))),I[3]))),x(x(m(x(x(m(x(m(i(dt,me),z[1]),x(m(i(ct,ye),-F[1]),m(i(ke,ne),O[1]))),I[2]),m(x(m(i(dt,me),I[1]),x(m(i($e,ce),-F[1]),m(i(Te,te),O[1]))),-z[2])),x(m(x(m(i(ct,ye),I[1]),x(m(i($e,ce),-z[1]),m(i(K,$),O[1]))),F[2]),m(x(m(i(ke,ne),I[1]),x(m(i(Te,te),-z[1]),m(i(K,$),F[1]))),-O[2]))),-U[3]),m(x(x(m(x(m(i(dt,me),U[1]),x(m(i(et,oe),-F[1]),m(i(ze,j),O[1]))),I[2]),m(x(m(i(dt,me),I[1]),x(m(i($e,ce),-F[1]),m(i(Te,te),O[1]))),-U[2])),x(m(x(m(i(et,oe),I[1]),x(m(i($e,ce),-U[1]),m(i(Z,Y),O[1]))),F[2]),m(x(m(i(ze,j),I[1]),x(m(i(Te,te),-U[1]),m(i(Z,Y),F[1]))),-O[2]))),z[3])),x(m(x(x(m(x(m(i(ct,ye),U[1]),x(m(i(et,oe),-z[1]),m(i(se,ae),O[1]))),I[2]),m(x(m(i(ct,ye),I[1]),x(m(i($e,ce),-z[1]),m(i(K,$),O[1]))),-U[2])),x(m(x(m(i(et,oe),I[1]),x(m(i($e,ce),-U[1]),m(i(Z,Y),O[1]))),z[2]),m(x(m(i(se,ae),I[1]),x(m(i(K,$),-U[1]),m(i(Z,Y),z[1]))),-O[2]))),-F[3]),m(x(x(m(x(m(i(ke,ne),U[1]),x(m(i(ze,j),-z[1]),m(i(se,ae),F[1]))),I[2]),m(x(m(i(ke,ne),I[1]),x(m(i(Te,te),-z[1]),m(i(K,$),F[1]))),-U[2])),x(m(x(m(i(ze,j),I[1]),x(m(i(Te,te),-U[1]),m(i(Z,Y),F[1]))),z[2]),m(x(m(i(se,ae),I[1]),x(m(i(K,$),-U[1]),m(i(Z,Y),z[1]))),-F[2]))),O[3]))))),Rt=x(x(x(m(x(x(m(x(m(i(gt,at),F[1]),x(m(i(dt,me),-B[1]),m(i(Ve,Se),O[1]))),z[2]),m(x(m(i(gt,at),z[1]),x(m(i(ct,ye),-B[1]),m(i(De,fe),O[1]))),-F[2])),x(m(x(m(i(dt,me),z[1]),x(m(i(ct,ye),-F[1]),m(i(ke,ne),O[1]))),B[2]),m(x(m(i(Ve,Se),z[1]),x(m(i(De,fe),-F[1]),m(i(ke,ne),B[1]))),-O[2]))),I[3]),x(m(x(x(m(x(m(i(gt,at),F[1]),x(m(i(dt,me),-B[1]),m(i(Ve,Se),O[1]))),I[2]),m(x(m(i(gt,at),I[1]),x(m(i($e,ce),-B[1]),m(i(Ne,ie),O[1]))),-F[2])),x(m(x(m(i(dt,me),I[1]),x(m(i($e,ce),-F[1]),m(i(Te,te),O[1]))),B[2]),m(x(m(i(Ve,Se),I[1]),x(m(i(Ne,ie),-F[1]),m(i(Te,te),B[1]))),-O[2]))),-z[3]),m(x(x(m(x(m(i(gt,at),z[1]),x(m(i(ct,ye),-B[1]),m(i(De,fe),O[1]))),I[2]),m(x(m(i(gt,at),I[1]),x(m(i($e,ce),-B[1]),m(i(Ne,ie),O[1]))),-z[2])),x(m(x(m(i(ct,ye),I[1]),x(m(i($e,ce),-z[1]),m(i(K,$),O[1]))),B[2]),m(x(m(i(De,fe),I[1]),x(m(i(Ne,ie),-z[1]),m(i(K,$),B[1]))),-O[2]))),F[3]))),x(x(m(x(x(m(x(m(i(dt,me),z[1]),x(m(i(ct,ye),-F[1]),m(i(ke,ne),O[1]))),I[2]),m(x(m(i(dt,me),I[1]),x(m(i($e,ce),-F[1]),m(i(Te,te),O[1]))),-z[2])),x(m(x(m(i(ct,ye),I[1]),x(m(i($e,ce),-z[1]),m(i(K,$),O[1]))),F[2]),m(x(m(i(ke,ne),I[1]),x(m(i(Te,te),-z[1]),m(i(K,$),F[1]))),-O[2]))),-B[3]),m(x(x(m(x(m(i(Ve,Se),z[1]),x(m(i(De,fe),-F[1]),m(i(ke,ne),B[1]))),I[2]),m(x(m(i(Ve,Se),I[1]),x(m(i(Ne,ie),-F[1]),m(i(Te,te),B[1]))),-z[2])),x(m(x(m(i(De,fe),I[1]),x(m(i(Ne,ie),-z[1]),m(i(K,$),B[1]))),F[2]),m(x(m(i(ke,ne),I[1]),x(m(i(Te,te),-z[1]),m(i(K,$),F[1]))),-B[2]))),O[3])),x(m(x(x(m(x(m(i(gt,at),z[1]),x(m(i(ct,ye),-B[1]),m(i(De,fe),O[1]))),U[2]),m(x(m(i(gt,at),U[1]),x(m(i(et,oe),-B[1]),m(i(He,q),O[1]))),-z[2])),x(m(x(m(i(ct,ye),U[1]),x(m(i(et,oe),-z[1]),m(i(se,ae),O[1]))),B[2]),m(x(m(i(De,fe),U[1]),x(m(i(He,q),-z[1]),m(i(se,ae),B[1]))),-O[2]))),I[3]),m(x(x(m(x(m(i(gt,at),z[1]),x(m(i(ct,ye),-B[1]),m(i(De,fe),O[1]))),I[2]),m(x(m(i(gt,at),I[1]),x(m(i($e,ce),-B[1]),m(i(Ne,ie),O[1]))),-z[2])),x(m(x(m(i(ct,ye),I[1]),x(m(i($e,ce),-z[1]),m(i(K,$),O[1]))),B[2]),m(x(m(i(De,fe),I[1]),x(m(i(Ne,ie),-z[1]),m(i(K,$),B[1]))),-O[2]))),-U[3])))),x(x(x(m(x(x(m(x(m(i(gt,at),U[1]),x(m(i(et,oe),-B[1]),m(i(He,q),O[1]))),I[2]),m(x(m(i(gt,at),I[1]),x(m(i($e,ce),-B[1]),m(i(Ne,ie),O[1]))),-U[2])),x(m(x(m(i(et,oe),I[1]),x(m(i($e,ce),-U[1]),m(i(Z,Y),O[1]))),B[2]),m(x(m(i(He,q),I[1]),x(m(i(Ne,ie),-U[1]),m(i(Z,Y),B[1]))),-O[2]))),z[3]),m(x(x(m(x(m(i(ct,ye),U[1]),x(m(i(et,oe),-z[1]),m(i(se,ae),O[1]))),I[2]),m(x(m(i(ct,ye),I[1]),x(m(i($e,ce),-z[1]),m(i(K,$),O[1]))),-U[2])),x(m(x(m(i(et,oe),I[1]),x(m(i($e,ce),-U[1]),m(i(Z,Y),O[1]))),z[2]),m(x(m(i(se,ae),I[1]),x(m(i(K,$),-U[1]),m(i(Z,Y),z[1]))),-O[2]))),-B[3])),x(m(x(x(m(x(m(i(De,fe),U[1]),x(m(i(He,q),-z[1]),m(i(se,ae),B[1]))),I[2]),m(x(m(i(De,fe),I[1]),x(m(i(Ne,ie),-z[1]),m(i(K,$),B[1]))),-U[2])),x(m(x(m(i(He,q),I[1]),x(m(i(Ne,ie),-U[1]),m(i(Z,Y),B[1]))),z[2]),m(x(m(i(se,ae),I[1]),x(m(i(K,$),-U[1]),m(i(Z,Y),z[1]))),-B[2]))),O[3]),m(x(x(m(x(m(i(Ve,Se),z[1]),x(m(i(De,fe),-F[1]),m(i(ke,ne),B[1]))),U[2]),m(x(m(i(Ve,Se),U[1]),x(m(i(He,q),-F[1]),m(i(ze,j),B[1]))),-z[2])),x(m(x(m(i(De,fe),U[1]),x(m(i(He,q),-z[1]),m(i(se,ae),B[1]))),F[2]),m(x(m(i(ke,ne),U[1]),x(m(i(ze,j),-z[1]),m(i(se,ae),F[1]))),-B[2]))),I[3]))),x(x(m(x(x(m(x(m(i(Ve,Se),z[1]),x(m(i(De,fe),-F[1]),m(i(ke,ne),B[1]))),I[2]),m(x(m(i(Ve,Se),I[1]),x(m(i(Ne,ie),-F[1]),m(i(Te,te),B[1]))),-z[2])),x(m(x(m(i(De,fe),I[1]),x(m(i(Ne,ie),-z[1]),m(i(K,$),B[1]))),F[2]),m(x(m(i(ke,ne),I[1]),x(m(i(Te,te),-z[1]),m(i(K,$),F[1]))),-B[2]))),-U[3]),m(x(x(m(x(m(i(Ve,Se),U[1]),x(m(i(He,q),-F[1]),m(i(ze,j),B[1]))),I[2]),m(x(m(i(Ve,Se),I[1]),x(m(i(Ne,ie),-F[1]),m(i(Te,te),B[1]))),-U[2])),x(m(x(m(i(He,q),I[1]),x(m(i(Ne,ie),-U[1]),m(i(Z,Y),B[1]))),F[2]),m(x(m(i(ze,j),I[1]),x(m(i(Te,te),-U[1]),m(i(Z,Y),F[1]))),-B[2]))),z[3])),x(m(x(x(m(x(m(i(De,fe),U[1]),x(m(i(He,q),-z[1]),m(i(se,ae),B[1]))),I[2]),m(x(m(i(De,fe),I[1]),x(m(i(Ne,ie),-z[1]),m(i(K,$),B[1]))),-U[2])),x(m(x(m(i(He,q),I[1]),x(m(i(Ne,ie),-U[1]),m(i(Z,Y),B[1]))),z[2]),m(x(m(i(se,ae),I[1]),x(m(i(K,$),-U[1]),m(i(Z,Y),z[1]))),-B[2]))),-F[3]),m(x(x(m(x(m(i(ke,ne),U[1]),x(m(i(ze,j),-z[1]),m(i(se,ae),F[1]))),I[2]),m(x(m(i(ke,ne),I[1]),x(m(i(Te,te),-z[1]),m(i(K,$),F[1]))),-U[2])),x(m(x(m(i(ze,j),I[1]),x(m(i(Te,te),-U[1]),m(i(Z,Y),F[1]))),z[2]),m(x(m(i(se,ae),I[1]),x(m(i(K,$),-U[1]),m(i(Z,Y),z[1]))),-F[2]))),B[3]))))),Vt=i(At,Rt);return Vt[Vt.length-1]}return k}var w=[g,f,T];function C(x){var i=w[x.length];return i||(i=w[x.length]=l(x.length)),i.apply(void 0,x)}function b(x,i,E,m,k,I,U,z){function F(B,O,N,Y,$,te){switch(arguments.length){case 0:case 1:return 0;case 2:return m(B,O);case 3:return k(B,O,N);case 4:return I(B,O,N,Y);case 5:return U(B,O,N,Y,$);case 6:return z(B,O,N,Y,$,te)}for(var ie=new Array(arguments.length),ce=0;ce<arguments.length;++ce)ie[ce]=arguments[ce];return x(ie)}return F}function S(){for(;w.length<=u;)w.push(l(w.length));v.exports=b.apply(void 0,[C].concat(w));for(var x=0;x<=u;++x)v.exports[x]=w[x]}S()},6606:function(v,p,r){var t=r(8167),o=6;function n(w){var C=w===2?l:w===3?g:w===4?f:w===5?T:h;return w<6?C(t[w]):C(t)}function c(){return[[0]]}function u(w,C){return[[C[0]],[w[0][0]]]}function l(w){return function(b,S){return[w([[+S[0],+b[0][1]],[+S[1],+b[1][1]]]),w([[+b[0][0],+S[0]],[+b[1][0],+S[1]]]),w(b)]}}function g(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2]],[+S[1],+b[1][1],+b[1][2]],[+S[2],+b[2][1],+b[2][2]]]),w([[+b[0][0],+S[0],+b[0][2]],[+b[1][0],+S[1],+b[1][2]],[+b[2][0],+S[2],+b[2][2]]]),w([[+b[0][0],+b[0][1],+S[0]],[+b[1][0],+b[1][1],+S[1]],[+b[2][0],+b[2][1],+S[2]]]),w(b)]}}function f(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2],+b[0][3]],[+S[1],+b[1][1],+b[1][2],+b[1][3]],[+S[2],+b[2][1],+b[2][2],+b[2][3]],[+S[3],+b[3][1],+b[3][2],+b[3][3]]]),w([[+b[0][0],+S[0],+b[0][2],+b[0][3]],[+b[1][0],+S[1],+b[1][2],+b[1][3]],[+b[2][0],+S[2],+b[2][2],+b[2][3]],[+b[3][0],+S[3],+b[3][2],+b[3][3]]]),w([[+b[0][0],+b[0][1],+S[0],+b[0][3]],[+b[1][0],+b[1][1],+S[1],+b[1][3]],[+b[2][0],+b[2][1],+S[2],+b[2][3]],[+b[3][0],+b[3][1],+S[3],+b[3][3]]]),w([[+b[0][0],+b[0][1],+b[0][2],+S[0]],[+b[1][0],+b[1][1],+b[1][2],+S[1]],[+b[2][0],+b[2][1],+b[2][2],+S[2]],[+b[3][0],+b[3][1],+b[3][2],+S[3]]]),w(b)]}}function T(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2],+b[0][3],+b[0][4]],[+S[1],+b[1][1],+b[1][2],+b[1][3],+b[1][4]],[+S[2],+b[2][1],+b[2][2],+b[2][3],+b[2][4]],[+S[3],+b[3][1],+b[3][2],+b[3][3],+b[3][4]],[+S[4],+b[4][1],+b[4][2],+b[4][3],+b[4][4]]]),w([[+b[0][0],+S[0],+b[0][2],+b[0][3],+b[0][4]],[+b[1][0],+S[1],+b[1][2],+b[1][3],+b[1][4]],[+b[2][0],+S[2],+b[2][2],+b[2][3],+b[2][4]],[+b[3][0],+S[3],+b[3][2],+b[3][3],+b[3][4]],[+b[4][0],+S[4],+b[4][2],+b[4][3],+b[4][4]]]),w([[+b[0][0],+b[0][1],+S[0],+b[0][3],+b[0][4]],[+b[1][0],+b[1][1],+S[1],+b[1][3],+b[1][4]],[+b[2][0],+b[2][1],+S[2],+b[2][3],+b[2][4]],[+b[3][0],+b[3][1],+S[3],+b[3][3],+b[3][4]],[+b[4][0],+b[4][1],+S[4],+b[4][3],+b[4][4]]]),w([[+b[0][0],+b[0][1],+b[0][2],+S[0],+b[0][4]],[+b[1][0],+b[1][1],+b[1][2],+S[1],+b[1][4]],[+b[2][0],+b[2][1],+b[2][2],+S[2],+b[2][4]],[+b[3][0],+b[3][1],+b[3][2],+S[3],+b[3][4]],[+b[4][0],+b[4][1],+b[4][2],+S[4],+b[4][4]]]),w([[+b[0][0],+b[0][1],+b[0][2],+b[0][3],+S[0]],[+b[1][0],+b[1][1],+b[1][2],+b[1][3],+S[1]],[+b[2][0],+b[2][1],+b[2][2],+b[2][3],+S[2]],[+b[3][0],+b[3][1],+b[3][2],+b[3][3],+S[3]],[+b[4][0],+b[4][1],+b[4][2],+b[4][3],+S[4]]]),w(b)]}}function h(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2],+b[0][3],+b[0][4],+b[0][5]],[+S[1],+b[1][1],+b[1][2],+b[1][3],+b[1][4],+b[1][5]],[+S[2],+b[2][1],+b[2][2],+b[2][3],+b[2][4],+b[2][5]],[+S[3],+b[3][1],+b[3][2],+b[3][3],+b[3][4],+b[3][5]],[+S[4],+b[4][1],+b[4][2],+b[4][3],+b[4][4],+b[4][5]],[+S[5],+b[5][1],+b[5][2],+b[5][3],+b[5][4],+b[5][5]]]),w([[+b[0][0],+S[0],+b[0][2],+b[0][3],+b[0][4],+b[0][5]],[+b[1][0],+S[1],+b[1][2],+b[1][3],+b[1][4],+b[1][5]],[+b[2][0],+S[2],+b[2][2],+b[2][3],+b[2][4],+b[2][5]],[+b[3][0],+S[3],+b[3][2],+b[3][3],+b[3][4],+b[3][5]],[+b[4][0],+S[4],+b[4][2],+b[4][3],+b[4][4],+b[4][5]],[+b[5][0],+S[5],+b[5][2],+b[5][3],+b[5][4],+b[5][5]]]),w([[+b[0][0],+b[0][1],+S[0],+b[0][3],+b[0][4],+b[0][5]],[+b[1][0],+b[1][1],+S[1],+b[1][3],+b[1][4],+b[1][5]],[+b[2][0],+b[2][1],+S[2],+b[2][3],+b[2][4],+b[2][5]],[+b[3][0],+b[3][1],+S[3],+b[3][3],+b[3][4],+b[3][5]],[+b[4][0],+b[4][1],+S[4],+b[4][3],+b[4][4],+b[4][5]],[+b[5][0],+b[5][1],+S[5],+b[5][3],+b[5][4],+b[5][5]]]),w([[+b[0][0],+b[0][1],+b[0][2],+S[0],+b[0][4],+b[0][5]],[+b[1][0],+b[1][1],+b[1][2],+S[1],+b[1][4],+b[1][5]],[+b[2][0],+b[2][1],+b[2][2],+S[2],+b[2][4],+b[2][5]],[+b[3][0],+b[3][1],+b[3][2],+S[3],+b[3][4],+b[3][5]],[+b[4][0],+b[4][1],+b[4][2],+S[4],+b[4][4],+b[4][5]],[+b[5][0],+b[5][1],+b[5][2],+S[5],+b[5][4],+b[5][5]]]),w([[+b[0][0],+b[0][1],+b[0][2],+b[0][3],+S[0],+b[0][5]],[+b[1][0],+b[1][1],+b[1][2],+b[1][3],+S[1],+b[1][5]],[+b[2][0],+b[2][1],+b[2][2],+b[2][3],+S[2],+b[2][5]],[+b[3][0],+b[3][1],+b[3][2],+b[3][3],+S[3],+b[3][5]],[+b[4][0],+b[4][1],+b[4][2],+b[4][3],+S[4],+b[4][5]],[+b[5][0],+b[5][1],+b[5][2],+b[5][3],+S[5],+b[5][5]]]),w([[+b[0][0],+b[0][1],+b[0][2],+b[0][3],+b[0][4],+S[0]],[+b[1][0],+b[1][1],+b[1][2],+b[1][3],+b[1][4],+S[1]],[+b[2][0],+b[2][1],+b[2][2],+b[2][3],+b[2][4],+S[2]],[+b[3][0],+b[3][1],+b[3][2],+b[3][3],+b[3][4],+S[3]],[+b[4][0],+b[4][1],+b[4][2],+b[4][3],+b[4][4],+S[4]],[+b[5][0],+b[5][1],+b[5][2],+b[5][3],+b[5][4],+S[5]]]),w(b)]}}var s=[c,u];function d(w,C,b,S,x,i,E,m){return function(I,U){switch(I.length){case 0:return w(I,U);case 1:return C(I,U);case 2:return b(I,U);case 3:return S(I,U);case 4:return x(I,U);case 5:return i(I,U)}var z=E[I.length];return z||(z=E[I.length]=m(I.length)),z(I,U)}}function A(){for(;s.length<o;)s.push(n(s.length));v.exports=d.apply(void 0,s.concat([s,n]));for(var w=0;w<o;++w)v.exports[w]=s[w]}A()},417:function(v,p,r){var t=r(9660),o=r(9662),n=r(8289),c=r(4078),u=5,l=11102230246251565e-32,g=(3+16*l)*l,f=(7+56*l)*l;function T(i,E,m,k){return function(U,z,F){var B=i(i(E(z[1],F[0]),E(-F[1],z[0])),i(E(U[1],z[0]),E(-z[1],U[0]))),O=i(E(U[1],F[0]),E(-F[1],U[0])),N=k(B,O);return N[N.length-1]}}function h(i,E,m,k){return function(U,z,F,B){var O=i(i(m(i(E(F[1],B[0]),E(-B[1],F[0])),z[2]),i(m(i(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),m(i(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),i(m(i(E(z[1],B[0]),E(-B[1],z[0])),U[2]),i(m(i(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),B[2])))),N=i(i(m(i(E(F[1],B[0]),E(-B[1],F[0])),U[2]),i(m(i(E(U[1],B[0]),E(-B[1],U[0])),-F[2]),m(i(E(U[1],F[0]),E(-F[1],U[0])),B[2]))),i(m(i(E(z[1],F[0]),E(-F[1],z[0])),U[2]),i(m(i(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),F[2])))),Y=k(O,N);return Y[Y.length-1]}}function s(i,E,m,k){return function(U,z,F,B,O){var N=i(i(i(m(i(m(i(E(B[1],O[0]),E(-O[1],B[0])),F[2]),i(m(i(E(F[1],O[0]),E(-O[1],F[0])),-B[2]),m(i(E(F[1],B[0]),E(-B[1],F[0])),O[2]))),z[3]),i(m(i(m(i(E(B[1],O[0]),E(-O[1],B[0])),z[2]),i(m(i(E(z[1],O[0]),E(-O[1],z[0])),-B[2]),m(i(E(z[1],B[0]),E(-B[1],z[0])),O[2]))),-F[3]),m(i(m(i(E(F[1],O[0]),E(-O[1],F[0])),z[2]),i(m(i(E(z[1],O[0]),E(-O[1],z[0])),-F[2]),m(i(E(z[1],F[0]),E(-F[1],z[0])),O[2]))),B[3]))),i(m(i(m(i(E(F[1],B[0]),E(-B[1],F[0])),z[2]),i(m(i(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),m(i(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),-O[3]),i(m(i(m(i(E(B[1],O[0]),E(-O[1],B[0])),z[2]),i(m(i(E(z[1],O[0]),E(-O[1],z[0])),-B[2]),m(i(E(z[1],B[0]),E(-B[1],z[0])),O[2]))),U[3]),m(i(m(i(E(B[1],O[0]),E(-O[1],B[0])),U[2]),i(m(i(E(U[1],O[0]),E(-O[1],U[0])),-B[2]),m(i(E(U[1],B[0]),E(-B[1],U[0])),O[2]))),-z[3])))),i(i(m(i(m(i(E(z[1],O[0]),E(-O[1],z[0])),U[2]),i(m(i(E(U[1],O[0]),E(-O[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),O[2]))),B[3]),i(m(i(m(i(E(z[1],B[0]),E(-B[1],z[0])),U[2]),i(m(i(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),B[2]))),-O[3]),m(i(m(i(E(F[1],B[0]),E(-B[1],F[0])),z[2]),i(m(i(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),m(i(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),U[3]))),i(m(i(m(i(E(F[1],B[0]),E(-B[1],F[0])),U[2]),i(m(i(E(U[1],B[0]),E(-B[1],U[0])),-F[2]),m(i(E(U[1],F[0]),E(-F[1],U[0])),B[2]))),-z[3]),i(m(i(m(i(E(z[1],B[0]),E(-B[1],z[0])),U[2]),i(m(i(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),B[2]))),F[3]),m(i(m(i(E(z[1],F[0]),E(-F[1],z[0])),U[2]),i(m(i(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),F[2]))),-B[3]))))),Y=i(i(i(m(i(m(i(E(B[1],O[0]),E(-O[1],B[0])),F[2]),i(m(i(E(F[1],O[0]),E(-O[1],F[0])),-B[2]),m(i(E(F[1],B[0]),E(-B[1],F[0])),O[2]))),U[3]),m(i(m(i(E(B[1],O[0]),E(-O[1],B[0])),U[2]),i(m(i(E(U[1],O[0]),E(-O[1],U[0])),-B[2]),m(i(E(U[1],B[0]),E(-B[1],U[0])),O[2]))),-F[3])),i(m(i(m(i(E(F[1],O[0]),E(-O[1],F[0])),U[2]),i(m(i(E(U[1],O[0]),E(-O[1],U[0])),-F[2]),m(i(E(U[1],F[0]),E(-F[1],U[0])),O[2]))),B[3]),m(i(m(i(E(F[1],B[0]),E(-B[1],F[0])),U[2]),i(m(i(E(U[1],B[0]),E(-B[1],U[0])),-F[2]),m(i(E(U[1],F[0]),E(-F[1],U[0])),B[2]))),-O[3]))),i(i(m(i(m(i(E(F[1],O[0]),E(-O[1],F[0])),z[2]),i(m(i(E(z[1],O[0]),E(-O[1],z[0])),-F[2]),m(i(E(z[1],F[0]),E(-F[1],z[0])),O[2]))),U[3]),m(i(m(i(E(F[1],O[0]),E(-O[1],F[0])),U[2]),i(m(i(E(U[1],O[0]),E(-O[1],U[0])),-F[2]),m(i(E(U[1],F[0]),E(-F[1],U[0])),O[2]))),-z[3])),i(m(i(m(i(E(z[1],O[0]),E(-O[1],z[0])),U[2]),i(m(i(E(U[1],O[0]),E(-O[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),O[2]))),F[3]),m(i(m(i(E(z[1],F[0]),E(-F[1],z[0])),U[2]),i(m(i(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),m(i(E(U[1],z[0]),E(-z[1],U[0])),F[2]))),-O[3])))),$=k(N,Y);return $[$.length-1]}}function d(i){var E=i===3?T:i===4?h:s;return E(o,t,n,c)}var A=d(3),w=d(4),C=[function(){return 0},function(){return 0},function(E,m){return m[0]-E[0]},function(E,m,k){var I=(E[1]-k[1])*(m[0]-k[0]),U=(E[0]-k[0])*(m[1]-k[1]),z=I-U,F;if(I>0){if(U<=0)return z;F=I+U}else if(I<0){if(U>=0)return z;F=-(I+U)}else return z;var B=g*F;return z>=B||z<=-B?z:A(E,m,k)},function(E,m,k,I){var U=E[0]-I[0],z=m[0]-I[0],F=k[0]-I[0],B=E[1]-I[1],O=m[1]-I[1],N=k[1]-I[1],Y=E[2]-I[2],$=m[2]-I[2],te=k[2]-I[2],ie=z*N,ce=F*O,J=F*B,Z=U*N,ae=U*O,j=z*B,q=Y*(ie-ce)+$*(J-Z)+te*(ae-j),oe=(Math.abs(ie)+Math.abs(ce))*Math.abs(Y)+(Math.abs(J)+Math.abs(Z))*Math.abs($)+(Math.abs(ae)+Math.abs(j))*Math.abs(te),Q=f*oe;return q>Q||-q>Q?q:w(E,m,k,I)}];function b(i){var E=C[i.length];return E||(E=C[i.length]=d(i.length)),E.apply(void 0,i)}function S(i,E,m,k,I,U,z){return function(B,O,N,Y,$){switch(arguments.length){case 0:case 1:return 0;case 2:return k(B,O);case 3:return I(B,O,N);case 4:return U(B,O,N,Y);case 5:return z(B,O,N,Y,$)}for(var te=new Array(arguments.length),ie=0;ie<arguments.length;++ie)te[ie]=arguments[ie];return i(te)}}function x(){for(;C.length<=u;)C.push(d(C.length));v.exports=S.apply(void 0,[b].concat(C));for(var i=0;i<=u;++i)v.exports[i]=C[i]}x()},2019:function(v,p,r){var t=r(9662),o=r(8289);v.exports=n;function n(c,u){if(c.length===1)return o(u,c[0]);if(u.length===1)return o(c,u[0]);if(c.length===0||u.length===0)return[0];var l=[0];if(c.length<u.length)for(var g=0;g<c.length;++g)l=t(l,o(u,c[g]));else for(var g=0;g<u.length;++g)l=t(l,o(c,u[g]));return l}},8289:function(v,p,r){var t=r(9660),o=r(87);v.exports=n;function n(c,u){var l=c.length;if(l===1){var g=t(c[0],u);return g[0]?g:[g[1]]}var f=new Array(2*l),T=[.1,.1],h=[.1,.1],s=0;t(c[0],u,T),T[0]&&(f[s++]=T[0]);for(var d=1;d<l;++d){t(c[d],u,h);var A=T[1];o(A,h[0],T),T[0]&&(f[s++]=T[0]);var w=h[1],C=T[1],b=w+C,S=b-w,x=C-S;T[1]=b,x&&(f[s++]=x)}return T[1]&&(f[s++]=T[1]),s===0&&(f[s++]=0),f.length=s,f}},4434:function(v,p,r){v.exports=n;var t=r(417)[3];function o(c,u,l,g){for(var f=0;f<2;++f){var T=c[f],h=u[f],s=Math.min(T,h),d=Math.max(T,h),A=l[f],w=g[f],C=Math.min(A,w),b=Math.max(A,w);if(b<s||d<C)return!1}return!0}function n(c,u,l,g){var f=t(c,l,g),T=t(u,l,g);if(f>0&&T>0||f<0&&T<0)return!1;var h=t(l,c,u),s=t(g,c,u);return h>0&&s>0||h<0&&s<0?!1:f===0&&T===0&&h===0&&s===0?o(c,u,l,g):!0}},4078:function(v){v.exports=r;function p(t,o){var n=t+o,c=n-t,u=n-c,l=o-c,g=t-u,f=g+l;return f?[f,n]:[n]}function r(t,o){var n=t.length|0,c=o.length|0;if(n===1&&c===1)return p(t[0],-o[0]);var u=n+c,l=new Array(u),g=0,f=0,T=0,h=Math.abs,s=t[f],d=h(s),A=-o[T],w=h(A),C,b;d<w?(b=s,f+=1,f<n&&(s=t[f],d=h(s))):(b=A,T+=1,T<c&&(A=-o[T],w=h(A))),f<n&&d<w||T>=c?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=-o[T],w=h(A)));for(var S=C+b,x=S-C,i=b-x,E=i,m=S,k,I,U,z,F;f<n&&T<c;)d<w?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=-o[T],w=h(A))),b=E,S=C+b,x=S-C,i=b-x,i&&(l[g++]=i),k=m+S,I=k-m,U=k-I,z=S-I,F=m-U,E=F+z,m=k;for(;f<n;)C=s,b=E,S=C+b,x=S-C,i=b-x,i&&(l[g++]=i),k=m+S,I=k-m,U=k-I,z=S-I,F=m-U,E=F+z,m=k,f+=1,f<n&&(s=t[f]);for(;T<c;)C=A,b=E,S=C+b,x=S-C,i=b-x,i&&(l[g++]=i),k=m+S,I=k-m,U=k-I,z=S-I,F=m-U,E=F+z,m=k,T+=1,T<c&&(A=-o[T]);return E&&(l[g++]=E),m&&(l[g++]=m),g||(l[g++]=0),l.length=g,l}},9662:function(v){v.exports=r;function p(t,o){var n=t+o,c=n-t,u=n-c,l=o-c,g=t-u,f=g+l;return f?[f,n]:[n]}function r(t,o){var n=t.length|0,c=o.length|0;if(n===1&&c===1)return p(t[0],o[0]);var u=n+c,l=new Array(u),g=0,f=0,T=0,h=Math.abs,s=t[f],d=h(s),A=o[T],w=h(A),C,b;d<w?(b=s,f+=1,f<n&&(s=t[f],d=h(s))):(b=A,T+=1,T<c&&(A=o[T],w=h(A))),f<n&&d<w||T>=c?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=o[T],w=h(A)));for(var S=C+b,x=S-C,i=b-x,E=i,m=S,k,I,U,z,F;f<n&&T<c;)d<w?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=o[T],w=h(A))),b=E,S=C+b,x=S-C,i=b-x,i&&(l[g++]=i),k=m+S,I=k-m,U=k-I,z=S-I,F=m-U,E=F+z,m=k;for(;f<n;)C=s,b=E,S=C+b,x=S-C,i=b-x,i&&(l[g++]=i),k=m+S,I=k-m,U=k-I,z=S-I,F=m-U,E=F+z,m=k,f+=1,f<n&&(s=t[f]);for(;T<c;)C=A,b=E,S=C+b,x=S-C,i=b-x,i&&(l[g++]=i),k=m+S,I=k-m,U=k-I,z=S-I,F=m-U,E=F+z,m=k,T+=1,T<c&&(A=o[T]);return E&&(l[g++]=E),m&&(l[g++]=m),g||(l[g++]=0),l.length=g,l}},8691:function(v,p,r){v.exports=n;var t=r(2692),o=r(7037);function n(c){return o(t(c))}},7212:function(v,p,r){v.exports=s;var t=r(5050),o=r(5306),n=r(8729),c=r(1168);function u(d){for(var A=d.length,w=0,C=0;C<A;++C)w=Math.max(w,d[C].length)|0;return w-1}function l(d,A){for(var w=d.length,C=o.mallocUint8(w),b=0;b<w;++b)C[b]=d[b]<A|0;return C}function g(d,A){for(var w=d.length,C=A*(A+1)/2*w|0,b=o.mallocUint32(C*2),S=0,x=0;x<w;++x)for(var i=d[x],A=i.length,E=0;E<A;++E)for(var m=0;m<E;++m){var k=i[m],I=i[E];b[S++]=Math.min(k,I)|0,b[S++]=Math.max(k,I)|0}var U=S/2|0;n(t(b,[U,2]));for(var z=2,x=2;x<S;x+=2)b[x-2]===b[x]&&b[x-1]===b[x+1]||(b[z++]=b[x],b[z++]=b[x+1]);return t(b,[z/2|0,2])}function f(d,A,w,C){for(var b=d.data,S=d.shape[0],x=o.mallocDouble(S),i=0,E=0;E<S;++E){var m=b[2*E],k=b[2*E+1];if(w[m]!==w[k]){var I=A[m],U=A[k];b[2*i]=m,b[2*i+1]=k,x[i++]=(U-C)/(U-I)}}return d.shape[0]=i,t(x,[i])}function T(d,A){var w=o.mallocInt32(A*2),C=d.shape[0],b=d.data;w[0]=0;for(var S=0,x=0;x<C;++x){var i=b[2*x];if(i!==S){for(w[2*S+1]=x;++S<i;)w[2*S]=x,w[2*S+1]=x;w[2*S]=x}}for(w[2*S+1]=C;++S<A;)w[2*S]=w[2*S+1]=C;return w}function h(d){for(var A=d.shape[0]|0,w=d.data,C=new Array(A),b=0;b<A;++b)C[b]=[w[2*b],w[2*b+1]];return C}function s(d,A,w,C){w=w||0,typeof C>"u"&&(C=u(d));var b=d.length;if(b===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=l(A,+w),x=g(d,C),i=f(x,A,S,+w),E=T(x,A.length|0),m=c(C)(d,x.data,E,S),k=h(x),I=[].slice.call(i.data,0,i.shape[0]);return o.free(S),o.free(x.data),o.free(i.data),o.free(E),{cells:m,vertexIds:k,vertexWeights:I}}},1168:function(v){v.exports=r;var p=[function(){function o(n,c,u,l){for(var g=n.length,f=[],T=0;T<g;++T){var h=n[T];h.length}return f}return o},function(){function o(c,u,l,g){for(var f=Math.min(l,g)|0,T=Math.max(l,g)|0,h=c[2*f],s=c[2*f+1];h<s;){var d=h+s>>1,A=u[2*d+1];if(A===T)return d;T<A?s=d:h=d+1}return h}function n(c,u,l,g){for(var f=c.length,T=[],h=0;h<f;++h){var s=c[h],d=s.length;if(d===2){var A=(g[s[0]]<<0)+(g[s[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:T.push([o(l,u,s[0],s[1])]);break;case 2:T.push([o(l,u,s[1],s[0])]);break}}}return T}return n},function(){function o(c,u,l,g){for(var f=Math.min(l,g)|0,T=Math.max(l,g)|0,h=c[2*f],s=c[2*f+1];h<s;){var d=h+s>>1,A=u[2*d+1];if(A===T)return d;T<A?s=d:h=d+1}return h}function n(c,u,l,g){for(var f=c.length,T=[],h=0;h<f;++h){var s=c[h],d=s.length;if(d===3){var A=(g[s[0]]<<0)+(g[s[1]]<<1)+(g[s[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:T.push([o(l,u,s[0],s[2]),o(l,u,s[0],s[1])]);break;case 2:T.push([o(l,u,s[1],s[0]),o(l,u,s[1],s[2])]);break;case 3:T.push([o(l,u,s[0],s[2]),o(l,u,s[1],s[2])]);break;case 4:T.push([o(l,u,s[2],s[1]),o(l,u,s[2],s[0])]);break;case 5:T.push([o(l,u,s[2],s[1]),o(l,u,s[0],s[1])]);break;case 6:T.push([o(l,u,s[1],s[0]),o(l,u,s[2],s[0])]);break}}else if(d===2){var A=(g[s[0]]<<0)+(g[s[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:T.push([o(l,u,s[0],s[1])]);break;case 2:T.push([o(l,u,s[1],s[0])]);break}}}return T}return n},function(){function o(c,u,l,g){for(var f=Math.min(l,g)|0,T=Math.max(l,g)|0,h=c[2*f],s=c[2*f+1];h<s;){var d=h+s>>1,A=u[2*d+1];if(A===T)return d;T<A?s=d:h=d+1}return h}function n(c,u,l,g){for(var f=c.length,T=[],h=0;h<f;++h){var s=c[h],d=s.length;if(d===4){var A=(g[s[0]]<<0)+(g[s[1]]<<1)+(g[s[2]]<<2)+(g[s[3]]<<3);if(A===0||A===15)continue;switch(A){case 0:break;case 1:T.push([o(l,u,s[0],s[1]),o(l,u,s[0],s[2]),o(l,u,s[0],s[3])]);break;case 2:T.push([o(l,u,s[1],s[2]),o(l,u,s[1],s[0]),o(l,u,s[1],s[3])]);break;case 3:T.push([o(l,u,s[1],s[2]),o(l,u,s[0],s[2]),o(l,u,s[0],s[3])],[o(l,u,s[1],s[3]),o(l,u,s[1],s[2]),o(l,u,s[0],s[3])]);break;case 4:T.push([o(l,u,s[2],s[0]),o(l,u,s[2],s[1]),o(l,u,s[2],s[3])]);break;case 5:T.push([o(l,u,s[0],s[1]),o(l,u,s[2],s[1]),o(l,u,s[0],s[3])],[o(l,u,s[2],s[1]),o(l,u,s[2],s[3]),o(l,u,s[0],s[3])]);break;case 6:T.push([o(l,u,s[2],s[0]),o(l,u,s[1],s[0]),o(l,u,s[1],s[3])],[o(l,u,s[2],s[3]),o(l,u,s[2],s[0]),o(l,u,s[1],s[3])]);break;case 7:T.push([o(l,u,s[0],s[3]),o(l,u,s[1],s[3]),o(l,u,s[2],s[3])]);break;case 8:T.push([o(l,u,s[3],s[1]),o(l,u,s[3],s[0]),o(l,u,s[3],s[2])]);break;case 9:T.push([o(l,u,s[3],s[1]),o(l,u,s[0],s[1]),o(l,u,s[0],s[2])],[o(l,u,s[3],s[2]),o(l,u,s[3],s[1]),o(l,u,s[0],s[2])]);break;case 10:T.push([o(l,u,s[1],s[0]),o(l,u,s[3],s[0]),o(l,u,s[1],s[2])],[o(l,u,s[3],s[0]),o(l,u,s[3],s[2]),o(l,u,s[1],s[2])]);break;case 11:T.push([o(l,u,s[1],s[2]),o(l,u,s[0],s[2]),o(l,u,s[3],s[2])]);break;case 12:T.push([o(l,u,s[3],s[0]),o(l,u,s[2],s[0]),o(l,u,s[2],s[1])],[o(l,u,s[3],s[1]),o(l,u,s[3],s[0]),o(l,u,s[2],s[1])]);break;case 13:T.push([o(l,u,s[0],s[1]),o(l,u,s[2],s[1]),o(l,u,s[3],s[1])]);break;case 14:T.push([o(l,u,s[2],s[0]),o(l,u,s[1],s[0]),o(l,u,s[3],s[0])]);break}}else if(d===3){var A=(g[s[0]]<<0)+(g[s[1]]<<1)+(g[s[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:T.push([o(l,u,s[0],s[2]),o(l,u,s[0],s[1])]);break;case 2:T.push([o(l,u,s[1],s[0]),o(l,u,s[1],s[2])]);break;case 3:T.push([o(l,u,s[0],s[2]),o(l,u,s[1],s[2])]);break;case 4:T.push([o(l,u,s[2],s[1]),o(l,u,s[2],s[0])]);break;case 5:T.push([o(l,u,s[2],s[1]),o(l,u,s[0],s[1])]);break;case 6:T.push([o(l,u,s[1],s[0]),o(l,u,s[2],s[0])]);break}}else if(d===2){var A=(g[s[0]]<<0)+(g[s[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:T.push([o(l,u,s[0],s[1])]);break;case 2:T.push([o(l,u,s[1],s[0])]);break}}}return T}return n}];function r(t){return p[t]()}},8211:function(v,p,r){r(2288),r(1731);function t(o,n){var c=o.length,u=o.length-n.length,l=Math.min;if(u)return u;switch(c){case 0:return 0;case 1:return o[0]-n[0];case 2:var s=o[0]+o[1]-n[0]-n[1];return s||l(o[0],o[1])-l(n[0],n[1]);case 3:var g=o[0]+o[1],f=n[0]+n[1];if(s=g+o[2]-(f+n[2]),s)return s;var T=l(o[0],o[1]),h=l(n[0],n[1]),s=l(T,o[2])-l(h,n[2]);return s||l(T+o[2],g)-l(h+n[2],f);default:var d=o.slice(0);d.sort();var A=n.slice(0);A.sort();for(var w=0;w<c;++w)if(u=d[w]-A[w],u)return u;return 0}}p.H=t},9392:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var c=n>>r-1;return(n^c)-c},p.min=function(n,c){return c^(n^c)&-(n<c)},p.max=function(n,c){return n^(n^c)&-(n<c)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var c,u;return c=(n>65535)<<4,n>>>=c,u=(n>255)<<3,n>>>=u,c|=u,u=(n>15)<<2,n>>>=u,c|=u,u=(n>3)<<1,n>>>=u,c|=u,c|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var c=32;return n&=-n,n&&c--,n&65535&&(c-=16),n&16711935&&(c-=8),n&252645135&&(c-=4),n&858993459&&(c-=2),n&1431655765&&(c-=1),c}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var c=0;c<256;++c){var u=c,l=c,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[c]=l<<g&255}})(o),p.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},p.interleave2=function(n,c){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,c&=65535,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,n|c<<1},p.deinterleave2=function(n,c){return n=n>>>c&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,c,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|=c<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,c){return n=n>>>c&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var c=n|n-1;return c+1|(~c&-~c)-1>>>t(n)+1}},6656:function(v,p,r){"use restrict";var t=r(9392),o=r(9521);function n(i){for(var E=0,m=Math.max,k=0,I=i.length;k<I;++k)E=m(E,i[k].length);return E-1}p.dimension=n;function c(i){for(var E=-1,m=Math.max,k=0,I=i.length;k<I;++k)for(var U=i[k],z=0,F=U.length;z<F;++z)E=m(E,U[z]);return E+1}p.countVertices=c;function u(i){for(var E=new Array(i.length),m=0,k=i.length;m<k;++m)E[m]=i[m].slice(0);return E}p.cloneCells=u;function l(i,E){var m=i.length,k=i.length-E.length,I=Math.min;if(k)return k;switch(m){case 0:return 0;case 1:return i[0]-E[0];case 2:var O=i[0]+i[1]-E[0]-E[1];return O||I(i[0],i[1])-I(E[0],E[1]);case 3:var U=i[0]+i[1],z=E[0]+E[1];if(O=U+i[2]-(z+E[2]),O)return O;var F=I(i[0],i[1]),B=I(E[0],E[1]),O=I(F,i[2])-I(B,E[2]);return O||I(F+i[2],U)-I(B+E[2],z);default:var N=i.slice(0);N.sort();var Y=E.slice(0);Y.sort();for(var $=0;$<m;++$)if(k=N[$]-Y[$],k)return k;return 0}}p.compareCells=l;function g(i,E){return l(i[0],E[0])}function f(i,E){if(E){for(var m=i.length,k=new Array(m),I=0;I<m;++I)k[I]=[i[I],E[I]];k.sort(g);for(var I=0;I<m;++I)i[I]=k[I][0],E[I]=k[I][1];return i}else return i.sort(l),i}p.normalize=f;function T(i){if(i.length===0)return[];for(var E=1,m=i.length,k=1;k<m;++k){var I=i[k];if(l(I,i[k-1])){if(k===E){E++;continue}i[E++]=I}}return i.length=E,i}p.unique=T;function h(i,E){for(var m=0,k=i.length-1,I=-1;m<=k;){var U=m+k>>1,z=l(i[U],E);z<=0?(z===0&&(I=U),m=U+1):z>0&&(k=U-1)}return I}p.findCell=h;function s(i,E){for(var m=new Array(i.length),k=0,I=m.length;k<I;++k)m[k]=[];for(var U=[],k=0,z=E.length;k<z;++k)for(var F=E[k],B=F.length,O=1,N=1<<B;O<N;++O){U.length=t.popCount(O);for(var Y=0,$=0;$<B;++$)O&1<<$&&(U[Y++]=F[$]);var te=h(i,U);if(!(te<0))for(;m[te++].push(k),!(te>=i.length||l(i[te],U)!==0););}return m}p.incidence=s;function d(i,E){if(!E)return s(T(w(i,0)),i);for(var m=new Array(E),k=0;k<E;++k)m[k]=[];for(var k=0,I=i.length;k<I;++k)for(var U=i[k],z=0,F=U.length;z<F;++z)m[U[z]].push(k);return m}p.dual=d;function A(i){for(var E=[],m=0,k=i.length;m<k;++m)for(var I=i[m],U=I.length|0,z=1,F=1<<U;z<F;++z){for(var B=[],O=0;O<U;++O)z>>>O&1&&B.push(I[O]);E.push(B)}return f(E)}p.explode=A;function w(i,E){if(E<0)return[];for(var m=[],k=(1<<E+1)-1,I=0;I<i.length;++I)for(var U=i[I],z=k;z<1<<U.length;z=t.nextCombination(z)){for(var F=new Array(E+1),B=0,O=0;O<U.length;++O)z&1<<O&&(F[B++]=U[O]);m.push(F)}return f(m)}p.skeleton=w;function C(i){for(var E=[],m=0,k=i.length;m<k;++m)for(var I=i[m],U=0,z=I.length;U<z;++U){for(var F=new Array(I.length-1),B=0,O=0;B<z;++B)B!==U&&(F[O++]=I[B]);E.push(F)}return f(E)}p.boundary=C;function b(i,E){for(var m=new o(E),k=0;k<i.length;++k)for(var I=i[k],U=0;U<I.length;++U)for(var z=U+1;z<I.length;++z)m.link(I[U],I[z]);for(var F=[],B=m.ranks,k=0;k<B.length;++k)B[k]=-1;for(var k=0;k<i.length;++k){var O=m.find(i[k][0]);B[O]<0?(B[O]=F.length,F.push([i[k].slice(0)])):F[B[O]].push(i[k].slice(0))}return F}function S(i){for(var E=T(f(w(i,0))),m=new o(E.length),k=0;k<i.length;++k)for(var I=i[k],U=0;U<I.length;++U)for(var z=h(E,[I[U]]),F=U+1;F<I.length;++F)m.link(z,h(E,[I[F]]));for(var B=[],O=m.ranks,k=0;k<O.length;++k)O[k]=-1;for(var k=0;k<i.length;++k){var N=m.find(h(E,[i[k][0]]));O[N]<0?(O[N]=B.length,B.push([i[k].slice(0)])):B[O[N]].push(i[k].slice(0))}return B}function x(i,E){return E?b(i,E):S(i)}p.connectedComponents=x},9521:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var o=t[r];t[r]=t[o],r=o}return r},p.prototype.link=function(r,t){var o=this.find(r),n=this.find(t);if(o!==n){var c=this.ranks,u=this.roots,l=c[o],g=c[n];l<g?u[o]=n:g<l?u[n]=o:(u[n]=o,++c[o])}}},8243:function(v,p,r){v.exports=c;var t=r(417),o=r(6656);function n(u,l,g){var f=Math.abs(t(u,l,g)),T=Math.sqrt(Math.pow(l[0]-g[0],2)+Math.pow(l[1]-g[1],2));return f/T}function c(u,l,g){for(var f=l.length,T=u.length,h=new Array(f),s=new Array(f),d=new Array(f),A=new Array(f),w=0;w<f;++w)h[w]=s[w]=-1,d[w]=1/0,A[w]=!1;for(var w=0;w<T;++w){var C=u[w];if(C.length!==2)throw new Error("Input must be a graph");var b=C[1],S=C[0];s[S]!==-1?s[S]=-2:s[S]=b,h[b]!==-1?h[b]=-2:h[b]=S}function x(J){if(A[J])return 1/0;var Z=h[J],ae=s[J];return Z<0||ae<0?1/0:n(l[J],l[Z],l[ae])}function i(J,Z){var ae=B[J],j=B[Z];B[J]=j,B[Z]=ae,O[ae]=Z,O[j]=J}function E(J){return d[B[J]]}function m(J){return J&1?J-1>>1:(J>>1)-1}function k(J){for(var Z=E(J);;){var ae=Z,j=2*J+1,q=2*(J+1),oe=J;if(j<Y){var Q=E(j);Q<ae&&(oe=j,ae=Q)}if(q<Y){var K=E(q);K<ae&&(oe=q)}if(oe===J)return J;i(J,oe),J=oe}}function I(J){for(var Z=E(J);J>0;){var ae=m(J);if(ae>=0){var j=E(ae);if(Z<j){i(J,ae),J=ae;continue}}return J}}function U(){if(Y>0){var J=B[0];return i(0,Y-1),Y-=1,k(0),J}return-1}function z(J,Z){var ae=B[J];return d[ae]===Z?J:(d[ae]=-1/0,I(J),U(),d[ae]=Z,Y+=1,I(Y-1))}function F(J){if(!A[J]){A[J]=!0;var Z=h[J],ae=s[J];h[ae]>=0&&(h[ae]=Z),s[Z]>=0&&(s[Z]=ae),O[Z]>=0&&z(O[Z],x(Z)),O[ae]>=0&&z(O[ae],x(ae))}}for(var B=[],O=new Array(f),w=0;w<f;++w){var N=d[w]=x(w);N<1/0?(O[w]=B.length,B.push(w)):O[w]=-1}for(var Y=B.length,w=Y>>1;w>=0;--w)k(w);for(;;){var $=U();if($<0||d[$]>g)break;F($)}for(var te=[],w=0;w<f;++w)A[w]||(O[w]=te.length,te.push(l[w].slice()));te.length;function ie(J,Z){if(J[Z]<0)return Z;var ae=Z,j=Z;do{var q=J[j];if(!A[j]||q<0||q===j||(j=q,q=J[j],!A[j]||q<0||q===j))break;j=q,ae=J[ae]}while(ae!==j);for(var oe=Z;oe!==j;oe=J[oe])J[oe]=j;return j}var ce=[];return u.forEach(function(J){var Z=ie(h,J[0]),ae=ie(s,J[1]);if(Z>=0&&ae>=0&&Z!==ae){var j=O[Z],q=O[ae];j!==q&&ce.push([j,q])}}),o.unique(o.normalize(ce)),{positions:te,edges:ce}}},6638:function(v,p,r){v.exports=n;var t=r(417);function o(c,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else{var f=Math.min(c[0][1],c[1][1]),T=Math.max(c[0][1],c[1][1]),h=Math.min(u[0][1],u[1][1]),s=Math.max(u[0][1],u[1][1]);return T<h?T-h:f>s?f-s:T-s}var d,A;c[0][1]<c[1][1]?(d=c[0],A=c[1]):(d=c[1],A=c[0]);var w=t(g,l,d);return w||(w=t(g,l,A),w)?w:A-g}function n(c,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else return o(u,c);var f,T;if(c[0][0]<c[1][0])f=c[0],T=c[1];else if(c[0][0]>c[1][0])f=c[1],T=c[0];else return-o(c,u);var h=t(l,g,T),s=t(l,g,f);if(h<0){if(s<=0)return h}else if(h>0){if(s>=0)return h}else if(s)return s;if(h=t(T,f,g),s=t(T,f,l),h<0){if(s<=0)return h}else if(h>0){if(s>=0)return h}else if(s)return s;return g[0]-T[0]}},4385:function(v,p,r){v.exports=s;var t=r(5070),o=r(7080),n=r(417),c=r(6638);function u(d,A,w){this.slabs=d,this.coordinates=A,this.horizontal=w}var l=u.prototype;function g(d,A){return d.y-A}function f(d,A){for(var w=null;d;){var C=d.key,b,S;C[0][0]<C[1][0]?(b=C[0],S=C[1]):(b=C[1],S=C[0]);var x=n(b,S,A);if(x<0)d=d.left;else if(x>0)if(A[0]!==C[1][0])w=d,d=d.right;else{var i=f(d.right,A);if(i)return i;d=d.left}else{if(A[0]!==C[1][0])return d;var i=f(d.right,A);if(i)return i;d=d.left}}return w}l.castUp=function(d){var A=t.le(this.coordinates,d[0]);if(A<0)return-1;this.slabs[A];var w=f(this.slabs[A],d),C=-1;if(w&&(C=w.value),this.coordinates[A]===d[0]){var b=null;if(w&&(b=w.key),A>0){var S=f(this.slabs[A-1],d);S&&(b?c(S.key,b)>0&&(b=S.key,C=S.value):(C=S.value,b=S.key))}var x=this.horizontal[A];if(x.length>0){var i=t.ge(x,d[1],g);if(i<x.length){var E=x[i];if(d[1]===E.y){if(E.closed)return E.index;for(;i<x.length-1&&x[i+1].y===d[1];)if(i=i+1,E=x[i],E.closed)return E.index;if(E.y===d[1]&&!E.start){if(i=i+1,i>=x.length)return C;E=x[i]}}if(E.start)if(b){var m=n(b[0],b[1],[d[0],E.y]);b[0][0]>b[1][0]&&(m=-m),m>0&&(C=E.index)}else C=E.index;else E.y!==d[1]&&(C=E.index)}}}return C};function T(d,A,w,C){this.y=d,this.index=A,this.start=w,this.closed=C}function h(d,A,w,C){this.x=d,this.segment=A,this.create=w,this.index=C}function s(d){for(var A=d.length,w=2*A,C=new Array(w),b=0;b<A;++b){var S=d[b],x=S[0][0]<S[1][0];C[2*b]=new h(S[0][0],S,x,b),C[2*b+1]=new h(S[1][0],S,!x,b)}C.sort(function(F,B){var O=F.x-B.x;return O||(O=F.create-B.create,O)?O:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(B.segment[0][1],B.segment[1][1])});for(var i=o(c),E=[],m=[],k=[],b=0;b<w;){for(var I=C[b].x,U=[];b<w;){var z=C[b];if(z.x!==I)break;b+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(U.push(new T(z.segment[0][1],z.index,!0,!0)),U.push(new T(z.segment[1][1],z.index,!1,!1))):(U.push(new T(z.segment[1][1],z.index,!0,!1)),U.push(new T(z.segment[0][1],z.index,!1,!0)))):z.create?i=i.insert(z.segment,z.index):i=i.remove(z.segment)}E.push(i.root),m.push(I),k.push(U)}return new u(E,m,k)}},4670:function(v,p,r){var t=r(9130),o=r(9662);v.exports=u,v.exports.positive=l,v.exports.negative=g;function n(f,T){var h=o(t(f,T),[T[T.length-1]]);return h[h.length-1]}function c(f,T,h,s){var d=s-T,A=-T/d;A<0?A=0:A>1&&(A=1);for(var w=1-A,C=f.length,b=new Array(C),S=0;S<C;++S)b[S]=A*f[S]+w*h[S];return b}function u(f,T){for(var h=[],s=[],d=n(f[f.length-1],T),A=f[f.length-1],w=f[0],C=0;C<f.length;++C,A=w){w=f[C];var b=n(w,T);if(d<0&&b>0||d>0&&b<0){var S=c(A,b,w,d);h.push(S),s.push(S.slice())}b<0?s.push(w.slice()):b>0?h.push(w.slice()):(h.push(w.slice()),s.push(w.slice())),d=b}return{positive:h,negative:s}}function l(f,T){for(var h=[],s=n(f[f.length-1],T),d=f[f.length-1],A=f[0],w=0;w<f.length;++w,d=A){A=f[w];var C=n(A,T);(s<0&&C>0||s>0&&C<0)&&h.push(c(d,C,A,s)),C>=0&&h.push(A.slice()),s=C}return h}function g(f,T){for(var h=[],s=n(f[f.length-1],T),d=f[f.length-1],A=f[0],w=0;w<f.length;++w,d=A){A=f[w];var C=n(A,T);(s<0&&C>0||s>0&&C<0)&&h.push(c(d,C,A,s)),C<=0&&h.push(A.slice()),s=C}return h}},8974:function(v,p,r){var t;(function(){var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(f){return u(g(f),arguments)}function c(f,T){return n.apply(null,[f].concat(T||[]))}function u(f,T){var h=1,s=f.length,d,A="",w,C,b,S,x,i,E,m;for(w=0;w<s;w++)if(typeof f[w]=="string")A+=f[w];else if(typeof f[w]=="object"){if(b=f[w],b.keys)for(d=T[h],C=0;C<b.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',b.keys[C],b.keys[C-1]));d=d[b.keys[C]]}else b.param_no?d=T[b.param_no]:d=T[h++];if(o.not_type.test(b.type)&&o.not_primitive.test(b.type)&&d instanceof Function&&(d=d()),o.numeric_arg.test(b.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(o.number.test(b.type)&&(E=d>=0),b.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,b.width?parseInt(b.width):0);break;case"e":d=b.precision?parseFloat(d).toExponential(b.precision):parseFloat(d).toExponential();break;case"f":d=b.precision?parseFloat(d).toFixed(b.precision):parseFloat(d);break;case"g":d=b.precision?String(Number(d.toPrecision(b.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=b.precision?d.substring(0,b.precision):d;break;case"t":d=String(!!d),d=b.precision?d.substring(0,b.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=b.precision?d.substring(0,b.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=b.precision?d.substring(0,b.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}o.json.test(b.type)?A+=d:(o.number.test(b.type)&&(!E||b.sign)?(m=E?"+":"-",d=d.toString().replace(o.sign,"")):m="",x=b.pad_char?b.pad_char==="0"?"0":b.pad_char.charAt(1):" ",i=b.width-(m+d).length,S=b.width&&i>0?x.repeat(i):"",A+=b.align?m+d+S:x==="0"?m+S+d:S+m+d)}return A}var l=Object.create(null);function g(f){if(l[f])return l[f];for(var T=f,h,s=[],d=0;T;){if((h=o.text.exec(T))!==null)s.push(h[0]);else if((h=o.modulo.exec(T))!==null)s.push("%");else if((h=o.placeholder.exec(T))!==null){if(h[2]){d|=1;var A=[],w=h[2],C=[];if((C=o.key.exec(w))!==null)for(A.push(C[1]);(w=w.substring(C[0].length))!=="";)if((C=o.key_access.exec(w))!==null)A.push(C[1]);else if((C=o.index_access.exec(w))!==null)A.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=A}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(h[0].length)}return l[f]=s}p.sprintf=n,p.vsprintf=c,typeof window<"u"&&(window.sprintf=n,window.vsprintf=c,t=(function(){return{sprintf:n,vsprintf:c}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},4162:function(v,p,r){v.exports=g;var t=r(9284),o=r(9584),n={"2d":function(f,T,h){var s=f({order:T,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(A,w,C,b){return A>b|0},vertex:function(A,w,C,b,S,x,i,E,m,k,I,U,z){var F=(i<<0)+(E<<1)+(m<<2)+(k<<3)|0;if(!(F===0||F===15))switch(F){case 0:I.push([A-.5,w-.5]);break;case 1:I.push([A-.25-.25*(b+C-2*z)/(C-b),w-.25-.25*(S+C-2*z)/(C-S)]);break;case 2:I.push([A-.75-.25*(-b-C+2*z)/(b-C),w-.25-.25*(x+b-2*z)/(b-x)]);break;case 3:I.push([A-.5,w-.5-.5*(S+C+x+b-4*z)/(C-S+b-x)]);break;case 4:I.push([A-.25-.25*(x+S-2*z)/(S-x),w-.75-.25*(-S-C+2*z)/(S-C)]);break;case 5:I.push([A-.5-.5*(b+C+x+S-4*z)/(C-b+S-x),w-.5]);break;case 6:I.push([A-.5-.25*(-b-C+x+S)/(b-C+S-x),w-.5-.25*(-S-C+x+b)/(S-C+b-x)]);break;case 7:I.push([A-.75-.25*(x+S-2*z)/(S-x),w-.75-.25*(x+b-2*z)/(b-x)]);break;case 8:I.push([A-.75-.25*(-x-S+2*z)/(x-S),w-.75-.25*(-x-b+2*z)/(x-b)]);break;case 9:I.push([A-.5-.25*(b+C+-x-S)/(C-b+x-S),w-.5-.25*(S+C+-x-b)/(C-S+x-b)]);break;case 10:I.push([A-.5-.5*(-b-C+-x-S+4*z)/(b-C+x-S),w-.5]);break;case 11:I.push([A-.25-.25*(-x-S+2*z)/(x-S),w-.75-.25*(S+C-2*z)/(C-S)]);break;case 12:I.push([A-.5,w-.5-.5*(-S-C+-x-b+4*z)/(S-C+x-b)]);break;case 13:I.push([A-.75-.25*(b+C-2*z)/(C-b),w-.25-.25*(-x-b+2*z)/(x-b)]);break;case 14:I.push([A-.25-.25*(-b-C+2*z)/(b-C),w-.25-.25*(-S-C+2*z)/(S-C)]);break;case 15:I.push([A-.5,w-.5]);break}},cell:function(A,w,C,b,S,x,i,E,m){S?E.push([A,w]):E.push([w,A])}});return function(d,A){var w=[],C=[];return s(d,w,C,A),{positions:w,cells:C}}}};function c(f,T){var h=f.length+"d",s=n[h];if(s)return s(t,f,T)}function u(f,T){for(var h=o(f,T),s=h.length,d=new Array(s),A=new Array(s),w=0;w<s;++w)d[w]=[h[w]],A[w]=[w];return{positions:d,cells:A}}var l={};function g(f,d){if(f.dimension<=0)return{positions:[],cells:[]};if(f.dimension===1)return u(f,d);var h=f.order.join()+"-"+f.dtype,s=l[h],d=+d||0;return s||(s=l[h]=c(f.order,f.dtype)),s(f,d)}},6946:function(v,p,r){v.exports=u;var t=r(875),o=window||y.global||{},n=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};function c(l){for(var g=l.cells,f=l.positions,T=new Float32Array(g.length*6),h=0,s=0,d=0;d<g.length;++d)for(var A=g[d],w=0;w<3;++w){var C=f[A[w]];T[h++]=C[0],T[h++]=C[1]+1.4,s=Math.max(C[0],s)}return{data:T,shape:s}}function u(l,g,T){var T=T||{},h=n[l];h||(h=n[l]={" ":{data:new Float32Array(0),shape:.2}});var s=h[g];if(!s)if(g.length<=1||!/\d/.test(g))s=h[g]=c(t(g,{triangles:!0,font:l,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=g.split(/(\d|\s)/),A=new Array(d.length),w=0,C=0,b=0;b<d.length;++b)A[b]=u(l,d[b]),w+=A[b].data.length,C+=A[b].shape,b>0&&(C+=.02);for(var S=new Float32Array(w),x=0,i=-.5*C,b=0;b<A.length;++b){for(var E=A[b].data,m=0;m<E.length;m+=2)S[x++]=E[m]+i,S[x++]=E[m+1];i+=A[b].shape+.02}s=h[g]={data:S,shape:C}}return s}},14:function(v,p,r){var t=r(4405);v.exports=u;var o=96;function n(l,g){var f=t(getComputedStyle(l).getPropertyValue(g));return f[0]*u(f[1],l)}function c(l,g){var f=document.createElement("div");f.style["font-size"]="128"+l,g.appendChild(f);var T=n(f,"font-size")/128;return g.removeChild(f),T}function u(l,g){switch(g=g||document.body,l=(l||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),l){case"%":return g.clientHeight/100;case"ch":case"ex":return c(l,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},3440:function(v,p,r){v.exports=A;var t=r(8444),o=r(7437),n=r(4422),c=r(903),u=r(899),l=r(9305);function g(w,C,b){return Math.sqrt(Math.pow(w,2)+Math.pow(C,2)+Math.pow(b,2))}function f(w){return Math.min(1,Math.max(-1,w))}function T(w){var C=Math.abs(w[0]),b=Math.abs(w[1]),S=Math.abs(w[2]),x=[0,0,0];C>Math.max(b,S)?x[2]=1:b>Math.max(C,S)?x[0]=1:x[1]=1;for(var i=0,E=0,m=0;m<3;++m)i+=w[m]*w[m],E+=x[m]*w[m];for(var m=0;m<3;++m)x[m]-=E/i*w[m];return u(x,x),x}function h(w,C,b,S,x,i,E,m){this.center=t(b),this.up=t(S),this.right=t(x),this.radius=t([i]),this.angle=t([E,m]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var s=h.prototype;s.setDistanceLimits=function(w,C){w>0?w=Math.log(w):w=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=C},s.getDistanceLimits=function(w){var C=this.radius.bounds[0];return w?(w[0]=Math.exp(C[0][0]),w[1]=Math.exp(C[1][0]),w):[Math.exp(C[0][0]),Math.exp(C[1][0])]},s.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var C=this.computedUp,b=this.computedRight,S=0,x=0,i=0;i<3;++i)x+=C[i]*b[i],S+=C[i]*C[i];for(var E=Math.sqrt(S),m=0,i=0;i<3;++i)b[i]-=C[i]*x/S,m+=b[i]*b[i],C[i]/=E;for(var k=Math.sqrt(m),i=0;i<3;++i)b[i]/=k;var I=this.computedToward;c(I,C,b),u(I,I);for(var U=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],F=this.computedAngle[1],B=Math.cos(z),O=Math.sin(z),N=Math.cos(F),Y=Math.sin(F),$=this.computedCenter,te=B*N,ie=O*N,ce=Y,J=-B*Y,Z=-O*Y,ae=N,j=this.computedEye,q=this.computedMatrix,i=0;i<3;++i){var oe=te*b[i]+ie*I[i]+ce*C[i];q[4*i+1]=J*b[i]+Z*I[i]+ae*C[i],q[4*i+2]=oe,q[4*i+3]=0}var Q=q[1],K=q[5],se=q[9],ne=q[2],fe=q[6],ye=q[10],Ee=K*ye-se*fe,Te=se*ne-Q*ye,ze=Q*fe-K*ne,ke=g(Ee,Te,ze);Ee/=ke,Te/=ke,ze/=ke,q[0]=Ee,q[4]=Te,q[8]=ze;for(var i=0;i<3;++i)j[i]=$[i]+q[2+4*i]*U;for(var i=0;i<3;++i){for(var m=0,Se=0;Se<3;++Se)m+=q[i+4*Se]*j[Se];q[12+i]=-m}q[15]=1},s.getMatrix=function(w,C){this.recalcMatrix(w);var b=this.computedMatrix;if(C){for(var S=0;S<16;++S)C[S]=b[S];return C}return b};var d=[0,0,0];s.rotate=function(w,C,b,S){if(this.angle.move(w,C,b),S){this.recalcMatrix(w);var x=this.computedMatrix;d[0]=x[2],d[1]=x[6],d[2]=x[10];for(var i=this.computedUp,E=this.computedRight,m=this.computedToward,k=0;k<3;++k)x[4*k]=i[k],x[4*k+1]=E[k],x[4*k+2]=m[k];n(x,x,S,d);for(var k=0;k<3;++k)i[k]=x[4*k],E[k]=x[4*k+1];this.up.set(w,i[0],i[1],i[2]),this.right.set(w,E[0],E[1],E[2])}},s.pan=function(w,C,b,S){C=C||0,b=b||0,S=S||0,this.recalcMatrix(w);var x=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=x[1],E=x[5],m=x[9],k=g(i,E,m);i/=k,E/=k,m/=k;var I=x[0],U=x[4],z=x[8],F=I*i+U*E+z*m;I-=i*F,U-=E*F,z-=m*F;var B=g(I,U,z);I/=B,U/=B,z/=B;var O=I*C+i*b,N=U*C+E*b,Y=z*C+m*b;this.center.move(w,O,N,Y);var $=Math.exp(this.computedRadius[0]);$=Math.max(1e-4,$+S),this.radius.set(w,Math.log($))},s.translate=function(w,C,b,S){this.center.move(w,C||0,b||0,S||0)},s.setMatrix=function(w,C,b,S){var x=1;typeof b=="number"&&(x=b|0),(x<0||x>3)&&(x=1);var i=(x+2)%3;C||(this.recalcMatrix(w),C=this.computedMatrix);var E=C[x],m=C[x+4],k=C[x+8];if(S){var U=Math.abs(E),z=Math.abs(m),F=Math.abs(k),B=Math.max(U,z,F);U===B?(E=E<0?-1:1,m=k=0):F===B?(k=k<0?-1:1,E=m=0):(m=m<0?-1:1,E=k=0)}else{var I=g(E,m,k);E/=I,m/=I,k/=I}var O=C[i],N=C[i+4],Y=C[i+8],$=O*E+N*m+Y*k;O-=E*$,N-=m*$,Y-=k*$;var te=g(O,N,Y);O/=te,N/=te,Y/=te;var ie=m*Y-k*N,ce=k*O-E*Y,J=E*N-m*O,Z=g(ie,ce,J);ie/=Z,ce/=Z,J/=Z,this.center.jump(w,He,De,Ve),this.radius.idle(w),this.up.jump(w,E,m,k),this.right.jump(w,O,N,Y);var ae,j;if(x===2){var q=C[1],oe=C[5],Q=C[9],K=q*O+oe*N+Q*Y,se=q*ie+oe*ce+Q*J;Ee<0?ae=-Math.PI/2:ae=Math.PI/2,j=Math.atan2(se,K)}else{var ne=C[2],fe=C[6],ye=C[10],Ee=ne*E+fe*m+ye*k,Te=ne*O+fe*N+ye*Y,ze=ne*ie+fe*ce+ye*J;ae=Math.asin(f(Ee)),j=Math.atan2(ze,Te)}this.angle.jump(w,j,ae),this.recalcMatrix(w);var ke=C[2],Se=C[6],me=C[10],Ce=this.computedMatrix;o(Ce,C);var Ne=Ce[15],He=Ce[12]/Ne,De=Ce[13]/Ne,Ve=Ce[14]/Ne,at=Math.exp(this.computedRadius[0]);this.center.jump(w,He-ke*at,De-Se*at,Ve-me*at)},s.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},s.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},s.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},s.setDistance=function(w,C){C>0&&this.radius.set(w,Math.log(C))},s.lookAt=function(w,C,b,S){this.recalcMatrix(w),C=C||this.computedEye,b=b||this.computedCenter,S=S||this.computedUp;var x=S[0],i=S[1],E=S[2],m=g(x,i,E);if(!(m<1e-6)){x/=m,i/=m,E/=m;var k=C[0]-b[0],I=C[1]-b[1],U=C[2]-b[2],z=g(k,I,U);if(!(z<1e-6)){k/=z,I/=z,U/=z;var F=this.computedRight,B=F[0],O=F[1],N=F[2],Y=x*B+i*O+E*N;B-=Y*x,O-=Y*i,N-=Y*E;var $=g(B,O,N);if(!($<.01&&(B=i*U-E*I,O=E*k-x*U,N=x*I-i*k,$=g(B,O,N),$<1e-6))){B/=$,O/=$,N/=$,this.up.set(w,x,i,E),this.right.set(w,B,O,N),this.center.set(w,b[0],b[1],b[2]),this.radius.set(w,Math.log(z));var te=i*N-E*O,ie=E*B-x*N,ce=x*O-i*B,J=g(te,ie,ce);te/=J,ie/=J,ce/=J;var Z=x*k+i*I+E*U,ae=B*k+O*I+N*U,j=te*k+ie*I+ce*U,q=Math.asin(f(Z)),oe=Math.atan2(j,ae),Q=this.angle._state,K=Q[Q.length-1],se=Q[Q.length-2];K=K%(2*Math.PI);var ne=Math.abs(K+2*Math.PI-oe),fe=Math.abs(K-oe),ye=Math.abs(K-2*Math.PI-oe);ne<fe&&(K+=2*Math.PI),ye<fe&&(K-=2*Math.PI),this.angle.jump(this.angle.lastT(),K,se),this.angle.set(w,oe,q)}}}};function A(w){w=w||{};var C=w.center||[0,0,0],b=w.up||[0,1,0],S=w.right||T(b),x=w.radius||1,i=w.theta||0,E=w.phi||0;if(C=[].slice.call(C,0,3),b=[].slice.call(b,0,3),u(b,b),S=[].slice.call(S,0,3),u(S,S),"eye"in w){var m=w.eye,k=[m[0]-C[0],m[1]-C[1],m[2]-C[2]];c(S,k,b),g(S[0],S[1],S[2])<1e-6?S=T(b):u(S,S),x=g(k[0],k[1],k[2]);var I=l(b,k)/x,U=l(S,k)/x;E=Math.acos(I),i=Math.acos(U)}return x=Math.log(x),new h(w.zoomMin,w.zoomMax,C,b,S,x,i,E)}},9660:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,o,n){var c=t*o,u=p*t,l=u-t,g=u-l,f=t-g,T=p*o,h=T-o,s=T-h,d=o-s,A=c-g*s,w=A-f*s,C=w-g*d,b=f*d-C;return n?(n[0]=b,n[1]=c,n):[b,c]}},87:function(v){v.exports=p;function p(r,t,o){var n=r+t,c=n-r,u=n-c,l=t-c,g=r-u;return o?(o[0]=g+l,o[1]=n,o):[g+l,n]}},5306:function(v,p,r){var t=r(2288),o=r(3094),n=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var c=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=o([32,0])),g.BIGUINT64||(g.BIGUINT64=o([32,0])),g.BIGINT64||(g.BIGINT64=o([32,0])),g.BUFFER||(g.BUFFER=o([32,0]));var f=g.DATA,T=g.BUFFER;p.free=function(B){if(n.isBuffer(B))T[t.log2(B.length)].push(B);else{if(Object.prototype.toString.call(B)!=="[object ArrayBuffer]"&&(B=B.buffer),!B)return;var O=B.length||B.byteLength,N=t.log2(O)|0;f[N].push(B)}};function h(F){if(F){var B=F.length||F.byteLength,O=t.log2(B);f[O].push(F)}}function s(F){h(F.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=s,p.freeArrayBuffer=h,p.freeBuffer=function(B){T[t.log2(B.length)].push(B)},p.malloc=function(B,O){if(O===void 0||O==="arraybuffer")return d(B);switch(O){case"uint8":return A(B);case"uint16":return w(B);case"uint32":return C(B);case"int8":return b(B);case"int16":return S(B);case"int32":return x(B);case"float":case"float32":return i(B);case"double":case"float64":return E(B);case"uint8_clamped":return m(B);case"bigint64":return I(B);case"biguint64":return k(B);case"buffer":return z(B);case"data":case"dataview":return U(B);default:return null}return null};function d(B){var B=t.nextPow2(B),O=t.log2(B),N=f[O];return N.length>0?N.pop():new ArrayBuffer(B)}p.mallocArrayBuffer=d;function A(F){return new Uint8Array(d(F),0,F)}p.mallocUint8=A;function w(F){return new Uint16Array(d(2*F),0,F)}p.mallocUint16=w;function C(F){return new Uint32Array(d(4*F),0,F)}p.mallocUint32=C;function b(F){return new Int8Array(d(F),0,F)}p.mallocInt8=b;function S(F){return new Int16Array(d(2*F),0,F)}p.mallocInt16=S;function x(F){return new Int32Array(d(4*F),0,F)}p.mallocInt32=x;function i(F){return new Float32Array(d(4*F),0,F)}p.mallocFloat32=p.mallocFloat=i;function E(F){return new Float64Array(d(8*F),0,F)}p.mallocFloat64=p.mallocDouble=E;function m(F){return c?new Uint8ClampedArray(d(F),0,F):A(F)}p.mallocUint8Clamped=m;function k(F){return u?new BigUint64Array(d(8*F),0,F):null}p.mallocBigUint64=k;function I(F){return l?new BigInt64Array(d(8*F),0,F):null}p.mallocBigInt64=I;function U(F){return new DataView(d(F),0,F)}p.mallocDataView=U;function z(F){F=t.nextPow2(F);var B=t.log2(F),O=T[B];return O.length>0?O.pop():new n(F)}p.mallocBuffer=z,p.clearCache=function(){for(var B=0;B<32;++B)g.UINT8[B].length=0,g.UINT16[B].length=0,g.UINT32[B].length=0,g.INT8[B].length=0,g.INT16[B].length=0,g.INT32[B].length=0,g.FLOAT[B].length=0,g.DOUBLE[B].length=0,g.BIGUINT64[B].length=0,g.BIGINT64[B].length=0,g.UINT8C[B].length=0,f[B].length=0,T[B].length=0}},1731:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var o=0;o<t;++o)this.roots[o]=o,this.ranks[o]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var o=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[o]!==t;){var c=n[o];n[o]=t,o=c}return t},r.link=function(t,o){var n=this.find(t),c=this.find(o);if(n!==c){var u=this.ranks,l=this.roots,g=u[n],f=u[c];g<f?l[n]=c:f<g?l[c]=n:(l[c]=n,++u[n])}}},1215:function(v){function p(o,n){for(var c=1,u=o.length,l=o[0],g=o[0],f=1;f<u;++f)if(g=l,l=o[f],n(l,g)){if(f===c){c++;continue}o[c++]=l}return o.length=c,o}function r(o){for(var n=1,c=o.length,u=o[0],l=o[0],g=1;g<c;++g,l=u)if(l=u,u=o[g],u!==l){if(g===n){n++;continue}o[n++]=u}return o.length=n,o}function t(o,n,c){return o.length===0?o:n?(c||o.sort(n),p(o,n)):(c||o.sort(),r(o))}v.exports=t},875:function(v,p,r){v.exports=c;var t=r(712),o=null,n=null;typeof document<"u"&&(o=document.createElement("canvas"),o.width=8192,o.height=1024,n=o.getContext("2d"));function c(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||o,l.context||n,l)}},712:function(v,p,r){v.exports=I,v.exports.processPixels=k;var t=r(4162),o=r(5050),n=r(8243),c=r(197),u=r(7761),l=r(8040),g="b",f="b|",T="i",h="i|",s="sup",d="+",A="+1",w="sub",C="-",b="-1";function S(U,z,F,B){for(var O="<"+U+">",N="</"+U+">",Y=O.length,$=N.length,te=z[0]===d||z[0]===C,ie=0,ce=-$;ie>-1&&(ie=F.indexOf(O,ie),!(ie===-1||(ce=F.indexOf(N,ie+Y),ce===-1)||ce<=ie));){for(var J=ie;J<ce+$;++J)if(J<ie+Y||J>=ce)B[J]=null,F=F.substr(0,J)+" "+F.substr(J+1);else if(B[J]!==null){var Z=B[J].indexOf(z[0]);Z===-1?B[J]+=z:te&&(B[J]=B[J].substr(0,Z+1)+(1+parseInt(B[J][Z+1]))+B[J].substr(Z+2))}var ae=ie+Y,j=F.substr(ae,ce-ae),q=j.indexOf(O);q!==-1?ie=q:ie=ce+$}return B}function x(U,z,F){for(var B=z.textAlign||"start",O=z.textBaseline||"alphabetic",N=[1<<30,1<<30],Y=[0,0],$=U.length,te=0;te<$;++te)for(var ie=U[te],ce=0;ce<2;++ce)N[ce]=Math.min(N[ce],ie[ce])|0,Y[ce]=Math.max(Y[ce],ie[ce])|0;var J=0;switch(B){case"center":J=-.5*(N[0]+Y[0]);break;case"right":case"end":J=-Y[0];break;case"left":case"start":J=-N[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var Z=0;switch(O){case"hanging":case"top":Z=-N[1];break;case"middle":Z=-.5*(N[1]+Y[1]);break;case"alphabetic":case"ideographic":Z=-3*F;break;case"bottom":Z=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var ae=1/F;return"lineHeight"in z?ae*=+z.lineHeight:"width"in z?ae=z.width/(Y[0]-N[0]):"height"in z&&(ae=z.height/(Y[1]-N[1])),U.map(function(j){return[ae*(j[0]+J),ae*(j[1]+Z)]})}function i(U,z,F,B,O,N){F=F.replace(/\n/g,""),N.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var Y="",$=[];for(K=0;K<F.length;++K)$[K]=Y;N.bolds===!0&&($=S(g,f,F,$)),N.italics===!0&&($=S(T,h,F,$)),N.superscripts===!0&&($=S(s,A,F,$)),N.subscripts===!0&&($=S(w,b,F,$));var te=[],ie="";for(K=0;K<F.length;++K)$[K]!==null&&(ie+=F[K],te.push($[K]));var ce=ie.split(`
`),J=ce.length,Z=Math.round(O*B),ae=B,j=B*2,q=0,oe=J*Z+j;U.height<oe&&(U.height=oe),z.fillStyle="#000",z.fillRect(0,0,U.width,U.height),z.fillStyle="#fff";var Q,K,se,ne,fe,ye=0,Ee="";function Te(){if(Ee!==""){var Ve=z.measureText(Ee).width;z.fillText(Ee,ae+se,j+ne),se+=Ve}}function ze(){return""+Math.round(fe)+"px "}function ke(Ve,at){var lt=""+z.font;if(N.subscripts===!0){var $e=Ve.indexOf(C),et=at.indexOf(C),ct=$e>-1?parseInt(Ve[1+$e]):0,dt=et>-1?parseInt(at[1+et]):0;ct!==dt&&(lt=lt.replace(ze(),"?px "),fe*=Math.pow(.75,dt-ct),lt=lt.replace("?px ",ze())),ne+=.25*Z*(dt-ct)}if(N.superscripts===!0){var gt=Ve.indexOf(d),At=at.indexOf(d),Rt=gt>-1?parseInt(Ve[1+gt]):0,Vt=At>-1?parseInt(at[1+At]):0;Rt!==Vt&&(lt=lt.replace(ze(),"?px "),fe*=Math.pow(.75,Vt-Rt),lt=lt.replace("?px ",ze())),ne-=.25*Z*(Vt-Rt)}if(N.bolds===!0){var Je=Ve.indexOf(f)>-1,Ge=at.indexOf(f)>-1;!Je&&Ge&&(Ie?lt=lt.replace("italic ","italic bold "):lt="bold "+lt),Je&&!Ge&&(lt=lt.replace("bold ",""))}if(N.italics===!0){var Ie=Ve.indexOf(h)>-1,Fe=at.indexOf(h)>-1;!Ie&&Fe&&(lt="italic "+lt),Ie&&!Fe&&(lt=lt.replace("italic ",""))}z.font=lt}for(Q=0;Q<J;++Q){var Se=ce[Q]+`
`;for(se=0,ne=Q*Z,fe=B,Ee="",K=0;K<Se.length;++K){var me=K+ye<te.length?te[K+ye]:te[te.length-1];Y===me?Ee+=Se[K]:(Te(),Ee=Se[K],me!==void 0&&(ke(Y,me),Y=me))}Te(),ye+=Se.length;var Ce=Math.round(se+2*ae)|0;q<Ce&&(q=Ce)}var Ne=q,He=j+Z*J,De=o(z.getImageData(0,0,Ne,He).data,[He,Ne,4]);return De.pick(-1,-1,0).transpose(1,0)}function E(U,z){var F=t(U,128);return z?n(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function m(U,z,F,B){var O=E(U,B),N=x(O.positions,z,F),Y=O.edges,$=z.orientation==="ccw";if(c(N,Y),z.polygons||z.polygon||z.polyline){for(var te=l(Y,N),ie=new Array(te.length),ce=0;ce<te.length;++ce){for(var J=te[ce],Z=new Array(J.length),ae=0;ae<J.length;++ae){for(var j=J[ae],q=new Array(j.length),oe=0;oe<j.length;++oe)q[oe]=N[j[oe]].slice();$&&q.reverse(),Z[ae]=q}ie[ce]=Z}return ie}else return z.triangles||z.triangulate||z.triangle?{cells:u(N,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:Y,positions:N}}function k(U,z,F){try{return m(U,z,F,!0)}catch{}try{return m(U,z,F,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(U,z,F,B){var O=64,N=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};B&&(B.size&&B.size>0&&(O=B.size),B.lineSpacing&&B.lineSpacing>0&&(N=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(Y.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(Y.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(Y.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(Y.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(Y.superscripts=!!B.styletags.superscripts)),F.font=[B.fontStyle,B.fontVariant,B.fontWeight,O+"px",B.font].filter(function(te){return te}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var $=i(z,F,U,O,N,Y);return k($,B,O)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(E){E.permitHostObjects___&&E.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var o=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new o,c=Object.freeze({});if(n.set(c,1),n.get(c)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,g=Object.isExtensible,f="weakmap:",T=f+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),s=new Uint8Array(h);crypto.getRandomValues(s),T=f+"rand:"+Array.prototype.map.call(s,function(E){return(E%36).toString(36)}).join("")+"___"}function d(E){return!(E.substr(0,f.length)==f&&E.substr(E.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(m){return u(m).filter(d)}}),"getPropertyNames"in Object){var A=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(m){return A(m).filter(d)}})}function w(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var m=E[T];if(m&&m.key===E)return m;if(g(E)){m={key:E};try{return l(E,T,{value:m,writable:!1,enumerable:!1,configurable:!1}),m}catch{return}}}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(U){return w(U),E(U)}});var m=Object.seal;l(Object,"seal",{value:function(U){return w(U),m(U)}});var k=Object.preventExtensions;l(Object,"preventExtensions",{value:function(U){return w(U),k(U)}})})();function C(E){return E.prototype=null,Object.freeze(E)}var b=!1;function S(){!b&&typeof console<"u"&&(b=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var x=0,i=function(){this instanceof i||S();var E=[],m=[],k=x++;function I(B,O){var N,Y=w(B);return Y?k in Y?Y[k]:O:(N=E.indexOf(B),N>=0?m[N]:O)}function U(B){var O=w(B);return O?k in O:E.indexOf(B)>=0}function z(B,O){var N,Y=w(B);return Y?Y[k]=O:(N=E.indexOf(B),N>=0?m[N]=O:(N=E.length,m[N]=O,E[N]=B)),this}function F(B){var O=w(B),N,Y;return O?k in O&&delete O[k]:(N=E.indexOf(B),N<0?!1:(Y=E.length-1,E[N]=void 0,m[N]=m[Y],E[N]=E[Y],E.length=Y,m.length=Y,!0))}return Object.create(i.prototype,{get___:{value:C(I)},has___:{value:C(U)},set___:{value:C(z)},delete___:{value:C(F)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(m,k){return this.get___(m,k)},writable:!0,configurable:!0},has:{value:function(m){return this.has___(m)},writable:!0,configurable:!0},set:{value:function(m,k){return this.set___(m,k)},writable:!0,configurable:!0},delete:{value:function(m){return this.delete___(m)},writable:!0,configurable:!0}}),typeof o=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof i||S();var m=new o,k=void 0,I=!1;function U(O,N){return k?m.has(O)?m.get(O):k.get___(O,N):m.get(O,N)}function z(O){return m.has(O)||(k?k.has___(O):!1)}var F;t?F=function(O,N){return m.set(O,N),m.has(O)||(k||(k=new i),k.set(O,N)),this}:F=function(O,N){if(I)try{m.set(O,N)}catch{k||(k=new i),k.set___(O,N)}else m.set(O,N);return this};function B(O){var N=!!m.delete(O);return k&&k.delete___(O)||N}return Object.create(i.prototype,{get___:{value:C(U)},has___:{value:C(z)},set___:{value:C(F)},delete___:{value:C(B)},permitHostObjects___:{value:C(function(O){if(O===r)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=i.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=i)})()},9222:function(v,p,r){var t=r(7178);v.exports=o;function o(){var n={};return function(c){if((typeof c!="object"||c===null)&&typeof c!="function")throw new Error("Weakmap-shim: Key must be object");var u=c.valueOf(n);return u&&u.identity===n?u:t(c,n)}}},7178:function(v){v.exports=p;function p(r,t){var o={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(c){return c!==t?n.apply(this,arguments):o},writable:!0}),o}},4037:function(v,p,r){var t=r(9222);v.exports=o;function o(){var n=t();return{get:function(c,u){var l=n(c);return l.hasOwnProperty("value")?l.value:u},set:function(c,u){return n(c).value=u,this},has:function(c){return"value"in n(c)},delete:function(c){return delete n(c).value}}}},6183:function(v){function p(){return function(u,l,g,f,T,h){var s=u[0],d=g[0],A=[0],w=d;f|=0;var C=0,b=d;for(C=0;C<s;++C){{var S=l[f]-h,x=l[f+w]-h;S>=0!=x>=0&&T.push(A[0]+.5+.5*(S+x)/(S-x))}f+=b,++A[0]}}}function r(){return p()}var t=r;function o(u){var l={};return function(f,T,h){var s=f.dtype,d=f.order,A=[s,d.join()].join(),w=l[A];return w||(l[A]=w=u([s,d])),w(f.shape.slice(0),f.data,f.stride,f.offset|0,T,h)}}function n(u){return o(t.bind(void 0,u))}function c(u){return n({funcName:u.funcName})}v.exports=c({funcName:"zeroCrossings"})},9584:function(v,p,r){v.exports=o;var t=r(6183);function o(n,c){var u=[];return c=+c||0,t(n.hi(n.shape[0]-1),u,c),u}},6601:function(){}},a={};function L(v){var p=a[v];if(p!==void 0)return p.exports;var r=a[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var M=L(7386);return M}()})},12856:function(G,H,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function y(Je,Ge){if(!(Je instanceof Ge))throw new TypeError("Cannot call a class as a function")}function P(Je,Ge){for(var Ie=0;Ie<Ge.length;Ie++){var Fe=Ge[Ie];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(Je,L(Fe.key),Fe)}}function a(Je,Ge,Ie){return Ge&&P(Je.prototype,Ge),Ie&&P(Je,Ie),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function L(Je){var Ge=M(Je,"string");return u(Ge)==="symbol"?Ge:String(Ge)}function M(Je,Ge){if(u(Je)!=="object"||Je===null)return Je;var Ie=Je[Symbol.toPrimitive];if(Ie!==void 0){var Fe=Ie.call(Je,Ge||"default");if(u(Fe)!=="object")return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ge==="string"?String:Number)(Je)}function v(Je,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(Ge&&Ge.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),Ge&&p(Je,Ge)}function p(Je,Ge){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,Pe){return Fe.__proto__=Pe,Fe},p(Je,Ge)}function r(Je){var Ge=n();return function(){var Fe=c(Je),Pe;if(Ge){var xe=c(this).constructor;Pe=Reflect.construct(Fe,arguments,xe)}else Pe=Fe.apply(this,arguments);return t(this,Pe)}}function t(Je,Ge){if(Ge&&(u(Ge)==="object"||typeof Ge=="function"))return Ge;if(Ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(Je)}function o(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(Je){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)},c(Je)}function u(Je){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},u(Je)}var l=e(95341),g=e(95280),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=d,H.SlowBuffer=I,H.INSPECT_MAX_BYTES=50;var T=2147483647;H.kMaxLength=T,d.TYPED_ARRAY_SUPPORT=h(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Je=new Uint8Array(1),Ge={foo:function(){return 42}};return Object.setPrototypeOf(Ge,Uint8Array.prototype),Object.setPrototypeOf(Je,Ge),Je.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function s(Je){if(Je>T)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var Ge=new Uint8Array(Je);return Object.setPrototypeOf(Ge,d.prototype),Ge}function d(Je,Ge,Ie){if(typeof Je=="number"){if(typeof Ge=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(Je)}return A(Je,Ge,Ie)}d.poolSize=8192;function A(Je,Ge,Ie){if(typeof Je=="string")return S(Je,Ge);if(ArrayBuffer.isView(Je))return i(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Je));if(dt(Je,ArrayBuffer)||Je&&dt(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(Je,SharedArrayBuffer)||Je&&dt(Je.buffer,SharedArrayBuffer)))return E(Je,Ge,Ie);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Fe=Je.valueOf&&Je.valueOf();if(Fe!=null&&Fe!==Je)return d.from(Fe,Ge,Ie);var Pe=m(Je);if(Pe)return Pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return d.from(Je[Symbol.toPrimitive]("string"),Ge,Ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Je))}d.from=function(Je,Ge,Ie){return A(Je,Ge,Ie)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function w(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function C(Je,Ge,Ie){return w(Je),Je<=0?s(Je):Ge!==void 0?typeof Ie=="string"?s(Je).fill(Ge,Ie):s(Je).fill(Ge):s(Je)}d.alloc=function(Je,Ge,Ie){return C(Je,Ge,Ie)};function b(Je){return w(Je),s(Je<0?0:k(Je)|0)}d.allocUnsafe=function(Je){return b(Je)},d.allocUnsafeSlow=function(Je){return b(Je)};function S(Je,Ge){if((typeof Ge!="string"||Ge==="")&&(Ge="utf8"),!d.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);var Ie=U(Je,Ge)|0,Fe=s(Ie),Pe=Fe.write(Je,Ge);return Pe!==Ie&&(Fe=Fe.slice(0,Pe)),Fe}function x(Je){for(var Ge=Je.length<0?0:k(Je.length)|0,Ie=s(Ge),Fe=0;Fe<Ge;Fe+=1)Ie[Fe]=Je[Fe]&255;return Ie}function i(Je){if(dt(Je,Uint8Array)){var Ge=new Uint8Array(Je);return E(Ge.buffer,Ge.byteOffset,Ge.byteLength)}return x(Je)}function E(Je,Ge,Ie){if(Ge<0||Je.byteLength<Ge)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<Ge+(Ie||0))throw new RangeError('"length" is outside of buffer bounds');var Fe;return Ge===void 0&&Ie===void 0?Fe=new Uint8Array(Je):Ie===void 0?Fe=new Uint8Array(Je,Ge):Fe=new Uint8Array(Je,Ge,Ie),Object.setPrototypeOf(Fe,d.prototype),Fe}function m(Je){if(d.isBuffer(Je)){var Ge=k(Je.length)|0,Ie=s(Ge);return Ie.length===0||Je.copy(Ie,0,0,Ge),Ie}if(Je.length!==void 0)return typeof Je.length!="number"||gt(Je.length)?s(0):x(Je);if(Je.type==="Buffer"&&Array.isArray(Je.data))return x(Je.data)}function k(Je){if(Je>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return Je|0}function I(Je){return+Je!=Je&&(Je=0),d.alloc(+Je)}d.isBuffer=function(Ge){return Ge!=null&&Ge._isBuffer===!0&&Ge!==d.prototype},d.compare=function(Ge,Ie){if(dt(Ge,Uint8Array)&&(Ge=d.from(Ge,Ge.offset,Ge.byteLength)),dt(Ie,Uint8Array)&&(Ie=d.from(Ie,Ie.offset,Ie.byteLength)),!d.isBuffer(Ge)||!d.isBuffer(Ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ge===Ie)return 0;for(var Fe=Ge.length,Pe=Ie.length,xe=0,ge=Math.min(Fe,Pe);xe<ge;++xe)if(Ge[xe]!==Ie[xe]){Fe=Ge[xe],Pe=Ie[xe];break}return Fe<Pe?-1:Pe<Fe?1:0},d.isEncoding=function(Ge){switch(String(Ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(Ge,Ie){if(!Array.isArray(Ge))throw new TypeError('"list" argument must be an Array of Buffers');if(Ge.length===0)return d.alloc(0);var Fe;if(Ie===void 0)for(Ie=0,Fe=0;Fe<Ge.length;++Fe)Ie+=Ge[Fe].length;var Pe=d.allocUnsafe(Ie),xe=0;for(Fe=0;Fe<Ge.length;++Fe){var ge=Ge[Fe];if(dt(ge,Uint8Array))xe+ge.length>Pe.length?(d.isBuffer(ge)||(ge=d.from(ge)),ge.copy(Pe,xe)):Uint8Array.prototype.set.call(Pe,ge,xe);else if(d.isBuffer(ge))ge.copy(Pe,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=ge.length}return Pe};function U(Je,Ge){if(d.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||dt(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(Je));var Ie=Je.length,Fe=arguments.length>2&&arguments[2]===!0;if(!Fe&&Ie===0)return 0;for(var Pe=!1;;)switch(Ge){case"ascii":case"latin1":case"binary":return Ie;case"utf8":case"utf-8":return at(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie*2;case"hex":return Ie>>>1;case"base64":return et(Je).length;default:if(Pe)return Fe?-1:at(Je).length;Ge=(""+Ge).toLowerCase(),Pe=!0}}d.byteLength=U;function z(Je,Ge,Ie){var Fe=!1;if((Ge===void 0||Ge<0)&&(Ge=0),Ge>this.length||((Ie===void 0||Ie>this.length)&&(Ie=this.length),Ie<=0)||(Ie>>>=0,Ge>>>=0,Ie<=Ge))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return oe(this,Ge,Ie);case"utf8":case"utf-8":return J(this,Ge,Ie);case"ascii":return j(this,Ge,Ie);case"latin1":case"binary":return q(this,Ge,Ie);case"base64":return ce(this,Ge,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Ge,Ie);default:if(Fe)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),Fe=!0}}d.prototype._isBuffer=!0;function F(Je,Ge,Ie){var Fe=Je[Ge];Je[Ge]=Je[Ie],Je[Ie]=Fe}d.prototype.swap16=function(){var Ge=this.length;if(Ge%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ie=0;Ie<Ge;Ie+=2)F(this,Ie,Ie+1);return this},d.prototype.swap32=function(){var Ge=this.length;if(Ge%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ie=0;Ie<Ge;Ie+=4)F(this,Ie,Ie+3),F(this,Ie+1,Ie+2);return this},d.prototype.swap64=function(){var Ge=this.length;if(Ge%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ie=0;Ie<Ge;Ie+=8)F(this,Ie,Ie+7),F(this,Ie+1,Ie+6),F(this,Ie+2,Ie+5),F(this,Ie+3,Ie+4);return this},d.prototype.toString=function(){var Ge=this.length;return Ge===0?"":arguments.length===0?J(this,0,Ge):z.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(Ge){if(!d.isBuffer(Ge))throw new TypeError("Argument must be a Buffer");return this===Ge?!0:d.compare(this,Ge)===0},d.prototype.inspect=function(){var Ge="",Ie=H.INSPECT_MAX_BYTES;return Ge=this.toString("hex",0,Ie).replace(/(.{2})/g,"$1 ").trim(),this.length>Ie&&(Ge+=" ... "),"<Buffer "+Ge+">"},f&&(d.prototype[f]=d.prototype.inspect),d.prototype.compare=function(Ge,Ie,Fe,Pe,xe){if(dt(Ge,Uint8Array)&&(Ge=d.from(Ge,Ge.offset,Ge.byteLength)),!d.isBuffer(Ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(Ge));if(Ie===void 0&&(Ie=0),Fe===void 0&&(Fe=Ge?Ge.length:0),Pe===void 0&&(Pe=0),xe===void 0&&(xe=this.length),Ie<0||Fe>Ge.length||Pe<0||xe>this.length)throw new RangeError("out of range index");if(Pe>=xe&&Ie>=Fe)return 0;if(Pe>=xe)return-1;if(Ie>=Fe)return 1;if(Ie>>>=0,Fe>>>=0,Pe>>>=0,xe>>>=0,this===Ge)return 0;for(var ge=xe-Pe,Me=Fe-Ie,Ae=Math.min(ge,Me),Ue=this.slice(Pe,xe),Ze=Ge.slice(Ie,Fe),tt=0;tt<Ae;++tt)if(Ue[tt]!==Ze[tt]){ge=Ue[tt],Me=Ze[tt];break}return ge<Me?-1:Me<ge?1:0};function B(Je,Ge,Ie,Fe,Pe){if(Je.length===0)return-1;if(typeof Ie=="string"?(Fe=Ie,Ie=0):Ie>2147483647?Ie=2147483647:Ie<-2147483648&&(Ie=-2147483648),Ie=+Ie,gt(Ie)&&(Ie=Pe?0:Je.length-1),Ie<0&&(Ie=Je.length+Ie),Ie>=Je.length){if(Pe)return-1;Ie=Je.length-1}else if(Ie<0)if(Pe)Ie=0;else return-1;if(typeof Ge=="string"&&(Ge=d.from(Ge,Fe)),d.isBuffer(Ge))return Ge.length===0?-1:O(Je,Ge,Ie,Fe,Pe);if(typeof Ge=="number")return Ge=Ge&255,typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call(Je,Ge,Ie):Uint8Array.prototype.lastIndexOf.call(Je,Ge,Ie):O(Je,[Ge],Ie,Fe,Pe);throw new TypeError("val must be string, number or Buffer")}function O(Je,Ge,Ie,Fe,Pe){var xe=1,ge=Je.length,Me=Ge.length;if(Fe!==void 0&&(Fe=String(Fe).toLowerCase(),Fe==="ucs2"||Fe==="ucs-2"||Fe==="utf16le"||Fe==="utf-16le")){if(Je.length<2||Ge.length<2)return-1;xe=2,ge/=2,Me/=2,Ie/=2}function Ae(pt,Yt){return xe===1?pt[Yt]:pt.readUInt16BE(Yt*xe)}var Ue;if(Pe){var Ze=-1;for(Ue=Ie;Ue<ge;Ue++)if(Ae(Je,Ue)===Ae(Ge,Ze===-1?0:Ue-Ze)){if(Ze===-1&&(Ze=Ue),Ue-Ze+1===Me)return Ze*xe}else Ze!==-1&&(Ue-=Ue-Ze),Ze=-1}else for(Ie+Me>ge&&(Ie=ge-Me),Ue=Ie;Ue>=0;Ue--){for(var tt=!0,ft=0;ft<Me;ft++)if(Ae(Je,Ue+ft)!==Ae(Ge,ft)){tt=!1;break}if(tt)return Ue}return-1}d.prototype.includes=function(Ge,Ie,Fe){return this.indexOf(Ge,Ie,Fe)!==-1},d.prototype.indexOf=function(Ge,Ie,Fe){return B(this,Ge,Ie,Fe,!0)},d.prototype.lastIndexOf=function(Ge,Ie,Fe){return B(this,Ge,Ie,Fe,!1)};function N(Je,Ge,Ie,Fe){Ie=Number(Ie)||0;var Pe=Je.length-Ie;Fe?(Fe=Number(Fe),Fe>Pe&&(Fe=Pe)):Fe=Pe;var xe=Ge.length;Fe>xe/2&&(Fe=xe/2);var ge;for(ge=0;ge<Fe;++ge){var Me=parseInt(Ge.substr(ge*2,2),16);if(gt(Me))return ge;Je[Ie+ge]=Me}return ge}function Y(Je,Ge,Ie,Fe){return ct(at(Ge,Je.length-Ie),Je,Ie,Fe)}function $(Je,Ge,Ie,Fe){return ct(lt(Ge),Je,Ie,Fe)}function te(Je,Ge,Ie,Fe){return ct(et(Ge),Je,Ie,Fe)}function ie(Je,Ge,Ie,Fe){return ct($e(Ge,Je.length-Ie),Je,Ie,Fe)}d.prototype.write=function(Ge,Ie,Fe,Pe){if(Ie===void 0)Pe="utf8",Fe=this.length,Ie=0;else if(Fe===void 0&&typeof Ie=="string")Pe=Ie,Fe=this.length,Ie=0;else if(isFinite(Ie))Ie=Ie>>>0,isFinite(Fe)?(Fe=Fe>>>0,Pe===void 0&&(Pe="utf8")):(Pe=Fe,Fe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var xe=this.length-Ie;if((Fe===void 0||Fe>xe)&&(Fe=xe),Ge.length>0&&(Fe<0||Ie<0)||Ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");Pe||(Pe="utf8");for(var ge=!1;;)switch(Pe){case"hex":return N(this,Ge,Ie,Fe);case"utf8":case"utf-8":return Y(this,Ge,Ie,Fe);case"ascii":case"latin1":case"binary":return $(this,Ge,Ie,Fe);case"base64":return te(this,Ge,Ie,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,Ge,Ie,Fe);default:if(ge)throw new TypeError("Unknown encoding: "+Pe);Pe=(""+Pe).toLowerCase(),ge=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(Je,Ge,Ie){return Ge===0&&Ie===Je.length?l.fromByteArray(Je):l.fromByteArray(Je.slice(Ge,Ie))}function J(Je,Ge,Ie){Ie=Math.min(Je.length,Ie);for(var Fe=[],Pe=Ge;Pe<Ie;){var xe=Je[Pe],ge=null,Me=xe>239?4:xe>223?3:xe>191?2:1;if(Pe+Me<=Ie){var Ae=void 0,Ue=void 0,Ze=void 0,tt=void 0;switch(Me){case 1:xe<128&&(ge=xe);break;case 2:Ae=Je[Pe+1],(Ae&192)===128&&(tt=(xe&31)<<6|Ae&63,tt>127&&(ge=tt));break;case 3:Ae=Je[Pe+1],Ue=Je[Pe+2],(Ae&192)===128&&(Ue&192)===128&&(tt=(xe&15)<<12|(Ae&63)<<6|Ue&63,tt>2047&&(tt<55296||tt>57343)&&(ge=tt));break;case 4:Ae=Je[Pe+1],Ue=Je[Pe+2],Ze=Je[Pe+3],(Ae&192)===128&&(Ue&192)===128&&(Ze&192)===128&&(tt=(xe&15)<<18|(Ae&63)<<12|(Ue&63)<<6|Ze&63,tt>65535&&tt<1114112&&(ge=tt))}}ge===null?(ge=65533,Me=1):ge>65535&&(ge-=65536,Fe.push(ge>>>10&1023|55296),ge=56320|ge&1023),Fe.push(ge),Pe+=Me}return ae(Fe)}var Z=4096;function ae(Je){var Ge=Je.length;if(Ge<=Z)return String.fromCharCode.apply(String,Je);for(var Ie="",Fe=0;Fe<Ge;)Ie+=String.fromCharCode.apply(String,Je.slice(Fe,Fe+=Z));return Ie}function j(Je,Ge,Ie){var Fe="";Ie=Math.min(Je.length,Ie);for(var Pe=Ge;Pe<Ie;++Pe)Fe+=String.fromCharCode(Je[Pe]&127);return Fe}function q(Je,Ge,Ie){var Fe="";Ie=Math.min(Je.length,Ie);for(var Pe=Ge;Pe<Ie;++Pe)Fe+=String.fromCharCode(Je[Pe]);return Fe}function oe(Je,Ge,Ie){var Fe=Je.length;(!Ge||Ge<0)&&(Ge=0),(!Ie||Ie<0||Ie>Fe)&&(Ie=Fe);for(var Pe="",xe=Ge;xe<Ie;++xe)Pe+=At[Je[xe]];return Pe}function Q(Je,Ge,Ie){for(var Fe=Je.slice(Ge,Ie),Pe="",xe=0;xe<Fe.length-1;xe+=2)Pe+=String.fromCharCode(Fe[xe]+Fe[xe+1]*256);return Pe}d.prototype.slice=function(Ge,Ie){var Fe=this.length;Ge=~~Ge,Ie=Ie===void 0?Fe:~~Ie,Ge<0?(Ge+=Fe,Ge<0&&(Ge=0)):Ge>Fe&&(Ge=Fe),Ie<0?(Ie+=Fe,Ie<0&&(Ie=0)):Ie>Fe&&(Ie=Fe),Ie<Ge&&(Ie=Ge);var Pe=this.subarray(Ge,Ie);return Object.setPrototypeOf(Pe,d.prototype),Pe};function K(Je,Ge,Ie){if(Je%1!==0||Je<0)throw new RangeError("offset is not uint");if(Je+Ge>Ie)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(Ge,Ie,Fe){Ge=Ge>>>0,Ie=Ie>>>0,Fe||K(Ge,Ie,this.length);for(var Pe=this[Ge],xe=1,ge=0;++ge<Ie&&(xe*=256);)Pe+=this[Ge+ge]*xe;return Pe},d.prototype.readUintBE=d.prototype.readUIntBE=function(Ge,Ie,Fe){Ge=Ge>>>0,Ie=Ie>>>0,Fe||K(Ge,Ie,this.length);for(var Pe=this[Ge+--Ie],xe=1;Ie>0&&(xe*=256);)Pe+=this[Ge+--Ie]*xe;return Pe},d.prototype.readUint8=d.prototype.readUInt8=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,1,this.length),this[Ge]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,2,this.length),this[Ge]|this[Ge+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,2,this.length),this[Ge]<<8|this[Ge+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,4,this.length),(this[Ge]|this[Ge+1]<<8|this[Ge+2]<<16)+this[Ge+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,4,this.length),this[Ge]*16777216+(this[Ge+1]<<16|this[Ge+2]<<8|this[Ge+3])},d.prototype.readBigUInt64LE=Rt(function(Ge){Ge=Ge>>>0,Ne(Ge,"offset");var Ie=this[Ge],Fe=this[Ge+7];(Ie===void 0||Fe===void 0)&&He(Ge,this.length-8);var Pe=Ie+this[++Ge]*Math.pow(2,8)+this[++Ge]*Math.pow(2,16)+this[++Ge]*Math.pow(2,24),xe=this[++Ge]+this[++Ge]*Math.pow(2,8)+this[++Ge]*Math.pow(2,16)+Fe*Math.pow(2,24);return BigInt(Pe)+(BigInt(xe)<<BigInt(32))}),d.prototype.readBigUInt64BE=Rt(function(Ge){Ge=Ge>>>0,Ne(Ge,"offset");var Ie=this[Ge],Fe=this[Ge+7];(Ie===void 0||Fe===void 0)&&He(Ge,this.length-8);var Pe=Ie*Math.pow(2,24)+this[++Ge]*Math.pow(2,16)+this[++Ge]*Math.pow(2,8)+this[++Ge],xe=this[++Ge]*Math.pow(2,24)+this[++Ge]*Math.pow(2,16)+this[++Ge]*Math.pow(2,8)+Fe;return(BigInt(Pe)<<BigInt(32))+BigInt(xe)}),d.prototype.readIntLE=function(Ge,Ie,Fe){Ge=Ge>>>0,Ie=Ie>>>0,Fe||K(Ge,Ie,this.length);for(var Pe=this[Ge],xe=1,ge=0;++ge<Ie&&(xe*=256);)Pe+=this[Ge+ge]*xe;return xe*=128,Pe>=xe&&(Pe-=Math.pow(2,8*Ie)),Pe},d.prototype.readIntBE=function(Ge,Ie,Fe){Ge=Ge>>>0,Ie=Ie>>>0,Fe||K(Ge,Ie,this.length);for(var Pe=Ie,xe=1,ge=this[Ge+--Pe];Pe>0&&(xe*=256);)ge+=this[Ge+--Pe]*xe;return xe*=128,ge>=xe&&(ge-=Math.pow(2,8*Ie)),ge},d.prototype.readInt8=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,1,this.length),this[Ge]&128?(255-this[Ge]+1)*-1:this[Ge]},d.prototype.readInt16LE=function(Ge,Ie){Ge=Ge>>>0,Ie||K(Ge,2,this.length);var Fe=this[Ge]|this[Ge+1]<<8;return Fe&32768?Fe|4294901760:Fe},d.prototype.readInt16BE=function(Ge,Ie){Ge=Ge>>>0,Ie||K(Ge,2,this.length);var Fe=this[Ge+1]|this[Ge]<<8;return Fe&32768?Fe|4294901760:Fe},d.prototype.readInt32LE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,4,this.length),this[Ge]|this[Ge+1]<<8|this[Ge+2]<<16|this[Ge+3]<<24},d.prototype.readInt32BE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,4,this.length),this[Ge]<<24|this[Ge+1]<<16|this[Ge+2]<<8|this[Ge+3]},d.prototype.readBigInt64LE=Rt(function(Ge){Ge=Ge>>>0,Ne(Ge,"offset");var Ie=this[Ge],Fe=this[Ge+7];(Ie===void 0||Fe===void 0)&&He(Ge,this.length-8);var Pe=this[Ge+4]+this[Ge+5]*Math.pow(2,8)+this[Ge+6]*Math.pow(2,16)+(Fe<<24);return(BigInt(Pe)<<BigInt(32))+BigInt(Ie+this[++Ge]*Math.pow(2,8)+this[++Ge]*Math.pow(2,16)+this[++Ge]*Math.pow(2,24))}),d.prototype.readBigInt64BE=Rt(function(Ge){Ge=Ge>>>0,Ne(Ge,"offset");var Ie=this[Ge],Fe=this[Ge+7];(Ie===void 0||Fe===void 0)&&He(Ge,this.length-8);var Pe=(Ie<<24)+this[++Ge]*Math.pow(2,16)+this[++Ge]*Math.pow(2,8)+this[++Ge];return(BigInt(Pe)<<BigInt(32))+BigInt(this[++Ge]*Math.pow(2,24)+this[++Ge]*Math.pow(2,16)+this[++Ge]*Math.pow(2,8)+Fe)}),d.prototype.readFloatLE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,4,this.length),g.read(this,Ge,!0,23,4)},d.prototype.readFloatBE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,4,this.length),g.read(this,Ge,!1,23,4)},d.prototype.readDoubleLE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,8,this.length),g.read(this,Ge,!0,52,8)},d.prototype.readDoubleBE=function(Ge,Ie){return Ge=Ge>>>0,Ie||K(Ge,8,this.length),g.read(this,Ge,!1,52,8)};function se(Je,Ge,Ie,Fe,Pe,xe){if(!d.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ge>Pe||Ge<xe)throw new RangeError('"value" argument is out of bounds');if(Ie+Fe>Je.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(Ge,Ie,Fe,Pe){if(Ge=+Ge,Ie=Ie>>>0,Fe=Fe>>>0,!Pe){var xe=Math.pow(2,8*Fe)-1;se(this,Ge,Ie,Fe,xe,0)}var ge=1,Me=0;for(this[Ie]=Ge&255;++Me<Fe&&(ge*=256);)this[Ie+Me]=Ge/ge&255;return Ie+Fe},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(Ge,Ie,Fe,Pe){if(Ge=+Ge,Ie=Ie>>>0,Fe=Fe>>>0,!Pe){var xe=Math.pow(2,8*Fe)-1;se(this,Ge,Ie,Fe,xe,0)}var ge=Fe-1,Me=1;for(this[Ie+ge]=Ge&255;--ge>=0&&(Me*=256);)this[Ie+ge]=Ge/Me&255;return Ie+Fe},d.prototype.writeUint8=d.prototype.writeUInt8=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,1,255,0),this[Ie]=Ge&255,Ie+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,2,65535,0),this[Ie]=Ge&255,this[Ie+1]=Ge>>>8,Ie+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,2,65535,0),this[Ie]=Ge>>>8,this[Ie+1]=Ge&255,Ie+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,4,4294967295,0),this[Ie+3]=Ge>>>24,this[Ie+2]=Ge>>>16,this[Ie+1]=Ge>>>8,this[Ie]=Ge&255,Ie+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,4,4294967295,0),this[Ie]=Ge>>>24,this[Ie+1]=Ge>>>16,this[Ie+2]=Ge>>>8,this[Ie+3]=Ge&255,Ie+4};function ne(Je,Ge,Ie,Fe,Pe){Ce(Ge,Fe,Pe,Je,Ie,7);var xe=Number(Ge&BigInt(4294967295));Je[Ie++]=xe,xe=xe>>8,Je[Ie++]=xe,xe=xe>>8,Je[Ie++]=xe,xe=xe>>8,Je[Ie++]=xe;var ge=Number(Ge>>BigInt(32)&BigInt(4294967295));return Je[Ie++]=ge,ge=ge>>8,Je[Ie++]=ge,ge=ge>>8,Je[Ie++]=ge,ge=ge>>8,Je[Ie++]=ge,Ie}function fe(Je,Ge,Ie,Fe,Pe){Ce(Ge,Fe,Pe,Je,Ie,7);var xe=Number(Ge&BigInt(4294967295));Je[Ie+7]=xe,xe=xe>>8,Je[Ie+6]=xe,xe=xe>>8,Je[Ie+5]=xe,xe=xe>>8,Je[Ie+4]=xe;var ge=Number(Ge>>BigInt(32)&BigInt(4294967295));return Je[Ie+3]=ge,ge=ge>>8,Je[Ie+2]=ge,ge=ge>>8,Je[Ie+1]=ge,ge=ge>>8,Je[Ie]=ge,Ie+8}d.prototype.writeBigUInt64LE=Rt(function(Ge){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Ge,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Rt(function(Ge){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fe(this,Ge,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(Ge,Ie,Fe,Pe){if(Ge=+Ge,Ie=Ie>>>0,!Pe){var xe=Math.pow(2,8*Fe-1);se(this,Ge,Ie,Fe,xe-1,-xe)}var ge=0,Me=1,Ae=0;for(this[Ie]=Ge&255;++ge<Fe&&(Me*=256);)Ge<0&&Ae===0&&this[Ie+ge-1]!==0&&(Ae=1),this[Ie+ge]=(Ge/Me>>0)-Ae&255;return Ie+Fe},d.prototype.writeIntBE=function(Ge,Ie,Fe,Pe){if(Ge=+Ge,Ie=Ie>>>0,!Pe){var xe=Math.pow(2,8*Fe-1);se(this,Ge,Ie,Fe,xe-1,-xe)}var ge=Fe-1,Me=1,Ae=0;for(this[Ie+ge]=Ge&255;--ge>=0&&(Me*=256);)Ge<0&&Ae===0&&this[Ie+ge+1]!==0&&(Ae=1),this[Ie+ge]=(Ge/Me>>0)-Ae&255;return Ie+Fe},d.prototype.writeInt8=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,1,127,-128),Ge<0&&(Ge=255+Ge+1),this[Ie]=Ge&255,Ie+1},d.prototype.writeInt16LE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,2,32767,-32768),this[Ie]=Ge&255,this[Ie+1]=Ge>>>8,Ie+2},d.prototype.writeInt16BE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,2,32767,-32768),this[Ie]=Ge>>>8,this[Ie+1]=Ge&255,Ie+2},d.prototype.writeInt32LE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,4,2147483647,-2147483648),this[Ie]=Ge&255,this[Ie+1]=Ge>>>8,this[Ie+2]=Ge>>>16,this[Ie+3]=Ge>>>24,Ie+4},d.prototype.writeInt32BE=function(Ge,Ie,Fe){return Ge=+Ge,Ie=Ie>>>0,Fe||se(this,Ge,Ie,4,2147483647,-2147483648),Ge<0&&(Ge=4294967295+Ge+1),this[Ie]=Ge>>>24,this[Ie+1]=Ge>>>16,this[Ie+2]=Ge>>>8,this[Ie+3]=Ge&255,Ie+4},d.prototype.writeBigInt64LE=Rt(function(Ge){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Ge,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Rt(function(Ge){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fe(this,Ge,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ye(Je,Ge,Ie,Fe,Pe,xe){if(Ie+Fe>Je.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("Index out of range")}function Ee(Je,Ge,Ie,Fe,Pe){return Ge=+Ge,Ie=Ie>>>0,Pe||ye(Je,Ge,Ie,4),g.write(Je,Ge,Ie,Fe,23,4),Ie+4}d.prototype.writeFloatLE=function(Ge,Ie,Fe){return Ee(this,Ge,Ie,!0,Fe)},d.prototype.writeFloatBE=function(Ge,Ie,Fe){return Ee(this,Ge,Ie,!1,Fe)};function Te(Je,Ge,Ie,Fe,Pe){return Ge=+Ge,Ie=Ie>>>0,Pe||ye(Je,Ge,Ie,8),g.write(Je,Ge,Ie,Fe,52,8),Ie+8}d.prototype.writeDoubleLE=function(Ge,Ie,Fe){return Te(this,Ge,Ie,!0,Fe)},d.prototype.writeDoubleBE=function(Ge,Ie,Fe){return Te(this,Ge,Ie,!1,Fe)},d.prototype.copy=function(Ge,Ie,Fe,Pe){if(!d.isBuffer(Ge))throw new TypeError("argument should be a Buffer");if(Fe||(Fe=0),!Pe&&Pe!==0&&(Pe=this.length),Ie>=Ge.length&&(Ie=Ge.length),Ie||(Ie=0),Pe>0&&Pe<Fe&&(Pe=Fe),Pe===Fe||Ge.length===0||this.length===0)return 0;if(Ie<0)throw new RangeError("targetStart out of bounds");if(Fe<0||Fe>=this.length)throw new RangeError("Index out of range");if(Pe<0)throw new RangeError("sourceEnd out of bounds");Pe>this.length&&(Pe=this.length),Ge.length-Ie<Pe-Fe&&(Pe=Ge.length-Ie+Fe);var xe=Pe-Fe;return this===Ge&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ie,Fe,Pe):Uint8Array.prototype.set.call(Ge,this.subarray(Fe,Pe),Ie),xe},d.prototype.fill=function(Ge,Ie,Fe,Pe){if(typeof Ge=="string"){if(typeof Ie=="string"?(Pe=Ie,Ie=0,Fe=this.length):typeof Fe=="string"&&(Pe=Fe,Fe=this.length),Pe!==void 0&&typeof Pe!="string")throw new TypeError("encoding must be a string");if(typeof Pe=="string"&&!d.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);if(Ge.length===1){var xe=Ge.charCodeAt(0);(Pe==="utf8"&&xe<128||Pe==="latin1")&&(Ge=xe)}}else typeof Ge=="number"?Ge=Ge&255:typeof Ge=="boolean"&&(Ge=Number(Ge));if(Ie<0||this.length<Ie||this.length<Fe)throw new RangeError("Out of range index");if(Fe<=Ie)return this;Ie=Ie>>>0,Fe=Fe===void 0?this.length:Fe>>>0,Ge||(Ge=0);var ge;if(typeof Ge=="number")for(ge=Ie;ge<Fe;++ge)this[ge]=Ge;else{var Me=d.isBuffer(Ge)?Ge:d.from(Ge,Pe),Ae=Me.length;if(Ae===0)throw new TypeError('The value "'+Ge+'" is invalid for argument "value"');for(ge=0;ge<Fe-Ie;++ge)this[ge+Ie]=Me[ge%Ae]}return this};var ze={};function ke(Je,Ge,Ie){ze[Je]=function(Fe){v(xe,Fe);var Pe=r(xe);function xe(){var ge;return y(this,xe),ge=Pe.call(this),Object.defineProperty(o(ge),"message",{value:Ge.apply(o(ge),arguments),writable:!0,configurable:!0}),ge.name="".concat(ge.name," [").concat(Je,"]"),ge.stack,delete ge.name,ge}return a(xe,[{key:"code",get:function(){return Je},set:function(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),xe}(Ie)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(Je,Ge){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(u(Ge))},TypeError),ke("ERR_OUT_OF_RANGE",function(Je,Ge,Ie){var Fe='The value of "'.concat(Je,'" is out of range.'),Pe=Ie;return Number.isInteger(Ie)&&Math.abs(Ie)>Math.pow(2,32)?Pe=Se(String(Ie)):typeof Ie=="bigint"&&(Pe=String(Ie),(Ie>Math.pow(BigInt(2),BigInt(32))||Ie<-Math.pow(BigInt(2),BigInt(32)))&&(Pe=Se(Pe)),Pe+="n"),Fe+=" It must be ".concat(Ge,". Received ").concat(Pe),Fe},RangeError);function Se(Je){for(var Ge="",Ie=Je.length,Fe=Je[0]==="-"?1:0;Ie>=Fe+4;Ie-=3)Ge="_".concat(Je.slice(Ie-3,Ie)).concat(Ge);return"".concat(Je.slice(0,Ie)).concat(Ge)}function me(Je,Ge,Ie){Ne(Ge,"offset"),(Je[Ge]===void 0||Je[Ge+Ie]===void 0)&&He(Ge,Je.length-(Ie+1))}function Ce(Je,Ge,Ie,Fe,Pe,xe){if(Je>Ie||Je<Ge){var ge=typeof Ge=="bigint"?"n":"",Me;throw xe>3?Ge===0||Ge===BigInt(0)?Me=">= 0".concat(ge," and < 2").concat(ge," ** ").concat((xe+1)*8).concat(ge):Me=">= -(2".concat(ge," ** ").concat((xe+1)*8-1).concat(ge,") and < 2 ** ")+"".concat((xe+1)*8-1).concat(ge):Me=">= ".concat(Ge).concat(ge," and <= ").concat(Ie).concat(ge),new ze.ERR_OUT_OF_RANGE("value",Me,Je)}me(Fe,Pe,xe)}function Ne(Je,Ge){if(typeof Je!="number")throw new ze.ERR_INVALID_ARG_TYPE(Ge,"number",Je)}function He(Je,Ge,Ie){throw Math.floor(Je)!==Je?(Ne(Je,Ie),new ze.ERR_OUT_OF_RANGE(Ie||"offset","an integer",Je)):Ge<0?new ze.ERR_BUFFER_OUT_OF_BOUNDS:new ze.ERR_OUT_OF_RANGE(Ie||"offset",">= ".concat(Ie?1:0," and <= ").concat(Ge),Je)}var De=/[^+/0-9A-Za-z-_]/g;function Ve(Je){if(Je=Je.split("=")[0],Je=Je.trim().replace(De,""),Je.length<2)return"";for(;Je.length%4!==0;)Je=Je+"=";return Je}function at(Je,Ge){Ge=Ge||1/0;for(var Ie,Fe=Je.length,Pe=null,xe=[],ge=0;ge<Fe;++ge){if(Ie=Je.charCodeAt(ge),Ie>55295&&Ie<57344){if(!Pe){if(Ie>56319){(Ge-=3)>-1&&xe.push(239,191,189);continue}else if(ge+1===Fe){(Ge-=3)>-1&&xe.push(239,191,189);continue}Pe=Ie;continue}if(Ie<56320){(Ge-=3)>-1&&xe.push(239,191,189),Pe=Ie;continue}Ie=(Pe-55296<<10|Ie-56320)+65536}else Pe&&(Ge-=3)>-1&&xe.push(239,191,189);if(Pe=null,Ie<128){if((Ge-=1)<0)break;xe.push(Ie)}else if(Ie<2048){if((Ge-=2)<0)break;xe.push(Ie>>6|192,Ie&63|128)}else if(Ie<65536){if((Ge-=3)<0)break;xe.push(Ie>>12|224,Ie>>6&63|128,Ie&63|128)}else if(Ie<1114112){if((Ge-=4)<0)break;xe.push(Ie>>18|240,Ie>>12&63|128,Ie>>6&63|128,Ie&63|128)}else throw new Error("Invalid code point")}return xe}function lt(Je){for(var Ge=[],Ie=0;Ie<Je.length;++Ie)Ge.push(Je.charCodeAt(Ie)&255);return Ge}function $e(Je,Ge){for(var Ie,Fe,Pe,xe=[],ge=0;ge<Je.length&&!((Ge-=2)<0);++ge)Ie=Je.charCodeAt(ge),Fe=Ie>>8,Pe=Ie%256,xe.push(Pe),xe.push(Fe);return xe}function et(Je){return l.toByteArray(Ve(Je))}function ct(Je,Ge,Ie,Fe){var Pe;for(Pe=0;Pe<Fe&&!(Pe+Ie>=Ge.length||Pe>=Je.length);++Pe)Ge[Pe+Ie]=Je[Pe];return Pe}function dt(Je,Ge){return Je instanceof Ge||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===Ge.name}function gt(Je){return Je!==Je}var At=function(){for(var Je="0123456789abcdef",Ge=new Array(256),Ie=0;Ie<16;++Ie)for(var Fe=Ie*16,Pe=0;Pe<16;++Pe)Ge[Fe+Pe]=Je[Ie]+Je[Pe];return Ge}();function Rt(Je){return typeof BigInt>"u"?Vt:Je}function Vt(){throw new Error("BigInt not supported")}},35791:function(G){G.exports=P,G.exports.isMobile=P,G.exports.default=P;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,y=/android|ipad|playbook|silk/i;function P(a){a||(a={});var L=a.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var M=H.test(L)&&!e.test(L)||!!a.tablet&&y.test(L);return!M&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(M=!0),M}},86781:function(G,H,e){e.r(H),e.d(H,{sankeyCenter:function(){return o},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var y=e(33064),P=e(15140),a=e(45879),L=e(2502),M=e.n(L);function v(Te){return Te.target.depth}function p(Te){return Te.depth}function r(Te,ze){return ze-1-Te.height}function t(Te,ze){return Te.sourceLinks.length?Te.depth:ze-1}function o(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,y.VV)(Te.sourceLinks,v)-1:0}function n(Te){return function(){return Te}}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function u(Te,ze){return g(Te.source,ze.source)||Te.index-ze.index}function l(Te,ze){return g(Te.target,ze.target)||Te.index-ze.index}function g(Te,ze){return Te.partOfCycle===ze.partOfCycle?Te.y0-ze.y0:Te.circularLinkType==="top"||ze.circularLinkType==="bottom"?-1:1}function f(Te){return Te.value}function T(Te){return(Te.y0+Te.y1)/2}function h(Te){return T(Te.source)}function s(Te){return T(Te.target)}function d(Te){return Te.index}function A(Te){return Te.nodes}function w(Te){return Te.links}function C(Te,ze){var ke=Te.get(ze);if(!ke)throw new Error("missing: "+ze);return ke}function b(Te,ze){return ze(Te)}var S=25,x=10,i=.3;function E(){var Te=0,ze=0,ke=1,Se=1,me=24,Ce,Ne=d,He=t,De=A,Ve=w,at=32,lt=2,$e,et=null;function ct(){var Ie={nodes:De.apply(null,arguments),links:Ve.apply(null,arguments)};dt(Ie),m(Ie,Ne,et),gt(Ie),Vt(Ie),k(Ie,Ne),Je(Ie,at,Ne),Ge(Ie);for(var Fe=4,Pe=0;Pe<Fe;Pe++)K(Ie,Se,Ne),se(Ie,Se,Ne),q(Ie,ze,Se,Ne),K(Ie,Se,Ne),se(Ie,Se,Ne);return Ee(Ie,ze,Se),O(Ie,lt,Se,Ne),Ie}ct.nodeId=function(Ie){return arguments.length?(Ne=typeof Ie=="function"?Ie:n(Ie),ct):Ne},ct.nodeAlign=function(Ie){return arguments.length?(He=typeof Ie=="function"?Ie:n(Ie),ct):He},ct.nodeWidth=function(Ie){return arguments.length?(me=+Ie,ct):me},ct.nodePadding=function(Ie){return arguments.length?(Ce=+Ie,ct):Ce},ct.nodes=function(Ie){return arguments.length?(De=typeof Ie=="function"?Ie:n(Ie),ct):De},ct.links=function(Ie){return arguments.length?(Ve=typeof Ie=="function"?Ie:n(Ie),ct):Ve},ct.size=function(Ie){return arguments.length?(Te=ze=0,ke=+Ie[0],Se=+Ie[1],ct):[ke-Te,Se-ze]},ct.extent=function(Ie){return arguments.length?(Te=+Ie[0][0],ke=+Ie[1][0],ze=+Ie[0][1],Se=+Ie[1][1],ct):[[Te,ze],[ke,Se]]},ct.iterations=function(Ie){return arguments.length?(at=+Ie,ct):at},ct.circularLinkGap=function(Ie){return arguments.length?(lt=+Ie,ct):lt},ct.nodePaddingRatio=function(Ie){return arguments.length?($e=+Ie,ct):$e},ct.sortNodes=function(Ie){return arguments.length?(et=Ie,ct):et},ct.update=function(Ie){return k(Ie,Ne),Ge(Ie),Ie.links.forEach(function(Fe){Fe.circular&&(Fe.circularLinkType=Fe.y0+Fe.y1<Se?"top":"bottom",Fe.source.circularLinkType=Fe.circularLinkType,Fe.target.circularLinkType=Fe.circularLinkType)}),K(Ie,Se,Ne,!1),se(Ie,Se,Ne),O(Ie,lt,Se,Ne),Ie};function dt(Ie){Ie.nodes.forEach(function(Pe,xe){Pe.index=xe,Pe.sourceLinks=[],Pe.targetLinks=[]});var Fe=(0,P.UI)(Ie.nodes,Ne);return Ie.links.forEach(function(Pe,xe){Pe.index=xe;var ge=Pe.source,Me=Pe.target;(typeof ge>"u"?"undefined":c(ge))!=="object"&&(ge=Pe.source=C(Fe,ge)),(typeof Me>"u"?"undefined":c(Me))!=="object"&&(Me=Pe.target=C(Fe,Me)),ge.sourceLinks.push(Pe),Me.targetLinks.push(Pe)}),Ie}function gt(Ie){Ie.nodes.forEach(function(Fe){Fe.partOfCycle=!1,Fe.value=Math.max((0,y.Sm)(Fe.sourceLinks,f),(0,y.Sm)(Fe.targetLinks,f)),Fe.sourceLinks.forEach(function(Pe){Pe.circular&&(Fe.partOfCycle=!0,Fe.circularLinkType=Pe.circularLinkType)}),Fe.targetLinks.forEach(function(Pe){Pe.circular&&(Fe.partOfCycle=!0,Fe.circularLinkType=Pe.circularLinkType)})})}function At(Ie){var Fe=0,Pe=0,xe=0,ge=0,Me=(0,y.Fp)(Ie.nodes,function(Ae){return Ae.column});return Ie.links.forEach(function(Ae){Ae.circular&&(Ae.circularLinkType=="top"?Fe=Fe+Ae.width:Pe=Pe+Ae.width,Ae.target.column==0&&(ge=ge+Ae.width),Ae.source.column==Me&&(xe=xe+Ae.width))}),Fe=Fe>0?Fe+S+x:Fe,Pe=Pe>0?Pe+S+x:Pe,xe=xe>0?xe+S+x:xe,ge=ge>0?ge+S+x:ge,{top:Fe,bottom:Pe,left:ge,right:xe}}function Rt(Ie,Fe){var Pe=(0,y.Fp)(Ie.nodes,function(tt){return tt.column}),xe=ke-Te,ge=Se-ze,Me=xe+Fe.right+Fe.left,Ae=ge+Fe.top+Fe.bottom,Ue=xe/Me,Ze=ge/Ae;return Te=Te*Ue+Fe.left,ke=Fe.right==0?ke:ke*Ue,ze=ze*Ze+Fe.top,Se=Se*Ze,Ie.nodes.forEach(function(tt){tt.x0=Te+tt.column*((ke-Te-me)/Pe),tt.x1=tt.x0+me}),Ze}function Vt(Ie){var Fe,Pe,xe;for(Fe=Ie.nodes,Pe=[],xe=0;Fe.length;++xe,Fe=Pe,Pe=[])Fe.forEach(function(ge){ge.depth=xe,ge.sourceLinks.forEach(function(Me){Pe.indexOf(Me.target)<0&&!Me.circular&&Pe.push(Me.target)})});for(Fe=Ie.nodes,Pe=[],xe=0;Fe.length;++xe,Fe=Pe,Pe=[])Fe.forEach(function(ge){ge.height=xe,ge.targetLinks.forEach(function(Me){Pe.indexOf(Me.source)<0&&!Me.circular&&Pe.push(Me.source)})});Ie.nodes.forEach(function(ge){ge.column=Math.floor(He.call(null,ge,xe))})}function Je(Ie,Fe,Pe){var xe=(0,P.b1)().key(function(tt){return tt.column}).sortKeys(y.j2).entries(Ie.nodes).map(function(tt){return tt.values});Ae(Pe),Ze();for(var ge=1,Me=Fe;Me>0;--Me)Ue(ge*=.99,Pe),Ze();function Ae(tt){if($e){var ft=1/0;xe.forEach(function(Tt){var zt=Se*$e/(Tt.length+1);ft=zt<ft?zt:ft}),Ce=ft}var pt=(0,y.VV)(xe,function(Tt){return(Se-ze-(Tt.length-1)*Ce)/(0,y.Sm)(Tt,f)});pt=pt*i,Ie.links.forEach(function(Tt){Tt.width=Tt.value*pt});var Yt=At(Ie),Jt=Rt(Ie,Yt);pt=pt*Jt,Ie.links.forEach(function(Tt){Tt.width=Tt.value*pt}),xe.forEach(function(Tt){var zt=Tt.length;Tt.forEach(function($t,wr){$t.depth==xe.length-1&&zt==1||$t.depth==0&&zt==1?($t.y0=Se/2-$t.value*pt,$t.y1=$t.y0+$t.value*pt):$t.partOfCycle?z($t,tt)==0?($t.y0=Se/2+wr,$t.y1=$t.y0+$t.value*pt):$t.circularLinkType=="top"?($t.y0=ze+wr,$t.y1=$t.y0+$t.value*pt):($t.y0=Se-$t.value*pt-wr,$t.y1=$t.y0+$t.value*pt):Yt.top==0||Yt.bottom==0?($t.y0=(Se-ze)/zt*wr,$t.y1=$t.y0+$t.value*pt):($t.y0=(Se-ze)/2-zt/2+wr,$t.y1=$t.y0+$t.value*pt)})})}function Ue(tt,ft){var pt=xe.length;xe.forEach(function(Yt){var Jt=Yt.length,Tt=Yt[0].depth;Yt.forEach(function(zt){var $t;if((zt.sourceLinks.length||zt.targetLinks.length)&&!(zt.partOfCycle&&z(zt,ft)>0))if(Tt==0&&Jt==1)$t=zt.y1-zt.y0,zt.y0=Se/2-$t/2,zt.y1=Se/2+$t/2;else if(Tt==pt-1&&Jt==1)$t=zt.y1-zt.y0,zt.y0=Se/2-$t/2,zt.y1=Se/2+$t/2;else{var wr=0,yt=(0,y.J6)(zt.sourceLinks,s),Xt=(0,y.J6)(zt.targetLinks,h);yt&&Xt?wr=(yt+Xt)/2:wr=yt||Xt;var Qt=(wr-T(zt))*tt;zt.y0+=Qt,zt.y1+=Qt}})})}function Ze(){xe.forEach(function(tt){var ft,pt,Yt=ze,Jt=tt.length,Tt;for(tt.sort(g),Tt=0;Tt<Jt;++Tt)ft=tt[Tt],pt=Yt-ft.y0,pt>0&&(ft.y0+=pt,ft.y1+=pt),Yt=ft.y1+Ce;if(pt=Yt-Ce-Se,pt>0)for(Yt=ft.y0-=pt,ft.y1-=pt,Tt=Jt-2;Tt>=0;--Tt)ft=tt[Tt],pt=ft.y1+Ce-Yt,pt>0&&(ft.y0-=pt,ft.y1-=pt),Yt=ft.y0})}}function Ge(Ie){Ie.nodes.forEach(function(Fe){Fe.sourceLinks.sort(l),Fe.targetLinks.sort(u)}),Ie.nodes.forEach(function(Fe){var Pe=Fe.y0,xe=Pe,ge=Fe.y1,Me=ge;Fe.sourceLinks.forEach(function(Ae){Ae.circular?(Ae.y0=ge-Ae.width/2,ge=ge-Ae.width):(Ae.y0=Pe+Ae.width/2,Pe+=Ae.width)}),Fe.targetLinks.forEach(function(Ae){Ae.circular?(Ae.y1=Me-Ae.width/2,Me=Me-Ae.width):(Ae.y1=xe+Ae.width/2,xe+=Ae.width)})})}return ct}function m(Te,ze,ke){var Se=0;if(ke===null){for(var me=[],Ce=0;Ce<Te.links.length;Ce++){var Ne=Te.links[Ce],He=Ne.source.index,De=Ne.target.index;me[He]||(me[He]=[]),me[De]||(me[De]=[]),me[He].indexOf(De)===-1&&me[He].push(De)}var Ve=M()(me);Ve.sort(function(et,ct){return et.length-ct.length});var at={};for(Ce=0;Ce<Ve.length;Ce++){var lt=Ve[Ce],$e=lt.slice(-2);at[$e[0]]||(at[$e[0]]={}),at[$e[0]][$e[1]]=!0}Te.links.forEach(function(et){var ct=et.target.index,dt=et.source.index;ct===dt||at[dt]&&at[dt][ct]?(et.circular=!0,et.circularLinkID=Se,Se=Se+1):et.circular=!1})}else Te.links.forEach(function(et){et.source[ke]<et.target[ke]?et.circular=!1:(et.circular=!0,et.circularLinkID=Se,Se=Se+1)})}function k(Te,ze){var ke=0,Se=0;Te.links.forEach(function(me){me.circular&&(me.source.circularLinkType||me.target.circularLinkType?me.circularLinkType=me.source.circularLinkType?me.source.circularLinkType:me.target.circularLinkType:me.circularLinkType=ke<Se?"top":"bottom",me.circularLinkType=="top"?ke=ke+1:Se=Se+1,Te.nodes.forEach(function(Ce){(b(Ce,ze)==b(me.source,ze)||b(Ce,ze)==b(me.target,ze))&&(Ce.circularLinkType=me.circularLinkType)}))}),Te.links.forEach(function(me){me.circular&&(me.source.circularLinkType==me.target.circularLinkType&&(me.circularLinkType=me.source.circularLinkType),ye(me,ze)&&(me.circularLinkType=me.source.circularLinkType))})}function I(Te){var ze=Math.abs(Te.y1-Te.y0),ke=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(ke/ze)}function U(Te,ze){return Te.source.column<ze.target.column?!1:!(Te.target.column>ze.source.column)}function z(Te,ze){var ke=0;Te.sourceLinks.forEach(function(me){ke=me.circular&&!ye(me,ze)?ke+1:ke});var Se=0;return Te.targetLinks.forEach(function(me){Se=me.circular&&!ye(me,ze)?Se+1:Se}),ke+Se}function F(Te){var ze=Te.source.sourceLinks,ke=0;ze.forEach(function(Ce){ke=Ce.circular?ke+1:ke});var Se=Te.target.targetLinks,me=0;return Se.forEach(function(Ce){me=Ce.circular?me+1:me}),!(ke>1||me>1)}function B(Te,ze,ke){return Te.sort(Y),Te.forEach(function(Se,me){var Ce=0;if(ye(Se,ke)&&F(Se))Se.circularPathData.verticalBuffer=Ce+Se.width/2;else{var Ne=0;for(Ne;Ne<me;Ne++)if(U(Te[me],Te[Ne])){var He=Te[Ne].circularPathData.verticalBuffer+Te[Ne].width/2+ze;Ce=He>Ce?He:Ce}Se.circularPathData.verticalBuffer=Ce+Se.width/2}}),Te}function O(Te,ze,ke,Se){var me=5,Ce=(0,y.VV)(Te.links,function(De){return De.source.y0});Te.links.forEach(function(De){De.circular&&(De.circularPathData={})});var Ne=Te.links.filter(function(De){return De.circularLinkType=="top"});B(Ne,ze,Se);var He=Te.links.filter(function(De){return De.circularLinkType=="bottom"});B(He,ze,Se),Te.links.forEach(function(De){if(De.circular){if(De.circularPathData.arcRadius=De.width+x,De.circularPathData.leftNodeBuffer=me,De.circularPathData.rightNodeBuffer=me,De.circularPathData.sourceWidth=De.source.x1-De.source.x0,De.circularPathData.sourceX=De.source.x0+De.circularPathData.sourceWidth,De.circularPathData.targetX=De.target.x0,De.circularPathData.sourceY=De.y0,De.circularPathData.targetY=De.y1,ye(De,Se)&&F(De))De.circularPathData.leftSmallArcRadius=x+De.width/2,De.circularPathData.leftLargeArcRadius=x+De.width/2,De.circularPathData.rightSmallArcRadius=x+De.width/2,De.circularPathData.rightLargeArcRadius=x+De.width/2,De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=De.source.y1+S+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=De.source.y0-S-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius);else{var Ve=De.source.column,at=De.circularLinkType,lt=Te.links.filter(function(ct){return ct.source.column==Ve&&ct.circularLinkType==at});De.circularLinkType=="bottom"?lt.sort(te):lt.sort($);var $e=0;lt.forEach(function(ct,dt){ct.circularLinkID==De.circularLinkID&&(De.circularPathData.leftSmallArcRadius=x+De.width/2+$e,De.circularPathData.leftLargeArcRadius=x+De.width/2+dt*ze+$e),$e=$e+ct.width}),Ve=De.target.column,lt=Te.links.filter(function(ct){return ct.target.column==Ve&&ct.circularLinkType==at}),De.circularLinkType=="bottom"?lt.sort(ce):lt.sort(ie),$e=0,lt.forEach(function(ct,dt){ct.circularLinkID==De.circularLinkID&&(De.circularPathData.rightSmallArcRadius=x+De.width/2+$e,De.circularPathData.rightLargeArcRadius=x+De.width/2+dt*ze+$e),$e=$e+ct.width}),De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=Math.max(ke,De.source.y1,De.target.y1)+S+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=Ce-S-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius)}De.circularPathData.leftInnerExtent=De.circularPathData.sourceX+De.circularPathData.leftNodeBuffer,De.circularPathData.rightInnerExtent=De.circularPathData.targetX-De.circularPathData.rightNodeBuffer,De.circularPathData.leftFullExtent=De.circularPathData.sourceX+De.circularPathData.leftLargeArcRadius+De.circularPathData.leftNodeBuffer,De.circularPathData.rightFullExtent=De.circularPathData.targetX-De.circularPathData.rightLargeArcRadius-De.circularPathData.rightNodeBuffer}if(De.circular)De.path=N(De);else{var et=(0,a.h5)().source(function(ct){var dt=ct.source.x0+(ct.source.x1-ct.source.x0),gt=ct.y0;return[dt,gt]}).target(function(ct){var dt=ct.target.x0,gt=ct.y1;return[dt,gt]});De.path=et(De)}})}function N(Te){var ze="";return Te.circularLinkType=="top"?ze="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 0 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY-Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 0 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 0 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY-Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 0 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY:ze="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 1 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY+Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 1 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 1 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY+Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 1 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY,ze}function Y(Te,ze){return J(Te)==J(ze)?Te.circularLinkType=="bottom"?te(Te,ze):$(Te,ze):J(ze)-J(Te)}function $(Te,ze){return Te.y0-ze.y0}function te(Te,ze){return ze.y0-Te.y0}function ie(Te,ze){return Te.y1-ze.y1}function ce(Te,ze){return ze.y1-Te.y1}function J(Te){return Te.target.column-Te.source.column}function Z(Te){return Te.target.x0-Te.source.x1}function ae(Te,ze){var ke=I(Te),Se=Z(ze)/Math.tan(ke),me=fe(Te)=="up"?Te.y1+Se:Te.y1-Se;return me}function j(Te,ze){var ke=I(Te),Se=Z(ze)/Math.tan(ke),me=fe(Te)=="up"?Te.y1-Se:Te.y1+Se;return me}function q(Te,ze,ke,Se){Te.links.forEach(function(me){if(!me.circular&&me.target.column-me.source.column>1){var Ce=me.source.column+1,Ne=me.target.column-1,He=1,De=Ne-Ce+1;for(He=1;Ce<=Ne;Ce++,He++)Te.nodes.forEach(function(Ve){if(Ve.column==Ce){var at=He/(De+1),lt=Math.pow(1-at,3),$e=3*at*Math.pow(1-at,2),et=3*Math.pow(at,2)*(1-at),ct=Math.pow(at,3),dt=lt*me.y0+$e*me.y0+et*me.y1+ct*me.y1,gt=dt-me.width/2,At=dt+me.width/2,Rt;gt>Ve.y0&&gt<Ve.y1?(Rt=Ve.y1-gt+10,Rt=Ve.circularLinkType=="bottom"?Rt:-Rt,Ve=Q(Ve,Rt,ze,ke),Te.nodes.forEach(function(Vt){b(Vt,Se)==b(Ve,Se)||Vt.column!=Ve.column||oe(Ve,Vt)&&Q(Vt,Rt,ze,ke)})):At>Ve.y0&&At<Ve.y1?(Rt=At-Ve.y0+10,Ve=Q(Ve,Rt,ze,ke),Te.nodes.forEach(function(Vt){b(Vt,Se)==b(Ve,Se)||Vt.column!=Ve.column||Vt.y0<Ve.y1&&Vt.y1>Ve.y1&&Q(Vt,Rt,ze,ke)})):gt<Ve.y0&&At>Ve.y1&&(Rt=At-Ve.y0+10,Ve=Q(Ve,Rt,ze,ke),Te.nodes.forEach(function(Vt){b(Vt,Se)==b(Ve,Se)||Vt.column!=Ve.column||Vt.y0<Ve.y1&&Vt.y1>Ve.y1&&Q(Vt,Rt,ze,ke)}))}})}})}function oe(Te,ze){return Te.y0>ze.y0&&Te.y0<ze.y1||Te.y1>ze.y0&&Te.y1<ze.y1?!0:Te.y0<ze.y0&&Te.y1>ze.y1}function Q(Te,ze,ke,Se){return Te.y0+ze>=ke&&Te.y1+ze<=Se&&(Te.y0=Te.y0+ze,Te.y1=Te.y1+ze,Te.targetLinks.forEach(function(me){me.y1=me.y1+ze}),Te.sourceLinks.forEach(function(me){me.y0=me.y0+ze})),Te}function K(Te,ze,ke,Se){Te.nodes.forEach(function(me){Se&&me.y+(me.y1-me.y0)>ze&&(me.y=me.y-(me.y+(me.y1-me.y0)-ze));var Ce=Te.links.filter(function(De){return b(De.source,ke)==b(me,ke)}),Ne=Ce.length;Ne>1&&Ce.sort(function(De,Ve){if(!De.circular&&!Ve.circular){if(De.target.column==Ve.target.column)return De.y1-Ve.y1;if(ne(De,Ve)){if(De.target.column>Ve.target.column){var at=j(Ve,De);return De.y1-at}if(Ve.target.column>De.target.column){var lt=j(De,Ve);return lt-Ve.y1}}else return De.y1-Ve.y1}if(De.circular&&!Ve.circular)return De.circularLinkType=="top"?-1:1;if(Ve.circular&&!De.circular)return Ve.circularLinkType=="top"?1:-1;if(De.circular&&Ve.circular)return De.circularLinkType===Ve.circularLinkType&&De.circularLinkType=="top"?De.target.column===Ve.target.column?De.target.y1-Ve.target.y1:Ve.target.column-De.target.column:De.circularLinkType===Ve.circularLinkType&&De.circularLinkType=="bottom"?De.target.column===Ve.target.column?Ve.target.y1-De.target.y1:De.target.column-Ve.target.column:De.circularLinkType=="top"?-1:1});var He=me.y0;Ce.forEach(function(De){De.y0=He+De.width/2,He=He+De.width}),Ce.forEach(function(De,Ve){if(De.circularLinkType=="bottom"){var at=Ve+1,lt=0;for(at;at<Ne;at++)lt=lt+Ce[at].width;De.y0=me.y1-lt-De.width/2}})})}function se(Te,ze,ke){Te.nodes.forEach(function(Se){var me=Te.links.filter(function(He){return b(He.target,ke)==b(Se,ke)}),Ce=me.length;Ce>1&&me.sort(function(He,De){if(!He.circular&&!De.circular){if(He.source.column==De.source.column)return He.y0-De.y0;if(ne(He,De)){if(De.source.column<He.source.column){var Ve=ae(De,He);return He.y0-Ve}if(He.source.column<De.source.column){var at=ae(He,De);return at-De.y0}}else return He.y0-De.y0}if(He.circular&&!De.circular)return He.circularLinkType=="top"?-1:1;if(De.circular&&!He.circular)return De.circularLinkType=="top"?1:-1;if(He.circular&&De.circular)return He.circularLinkType===De.circularLinkType&&He.circularLinkType=="top"?He.source.column===De.source.column?He.source.y1-De.source.y1:He.source.column-De.source.column:He.circularLinkType===De.circularLinkType&&He.circularLinkType=="bottom"?He.source.column===De.source.column?He.source.y1-De.source.y1:De.source.column-He.source.column:He.circularLinkType=="top"?-1:1});var Ne=Se.y0;me.forEach(function(He){He.y1=Ne+He.width/2,Ne=Ne+He.width}),me.forEach(function(He,De){if(He.circularLinkType=="bottom"){var Ve=De+1,at=0;for(Ve;Ve<Ce;Ve++)at=at+me[Ve].width;He.y1=Se.y1-at-He.width/2}})})}function ne(Te,ze){return fe(Te)==fe(ze)}function fe(Te){return Te.y0-Te.y1>0?"up":"down"}function ye(Te,ze){return b(Te.source,ze)==b(Te.target,ze)}function Ee(Te,ze,ke){var Se=Te.nodes,me=Te.links,Ce=!1,Ne=!1;if(me.forEach(function($e){$e.circularLinkType=="top"?Ce=!0:$e.circularLinkType=="bottom"&&(Ne=!0)}),Ce==!1||Ne==!1){var He=(0,y.VV)(Se,function($e){return $e.y0}),De=(0,y.Fp)(Se,function($e){return $e.y1}),Ve=De-He,at=ke-ze,lt=at/Ve;Se.forEach(function($e){var et=($e.y1-$e.y0)*lt;$e.y0=($e.y0-He)*lt,$e.y1=$e.y0+et}),me.forEach(function($e){$e.y0=($e.y0-He)*lt,$e.y1=($e.y1-He)*lt,$e.width=$e.width*lt})}}},30838:function(G,H,e){e.r(H),e.d(H,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return b},sankeyRight:function(){return M}});var y=e(33064),P=e(15140);function a(S){return S.target.depth}function L(S){return S.depth}function M(S,x){return x-1-S.height}function v(S,x){return S.sourceLinks.length?S.depth:x-1}function p(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,y.VV)(S.sourceLinks,a)-1:0}function r(S){return function(){return S}}function t(S,x){return n(S.source,x.source)||S.index-x.index}function o(S,x){return n(S.target,x.target)||S.index-x.index}function n(S,x){return S.y0-x.y0}function c(S){return S.value}function u(S){return(S.y0+S.y1)/2}function l(S){return u(S.source)*S.value}function g(S){return u(S.target)*S.value}function f(S){return S.index}function T(S){return S.nodes}function h(S){return S.links}function s(S,x){var i=S.get(x);if(!i)throw new Error("missing: "+x);return i}function d(){var S=0,x=0,i=1,E=1,m=24,k=8,I=f,U=v,z=T,F=h,B=32,O=2/3;function N(){var J={nodes:z.apply(null,arguments),links:F.apply(null,arguments)};return Y(J),$(J),te(J),ie(J),ce(J),J}N.update=function(J){return ce(J),J},N.nodeId=function(J){return arguments.length?(I=typeof J=="function"?J:r(J),N):I},N.nodeAlign=function(J){return arguments.length?(U=typeof J=="function"?J:r(J),N):U},N.nodeWidth=function(J){return arguments.length?(m=+J,N):m},N.nodePadding=function(J){return arguments.length?(k=+J,N):k},N.nodes=function(J){return arguments.length?(z=typeof J=="function"?J:r(J),N):z},N.links=function(J){return arguments.length?(F=typeof J=="function"?J:r(J),N):F},N.size=function(J){return arguments.length?(S=x=0,i=+J[0],E=+J[1],N):[i-S,E-x]},N.extent=function(J){return arguments.length?(S=+J[0][0],i=+J[1][0],x=+J[0][1],E=+J[1][1],N):[[S,x],[i,E]]},N.iterations=function(J){return arguments.length?(B=+J,N):B};function Y(J){J.nodes.forEach(function(ae,j){ae.index=j,ae.sourceLinks=[],ae.targetLinks=[]});var Z=(0,P.UI)(J.nodes,I);J.links.forEach(function(ae,j){ae.index=j;var q=ae.source,oe=ae.target;typeof q!="object"&&(q=ae.source=s(Z,q)),typeof oe!="object"&&(oe=ae.target=s(Z,oe)),q.sourceLinks.push(ae),oe.targetLinks.push(ae)})}function $(J){J.nodes.forEach(function(Z){Z.value=Math.max((0,y.Sm)(Z.sourceLinks,c),(0,y.Sm)(Z.targetLinks,c))})}function te(J){var Z,ae,j;for(Z=J.nodes,ae=[],j=0;Z.length;++j,Z=ae,ae=[])Z.forEach(function(oe){oe.depth=j,oe.sourceLinks.forEach(function(Q){ae.indexOf(Q.target)<0&&ae.push(Q.target)})});for(Z=J.nodes,ae=[],j=0;Z.length;++j,Z=ae,ae=[])Z.forEach(function(oe){oe.height=j,oe.targetLinks.forEach(function(Q){ae.indexOf(Q.source)<0&&ae.push(Q.source)})});var q=(i-S-m)/(j-1);J.nodes.forEach(function(oe){oe.x1=(oe.x0=S+Math.max(0,Math.min(j-1,Math.floor(U.call(null,oe,j))))*q)+m})}function ie(J){var Z=(0,P.b1)().key(function(se){return se.x0}).sortKeys(y.j2).entries(J.nodes).map(function(se){return se.values});q(),K();for(var ae=1,j=B;j>0;--j)Q(ae*=.99),K(),oe(ae),K();function q(){var se=(0,y.Fp)(Z,function(ye){return ye.length}),ne=O*(E-x)/(se-1);k>ne&&(k=ne);var fe=(0,y.VV)(Z,function(ye){return(E-x-(ye.length-1)*k)/(0,y.Sm)(ye,c)});Z.forEach(function(ye){ye.forEach(function(Ee,Te){Ee.y1=(Ee.y0=Te)+Ee.value*fe})}),J.links.forEach(function(ye){ye.width=ye.value*fe})}function oe(se){Z.forEach(function(ne){ne.forEach(function(fe){if(fe.targetLinks.length){var ye=((0,y.Sm)(fe.targetLinks,l)/(0,y.Sm)(fe.targetLinks,c)-u(fe))*se;fe.y0+=ye,fe.y1+=ye}})})}function Q(se){Z.slice().reverse().forEach(function(ne){ne.forEach(function(fe){if(fe.sourceLinks.length){var ye=((0,y.Sm)(fe.sourceLinks,g)/(0,y.Sm)(fe.sourceLinks,c)-u(fe))*se;fe.y0+=ye,fe.y1+=ye}})})}function K(){Z.forEach(function(se){var ne,fe,ye=x,Ee=se.length,Te;for(se.sort(n),Te=0;Te<Ee;++Te)ne=se[Te],fe=ye-ne.y0,fe>0&&(ne.y0+=fe,ne.y1+=fe),ye=ne.y1+k;if(fe=ye-k-E,fe>0)for(ye=ne.y0-=fe,ne.y1-=fe,Te=Ee-2;Te>=0;--Te)ne=se[Te],fe=ne.y1+k-ye,fe>0&&(ne.y0-=fe,ne.y1-=fe),ye=ne.y0})}}function ce(J){J.nodes.forEach(function(Z){Z.sourceLinks.sort(o),Z.targetLinks.sort(t)}),J.nodes.forEach(function(Z){var ae=Z.y0,j=ae;Z.sourceLinks.forEach(function(q){q.y0=ae+q.width/2,ae+=q.width}),Z.targetLinks.forEach(function(q){q.y1=j+q.width/2,j+=q.width})})}return N}var A=e(45879);function w(S){return[S.source.x1,S.y0]}function C(S){return[S.target.x0,S.y1]}function b(){return(0,A.h5)().source(w).target(C)}},39898:function(G,H,e){var y,P;(function(){var a={version:"3.8.0"},L=[].slice,M=function(ue){return L.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function r(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{M(v.documentElement.childNodes)[0].nodeType}catch{M=function(Le){for(var Oe=Le.length,Qe=new Array(Oe);Oe--;)Qe[Oe]=Le[Oe];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,o=t.setAttribute,n=t.setAttributeNS,c=this.CSSStyleDeclaration.prototype,u=c.setProperty;t.setAttribute=function(Le,Oe){o.call(this,Le,Oe+"")},t.setAttributeNS=function(Le,Oe,Qe){n.call(this,Le,Oe,Qe+"")},c.setProperty=function(Le,Oe,Qe){u.call(this,Le,Oe+"",Qe)}}a.ascending=l;function l(ue,Le){return ue<Le?-1:ue>Le?1:ue>=Le?0:NaN}a.descending=function(ue,Le){return Le<ue?-1:Le>ue?1:Le>=ue?0:NaN},a.min=function(ue,Le){var Oe=-1,Qe=ue.length,rt,st;if(arguments.length===1){for(;++Oe<Qe;)if((st=ue[Oe])!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=ue[Oe])!=null&&rt>st&&(rt=st)}else{for(;++Oe<Qe;)if((st=Le.call(ue,ue[Oe],Oe))!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=Le.call(ue,ue[Oe],Oe))!=null&&rt>st&&(rt=st)}return rt},a.max=function(ue,Le){var Oe=-1,Qe=ue.length,rt,st;if(arguments.length===1){for(;++Oe<Qe;)if((st=ue[Oe])!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=ue[Oe])!=null&&st>rt&&(rt=st)}else{for(;++Oe<Qe;)if((st=Le.call(ue,ue[Oe],Oe))!=null&&st>=st){rt=st;break}for(;++Oe<Qe;)(st=Le.call(ue,ue[Oe],Oe))!=null&&st>rt&&(rt=st)}return rt},a.extent=function(ue,Le){var Oe=-1,Qe=ue.length,rt,st,Et;if(arguments.length===1){for(;++Oe<Qe;)if((st=ue[Oe])!=null&&st>=st){rt=Et=st;break}for(;++Oe<Qe;)(st=ue[Oe])!=null&&(rt>st&&(rt=st),Et<st&&(Et=st))}else{for(;++Oe<Qe;)if((st=Le.call(ue,ue[Oe],Oe))!=null&&st>=st){rt=Et=st;break}for(;++Oe<Qe;)(st=Le.call(ue,ue[Oe],Oe))!=null&&(rt>st&&(rt=st),Et<st&&(Et=st))}return[rt,Et]};function g(ue){return ue===null?NaN:+ue}function f(ue){return!isNaN(ue)}a.sum=function(ue,Le){var Oe=0,Qe=ue.length,rt,st=-1;if(arguments.length===1)for(;++st<Qe;)f(rt=+ue[st])&&(Oe+=rt);else for(;++st<Qe;)f(rt=+Le.call(ue,ue[st],st))&&(Oe+=rt);return Oe},a.mean=function(ue,Le){var Oe=0,Qe=ue.length,rt,st=-1,Et=Qe;if(arguments.length===1)for(;++st<Qe;)f(rt=g(ue[st]))?Oe+=rt:--Et;else for(;++st<Qe;)f(rt=g(Le.call(ue,ue[st],st)))?Oe+=rt:--Et;if(Et)return Oe/Et},a.quantile=function(ue,Le){var Oe=(ue.length-1)*Le+1,Qe=Math.floor(Oe),rt=+ue[Qe-1],st=Oe-Qe;return st?rt+st*(ue[Qe]-rt):rt},a.median=function(ue,Le){var Oe=[],Qe=ue.length,rt,st=-1;if(arguments.length===1)for(;++st<Qe;)f(rt=g(ue[st]))&&Oe.push(rt);else for(;++st<Qe;)f(rt=g(Le.call(ue,ue[st],st)))&&Oe.push(rt);if(Oe.length)return a.quantile(Oe.sort(l),.5)},a.variance=function(ue,Le){var Oe=ue.length,Qe=0,rt,st,Et=0,bt=-1,Ht=0;if(arguments.length===1)for(;++bt<Oe;)f(rt=g(ue[bt]))&&(st=rt-Qe,Qe+=st/++Ht,Et+=st*(rt-Qe));else for(;++bt<Oe;)f(rt=g(Le.call(ue,ue[bt],bt)))&&(st=rt-Qe,Qe+=st/++Ht,Et+=st*(rt-Qe));if(Ht>1)return Et/(Ht-1)},a.deviation=function(){var ue=a.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function T(ue){return{left:function(Le,Oe,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Le.length);Qe<rt;){var st=Qe+rt>>>1;ue(Le[st],Oe)<0?Qe=st+1:rt=st}return Qe},right:function(Le,Oe,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Le.length);Qe<rt;){var st=Qe+rt>>>1;ue(Le[st],Oe)>0?rt=st:Qe=st+1}return Qe}}}var h=T(l);a.bisectLeft=h.left,a.bisect=a.bisectRight=h.right,a.bisector=function(ue){return T(ue.length===1?function(Le,Oe){return l(ue(Le),Oe)}:ue)},a.shuffle=function(ue,Le,Oe){(Qe=arguments.length)<3&&(Oe=ue.length,Qe<2&&(Le=0));for(var Qe=Oe-Le,rt,st;Qe;)st=Math.random()*Qe--|0,rt=ue[Qe+Le],ue[Qe+Le]=ue[st+Le],ue[st+Le]=rt;return ue},a.permute=function(ue,Le){for(var Oe=Le.length,Qe=new Array(Oe);Oe--;)Qe[Oe]=ue[Le[Oe]];return Qe},a.pairs=function(ue){for(var Le=0,Oe=ue.length-1,Qe=ue[0],rt=new Array(Oe<0?0:Oe);Le<Oe;)rt[Le]=[Qe,Qe=ue[++Le]];return rt},a.transpose=function(ue){if(!(st=ue.length))return[];for(var Le=-1,Oe=a.min(ue,s),Qe=new Array(Oe);++Le<Oe;)for(var rt=-1,st,Et=Qe[Le]=new Array(st);++rt<st;)Et[rt]=ue[rt][Le];return Qe};function s(ue){return ue.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(ue){var Le=[];for(var Oe in ue)Le.push(Oe);return Le},a.values=function(ue){var Le=[];for(var Oe in ue)Le.push(ue[Oe]);return Le},a.entries=function(ue){var Le=[];for(var Oe in ue)Le.push({key:Oe,value:ue[Oe]});return Le},a.merge=function(ue){for(var Le=ue.length,Oe,Qe=-1,rt=0,st,Et;++Qe<Le;)rt+=ue[Qe].length;for(st=new Array(rt);--Le>=0;)for(Et=ue[Le],Oe=Et.length;--Oe>=0;)st[--rt]=Et[Oe];return st};var d=Math.abs;a.range=function(ue,Le,Oe){if(arguments.length<3&&(Oe=1,arguments.length<2&&(Le=ue,ue=0)),(Le-ue)/Oe===1/0)throw new Error("infinite range");var Qe=[],rt=A(d(Oe)),st=-1,Et;if(ue*=rt,Le*=rt,Oe*=rt,Oe<0)for(;(Et=ue+Oe*++st)>Le;)Qe.push(Et/rt);else for(;(Et=ue+Oe*++st)<Le;)Qe.push(Et/rt);return Qe};function A(ue){for(var Le=1;ue*Le%1;)Le*=10;return Le}function w(ue,Le){for(var Oe in Le)Object.defineProperty(ue.prototype,Oe,{value:Le[Oe],enumerable:!1})}a.map=function(ue,Le){var Oe=new C;if(ue instanceof C)ue.forEach(function(bt,Ht){Oe.set(bt,Ht)});else if(Array.isArray(ue)){var Qe=-1,rt=ue.length,st;if(arguments.length===1)for(;++Qe<rt;)Oe.set(Qe,ue[Qe]);else for(;++Qe<rt;)Oe.set(Le.call(ue,st=ue[Qe],Qe),st)}else for(var Et in ue)Oe.set(Et,ue[Et]);return Oe};function C(){this._=Object.create(null)}var b="__proto__",S="\0";w(C,{has:E,get:function(ue){return this._[x(ue)]},set:function(ue,Le){return this._[x(ue)]=Le},remove:m,keys:k,values:function(){var ue=[];for(var Le in this._)ue.push(this._[Le]);return ue},entries:function(){var ue=[];for(var Le in this._)ue.push({key:i(Le),value:this._[Le]});return ue},size:I,empty:U,forEach:function(ue){for(var Le in this._)ue.call(this,i(Le),this._[Le])}});function x(ue){return(ue+="")===b||ue[0]===S?S+ue:ue}function i(ue){return(ue+="")[0]===S?ue.slice(1):ue}function E(ue){return x(ue)in this._}function m(ue){return(ue=x(ue))in this._&&delete this._[ue]}function k(){var ue=[];for(var Le in this._)ue.push(i(Le));return ue}function I(){var ue=0;for(var Le in this._)++ue;return ue}function U(){for(var ue in this._)return!1;return!0}a.nest=function(){var ue={},Le=[],Oe=[],Qe,rt;function st(bt,Ht,Gt){if(Gt>=Le.length)return rt?rt.call(ue,Ht):Qe?Ht.sort(Qe):Ht;for(var tr=-1,Cr=Ht.length,Pr=Le[Gt++],Jr,nn,Dr,Br=new C,Xr;++tr<Cr;)(Xr=Br.get(Jr=Pr(nn=Ht[tr])))?Xr.push(nn):Br.set(Jr,[nn]);return bt?(nn=bt(),Dr=function(ln,fn){nn.set(ln,st(bt,fn,Gt))}):(nn={},Dr=function(ln,fn){nn[ln]=st(bt,fn,Gt)}),Br.forEach(Dr),nn}function Et(bt,Ht){if(Ht>=Le.length)return bt;var Gt=[],tr=Oe[Ht++];return bt.forEach(function(Cr,Pr){Gt.push({key:Cr,values:Et(Pr,Ht)})}),tr?Gt.sort(function(Cr,Pr){return tr(Cr.key,Pr.key)}):Gt}return ue.map=function(bt,Ht){return st(Ht,bt,0)},ue.entries=function(bt){return Et(st(a.map,bt,0),0)},ue.key=function(bt){return Le.push(bt),ue},ue.sortKeys=function(bt){return Oe[Le.length-1]=bt,ue},ue.sortValues=function(bt){return Qe=bt,ue},ue.rollup=function(bt){return rt=bt,ue},ue},a.set=function(ue){var Le=new z;if(ue)for(var Oe=0,Qe=ue.length;Oe<Qe;++Oe)Le.add(ue[Oe]);return Le};function z(){this._=Object.create(null)}w(z,{has:E,add:function(ue){return this._[x(ue+="")]=!0,ue},remove:m,values:k,size:I,empty:U,forEach:function(ue){for(var Le in this._)ue.call(this,i(Le))}}),a.behavior={};function F(ue){return ue}a.rebind=function(ue,Le){for(var Oe=1,Qe=arguments.length,rt;++Oe<Qe;)ue[rt=arguments[Oe]]=B(ue,Le,Le[rt]);return ue};function B(ue,Le,Oe){return function(){var Qe=Oe.apply(Le,arguments);return Qe===Le?ue:Qe}}function O(ue,Le){if(Le in ue)return Le;Le=Le.charAt(0).toUpperCase()+Le.slice(1);for(var Oe=0,Qe=N.length;Oe<Qe;++Oe){var rt=N[Oe]+Le;if(rt in ue)return rt}}var N=["webkit","ms","moz","Moz","o","O"];function Y(){}a.dispatch=function(){for(var ue=new $,Le=-1,Oe=arguments.length;++Le<Oe;)ue[arguments[Le]]=te(ue);return ue};function $(){}$.prototype.on=function(ue,Le){var Oe=ue.indexOf("."),Qe="";if(Oe>=0&&(Qe=ue.slice(Oe+1),ue=ue.slice(0,Oe)),ue)return arguments.length<2?this[ue].on(Qe):this[ue].on(Qe,Le);if(arguments.length===2){if(Le==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on(Qe,null);return this}};function te(ue){var Le=[],Oe=new C;function Qe(){for(var rt=Le,st=-1,Et=rt.length,bt;++st<Et;)(bt=rt[st].on)&&bt.apply(this,arguments);return ue}return Qe.on=function(rt,st){var Et=Oe.get(rt),bt;return arguments.length<2?Et&&Et.on:(Et&&(Et.on=null,Le=Le.slice(0,bt=Le.indexOf(Et)).concat(Le.slice(bt+1)),Oe.remove(rt)),st&&Le.push(Oe.set(rt,{on:st})),ue)},Qe}a.event=null;function ie(){a.event.preventDefault()}function ce(){for(var ue=a.event,Le;Le=ue.sourceEvent;)ue=Le;return ue}function J(ue){for(var Le=new $,Oe=0,Qe=arguments.length;++Oe<Qe;)Le[arguments[Oe]]=te(Le);return Le.of=function(rt,st){return function(Et){try{var bt=Et.sourceEvent=a.event;Et.target=ue,a.event=Et,Le[Et.type].apply(rt,st)}finally{a.event=bt}}},Le}a.requote=function(ue){return ue.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ae={}.__proto__?function(ue,Le){ue.__proto__=Le}:function(ue,Le){for(var Oe in Le)ue[Oe]=Le[Oe]};function j(ue){return ae(ue,K),ue}var q=function(ue,Le){return Le.querySelector(ue)},oe=function(ue,Le){return Le.querySelectorAll(ue)},Q=function(ue,Le){var Oe=ue.matches||ue[O(ue,"matchesSelector")];return Q=function(Qe,rt){return Oe.call(Qe,rt)},Q(ue,Le)};typeof Sizzle=="function"&&(q=function(ue,Le){return Sizzle(ue,Le)[0]||null},oe=Sizzle,Q=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var K=a.selection.prototype=[];K.select=function(ue){var Le=[],Oe,Qe,rt,st;ue=se(ue);for(var Et=-1,bt=this.length;++Et<bt;){Le.push(Oe=[]),Oe.parentNode=(rt=this[Et]).parentNode;for(var Ht=-1,Gt=rt.length;++Ht<Gt;)(st=rt[Ht])?(Oe.push(Qe=ue.call(st,st.__data__,Ht,Et)),Qe&&"__data__"in st&&(Qe.__data__=st.__data__)):Oe.push(null)}return j(Le)};function se(ue){return typeof ue=="function"?ue:function(){return q(ue,this)}}K.selectAll=function(ue){var Le=[],Oe,Qe;ue=ne(ue);for(var rt=-1,st=this.length;++rt<st;)for(var Et=this[rt],bt=-1,Ht=Et.length;++bt<Ht;)(Qe=Et[bt])&&(Le.push(Oe=M(ue.call(Qe,Qe.__data__,bt,rt))),Oe.parentNode=Qe);return j(Le)};function ne(ue){return typeof ue=="function"?ue:function(){return oe(ue,this)}}var fe="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:ye,qualify:function(ue){var Le=ue.indexOf(":"),Oe=ue;return Le>=0&&(Oe=ue.slice(0,Le))!=="xmlns"&&(ue=ue.slice(Le+1)),ye.hasOwnProperty(Oe)?{space:ye[Oe],local:ue}:ue}},K.attr=function(ue,Le){if(arguments.length<2){if(typeof ue=="string"){var Oe=this.node();return ue=a.ns.qualify(ue),ue.local?Oe.getAttributeNS(ue.space,ue.local):Oe.getAttribute(ue)}for(Le in ue)this.each(Ee(Le,ue[Le]));return this}return this.each(Ee(ue,Le))};function Ee(ue,Le){ue=a.ns.qualify(ue);function Oe(){this.removeAttribute(ue)}function Qe(){this.removeAttributeNS(ue.space,ue.local)}function rt(){this.setAttribute(ue,Le)}function st(){this.setAttributeNS(ue.space,ue.local,Le)}function Et(){var Ht=Le.apply(this,arguments);Ht==null?this.removeAttribute(ue):this.setAttribute(ue,Ht)}function bt(){var Ht=Le.apply(this,arguments);Ht==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Ht)}return Le==null?ue.local?Qe:Oe:typeof Le=="function"?ue.local?bt:Et:ue.local?st:rt}function Te(ue){return ue.trim().replace(/\s+/g," ")}K.classed=function(ue,Le){if(arguments.length<2){if(typeof ue=="string"){var Oe=this.node(),Qe=(ue=ke(ue)).length,rt=-1;if(Le=Oe.classList){for(;++rt<Qe;)if(!Le.contains(ue[rt]))return!1}else for(Le=Oe.getAttribute("class");++rt<Qe;)if(!ze(ue[rt]).test(Le))return!1;return!0}for(Le in ue)this.each(Se(Le,ue[Le]));return this}return this.each(Se(ue,Le))};function ze(ue){return new RegExp("(?:^|\\s+)"+a.requote(ue)+"(?:\\s+|$)","g")}function ke(ue){return(ue+"").trim().split(/^|\s+/)}function Se(ue,Le){ue=ke(ue).map(me);var Oe=ue.length;function Qe(){for(var st=-1;++st<Oe;)ue[st](this,Le)}function rt(){for(var st=-1,Et=Le.apply(this,arguments);++st<Oe;)ue[st](this,Et)}return typeof Le=="function"?rt:Qe}function me(ue){var Le=ze(ue);return function(Oe,Qe){if(rt=Oe.classList)return Qe?rt.add(ue):rt.remove(ue);var rt=Oe.getAttribute("class")||"";Qe?(Le.lastIndex=0,Le.test(rt)||Oe.setAttribute("class",Te(rt+" "+ue))):Oe.setAttribute("class",Te(rt.replace(Le," ")))}}K.style=function(ue,Le,Oe){var Qe=arguments.length;if(Qe<3){if(typeof ue!="string"){Qe<2&&(Le="");for(Oe in ue)this.each(Ce(Oe,ue[Oe],Le));return this}if(Qe<2){var rt=this.node();return r(rt).getComputedStyle(rt,null).getPropertyValue(ue)}Oe=""}return this.each(Ce(ue,Le,Oe))};function Ce(ue,Le,Oe){function Qe(){this.style.removeProperty(ue)}function rt(){this.style.setProperty(ue,Le,Oe)}function st(){var Et=Le.apply(this,arguments);Et==null?this.style.removeProperty(ue):this.style.setProperty(ue,Et,Oe)}return Le==null?Qe:typeof Le=="function"?st:rt}K.property=function(ue,Le){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(Le in ue)this.each(Ne(Le,ue[Le]));return this}return this.each(Ne(ue,Le))};function Ne(ue,Le){function Oe(){delete this[ue]}function Qe(){this[ue]=Le}function rt(){var st=Le.apply(this,arguments);st==null?delete this[ue]:this[ue]=st}return Le==null?Oe:typeof Le=="function"?rt:Qe}K.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Le=ue.apply(this,arguments);this.textContent=Le??""}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},K.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Le=ue.apply(this,arguments);this.innerHTML=Le??""}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},K.append=function(ue){return ue=He(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function He(ue){function Le(){var Qe=this.ownerDocument,rt=this.namespaceURI;return rt===fe&&Qe.documentElement.namespaceURI===fe?Qe.createElement(ue):Qe.createElementNS(rt,ue)}function Oe(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=a.ns.qualify(ue)).local?Oe:Le}K.insert=function(ue,Le){return ue=He(ue),Le=se(Le),this.select(function(){return this.insertBefore(ue.apply(this,arguments),Le.apply(this,arguments)||null)})},K.remove=function(){return this.each(De)};function De(){var ue=this.parentNode;ue&&ue.removeChild(this)}K.data=function(ue,Le){var Oe=-1,Qe=this.length,rt,st;if(!arguments.length){for(ue=new Array(Qe=(rt=this[0]).length);++Oe<Qe;)(st=rt[Oe])&&(ue[Oe]=st.__data__);return ue}function Et(tr,Cr){var Pr,Jr=tr.length,nn=Cr.length,Dr=Math.min(Jr,nn),Br=new Array(nn),Xr=new Array(nn),ln=new Array(Jr),fn,$r;if(Le){var Bn=new C,na=new Array(Jr),ca;for(Pr=-1;++Pr<Jr;)(fn=tr[Pr])&&(Bn.has(ca=Le.call(fn,fn.__data__,Pr))?ln[Pr]=fn:Bn.set(ca,fn),na[Pr]=ca);for(Pr=-1;++Pr<nn;)(fn=Bn.get(ca=Le.call(Cr,$r=Cr[Pr],Pr)))?fn!==!0&&(Br[Pr]=fn,fn.__data__=$r):Xr[Pr]=Ve($r),Bn.set(ca,!0);for(Pr=-1;++Pr<Jr;)Pr in na&&Bn.get(na[Pr])!==!0&&(ln[Pr]=tr[Pr])}else{for(Pr=-1;++Pr<Dr;)fn=tr[Pr],$r=Cr[Pr],fn?(fn.__data__=$r,Br[Pr]=fn):Xr[Pr]=Ve($r);for(;Pr<nn;++Pr)Xr[Pr]=Ve(Cr[Pr]);for(;Pr<Jr;++Pr)ln[Pr]=tr[Pr]}Xr.update=Br,Xr.parentNode=Br.parentNode=ln.parentNode=tr.parentNode,bt.push(Xr),Ht.push(Br),Gt.push(ln)}var bt=et([]),Ht=j([]),Gt=j([]);if(typeof ue=="function")for(;++Oe<Qe;)Et(rt=this[Oe],ue.call(rt,rt.parentNode.__data__,Oe));else for(;++Oe<Qe;)Et(rt=this[Oe],ue);return Ht.enter=function(){return bt},Ht.exit=function(){return Gt},Ht};function Ve(ue){return{__data__:ue}}K.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},K.filter=function(ue){var Le=[],Oe,Qe,rt;typeof ue!="function"&&(ue=at(ue));for(var st=0,Et=this.length;st<Et;st++){Le.push(Oe=[]),Oe.parentNode=(Qe=this[st]).parentNode;for(var bt=0,Ht=Qe.length;bt<Ht;bt++)(rt=Qe[bt])&&ue.call(rt,rt.__data__,bt,st)&&Oe.push(rt)}return j(Le)};function at(ue){return function(){return Q(this,ue)}}K.order=function(){for(var ue=-1,Le=this.length;++ue<Le;)for(var Oe=this[ue],Qe=Oe.length-1,rt=Oe[Qe],st;--Qe>=0;)(st=Oe[Qe])&&(rt&&rt!==st.nextSibling&&rt.parentNode.insertBefore(st,rt),rt=st);return this},K.sort=function(ue){ue=lt.apply(this,arguments);for(var Le=-1,Oe=this.length;++Le<Oe;)this[Le].sort(ue);return this.order()};function lt(ue){return arguments.length||(ue=l),function(Le,Oe){return Le&&Oe?ue(Le.__data__,Oe.__data__):!Le-!Oe}}K.each=function(ue){return $e(this,function(Le,Oe,Qe){ue.call(Le,Le.__data__,Oe,Qe)})};function $e(ue,Le){for(var Oe=0,Qe=ue.length;Oe<Qe;Oe++)for(var rt=ue[Oe],st=0,Et=rt.length,bt;st<Et;st++)(bt=rt[st])&&Le(bt,st,Oe);return ue}K.call=function(ue){var Le=M(arguments);return ue.apply(Le[0]=this,Le),this},K.empty=function(){return!this.node()},K.node=function(){for(var ue=0,Le=this.length;ue<Le;ue++)for(var Oe=this[ue],Qe=0,rt=Oe.length;Qe<rt;Qe++){var st=Oe[Qe];if(st)return st}return null},K.size=function(){var ue=0;return $e(this,function(){++ue}),ue};function et(ue){return ae(ue,ct),ue}var ct=[];a.selection.enter=et,a.selection.enter.prototype=ct,ct.append=K.append,ct.empty=K.empty,ct.node=K.node,ct.call=K.call,ct.size=K.size,ct.select=function(ue){for(var Le=[],Oe,Qe,rt,st,Et,bt=-1,Ht=this.length;++bt<Ht;){rt=(st=this[bt]).update,Le.push(Oe=[]),Oe.parentNode=st.parentNode;for(var Gt=-1,tr=st.length;++Gt<tr;)(Et=st[Gt])?(Oe.push(rt[Gt]=Qe=ue.call(st.parentNode,Et.__data__,Gt,bt)),Qe.__data__=Et.__data__):Oe.push(null)}return j(Le)},ct.insert=function(ue,Le){return arguments.length<2&&(Le=dt(this)),K.insert.call(this,ue,Le)};function dt(ue){var Le,Oe;return function(Qe,rt,st){var Et=ue[st].update,bt=Et.length,Ht;for(st!=Oe&&(Oe=st,Le=0),rt>=Le&&(Le=rt+1);!(Ht=Et[Le])&&++Le<bt;);return Ht}}a.select=function(ue){var Le;return typeof ue=="string"?(Le=[q(ue,v)],Le.parentNode=v.documentElement):(Le=[ue],Le.parentNode=p(ue)),j([Le])},a.selectAll=function(ue){var Le;return typeof ue=="string"?(Le=M(oe(ue,v)),Le.parentNode=v.documentElement):(Le=M(ue),Le.parentNode=null),j([Le])},K.on=function(ue,Le,Oe){var Qe=arguments.length;if(Qe<3){if(typeof ue!="string"){Qe<2&&(Le=!1);for(Oe in ue)this.each(gt(Oe,ue[Oe],Le));return this}if(Qe<2)return(Qe=this.node()["__on"+ue])&&Qe._;Oe=!1}return this.each(gt(ue,Le,Oe))};function gt(ue,Le,Oe){var Qe="__on"+ue,rt=ue.indexOf("."),st=Rt;rt>0&&(ue=ue.slice(0,rt));var Et=At.get(ue);Et&&(ue=Et,st=Vt);function bt(){var tr=this[Qe];tr&&(this.removeEventListener(ue,tr,tr.$),delete this[Qe])}function Ht(){var tr=st(Le,M(arguments));bt.call(this),this.addEventListener(ue,this[Qe]=tr,tr.$=Oe),tr._=Le}function Gt(){var tr=new RegExp("^__on([^.]+)"+a.requote(ue)+"$"),Cr;for(var Pr in this)if(Cr=Pr.match(tr)){var Jr=this[Pr];this.removeEventListener(Cr[1],Jr,Jr.$),delete this[Pr]}}return rt?Le?Ht:bt:Le?Y:Gt}var At=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&At.forEach(function(ue){"on"+ue in v&&At.remove(ue)});function Rt(ue,Le){return function(Oe){var Qe=a.event;a.event=Oe,Le[0]=this.__data__;try{ue.apply(this,Le)}finally{a.event=Qe}}}function Vt(ue,Le){var Oe=Rt(ue,Le);return function(Qe){var rt=this,st=Qe.relatedTarget;(!st||st!==rt&&!(st.compareDocumentPosition(rt)&8))&&Oe.call(rt,Qe)}}var Je,Ge=0;function Ie(ue){var Le=".dragsuppress-"+ ++Ge,Oe="click"+Le,Qe=a.select(r(ue)).on("touchmove"+Le,ie).on("dragstart"+Le,ie).on("selectstart"+Le,ie);if(Je==null&&(Je="onselectstart"in ue?!1:O(ue.style,"userSelect")),Je){var rt=p(ue).style,st=rt[Je];rt[Je]="none"}return function(Et){if(Qe.on(Le,null),Je&&(rt[Je]=st),Et){var bt=function(){Qe.on(Oe,null)};Qe.on(Oe,function(){ie(),bt()},!0),setTimeout(bt,0)}}}a.mouse=function(ue){return Pe(ue,ce())};var Fe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Pe(ue,Le){Le.changedTouches&&(Le=Le.changedTouches[0]);var Oe=ue.ownerSVGElement||ue;if(Oe.createSVGPoint){var Qe=Oe.createSVGPoint();if(Fe<0){var rt=r(ue);if(rt.scrollX||rt.scrollY){Oe=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var st=Oe[0][0].getScreenCTM();Fe=!(st.f||st.e),Oe.remove()}}return Fe?(Qe.x=Le.pageX,Qe.y=Le.pageY):(Qe.x=Le.clientX,Qe.y=Le.clientY),Qe=Qe.matrixTransform(ue.getScreenCTM().inverse()),[Qe.x,Qe.y]}var Et=ue.getBoundingClientRect();return[Le.clientX-Et.left-ue.clientLeft,Le.clientY-Et.top-ue.clientTop]}a.touch=function(ue,Le,Oe){if(arguments.length<3&&(Oe=Le,Le=ce().changedTouches),Le){for(var Qe=0,rt=Le.length,st;Qe<rt;++Qe)if((st=Le[Qe]).identifier===Oe)return Pe(ue,st)}},a.behavior.drag=function(){var ue=J(rt,"drag","dragstart","dragend"),Le=null,Oe=st(Y,a.mouse,r,"mousemove","mouseup"),Qe=st(xe,a.touch,F,"touchmove","touchend");function rt(){this.on("mousedown.drag",Oe).on("touchstart.drag",Qe)}function st(Et,bt,Ht,Gt,tr){return function(){var Cr=this,Pr=a.event.target.correspondingElement||a.event.target,Jr=Cr.parentNode,nn=ue.of(Cr,arguments),Dr=0,Br=Et(),Xr=".drag"+(Br==null?"":"-"+Br),ln,fn=a.select(Ht(Pr)).on(Gt+Xr,na).on(tr+Xr,ca),$r=Ie(Pr),Bn=bt(Jr,Br);Le?(ln=Le.apply(Cr,arguments),ln=[ln.x-Bn[0],ln.y-Bn[1]]):ln=[0,0],nn({type:"dragstart"});function na(){var ta=bt(Jr,Br),sa,ha;ta&&(sa=ta[0]-Bn[0],ha=ta[1]-Bn[1],Dr|=sa|ha,Bn=ta,nn({type:"drag",x:ta[0]+ln[0],y:ta[1]+ln[1],dx:sa,dy:ha}))}function ca(){bt(Jr,Br)&&(fn.on(Gt+Xr,null).on(tr+Xr,null),$r(Dr),nn({type:"dragend"}))}}}return rt.origin=function(Et){return arguments.length?(Le=Et,rt):Le},a.rebind(rt,ue,"on")};function xe(){return a.event.changedTouches[0].identifier}a.touches=function(ue,Le){return arguments.length<2&&(Le=ce().touches),Le?M(Le).map(function(Oe){var Qe=Pe(ue,Oe);return Qe.identifier=Oe.identifier,Qe}):[]};var ge=1e-6,Me=ge*ge,Ae=Math.PI,Ue=2*Ae,Ze=Ue-ge,tt=Ae/2,ft=Ae/180,pt=180/Ae;function Yt(ue,Le,Oe){return(Le[0]-ue[0])*(Oe[1]-ue[1])-(Le[1]-ue[1])*(Oe[0]-ue[0])}function Jt(ue){return ue>1?tt:ue<-1?-tt:Math.asin(ue)}function Tt(ue){return((ue=Math.exp(ue))-1/ue)/2}function zt(ue){return((ue=Math.exp(ue))+1/ue)/2}function $t(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var wr=Math.SQRT2,yt=2,Xt=4;a.interpolateZoom=function(ue,Le){var Oe=ue[0],Qe=ue[1],rt=ue[2],st=Le[0],Et=Le[1],bt=Le[2],Ht=st-Oe,Gt=Et-Qe,tr=Ht*Ht+Gt*Gt,Cr,Pr;if(tr<Me)Pr=Math.log(bt/rt)/wr,Cr=function(ln){return[Oe+ln*Ht,Qe+ln*Gt,rt*Math.exp(wr*ln*Pr)]};else{var Jr=Math.sqrt(tr),nn=(bt*bt-rt*rt+Xt*tr)/(2*rt*yt*Jr),Dr=(bt*bt-rt*rt-Xt*tr)/(2*bt*yt*Jr),Br=Math.log(Math.sqrt(nn*nn+1)-nn),Xr=Math.log(Math.sqrt(Dr*Dr+1)-Dr);Pr=(Xr-Br)/wr,Cr=function(ln){var fn=ln*Pr,$r=zt(Br),Bn=rt/(yt*Jr)*($r*$t(wr*fn+Br)-Tt(Br));return[Oe+Bn*Ht,Qe+Bn*Gt,rt*$r/zt(wr*fn+Br)]}}return Cr.duration=Pr*1e3,Cr},a.behavior.zoom=function(){var ue={x:0,y:0,k:1},Le,Oe,Qe,rt=[960,500],st=Qt,Et=250,bt=0,Ht="mousedown.zoom",Gt="mousemove.zoom",tr="mouseup.zoom",Cr,Pr="touchstart.zoom",Jr,nn=J(fn,"zoomstart","zoom","zoomend"),Dr,Br,Xr,ln;sr||(sr="onwheel"in v?(gr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(gr=function(){return a.event.wheelDelta},"mousewheel"):(gr=function(){return-a.event.detail},"MozMousePixelScroll"));function fn(Qn){Qn.on(Ht,ka).on(sr+".zoom",Oi).on("dblclick.zoom",li).on(Pr,ri)}fn.event=function(Qn){Qn.each(function(){var Na=nn.of(this,arguments),Aa=ue;Ir?a.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},ha(Na)}).tween("zoom:zoom",function(){var Xa=rt[0],xi=rt[1],ni=Oe?Oe[0]:Xa/2,Qi=Oe?Oe[1]:xi/2,$i=a.interpolateZoom([(ni-ue.x)/ue.k,(Qi-ue.y)/ue.k,Xa/ue.k],[(ni-Aa.x)/Aa.k,(Qi-Aa.y)/Aa.k,Xa/Aa.k]);return function(no){var bi=$i(no),po=Xa/bi[2];this.__chart__=ue={x:ni-bi[0]*po,y:Qi-bi[1]*po,k:po},Fa(Na)}}).each("interrupt.zoom",function(){Sa(Na)}).each("end.zoom",function(){Sa(Na)}):(this.__chart__=ue,ha(Na),Fa(Na),Sa(Na))})},fn.translate=function(Qn){return arguments.length?(ue={x:+Qn[0],y:+Qn[1],k:ue.k},sa(),fn):[ue.x,ue.y]},fn.scale=function(Qn){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},na(+Qn),sa(),fn):ue.k},fn.scaleExtent=function(Qn){return arguments.length?(st=Qn==null?Qt:[+Qn[0],+Qn[1]],fn):st},fn.center=function(Qn){return arguments.length?(Qe=Qn&&[+Qn[0],+Qn[1]],fn):Qe},fn.size=function(Qn){return arguments.length?(rt=Qn&&[+Qn[0],+Qn[1]],fn):rt},fn.duration=function(Qn){return arguments.length?(Et=+Qn,fn):Et},fn.x=function(Qn){return arguments.length?(Br=Qn,Dr=Qn.copy(),ue={x:0,y:0,k:1},fn):Br},fn.y=function(Qn){return arguments.length?(ln=Qn,Xr=Qn.copy(),ue={x:0,y:0,k:1},fn):ln};function $r(Qn){return[(Qn[0]-ue.x)/ue.k,(Qn[1]-ue.y)/ue.k]}function Bn(Qn){return[Qn[0]*ue.k+ue.x,Qn[1]*ue.k+ue.y]}function na(Qn){ue.k=Math.max(st[0],Math.min(st[1],Qn))}function ca(Qn,Na){Na=Bn(Na),ue.x+=Qn[0]-Na[0],ue.y+=Qn[1]-Na[1]}function ta(Qn,Na,Aa,Xa){Qn.__chart__={x:ue.x,y:ue.y,k:ue.k},na(Math.pow(2,Xa)),ca(Oe=Na,Aa),Qn=a.select(Qn),Et>0&&(Qn=Qn.transition().duration(Et)),Qn.call(fn.event)}function sa(){Br&&Br.domain(Dr.range().map(function(Qn){return(Qn-ue.x)/ue.k}).map(Dr.invert)),ln&&ln.domain(Xr.range().map(function(Qn){return(Qn-ue.y)/ue.k}).map(Xr.invert))}function ha(Qn){bt++||Qn({type:"zoomstart"})}function Fa(Qn){sa(),Qn({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Sa(Qn){--bt||(Qn({type:"zoomend"}),Oe=null)}function ka(){var Qn=this,Na=nn.of(Qn,arguments),Aa=0,Xa=a.select(r(Qn)).on(Gt,Qi).on(tr,$i),xi=$r(a.mouse(Qn)),ni=Ie(Qn);Ft.call(Qn),ha(Na);function Qi(){Aa=1,ca(a.mouse(Qn),xi),Fa(Na)}function $i(){Xa.on(Gt,null).on(tr,null),ni(Aa),Sa(Na)}}function ri(){var Qn=this,Na=nn.of(Qn,arguments),Aa={},Xa=0,xi,ni=".zoom-"+a.event.changedTouches[0].identifier,Qi="touchmove"+ni,$i="touchend"+ni,no=[],bi=a.select(Qn),po=Ie(Qn);Ca(),ha(Na),bi.on(Ht,null).on(Pr,Ca);function ua(){var ao=a.touches(Qn);return xi=ue.k,ao.forEach(function(ui){ui.identifier in Aa&&(Aa[ui.identifier]=$r(ui))}),ao}function Ca(){var ao=a.event.target;a.select(ao).on(Qi,Do).on($i,Fo),no.push(ao);for(var ui=a.event.changedTouches,Gi=0,Fi=ui.length;Gi<Fi;++Gi)Aa[ui[Gi].identifier]=null;var ps=ua(),ks=Date.now();if(ps.length===1){if(ks-Jr<500){var Ci=ps[0];ta(Qn,Ci,Aa[Ci.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),ie()}Jr=ks}else if(ps.length>1){var Ci=ps[0],Xl=ps[1],ja=Ci[0]-Xl[0],Li=Ci[1]-Xl[1];Xa=ja*ja+Li*Li}}function Do(){var ao=a.touches(Qn),ui,Gi,Fi,ps;Ft.call(Qn);for(var ks=0,Ci=ao.length;ks<Ci;++ks,ps=null)if(Fi=ao[ks],ps=Aa[Fi.identifier]){if(Gi)break;ui=Fi,Gi=ps}if(ps){var Xl=(Xl=Fi[0]-ui[0])*Xl+(Xl=Fi[1]-ui[1])*Xl,ja=Xa&&Math.sqrt(Xl/Xa);ui=[(ui[0]+Fi[0])/2,(ui[1]+Fi[1])/2],Gi=[(Gi[0]+ps[0])/2,(Gi[1]+ps[1])/2],na(ja*xi)}Jr=null,ca(ui,Gi),Fa(Na)}function Fo(){if(a.event.touches.length){for(var ao=a.event.changedTouches,ui=0,Gi=ao.length;ui<Gi;++ui)delete Aa[ao[ui].identifier];for(var Fi in Aa)return void ua()}a.selectAll(no).on(ni,null),bi.on(Ht,ka).on(Pr,ri),po(),Sa(Na)}}function Oi(){var Qn=nn.of(this,arguments);Cr?clearTimeout(Cr):(Ft.call(this),Le=$r(Oe=Qe||a.mouse(this)),ha(Qn)),Cr=setTimeout(function(){Cr=null,Sa(Qn)},50),ie(),na(Math.pow(2,gr()*.002)*ue.k),ca(Oe,Le),Fa(Qn)}function li(){var Qn=a.mouse(this),Na=Math.log(ue.k)/Math.LN2;ta(this,Qn,$r(Qn),a.event.shiftKey?Math.ceil(Na)-1:Math.floor(Na)+1)}return a.rebind(fn,nn,"on")};var Qt=[0,1/0],gr,sr;a.color=vt;function vt(){}vt.prototype.toString=function(){return this.rgb()+""},a.hsl=it;function it(ue,Le,Oe){return this instanceof it?(this.h=+ue,this.s=+Le,void(this.l=+Oe)):arguments.length<2?ue instanceof it?new it(ue.h,ue.s,ue.l):pr(""+ue,cr,it):new it(ue,Le,Oe)}var xt=it.prototype=new vt;xt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new it(this.h,this.s,this.l/ue)},xt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new it(this.h,this.s,ue*this.l)},xt.rgb=function(){return Mt(this.h,this.s,this.l)};function Mt(ue,Le,Oe){var Qe,rt;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,Le=isNaN(Le)||Le<0?0:Le>1?1:Le,Oe=Oe<0?0:Oe>1?1:Oe,rt=Oe<=.5?Oe*(1+Le):Oe+Le-Oe*Le,Qe=2*Oe-rt;function st(bt){return bt>360?bt-=360:bt<0&&(bt+=360),bt<60?Qe+(rt-Qe)*bt/60:bt<180?rt:bt<240?Qe+(rt-Qe)*(240-bt)/60:Qe}function Et(bt){return Math.round(st(bt)*255)}return new ur(Et(ue+120),Et(ue),Et(ue-120))}a.hcl=Dt;function Dt(ue,Le,Oe){return this instanceof Dt?(this.h=+ue,this.c=+Le,void(this.l=+Oe)):arguments.length<2?ue instanceof Dt?new Dt(ue.h,ue.c,ue.l):ue instanceof Nt?kt(ue.l,ue.a,ue.b):kt((ue=Ur((ue=a.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new Dt(ue,Le,Oe)}var Lt=Dt.prototype=new vt;Lt.brighter=function(ue){return new Dt(this.h,this.c,Math.min(100,this.l+jt*(arguments.length?ue:1)))},Lt.darker=function(ue){return new Dt(this.h,this.c,Math.max(0,this.l-jt*(arguments.length?ue:1)))},Lt.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(ue,Le,Oe){return isNaN(ue)&&(ue=0),isNaN(Le)&&(Le=0),new Nt(Oe,Math.cos(ue*=ft)*Le,Math.sin(ue)*Le)}a.lab=Nt;function Nt(ue,Le,Oe){return this instanceof Nt?(this.l=+ue,this.a=+Le,void(this.b=+Oe)):arguments.length<2?ue instanceof Nt?new Nt(ue.l,ue.a,ue.b):ue instanceof Dt?Bt(ue.h,ue.c,ue.l):Ur((ue=ur(ue)).r,ue.g,ue.b):new Nt(ue,Le,Oe)}var jt=18,lr=.95047,fr=1,hr=1.08883,Ye=Nt.prototype=new vt;Ye.brighter=function(ue){return new Nt(Math.min(100,this.l+jt*(arguments.length?ue:1)),this.a,this.b)},Ye.darker=function(ue){return new Nt(Math.max(0,this.l-jt*(arguments.length?ue:1)),this.a,this.b)},Ye.rgb=function(){return We(this.l,this.a,this.b)};function We(ue,Le,Oe){var Qe=(ue+16)/116,rt=Qe+Le/500,st=Qe-Oe/200;return rt=It(rt)*lr,Qe=It(Qe)*fr,st=It(st)*hr,new ur(rr(3.2404542*rt-1.5371385*Qe-.4985314*st),rr(-.969266*rt+1.8760108*Qe+.041556*st),rr(.0556434*rt-.2040259*Qe+1.0572252*st))}function kt(ue,Le,Oe){return ue>0?new Dt(Math.atan2(Oe,Le)*pt,Math.sqrt(Le*Le+Oe*Oe),ue):new Dt(NaN,NaN,ue)}function It(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function Zt(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function rr(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}a.rgb=ur;function ur(ue,Le,Oe){return this instanceof ur?(this.r=~~ue,this.g=~~Le,void(this.b=~~Oe)):arguments.length<2?ue instanceof ur?new ur(ue.r,ue.g,ue.b):pr(""+ue,ur,Mt):new ur(ue,Le,Oe)}function er(ue){return new ur(ue>>16,ue>>8&255,ue&255)}function Ot(ue){return er(ue)+""}var vr=ur.prototype=new vt;vr.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var Le=this.r,Oe=this.g,Qe=this.b,rt=30;return!Le&&!Oe&&!Qe?new ur(rt,rt,rt):(Le&&Le<rt&&(Le=rt),Oe&&Oe<rt&&(Oe=rt),Qe&&Qe<rt&&(Qe=rt),new ur(Math.min(255,Le/ue),Math.min(255,Oe/ue),Math.min(255,Qe/ue)))},vr.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new ur(ue*this.r,ue*this.g,ue*this.b)},vr.hsl=function(){return cr(this.r,this.g,this.b)},vr.toString=function(){return"#"+yr(this.r)+yr(this.g)+yr(this.b)};function yr(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function pr(ue,Le,Oe){var Qe=0,rt=0,st=0,Et,bt,Ht;if(Et=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),Et)switch(bt=Et[2].split(","),Et[1]){case"hsl":return Oe(parseFloat(bt[0]),parseFloat(bt[1])/100,parseFloat(bt[2])/100);case"rgb":return Le(Rr(bt[0]),Rr(bt[1]),Rr(bt[2]))}return(Ht=hn.get(ue))?Le(Ht.r,Ht.g,Ht.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Ht=parseInt(ue.slice(1),16))&&(ue.length===4?(Qe=(Ht&3840)>>4,Qe=Qe>>4|Qe,rt=Ht&240,rt=rt>>4|rt,st=Ht&15,st=st<<4|st):ue.length===7&&(Qe=(Ht&16711680)>>16,rt=(Ht&65280)>>8,st=Ht&255)),Le(Qe,rt,st))}function cr(ue,Le,Oe){var Qe=Math.min(ue/=255,Le/=255,Oe/=255),rt=Math.max(ue,Le,Oe),st=rt-Qe,Et,bt,Ht=(rt+Qe)/2;return st?(bt=Ht<.5?st/(rt+Qe):st/(2-rt-Qe),ue==rt?Et=(Le-Oe)/st+(Le<Oe?6:0):Le==rt?Et=(Oe-ue)/st+2:Et=(ue-Le)/st+4,Et*=60):(Et=NaN,bt=Ht>0&&Ht<1?0:Et),new it(Et,bt,Ht)}function Ur(ue,Le,Oe){ue=kr(ue),Le=kr(Le),Oe=kr(Oe);var Qe=Zt((.4124564*ue+.3575761*Le+.1804375*Oe)/lr),rt=Zt((.2126729*ue+.7151522*Le+.072175*Oe)/fr),st=Zt((.0193339*ue+.119192*Le+.9503041*Oe)/hr);return Nt(116*rt-16,500*(Qe-rt),200*(rt-st))}function kr(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Rr(ue){var Le=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(Le*2.55):Le}var hn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});hn.forEach(function(ue,Le){hn.set(ue,er(Le))});function tn(ue){return typeof ue=="function"?ue:function(){return ue}}a.functor=tn,a.xhr=Fn(F);function Fn(ue){return function(Le,Oe,Qe){return arguments.length===2&&typeof Oe=="function"&&(Qe=Oe,Oe=null),mn(Le,Oe,ue,Qe)}}function mn(ue,Le,Oe,Qe){var rt={},st=a.dispatch("beforesend","progress","load","error"),Et={},bt=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in bt)&&/^(http(s)?:)?\/\//.test(ue)&&(bt=new XDomainRequest),"onload"in bt?bt.onload=bt.onerror=Gt:bt.onreadystatechange=function(){bt.readyState>3&&Gt()};function Gt(){var tr=bt.status,Cr;if(!tr&&Er(bt)||tr>=200&&tr<300||tr===304){try{Cr=Oe.call(rt,bt)}catch(Pr){st.error.call(rt,Pr);return}st.load.call(rt,Cr)}else st.error.call(rt,bt)}return bt.onprogress=function(tr){var Cr=a.event;a.event=tr;try{st.progress.call(rt,bt)}finally{a.event=Cr}},rt.header=function(tr,Cr){return tr=(tr+"").toLowerCase(),arguments.length<2?Et[tr]:(Cr==null?delete Et[tr]:Et[tr]=Cr+"",rt)},rt.mimeType=function(tr){return arguments.length?(Le=tr==null?null:tr+"",rt):Le},rt.responseType=function(tr){return arguments.length?(Ht=tr,rt):Ht},rt.response=function(tr){return Oe=tr,rt},["get","post"].forEach(function(tr){rt[tr]=function(){return rt.send.apply(rt,[tr].concat(M(arguments)))}}),rt.send=function(tr,Cr,Pr){if(arguments.length===2&&typeof Cr=="function"&&(Pr=Cr,Cr=null),bt.open(tr,ue,!0),Le!=null&&!("accept"in Et)&&(Et.accept=Le+",*/*"),bt.setRequestHeader)for(var Jr in Et)bt.setRequestHeader(Jr,Et[Jr]);return Le!=null&&bt.overrideMimeType&&bt.overrideMimeType(Le),Ht!=null&&(bt.responseType=Ht),Pr!=null&&rt.on("error",Pr).on("load",function(nn){Pr(null,nn)}),st.beforesend.call(rt,bt),bt.send(Cr??null),rt},rt.abort=function(){return bt.abort(),rt},a.rebind(rt,st,"on"),Qe==null?rt:rt.get(Mr(Qe))}function Mr(ue){return ue.length===1?function(Le,Oe){ue(Le==null?Oe:null)}:ue}function Er(ue){var Le=ue.responseType;return Le&&Le!=="text"?ue.response:ue.responseText}a.dsv=function(ue,Le){var Oe=new RegExp('["'+ue+`
]`),Qe=ue.charCodeAt(0);function rt(Gt,tr,Cr){arguments.length<3&&(Cr=tr,tr=null);var Pr=mn(Gt,Le,tr==null?st:Et(tr),Cr);return Pr.row=function(Jr){return arguments.length?Pr.response((tr=Jr)==null?st:Et(Jr)):tr},Pr}function st(Gt){return rt.parse(Gt.responseText)}function Et(Gt){return function(tr){return rt.parse(tr.responseText,Gt)}}rt.parse=function(Gt,tr){var Cr;return rt.parseRows(Gt,function(Pr,Jr){if(Cr)return Cr(Pr,Jr-1);var nn=function(Dr){for(var Br={},Xr=Pr.length,ln=0;ln<Xr;++ln)Br[Pr[ln]]=Dr[ln];return Br};Cr=tr?function(Dr,Br){return tr(nn(Dr),Br)}:nn})},rt.parseRows=function(Gt,tr){var Cr={},Pr={},Jr=[],nn=Gt.length,Dr=0,Br=0,Xr,ln;function fn(){if(Dr>=nn)return Pr;if(ln)return ln=!1,Cr;var Bn=Dr;if(Gt.charCodeAt(Bn)===34){for(var na=Bn;na++<nn;)if(Gt.charCodeAt(na)===34){if(Gt.charCodeAt(na+1)!==34)break;++na}Dr=na+2;var ca=Gt.charCodeAt(na+1);return ca===13?(ln=!0,Gt.charCodeAt(na+2)===10&&++Dr):ca===10&&(ln=!0),Gt.slice(Bn+1,na).replace(/""/g,'"')}for(;Dr<nn;){var ca=Gt.charCodeAt(Dr++),ta=1;if(ca===10)ln=!0;else if(ca===13)ln=!0,Gt.charCodeAt(Dr)===10&&(++Dr,++ta);else if(ca!==Qe)continue;return Gt.slice(Bn,Dr-ta)}return Gt.slice(Bn)}for(;(Xr=fn())!==Pr;){for(var $r=[];Xr!==Cr&&Xr!==Pr;)$r.push(Xr),Xr=fn();tr&&($r=tr($r,Br++))==null||Jr.push($r)}return Jr},rt.format=function(Gt){if(Array.isArray(Gt[0]))return rt.formatRows(Gt);var tr=new z,Cr=[];return Gt.forEach(function(Pr){for(var Jr in Pr)tr.has(Jr)||Cr.push(tr.add(Jr))}),[Cr.map(Ht).join(ue)].concat(Gt.map(function(Pr){return Cr.map(function(Jr){return Ht(Pr[Jr])}).join(ue)})).join(`
`)},rt.formatRows=function(Gt){return Gt.map(bt).join(`
`)};function bt(Gt){return Gt.map(Ht).join(ue)}function Ht(Gt){return Oe.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return rt},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Wr,Hr,an,vn,pn=this[O(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};a.timer=function(){En.apply(this,arguments)};function En(ue,Le,Oe){var Qe=arguments.length;Qe<2&&(Le=0),Qe<3&&(Oe=Date.now());var rt=Oe+Le,st={c:ue,t:rt,n:null};return Hr?Hr.n=st:Wr=st,Hr=st,an||(vn=clearTimeout(vn),an=1,pn(_n)),st}function _n(){var ue=oa(),Le=Kn()-ue;Le>24?(isFinite(Le)&&(clearTimeout(vn),vn=setTimeout(_n,Le)),an=0):(an=1,pn(_n))}a.timer.flush=function(){oa(),Kn()};function oa(){for(var ue=Date.now(),Le=Wr;Le;)ue>=Le.t&&Le.c(ue-Le.t)&&(Le.c=null),Le=Le.n;return ue}function Kn(){for(var ue,Le=Wr,Oe=1/0;Le;)Le.c?(Le.t<Oe&&(Oe=Le.t),Le=(ue=Le).n):Le=ue?ue.n=Le.n:Wr=Le.n;return Hr=ue,Oe}a.round=function(ue,Le){return Le?Math.round(ue*(Le=Math.pow(10,Le)))/Le:Math.round(ue)},a.geom={};function $n(ue){return ue[0]}function Yn(ue){return ue[1]}a.geom.hull=function(ue){var Le=$n,Oe=Yn;if(arguments.length)return Qe(ue);function Qe(rt){if(rt.length<3)return[];var st=tn(Le),Et=tn(Oe),bt,Ht=rt.length,Gt=[],tr=[];for(bt=0;bt<Ht;bt++)Gt.push([+st.call(this,rt[bt],bt),+Et.call(this,rt[bt],bt),bt]);for(Gt.sort(Tr),bt=0;bt<Ht;bt++)tr.push([Gt[bt][0],-Gt[bt][1]]);var Cr=Jn(Gt),Pr=Jn(tr),Jr=Pr[0]===Cr[0],nn=Pr[Pr.length-1]===Cr[Cr.length-1],Dr=[];for(bt=Cr.length-1;bt>=0;--bt)Dr.push(rt[Gt[Cr[bt]][2]]);for(bt=+Jr;bt<Pr.length-nn;++bt)Dr.push(rt[Gt[Pr[bt]][2]]);return Dr}return Qe.x=function(rt){return arguments.length?(Le=rt,Qe):Le},Qe.y=function(rt){return arguments.length?(Oe=rt,Qe):Oe},Qe};function Jn(ue){for(var Le=ue.length,Oe=[0,1],Qe=2,rt=2;rt<Le;rt++){for(;Qe>1&&Yt(ue[Oe[Qe-2]],ue[Oe[Qe-1]],ue[rt])<=0;)--Qe;Oe[Qe++]=rt}return Oe.slice(0,Qe)}function Tr(ue,Le){return ue[0]-Le[0]||ue[1]-Le[1]}a.geom.polygon=function(ue){return ae(ue,on),ue};var on=a.geom.polygon.prototype=[];on.area=function(){for(var ue=-1,Le=this.length,Oe,Qe=this[Le-1],rt=0;++ue<Le;)Oe=Qe,Qe=this[ue],rt+=Oe[1]*Qe[0]-Oe[0]*Qe[1];return rt*.5},on.centroid=function(ue){var Le=-1,Oe=this.length,Qe=0,rt=0,st,Et=this[Oe-1],bt;for(arguments.length||(ue=-1/(6*this.area()));++Le<Oe;)st=Et,Et=this[Le],bt=st[0]*Et[1]-Et[0]*st[1],Qe+=(st[0]+Et[0])*bt,rt+=(st[1]+Et[1])*bt;return[Qe*ue,rt*ue]},on.clip=function(ue){for(var Le,Oe=Gn(ue),Qe=-1,rt=this.length-Gn(this),st,Et,bt=this[rt-1],Ht,Gt,tr;++Qe<rt;){for(Le=ue.slice(),ue.length=0,Ht=this[Qe],Gt=Le[(Et=Le.length-Oe)-1],st=-1;++st<Et;)tr=Le[st],rn(tr,bt,Ht)?(rn(Gt,bt,Ht)||ue.push(dn(Gt,tr,bt,Ht)),ue.push(tr)):rn(Gt,bt,Ht)&&ue.push(dn(Gt,tr,bt,Ht)),Gt=tr;Oe&&ue.push(ue[0]),bt=Ht}return ue};function rn(ue,Le,Oe){return(Oe[0]-Le[0])*(ue[1]-Le[1])<(Oe[1]-Le[1])*(ue[0]-Le[0])}function dn(ue,Le,Oe,Qe){var rt=ue[0],st=Oe[0],Et=Le[0]-rt,bt=Qe[0]-st,Ht=ue[1],Gt=Oe[1],tr=Le[1]-Ht,Cr=Qe[1]-Gt,Pr=(bt*(Ht-Gt)-Cr*(rt-st))/(Cr*Et-bt*tr);return[rt+Pr*Et,Ht+Pr*tr]}function Gn(ue){var Le=ue[0],Oe=ue[ue.length-1];return!(Le[0]-Oe[0]||Le[1]-Oe[1])}var Tn,Mn,Un,qn=[],ba,Va,Sr=[];function Nr(){_o(this),this.edge=this.site=this.circle=null}function br(ue){var Le=qn.pop()||new Nr;return Le.site=ue,Le}function zr(ue){kn(ue),Un.remove(ue),qn.push(ue),_o(ue)}function bn(ue){var Le=ue.circle,Oe=Le.x,Qe=Le.cy,rt={x:Oe,y:Qe},st=ue.P,Et=ue.N,bt=[ue];zr(ue);for(var Ht=st;Ht.circle&&d(Oe-Ht.circle.x)<ge&&d(Qe-Ht.circle.cy)<ge;)st=Ht.P,bt.unshift(Ht),zr(Ht),Ht=st;bt.unshift(Ht),kn(Ht);for(var Gt=Et;Gt.circle&&d(Oe-Gt.circle.x)<ge&&d(Qe-Gt.circle.cy)<ge;)Et=Gt.N,bt.push(Gt),zr(Gt),Gt=Et;bt.push(Gt),kn(Gt);var tr=bt.length,Cr;for(Cr=1;Cr<tr;++Cr)Gt=bt[Cr],Ht=bt[Cr-1],La(Gt.edge,Ht.site,Gt.site,rt);Ht=bt[0],Gt=bt[tr-1],Gt.edge=la(Ht.site,Gt.site,null,rt),wn(Ht),wn(Gt)}function Pn(ue){for(var Le=ue.x,Oe=ue.y,Qe,rt,st,Et,bt=Un._;bt;)if(st=gn(bt,Oe)-Le,st>ge)bt=bt.L;else if(Et=Le-cn(bt,Oe),Et>ge){if(!bt.R){Qe=bt;break}bt=bt.R}else{st>-ge?(Qe=bt.P,rt=bt):Et>-ge?(Qe=bt,rt=bt.N):Qe=rt=bt;break}var Ht=br(ue);if(Un.insert(Qe,Ht),!(!Qe&&!rt)){if(Qe===rt){kn(Qe),rt=br(Qe.site),Un.insert(Ht,rt),Ht.edge=rt.edge=la(Qe.site,Ht.site),wn(Qe),wn(rt);return}if(!rt){Ht.edge=la(Qe.site,Ht.site);return}kn(Qe),kn(rt);var Gt=Qe.site,tr=Gt.x,Cr=Gt.y,Pr=ue.x-tr,Jr=ue.y-Cr,nn=rt.site,Dr=nn.x-tr,Br=nn.y-Cr,Xr=2*(Pr*Br-Jr*Dr),ln=Pr*Pr+Jr*Jr,fn=Dr*Dr+Br*Br,$r={x:(Br*ln-Jr*fn)/Xr+tr,y:(Pr*fn-Dr*ln)/Xr+Cr};La(rt.edge,Gt,nn,$r),Ht.edge=la(Gt,ue,null,$r),rt.edge=la(ue,nn,null,$r),wn(Qe),wn(rt)}}function gn(ue,Le){var Oe=ue.site,Qe=Oe.x,rt=Oe.y,st=rt-Le;if(!st)return Qe;var Et=ue.P;if(!Et)return-1/0;Oe=Et.site;var bt=Oe.x,Ht=Oe.y,Gt=Ht-Le;if(!Gt)return bt;var tr=bt-Qe,Cr=1/st-1/Gt,Pr=tr/Gt;return Cr?(-Pr+Math.sqrt(Pr*Pr-2*Cr*(tr*tr/(-2*Gt)-Ht+Gt/2+rt-st/2)))/Cr+Qe:(Qe+bt)/2}function cn(ue,Le){var Oe=ue.N;if(Oe)return gn(Oe,Le);var Qe=ue.site;return Qe.y===Le?Qe.x:1/0}function Lr(ue){this.site=ue,this.edges=[]}Lr.prototype.prepare=function(){for(var ue=this.edges,Le=ue.length,Oe;Le--;)Oe=ue[Le].edge,(!Oe.b||!Oe.a)&&ue.splice(Le,1);return ue.sort(Gr),ue.length};function jr(ue){for(var Le=ue[0][0],Oe=ue[1][0],Qe=ue[0][1],rt=ue[1][1],st,Et,bt,Ht,Gt=Mn,tr=Gt.length,Cr,Pr,Jr,nn,Dr,Br;tr--;)if(Cr=Gt[tr],!(!Cr||!Cr.prepare()))for(Jr=Cr.edges,nn=Jr.length,Pr=0;Pr<nn;)Br=Jr[Pr].end(),bt=Br.x,Ht=Br.y,Dr=Jr[++Pr%nn].start(),st=Dr.x,Et=Dr.y,(d(bt-st)>ge||d(Ht-Et)>ge)&&(Jr.splice(Pr,0,new vi(pa(Cr.site,Br,d(bt-Le)<ge&&rt-Ht>ge?{x:Le,y:d(st-Le)<ge?Et:rt}:d(Ht-rt)<ge&&Oe-bt>ge?{x:d(Et-rt)<ge?st:Oe,y:rt}:d(bt-Oe)<ge&&Ht-Qe>ge?{x:Oe,y:d(st-Oe)<ge?Et:Qe}:d(Ht-Qe)<ge&&bt-Le>ge?{x:d(Et-Qe)<ge?st:Le,y:Qe}:null),Cr.site,null)),++nn)}function Gr(ue,Le){return Le.angle-ue.angle}function Qr(){_o(this),this.x=this.y=this.arc=this.site=this.cy=null}function wn(ue){var Le=ue.P,Oe=ue.N;if(!(!Le||!Oe)){var Qe=Le.site,rt=ue.site,st=Oe.site;if(Qe!==st){var Et=rt.x,bt=rt.y,Ht=Qe.x-Et,Gt=Qe.y-bt,tr=st.x-Et,Br=st.y-bt,Cr=2*(Ht*Br-Gt*tr);if(!(Cr>=-Me)){var Pr=Ht*Ht+Gt*Gt,Jr=tr*tr+Br*Br,nn=(Br*Pr-Gt*Jr)/Cr,Dr=(Ht*Jr-tr*Pr)/Cr,Br=Dr+bt,Xr=Sr.pop()||new Qr;Xr.arc=ue,Xr.site=rt,Xr.x=nn+Et,Xr.y=Br+Math.sqrt(nn*nn+Dr*Dr),Xr.cy=Br,ue.circle=Xr;for(var ln=null,fn=Va._;fn;)if(Xr.y<fn.y||Xr.y===fn.y&&Xr.x<=fn.x)if(fn.L)fn=fn.L;else{ln=fn.P;break}else if(fn.R)fn=fn.R;else{ln=fn;break}Va.insert(ln,Xr),ln||(ba=Xr)}}}}function kn(ue){var Le=ue.circle;Le&&(Le.P||(ba=Le.N),Va.remove(Le),Sr.push(Le),_o(Le),ue.circle=null)}function Dn(ue,Le,Oe,Qe){return function(rt){var st=rt.a,Et=rt.b,bt=st.x,Ht=st.y,Gt=Et.x,tr=Et.y,Cr=0,Pr=1,Jr=Gt-bt,nn=tr-Ht,Dr;if(Dr=ue-bt,!(!Jr&&Dr>0)){if(Dr/=Jr,Jr<0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}else if(Jr>0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}if(Dr=Oe-bt,!(!Jr&&Dr<0)){if(Dr/=Jr,Jr<0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}else if(Jr>0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}if(Dr=Le-Ht,!(!nn&&Dr>0)){if(Dr/=nn,nn<0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}else if(nn>0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}if(Dr=Qe-Ht,!(!nn&&Dr<0)){if(Dr/=nn,nn<0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}else if(nn>0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}return Cr>0&&(rt.a={x:bt+Cr*Jr,y:Ht+Cr*nn}),Pr<1&&(rt.b={x:bt+Pr*Jr,y:Ht+Pr*nn}),rt}}}}}}function Nn(ue){for(var Le=Tn,Oe=Dn(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),Qe=Le.length,rt;Qe--;)rt=Le[Qe],(!On(rt,ue)||!Oe(rt)||d(rt.a.x-rt.b.x)<ge&&d(rt.a.y-rt.b.y)<ge)&&(rt.a=rt.b=null,Le.splice(Qe,1))}function On(ue,Le){var Oe=ue.b;if(Oe)return!0;var Qe=ue.a,rt=Le[0][0],st=Le[1][0],Et=Le[0][1],bt=Le[1][1],Ht=ue.l,Gt=ue.r,tr=Ht.x,Cr=Ht.y,Pr=Gt.x,Jr=Gt.y,nn=(tr+Pr)/2,Dr=(Cr+Jr)/2,Br,Xr;if(Jr===Cr){if(nn<rt||nn>=st)return;if(tr>Pr){if(!Qe)Qe={x:nn,y:Et};else if(Qe.y>=bt)return;Oe={x:nn,y:bt}}else{if(!Qe)Qe={x:nn,y:bt};else if(Qe.y<Et)return;Oe={x:nn,y:Et}}}else if(Br=(tr-Pr)/(Jr-Cr),Xr=Dr-Br*nn,Br<-1||Br>1)if(tr>Pr){if(!Qe)Qe={x:(Et-Xr)/Br,y:Et};else if(Qe.y>=bt)return;Oe={x:(bt-Xr)/Br,y:bt}}else{if(!Qe)Qe={x:(bt-Xr)/Br,y:bt};else if(Qe.y<Et)return;Oe={x:(Et-Xr)/Br,y:Et}}else if(Cr<Jr){if(!Qe)Qe={x:rt,y:Br*rt+Xr};else if(Qe.x>=st)return;Oe={x:st,y:Br*st+Xr}}else{if(!Qe)Qe={x:st,y:Br*st+Xr};else if(Qe.x<rt)return;Oe={x:rt,y:Br*rt+Xr}}return ue.a=Qe,ue.b=Oe,!0}function ga(ue,Le){this.l=ue,this.r=Le,this.a=this.b=null}function la(ue,Le,Oe,Qe){var rt=new ga(ue,Le);return Tn.push(rt),Oe&&La(rt,ue,Le,Oe),Qe&&La(rt,Le,ue,Qe),Mn[ue.i].edges.push(new vi(rt,ue,Le)),Mn[Le.i].edges.push(new vi(rt,Le,ue)),rt}function pa(ue,Le,Oe){var Qe=new ga(ue,null);return Qe.a=Le,Qe.b=Oe,Tn.push(Qe),Qe}function La(ue,Le,Oe,Qe){!ue.a&&!ue.b?(ue.a=Qe,ue.l=Le,ue.r=Oe):ue.l===Oe?ue.b=Qe:ue.a=Qe}function vi(ue,Le,Oe){var Qe=ue.a,rt=ue.b;this.edge=ue,this.site=Le,this.angle=Oe?Math.atan2(Oe.y-Le.y,Oe.x-Le.x):ue.l===Le?Math.atan2(rt.x-Qe.x,Qe.y-rt.y):Math.atan2(Qe.x-rt.x,rt.y-Qe.y)}vi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ti(){this._=null}function _o(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}ti.prototype={insert:function(ue,Le){var Oe,Qe,rt;if(ue){if(Le.P=ue,Le.N=ue.N,ue.N&&(ue.N.P=Le),ue.N=Le,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=Le}else ue.R=Le;Oe=ue}else this._?(ue=Ll(this._),Le.P=null,Le.N=ue,ue.P=ue.L=Le,Oe=ue):(Le.P=Le.N=null,this._=Le,Oe=null);for(Le.L=Le.R=null,Le.U=Oe,Le.C=!0,ue=Le;Oe&&Oe.C;)Qe=Oe.U,Oe===Qe.L?(rt=Qe.R,rt&&rt.C?(Oe.C=rt.C=!1,Qe.C=!0,ue=Qe):(ue===Oe.R&&(Co(this,Oe),ue=Oe,Oe=ue.U),Oe.C=!1,Qe.C=!0,eo(this,Qe))):(rt=Qe.L,rt&&rt.C?(Oe.C=rt.C=!1,Qe.C=!0,ue=Qe):(ue===Oe.L&&(eo(this,Oe),ue=Oe,Oe=ue.U),Oe.C=!1,Qe.C=!0,Co(this,Qe))),Oe=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var Le=ue.U,Oe,Qe=ue.L,rt=ue.R,st,Et;if(Qe?rt?st=Ll(rt):st=Qe:st=rt,Le?Le.L===ue?Le.L=st:Le.R=st:this._=st,Qe&&rt?(Et=st.C,st.C=ue.C,st.L=Qe,Qe.U=st,st!==rt?(Le=st.U,st.U=ue.U,ue=st.R,Le.L=ue,st.R=rt,rt.U=st):(st.U=Le,Le=st,ue=st.R)):(Et=ue.C,ue=st),ue&&(ue.U=Le),!Et){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===Le.L){if(Oe=Le.R,Oe.C&&(Oe.C=!1,Le.C=!0,Co(this,Le),Oe=Le.R),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.R||!Oe.R.C)&&(Oe.L.C=!1,Oe.C=!0,eo(this,Oe),Oe=Le.R),Oe.C=Le.C,Le.C=Oe.R.C=!1,Co(this,Le),ue=this._;break}}else if(Oe=Le.L,Oe.C&&(Oe.C=!1,Le.C=!0,eo(this,Le),Oe=Le.L),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.L||!Oe.L.C)&&(Oe.R.C=!1,Oe.C=!0,Co(this,Oe),Oe=Le.L),Oe.C=Le.C,Le.C=Oe.L.C=!1,eo(this,Le),ue=this._;break}Oe.C=!0,ue=Le,Le=Le.U}while(!ue.C);ue&&(ue.C=!1)}}};function Co(ue,Le){var Oe=Le,Qe=Le.R,rt=Oe.U;rt?rt.L===Oe?rt.L=Qe:rt.R=Qe:ue._=Qe,Qe.U=rt,Oe.U=Qe,Oe.R=Qe.L,Oe.R&&(Oe.R.U=Oe),Qe.L=Oe}function eo(ue,Le){var Oe=Le,Qe=Le.L,rt=Oe.U;rt?rt.L===Oe?rt.L=Qe:rt.R=Qe:ue._=Qe,Qe.U=rt,Oe.U=Qe,Oe.L=Qe.R,Oe.L&&(Oe.L.U=Oe),Qe.R=Oe}function Ll(ue){for(;ue.L;)ue=ue.L;return ue}function df(ue,Le){var Oe=ue.sort($f).pop(),Qe,rt,st;for(Tn=[],Mn=new Array(ue.length),Un=new ti,Va=new ti;;)if(st=ba,Oe&&(!st||Oe.y<st.y||Oe.y===st.y&&Oe.x<st.x))(Oe.x!==Qe||Oe.y!==rt)&&(Mn[Oe.i]=new Lr(Oe),Pn(Oe),Qe=Oe.x,rt=Oe.y),Oe=ue.pop();else if(st)bn(st.arc);else break;Le&&(Nn(Le),jr(Le));var Et={cells:Mn,edges:Tn};return Un=Va=Tn=Mn=null,Et}function $f(ue,Le){return Le.y-ue.y||Le.x-ue.x}a.geom.voronoi=function(ue){var Le=$n,Oe=Yn,Qe=Le,rt=Oe,st=$a;if(ue)return Et(ue);function Et(Ht){var Gt=new Array(Ht.length),tr=st[0][0],Cr=st[0][1],Pr=st[1][0],Jr=st[1][1];return df(bt(Ht),st).cells.forEach(function(nn,Dr){var Br=nn.edges,Xr=nn.site,ln=Gt[Dr]=Br.length?Br.map(function(fn){var $r=fn.start();return[$r.x,$r.y]}):Xr.x>=tr&&Xr.x<=Pr&&Xr.y>=Cr&&Xr.y<=Jr?[[tr,Jr],[Pr,Jr],[Pr,Cr],[tr,Cr]]:[];ln.point=Ht[Dr]}),Gt}function bt(Ht){return Ht.map(function(Gt,tr){return{x:Math.round(Qe(Gt,tr)/ge)*ge,y:Math.round(rt(Gt,tr)/ge)*ge,i:tr}})}return Et.links=function(Ht){return df(bt(Ht)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Ht[Gt.l.i],target:Ht[Gt.r.i]}})},Et.triangles=function(Ht){var Gt=[];return df(bt(Ht)).cells.forEach(function(tr,Cr){for(var Pr=tr.site,Jr=tr.edges.sort(Gr),nn=-1,Dr=Jr.length,Br,Xr=Jr[Dr-1].edge,ln=Xr.l===Pr?Xr.r:Xr.l;++nn<Dr;)Br=ln,Xr=Jr[nn].edge,ln=Xr.l===Pr?Xr.r:Xr.l,Cr<Br.i&&Cr<ln.i&&iu(Pr,Br,ln)<0&&Gt.push([Ht[Cr],Ht[Br.i],Ht[ln.i]])}),Gt},Et.x=function(Ht){return arguments.length?(Qe=tn(Le=Ht),Et):Le},Et.y=function(Ht){return arguments.length?(rt=tn(Oe=Ht),Et):Oe},Et.clipExtent=function(Ht){return arguments.length?(st=Ht??$a,Et):st===$a?null:st},Et.size=function(Ht){return arguments.length?Et.clipExtent(Ht&&[[0,0],Ht]):st===$a?null:st&&st[1]},Et};var $a=[[-1e6,-1e6],[1e6,1e6]];function iu(ue,Le,Oe){return(ue.x-Oe.x)*(Le.y-ue.y)-(ue.x-Le.x)*(Oe.y-ue.y)}a.geom.delaunay=function(ue){return a.geom.voronoi().triangles(ue)},a.geom.quadtree=function(ue,Le,Oe,Qe,rt){var st=$n,Et=Yn,bt;if(bt=arguments.length)return st=pf,Et=ji,bt===3&&(rt=Oe,Qe=Le,Oe=Le=0),Ht(ue);function Ht(Gt){var tr,Cr=tn(st),Pr=tn(Et),Jr,nn,Dr,Br,Xr,ln,fn,$r;if(Le!=null)Xr=Le,ln=Oe,fn=Qe,$r=rt;else if(fn=$r=-(Xr=ln=1/0),Jr=[],nn=[],Br=Gt.length,bt)for(Dr=0;Dr<Br;++Dr)tr=Gt[Dr],tr.x<Xr&&(Xr=tr.x),tr.y<ln&&(ln=tr.y),tr.x>fn&&(fn=tr.x),tr.y>$r&&($r=tr.y),Jr.push(tr.x),nn.push(tr.y);else for(Dr=0;Dr<Br;++Dr){var Bn=+Cr(tr=Gt[Dr],Dr),na=+Pr(tr,Dr);Bn<Xr&&(Xr=Bn),na<ln&&(ln=na),Bn>fn&&(fn=Bn),na>$r&&($r=na),Jr.push(Bn),nn.push(na)}var ca=fn-Xr,ta=$r-ln;ca>ta?$r=ln+ca:fn=Xr+ta;function sa(Sa,ka,ri,Oi,li,Qn,Na,Aa){if(!(isNaN(ri)||isNaN(Oi)))if(Sa.leaf){var Xa=Sa.x,xi=Sa.y;if(Xa!=null)if(d(Xa-ri)+d(xi-Oi)<.01)ha(Sa,ka,ri,Oi,li,Qn,Na,Aa);else{var ni=Sa.point;Sa.x=Sa.y=Sa.point=null,ha(Sa,ni,Xa,xi,li,Qn,Na,Aa),ha(Sa,ka,ri,Oi,li,Qn,Na,Aa)}else Sa.x=ri,Sa.y=Oi,Sa.point=ka}else ha(Sa,ka,ri,Oi,li,Qn,Na,Aa)}function ha(Sa,ka,ri,Oi,li,Qn,Na,Aa){var Xa=(li+Na)*.5,xi=(Qn+Aa)*.5,ni=ri>=Xa,Qi=Oi>=xi,$i=Qi<<1|ni;Sa.leaf=!1,Sa=Sa.nodes[$i]||(Sa.nodes[$i]=xo()),ni?li=Xa:Na=Xa,Qi?Qn=xi:Aa=xi,sa(Sa,ka,ri,Oi,li,Qn,Na,Aa)}var Fa=xo();if(Fa.add=function(Sa){sa(Fa,Sa,+Cr(Sa,++Dr),+Pr(Sa,Dr),Xr,ln,fn,$r)},Fa.visit=function(Sa){Pl(Sa,Fa,Xr,ln,fn,$r)},Fa.find=function(Sa){return Uu(Fa,Sa[0],Sa[1],Xr,ln,fn,$r)},Dr=-1,Le==null){for(;++Dr<Br;)sa(Fa,Gt[Dr],Jr[Dr],nn[Dr],Xr,ln,fn,$r);--Dr}else Gt.forEach(Fa.add);return Jr=nn=Gt=tr=null,Fa}return Ht.x=function(Gt){return arguments.length?(st=Gt,Ht):st},Ht.y=function(Gt){return arguments.length?(Et=Gt,Ht):Et},Ht.extent=function(Gt){return arguments.length?(Gt==null?Le=Oe=Qe=rt=null:(Le=+Gt[0][0],Oe=+Gt[0][1],Qe=+Gt[1][0],rt=+Gt[1][1]),Ht):Le==null?null:[[Le,Oe],[Qe,rt]]},Ht.size=function(Gt){return arguments.length?(Gt==null?Le=Oe=Qe=rt=null:(Le=Oe=0,Qe=+Gt[0],rt=+Gt[1]),Ht):Le==null?null:[Qe-Le,rt-Oe]},Ht};function pf(ue){return ue.x}function ji(ue){return ue.y}function xo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Pl(ue,Le,Oe,Qe,rt,st){if(!ue(Le,Oe,Qe,rt,st)){var Et=(Oe+rt)*.5,bt=(Qe+st)*.5,Ht=Le.nodes;Ht[0]&&Pl(ue,Ht[0],Oe,Qe,Et,bt),Ht[1]&&Pl(ue,Ht[1],Et,Qe,rt,bt),Ht[2]&&Pl(ue,Ht[2],Oe,bt,Et,st),Ht[3]&&Pl(ue,Ht[3],Et,bt,rt,st)}}function Uu(ue,Le,Oe,Qe,rt,st,Et){var bt=1/0,Ht;return function Gt(tr,Cr,Pr,Jr,nn){if(!(Cr>st||Pr>Et||Jr<Qe||nn<rt)){if(Dr=tr.point){var Dr,Br=Le-tr.x,Xr=Oe-tr.y,ln=Br*Br+Xr*Xr;if(ln<bt){var fn=Math.sqrt(bt=ln);Qe=Le-fn,rt=Oe-fn,st=Le+fn,Et=Oe+fn,Ht=Dr}}for(var $r=tr.nodes,Bn=(Cr+Jr)*.5,na=(Pr+nn)*.5,ca=Le>=Bn,ta=Oe>=na,sa=ta<<1|ca,ha=sa+4;sa<ha;++sa)if(tr=$r[sa&3])switch(sa&3){case 0:Gt(tr,Cr,Pr,Bn,na);break;case 1:Gt(tr,Bn,Pr,Jr,na);break;case 2:Gt(tr,Cr,na,Bn,nn);break;case 3:Gt(tr,Bn,na,Jr,nn);break}}}(ue,Qe,rt,st,Et),Ht}a.interpolateRgb=Ii;function Ii(ue,Le){ue=a.rgb(ue),Le=a.rgb(Le);var Oe=ue.r,Qe=ue.g,rt=ue.b,st=Le.r-Oe,Et=Le.g-Qe,bt=Le.b-rt;return function(Ht){return"#"+yr(Math.round(Oe+st*Ht))+yr(Math.round(Qe+Et*Ht))+yr(Math.round(rt+bt*Ht))}}a.interpolateObject=Rl;function Rl(ue,Le){var Oe={},Qe={},rt;for(rt in ue)rt in Le?Oe[rt]=ro(ue[rt],Le[rt]):Qe[rt]=ue[rt];for(rt in Le)rt in ue||(Qe[rt]=Le[rt]);return function(st){for(rt in Oe)Qe[rt]=Oe[rt](st);return Qe}}a.interpolateNumber=zi;function zi(ue,Le){return ue=+ue,Le=+Le,function(Oe){return ue*(1-Oe)+Le*Oe}}a.interpolateString=Hi;function Hi(ue,Le){var Oe=Dl.lastIndex=to.lastIndex=0,Qe,rt,st,Et=-1,bt=[],Ht=[];for(ue=ue+"",Le=Le+"";(Qe=Dl.exec(ue))&&(rt=to.exec(Le));)(st=rt.index)>Oe&&(st=Le.slice(Oe,st),bt[Et]?bt[Et]+=st:bt[++Et]=st),(Qe=Qe[0])===(rt=rt[0])?bt[Et]?bt[Et]+=rt:bt[++Et]=rt:(bt[++Et]=null,Ht.push({i:Et,x:zi(Qe,rt)})),Oe=to.lastIndex;return Oe<Le.length&&(st=Le.slice(Oe),bt[Et]?bt[Et]+=st:bt[++Et]=st),bt.length<2?Ht[0]?(Le=Ht[0].x,function(Gt){return Le(Gt)+""}):function(){return Le}:(Le=Ht.length,function(Gt){for(var tr=0,Cr;tr<Le;++tr)bt[(Cr=Ht[tr]).i]=Cr.x(Gt);return bt.join("")})}var Dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,to=new RegExp(Dl.source,"g");a.interpolate=ro;function ro(ue,Le){for(var Oe=a.interpolators.length,Qe;--Oe>=0&&!(Qe=a.interpolators[Oe](ue,Le)););return Qe}a.interpolators=[function(ue,Le){var Oe=typeof Le;return(Oe==="string"?hn.has(Le.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Le)?Ii:Hi:Le instanceof vt?Ii:Array.isArray(Le)?zo:Oe==="object"&&isNaN(Le)?Rl:zi)(ue,Le)}],a.interpolateArray=zo;function zo(ue,Le){var Oe=[],Qe=[],rt=ue.length,st=Le.length,Et=Math.min(ue.length,Le.length),bt;for(bt=0;bt<Et;++bt)Oe.push(ro(ue[bt],Le[bt]));for(;bt<rt;++bt)Qe[bt]=ue[bt];for(;bt<st;++bt)Qe[bt]=Le[bt];return function(Ht){for(bt=0;bt<Et;++bt)Qe[bt]=Oe[bt](Ht);return Qe}}var qf=function(){return F},Lo=a.map({linear:qf,poly:ec,quad:function(){return Us},cubic:function(){return hs},sin:function(){return ih},exp:function(){return Hu},circle:function(){return oh},elastic:sh,back:lh,bounce:function(){return mf}}),ah=a.map({in:F,out:Ki,"in-out":gf,"out-in":function(ue){return gf(Ki(ue))}});a.ease=function(ue){var Le=ue.indexOf("-"),Oe=Le>=0?ue.slice(0,Le):ue,Qe=Le>=0?ue.slice(Le+1):"in";return Oe=Lo.get(Oe)||qf,Qe=ah.get(Qe)||F,cs(Qe(Oe.apply(null,L.call(arguments,1))))};function cs(ue){return function(Le){return Le<=0?0:Le>=1?1:ue(Le)}}function Ki(ue){return function(Le){return 1-ue(1-Le)}}function gf(ue){return function(Le){return .5*(Le<.5?ue(2*Le):2-ue(2-2*Le))}}function Us(ue){return ue*ue}function hs(ue){return ue*ue*ue}function yf(ue){if(ue<=0)return 0;if(ue>=1)return 1;var Le=ue*ue,Oe=Le*ue;return 4*(ue<.5?Oe:3*(ue-Le)+Oe-.75)}function ec(ue){return function(Le){return Math.pow(Le,ue)}}function ih(ue){return 1-Math.cos(ue*tt)}function Hu(ue){return Math.pow(2,10*(ue-1))}function oh(ue){return 1-Math.sqrt(1-ue*ue)}function sh(ue,Le){var Oe;return arguments.length<2&&(Le=.45),arguments.length?Oe=Le/Ue*Math.asin(1/ue):(ue=1,Oe=Le/4),function(Qe){return 1+ue*Math.pow(2,-10*Qe)*Math.sin((Qe-Oe)*Ue/Le)}}function lh(ue){return ue||(ue=1.70158),function(Le){return Le*Le*((ue+1)*Le-ue)}}function mf(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}a.interpolateHcl=uh;function uh(ue,Le){ue=a.hcl(ue),Le=a.hcl(Le);var Oe=ue.h,Qe=ue.c,rt=ue.l,st=Le.h-Oe,Et=Le.c-Qe,bt=Le.l-rt;return isNaN(Et)&&(Et=0,Qe=isNaN(Qe)?Le.c:Qe),isNaN(st)?(st=0,Oe=isNaN(Oe)?Le.h:Oe):st>180?st-=360:st<-180&&(st+=360),function(Ht){return Bt(Oe+st*Ht,Qe+Et*Ht,rt+bt*Ht)+""}}a.interpolateHsl=fh;function fh(ue,Le){ue=a.hsl(ue),Le=a.hsl(Le);var Oe=ue.h,Qe=ue.s,rt=ue.l,st=Le.h-Oe,Et=Le.s-Qe,bt=Le.l-rt;return isNaN(Et)&&(Et=0,Qe=isNaN(Qe)?Le.s:Qe),isNaN(st)?(st=0,Oe=isNaN(Oe)?Le.h:Oe):st>180?st-=360:st<-180&&(st+=360),function(Ht){return Mt(Oe+st*Ht,Qe+Et*Ht,rt+bt*Ht)+""}}a.interpolateLab=tc;function tc(ue,Le){ue=a.lab(ue),Le=a.lab(Le);var Oe=ue.l,Qe=ue.a,rt=ue.b,st=Le.l-Oe,Et=Le.a-Qe,bt=Le.b-rt;return function(Ht){return We(Oe+st*Ht,Qe+Et*Ht,rt+bt*Ht)+""}}a.interpolateRound=rc;function rc(ue,Le){return Le-=ue,function(Oe){return Math.round(ue+Le*Oe)}}a.transform=function(ue){var Le=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Oe){if(Oe!=null){Le.setAttribute("transform",Oe);var Qe=Le.transform.baseVal.consolidate()}return new il(Qe?Qe.matrix:nc)})(ue)};function il(ue){var Le=[ue.a,ue.b],Oe=[ue.c,ue.d],Qe=ou(Le),rt=Il(Le,Oe),st=ou(su(Oe,Le,-rt))||0;Le[0]*Oe[1]<Oe[0]*Le[1]&&(Le[0]*=-1,Le[1]*=-1,Qe*=-1,rt*=-1),this.rotate=(Qe?Math.atan2(Le[1],Le[0]):Math.atan2(-Oe[0],Oe[1]))*pt,this.translate=[ue.e,ue.f],this.scale=[Qe,st],this.skew=st?Math.atan2(rt,st)*pt:0}il.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Il(ue,Le){return ue[0]*Le[0]+ue[1]*Le[1]}function ou(ue){var Le=Math.sqrt(Il(ue,ue));return Le&&(ue[0]/=Le,ue[1]/=Le),Le}function su(ue,Le,Oe){return ue[0]+=Oe*Le[0],ue[1]+=Oe*Le[1],ue}var nc={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=Gu;function Es(ue){return ue.length?ue.pop()+",":""}function ch(ue,Le,Oe,Qe){if(ue[0]!==Le[0]||ue[1]!==Le[1]){var rt=Oe.push("translate(",null,",",null,")");Qe.push({i:rt-4,x:zi(ue[0],Le[0])},{i:rt-2,x:zi(ue[1],Le[1])})}else(Le[0]||Le[1])&&Oe.push("translate("+Le+")")}function Vu(ue,Le,Oe,Qe){ue!==Le?(ue-Le>180?Le+=360:Le-ue>180&&(ue+=360),Qe.push({i:Oe.push(Es(Oe)+"rotate(",null,")")-2,x:zi(ue,Le)})):Le&&Oe.push(Es(Oe)+"rotate("+Le+")")}function ac(ue,Le,Oe,Qe){ue!==Le?Qe.push({i:Oe.push(Es(Oe)+"skewX(",null,")")-2,x:zi(ue,Le)}):Le&&Oe.push(Es(Oe)+"skewX("+Le+")")}function ic(ue,Le,Oe,Qe){if(ue[0]!==Le[0]||ue[1]!==Le[1]){var rt=Oe.push(Es(Oe)+"scale(",null,",",null,")");Qe.push({i:rt-4,x:zi(ue[0],Le[0])},{i:rt-2,x:zi(ue[1],Le[1])})}else(Le[0]!==1||Le[1]!==1)&&Oe.push(Es(Oe)+"scale("+Le+")")}function Gu(ue,Le){var Oe=[],Qe=[];return ue=a.transform(ue),Le=a.transform(Le),ch(ue.translate,Le.translate,Oe,Qe),Vu(ue.rotate,Le.rotate,Oe,Qe),ac(ue.skew,Le.skew,Oe,Qe),ic(ue.scale,Le.scale,Oe,Qe),ue=Le=null,function(rt){for(var st=-1,Et=Qe.length,bt;++st<Et;)Oe[(bt=Qe[st]).i]=bt.x(rt);return Oe.join("")}}function Xo(ue,Le){return Le=(Le-=ue=+ue)||1/Le,function(Oe){return(Oe-ue)/Le}}function kl(ue,Le){return Le=(Le-=ue=+ue)||1/Le,function(Oe){return Math.max(0,Math.min(1,(Oe-ue)/Le))}}a.layout={},a.layout.bundle=function(){return function(ue){for(var Le=[],Oe=-1,Qe=ue.length;++Oe<Qe;)Le.push(ol(ue[Oe]));return Le}};function ol(ue){for(var Le=ue.source,Oe=ue.target,Qe=Hs(Le,Oe),rt=[Le];Le!==Qe;)Le=Le.parent,rt.push(Le);for(var st=rt.length;Oe!==Qe;)rt.splice(st,0,Oe),Oe=Oe.parent;return rt}function lu(ue){for(var Le=[],Oe=ue.parent;Oe!=null;)Le.push(ue),ue=Oe,Oe=Oe.parent;return Le.push(ue),Le}function Hs(ue,Le){if(ue===Le)return ue;for(var Oe=lu(ue),Qe=lu(Le),rt=Oe.pop(),st=Qe.pop(),Et=null;rt===st;)Et=rt,rt=Oe.pop(),st=Qe.pop();return Et}a.layout.chord=function(){var ue={},Le,Oe,Qe,rt,st=0,Et,bt,Ht;function Gt(){var Cr={},Pr=[],Jr=a.range(rt),nn=[],Dr,Br,Xr,ln,fn;for(Le=[],Oe=[],Dr=0,ln=-1;++ln<rt;){for(Br=0,fn=-1;++fn<rt;)Br+=Qe[ln][fn];Pr.push(Br),nn.push(a.range(rt)),Dr+=Br}for(Et&&Jr.sort(function(Fa,Sa){return Et(Pr[Fa],Pr[Sa])}),bt&&nn.forEach(function(Fa,Sa){Fa.sort(function(ka,ri){return bt(Qe[Sa][ka],Qe[Sa][ri])})}),Dr=(Ue-st*rt)/Dr,Br=0,ln=-1;++ln<rt;){for(Xr=Br,fn=-1;++fn<rt;){var $r=Jr[ln],Bn=nn[$r][fn],na=Qe[$r][Bn],ca=Br,ta=Br+=na*Dr;Cr[$r+"-"+Bn]={index:$r,subindex:Bn,startAngle:ca,endAngle:ta,value:na}}Oe[$r]={index:$r,startAngle:Xr,endAngle:Br,value:Pr[$r]},Br+=st}for(ln=-1;++ln<rt;)for(fn=ln-1;++fn<rt;){var sa=Cr[ln+"-"+fn],ha=Cr[fn+"-"+ln];(sa.value||ha.value)&&Le.push(sa.value<ha.value?{source:ha,target:sa}:{source:sa,target:ha})}Ht&&tr()}function tr(){Le.sort(function(Cr,Pr){return Ht((Cr.source.value+Cr.target.value)/2,(Pr.source.value+Pr.target.value)/2)})}return ue.matrix=function(Cr){return arguments.length?(rt=(Qe=Cr)&&Qe.length,Le=Oe=null,ue):Qe},ue.padding=function(Cr){return arguments.length?(st=Cr,Le=Oe=null,ue):st},ue.sortGroups=function(Cr){return arguments.length?(Et=Cr,Le=Oe=null,ue):Et},ue.sortSubgroups=function(Cr){return arguments.length?(bt=Cr,Le=null,ue):bt},ue.sortChords=function(Cr){return arguments.length?(Ht=Cr,Le&&tr(),ue):Ht},ue.chords=function(){return Le||Gt(),Le},ue.groups=function(){return Oe||Gt(),Oe},ue},a.layout.force=function(){var ue={},Le=a.dispatch("start","tick","end"),Oe,Qe=[1,1],rt,st,Et=.9,bt=bf,Ht=hh,Gt=-30,tr=Wu,Cr=.1,Pr=.64,Jr=[],nn=[],Dr,Br,Xr;function ln($r){return function(Bn,na,ca,ta){if(Bn.point!==$r){var sa=Bn.cx-$r.x,ha=Bn.cy-$r.y,Fa=ta-na,Sa=sa*sa+ha*ha;if(Fa*Fa/Pr<Sa){if(Sa<tr){var ka=Bn.charge/Sa;$r.px-=sa*ka,$r.py-=ha*ka}return!0}if(Bn.point&&Sa&&Sa<tr){var ka=Bn.pointCharge/Sa;$r.px-=sa*ka,$r.py-=ha*ka}}return!Bn.charge}}ue.tick=function(){if((st*=.99)<.005)return Oe=null,Le.end({type:"end",alpha:st=0}),!0;var $r=Jr.length,Bn=nn.length,na,ca,ta,sa,ha,Fa,Sa,ka,ri;for(ca=0;ca<Bn;++ca)ta=nn[ca],sa=ta.source,ha=ta.target,ka=ha.x-sa.x,ri=ha.y-sa.y,(Fa=ka*ka+ri*ri)&&(Fa=st*Br[ca]*((Fa=Math.sqrt(Fa))-Dr[ca])/Fa,ka*=Fa,ri*=Fa,ha.x-=ka*(Sa=sa.weight+ha.weight?sa.weight/(sa.weight+ha.weight):.5),ha.y-=ri*Sa,sa.x+=ka*(Sa=1-Sa),sa.y+=ri*Sa);if((Sa=st*Cr)&&(ka=Qe[0]/2,ri=Qe[1]/2,ca=-1,Sa))for(;++ca<$r;)ta=Jr[ca],ta.x+=(ka-ta.x)*Sa,ta.y+=(ri-ta.y)*Sa;if(Gt)for(Pi(na=a.geom.quadtree(Jr),st,Xr),ca=-1;++ca<$r;)(ta=Jr[ca]).fixed||na.visit(ln(ta));for(ca=-1;++ca<$r;)ta=Jr[ca],ta.fixed?(ta.x=ta.px,ta.y=ta.py):(ta.x-=(ta.px-(ta.px=ta.x))*Et,ta.y-=(ta.py-(ta.py=ta.y))*Et);Le.tick({type:"tick",alpha:st})},ue.nodes=function($r){return arguments.length?(Jr=$r,ue):Jr},ue.links=function($r){return arguments.length?(nn=$r,ue):nn},ue.size=function($r){return arguments.length?(Qe=$r,ue):Qe},ue.linkDistance=function($r){return arguments.length?(bt=typeof $r=="function"?$r:+$r,ue):bt},ue.distance=ue.linkDistance,ue.linkStrength=function($r){return arguments.length?(Ht=typeof $r=="function"?$r:+$r,ue):Ht},ue.friction=function($r){return arguments.length?(Et=+$r,ue):Et},ue.charge=function($r){return arguments.length?(Gt=typeof $r=="function"?$r:+$r,ue):Gt},ue.chargeDistance=function($r){return arguments.length?(tr=$r*$r,ue):Math.sqrt(tr)},ue.gravity=function($r){return arguments.length?(Cr=+$r,ue):Cr},ue.theta=function($r){return arguments.length?(Pr=$r*$r,ue):Math.sqrt(Pr)},ue.alpha=function($r){return arguments.length?($r=+$r,st?$r>0?st=$r:(Oe.c=null,Oe.t=NaN,Oe=null,Le.end({type:"end",alpha:st=0})):$r>0&&(Le.start({type:"start",alpha:st=$r}),Oe=En(ue.tick)),ue):st},ue.start=function(){var $r,Bn=Jr.length,na=nn.length,ca=Qe[0],ta=Qe[1],sa,ha;for($r=0;$r<Bn;++$r)(ha=Jr[$r]).index=$r,ha.weight=0;for($r=0;$r<na;++$r)ha=nn[$r],typeof ha.source=="number"&&(ha.source=Jr[ha.source]),typeof ha.target=="number"&&(ha.target=Jr[ha.target]),++ha.source.weight,++ha.target.weight;for($r=0;$r<Bn;++$r)ha=Jr[$r],isNaN(ha.x)&&(ha.x=Fa("x",ca)),isNaN(ha.y)&&(ha.y=Fa("y",ta)),isNaN(ha.px)&&(ha.px=ha.x),isNaN(ha.py)&&(ha.py=ha.y);if(Dr=[],typeof bt=="function")for($r=0;$r<na;++$r)Dr[$r]=+bt.call(this,nn[$r],$r);else for($r=0;$r<na;++$r)Dr[$r]=bt;if(Br=[],typeof Ht=="function")for($r=0;$r<na;++$r)Br[$r]=+Ht.call(this,nn[$r],$r);else for($r=0;$r<na;++$r)Br[$r]=Ht;if(Xr=[],typeof Gt=="function")for($r=0;$r<Bn;++$r)Xr[$r]=+Gt.call(this,Jr[$r],$r);else for($r=0;$r<Bn;++$r)Xr[$r]=Gt;function Fa(Sa,ka){if(!sa){for(sa=new Array(Bn),li=0;li<Bn;++li)sa[li]=[];for(li=0;li<na;++li){var ri=nn[li];sa[ri.source.index].push(ri.target),sa[ri.target.index].push(ri.source)}}for(var Oi=sa[$r],li=-1,Qn=Oi.length,Na;++li<Qn;)if(!isNaN(Na=Oi[li][Sa]))return Na;return Math.random()*ka}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(rt||(rt=a.behavior.drag().origin(F).on("dragstart.force",vs).on("drag.force",fn).on("dragend.force",xf)),!arguments.length)return rt;this.on("mouseover.force",_l).on("mouseout.force",jo).call(rt)};function fn($r){$r.px=a.event.x,$r.py=a.event.y,ue.resume()}return a.rebind(ue,Le,"on")};function vs(ue){ue.fixed|=2}function xf(ue){ue.fixed&=-7}function _l(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function jo(ue){ue.fixed&=-5}function Pi(ue,Le,Oe){var Qe=0,rt=0;if(ue.charge=0,!ue.leaf)for(var st=ue.nodes,Et=st.length,bt=-1,Ht;++bt<Et;)Ht=st[bt],Ht!=null&&(Pi(Ht,Le,Oe),ue.charge+=Ht.charge,Qe+=Ht.charge*Ht.cx,rt+=Ht.charge*Ht.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var Gt=Le*Oe[ue.point.index];ue.charge+=ue.pointCharge=Gt,Qe+=Gt*ue.point.x,rt+=Gt*ue.point.y}ue.cx=Qe/ue.charge,ue.cy=rt/ue.charge}var bf=20,hh=1,Wu=1/0;a.layout.hierarchy=function(){var ue=Zu,Le=Yu,Oe=Fl;function Qe(rt){var st=[rt],Et=[],bt;for(rt.depth=0;(bt=st.pop())!=null;)if(Et.push(bt),(Gt=Le.call(Qe,bt,bt.depth))&&(Ht=Gt.length)){for(var Ht,Gt,tr;--Ht>=0;)st.push(tr=Gt[Ht]),tr.parent=bt,tr.depth=bt.depth+1;Oe&&(bt.value=0),bt.children=Gt}else Oe&&(bt.value=+Oe.call(Qe,bt,bt.depth)||0),delete bt.children;return Po(rt,function(Cr){var Pr,Jr;ue&&(Pr=Cr.children)&&Pr.sort(ue),Oe&&(Jr=Cr.parent)&&(Jr.value+=Cr.value)}),Et}return Qe.sort=function(rt){return arguments.length?(ue=rt,Qe):ue},Qe.children=function(rt){return arguments.length?(Le=rt,Qe):Le},Qe.value=function(rt){return arguments.length?(Oe=rt,Qe):Oe},Qe.revalue=function(rt){return Oe&&(Ol(rt,function(st){st.children&&(st.value=0)}),Po(rt,function(st){var Et;st.children||(st.value=+Oe.call(Qe,st,st.depth)||0),(Et=st.parent)&&(Et.value+=st.value)})),rt},Qe};function zl(ue,Le){return a.rebind(ue,Le,"sort","children","value"),ue.nodes=ue,ue.links=vh,ue}function Ol(ue,Le){for(var Oe=[ue];(ue=Oe.pop())!=null;)if(Le(ue),(rt=ue.children)&&(Qe=rt.length))for(var Qe,rt;--Qe>=0;)Oe.push(rt[Qe])}function Po(ue,Le){for(var Oe=[ue],Qe=[];(ue=Oe.pop())!=null;)if(Qe.push(ue),(Et=ue.children)&&(st=Et.length))for(var rt=-1,st,Et;++rt<st;)Oe.push(Et[rt]);for(;(ue=Qe.pop())!=null;)Le(ue)}function Yu(ue){return ue.children}function Fl(ue){return ue.value}function Zu(ue,Le){return Le.value-ue.value}function vh(ue){return a.merge(ue.map(function(Le){return(Le.children||[]).map(function(Oe){return{source:Le,target:Oe}})}))}a.layout.partition=function(){var ue=a.layout.hierarchy(),Le=[1,1];function Oe(st,Et,bt,Ht){var Gt=st.children;if(st.x=Et,st.y=st.depth*Ht,st.dx=bt,st.dy=Ht,Gt&&(Cr=Gt.length)){var tr=-1,Cr,Pr,Jr;for(bt=st.value?bt/st.value:0;++tr<Cr;)Oe(Pr=Gt[tr],Et,Jr=Pr.value*bt,Ht),Et+=Jr}}function Qe(st){var Et=st.children,bt=0;if(Et&&(Gt=Et.length))for(var Ht=-1,Gt;++Ht<Gt;)bt=Math.max(bt,Qe(Et[Ht]));return 1+bt}function rt(st,Et){var bt=ue.call(this,st,Et);return Oe(bt[0],0,Le[0],Le[1]/Qe(bt[0])),bt}return rt.size=function(st){return arguments.length?(Le=st,rt):Le},zl(rt,ue)},a.layout.pie=function(){var ue=Number,Le=oc,Oe=0,Qe=Ue,rt=0;function st(Et){var bt=Et.length,Ht=Et.map(function(ln,fn){return+ue.call(st,ln,fn)}),Gt=+(typeof Oe=="function"?Oe.apply(this,arguments):Oe),tr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-Gt,Cr=Math.min(Math.abs(tr)/bt,+(typeof rt=="function"?rt.apply(this,arguments):rt)),Pr=Cr*(tr<0?-1:1),Jr=a.sum(Ht),nn=Jr?(tr-bt*Pr)/Jr:0,Dr=a.range(bt),Br=[],Xr;return Le!=null&&Dr.sort(Le===oc?function(ln,fn){return Ht[fn]-Ht[ln]}:function(ln,fn){return Le(Et[ln],Et[fn])}),Dr.forEach(function(ln){Br[ln]={data:Et[ln],value:Xr=Ht[ln],startAngle:Gt,endAngle:Gt+=Xr*nn+Pr,padAngle:Cr}}),Br}return st.value=function(Et){return arguments.length?(ue=Et,st):ue},st.sort=function(Et){return arguments.length?(Le=Et,st):Le},st.startAngle=function(Et){return arguments.length?(Oe=Et,st):Oe},st.endAngle=function(Et){return arguments.length?(Qe=Et,st):Qe},st.padAngle=function(Et){return arguments.length?(rt=Et,st):rt},st};var oc={};a.layout.stack=function(){var ue=F,Le=uu,Oe=ju,Qe=Af,rt=wf,st=Tf;function Et(bt,Ht){if(!(nn=bt.length))return bt;var Gt=bt.map(function(ln,fn){return ue.call(Et,ln,fn)}),tr=Gt.map(function(ln){return ln.map(function(fn,$r){return[rt.call(Et,fn,$r),st.call(Et,fn,$r)]})}),Cr=Le.call(Et,tr,Ht);Gt=a.permute(Gt,Cr),tr=a.permute(tr,Cr);var Pr=Oe.call(Et,tr,Ht),Jr=Gt[0].length,nn,Dr,Br,Xr;for(Br=0;Br<Jr;++Br)for(Qe.call(Et,Gt[0][Br],Xr=Pr[Br],tr[0][Br][1]),Dr=1;Dr<nn;++Dr)Qe.call(Et,Gt[Dr][Br],Xr+=tr[Dr-1][Br][1],tr[Dr][Br][1]);return bt}return Et.values=function(bt){return arguments.length?(ue=bt,Et):ue},Et.order=function(bt){return arguments.length?(Le=typeof bt=="function"?bt:Bl.get(bt)||uu,Et):Le},Et.offset=function(bt){return arguments.length?(Oe=typeof bt=="function"?bt:Xu.get(bt)||ju,Et):Oe},Et.x=function(bt){return arguments.length?(rt=bt,Et):rt},Et.y=function(bt){return arguments.length?(st=bt,Et):st},Et.out=function(bt){return arguments.length?(Qe=bt,Et):Qe},Et};function wf(ue){return ue.x}function Tf(ue){return ue.y}function Af(ue,Le,Oe){ue.y0=Le,ue.y=Oe}var Bl=a.map({"inside-out":function(ue){var Le=ue.length,Oe,Qe,rt=ue.map(di),st=ue.map(sc),Et=a.range(Le).sort(function(Cr,Pr){return rt[Cr]-rt[Pr]}),bt=0,Ht=0,Gt=[],tr=[];for(Oe=0;Oe<Le;++Oe)Qe=Et[Oe],bt<Ht?(bt+=st[Qe],Gt.push(Qe)):(Ht+=st[Qe],tr.push(Qe));return tr.reverse().concat(Gt)},reverse:function(ue){return a.range(ue.length).reverse()},default:uu}),Xu=a.map({silhouette:function(ue){var Le=ue.length,Oe=ue[0].length,Qe=[],rt=0,st,Et,bt,Ht=[];for(Et=0;Et<Oe;++Et){for(st=0,bt=0;st<Le;st++)bt+=ue[st][Et][1];bt>rt&&(rt=bt),Qe.push(bt)}for(Et=0;Et<Oe;++Et)Ht[Et]=(rt-Qe[Et])/2;return Ht},wiggle:function(ue){var Le=ue.length,Oe=ue[0],Qe=Oe.length,rt,st,Et,bt,Ht,Gt,tr,Cr,Pr,Jr=[];for(Jr[0]=Cr=Pr=0,st=1;st<Qe;++st){for(rt=0,bt=0;rt<Le;++rt)bt+=ue[rt][st][1];for(rt=0,Ht=0,tr=Oe[st][0]-Oe[st-1][0];rt<Le;++rt){for(Et=0,Gt=(ue[rt][st][1]-ue[rt][st-1][1])/(2*tr);Et<rt;++Et)Gt+=(ue[Et][st][1]-ue[Et][st-1][1])/tr;Ht+=Gt*ue[rt][st][1]}Jr[st]=Cr-=bt?Ht/bt*tr:0,Cr<Pr&&(Pr=Cr)}for(st=0;st<Qe;++st)Jr[st]-=Pr;return Jr},expand:function(ue){var Le=ue.length,Oe=ue[0].length,Qe=1/Le,rt,st,Et,bt=[];for(st=0;st<Oe;++st){for(rt=0,Et=0;rt<Le;rt++)Et+=ue[rt][st][1];if(Et)for(rt=0;rt<Le;rt++)ue[rt][st][1]/=Et;else for(rt=0;rt<Le;rt++)ue[rt][st][1]=Qe}for(st=0;st<Oe;++st)bt[st]=0;return bt},zero:ju});function uu(ue){return a.range(ue.length)}function ju(ue){for(var Le=-1,Oe=ue[0].length,Qe=[];++Le<Oe;)Qe[Le]=0;return Qe}function di(ue){for(var Le=1,Oe=0,Qe=ue[0][1],rt,st=ue.length;Le<st;++Le)(rt=ue[Le][1])>Qe&&(Oe=Le,Qe=rt);return Oe}function sc(ue){return ue.reduce(Ko,0)}function Ko(ue,Le){return ue+Le[1]}a.layout.histogram=function(){var ue=!0,Le=Number,Oe=sl,Qe=lc;function rt(st,Pr){for(var bt=[],Ht=st.map(Le,this),Gt=Oe.call(this,Ht,Pr),tr=Qe.call(this,Gt,Ht,Pr),Cr,Pr=-1,Jr=Ht.length,nn=tr.length-1,Dr=ue?1:1/Jr,Br;++Pr<nn;)Cr=bt[Pr]=[],Cr.dx=tr[Pr+1]-(Cr.x=tr[Pr]),Cr.y=0;if(nn>0)for(Pr=-1;++Pr<Jr;)Br=Ht[Pr],Br>=Gt[0]&&Br<=Gt[1]&&(Cr=bt[a.bisect(tr,Br,1,nn)-1],Cr.y+=Dr,Cr.push(st[Pr]));return bt}return rt.value=function(st){return arguments.length?(Le=st,rt):Le},rt.range=function(st){return arguments.length?(Oe=tn(st),rt):Oe},rt.bins=function(st){return arguments.length?(Qe=typeof st=="number"?function(Et){return Mf(Et,st)}:tn(st),rt):Qe},rt.frequency=function(st){return arguments.length?(ue=!!st,rt):ue},rt};function lc(ue,Le){return Mf(ue,Math.ceil(Math.log(Le.length)/Math.LN2+1))}function Mf(ue,Le){for(var Oe=-1,Qe=+ue[0],rt=(ue[1]-Qe)/Le,st=[];++Oe<=Le;)st[Oe]=rt*Oe+Qe;return st}function sl(ue){return[a.min(ue),a.max(ue)]}a.layout.pack=function(){var ue=a.layout.hierarchy().sort(Vs),Le=0,Oe=[1,1],Qe;function rt(st,Et){var bt=ue.call(this,st,Et),Ht=bt[0],Gt=Oe[0],tr=Oe[1],Cr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Ht.x=Ht.y=0,Po(Ht,function(Jr){Jr.r=+Cr(Jr.value)}),Po(Ht,Jo),Le){var Pr=Le*(Qe?1:Math.max(2*Ht.r/Gt,2*Ht.r/tr))/2;Po(Ht,function(Jr){Jr.r+=Pr}),Po(Ht,Jo),Po(Ht,function(Jr){Jr.r-=Pr})}return Gs(Ht,Gt/2,tr/2,Qe?1:1/Math.max(2*Ht.r/Gt,2*Ht.r/tr)),bt}return rt.size=function(st){return arguments.length?(Oe=st,rt):Oe},rt.radius=function(st){return arguments.length?(Qe=st==null||typeof st=="function"?st:+st,rt):Qe},rt.padding=function(st){return arguments.length?(Le=+st,rt):Le},zl(rt,ue)};function Vs(ue,Le){return ue.value-Le.value}function Ku(ue,Le){var Oe=ue._pack_next;ue._pack_next=Le,Le._pack_prev=ue,Le._pack_next=Oe,Oe._pack_prev=Le}function ki(ue,Le){ue._pack_next=Le,Le._pack_prev=ue}function fu(ue,Le){var Oe=Le.x-ue.x,Qe=Le.y-ue.y,rt=ue.r+Le.r;return .999*rt*rt>Oe*Oe+Qe*Qe}function Jo(ue){if(!(Le=ue.children)||!(Pr=Le.length))return;var Le,Oe=1/0,Qe=-1/0,rt=1/0,st=-1/0,Et,bt,Ht,Gt,tr,Cr,Pr;function Jr($r){Oe=Math.min($r.x-$r.r,Oe),Qe=Math.max($r.x+$r.r,Qe),rt=Math.min($r.y-$r.r,rt),st=Math.max($r.y+$r.r,st)}if(Le.forEach(Cs),Et=Le[0],Et.x=-Et.r,Et.y=0,Jr(Et),Pr>1&&(bt=Le[1],bt.x=bt.r,bt.y=0,Jr(bt),Pr>2))for(Ht=Le[2],Qo(Et,bt,Ht),Jr(Ht),Ku(Et,Ht),Et._pack_prev=Ht,Ku(Ht,bt),bt=Et._pack_next,Gt=3;Gt<Pr;Gt++){Qo(Et,bt,Ht=Le[Gt]);var nn=0,Dr=1,Br=1;for(tr=bt._pack_next;tr!==bt;tr=tr._pack_next,Dr++)if(fu(tr,Ht)){nn=1;break}if(nn==1)for(Cr=Et._pack_prev;Cr!==tr._pack_prev&&!fu(Cr,Ht);Cr=Cr._pack_prev,Br++);nn?(Dr<Br||Dr==Br&&bt.r<Et.r?ki(Et,bt=tr):ki(Et=Cr,bt),Gt--):(Ku(Et,Ht),bt=Ht,Jr(Ht))}var Xr=(Oe+Qe)/2,ln=(rt+st)/2,fn=0;for(Gt=0;Gt<Pr;Gt++)Ht=Le[Gt],Ht.x-=Xr,Ht.y-=ln,fn=Math.max(fn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));ue.r=fn,Le.forEach(ll)}function Cs(ue){ue._pack_next=ue._pack_prev=ue}function ll(ue){delete ue._pack_next,delete ue._pack_prev}function Gs(ue,Le,Oe,Qe){var rt=ue.children;if(ue.x=Le+=Qe*ue.x,ue.y=Oe+=Qe*ue.y,ue.r*=Qe,rt)for(var st=-1,Et=rt.length;++st<Et;)Gs(rt[st],Le,Oe,Qe)}function Qo(ue,Le,Oe){var Qe=ue.r+Oe.r,rt=Le.x-ue.x,st=Le.y-ue.y;if(Qe&&(rt||st)){var Et=Le.r+Oe.r,bt=rt*rt+st*st;Et*=Et,Qe*=Qe;var Ht=.5+(Qe-Et)/(2*bt),Gt=Math.sqrt(Math.max(0,2*Et*(Qe+bt)-(Qe-=bt)*Qe-Et*Et))/(2*bt);Oe.x=ue.x+Ht*rt+Gt*st,Oe.y=ue.y+Ht*st-Gt*rt}else Oe.x=ue.x+Qe,Oe.y=ue.y}a.layout.tree=function(){var ue=a.layout.hierarchy().sort(null).value(null),Le=Ls,Oe=[1,1],Qe=null;function rt(tr,Cr){var Pr=ue.call(this,tr,Cr),Jr=Pr[0],nn=st(Jr);if(Po(nn,Et),nn.parent.m=-nn.z,Ol(nn,bt),Qe)Ol(Jr,Gt);else{var Dr=Jr,Br=Jr,Xr=Jr;Ol(Jr,function(Bn){Bn.x<Dr.x&&(Dr=Bn),Bn.x>Br.x&&(Br=Bn),Bn.depth>Xr.depth&&(Xr=Bn)});var ln=Le(Dr,Br)/2-Dr.x,fn=Oe[0]/(Br.x+Le(Br,Dr)/2+ln),$r=Oe[1]/(Xr.depth||1);Ol(Jr,function(Bn){Bn.x=(Bn.x+ln)*fn,Bn.y=Bn.depth*$r})}return Pr}function st(tr){for(var Cr={A:null,children:[tr]},Pr=[Cr],Jr;(Jr=Pr.pop())!=null;)for(var nn=Jr.children,Dr,Br=0,Xr=nn.length;Br<Xr;++Br)Pr.push((nn[Br]=Dr={_:nn[Br],parent:Jr,children:(Dr=nn[Br].children)&&Dr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Br}).a=Dr);return Cr.children[0]}function Et(tr){var Cr=tr.children,Pr=tr.parent.children,Jr=tr.i?Pr[tr.i-1]:null;if(Cr.length){dh(tr);var nn=(Cr[0].z+Cr[Cr.length-1].z)/2;Jr?(tr.z=Jr.z+Le(tr._,Jr._),tr.m=tr.z-nn):tr.z=nn}else Jr&&(tr.z=Jr.z+Le(tr._,Jr._));tr.parent.A=Ht(tr,Jr,tr.parent.A||Pr[0])}function bt(tr){tr._.x=tr.z+tr.parent.m,tr.m+=tr.parent.m}function Ht(tr,Cr,Pr){if(Cr){for(var Jr=tr,nn=tr,Dr=Cr,Br=Jr.parent.children[0],Xr=Jr.m,ln=nn.m,fn=Dr.m,$r=Br.m,Bn;Dr=Uo(Dr),Jr=$o(Jr),Dr&&Jr;)Br=$o(Br),nn=Uo(nn),nn.a=tr,Bn=Dr.z+fn-Jr.z-Xr+Le(Dr._,Jr._),Bn>0&&(cu(ph(Dr,tr,Pr),tr,Bn),Xr+=Bn,ln+=Bn),fn+=Dr.m,Xr+=Jr.m,$r+=Br.m,ln+=nn.m;Dr&&!Uo(nn)&&(nn.t=Dr,nn.m+=fn-ln),Jr&&!$o(Br)&&(Br.t=Jr,Br.m+=Xr-$r,Pr=tr)}return Pr}function Gt(tr){tr.x*=Oe[0],tr.y=tr.depth*Oe[1]}return rt.separation=function(tr){return arguments.length?(Le=tr,rt):Le},rt.size=function(tr){return arguments.length?(Qe=(Oe=tr)==null?Gt:null,rt):Qe?null:Oe},rt.nodeSize=function(tr){return arguments.length?(Qe=(Oe=tr)==null?null:Gt,rt):Qe?Oe:null},zl(rt,ue)};function Ls(ue,Le){return ue.parent==Le.parent?1:2}function $o(ue){var Le=ue.children;return Le.length?Le[0]:ue.t}function Uo(ue){var Le=ue.children,Oe;return(Oe=Le.length)?Le[Oe-1]:ue.t}function cu(ue,Le,Oe){var Qe=Oe/(Le.i-ue.i);Le.c-=Qe,Le.s+=Oe,ue.c+=Qe,Le.z+=Oe,Le.m+=Oe}function dh(ue){for(var Le=0,Oe=0,Qe=ue.children,rt=Qe.length,st;--rt>=0;)st=Qe[rt],st.z+=Le,st.m+=Le,Le+=st.s+(Oe+=st.c)}function ph(ue,Le,Oe){return ue.a.parent===Le.parent?ue.a:Oe}a.layout.cluster=function(){var ue=a.layout.hierarchy().sort(null).value(null),Le=Ls,Oe=[1,1],Qe=!1;function rt(st,Et){var bt=ue.call(this,st,Et),Ht=bt[0],Gt,tr=0;Po(Ht,function(Dr){var Br=Dr.children;Br&&Br.length?(Dr.x=yh(Br),Dr.y=gh(Br)):(Dr.x=Gt?tr+=Le(Dr,Gt):0,Dr.y=0,Gt=Dr)});var Cr=Sf(Ht),Pr=uc(Ht),Jr=Cr.x-Le(Cr,Pr)/2,nn=Pr.x+Le(Pr,Cr)/2;return Po(Ht,Qe?function(Dr){Dr.x=(Dr.x-Ht.x)*Oe[0],Dr.y=(Ht.y-Dr.y)*Oe[1]}:function(Dr){Dr.x=(Dr.x-Jr)/(nn-Jr)*Oe[0],Dr.y=(1-(Ht.y?Dr.y/Ht.y:1))*Oe[1]}),bt}return rt.separation=function(st){return arguments.length?(Le=st,rt):Le},rt.size=function(st){return arguments.length?(Qe=(Oe=st)==null,rt):Qe?null:Oe},rt.nodeSize=function(st){return arguments.length?(Qe=(Oe=st)!=null,rt):Qe?Oe:null},zl(rt,ue)};function gh(ue){return 1+a.max(ue,function(Le){return Le.y})}function yh(ue){return ue.reduce(function(Le,Oe){return Le+Oe.x},0)/ue.length}function Sf(ue){var Le=ue.children;return Le&&Le.length?Sf(Le[0]):ue}function uc(ue){var Le=ue.children,Oe;return Le&&(Oe=Le.length)?uc(Le[Oe-1]):ue}a.layout.treemap=function(){var ue=a.layout.hierarchy(),Le=Math.round,Oe=[1,1],Qe=null,rt=Nl,st=!1,Et,bt="squarify",Ht=.5*(1+Math.sqrt(5));function Gt(Dr,Br){for(var Xr=-1,ln=Dr.length,fn,$r;++Xr<ln;)$r=(fn=Dr[Xr]).value*(Br<0?0:Br),fn.area=isNaN($r)||$r<=0?0:$r}function tr(Dr){var Br=Dr.children;if(Br&&Br.length){var Xr=rt(Dr),ln=[],fn=Br.slice(),$r,Bn=1/0,na,ca=bt==="slice"?Xr.dx:bt==="dice"?Xr.dy:bt==="slice-dice"?Dr.depth&1?Xr.dy:Xr.dx:Math.min(Xr.dx,Xr.dy),ta;for(Gt(fn,Xr.dx*Xr.dy/Dr.value),ln.area=0;(ta=fn.length)>0;)ln.push($r=fn[ta-1]),ln.area+=$r.area,bt!=="squarify"||(na=Pr(ln,ca))<=Bn?(fn.pop(),Bn=na):(ln.area-=ln.pop().area,Jr(ln,ca,Xr,!1),ca=Math.min(Xr.dx,Xr.dy),ln.length=ln.area=0,Bn=1/0);ln.length&&(Jr(ln,ca,Xr,!0),ln.length=ln.area=0),Br.forEach(tr)}}function Cr(Dr){var Br=Dr.children;if(Br&&Br.length){var Xr=rt(Dr),ln=Br.slice(),fn,$r=[];for(Gt(ln,Xr.dx*Xr.dy/Dr.value),$r.area=0;fn=ln.pop();)$r.push(fn),$r.area+=fn.area,fn.z!=null&&(Jr($r,fn.z?Xr.dx:Xr.dy,Xr,!ln.length),$r.length=$r.area=0);Br.forEach(Cr)}}function Pr(Dr,Br){for(var Xr=Dr.area,ln,fn=0,$r=1/0,Bn=-1,na=Dr.length;++Bn<na;)(ln=Dr[Bn].area)&&(ln<$r&&($r=ln),ln>fn&&(fn=ln));return Xr*=Xr,Br*=Br,Xr?Math.max(Br*fn*Ht/Xr,Xr/(Br*$r*Ht)):1/0}function Jr(Dr,Br,Xr,ln){var fn=-1,$r=Dr.length,Bn=Xr.x,na=Xr.y,ca=Br?Le(Dr.area/Br):0,ta;if(Br==Xr.dx){for((ln||ca>Xr.dy)&&(ca=Xr.dy);++fn<$r;)ta=Dr[fn],ta.x=Bn,ta.y=na,ta.dy=ca,Bn+=ta.dx=Math.min(Xr.x+Xr.dx-Bn,ca?Le(ta.area/ca):0);ta.z=!0,ta.dx+=Xr.x+Xr.dx-Bn,Xr.y+=ca,Xr.dy-=ca}else{for((ln||ca>Xr.dx)&&(ca=Xr.dx);++fn<$r;)ta=Dr[fn],ta.x=Bn,ta.y=na,ta.dx=ca,na+=ta.dy=Math.min(Xr.y+Xr.dy-na,ca?Le(ta.area/ca):0);ta.z=!1,ta.dy+=Xr.y+Xr.dy-na,Xr.x+=ca,Xr.dx-=ca}}function nn(Dr){var Br=Et||ue(Dr),Xr=Br[0];return Xr.x=Xr.y=0,Xr.value?(Xr.dx=Oe[0],Xr.dy=Oe[1]):Xr.dx=Xr.dy=0,Et&&ue.revalue(Xr),Gt([Xr],Xr.dx*Xr.dy/Xr.value),(Et?Cr:tr)(Xr),st&&(Et=Br),Br}return nn.size=function(Dr){return arguments.length?(Oe=Dr,nn):Oe},nn.padding=function(Dr){if(!arguments.length)return Qe;function Br(fn){var $r=Dr.call(nn,fn,fn.depth);return $r==null?Nl(fn):Ji(fn,typeof $r=="number"?[$r,$r,$r,$r]:$r)}function Xr(fn){return Ji(fn,Dr)}var ln;return rt=(Qe=Dr)==null?Nl:(ln=typeof Dr)=="function"?Br:(ln==="number"&&(Dr=[Dr,Dr,Dr,Dr]),Xr),nn},nn.round=function(Dr){return arguments.length?(Le=Dr?Math.round:Number,nn):Le!=Number},nn.sticky=function(Dr){return arguments.length?(st=Dr,Et=null,nn):st},nn.ratio=function(Dr){return arguments.length?(Ht=Dr,nn):Ht},nn.mode=function(Dr){return arguments.length?(bt=Dr+"",nn):bt},zl(nn,ue)};function Nl(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function Ji(ue,Le){var Oe=ue.x+Le[3],Qe=ue.y+Le[0],rt=ue.dx-Le[1]-Le[3],st=ue.dy-Le[0]-Le[2];return rt<0&&(Oe+=rt/2,rt=0),st<0&&(Qe+=st/2,st=0),{x:Oe,y:Qe,dx:rt,dy:st}}a.random={normal:function(ue,Le){var Oe=arguments.length;return Oe<2&&(Le=1),Oe<1&&(ue=0),function(){var Qe,rt,st;do Qe=Math.random()*2-1,rt=Math.random()*2-1,st=Qe*Qe+rt*rt;while(!st||st>1);return ue+Le*Qe*Math.sqrt(-2*Math.log(st)/st)}},logNormal:function(){var ue=a.random.normal.apply(a,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var Le=a.random.irwinHall(ue);return function(){return Le()/ue}},irwinHall:function(ue){return function(){for(var Le=0,Oe=0;Oe<ue;Oe++)Le+=Math.random();return Le}}},a.scale={};function Oo(ue){var Le=ue[0],Oe=ue[ue.length-1];return Le<Oe?[Le,Oe]:[Oe,Le]}function Ul(ue){return ue.rangeExtent?ue.rangeExtent():Oo(ue.range())}function fc(ue,Le,Oe,Qe){var rt=Oe(ue[0],ue[1]),st=Qe(Le[0],Le[1]);return function(Et){return st(rt(Et))}}function hu(ue,Le){var Oe=0,Qe=ue.length-1,rt=ue[Oe],st=ue[Qe],Et;return st<rt&&(Et=Oe,Oe=Qe,Qe=Et,Et=rt,rt=st,st=Et),ue[Oe]=Le.floor(rt),ue[Qe]=Le.ceil(st),ue}function Ps(ue){return ue?{floor:function(Le){return Math.floor(Le/ue)*ue},ceil:function(Le){return Math.ceil(Le/ue)*ue}}:mh}var mh={floor:F,ceil:F};function cc(ue,Le,Oe,Qe){var rt=[],st=[],Et=0,bt=Math.min(ue.length,Le.length)-1;for(ue[bt]<ue[0]&&(ue=ue.slice().reverse(),Le=Le.slice().reverse());++Et<=bt;)rt.push(Oe(ue[Et-1],ue[Et])),st.push(Qe(Le[Et-1],Le[Et]));return function(Ht){var Gt=a.bisect(ue,Ht,1,bt)-1;return st[Gt](rt[Gt](Ht))}}a.scale.linear=function(){return hc([0,1],[0,1],ro,!1)};function hc(ue,Le,Oe,Qe){var rt,st;function Et(){var Ht=Math.min(ue.length,Le.length)>2?cc:fc,Gt=Qe?kl:Xo;return rt=Ht(ue,Le,Gt,Oe),st=Ht(Le,ue,Gt,ro),bt}function bt(Ht){return rt(Ht)}return bt.invert=function(Ht){return st(Ht)},bt.domain=function(Ht){return arguments.length?(ue=Ht.map(Number),Et()):ue},bt.range=function(Ht){return arguments.length?(Le=Ht,Et()):Le},bt.rangeRound=function(Ht){return bt.range(Ht).interpolate(rc)},bt.clamp=function(Ht){return arguments.length?(Qe=Ht,Et()):Qe},bt.interpolate=function(Ht){return arguments.length?(Oe=Ht,Et()):Oe},bt.ticks=function(Ht){return qo(ue,Ht)},bt.tickFormat=function(Ht,Gt){return d3_scale_linearTickFormat(ue,Ht,Gt)},bt.nice=function(Ht){return vc(ue,Ht),Et()},bt.copy=function(){return hc(ue,Le,Oe,Qe)},Et()}function Ef(ue,Le){return a.rebind(ue,Le,"range","rangeRound","interpolate","clamp")}function vc(ue,Le){return hu(ue,Ps(bo(ue,Le)[2])),hu(ue,Ps(bo(ue,Le)[2])),ue}function bo(ue,Le){Le==null&&(Le=10);var Oe=Oo(ue),Qe=Oe[1]-Oe[0],rt=Math.pow(10,Math.floor(Math.log(Qe/Le)/Math.LN10)),st=Le/Qe*rt;return st<=.15?rt*=10:st<=.35?rt*=5:st<=.75&&(rt*=2),Oe[0]=Math.ceil(Oe[0]/rt)*rt,Oe[1]=Math.floor(Oe[1]/rt)*rt+rt*.5,Oe[2]=rt,Oe}function qo(ue,Le){return a.range.apply(a,bo(ue,Le))}a.scale.log=function(){return Ws(a.scale.linear().domain([0,1]),10,!0,[1,10])};function Ws(ue,Le,Oe,Qe){function rt(bt){return(Oe?Math.log(bt<0?0:bt):-Math.log(bt>0?0:-bt))/Math.log(Le)}function st(bt){return Oe?Math.pow(Le,bt):-Math.pow(Le,-bt)}function Et(bt){return ue(rt(bt))}return Et.invert=function(bt){return st(ue.invert(bt))},Et.domain=function(bt){return arguments.length?(Oe=bt[0]>=0,ue.domain((Qe=bt.map(Number)).map(rt)),Et):Qe},Et.base=function(bt){return arguments.length?(Le=+bt,ue.domain(Qe.map(rt)),Et):Le},Et.nice=function(){var bt=hu(Qe.map(rt),Oe?Math:Hl);return ue.domain(bt),Qe=bt.map(st),Et},Et.ticks=function(){var bt=Oo(Qe),Ht=[],Gt=bt[0],tr=bt[1],Cr=Math.floor(rt(Gt)),Pr=Math.ceil(rt(tr)),Jr=Le%1?2:Le;if(isFinite(Pr-Cr)){if(Oe){for(;Cr<Pr;Cr++)for(var nn=1;nn<Jr;nn++)Ht.push(st(Cr)*nn);Ht.push(st(Cr))}else for(Ht.push(st(Cr));Cr++<Pr;)for(var nn=Jr-1;nn>0;nn--)Ht.push(st(Cr)*nn);for(Cr=0;Ht[Cr]<Gt;Cr++);for(Pr=Ht.length;Ht[Pr-1]>tr;Pr--);Ht=Ht.slice(Cr,Pr)}return Ht},Et.copy=function(){return Ws(ue.copy(),Le,Oe,Qe)},Ef(Et,ue)}var Hl={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};a.scale.pow=function(){return Ju(a.scale.linear(),1,[0,1])};function Ju(ue,Le,Oe){var Qe=ul(Le),rt=ul(1/Le);function st(Et){return ue(Qe(Et))}return st.invert=function(Et){return rt(ue.invert(Et))},st.domain=function(Et){return arguments.length?(ue.domain((Oe=Et.map(Number)).map(Qe)),st):Oe},st.ticks=function(Et){return qo(Oe,Et)},st.tickFormat=function(Et,bt){return d3_scale_linearTickFormat(Oe,Et,bt)},st.nice=function(Et){return st.domain(vc(Oe,Et))},st.exponent=function(Et){return arguments.length?(Qe=ul(Le=Et),rt=ul(1/Le),ue.domain(Oe.map(Qe)),st):Le},st.copy=function(){return Ju(ue.copy(),Le,Oe)},Ef(st,ue)}function ul(ue){return function(Le){return Le<0?-Math.pow(-Le,ue):Math.pow(Le,ue)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return fl([],{t:"range",a:[[]]})};function fl(ue,Le){var Oe,Qe,rt;function st(bt){return Qe[((Oe.get(bt)||(Le.t==="range"?Oe.set(bt,ue.push(bt)):NaN))-1)%Qe.length]}function Et(bt,Ht){return a.range(ue.length).map(function(Gt){return bt+Ht*Gt})}return st.domain=function(bt){if(!arguments.length)return ue;ue=[],Oe=new C;for(var Ht=-1,Gt=bt.length,tr;++Ht<Gt;)Oe.has(tr=bt[Ht])||Oe.set(tr,ue.push(tr));return st[Le.t].apply(st,Le.a)},st.range=function(bt){return arguments.length?(Qe=bt,rt=0,Le={t:"range",a:arguments},st):Qe},st.rangePoints=function(bt,Ht){arguments.length<2&&(Ht=0);var Gt=bt[0],tr=bt[1],Cr=ue.length<2?(Gt=(Gt+tr)/2,0):(tr-Gt)/(ue.length-1+Ht);return Qe=Et(Gt+Cr*Ht/2,Cr),rt=0,Le={t:"rangePoints",a:arguments},st},st.rangeRoundPoints=function(bt,Ht){arguments.length<2&&(Ht=0);var Gt=bt[0],tr=bt[1],Cr=ue.length<2?(Gt=tr=Math.round((Gt+tr)/2),0):(tr-Gt)/(ue.length-1+Ht)|0;return Qe=Et(Gt+Math.round(Cr*Ht/2+(tr-Gt-(ue.length-1+Ht)*Cr)/2),Cr),rt=0,Le={t:"rangeRoundPoints",a:arguments},st},st.rangeBands=function(bt,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var tr=bt[1]<bt[0],Cr=bt[tr-0],Pr=bt[1-tr],Jr=(Pr-Cr)/(ue.length-Ht+2*Gt);return Qe=Et(Cr+Jr*Gt,Jr),tr&&Qe.reverse(),rt=Jr*(1-Ht),Le={t:"rangeBands",a:arguments},st},st.rangeRoundBands=function(bt,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var tr=bt[1]<bt[0],Cr=bt[tr-0],Pr=bt[1-tr],Jr=Math.floor((Pr-Cr)/(ue.length-Ht+2*Gt));return Qe=Et(Cr+Math.round((Pr-Cr-(ue.length-Ht)*Jr)/2),Jr),tr&&Qe.reverse(),rt=Math.round(Jr*(1-Ht)),Le={t:"rangeRoundBands",a:arguments},st},st.rangeBand=function(){return rt},st.rangeExtent=function(){return Oo(Le.a[0])},st.copy=function(){return fl(ue,Le)},st.domain(ue)}a.scale.category10=function(){return a.scale.ordinal().range(dc)},a.scale.category20=function(){return a.scale.ordinal().range(Rs)},a.scale.category20b=function(){return a.scale.ordinal().range(Vl)},a.scale.category20c=function(){return a.scale.ordinal().range(Ys)};var dc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ot),Rs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ot),Vl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ot),Ys=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ot);a.scale.quantile=function(){return Ds([],[])};function Ds(ue,Le){var Oe;function Qe(){var st=0,Et=Le.length;for(Oe=[];++st<Et;)Oe[st-1]=a.quantile(ue,st/Et);return rt}function rt(st){if(!isNaN(st=+st))return Le[a.bisect(Oe,st)]}return rt.domain=function(st){return arguments.length?(ue=st.map(g).filter(f).sort(l),Qe()):ue},rt.range=function(st){return arguments.length?(Le=st,Qe()):Le},rt.quantiles=function(){return Oe},rt.invertExtent=function(st){return st=Le.indexOf(st),st<0?[NaN,NaN]:[st>0?Oe[st-1]:ue[0],st<Oe.length?Oe[st]:ue[ue.length-1]]},rt.copy=function(){return Ds(ue,Le)},Qe()}a.scale.quantize=function(){return vu(0,1,[0,1])};function vu(ue,Le,Oe){var Qe,rt;function st(bt){return Oe[Math.max(0,Math.min(rt,Math.floor(Qe*(bt-ue))))]}function Et(){return Qe=Oe.length/(Le-ue),rt=Oe.length-1,st}return st.domain=function(bt){return arguments.length?(ue=+bt[0],Le=+bt[bt.length-1],Et()):[ue,Le]},st.range=function(bt){return arguments.length?(Oe=bt,Et()):Oe},st.invertExtent=function(bt){return bt=Oe.indexOf(bt),bt=bt<0?NaN:bt/Qe+ue,[bt,bt+1/Qe]},st.copy=function(){return vu(ue,Le,Oe)},Et()}a.scale.threshold=function(){return Gl([.5],[0,1])};function Gl(ue,Le){function Oe(Qe){if(Qe<=Qe)return Le[a.bisect(ue,Qe)]}return Oe.domain=function(Qe){return arguments.length?(ue=Qe,Oe):ue},Oe.range=function(Qe){return arguments.length?(Le=Qe,Oe):Le},Oe.invertExtent=function(Qe){return Qe=Le.indexOf(Qe),[ue[Qe-1],ue[Qe]]},Oe.copy=function(){return Gl(ue,Le)},Oe}a.scale.identity=function(){return fi([0,1])};function fi(ue){function Le(Oe){return+Oe}return Le.invert=Le,Le.domain=Le.range=function(Oe){return arguments.length?(ue=Oe.map(Le),Le):ue},Le.ticks=function(Oe){return qo(ue,Oe)},Le.tickFormat=function(Oe,Qe){return d3_scale_linearTickFormat(ue,Oe,Qe)},Le.copy=function(){return fi(ue)},Le}a.svg={};function Wl(){return 0}a.svg.arc=function(){var ue=pc,Le=Yl,Oe=Wl,Qe=Qu,rt=du,st=$u,Et=Cf;function bt(){var Gt=Math.max(0,+ue.apply(this,arguments)),tr=Math.max(0,+Le.apply(this,arguments)),Cr=rt.apply(this,arguments)-tt,Pr=st.apply(this,arguments)-tt,Jr=Math.abs(Pr-Cr),nn=Cr>Pr?0:1;if(tr<Gt&&(Dr=tr,tr=Gt,Gt=Dr),Jr>=Ze)return Ht(tr,nn)+(Gt?Ht(Gt,1-nn):"")+"Z";var Dr,Br,Xr,ln,fn=0,$r=0,Bn,na,ca,ta,sa,ha,Fa,Sa,ka=[];if((ln=(+Et.apply(this,arguments)||0)/2)&&(Xr=Qe===Qu?Math.sqrt(Gt*Gt+tr*tr):+Qe.apply(this,arguments),nn||($r*=-1),tr&&($r=Jt(Xr/tr*Math.sin(ln))),Gt&&(fn=Jt(Xr/Gt*Math.sin(ln)))),tr){Bn=tr*Math.cos(Cr+$r),na=tr*Math.sin(Cr+$r),ca=tr*Math.cos(Pr-$r),ta=tr*Math.sin(Pr-$r);var ri=Math.abs(Pr-Cr-2*$r)<=Ae?0:1;if($r&&pu(Bn,na,ca,ta)===nn^ri){var Oi=(Cr+Pr)/2;Bn=tr*Math.cos(Oi),na=tr*Math.sin(Oi),ca=ta=null}}else Bn=na=0;if(Gt){sa=Gt*Math.cos(Pr-fn),ha=Gt*Math.sin(Pr-fn),Fa=Gt*Math.cos(Cr+fn),Sa=Gt*Math.sin(Cr+fn);var li=Math.abs(Cr-Pr+2*fn)<=Ae?0:1;if(fn&&pu(sa,ha,Fa,Sa)===1-nn^li){var Qn=(Cr+Pr)/2;sa=Gt*Math.cos(Qn),ha=Gt*Math.sin(Qn),Fa=Sa=null}}else sa=ha=0;if(Jr>ge&&(Dr=Math.min(Math.abs(tr-Gt)/2,+Oe.apply(this,arguments)))>.001){Br=Gt<tr^nn?0:1;var Na=Dr,Aa=Dr;if(Jr<Ae){var Xa=Fa==null?[sa,ha]:ca==null?[Bn,na]:dn([Bn,na],[Fa,Sa],[ca,ta],[sa,ha]),xi=Bn-Xa[0],ni=na-Xa[1],Qi=ca-Xa[0],$i=ta-Xa[1],no=1/Math.sin(Math.acos((xi*Qi+ni*$i)/(Math.sqrt(xi*xi+ni*ni)*Math.sqrt(Qi*Qi+$i*$i)))/2),bi=Math.sqrt(Xa[0]*Xa[0]+Xa[1]*Xa[1]);Aa=Math.min(Dr,(Gt-bi)/(no-1)),Na=Math.min(Dr,(tr-bi)/(no+1))}if(ca!=null){var po=gu(Fa==null?[sa,ha]:[Fa,Sa],[Bn,na],tr,Na,nn),ua=gu([ca,ta],[sa,ha],tr,Na,nn);Dr===Na?ka.push("M",po[0],"A",Na,",",Na," 0 0,",Br," ",po[1],"A",tr,",",tr," 0 ",1-nn^pu(po[1][0],po[1][1],ua[1][0],ua[1][1]),",",nn," ",ua[1],"A",Na,",",Na," 0 0,",Br," ",ua[0]):ka.push("M",po[0],"A",Na,",",Na," 0 1,",Br," ",ua[0])}else ka.push("M",Bn,",",na);if(Fa!=null){var Ca=gu([Bn,na],[Fa,Sa],Gt,-Aa,nn),Do=gu([sa,ha],ca==null?[Bn,na]:[ca,ta],Gt,-Aa,nn);Dr===Aa?ka.push("L",Do[0],"A",Aa,",",Aa," 0 0,",Br," ",Do[1],"A",Gt,",",Gt," 0 ",nn^pu(Do[1][0],Do[1][1],Ca[1][0],Ca[1][1]),",",1-nn," ",Ca[1],"A",Aa,",",Aa," 0 0,",Br," ",Ca[0]):ka.push("L",Do[0],"A",Aa,",",Aa," 0 0,",Br," ",Ca[0])}else ka.push("L",sa,",",ha)}else ka.push("M",Bn,",",na),ca!=null&&ka.push("A",tr,",",tr," 0 ",ri,",",nn," ",ca,",",ta),ka.push("L",sa,",",ha),Fa!=null&&ka.push("A",Gt,",",Gt," 0 ",li,",",1-nn," ",Fa,",",Sa);return ka.push("Z"),ka.join("")}function Ht(Gt,tr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+tr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+tr+" 0,"+Gt}return bt.innerRadius=function(Gt){return arguments.length?(ue=tn(Gt),bt):ue},bt.outerRadius=function(Gt){return arguments.length?(Le=tn(Gt),bt):Le},bt.cornerRadius=function(Gt){return arguments.length?(Oe=tn(Gt),bt):Oe},bt.padRadius=function(Gt){return arguments.length?(Qe=Gt==Qu?Qu:tn(Gt),bt):Qe},bt.startAngle=function(Gt){return arguments.length?(rt=tn(Gt),bt):rt},bt.endAngle=function(Gt){return arguments.length?(st=tn(Gt),bt):st},bt.padAngle=function(Gt){return arguments.length?(Et=tn(Gt),bt):Et},bt.centroid=function(){var Gt=(+ue.apply(this,arguments)+ +Le.apply(this,arguments))/2,tr=(+rt.apply(this,arguments)+ +st.apply(this,arguments))/2-tt;return[Math.cos(tr)*Gt,Math.sin(tr)*Gt]},bt};var Qu="auto";function pc(ue){return ue.innerRadius}function Yl(ue){return ue.outerRadius}function du(ue){return ue.startAngle}function $u(ue){return ue.endAngle}function Cf(ue){return ue&&ue.padAngle}function pu(ue,Le,Oe,Qe){return(ue-Oe)*Le-(Le-Qe)*ue>0?0:1}function gu(ue,Le,Oe,Qe,rt){var st=ue[0]-Le[0],Et=ue[1]-Le[1],bt=(rt?Qe:-Qe)/Math.sqrt(st*st+Et*Et),Ht=bt*Et,Gt=-bt*st,tr=ue[0]+Ht,Cr=ue[1]+Gt,Pr=Le[0]+Ht,Jr=Le[1]+Gt,nn=(tr+Pr)/2,Dr=(Cr+Jr)/2,Br=Pr-tr,Xr=Jr-Cr,ln=Br*Br+Xr*Xr,fn=Oe-Qe,$r=tr*Jr-Pr*Cr,Bn=(Xr<0?-1:1)*Math.sqrt(Math.max(0,fn*fn*ln-$r*$r)),na=($r*Xr-Br*Bn)/ln,ca=(-$r*Br-Xr*Bn)/ln,ta=($r*Xr+Br*Bn)/ln,sa=(-$r*Br+Xr*Bn)/ln,ha=na-nn,Fa=ca-Dr,Sa=ta-nn,ka=sa-Dr;return ha*ha+Fa*Fa>Sa*Sa+ka*ka&&(na=ta,ca=sa),[[na-Ht,ca-Gt],[na*Oe/fn,ca*Oe/fn]]}function Zs(){return!0}function yu(ue){var Le=$n,Oe=Yn,Qe=Zs,rt=Vi,st=rt.key,Et=.7;function bt(Ht){var Gt=[],tr=[],Cr=-1,Pr=Ht.length,Jr,nn=tn(Le),Dr=tn(Oe);function Br(){Gt.push("M",rt(ue(tr),Et))}for(;++Cr<Pr;)Qe.call(this,Jr=Ht[Cr],Cr)?tr.push([+nn.call(this,Jr,Cr),+Dr.call(this,Jr,Cr)]):tr.length&&(Br(),tr=[]);return tr.length&&Br(),Gt.length?Gt.join(""):null}return bt.x=function(Ht){return arguments.length?(Le=Ht,bt):Le},bt.y=function(Ht){return arguments.length?(Oe=Ht,bt):Oe},bt.defined=function(Ht){return arguments.length?(Qe=Ht,bt):Qe},bt.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?st=rt=Ht:st=(rt=Xs.get(Ht)||Vi).key,bt):st},bt.tension=function(Ht){return arguments.length?(Et=Ht,bt):Et},bt}a.svg.line=function(){return yu(F)};var Xs=a.map({linear:Vi,"linear-closed":ds,step:Lf,"step-before":cl,"step-after":qu,basis:Zl,"basis-open":yc,"basis-closed":js,bundle:bh,cardinal:gc,"cardinal-open":mu,"cardinal-closed":xh,monotone:tf});Xs.forEach(function(ue,Le){Le.key=ue,Le.closed=/-closed$/.test(ue)});function Vi(ue){return ue.length>1?ue.join("L"):ue+"Z"}function ds(ue){return ue.join("L")+"Z"}function Lf(ue){for(var Le=0,Oe=ue.length,Qe=ue[0],rt=[Qe[0],",",Qe[1]];++Le<Oe;)rt.push("H",(Qe[0]+(Qe=ue[Le])[0])/2,"V",Qe[1]);return Oe>1&&rt.push("H",Qe[0]),rt.join("")}function cl(ue){for(var Le=0,Oe=ue.length,Qe=ue[0],rt=[Qe[0],",",Qe[1]];++Le<Oe;)rt.push("V",(Qe=ue[Le])[1],"H",Qe[0]);return rt.join("")}function qu(ue){for(var Le=0,Oe=ue.length,Qe=ue[0],rt=[Qe[0],",",Qe[1]];++Le<Oe;)rt.push("H",(Qe=ue[Le])[0],"V",Qe[1]);return rt.join("")}function mu(ue,Le){return ue.length<4?Vi(ue):ue[1]+vo(ue.slice(1,-1),xu(ue,Le))}function xh(ue,Le){return ue.length<3?ds(ue):ue[0]+vo((ue.push(ue[0]),ue),xu([ue[ue.length-2]].concat(ue,[ue[1]]),Le))}function gc(ue,Le){return ue.length<3?Vi(ue):ue[0]+vo(ue,xu(ue,Le))}function vo(ue,Le){if(Le.length<1||ue.length!=Le.length&&ue.length!=Le.length+2)return Vi(ue);var Oe=ue.length!=Le.length,Qe="",rt=ue[0],st=ue[1],Et=Le[0],bt=Et,Ht=1;if(Oe&&(Qe+="Q"+(st[0]-Et[0]*2/3)+","+(st[1]-Et[1]*2/3)+","+st[0]+","+st[1],rt=ue[1],Ht=2),Le.length>1){bt=Le[1],st=ue[Ht],Ht++,Qe+="C"+(rt[0]+Et[0])+","+(rt[1]+Et[1])+","+(st[0]-bt[0])+","+(st[1]-bt[1])+","+st[0]+","+st[1];for(var Gt=2;Gt<Le.length;Gt++,Ht++)st=ue[Ht],bt=Le[Gt],Qe+="S"+(st[0]-bt[0])+","+(st[1]-bt[1])+","+st[0]+","+st[1]}if(Oe){var tr=ue[Ht];Qe+="Q"+(st[0]+bt[0]*2/3)+","+(st[1]+bt[1]*2/3)+","+tr[0]+","+tr[1]}return Qe}function xu(ue,Le){for(var Oe=[],Qe=(1-Le)/2,rt,st=ue[0],Et=ue[1],bt=1,Ht=ue.length;++bt<Ht;)rt=st,st=Et,Et=ue[bt],Oe.push([Qe*(Et[0]-rt[0]),Qe*(Et[1]-rt[1])]);return Oe}function Zl(ue){if(ue.length<3)return Vi(ue);var Le=1,Oe=ue.length,Qe=ue[0],rt=Qe[0],st=Qe[1],Et=[rt,rt,rt,(Qe=ue[1])[0]],bt=[st,st,st,Qe[1]],Ht=[rt,",",st,"L",Ro(Is,Et),",",Ro(Is,bt)];for(ue.push(ue[Oe-1]);++Le<=Oe;)Qe=ue[Le],Et.shift(),Et.push(Qe[0]),bt.shift(),bt.push(Qe[1]),Ks(Ht,Et,bt);return ue.pop(),Ht.push("L",Qe),Ht.join("")}function yc(ue){if(ue.length<4)return Vi(ue);for(var Le=[],Oe=-1,Qe=ue.length,rt,st=[0],Et=[0];++Oe<3;)rt=ue[Oe],st.push(rt[0]),Et.push(rt[1]);for(Le.push(Ro(Is,st)+","+Ro(Is,Et)),--Oe;++Oe<Qe;)rt=ue[Oe],st.shift(),st.push(rt[0]),Et.shift(),Et.push(rt[1]),Ks(Le,st,Et);return Le.join("")}function js(ue){for(var Le,Oe=-1,Qe=ue.length,rt=Qe+4,st,Et=[],bt=[];++Oe<4;)st=ue[Oe%Qe],Et.push(st[0]),bt.push(st[1]);for(Le=[Ro(Is,Et),",",Ro(Is,bt)],--Oe;++Oe<rt;)st=ue[Oe%Qe],Et.shift(),Et.push(st[0]),bt.shift(),bt.push(st[1]),Ks(Le,Et,bt);return Le.join("")}function bh(ue,Le){var Oe=ue.length-1;if(Oe)for(var Qe=ue[0][0],rt=ue[0][1],st=ue[Oe][0]-Qe,Et=ue[Oe][1]-rt,bt=-1,Ht,Gt;++bt<=Oe;)Ht=ue[bt],Gt=bt/Oe,Ht[0]=Le*Ht[0]+(1-Le)*(Qe+Gt*st),Ht[1]=Le*Ht[1]+(1-Le)*(rt+Gt*Et);return Zl(ue)}function Ro(ue,Le){return ue[0]*Le[0]+ue[1]*Le[1]+ue[2]*Le[2]+ue[3]*Le[3]}var bu=[0,2/3,1/3,0],ef=[0,1/3,2/3,0],Is=[0,1/6,2/3,1/6];function Ks(ue,Le,Oe){ue.push("C",Ro(bu,Le),",",Ro(bu,Oe),",",Ro(ef,Le),",",Ro(ef,Oe),",",Ro(Is,Le),",",Ro(Is,Oe))}function Pf(ue,Le){return(Le[1]-ue[1])/(Le[0]-ue[0])}function wu(ue){for(var Le=0,Oe=ue.length-1,Qe=[],rt=ue[0],st=ue[1],Et=Qe[0]=Pf(rt,st);++Le<Oe;)Qe[Le]=(Et+(Et=Pf(rt=st,st=ue[Le+1])))/2;return Qe[Le]=Et,Qe}function Tu(ue){for(var Le=[],Oe,Qe,rt,st,Et=wu(ue),bt=-1,Ht=ue.length-1;++bt<Ht;)Oe=Pf(ue[bt],ue[bt+1]),d(Oe)<ge?Et[bt]=Et[bt+1]=0:(Qe=Et[bt]/Oe,rt=Et[bt+1]/Oe,st=Qe*Qe+rt*rt,st>9&&(st=Oe*3/Math.sqrt(st),Et[bt]=st*Qe,Et[bt+1]=st*rt));for(bt=-1;++bt<=Ht;)st=(ue[Math.min(Ht,bt+1)][0]-ue[Math.max(0,bt-1)][0])/(6*(1+Et[bt]*Et[bt])),Le.push([st||0,Et[bt]*st||0]);return Le}function tf(ue){return ue.length<3?Vi(ue):ue[0]+vo(ue,Tu(ue))}a.svg.line.radial=function(){var ue=yu(mc);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function mc(ue){for(var Le,Oe=-1,Qe=ue.length,rt,st;++Oe<Qe;)Le=ue[Oe],rt=Le[0],st=Le[1]-tt,Le[0]=rt*Math.cos(st),Le[1]=rt*Math.sin(st);return ue}function Au(ue){var Le=$n,Oe=$n,Qe=0,rt=Yn,st=Zs,Et=Vi,bt=Et.key,Ht=Et,Gt="L",tr=.7;function Cr(Pr){var Jr=[],nn=[],Dr=[],Br=-1,Xr=Pr.length,ln,fn=tn(Le),$r=tn(Qe),Bn=Le===Oe?function(){return ca}:tn(Oe),na=Qe===rt?function(){return ta}:tn(rt),ca,ta;function sa(){Jr.push("M",Et(ue(Dr),tr),Gt,Ht(ue(nn.reverse()),tr),"Z")}for(;++Br<Xr;)st.call(this,ln=Pr[Br],Br)?(nn.push([ca=+fn.call(this,ln,Br),ta=+$r.call(this,ln,Br)]),Dr.push([+Bn.call(this,ln,Br),+na.call(this,ln,Br)])):nn.length&&(sa(),nn=[],Dr=[]);return nn.length&&sa(),Jr.length?Jr.join(""):null}return Cr.x=function(Pr){return arguments.length?(Le=Oe=Pr,Cr):Oe},Cr.x0=function(Pr){return arguments.length?(Le=Pr,Cr):Le},Cr.x1=function(Pr){return arguments.length?(Oe=Pr,Cr):Oe},Cr.y=function(Pr){return arguments.length?(Qe=rt=Pr,Cr):rt},Cr.y0=function(Pr){return arguments.length?(Qe=Pr,Cr):Qe},Cr.y1=function(Pr){return arguments.length?(rt=Pr,Cr):rt},Cr.defined=function(Pr){return arguments.length?(st=Pr,Cr):st},Cr.interpolate=function(Pr){return arguments.length?(typeof Pr=="function"?bt=Et=Pr:bt=(Et=Xs.get(Pr)||Vi).key,Ht=Et.reverse||Et,Gt=Et.closed?"M":"L",Cr):bt},Cr.tension=function(Pr){return arguments.length?(tr=Pr,Cr):tr},Cr}cl.reverse=qu,qu.reverse=cl,a.svg.area=function(){return Au(F)},a.svg.area.radial=function(){var ue=Au(mc);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function Rf(ue){return ue.source}function hl(ue){return ue.target}a.svg.chord=function(){var ue=Rf,Le=hl,Oe=Df,Qe=du,rt=$u;function st(tr,Cr){var Pr=Et(this,ue,tr,Cr),Jr=Et(this,Le,tr,Cr);return"M"+Pr.p0+Ht(Pr.r,Pr.p1,Pr.a1-Pr.a0)+(bt(Pr,Jr)?Gt(Pr.r,Pr.p1,Pr.r,Pr.p0):Gt(Pr.r,Pr.p1,Jr.r,Jr.p0)+Ht(Jr.r,Jr.p1,Jr.a1-Jr.a0)+Gt(Jr.r,Jr.p1,Pr.r,Pr.p0))+"Z"}function Et(tr,Cr,Pr,Jr){var nn=Cr.call(tr,Pr,Jr),Dr=Oe.call(tr,nn,Jr),Br=Qe.call(tr,nn,Jr)-tt,Xr=rt.call(tr,nn,Jr)-tt;return{r:Dr,a0:Br,a1:Xr,p0:[Dr*Math.cos(Br),Dr*Math.sin(Br)],p1:[Dr*Math.cos(Xr),Dr*Math.sin(Xr)]}}function bt(tr,Cr){return tr.a0==Cr.a0&&tr.a1==Cr.a1}function Ht(tr,Cr,Pr){return"A"+tr+","+tr+" 0 "+ +(Pr>Ae)+",1 "+Cr}function Gt(tr,Cr,Pr,Jr){return"Q 0,0 "+Jr}return st.radius=function(tr){return arguments.length?(Oe=tn(tr),st):Oe},st.source=function(tr){return arguments.length?(ue=tn(tr),st):ue},st.target=function(tr){return arguments.length?(Le=tn(tr),st):Le},st.startAngle=function(tr){return arguments.length?(Qe=tn(tr),st):Qe},st.endAngle=function(tr){return arguments.length?(rt=tn(tr),st):rt},st};function Df(ue){return ue.radius}a.svg.diagonal=function(){var ue=Rf,Le=hl,Oe=Mu;function Qe(rt,st){var Et=ue.call(this,rt,st),bt=Le.call(this,rt,st),Ht=(Et.y+bt.y)/2,Gt=[Et,{x:Et.x,y:Ht},{x:bt.x,y:Ht},bt];return Gt=Gt.map(Oe),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return Qe.source=function(rt){return arguments.length?(ue=tn(rt),Qe):ue},Qe.target=function(rt){return arguments.length?(Le=tn(rt),Qe):Le},Qe.projection=function(rt){return arguments.length?(Oe=rt,Qe):Oe},Qe};function Mu(ue){return[ue.x,ue.y]}a.svg.diagonal.radial=function(){var ue=a.svg.diagonal(),Le=Mu,Oe=ue.projection;return ue.projection=function(Qe){return arguments.length?Oe(xc(Le=Qe)):Le},ue};function xc(ue){return function(){var Le=ue.apply(this,arguments),Oe=Le[0],Qe=Le[1]-tt;return[Oe*Math.cos(Qe),Oe*Math.sin(Qe)]}}a.svg.symbol=function(){var ue=nt,Le=je;function Oe(Qe,rt){return(mt.get(ue.call(this,Qe,rt))||ht)(Le.call(this,Qe,rt))}return Oe.type=function(Qe){return arguments.length?(ue=tn(Qe),Oe):ue},Oe.size=function(Qe){return arguments.length?(Le=tn(Qe),Oe):Le},Oe};function je(){return 64}function nt(){return"circle"}function ht(ue){var Le=Math.sqrt(ue/Ae);return"M0,"+Le+"A"+Le+","+Le+" 0 1,1 0,"+-Le+"A"+Le+","+Le+" 0 1,1 0,"+Le+"Z"}var mt=a.map({circle:ht,cross:function(ue){var Le=Math.sqrt(ue/5)/2;return"M"+-3*Le+","+-Le+"H"+-Le+"V"+-3*Le+"H"+Le+"V"+-Le+"H"+3*Le+"V"+Le+"H"+Le+"V"+3*Le+"H"+-Le+"V"+Le+"H"+-3*Le+"Z"},diamond:function(ue){var Le=Math.sqrt(ue/(2*Pt)),Oe=Le*Pt;return"M0,"+-Le+"L"+Oe+",0 0,"+Le+" "+-Oe+",0Z"},square:function(ue){var Le=Math.sqrt(ue)/2;return"M"+-Le+","+-Le+"L"+Le+","+-Le+" "+Le+","+Le+" "+-Le+","+Le+"Z"},"triangle-down":function(ue){var Le=Math.sqrt(ue/_t),Oe=Le*_t/2;return"M0,"+Oe+"L"+Le+","+-Oe+" "+-Le+","+-Oe+"Z"},"triangle-up":function(ue){var Le=Math.sqrt(ue/_t),Oe=Le*_t/2;return"M0,"+-Oe+"L"+Le+","+Oe+" "+-Le+","+Oe+"Z"}});a.svg.symbolTypes=mt.keys();var _t=Math.sqrt(3),Pt=Math.tan(30*ft);K.transition=function(ue){for(var Le=Ir||++Ar,Oe=Cn(ue),Qe=[],rt,st,Et=Fr||{time:Date.now(),ease:yf,delay:0,duration:250},bt=-1,Ht=this.length;++bt<Ht;){Qe.push(rt=[]);for(var Gt=this[bt],tr=-1,Cr=Gt.length;++tr<Cr;)(st=Gt[tr])&&Ln(st,tr,Oe,Le,Et),rt.push(st)}return xr(Qe,Oe,Le)},K.interrupt=function(ue){return this.each(ue==null?Ft:dr(Cn(ue)))};var Ft=dr(Cn());function dr(ue){return function(){var Le,Oe,Qe;(Le=this[ue])&&(Qe=Le[Oe=Le.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Le.count?delete Le[Oe]:delete this[ue],Le.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function xr(ue,Le,Oe){return ae(ue,ar),ue.namespace=Le,ue.id=Oe,ue}var ar=[],Ar=0,Ir,Fr;ar.call=K.call,ar.empty=K.empty,ar.node=K.node,ar.size=K.size,a.transition=function(ue,Le){return ue&&ue.transition?Ir?ue.transition(Le):ue:a.selection().transition(ue)},a.transition.prototype=ar,ar.select=function(ue){var Le=this.id,Oe=this.namespace,Qe=[],rt,st,Et;ue=se(ue);for(var bt=-1,Ht=this.length;++bt<Ht;){Qe.push(rt=[]);for(var Gt=this[bt],tr=-1,Cr=Gt.length;++tr<Cr;)(Et=Gt[tr])&&(st=ue.call(Et,Et.__data__,tr,bt))?("__data__"in Et&&(st.__data__=Et.__data__),Ln(st,tr,Oe,Le,Et[Oe][Le]),rt.push(st)):rt.push(null)}return xr(Qe,Oe,Le)},ar.selectAll=function(ue){var Le=this.id,Oe=this.namespace,Qe=[],rt,st,Et,bt,Ht;ue=ne(ue);for(var Gt=-1,tr=this.length;++Gt<tr;)for(var Cr=this[Gt],Pr=-1,Jr=Cr.length;++Pr<Jr;)if(Et=Cr[Pr]){Ht=Et[Oe][Le],st=ue.call(Et,Et.__data__,Pr,Gt),Qe.push(rt=[]);for(var nn=-1,Dr=st.length;++nn<Dr;)(bt=st[nn])&&Ln(bt,nn,Oe,Le,Ht),rt.push(bt)}return xr(Qe,Oe,Le)},ar.filter=function(ue){var Le=[],Oe,Qe,rt;typeof ue!="function"&&(ue=at(ue));for(var st=0,Et=this.length;st<Et;st++){Le.push(Oe=[]);for(var Qe=this[st],bt=0,Ht=Qe.length;bt<Ht;bt++)(rt=Qe[bt])&&ue.call(rt,rt.__data__,bt,st)&&Oe.push(rt)}return xr(Le,this.namespace,this.id)},ar.tween=function(ue,Le){var Oe=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][Oe].tween.get(ue):$e(this,Le==null?function(rt){rt[Qe][Oe].tween.remove(ue)}:function(rt){rt[Qe][Oe].tween.set(ue,Le)})};function en(ue,Le,Oe,Qe){var rt=ue.id,st=ue.namespace;return $e(ue,typeof Oe=="function"?function(Et,bt,Ht){Et[st][rt].tween.set(Le,Qe(Oe.call(Et,Et.__data__,bt,Ht)))}:(Oe=Qe(Oe),function(Et){Et[st][rt].tween.set(Le,Oe)}))}ar.attr=function(ue,Le){if(arguments.length<2){for(Le in ue)this.attr(Le,ue[Le]);return this}var Oe=ue=="transform"?Gu:ro,Qe=a.ns.qualify(ue);function rt(){this.removeAttribute(Qe)}function st(){this.removeAttributeNS(Qe.space,Qe.local)}function Et(Ht){return Ht==null?rt:(Ht+="",function(){var Gt=this.getAttribute(Qe),tr;return Gt!==Ht&&(tr=Oe(Gt,Ht),function(Cr){this.setAttribute(Qe,tr(Cr))})})}function bt(Ht){return Ht==null?st:(Ht+="",function(){var Gt=this.getAttributeNS(Qe.space,Qe.local),tr;return Gt!==Ht&&(tr=Oe(Gt,Ht),function(Cr){this.setAttributeNS(Qe.space,Qe.local,tr(Cr))})})}return en(this,"attr."+ue,Le,Qe.local?bt:Et)},ar.attrTween=function(ue,Le){var Oe=a.ns.qualify(ue);function Qe(st,Et){var bt=Le.call(this,st,Et,this.getAttribute(Oe));return bt&&function(Ht){this.setAttribute(Oe,bt(Ht))}}function rt(st,Et){var bt=Le.call(this,st,Et,this.getAttributeNS(Oe.space,Oe.local));return bt&&function(Ht){this.setAttributeNS(Oe.space,Oe.local,bt(Ht))}}return this.tween("attr."+ue,Oe.local?rt:Qe)},ar.style=function(ue,Le,Oe){var Qe=arguments.length;if(Qe<3){if(typeof ue!="string"){Qe<2&&(Le="");for(Oe in ue)this.style(Oe,ue[Oe],Le);return this}Oe=""}function rt(){this.style.removeProperty(ue)}function st(Et){return Et==null?rt:(Et+="",function(){var bt=r(this).getComputedStyle(this,null).getPropertyValue(ue),Ht;return bt!==Et&&(Ht=ro(bt,Et),function(Gt){this.style.setProperty(ue,Ht(Gt),Oe)})})}return en(this,"style."+ue,Le,st)},ar.styleTween=function(ue,Le,Oe){arguments.length<3&&(Oe="");function Qe(rt,st){var Et=Le.call(this,rt,st,r(this).getComputedStyle(this,null).getPropertyValue(ue));return Et&&function(bt){this.style.setProperty(ue,Et(bt),Oe)}}return this.tween("style."+ue,Qe)},ar.text=function(ue){return en(this,"text",ue,xn)};function xn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}ar.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var Le;this[ue].count<2&&(Le=this.parentNode)&&Le.removeChild(this)})},ar.ease=function(ue){var Le=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Le].ease:(typeof ue!="function"&&(ue=a.ease.apply(a,arguments)),$e(this,function(Qe){Qe[Oe][Le].ease=ue}))},ar.delay=function(ue){var Le=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Le].delay:$e(this,typeof ue=="function"?function(Qe,rt,st){Qe[Oe][Le].delay=+ue.call(Qe,Qe.__data__,rt,st)}:(ue=+ue,function(Qe){Qe[Oe][Le].delay=ue}))},ar.duration=function(ue){var Le=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][Le].duration:$e(this,typeof ue=="function"?function(Qe,rt,st){Qe[Oe][Le].duration=Math.max(1,ue.call(Qe,Qe.__data__,rt,st))}:(ue=Math.max(1,ue),function(Qe){Qe[Oe][Le].duration=ue}))},ar.each=function(ue,Le){var Oe=this.id,Qe=this.namespace;if(arguments.length<2){var rt=Fr,st=Ir;try{Ir=Oe,$e(this,function(Et,bt,Ht){Fr=Et[Qe][Oe],ue.call(Et,Et.__data__,bt,Ht)})}finally{Fr=rt,Ir=st}}else $e(this,function(Et){var bt=Et[Qe][Oe];(bt.event||(bt.event=a.dispatch("start","end","interrupt"))).on(ue,Le)});return this},ar.transition=function(){for(var ue=this.id,Le=++Ar,Oe=this.namespace,Qe=[],rt,st,Et,bt,Ht=0,Gt=this.length;Ht<Gt;Ht++){Qe.push(rt=[]);for(var st=this[Ht],tr=0,Cr=st.length;tr<Cr;tr++)(Et=st[tr])&&(bt=Et[Oe][ue],Ln(Et,tr,Oe,Le,{time:bt.time,ease:bt.ease,delay:bt.delay+bt.duration,duration:bt.duration})),rt.push(Et)}return xr(Qe,Oe,Le)};function Cn(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function Ln(ue,Le,Oe,Qe,rt){var st=ue[Oe]||(ue[Oe]={active:0,count:0}),Et=st[Qe],bt,Ht,Gt,tr,Cr;function Pr(Dr){var Br=Et.delay;if(Ht.t=Br+bt,Br<=Dr)return Jr(Dr-Br);Ht.c=Jr}function Jr(Dr){var Br=st.active,Xr=st[Br];Xr&&(Xr.timer.c=null,Xr.timer.t=NaN,--st.count,delete st[Br],Xr.event&&Xr.event.interrupt.call(ue,ue.__data__,Xr.index));for(var ln in st)if(+ln<Qe){var fn=st[ln];fn.timer.c=null,fn.timer.t=NaN,--st.count,delete st[ln]}Ht.c=nn,En(function(){return Ht.c&&nn(Dr||1)&&(Ht.c=null,Ht.t=NaN),1},0,bt),st.active=Qe,Et.event&&Et.event.start.call(ue,ue.__data__,Le),Cr=[],Et.tween.forEach(function($r,Bn){(Bn=Bn.call(ue,ue.__data__,Le))&&Cr.push(Bn)}),tr=Et.ease,Gt=Et.duration}function nn(Dr){for(var Br=Dr/Gt,Xr=tr(Br),ln=Cr.length;ln>0;)Cr[--ln].call(ue,Xr);if(Br>=1)return Et.event&&Et.event.end.call(ue,ue.__data__,Le),--st.count?delete st[Qe]:delete ue[Oe],1}Et||(bt=rt.time,Ht=En(Pr,0,bt),Et=st[Qe]={tween:new C,time:bt,timer:Ht,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Le},rt=null,++st.count)}a.svg.axis=function(){var ue=a.scale.linear(),Le=Xn,Oe=6,Qe=6,rt=3,st=[10],Et=null,bt;function Ht(Gt){Gt.each(function(){var tr=a.select(this),Cr=this.__chart__||ue,Pr=this.__chart__=ue.copy(),Jr=Et??(Pr.ticks?Pr.ticks.apply(Pr,st):Pr.domain()),nn=bt??(Pr.tickFormat?Pr.tickFormat.apply(Pr,st):F),Dr=tr.selectAll(".tick").data(Jr,Pr),Br=Dr.enter().insert("g",".domain").attr("class","tick").style("opacity",ge),Xr=a.transition(Dr.exit()).style("opacity",ge).remove(),ln=a.transition(Dr.order()).style("opacity",1),fn=Math.max(Oe,0)+rt,$r,Bn=Ul(Pr),na=tr.selectAll(".domain").data([0]),ca=(na.enter().append("path").attr("class","domain"),a.transition(na));Br.append("line"),Br.append("text");var ta=Br.select("line"),sa=ln.select("line"),ha=Dr.select("text").text(nn),Fa=Br.select("text"),Sa=ln.select("text"),ka=Le==="top"||Le==="left"?-1:1,ri,Oi,li,Qn;if(Le==="bottom"||Le==="top"?($r=Ra,ri="x",li="y",Oi="x2",Qn="y2",ha.attr("dy",ka<0?"0em":".71em").style("text-anchor","middle"),ca.attr("d","M"+Bn[0]+","+ka*Qe+"V0H"+Bn[1]+"V"+ka*Qe)):($r=Da,ri="y",li="x",Oi="y2",Qn="x2",ha.attr("dy",".32em").style("text-anchor",ka<0?"end":"start"),ca.attr("d","M"+ka*Qe+","+Bn[0]+"H0V"+Bn[1]+"H"+ka*Qe)),ta.attr(Qn,ka*Oe),Fa.attr(li,ka*fn),sa.attr(Oi,0).attr(Qn,ka*Oe),Sa.attr(ri,0).attr(li,ka*fn),Pr.rangeBand){var Na=Pr,Aa=Na.rangeBand()/2;Cr=Pr=function(Xa){return Na(Xa)+Aa}}else Cr.rangeBand?Cr=Pr:Xr.call($r,Pr,Cr);Br.call($r,Cr,Pr),ln.call($r,Pr,Pr)})}return Ht.scale=function(Gt){return arguments.length?(ue=Gt,Ht):ue},Ht.orient=function(Gt){return arguments.length?(Le=Gt in Pa?Gt+"":Xn,Ht):Le},Ht.ticks=function(){return arguments.length?(st=M(arguments),Ht):st},Ht.tickValues=function(Gt){return arguments.length?(Et=Gt,Ht):Et},Ht.tickFormat=function(Gt){return arguments.length?(bt=Gt,Ht):bt},Ht.tickSize=function(Gt){var tr=arguments.length;return tr?(Oe=+Gt,Qe=+arguments[tr-1],Ht):Oe},Ht.innerTickSize=function(Gt){return arguments.length?(Oe=+Gt,Ht):Oe},Ht.outerTickSize=function(Gt){return arguments.length?(Qe=+Gt,Ht):Qe},Ht.tickPadding=function(Gt){return arguments.length?(rt=+Gt,Ht):rt},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var Xn="bottom",Pa={top:1,right:1,bottom:1,left:1};function Ra(ue,Le,Oe){ue.attr("transform",function(Qe){var rt=Le(Qe);return"translate("+(isFinite(rt)?rt:Oe(Qe))+",0)"})}function Da(ue,Le,Oe){ue.attr("transform",function(Qe){var rt=Le(Qe);return"translate(0,"+(isFinite(rt)?rt:Oe(Qe))+")"})}a.svg.brush=function(){var ue=J(tr,"brushstart","brush","brushend"),Le=null,Oe=null,Qe=[0,0],rt=[0,0],st,Et,bt=!0,Ht=!0,Gt=Za[0];function tr(Dr){Dr.each(function(){var Br=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",nn).on("touchstart.brush",nn),Xr=Br.selectAll(".background").data([0]);Xr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Br.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ln=Br.selectAll(".resize").data(Gt,F);ln.exit().remove(),ln.enter().append("g").attr("class",function(na){return"resize "+na}).style("cursor",function(na){return za[na]}).append("rect").attr("x",function(na){return/[ew]$/.test(na)?-3:null}).attr("y",function(na){return/^[ns]/.test(na)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),ln.style("display",tr.empty()?"none":null);var fn=a.transition(Br),$r=a.transition(Xr),Bn;Le&&(Bn=Ul(Le),$r.attr("x",Bn[0]).attr("width",Bn[1]-Bn[0]),Pr(fn)),Oe&&(Bn=Ul(Oe),$r.attr("y",Bn[0]).attr("height",Bn[1]-Bn[0]),Jr(fn)),Cr(fn)})}tr.event=function(Dr){Dr.each(function(){var Br=ue.of(this,arguments),Xr={x:Qe,y:rt,i:st,j:Et},ln=this.__chart__||Xr;this.__chart__=Xr,Ir?a.select(this).transition().each("start.brush",function(){st=ln.i,Et=ln.j,Qe=ln.x,rt=ln.y,Br({type:"brushstart"})}).tween("brush:brush",function(){var fn=zo(Qe,Xr.x),$r=zo(rt,Xr.y);return st=Et=null,function(Bn){Qe=Xr.x=fn(Bn),rt=Xr.y=$r(Bn),Br({type:"brush",mode:"resize"})}}).each("end.brush",function(){st=Xr.i,Et=Xr.j,Br({type:"brush",mode:"resize"}),Br({type:"brushend"})}):(Br({type:"brushstart"}),Br({type:"brush",mode:"resize"}),Br({type:"brushend"}))})};function Cr(Dr){Dr.selectAll(".resize").attr("transform",function(Br){return"translate("+Qe[+/e$/.test(Br)]+","+rt[+/^s/.test(Br)]+")"})}function Pr(Dr){Dr.select(".extent").attr("x",Qe[0]),Dr.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function Jr(Dr){Dr.select(".extent").attr("y",rt[0]),Dr.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function nn(){var Dr=this,Br=a.select(a.event.target),Xr=ue.of(Dr,arguments),ln=a.select(Dr),fn=Br.datum(),$r=!/^(n|s)$/.test(fn)&&Le,Bn=!/^(e|w)$/.test(fn)&&Oe,na=Br.classed("extent"),ca=Ie(Dr),ta,sa=a.mouse(Dr),ha,Fa=a.select(r(Dr)).on("keydown.brush",ri).on("keyup.brush",Oi);if(a.event.changedTouches?Fa.on("touchmove.brush",li).on("touchend.brush",Na):Fa.on("mousemove.brush",li).on("mouseup.brush",Na),ln.interrupt().selectAll("*").interrupt(),na)sa[0]=Qe[0]-sa[0],sa[1]=rt[0]-sa[1];else if(fn){var Sa=+/w$/.test(fn),ka=+/^n/.test(fn);ha=[Qe[1-Sa]-sa[0],rt[1-ka]-sa[1]],sa[0]=Qe[Sa],sa[1]=rt[ka]}else a.event.altKey&&(ta=sa.slice());ln.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Br.style("cursor")),Xr({type:"brushstart"}),li();function ri(){a.event.keyCode==32&&(na||(ta=null,sa[0]-=Qe[1],sa[1]-=rt[1],na=2),ie())}function Oi(){a.event.keyCode==32&&na==2&&(sa[0]+=Qe[1],sa[1]+=rt[1],na=0,ie())}function li(){var Aa=a.mouse(Dr),Xa=!1;ha&&(Aa[0]+=ha[0],Aa[1]+=ha[1]),na||(a.event.altKey?(ta||(ta=[(Qe[0]+Qe[1])/2,(rt[0]+rt[1])/2]),sa[0]=Qe[+(Aa[0]<ta[0])],sa[1]=rt[+(Aa[1]<ta[1])]):ta=null),$r&&Qn(Aa,Le,0)&&(Pr(ln),Xa=!0),Bn&&Qn(Aa,Oe,1)&&(Jr(ln),Xa=!0),Xa&&(Cr(ln),Xr({type:"brush",mode:na?"move":"resize"}))}function Qn(Aa,Xa,xi){var ni=Ul(Xa),Qi=ni[0],$i=ni[1],no=sa[xi],bi=xi?rt:Qe,po=bi[1]-bi[0],ua,Ca;if(na&&(Qi-=no,$i-=po+no),ua=(xi?Ht:bt)?Math.max(Qi,Math.min($i,Aa[xi])):Aa[xi],na?Ca=(ua+=no)+po:(ta&&(no=Math.max(Qi,Math.min($i,2*ta[xi]-ua))),no<ua?(Ca=ua,ua=no):Ca=no),bi[0]!=ua||bi[1]!=Ca)return xi?Et=null:st=null,bi[0]=ua,bi[1]=Ca,!0}function Na(){li(),ln.style("pointer-events","all").selectAll(".resize").style("display",tr.empty()?"none":null),a.select("body").style("cursor",null),Fa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ca(),Xr({type:"brushend"})}}return tr.x=function(Dr){return arguments.length?(Le=Dr,Gt=Za[!Le<<1|!Oe],tr):Le},tr.y=function(Dr){return arguments.length?(Oe=Dr,Gt=Za[!Le<<1|!Oe],tr):Oe},tr.clamp=function(Dr){return arguments.length?(Le&&Oe?(bt=!!Dr[0],Ht=!!Dr[1]):Le?bt=!!Dr:Oe&&(Ht=!!Dr),tr):Le&&Oe?[bt,Ht]:Le?bt:Oe?Ht:null},tr.extent=function(Dr){var Br,Xr,ln,fn,$r;return arguments.length?(Le&&(Br=Dr[0],Xr=Dr[1],Oe&&(Br=Br[0],Xr=Xr[0]),st=[Br,Xr],Le.invert&&(Br=Le(Br),Xr=Le(Xr)),Xr<Br&&($r=Br,Br=Xr,Xr=$r),(Br!=Qe[0]||Xr!=Qe[1])&&(Qe=[Br,Xr])),Oe&&(ln=Dr[0],fn=Dr[1],Le&&(ln=ln[1],fn=fn[1]),Et=[ln,fn],Oe.invert&&(ln=Oe(ln),fn=Oe(fn)),fn<ln&&($r=ln,ln=fn,fn=$r),(ln!=rt[0]||fn!=rt[1])&&(rt=[ln,fn])),tr):(Le&&(st?(Br=st[0],Xr=st[1]):(Br=Qe[0],Xr=Qe[1],Le.invert&&(Br=Le.invert(Br),Xr=Le.invert(Xr)),Xr<Br&&($r=Br,Br=Xr,Xr=$r))),Oe&&(Et?(ln=Et[0],fn=Et[1]):(ln=rt[0],fn=rt[1],Oe.invert&&(ln=Oe.invert(ln),fn=Oe.invert(fn)),fn<ln&&($r=ln,ln=fn,fn=$r))),Le&&Oe?[[Br,ln],[Xr,fn]]:Le?[Br,Xr]:Oe&&[ln,fn])},tr.clear=function(){return tr.empty()||(Qe=[0,0],rt=[0,0],st=Et=null),tr},tr.empty=function(){return!!Le&&Qe[0]==Qe[1]||!!Oe&&rt[0]==rt[1]},a.rebind(tr,ue,"on")};var za={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Za=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Fn(function(ue){return ue.responseText}),a.json=function(ue,Le){return mn(ue,"application/json",ci,Le)};function ci(ue){return JSON.parse(ue.responseText)}a.html=function(ue,Le){return mn(ue,"text/html",_i,Le)};function _i(ue){var Le=v.createRange();return Le.selectNode(v.body),Le.createContextualFragment(ue.responseText)}a.xml=Fn(function(ue){return ue.responseXML}),y=a,P=typeof y=="function"?y.call(H,e,H,G):y,P!==void 0&&(G.exports=P)}).apply(self)},97433:function(G){(function(H,e){G.exports=e()})(this,function(){var H,e,y;function P(a,L){if(!H)H=L;else if(!e)e=L;else{var M="var sharedChunk = {}; ("+H+")(sharedChunk); ("+e+")(sharedChunk);",v={};H(v),y=L(v),typeof window<"u"&&(y.workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"})))}}return P(["exports"],function(a){function L(R,D){return D={exports:{}},R(D,D.exports),D.exports}var M="1.13.4",v=p;function p(R,D,V,re){this.cx=3*R,this.bx=3*(V-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(re-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=re,this.p2x=V,this.p2y=re}p.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},p.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},p.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},p.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var V,re,ve,we,Re;for(ve=R,Re=0;Re<8;Re++){if(we=this.sampleCurveX(ve)-R,Math.abs(we)<D)return ve;var Ke=this.sampleCurveDerivativeX(ve);if(Math.abs(Ke)<1e-6)break;ve=ve-we/Ke}if(V=0,re=1,ve=R,ve<V)return V;if(ve>re)return re;for(;V<re;){if(we=this.sampleCurveX(ve),Math.abs(we-R)<D)return ve;R>we?V=ve:re=ve,ve=(re-V)*.5+V}return ve},p.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var r=t;function t(R,D){this.x=R,this.y=D}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,V=R.y-this.y;return D*D+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,V=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=V,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),V=Math.sin(R),re=D*this.x-V*this.y,ve=V*this.x+D*this.y;return this.x=re,this.y=ve,this},_rotateAround:function(R,D){var V=Math.cos(R),re=Math.sin(R),ve=D.x+V*(this.x-D.x)-re*(this.y-D.y),we=D.y+re*(this.x-D.x)+V*(this.y-D.y);return this.x=ve,this.y=we,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(R){return R instanceof t?R:Array.isArray(R)?new t(R[0],R[1]):R};var o=typeof self<"u"?self:{};function n(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var V=0;V<R.length;V++)if(!n(R[V],D[V]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var re=Object.keys(R);if(re.length!==Object.keys(D).length)return!1;for(var ve in R)if(!n(R[ve],D[ve]))return!1;return!0}return R===D}var c=Math.pow(2,53)-1;function u(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,V=D*R;return 4*(R<.5?V:3*(R-D)+V-.75)}function l(R,D,V,re){var ve=new v(R,D,V,re);return function(we){return ve.solve(we)}}var g=l(.25,.1,.25,1);function f(R,D,V){return Math.min(V,Math.max(D,R))}function T(R,D,V){var re=V-D,ve=((R-D)%re+re)%re+D;return ve===D?V:ve}function h(R,D,V){if(!R.length)return V(null,[]);var re=R.length,ve=new Array(R.length),we=null;R.forEach(function(Re,Ke){D(Re,function(ut,wt){ut&&(we=ut),ve[Ke]=wt,--re===0&&V(we,ve)})})}function s(R){var D=[];for(var V in R)D.push(R[V]);return D}function d(R,D){var V=[];for(var re in R)re in D||V.push(re);return V}function A(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var re=0,ve=D;re<ve.length;re+=1){var we=ve[re];for(var Re in we)R[Re]=we[Re]}return R}function w(R,D){for(var V={},re=0;re<D.length;re++){var ve=D[re];ve in R&&(V[ve]=R[ve])}return V}var C=1;function b(){return C++}function S(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function x(R){return R<=1?1:Math.pow(2,Math.ceil(Math.log(R)/Math.LN2))}function i(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function E(R,D){R.forEach(function(V){D[V]&&(D[V]=D[V].bind(D))})}function m(R,D){return R.indexOf(D,R.length-D.length)!==-1}function k(R,D,V){var re={};for(var ve in R)re[ve]=D.call(V||this,R[ve],ve,R);return re}function I(R,D,V){var re={};for(var ve in R)D.call(V||this,R[ve],ve,R)&&(re[ve]=R[ve]);return re}function U(R){return Array.isArray(R)?R.map(U):typeof R=="object"&&R?k(R,U):R}function z(R,D){for(var V=0;V<R.length;V++)if(D.indexOf(R[V])>=0)return!0;return!1}var F={};function B(R){F[R]||(typeof console<"u"&&console.warn(R),F[R]=!0)}function O(R,D,V){return(V.y-R.y)*(D.x-R.x)>(D.y-R.y)*(V.x-R.x)}function N(R){for(var D=0,V=0,re=R.length,ve=re-1,we=void 0,Re=void 0;V<re;ve=V++)we=R[V],Re=R[ve],D+=(Re.x-we.x)*(we.y+Re.y);return D}function Y(R){var D=R[0],V=R[1],re=R[2];return V+=90,V*=Math.PI/180,re*=Math.PI/180,{x:D*Math.cos(V)*Math.sin(re),y:D*Math.sin(V)*Math.sin(re),z:D*Math.cos(re)}}function $(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function te(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,V={};if(R.replace(D,function(ve,we,Re,Ke){var ut=Re||Ke;return V[we]=ut?ut.toLowerCase():!0,""}),V["max-age"]){var re=parseInt(V["max-age"],10);isNaN(re)?delete V["max-age"]:V["max-age"]=re}return V}var ie=null;function ce(R){if(ie==null){var D=R.navigator?R.navigator.userAgent:null;ie=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return ie}function J(R){try{var D=o[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function Z(R){return o.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,V){return String.fromCharCode(+("0x"+V))}))}function ae(R){return decodeURIComponent(o.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var j=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),q=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,oe=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,Q,K,se={now:j,frame:function(D){var V=q(D);return{cancel:function(){return oe(V)}}},getImageData:function(D,V){V===void 0&&(V=0);var re=o.document.createElement("canvas"),ve=re.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return re.width=D.width,re.height=D.height,ve.drawImage(D,0,0,D.width,D.height),ve.getImageData(-V,-V,D.width+2*V,D.height+2*V)},resolveURL:function(D){return Q||(Q=o.document.createElement("a")),Q.href=D,Q.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return o.matchMedia?(K==null&&(K=o.matchMedia("(prefers-reduced-motion: reduce)")),K.matches):!1}},ne={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:ke},ye,Ee=!1,Te,ze=!1;o.document&&(Te=o.document.createElement("img"),Te.onload=function(){ye&&Se(ye),ye=null,ze=!0},Te.onerror=function(){Ee=!0,ye=null},Te.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function ke(R){Ee||!Te||(ze?Se(R):ye=R)}function Se(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,Te),R.isContextLost())return;fe.supported=!0}catch{}R.deleteTexture(D),Ee=!0}var me="01";function Ce(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="",re=0;re<10;re++)V+=D[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,we=[R,me,V].join(""),Re=Date.now()+ve;return{token:we,tokenExpiresAt:Re}}var Ne=function(D,V){this._transformRequestFn=D,this._customAccessToken=V,this._createSkuToken()};Ne.prototype._createSkuToken=function(){var D=Ce();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Ne.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ne.prototype.transformRequest=function(D,V){return this._transformRequestFn?this._transformRequestFn(D,V)||{url:D}:{url:D}},Ne.prototype.normalizeStyleURL=function(D,V){if(!He(D))return D;var re=et(D);return re.path="/styles/v1"+re.path,this._makeAPIURL(re,this._customAccessToken||V)},Ne.prototype.normalizeGlyphsURL=function(D,V){if(!He(D))return D;var re=et(D);return re.path="/fonts/v1"+re.path,this._makeAPIURL(re,this._customAccessToken||V)},Ne.prototype.normalizeSourceURL=function(D,V){if(!He(D))return D;var re=et(D);return re.path="/v4/"+re.authority+".json",re.params.push("secure"),this._makeAPIURL(re,this._customAccessToken||V)},Ne.prototype.normalizeSpriteURL=function(D,V,re,ve){var we=et(D);return He(D)?(we.path="/styles/v1"+we.path+"/sprite"+V+re,this._makeAPIURL(we,this._customAccessToken||ve)):(we.path+=""+V+re,ct(we))},Ne.prototype.normalizeTileURL=function(D,V){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!He(D))return D;var re=et(D),ve=/(\.(png|jpg)\d*)(?=$)/,we=/^.+\/v4\//,Re=se.devicePixelRatio>=2||V===512?"@2x":"",Ke=fe.supported?".webp":"$1";re.path=re.path.replace(ve,""+Re+Ke),re.path=re.path.replace(we,"/"),re.path="/v4"+re.path;var ut=this._customAccessToken||lt(re.params)||ne.ACCESS_TOKEN;return ne.REQUIRE_ACCESS_TOKEN&&ut&&this._skuToken&&re.params.push("sku="+this._skuToken),this._makeAPIURL(re,ut)},Ne.prototype.canonicalizeTileURL=function(D,V){var re="/v4/",ve=/\.[\w]+$/,we=et(D);if(!we.path.match(/(^\/v4\/)/)||!we.path.match(ve))return D;var Re="mapbox://tiles/";Re+=we.path.replace(re,"");var Ke=we.params;return V&&(Ke=Ke.filter(function(ut){return!ut.match(/^access_token=/)})),Ke.length&&(Re+="?"+Ke.join("&")),Re},Ne.prototype.canonicalizeTileset=function(D,V){for(var re=V?He(V):!1,ve=[],we=0,Re=D.tiles||[];we<Re.length;we+=1){var Ke=Re[we];Ve(Ke)?ve.push(this.canonicalizeTileURL(Ke,re)):ve.push(Ke)}return ve},Ne.prototype._makeAPIURL=function(D,V){var re="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=et(ne.API_URL);if(D.protocol=ve.protocol,D.authority=ve.authority,D.protocol==="http"){var we=D.params.indexOf("secure");we>=0&&D.params.splice(we,1)}if(ve.path!=="/"&&(D.path=""+ve.path+D.path),!ne.REQUIRE_ACCESS_TOKEN)return ct(D);if(V=V||ne.ACCESS_TOKEN,!V)throw new Error("An API access token is required to use Mapbox GL. "+re);if(V[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+re);return D.params=D.params.filter(function(Re){return Re.indexOf("access_token")===-1}),D.params.push("access_token="+V),ct(D)};function He(R){return R.indexOf("mapbox:")===0}var De=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ve(R){return De.test(R)}function at(R){return R.indexOf("sku=")>0&&Ve(R)}function lt(R){for(var D=0,V=R;D<V.length;D+=1){var re=V[D],ve=re.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var $e=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function et(R){var D=R.match($e);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function ct(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var dt="mapbox.eventData";function gt(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var V=JSON.parse(ae(D[1]));return V}catch{return null}}var At=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};At.prototype.getStorageKey=function(D){var V=gt(ne.ACCESS_TOKEN),re="";return V&&V.u?re=Z(V.u):re=ne.ACCESS_TOKEN||"",D?dt+"."+D+":"+re:dt+":"+re},At.prototype.fetchEventData=function(){var D=J("localStorage"),V=this.getStorageKey(),re=this.getStorageKey("uuid");if(D)try{var ve=o.localStorage.getItem(V);ve&&(this.eventData=JSON.parse(ve));var we=o.localStorage.getItem(re);we&&(this.anonId=we)}catch{B("Unable to read from LocalStorage")}},At.prototype.saveEventData=function(){var D=J("localStorage"),V=this.getStorageKey(),re=this.getStorageKey("uuid");if(D)try{o.localStorage.setItem(re,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(V,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},At.prototype.processRequests=function(D){},At.prototype.postEvent=function(D,V,re,ve){var we=this;if(ne.EVENTS_URL){var Re=et(ne.EVENTS_URL);Re.params.push("access_token="+(ve||ne.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:me,userId:this.anonId},ut=V?A(Ke,V):Ke,wt={url:ct(Re),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ut])};this.pendingRequest=Nt(wt,function(Ct){we.pendingRequest=null,re(Ct),we.saveEventData(),we.processRequests(ve)})}},At.prototype.queueRequest=function(D,V){this.queue.push(D),this.processRequests(V)};var Rt=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(re,ve,we,Re){this.skuToken=we,(ne.EVENTS_URL&&Re||ne.ACCESS_TOKEN&&Array.isArray(re)&&re.some(function(Ke){return He(Ke)||Ve(Ke)}))&&this.queueRequest({id:ve,timestamp:Date.now()},Re)},D.prototype.processRequests=function(re){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var we=this.queue.shift(),Re=we.id,Ke=we.timestamp;Re&&this.success[Re]||(this.anonId||this.fetchEventData(),i(this.anonId)||(this.anonId=S()),this.postEvent(Ke,{skuToken:this.skuToken},function(ut){ut||Re&&(ve.success[Re]=!0)},re))}},D}(At),Vt=function(R){function D(V){R.call(this,"appUserTurnstile"),this._customAccessToken=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(re,ve){ne.EVENTS_URL&&ne.ACCESS_TOKEN&&Array.isArray(re)&&re.some(function(we){return He(we)||Ve(we)})&&this.queueRequest(Date.now(),ve)},D.prototype.processRequests=function(re){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var we=gt(ne.ACCESS_TOKEN),Re=we?we.u:ne.ACCESS_TOKEN,Ke=Re!==this.eventData.tokenU;i(this.anonId)||(this.anonId=S(),Ke=!0);var ut=this.queue.shift();if(this.eventData.lastSuccess){var wt=new Date(this.eventData.lastSuccess),Ct=new Date(ut),Wt=(ut-this.eventData.lastSuccess)/(24*60*60*1e3);Ke=Ke||Wt>=1||Wt<-1||wt.getDate()!==Ct.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(ut,{"enabled.telemetry":!1},function(nr){nr||(ve.eventData.lastSuccess=ut,ve.eventData.tokenU=Re)},re)}},D}(At),Je=new Vt,Ge=Je.postTurnstileEvent.bind(Je),Ie=new Rt,Fe=Ie.postMapLoadEvent.bind(Ie),Pe="mapbox-tiles",xe=500,ge=50,Me=1e3*60*7,Ae;function Ue(){o.caches&&!Ae&&(Ae=o.caches.open(Pe))}var Ze;function tt(R,D){if(Ze===void 0)try{new Response(new ReadableStream),Ze=!0}catch{Ze=!1}Ze?D(R.body):R.blob().then(D)}function ft(R,D,V){if(Ue(),!!Ae){var re={status:D.status,statusText:D.statusText,headers:new o.Headers};D.headers.forEach(function(Re,Ke){return re.headers.set(Ke,Re)});var ve=te(D.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&re.headers.set("Expires",new Date(V+ve["max-age"]*1e3).toUTCString());var we=new Date(re.headers.get("Expires")).getTime()-V;we<Me||tt(D,function(Re){var Ke=new o.Response(Re,re);Ue(),Ae&&Ae.then(function(ut){return ut.put(pt(R.url),Ke)}).catch(function(ut){return B(ut.message)})})}}}function pt(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function Yt(R,D){if(Ue(),!Ae)return D(null);var V=pt(R.url);Ae.then(function(re){re.match(V).then(function(ve){var we=Jt(ve);re.delete(V),we&&re.put(V,ve.clone()),D(null,ve,we)}).catch(D)}).catch(D)}function Jt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),V=te(R.headers.get("Cache-Control")||"");return D>Date.now()&&!V["no-cache"]}var Tt=1/0;function zt(R){Tt++,Tt>ge&&(R.getActor().send("enforceCacheSizeLimit",xe),Tt=0)}function $t(R){Ue(),Ae&&Ae.then(function(D){D.keys().then(function(V){for(var re=0;re<V.length-R;re++)D.delete(V[re])})})}function wr(R){var D=o.caches.delete(Pe);R&&D.catch(R).then(function(){return R()})}function yt(R,D){xe=R,ge=D}var Xt;function Qt(){return Xt==null&&(Xt=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&typeof o.createImageBitmap=="function"),Xt}var gr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(gr);var sr=function(R){function D(V,re,ve){re===401&&Ve(ve)&&(V+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,V),this.status=re,this.url=ve,this.name=this.constructor.name,this.message=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),vt=$()?function(){return self.worker&&self.worker.referrer}:function(){return(o.location.protocol==="blob:"?o.parent:o).location.href},it=function(R){return/^file:/.test(R)||/^file:/.test(vt())&&!/^\w+:/.test(R)};function xt(R,D){var V=new o.AbortController,re=new o.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:vt(),signal:V.signal}),ve=!1,we=!1,Re=at(re.url);R.type==="json"&&re.headers.set("Accept","application/json");var Ke=function(wt,Ct,Wt){if(!we){if(wt&&wt.message!=="SecurityError"&&B(wt),Ct&&Wt)return ut(Ct);var nr=Date.now();o.fetch(re).then(function(qt){if(qt.ok){var mr=Re?qt.clone():null;return ut(qt,mr,nr)}else return D(new sr(qt.statusText,qt.status,R.url))}).catch(function(qt){qt.code!==20&&D(new Error(qt.message))})}},ut=function(wt,Ct,Wt){(R.type==="arrayBuffer"?wt.arrayBuffer():R.type==="json"?wt.json():wt.text()).then(function(nr){we||(Ct&&Wt&&ft(re,Ct,Wt),ve=!0,D(null,nr,wt.headers.get("Cache-Control"),wt.headers.get("Expires")))}).catch(function(nr){we||D(new Error(nr.message))})};return Re?Yt(re,Ke):Ke(null,null),{cancel:function(){we=!0,ve||V.abort()}}}function Mt(R,D){var V=new o.XMLHttpRequest;V.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(V.responseType="arraybuffer");for(var re in R.headers)V.setRequestHeader(re,R.headers[re]);return R.type==="json"&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials=R.credentials==="include",V.onerror=function(){D(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||V.status===0)&&V.response!==null){var ve=V.response;if(R.type==="json")try{ve=JSON.parse(V.response)}catch(we){return D(we)}D(null,ve,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else D(new sr(V.statusText,V.status,R.url))},V.send(R.body),{cancel:function(){return V.abort()}}}var Dt=function(R,D){if(!it(R.url)){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return xt(R,D);if($()&&self.worker&&self.worker.actor){var V=!0;return self.worker.actor.send("getResource",R,D,void 0,V)}}return Mt(R,D)},Lt=function(R,D){return Dt(A(R,{type:"json"}),D)},Bt=function(R,D){return Dt(A(R,{type:"arrayBuffer"}),D)},Nt=function(R,D){return Dt(A(R,{method:"POST"}),D)};function jt(R){var D=o.document.createElement("a");return D.href=R,D.protocol===o.document.location.protocol&&D.host===o.document.location.host}var lr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function fr(R,D,V,re){var ve=new o.Image,we=o.URL;ve.onload=function(){D(null,ve),we.revokeObjectURL(ve.src),ve.onload=null,o.requestAnimationFrame(function(){ve.src=lr})},ve.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Re=new o.Blob([new Uint8Array(R)],{type:"image/png"});ve.cacheControl=V,ve.expires=re,ve.src=R.byteLength?we.createObjectURL(Re):lr}function hr(R,D){var V=new o.Blob([new Uint8Array(R)],{type:"image/png"});o.createImageBitmap(V).then(function(re){D(null,re)}).catch(function(re){D(new Error("Could not load image because of "+re.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ye,We,kt=function(){Ye=[],We=0};kt();var It=function(R,D){if(fe.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),We>=ne.MAX_PARALLEL_IMAGE_REQUESTS){var V={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(V),V}We++;var re=!1,ve=function(){if(!re)for(re=!0,We--;Ye.length&&We<ne.MAX_PARALLEL_IMAGE_REQUESTS;){var Re=Ye.shift(),Ke=Re.requestParameters,ut=Re.callback,wt=Re.cancelled;wt||(Re.cancel=It(Ke,ut).cancel)}},we=Bt(R,function(Re,Ke,ut,wt){ve(),Re?D(Re):Ke&&(Qt()?hr(Ke,D):fr(Ke,D,ut,wt))});return{cancel:function(){we.cancel(),ve()}}},Zt=function(R,D){var V=o.document.createElement("video");V.muted=!0,V.onloadstart=function(){D(null,V)};for(var re=0;re<R.length;re++){var ve=o.document.createElement("source");jt(R[re])||(V.crossOrigin="Anonymous"),ve.src=R[re],V.appendChild(ve)}return{cancel:function(){}}};function rr(R,D,V){var re=V[R]&&V[R].indexOf(D)!==-1;re||(V[R]=V[R]||[],V[R].push(D))}function ur(R,D,V){if(V&&V[R]){var re=V[R].indexOf(D);re!==-1&&V[R].splice(re,1)}}var er=function(D,V){V===void 0&&(V={}),A(this,V),this.type=D},Ot=function(R){function D(V,re){re===void 0&&(re={}),R.call(this,"error",A({error:V},re))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(er),vr=function(){};vr.prototype.on=function(D,V){return this._listeners=this._listeners||{},rr(D,V,this._listeners),this},vr.prototype.off=function(D,V){return ur(D,V,this._listeners),ur(D,V,this._oneTimeListeners),this},vr.prototype.once=function(D,V){return this._oneTimeListeners=this._oneTimeListeners||{},rr(D,V,this._oneTimeListeners),this},vr.prototype.fire=function(D,V){typeof D=="string"&&(D=new er(D,V||{}));var re=D.type;if(this.listens(re)){D.target=this;for(var ve=this._listeners&&this._listeners[re]?this._listeners[re].slice():[],we=0,Re=ve;we<Re.length;we+=1){var Ke=Re[we];Ke.call(this,D)}for(var ut=this._oneTimeListeners&&this._oneTimeListeners[re]?this._oneTimeListeners[re].slice():[],wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt];ur(re,Wt,this._oneTimeListeners),Wt.call(this,D)}var nr=this._eventedParent;nr&&(A(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),nr.fire(D))}else D instanceof Ot&&console.error(D.error);return this},vr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},vr.prototype.setEventedParent=function(D,V){return this._eventedParent=D,this._eventedParentData=V,this};var yr=8,pr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},cr={"*":{type:"source"}},Ur=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],kr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Rr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},hn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},tn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Fn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},mn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Mr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Er=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Wr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},an={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},vn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},En={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},_n={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},oa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Kn={type:"array",value:"*"},$n={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Yn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Jn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Tr={type:"array",value:"*",minimum:1},on={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},rn=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],dn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Gn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Tn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Mn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Un={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},qn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ba={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Va={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Sr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Nr={"*":{type:"string"}},br={$version:yr,$root:pr,sources:cr,source:Ur,source_vector:kr,source_raster:Rr,source_raster_dem:hn,source_geojson:tn,source_video:Fn,source_image:mn,layer:Mr,layout:Er,layout_background:Wr,layout_fill:Hr,layout_circle:an,layout_heatmap:vn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:pn,layout_symbol:En,layout_raster:_n,layout_hillshade:oa,filter:Kn,filter_operator:$n,geometry_type:Yn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Jn,expression:Tr,light:on,paint:rn,paint_fill:dn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Gn,paint_circle:Tn,paint_heatmap:Mn,paint_symbol:Un,paint_raster:qn,paint_hillshade:ba,paint_background:Va,transition:Sr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Nr},zr=function(D,V,re,ve){this.message=(D?D+": ":"")+re,ve&&(this.identifier=ve),V!=null&&V.__line__&&(this.line=V.__line__)};function bn(R){var D=R.key,V=R.value;return V?[new zr(D,V,"constants have been deprecated as of v8")]:[]}function Pn(R){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];for(var re=0,ve=D;re<ve.length;re+=1){var we=ve[re];for(var Re in we)R[Re]=we[Re]}return R}function gn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function cn(R){if(Array.isArray(R))return R.map(cn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var V in R)D[V]=cn(R[V]);return D}return gn(R)}var Lr=function(R){function D(V,re){R.call(this,re),this.message=re,this.key=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),jr=function(D,V){V===void 0&&(V=[]),this.parent=D,this.bindings={};for(var re=0,ve=V;re<ve.length;re+=1){var we=ve[re],Re=we[0],Ke=we[1];this.bindings[Re]=Ke}};jr.prototype.concat=function(D){return new jr(this,D)},jr.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},jr.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Gr={kind:"null"},Qr={kind:"number"},wn={kind:"string"},kn={kind:"boolean"},Dn={kind:"color"},Nn={kind:"object"},On={kind:"value"},ga={kind:"error"},la={kind:"collator"},pa={kind:"formatted"},La={kind:"resolvedImage"};function vi(R,D){return{kind:"array",itemType:R,N:D}}function ti(R){if(R.kind==="array"){var D=ti(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var _o=[Gr,Qr,wn,kn,Dn,pa,Nn,vi(On),La];function Co(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Co(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var V=0,re=_o;V<re.length;V+=1){var ve=re[V];if(!Co(ve,D))return null}}return"Expected "+ti(R)+" but found "+ti(D)+" instead."}function eo(R,D){return D.some(function(V){return V.kind===R.kind})}function Ll(R,D){return D.some(function(V){return V==="null"?R===null:V==="array"?Array.isArray(R):V==="object"?R&&!Array.isArray(R)&&typeof R=="object":V===typeof R})}var df=L(function(R,D){var V={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function re(wt){return wt=Math.round(wt),wt<0?0:wt>255?255:wt}function ve(wt){return wt<0?0:wt>1?1:wt}function we(wt){return wt[wt.length-1]==="%"?re(parseFloat(wt)/100*255):re(parseInt(wt))}function Re(wt){return wt[wt.length-1]==="%"?ve(parseFloat(wt)/100):ve(parseFloat(wt))}function Ke(wt,Ct,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?wt+(Ct-wt)*Wt*6:Wt*2<1?Ct:Wt*3<2?wt+(Ct-wt)*(2/3-Wt)*6:wt}function ut(wt){var Ct=wt.replace(/ /g,"").toLowerCase();if(Ct in V)return V[Ct].slice();if(Ct[0]==="#"){if(Ct.length===4){var Wt=parseInt(Ct.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Ct.length===7){var Wt=parseInt(Ct.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var nr=Ct.indexOf("("),qt=Ct.indexOf(")");if(nr!==-1&&qt+1===Ct.length){var mr=Ct.substr(0,nr),Or=Ct.substr(nr+1,qt-(nr+1)).split(","),sn=1;switch(mr){case"rgba":if(Or.length!==4)return null;sn=Re(Or.pop());case"rgb":return Or.length!==3?null:[we(Or[0]),we(Or[1]),we(Or[2]),sn];case"hsla":if(Or.length!==4)return null;sn=Re(Or.pop());case"hsl":if(Or.length!==3)return null;var qr=(parseFloat(Or[0])%360+360)%360/360,Sn=Re(Or[1]),yn=Re(Or[2]),An=yn<=.5?yn*(Sn+1):yn+Sn-yn*Sn,In=yn*2-An;return[re(Ke(In,An,qr+1/3)*255),re(Ke(In,An,qr)*255),re(Ke(In,An,qr-1/3)*255),sn];default:return null}}return null}try{D.parseCSSColor=ut}catch{}}),$f=df.parseCSSColor,$a=function(D,V,re,ve){ve===void 0&&(ve=1),this.r=D,this.g=V,this.b=re,this.a=ve};$a.parse=function(D){if(D){if(D instanceof $a)return D;if(typeof D=="string"){var V=$f(D);if(V)return new $a(V[0]/255*V[3],V[1]/255*V[3],V[2]/255*V[3],V[3])}}},$a.prototype.toString=function(){var D=this.toArray(),V=D[0],re=D[1],ve=D[2],we=D[3];return"rgba("+Math.round(V)+","+Math.round(re)+","+Math.round(ve)+","+we+")"},$a.prototype.toArray=function(){var D=this,V=D.r,re=D.g,ve=D.b,we=D.a;return we===0?[0,0,0,0]:[V*255/we,re*255/we,ve*255/we,we]},$a.black=new $a(0,0,0,1),$a.white=new $a(1,1,1,1),$a.transparent=new $a(0,0,0,0),$a.red=new $a(1,0,0,1);var iu=function(D,V,re){D?this.sensitivity=V?"variant":"case":this.sensitivity=V?"accent":"base",this.locale=re,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};iu.prototype.compare=function(D,V){return this.collator.compare(D,V)},iu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var pf=function(D,V,re,ve,we){this.text=D,this.image=V,this.scale=re,this.fontStack=ve,this.textColor=we},ji=function(D){this.sections=D};ji.fromString=function(D){return new ji([new pf(D,null,null,null,null)])},ji.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},ji.factory=function(D){return D instanceof ji?D:ji.fromString(D)},ji.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},ji.prototype.serialize=function(){for(var D=["format"],V=0,re=this.sections;V<re.length;V+=1){var ve=re[V];if(ve.image){D.push(["image",ve.image.name]);continue}D.push(ve.text);var we={};ve.fontStack&&(we["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(we["font-scale"]=ve.scale),ve.textColor&&(we["text-color"]=["rgba"].concat(ve.textColor.toArray())),D.push(we)}return D};var xo=function(D){this.name=D.name,this.available=D.available};xo.prototype.toString=function(){return this.name},xo.fromString=function(D){return D?new xo({name:D,available:!1}):null},xo.prototype.serialize=function(){return["image",this.name]};function Pl(R,D,V,re){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof V=="number"&&V>=0&&V<=255)){var ve=typeof re=="number"?[R,D,V,re]:[R,D,V];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof re>"u"||typeof re=="number"&&re>=0&&re<=1?null:"Invalid rgba value ["+[R,D,V,re].join(", ")+"]: 'a' must be between 0 and 1."}function Uu(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof $a)return!0;if(R instanceof iu)return!0;if(R instanceof ji)return!0;if(R instanceof xo)return!0;if(Array.isArray(R)){for(var D=0,V=R;D<V.length;D+=1){var re=V[D];if(!Uu(re))return!1}return!0}else if(typeof R=="object"){for(var ve in R)if(!Uu(R[ve]))return!1;return!0}else return!1}function Ii(R){if(R===null)return Gr;if(typeof R=="string")return wn;if(typeof R=="boolean")return kn;if(typeof R=="number")return Qr;if(R instanceof $a)return Dn;if(R instanceof iu)return la;if(R instanceof ji)return pa;if(R instanceof xo)return La;if(Array.isArray(R)){for(var D=R.length,V,re=0,ve=R;re<ve.length;re+=1){var we=ve[re],Re=Ii(we);if(!V)V=Re;else{if(V===Re)continue;V=On;break}}return vi(V||On,D)}else return Nn}function Rl(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof $a||R instanceof ji||R instanceof xo?R.toString():JSON.stringify(R)}var zi=function(D,V){this.type=D,this.value=V};zi.parse=function(D,V){if(D.length!==2)return V.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!Uu(D[1]))return V.error("invalid value");var re=D[1],ve=Ii(re),we=V.expectedType;return ve.kind==="array"&&ve.N===0&&we&&we.kind==="array"&&(typeof we.N!="number"||we.N===0)&&(ve=we),new zi(ve,re)},zi.prototype.evaluate=function(){return this.value},zi.prototype.eachChild=function(){},zi.prototype.outputDefined=function(){return!0},zi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof $a?["rgba"].concat(this.value.toArray()):this.value instanceof ji?this.value.serialize():this.value};var Hi=function(D){this.name="ExpressionEvaluationError",this.message=D};Hi.prototype.toJSON=function(){return this.message};var Dl={string:wn,number:Qr,boolean:kn,object:Nn},to=function(D,V){this.type=D,this.args=V};to.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var re=1,ve,we=D[0];if(we==="array"){var Re;if(D.length>2){var Ke=D[1];if(typeof Ke!="string"||!(Ke in Dl)||Ke==="object")return V.error('The item type argument of "array" must be one of string, number, boolean',1);Re=Dl[Ke],re++}else Re=On;var ut;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return V.error('The length argument to "array" must be a positive integer literal',2);ut=D[2],re++}ve=vi(Re,ut)}else ve=Dl[we];for(var wt=[];re<D.length;re++){var Ct=V.parse(D[re],re,On);if(!Ct)return null;wt.push(Ct)}return new to(ve,wt)},to.prototype.evaluate=function(D){for(var V=0;V<this.args.length;V++){var re=this.args[V].evaluate(D),ve=Co(this.type,Ii(re));if(ve){if(V===this.args.length-1)throw new Hi("Expected value to be of type "+ti(this.type)+", but found "+ti(Ii(re))+" instead.")}else return re}return null},to.prototype.eachChild=function(D){this.args.forEach(D)},to.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},to.prototype.serialize=function(){var D=this.type,V=[D.kind];if(D.kind==="array"){var re=D.itemType;if(re.kind==="string"||re.kind==="number"||re.kind==="boolean"){V.push(re.kind);var ve=D.N;(typeof ve=="number"||this.args.length>1)&&V.push(ve)}}return V.concat(this.args.map(function(we){return we.serialize()}))};var ro=function(D){this.type=pa,this.sections=D};ro.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var re=D[1];if(!Array.isArray(re)&&typeof re=="object")return V.error("First argument must be an image or text section.");for(var ve=[],we=!1,Re=1;Re<=D.length-1;++Re){var Ke=D[Re];if(we&&typeof Ke=="object"&&!Array.isArray(Ke)){we=!1;var ut=null;if(Ke["font-scale"]&&(ut=V.parse(Ke["font-scale"],1,Qr),!ut))return null;var wt=null;if(Ke["text-font"]&&(wt=V.parse(Ke["text-font"],1,vi(wn)),!wt))return null;var Ct=null;if(Ke["text-color"]&&(Ct=V.parse(Ke["text-color"],1,Dn),!Ct))return null;var Wt=ve[ve.length-1];Wt.scale=ut,Wt.font=wt,Wt.textColor=Ct}else{var nr=V.parse(D[Re],1,On);if(!nr)return null;var qt=nr.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return V.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");we=!0,ve.push({content:nr,scale:null,font:null,textColor:null})}}return new ro(ve)},ro.prototype.evaluate=function(D){var V=function(re){var ve=re.content.evaluate(D);return Ii(ve)===La?new pf("",ve,null,null,null):new pf(Rl(ve),null,re.scale?re.scale.evaluate(D):null,re.font?re.font.evaluate(D).join(","):null,re.textColor?re.textColor.evaluate(D):null)};return new ji(this.sections.map(V))},ro.prototype.eachChild=function(D){for(var V=0,re=this.sections;V<re.length;V+=1){var ve=re[V];D(ve.content),ve.scale&&D(ve.scale),ve.font&&D(ve.font),ve.textColor&&D(ve.textColor)}},ro.prototype.outputDefined=function(){return!1},ro.prototype.serialize=function(){for(var D=["format"],V=0,re=this.sections;V<re.length;V+=1){var ve=re[V];D.push(ve.content.serialize());var we={};ve.scale&&(we["font-scale"]=ve.scale.serialize()),ve.font&&(we["text-font"]=ve.font.serialize()),ve.textColor&&(we["text-color"]=ve.textColor.serialize()),D.push(we)}return D};var zo=function(D){this.type=La,this.input=D};zo.parse=function(D,V){if(D.length!==2)return V.error("Expected two arguments.");var re=V.parse(D[1],1,wn);return re?new zo(re):V.error("No image name provided.")},zo.prototype.evaluate=function(D){var V=this.input.evaluate(D),re=xo.fromString(V);return re&&D.availableImages&&(re.available=D.availableImages.indexOf(V)>-1),re},zo.prototype.eachChild=function(D){D(this.input)},zo.prototype.outputDefined=function(){return!1},zo.prototype.serialize=function(){return["image",this.input.serialize()]};var qf={"to-boolean":kn,"to-color":Dn,"to-number":Qr,"to-string":wn},Lo=function(D,V){this.type=D,this.args=V};Lo.parse=function(D,V){if(D.length<2)return V.error("Expected at least one argument.");var re=D[0];if((re==="to-boolean"||re==="to-string")&&D.length!==2)return V.error("Expected one argument.");for(var ve=qf[re],we=[],Re=1;Re<D.length;Re++){var Ke=V.parse(D[Re],Re,On);if(!Ke)return null;we.push(Ke)}return new Lo(ve,we)},Lo.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var V,re,ve=0,we=this.args;ve<we.length;ve+=1){var Re=we[ve];if(V=Re.evaluate(D),re=null,V instanceof $a)return V;if(typeof V=="string"){var Ke=D.parseColor(V);if(Ke)return Ke}else if(Array.isArray(V)&&(V.length<3||V.length>4?re="Invalid rbga value "+JSON.stringify(V)+": expected an array containing either three or four numeric values.":re=Pl(V[0],V[1],V[2],V[3]),!re))return new $a(V[0]/255,V[1]/255,V[2]/255,V[3])}throw new Hi(re||"Could not parse color from value '"+(typeof V=="string"?V:String(JSON.stringify(V)))+"'")}else if(this.type.kind==="number"){for(var ut=null,wt=0,Ct=this.args;wt<Ct.length;wt+=1){var Wt=Ct[wt];if(ut=Wt.evaluate(D),ut===null)return 0;var nr=Number(ut);if(!isNaN(nr))return nr}throw new Hi("Could not convert "+JSON.stringify(ut)+" to number.")}else return this.type.kind==="formatted"?ji.fromString(Rl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?xo.fromString(Rl(this.args[0].evaluate(D))):Rl(this.args[0].evaluate(D))},Lo.prototype.eachChild=function(D){this.args.forEach(D)},Lo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Lo.prototype.serialize=function(){if(this.type.kind==="formatted")return new ro([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new zo(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(V){D.push(V.serialize())}),D};var ah=["Unknown","Point","LineString","Polygon"],cs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};cs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},cs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ah[this.feature.type]:this.feature.type:null},cs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},cs.prototype.canonicalID=function(){return this.canonical},cs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},cs.prototype.parseColor=function(D){var V=this._parseColorCache[D];return V||(V=this._parseColorCache[D]=$a.parse(D)),V};var Ki=function(D,V,re,ve){this.name=D,this.type=V,this._evaluate=re,this.args=ve};Ki.prototype.evaluate=function(D){return this._evaluate(D,this.args)},Ki.prototype.eachChild=function(D){this.args.forEach(D)},Ki.prototype.outputDefined=function(){return!1},Ki.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},Ki.parse=function(D,V){var re,ve=D[0],we=Ki.definitions[ve];if(!we)return V.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Re=Array.isArray(we)?we[0]:we.type,Ke=Array.isArray(we)?[[we[1],we[2]]]:we.overloads,ut=Ke.filter(function(Ta){var Ea=Ta[0];return!Array.isArray(Ea)||Ea.length===D.length-1}),wt=null,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var nr=Wt[Ct],qt=nr[0],mr=nr[1];wt=new vs(V.registry,V.path,null,V.scope);for(var Or=[],sn=!1,qr=1;qr<D.length;qr++){var Sn=D[qr],yn=Array.isArray(qt)?qt[qr-1]:qt.type,An=wt.parse(Sn,1+Or.length,yn);if(!An){sn=!0;break}Or.push(An)}if(!sn){if(Array.isArray(qt)&&qt.length!==Or.length){wt.error("Expected "+qt.length+" arguments, but found "+Or.length+" instead.");continue}for(var In=0;In<Or.length;In++){var Vn=Array.isArray(qt)?qt[In]:qt.type,ia=Or[In];wt.concat(In+1).checkSubtype(Vn,ia.type)}if(wt.errors.length===0)return new Ki(ve,Re,mr,Or)}}if(ut.length===1)(re=V.errors).push.apply(re,wt.errors);else{for(var ra=ut.length?ut:Ke,wa=ra.map(function(Ta){var Ea=Ta[0];return gf(Ea)}).join(" | "),da=[],xa=1;xa<D.length;xa++){var Ba=V.parse(D[xa],1+da.length);if(!Ba)return null;da.push(ti(Ba.type))}V.error("Expected arguments of type "+wa+", but found ("+da.join(", ")+") instead.")}return null},Ki.register=function(D,V){Ki.definitions=V;for(var re in V)D[re]=Ki};function gf(R){return Array.isArray(R)?"("+R.map(ti).join(", ")+")":"("+ti(R.type)+"...)"}var Us=function(D,V,re){this.type=la,this.locale=re,this.caseSensitive=D,this.diacriticSensitive=V};Us.parse=function(D,V){if(D.length!==2)return V.error("Expected one argument.");var re=D[1];if(typeof re!="object"||Array.isArray(re))return V.error("Collator options argument must be an object.");var ve=V.parse(re["case-sensitive"]===void 0?!1:re["case-sensitive"],1,kn);if(!ve)return null;var we=V.parse(re["diacritic-sensitive"]===void 0?!1:re["diacritic-sensitive"],1,kn);if(!we)return null;var Re=null;return re.locale&&(Re=V.parse(re.locale,1,wn),!Re)?null:new Us(ve,we,Re)},Us.prototype.evaluate=function(D){return new iu(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Us.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Us.prototype.outputDefined=function(){return!1},Us.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var hs=8192;function yf(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function ec(R){return(180+R)/360}function ih(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Hu(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function oh(R,D){var V=ec(R[0]),re=ih(R[1]),ve=Math.pow(2,D.z);return[Math.round(V*ve*hs),Math.round(re*ve*hs)]}function sh(R,D,V){var re=R[0]-D[0],ve=R[1]-D[1],we=R[0]-V[0],Re=R[1]-V[1];return re*Re-we*ve===0&&re*we<=0&&ve*Re<=0}function lh(R,D,V){return D[1]>R[1]!=V[1]>R[1]&&R[0]<(V[0]-D[0])*(R[1]-D[1])/(V[1]-D[1])+D[0]}function mf(R,D){for(var V=!1,re=0,ve=D.length;re<ve;re++)for(var we=D[re],Re=0,Ke=we.length;Re<Ke-1;Re++){if(sh(R,we[Re],we[Re+1]))return!1;lh(R,we[Re],we[Re+1])&&(V=!V)}return V}function uh(R,D){for(var V=0;V<D.length;V++)if(mf(R,D[V]))return!0;return!1}function fh(R,D){return R[0]*D[1]-R[1]*D[0]}function tc(R,D,V,re){var ve=R[0]-V[0],we=R[1]-V[1],Re=D[0]-V[0],Ke=D[1]-V[1],ut=re[0]-V[0],wt=re[1]-V[1],Ct=ve*wt-ut*we,Wt=Re*wt-ut*Ke;return Ct>0&&Wt<0||Ct<0&&Wt>0}function rc(R,D,V,re){var ve=[D[0]-R[0],D[1]-R[1]],we=[re[0]-V[0],re[1]-V[1]];return fh(we,ve)===0?!1:!!(tc(R,D,V,re)&&tc(V,re,R,D))}function il(R,D,V){for(var re=0,ve=V;re<ve.length;re+=1)for(var we=ve[re],Re=0;Re<we.length-1;++Re)if(rc(R,D,we[Re],we[Re+1]))return!0;return!1}function Il(R,D){for(var V=0;V<R.length;++V)if(!mf(R[V],D))return!1;for(var re=0;re<R.length-1;++re)if(il(R[re],R[re+1],D))return!1;return!0}function ou(R,D){for(var V=0;V<D.length;V++)if(Il(R,D[V]))return!0;return!1}function su(R,D,V){for(var re=[],ve=0;ve<R.length;ve++){for(var we=[],Re=0;Re<R[ve].length;Re++){var Ke=oh(R[ve][Re],V);yf(D,Ke),we.push(Ke)}re.push(we)}return re}function nc(R,D,V){for(var re=[],ve=0;ve<R.length;ve++){var we=su(R[ve],D,V);re.push(we)}return re}function Es(R,D,V,re){if(R[0]<V[0]||R[0]>V[2]){var ve=re*.5,we=R[0]-V[0]>ve?-re:V[0]-R[0]>ve?re:0;we===0&&(we=R[0]-V[2]>ve?-re:V[2]-R[0]>ve?re:0),R[0]+=we}yf(D,R)}function ch(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Vu(R,D,V,re){for(var ve=Math.pow(2,re.z)*hs,we=[re.x*hs,re.y*hs],Re=[],Ke=0,ut=R;Ke<ut.length;Ke+=1)for(var wt=ut[Ke],Ct=0,Wt=wt;Ct<Wt.length;Ct+=1){var nr=Wt[Ct],qt=[nr.x+we[0],nr.y+we[1]];Es(qt,D,V,ve),Re.push(qt)}return Re}function ac(R,D,V,re){for(var ve=Math.pow(2,re.z)*hs,we=[re.x*hs,re.y*hs],Re=[],Ke=0,ut=R;Ke<ut.length;Ke+=1){for(var wt=ut[Ke],Ct=[],Wt=0,nr=wt;Wt<nr.length;Wt+=1){var qt=nr[Wt],mr=[qt.x+we[0],qt.y+we[1]];yf(D,mr),Ct.push(mr)}Re.push(Ct)}if(D[2]-D[0]<=ve/2){ch(D);for(var Or=0,sn=Re;Or<sn.length;Or+=1)for(var qr=sn[Or],Sn=0,yn=qr;Sn<yn.length;Sn+=1){var An=yn[Sn];Es(An,D,V,ve)}}return Re}function ic(R,D){var V=[1/0,1/0,-1/0,-1/0],re=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var we=su(D.coordinates,re,ve),Re=Vu(R.geometry(),V,re,ve);if(!Hu(V,re))return!1;for(var Ke=0,ut=Re;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(!mf(wt,we))return!1}}if(D.type==="MultiPolygon"){var Ct=nc(D.coordinates,re,ve),Wt=Vu(R.geometry(),V,re,ve);if(!Hu(V,re))return!1;for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var mr=qt[nr];if(!uh(mr,Ct))return!1}}return!0}function Gu(R,D){var V=[1/0,1/0,-1/0,-1/0],re=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var we=su(D.coordinates,re,ve),Re=ac(R.geometry(),V,re,ve);if(!Hu(V,re))return!1;for(var Ke=0,ut=Re;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(!Il(wt,we))return!1}}if(D.type==="MultiPolygon"){var Ct=nc(D.coordinates,re,ve),Wt=ac(R.geometry(),V,re,ve);if(!Hu(V,re))return!1;for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var mr=qt[nr];if(!ou(mr,Ct))return!1}}return!0}var Xo=function(D,V){this.type=kn,this.geojson=D,this.geometries=V};Xo.parse=function(D,V){if(D.length!==2)return V.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(Uu(D[1])){var re=D[1];if(re.type==="FeatureCollection")for(var ve=0;ve<re.features.length;++ve){var we=re.features[ve].geometry.type;if(we==="Polygon"||we==="MultiPolygon")return new Xo(re,re.features[ve].geometry)}else if(re.type==="Feature"){var Re=re.geometry.type;if(Re==="Polygon"||Re==="MultiPolygon")return new Xo(re,re.geometry)}else if(re.type==="Polygon"||re.type==="MultiPolygon")return new Xo(re,re)}return V.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Xo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return ic(D,this.geometries);if(D.geometryType()==="LineString")return Gu(D,this.geometries)}return!1},Xo.prototype.eachChild=function(){},Xo.prototype.outputDefined=function(){return!0},Xo.prototype.serialize=function(){return["within",this.geojson]};function kl(R){if(R instanceof Ki){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Xo)return!1;var D=!0;return R.eachChild(function(V){D&&!kl(V)&&(D=!1)}),D}function ol(R){if(R instanceof Ki&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(V){D&&!ol(V)&&(D=!1)}),D}function lu(R,D){if(R instanceof Ki&&D.indexOf(R.name)>=0)return!1;var V=!0;return R.eachChild(function(re){V&&!lu(re,D)&&(V=!1)}),V}var Hs=function(D,V){this.type=V.type,this.name=D,this.boundExpression=V};Hs.parse=function(D,V){if(D.length!==2||typeof D[1]!="string")return V.error("'var' expression requires exactly one string literal argument.");var re=D[1];return V.scope.has(re)?new Hs(re,V.scope.get(re)):V.error('Unknown variable "'+re+'". Make sure "'+re+'" has been bound in an enclosing "let" expression before using it.',1)},Hs.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Hs.prototype.eachChild=function(){},Hs.prototype.outputDefined=function(){return!1},Hs.prototype.serialize=function(){return["var",this.name]};var vs=function(D,V,re,ve,we){V===void 0&&(V=[]),ve===void 0&&(ve=new jr),we===void 0&&(we=[]),this.registry=D,this.path=V,this.key=V.map(function(Re){return"["+Re+"]"}).join(""),this.scope=ve,this.errors=we,this.expectedType=re};vs.prototype.parse=function(D,V,re,ve,we){return we===void 0&&(we={}),V?this.concat(V,re,ve)._parse(D,we):this._parse(D,we)},vs.prototype._parse=function(D,V){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function re(Ct,Wt,nr){return nr==="assert"?new to(Wt,[Ct]):nr==="coerce"?new Lo(Wt,[Ct]):Ct}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=D[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var we=this.registry[ve];if(we){var Re=we.parse(D,this);if(!Re)return null;if(this.expectedType){var Ke=this.expectedType,ut=Re.type;if((Ke.kind==="string"||Ke.kind==="number"||Ke.kind==="boolean"||Ke.kind==="object"||Ke.kind==="array")&&ut.kind==="value")Re=re(Re,Ke,V.typeAnnotation||"assert");else if((Ke.kind==="color"||Ke.kind==="formatted"||Ke.kind==="resolvedImage")&&(ut.kind==="value"||ut.kind==="string"))Re=re(Re,Ke,V.typeAnnotation||"coerce");else if(this.checkSubtype(Ke,ut))return null}if(!(Re instanceof zi)&&Re.type.kind!=="resolvedImage"&&xf(Re)){var wt=new cs;try{Re=new zi(Re.type,Re.evaluate(wt))}catch(Ct){return this.error(Ct.message),null}}return Re}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},vs.prototype.concat=function(D,V,re){var ve=typeof D=="number"?this.path.concat(D):this.path,we=re?this.scope.concat(re):this.scope;return new vs(this.registry,ve,V||null,we,this.errors)},vs.prototype.error=function(D){for(var V=[],re=arguments.length-1;re-- >0;)V[re]=arguments[re+1];var ve=""+this.key+V.map(function(we){return"["+we+"]"}).join("");this.errors.push(new Lr(ve,D))},vs.prototype.checkSubtype=function(D,V){var re=Co(D,V);return re&&this.error(re),re};function xf(R){if(R instanceof Hs)return xf(R.boundExpression);if(R instanceof Ki&&R.name==="error")return!1;if(R instanceof Us)return!1;if(R instanceof Xo)return!1;var D=R instanceof Lo||R instanceof to,V=!0;return R.eachChild(function(re){D?V=V&&xf(re):V=V&&re instanceof zi}),V?kl(R)&&lu(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function _l(R,D){for(var V=R.length-1,re=0,ve=V,we=0,Re,Ke;re<=ve;)if(we=Math.floor((re+ve)/2),Re=R[we],Ke=R[we+1],Re<=D){if(we===V||D<Ke)return we;re=we+1}else if(Re>D)ve=we-1;else throw new Hi("Input is not a number.");return 0}var jo=function(D,V,re){this.type=D,this.input=V,this.labels=[],this.outputs=[];for(var ve=0,we=re;ve<we.length;ve+=1){var Re=we[ve],Ke=Re[0],ut=Re[1];this.labels.push(Ke),this.outputs.push(ut)}};jo.parse=function(D,V){if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");var re=V.parse(D[1],1,Qr);if(!re)return null;var ve=[],we=null;V.expectedType&&V.expectedType.kind!=="value"&&(we=V.expectedType);for(var Re=1;Re<D.length;Re+=2){var Ke=Re===1?-1/0:D[Re],ut=D[Re+1],wt=Re,Ct=Re+1;if(typeof Ke!="number")return V.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',wt);if(ve.length&&ve[ve.length-1][0]>=Ke)return V.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',wt);var Wt=V.parse(ut,Ct,we);if(!Wt)return null;we=we||Wt.type,ve.push([Ke,Wt])}return new jo(we,re,ve)},jo.prototype.evaluate=function(D){var V=this.labels,re=this.outputs;if(V.length===1)return re[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=V[0])return re[0].evaluate(D);var we=V.length;if(ve>=V[we-1])return re[we-1].evaluate(D);var Re=_l(V,ve);return re[Re].evaluate(D)},jo.prototype.eachChild=function(D){D(this.input);for(var V=0,re=this.outputs;V<re.length;V+=1){var ve=re[V];D(ve)}},jo.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},jo.prototype.serialize=function(){for(var D=["step",this.input.serialize()],V=0;V<this.labels.length;V++)V>0&&D.push(this.labels[V]),D.push(this.outputs[V].serialize());return D};function Pi(R,D,V){return R*(1-V)+D*V}function bf(R,D,V){return new $a(Pi(R.r,D.r,V),Pi(R.g,D.g,V),Pi(R.b,D.b,V),Pi(R.a,D.a,V))}function hh(R,D,V){return R.map(function(re,ve){return Pi(re,D[ve],V)})}var Wu=Object.freeze({__proto__:null,number:Pi,color:bf,array:hh}),zl=.95047,Ol=1,Po=1.08883,Yu=4/29,Fl=6/29,Zu=3*Fl*Fl,vh=Fl*Fl*Fl,oc=Math.PI/180,wf=180/Math.PI;function Tf(R){return R>vh?Math.pow(R,.3333333333333333):R/Zu+Yu}function Af(R){return R>Fl?R*R*R:Zu*(R-Yu)}function Bl(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function Xu(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function uu(R){var D=Xu(R.r),V=Xu(R.g),re=Xu(R.b),ve=Tf((.4124564*D+.3575761*V+.1804375*re)/zl),we=Tf((.2126729*D+.7151522*V+.072175*re)/Ol),Re=Tf((.0193339*D+.119192*V+.9503041*re)/Po);return{l:116*we-16,a:500*(ve-we),b:200*(we-Re),alpha:R.a}}function ju(R){var D=(R.l+16)/116,V=isNaN(R.a)?D:D+R.a/500,re=isNaN(R.b)?D:D-R.b/200;return D=Ol*Af(D),V=zl*Af(V),re=Po*Af(re),new $a(Bl(3.2404542*V-1.5371385*D-.4985314*re),Bl(-.969266*V+1.8760108*D+.041556*re),Bl(.0556434*V-.2040259*D+1.0572252*re),R.alpha)}function di(R,D,V){return{l:Pi(R.l,D.l,V),a:Pi(R.a,D.a,V),b:Pi(R.b,D.b,V),alpha:Pi(R.alpha,D.alpha,V)}}function sc(R){var D=uu(R),V=D.l,re=D.a,ve=D.b,we=Math.atan2(ve,re)*wf;return{h:we<0?we+360:we,c:Math.sqrt(re*re+ve*ve),l:V,alpha:R.a}}function Ko(R){var D=R.h*oc,V=R.c,re=R.l;return ju({l:re,a:Math.cos(D)*V,b:Math.sin(D)*V,alpha:R.alpha})}function lc(R,D,V){var re=D-R;return R+V*(re>180||re<-180?re-360*Math.round(re/360):re)}function Mf(R,D,V){return{h:lc(R.h,D.h,V),c:Pi(R.c,D.c,V),l:Pi(R.l,D.l,V),alpha:Pi(R.alpha,D.alpha,V)}}var sl={forward:uu,reverse:ju,interpolate:di},Vs={forward:sc,reverse:Ko,interpolate:Mf},Ku=Object.freeze({__proto__:null,lab:sl,hcl:Vs}),ki=function(D,V,re,ve,we){this.type=D,this.operator=V,this.interpolation=re,this.input=ve,this.labels=[],this.outputs=[];for(var Re=0,Ke=we;Re<Ke.length;Re+=1){var ut=Ke[Re],wt=ut[0],Ct=ut[1];this.labels.push(wt),this.outputs.push(Ct)}};ki.interpolationFactor=function(D,V,re,ve){var we=0;if(D.name==="exponential")we=fu(V,D.base,re,ve);else if(D.name==="linear")we=fu(V,1,re,ve);else if(D.name==="cubic-bezier"){var Re=D.controlPoints,Ke=new v(Re[0],Re[1],Re[2],Re[3]);we=Ke.solve(fu(V,1,re,ve))}return we},ki.parse=function(D,V){var re=D[0],ve=D[1],we=D[2],Re=D.slice(3);if(!Array.isArray(ve)||ve.length===0)return V.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Ke=ve[1];if(typeof Ke!="number")return V.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Ke}}else if(ve[0]==="cubic-bezier"){var ut=ve.slice(1);if(ut.length!==4||ut.some(function(qr){return typeof qr!="number"||qr<0||qr>1}))return V.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:ut}}else return V.error("Unknown interpolation type "+String(ve[0]),1,0);if(D.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return V.error("Expected an even number of arguments.");if(we=V.parse(we,2,Qr),!we)return null;var wt=[],Ct=null;re==="interpolate-hcl"||re==="interpolate-lab"?Ct=Dn:V.expectedType&&V.expectedType.kind!=="value"&&(Ct=V.expectedType);for(var Wt=0;Wt<Re.length;Wt+=2){var nr=Re[Wt],qt=Re[Wt+1],mr=Wt+3,Or=Wt+4;if(typeof nr!="number")return V.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mr);if(wt.length&&wt[wt.length-1][0]>=nr)return V.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',mr);var sn=V.parse(qt,Or,Ct);if(!sn)return null;Ct=Ct||sn.type,wt.push([nr,sn])}return Ct.kind!=="number"&&Ct.kind!=="color"&&!(Ct.kind==="array"&&Ct.itemType.kind==="number"&&typeof Ct.N=="number")?V.error("Type "+ti(Ct)+" is not interpolatable."):new ki(Ct,re,ve,we,wt)},ki.prototype.evaluate=function(D){var V=this.labels,re=this.outputs;if(V.length===1)return re[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=V[0])return re[0].evaluate(D);var we=V.length;if(ve>=V[we-1])return re[we-1].evaluate(D);var Re=_l(V,ve),Ke=V[Re],ut=V[Re+1],wt=ki.interpolationFactor(this.interpolation,ve,Ke,ut),Ct=re[Re].evaluate(D),Wt=re[Re+1].evaluate(D);return this.operator==="interpolate"?Wu[this.type.kind.toLowerCase()](Ct,Wt,wt):this.operator==="interpolate-hcl"?Vs.reverse(Vs.interpolate(Vs.forward(Ct),Vs.forward(Wt),wt)):sl.reverse(sl.interpolate(sl.forward(Ct),sl.forward(Wt),wt))},ki.prototype.eachChild=function(D){D(this.input);for(var V=0,re=this.outputs;V<re.length;V+=1){var ve=re[V];D(ve)}},ki.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},ki.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var V=[this.operator,D,this.input.serialize()],re=0;re<this.labels.length;re++)V.push(this.labels[re],this.outputs[re].serialize());return V};function fu(R,D,V,re){var ve=re-V,we=R-V;return ve===0?0:D===1?we/ve:(Math.pow(D,we)-1)/(Math.pow(D,ve)-1)}var Jo=function(D,V){this.type=D,this.args=V};Jo.parse=function(D,V){if(D.length<2)return V.error("Expectected at least one argument.");var re=null,ve=V.expectedType;ve&&ve.kind!=="value"&&(re=ve);for(var we=[],Re=0,Ke=D.slice(1);Re<Ke.length;Re+=1){var ut=Ke[Re],wt=V.parse(ut,1+we.length,re,void 0,{typeAnnotation:"omit"});if(!wt)return null;re=re||wt.type,we.push(wt)}var Ct=ve&&we.some(function(Wt){return Co(ve,Wt.type)});return Ct?new Jo(On,we):new Jo(re,we)},Jo.prototype.evaluate=function(D){for(var V=null,re=0,ve,we=0,Re=this.args;we<Re.length;we+=1){var Ke=Re[we];if(re++,V=Ke.evaluate(D),V&&V instanceof xo&&!V.available&&(ve||(ve=V.name),V=null,re===this.args.length&&(V=ve)),V!==null)break}return V},Jo.prototype.eachChild=function(D){this.args.forEach(D)},Jo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Jo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(V){D.push(V.serialize())}),D};var Cs=function(D,V){this.type=V.type,this.bindings=[].concat(D),this.result=V};Cs.prototype.evaluate=function(D){return this.result.evaluate(D)},Cs.prototype.eachChild=function(D){for(var V=0,re=this.bindings;V<re.length;V+=1){var ve=re[V];D(ve[1])}D(this.result)},Cs.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var re=[],ve=1;ve<D.length-1;ve+=2){var we=D[ve];if(typeof we!="string")return V.error("Expected string, but found "+typeof we+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(we))return V.error("Variable names must contain only alphanumeric characters or '_'.",ve);var Re=V.parse(D[ve+1],ve+1);if(!Re)return null;re.push([we,Re])}var Ke=V.parse(D[D.length-1],D.length-1,V.expectedType,re);return Ke?new Cs(re,Ke):null},Cs.prototype.outputDefined=function(){return this.result.outputDefined()},Cs.prototype.serialize=function(){for(var D=["let"],V=0,re=this.bindings;V<re.length;V+=1){var ve=re[V],we=ve[0],Re=ve[1];D.push(we,Re.serialize())}return D.push(this.result.serialize()),D};var ll=function(D,V,re){this.type=D,this.index=V,this.input=re};ll.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var re=V.parse(D[1],1,Qr),ve=V.parse(D[2],2,vi(V.expectedType||On));if(!re||!ve)return null;var we=ve.type;return new ll(we.itemType,re,ve)},ll.prototype.evaluate=function(D){var V=this.index.evaluate(D),re=this.input.evaluate(D);if(V<0)throw new Hi("Array index out of bounds: "+V+" < 0.");if(V>=re.length)throw new Hi("Array index out of bounds: "+V+" > "+(re.length-1)+".");if(V!==Math.floor(V))throw new Hi("Array index must be an integer, but found "+V+" instead.");return re[V]},ll.prototype.eachChild=function(D){D(this.index),D(this.input)},ll.prototype.outputDefined=function(){return!1},ll.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Gs=function(D,V){this.type=kn,this.needle=D,this.haystack=V};Gs.parse=function(D,V){if(D.length!==3)return V.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var re=V.parse(D[1],1,On),ve=V.parse(D[2],2,On);return!re||!ve?null:eo(re.type,[kn,wn,Qr,Gr,On])?new Gs(re,ve):V.error("Expected first argument to be of type boolean, string, number or null, but found "+ti(re.type)+" instead")},Gs.prototype.evaluate=function(D){var V=this.needle.evaluate(D),re=this.haystack.evaluate(D);if(!re)return!1;if(!Ll(V,["boolean","string","number","null"]))throw new Hi("Expected first argument to be of type boolean, string, number or null, but found "+ti(Ii(V))+" instead.");if(!Ll(re,["string","array"]))throw new Hi("Expected second argument to be of type array or string, but found "+ti(Ii(re))+" instead.");return re.indexOf(V)>=0},Gs.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Gs.prototype.outputDefined=function(){return!0},Gs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Qo=function(D,V,re){this.type=Qr,this.needle=D,this.haystack=V,this.fromIndex=re};Qo.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var re=V.parse(D[1],1,On),ve=V.parse(D[2],2,On);if(!re||!ve)return null;if(!eo(re.type,[kn,wn,Qr,Gr,On]))return V.error("Expected first argument to be of type boolean, string, number or null, but found "+ti(re.type)+" instead");if(D.length===4){var we=V.parse(D[3],3,Qr);return we?new Qo(re,ve,we):null}else return new Qo(re,ve)},Qo.prototype.evaluate=function(D){var V=this.needle.evaluate(D),re=this.haystack.evaluate(D);if(!Ll(V,["boolean","string","number","null"]))throw new Hi("Expected first argument to be of type boolean, string, number or null, but found "+ti(Ii(V))+" instead.");if(!Ll(re,["string","array"]))throw new Hi("Expected second argument to be of type array or string, but found "+ti(Ii(re))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(D);return re.indexOf(V,ve)}return re.indexOf(V)},Qo.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Qo.prototype.outputDefined=function(){return!1},Qo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ls=function(D,V,re,ve,we,Re){this.inputType=D,this.type=V,this.input=re,this.cases=ve,this.outputs=we,this.otherwise=Re};Ls.parse=function(D,V){if(D.length<5)return V.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return V.error("Expected an even number of arguments.");var re,ve;V.expectedType&&V.expectedType.kind!=="value"&&(ve=V.expectedType);for(var we={},Re=[],Ke=2;Ke<D.length-1;Ke+=2){var ut=D[Ke],wt=D[Ke+1];Array.isArray(ut)||(ut=[ut]);var Ct=V.concat(Ke);if(ut.length===0)return Ct.error("Expected at least one branch label.");for(var Wt=0,nr=ut;Wt<nr.length;Wt+=1){var qt=nr[Wt];if(typeof qt!="number"&&typeof qt!="string")return Ct.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return Ct.error("Numeric branch labels must be integer values.");if(!re)re=Ii(qt);else if(Ct.checkSubtype(re,Ii(qt)))return null;if(typeof we[String(qt)]<"u")return Ct.error("Branch labels must be unique.");we[String(qt)]=Re.length}var mr=V.parse(wt,Ke,ve);if(!mr)return null;ve=ve||mr.type,Re.push(mr)}var Or=V.parse(D[1],1,On);if(!Or)return null;var sn=V.parse(D[D.length-1],D.length-1,ve);return!sn||Or.type.kind!=="value"&&V.concat(1).checkSubtype(re,Or.type)?null:new Ls(re,ve,Or,we,Re,sn)},Ls.prototype.evaluate=function(D){var V=this.input.evaluate(D),re=Ii(V)===this.inputType&&this.outputs[this.cases[V]]||this.otherwise;return re.evaluate(D)},Ls.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Ls.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Ls.prototype.serialize=function(){for(var D=this,V=["match",this.input.serialize()],re=Object.keys(this.cases).sort(),ve=[],we={},Re=0,Ke=re;Re<Ke.length;Re+=1){var ut=Ke[Re],wt=we[this.cases[ut]];wt===void 0?(we[this.cases[ut]]=ve.length,ve.push([this.cases[ut],[ut]])):ve[wt][1].push(ut)}for(var Ct=function(Or){return D.inputType.kind==="number"?Number(Or):Or},Wt=0,nr=ve;Wt<nr.length;Wt+=1){var qt=nr[Wt],wt=qt[0],mr=qt[1];mr.length===1?V.push(Ct(mr[0])):V.push(mr.map(Ct)),V.push(this.outputs[outputIndex$1].serialize())}return V.push(this.otherwise.serialize()),V};var $o=function(D,V,re){this.type=D,this.branches=V,this.otherwise=re};$o.parse=function(D,V){if(D.length<4)return V.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return V.error("Expected an odd number of arguments.");var re;V.expectedType&&V.expectedType.kind!=="value"&&(re=V.expectedType);for(var ve=[],we=1;we<D.length-1;we+=2){var Re=V.parse(D[we],we,kn);if(!Re)return null;var Ke=V.parse(D[we+1],we+1,re);if(!Ke)return null;ve.push([Re,Ke]),re=re||Ke.type}var ut=V.parse(D[D.length-1],D.length-1,re);return ut?new $o(re,ve,ut):null},$o.prototype.evaluate=function(D){for(var V=0,re=this.branches;V<re.length;V+=1){var ve=re[V],we=ve[0],Re=ve[1];if(we.evaluate(D))return Re.evaluate(D)}return this.otherwise.evaluate(D)},$o.prototype.eachChild=function(D){for(var V=0,re=this.branches;V<re.length;V+=1){var ve=re[V],we=ve[0],Re=ve[1];D(we),D(Re)}D(this.otherwise)},$o.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var V=D[1];return V.outputDefined()})&&this.otherwise.outputDefined()},$o.prototype.serialize=function(){var D=["case"];return this.eachChild(function(V){D.push(V.serialize())}),D};var Uo=function(D,V,re,ve){this.type=D,this.input=V,this.beginIndex=re,this.endIndex=ve};Uo.parse=function(D,V){if(D.length<=2||D.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var re=V.parse(D[1],1,On),ve=V.parse(D[2],2,Qr);if(!re||!ve)return null;if(!eo(re.type,[vi(On),wn,On]))return V.error("Expected first argument to be of type array or string, but found "+ti(re.type)+" instead");if(D.length===4){var we=V.parse(D[3],3,Qr);return we?new Uo(re.type,re,ve,we):null}else return new Uo(re.type,re,ve)},Uo.prototype.evaluate=function(D){var V=this.input.evaluate(D),re=this.beginIndex.evaluate(D);if(!Ll(V,["string","array"]))throw new Hi("Expected first argument to be of type array or string, but found "+ti(Ii(V))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(D);return V.slice(re,ve)}return V.slice(re)},Uo.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Uo.prototype.outputDefined=function(){return!1},Uo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function cu(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function dh(R,D,V){return D===V}function ph(R,D,V){return D!==V}function gh(R,D,V){return D<V}function yh(R,D,V){return D>V}function Sf(R,D,V){return D<=V}function uc(R,D,V){return D>=V}function Nl(R,D,V,re){return re.compare(D,V)===0}function Ji(R,D,V,re){return!Nl(R,D,V,re)}function Oo(R,D,V,re){return re.compare(D,V)<0}function Ul(R,D,V,re){return re.compare(D,V)>0}function fc(R,D,V,re){return re.compare(D,V)<=0}function hu(R,D,V,re){return re.compare(D,V)>=0}function Ps(R,D,V){var re=R!=="=="&&R!=="!=";return function(){function ve(we,Re,Ke){this.type=kn,this.lhs=we,this.rhs=Re,this.collator=Ke,this.hasUntypedArgument=we.type.kind==="value"||Re.type.kind==="value"}return ve.parse=function(Re,Ke){if(Re.length!==3&&Re.length!==4)return Ke.error("Expected two or three arguments.");var ut=Re[0],wt=Ke.parse(Re[1],1,On);if(!wt)return null;if(!cu(ut,wt.type))return Ke.concat(1).error('"'+ut+`" comparisons are not supported for type '`+ti(wt.type)+"'.");var Ct=Ke.parse(Re[2],2,On);if(!Ct)return null;if(!cu(ut,Ct.type))return Ke.concat(2).error('"'+ut+`" comparisons are not supported for type '`+ti(Ct.type)+"'.");if(wt.type.kind!==Ct.type.kind&&wt.type.kind!=="value"&&Ct.type.kind!=="value")return Ke.error("Cannot compare types '"+ti(wt.type)+"' and '"+ti(Ct.type)+"'.");re&&(wt.type.kind==="value"&&Ct.type.kind!=="value"?wt=new to(Ct.type,[wt]):wt.type.kind!=="value"&&Ct.type.kind==="value"&&(Ct=new to(wt.type,[Ct])));var Wt=null;if(Re.length===4){if(wt.type.kind!=="string"&&Ct.type.kind!=="string"&&wt.type.kind!=="value"&&Ct.type.kind!=="value")return Ke.error("Cannot use collator to compare non-string types.");if(Wt=Ke.parse(Re[3],3,la),!Wt)return null}return new ve(wt,Ct,Wt)},ve.prototype.evaluate=function(Re){var Ke=this.lhs.evaluate(Re),ut=this.rhs.evaluate(Re);if(re&&this.hasUntypedArgument){var wt=Ii(Ke),Ct=Ii(ut);if(wt.kind!==Ct.kind||!(wt.kind==="string"||wt.kind==="number"))throw new Hi('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+wt.kind+", "+Ct.kind+") instead.")}if(this.collator&&!re&&this.hasUntypedArgument){var Wt=Ii(Ke),nr=Ii(ut);if(Wt.kind!=="string"||nr.kind!=="string")return D(Re,Ke,ut)}return this.collator?V(Re,Ke,ut,this.collator.evaluate(Re)):D(Re,Ke,ut)},ve.prototype.eachChild=function(Re){Re(this.lhs),Re(this.rhs),this.collator&&Re(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var Re=[R];return this.eachChild(function(Ke){Re.push(Ke.serialize())}),Re},ve}()}var mh=Ps("==",dh,Nl),cc=Ps("!=",ph,Ji),hc=Ps("<",gh,Oo),Ef=Ps(">",yh,Ul),vc=Ps("<=",Sf,fc),bo=Ps(">=",uc,hu),qo=function(D,V,re,ve,we){this.type=wn,this.number=D,this.locale=V,this.currency=re,this.minFractionDigits=ve,this.maxFractionDigits=we};qo.parse=function(D,V){if(D.length!==3)return V.error("Expected two arguments.");var re=V.parse(D[1],1,Qr);if(!re)return null;var ve=D[2];if(typeof ve!="object"||Array.isArray(ve))return V.error("NumberFormat options argument must be an object.");var we=null;if(ve.locale&&(we=V.parse(ve.locale,1,wn),!we))return null;var Re=null;if(ve.currency&&(Re=V.parse(ve.currency,1,wn),!Re))return null;var Ke=null;if(ve["min-fraction-digits"]&&(Ke=V.parse(ve["min-fraction-digits"],1,Qr),!Ke))return null;var ut=null;return ve["max-fraction-digits"]&&(ut=V.parse(ve["max-fraction-digits"],1,Qr),!ut)?null:new qo(re,we,Re,Ke,ut)},qo.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},qo.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},qo.prototype.outputDefined=function(){return!1},qo.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Ws=function(D){this.type=Qr,this.input=D};Ws.parse=function(D,V){if(D.length!==2)return V.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var re=V.parse(D[1],1);return re?re.type.kind!=="array"&&re.type.kind!=="string"&&re.type.kind!=="value"?V.error("Expected argument of type string or array, but found "+ti(re.type)+" instead."):new Ws(re):null},Ws.prototype.evaluate=function(D){var V=this.input.evaluate(D);if(typeof V=="string")return V.length;if(Array.isArray(V))return V.length;throw new Hi("Expected value to be of type string or array, but found "+ti(Ii(V))+" instead.")},Ws.prototype.eachChild=function(D){D(this.input)},Ws.prototype.outputDefined=function(){return!1},Ws.prototype.serialize=function(){var D=["length"];return this.eachChild(function(V){D.push(V.serialize())}),D};var Hl={"==":mh,"!=":cc,">":Ef,"<":hc,">=":bo,"<=":vc,array:to,at:ll,boolean:to,case:$o,coalesce:Jo,collator:Us,format:ro,image:zo,in:Gs,"index-of":Qo,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:Ws,let:Cs,literal:zi,match:Ls,number:to,"number-format":qo,object:to,slice:Uo,step:jo,string:to,"to-boolean":Lo,"to-color":Lo,"to-number":Lo,"to-string":Lo,var:Hs,within:Xo};function Ju(R,D){var V=D[0],re=D[1],ve=D[2],we=D[3];V=V.evaluate(R),re=re.evaluate(R),ve=ve.evaluate(R);var Re=we?we.evaluate(R):1,Ke=Pl(V,re,ve,Re);if(Ke)throw new Hi(Ke);return new $a(V/255*Re,re/255*Re,ve/255*Re,Re)}function ul(R,D){return R in D}function fl(R,D){var V=D[R];return typeof V>"u"?null:V}function dc(R,D,V,re){for(;V<=re;){var ve=V+re>>1;if(D[ve]===R)return!0;D[ve]>R?re=ve-1:V=ve+1}return!1}function Rs(R){return{type:R}}Ki.register(Hl,{error:[ga,[wn],function(R,D){var V=D[0];throw new Hi(V.evaluate(R))}],typeof:[wn,[On],function(R,D){var V=D[0];return ti(Ii(V.evaluate(R)))}],"to-rgba":[vi(Qr,4),[Dn],function(R,D){var V=D[0];return V.evaluate(R).toArray()}],rgb:[Dn,[Qr,Qr,Qr],Ju],rgba:[Dn,[Qr,Qr,Qr,Qr],Ju],has:{type:kn,overloads:[[[wn],function(R,D){var V=D[0];return ul(V.evaluate(R),R.properties())}],[[wn,Nn],function(R,D){var V=D[0],re=D[1];return ul(V.evaluate(R),re.evaluate(R))}]]},get:{type:On,overloads:[[[wn],function(R,D){var V=D[0];return fl(V.evaluate(R),R.properties())}],[[wn,Nn],function(R,D){var V=D[0],re=D[1];return fl(V.evaluate(R),re.evaluate(R))}]]},"feature-state":[On,[wn],function(R,D){var V=D[0];return fl(V.evaluate(R),R.featureState||{})}],properties:[Nn,[],function(R){return R.properties()}],"geometry-type":[wn,[],function(R){return R.geometryType()}],id:[On,[],function(R){return R.id()}],zoom:[Qr,[],function(R){return R.globals.zoom}],"heatmap-density":[Qr,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Qr,[],function(R){return R.globals.lineProgress||0}],accumulated:[On,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[Qr,Rs(Qr),function(R,D){for(var V=0,re=0,ve=D;re<ve.length;re+=1){var we=ve[re];V+=we.evaluate(R)}return V}],"*":[Qr,Rs(Qr),function(R,D){for(var V=1,re=0,ve=D;re<ve.length;re+=1){var we=ve[re];V*=we.evaluate(R)}return V}],"-":{type:Qr,overloads:[[[Qr,Qr],function(R,D){var V=D[0],re=D[1];return V.evaluate(R)-re.evaluate(R)}],[[Qr],function(R,D){var V=D[0];return-V.evaluate(R)}]]},"/":[Qr,[Qr,Qr],function(R,D){var V=D[0],re=D[1];return V.evaluate(R)/re.evaluate(R)}],"%":[Qr,[Qr,Qr],function(R,D){var V=D[0],re=D[1];return V.evaluate(R)%re.evaluate(R)}],ln2:[Qr,[],function(){return Math.LN2}],pi:[Qr,[],function(){return Math.PI}],e:[Qr,[],function(){return Math.E}],"^":[Qr,[Qr,Qr],function(R,D){var V=D[0],re=D[1];return Math.pow(V.evaluate(R),re.evaluate(R))}],sqrt:[Qr,[Qr],function(R,D){var V=D[0];return Math.sqrt(V.evaluate(R))}],log10:[Qr,[Qr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN10}],ln:[Qr,[Qr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))}],log2:[Qr,[Qr],function(R,D){var V=D[0];return Math.log(V.evaluate(R))/Math.LN2}],sin:[Qr,[Qr],function(R,D){var V=D[0];return Math.sin(V.evaluate(R))}],cos:[Qr,[Qr],function(R,D){var V=D[0];return Math.cos(V.evaluate(R))}],tan:[Qr,[Qr],function(R,D){var V=D[0];return Math.tan(V.evaluate(R))}],asin:[Qr,[Qr],function(R,D){var V=D[0];return Math.asin(V.evaluate(R))}],acos:[Qr,[Qr],function(R,D){var V=D[0];return Math.acos(V.evaluate(R))}],atan:[Qr,[Qr],function(R,D){var V=D[0];return Math.atan(V.evaluate(R))}],min:[Qr,Rs(Qr),function(R,D){return Math.min.apply(Math,D.map(function(V){return V.evaluate(R)}))}],max:[Qr,Rs(Qr),function(R,D){return Math.max.apply(Math,D.map(function(V){return V.evaluate(R)}))}],abs:[Qr,[Qr],function(R,D){var V=D[0];return Math.abs(V.evaluate(R))}],round:[Qr,[Qr],function(R,D){var V=D[0],re=V.evaluate(R);return re<0?-Math.round(-re):Math.round(re)}],floor:[Qr,[Qr],function(R,D){var V=D[0];return Math.floor(V.evaluate(R))}],ceil:[Qr,[Qr],function(R,D){var V=D[0];return Math.ceil(V.evaluate(R))}],"filter-==":[kn,[wn,On],function(R,D){var V=D[0],re=D[1];return R.properties()[V.value]===re.value}],"filter-id-==":[kn,[On],function(R,D){var V=D[0];return R.id()===V.value}],"filter-type-==":[kn,[wn],function(R,D){var V=D[0];return R.geometryType()===V.value}],"filter-<":[kn,[wn,On],function(R,D){var V=D[0],re=D[1],ve=R.properties()[V.value],we=re.value;return typeof ve==typeof we&&ve<we}],"filter-id-<":[kn,[On],function(R,D){var V=D[0],re=R.id(),ve=V.value;return typeof re==typeof ve&&re<ve}],"filter->":[kn,[wn,On],function(R,D){var V=D[0],re=D[1],ve=R.properties()[V.value],we=re.value;return typeof ve==typeof we&&ve>we}],"filter-id->":[kn,[On],function(R,D){var V=D[0],re=R.id(),ve=V.value;return typeof re==typeof ve&&re>ve}],"filter-<=":[kn,[wn,On],function(R,D){var V=D[0],re=D[1],ve=R.properties()[V.value],we=re.value;return typeof ve==typeof we&&ve<=we}],"filter-id-<=":[kn,[On],function(R,D){var V=D[0],re=R.id(),ve=V.value;return typeof re==typeof ve&&re<=ve}],"filter->=":[kn,[wn,On],function(R,D){var V=D[0],re=D[1],ve=R.properties()[V.value],we=re.value;return typeof ve==typeof we&&ve>=we}],"filter-id->=":[kn,[On],function(R,D){var V=D[0],re=R.id(),ve=V.value;return typeof re==typeof ve&&re>=ve}],"filter-has":[kn,[On],function(R,D){var V=D[0];return V.value in R.properties()}],"filter-has-id":[kn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[kn,[vi(wn)],function(R,D){var V=D[0];return V.value.indexOf(R.geometryType())>=0}],"filter-id-in":[kn,[vi(On)],function(R,D){var V=D[0];return V.value.indexOf(R.id())>=0}],"filter-in-small":[kn,[wn,vi(On)],function(R,D){var V=D[0],re=D[1];return re.value.indexOf(R.properties()[V.value])>=0}],"filter-in-large":[kn,[wn,vi(On)],function(R,D){var V=D[0],re=D[1];return dc(R.properties()[V.value],re.value,0,re.value.length-1)}],all:{type:kn,overloads:[[[kn,kn],function(R,D){var V=D[0],re=D[1];return V.evaluate(R)&&re.evaluate(R)}],[Rs(kn),function(R,D){for(var V=0,re=D;V<re.length;V+=1){var ve=re[V];if(!ve.evaluate(R))return!1}return!0}]]},any:{type:kn,overloads:[[[kn,kn],function(R,D){var V=D[0],re=D[1];return V.evaluate(R)||re.evaluate(R)}],[Rs(kn),function(R,D){for(var V=0,re=D;V<re.length;V+=1){var ve=re[V];if(ve.evaluate(R))return!0}return!1}]]},"!":[kn,[kn],function(R,D){var V=D[0];return!V.evaluate(R)}],"is-supported-script":[kn,[wn],function(R,D){var V=D[0],re=R.globals&&R.globals.isSupportedScript;return re?re(V.evaluate(R)):!0}],upcase:[wn,[wn],function(R,D){var V=D[0];return V.evaluate(R).toUpperCase()}],downcase:[wn,[wn],function(R,D){var V=D[0];return V.evaluate(R).toLowerCase()}],concat:[wn,Rs(On),function(R,D){return D.map(function(V){return Rl(V.evaluate(R))}).join("")}],"resolved-locale":[wn,[la],function(R,D){var V=D[0];return V.evaluate(R).resolvedLocale()}]});function Vl(R){return{result:"success",value:R}}function Ys(R){return{result:"error",value:R}}function Ds(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function vu(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Gl(R){return!!R.expression&&R.expression.interpolated}function fi(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function Wl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function Qu(R){return R}function pc(R,D){var V=D.type==="color",re=R.stops&&typeof R.stops[0][0]=="object",ve=re||R.property!==void 0,we=re||!ve,Re=R.type||(Gl(D)?"exponential":"interval");if(V&&(R=Pn({},R),R.stops&&(R.stops=R.stops.map(function(ra){return[ra[0],$a.parse(ra[1])]})),R.default?R.default=$a.parse(R.default):R.default=$a.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!Ku[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var Ke,ut,wt;if(Re==="exponential")Ke=Cf;else if(Re==="interval")Ke=$u;else if(Re==="categorical"){Ke=du,ut=Object.create(null);for(var Ct=0,Wt=R.stops;Ct<Wt.length;Ct+=1){var nr=Wt[Ct];ut[nr[0]]=nr[1]}wt=typeof R.stops[0][0]}else if(Re==="identity")Ke=pu;else throw new Error('Unknown function type "'+Re+'"');if(re){for(var qt={},mr=[],Or=0;Or<R.stops.length;Or++){var sn=R.stops[Or],qr=sn[0].zoom;qt[qr]===void 0&&(qt[qr]={zoom:qr,type:R.type,property:R.property,default:R.default,stops:[]},mr.push(qr)),qt[qr].stops.push([sn[0].value,sn[1]])}for(var Sn=[],yn=0,An=mr;yn<An.length;yn+=1){var In=An[yn];Sn.push([qt[In].zoom,pc(qt[In],D)])}var Vn={name:"linear"};return{kind:"composite",interpolationType:Vn,interpolationFactor:ki.interpolationFactor.bind(void 0,Vn),zoomStops:Sn.map(function(ra){return ra[0]}),evaluate:function(wa,da){var xa=wa.zoom;return Cf({stops:Sn,base:R.base},D,xa).evaluate(xa,da)}}}else if(we){var ia=Re==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:ia,interpolationFactor:ki.interpolationFactor.bind(void 0,ia),zoomStops:R.stops.map(function(ra){return ra[0]}),evaluate:function(ra){var wa=ra.zoom;return Ke(R,D,wa,ut,wt)}}}else return{kind:"source",evaluate:function(wa,da){var xa=da&&da.properties?da.properties[R.property]:void 0;return xa===void 0?Yl(R.default,D.default):Ke(R,D,xa,ut,wt)}}}function Yl(R,D,V){if(R!==void 0)return R;if(D!==void 0)return D;if(V!==void 0)return V}function du(R,D,V,re,ve){var we=typeof V===ve?re[V]:void 0;return Yl(we,R.default,D.default)}function $u(R,D,V){if(fi(V)!=="number")return Yl(R.default,D.default);var re=R.stops.length;if(re===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[re-1][0])return R.stops[re-1][1];var ve=_l(R.stops.map(function(we){return we[0]}),V);return R.stops[ve][1]}function Cf(R,D,V){var re=R.base!==void 0?R.base:1;if(fi(V)!=="number")return Yl(R.default,D.default);var ve=R.stops.length;if(ve===1||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[ve-1][0])return R.stops[ve-1][1];var we=_l(R.stops.map(function(Wt){return Wt[0]}),V),Re=gu(V,re,R.stops[we][0],R.stops[we+1][0]),Ke=R.stops[we][1],ut=R.stops[we+1][1],wt=Wu[D.type]||Qu;if(R.colorSpace&&R.colorSpace!=="rgb"){var Ct=Ku[R.colorSpace];wt=function(Wt,nr){return Ct.reverse(Ct.interpolate(Ct.forward(Wt),Ct.forward(nr),Re))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var nr=[],qt=arguments.length;qt--;)nr[qt]=arguments[qt];var mr=Ke.evaluate.apply(void 0,nr),Or=ut.evaluate.apply(void 0,nr);if(!(mr===void 0||Or===void 0))return wt(mr,Or,Re)}}:wt(Ke,ut,Re)}function pu(R,D,V){return D.type==="color"?V=$a.parse(V):D.type==="formatted"?V=ji.fromString(V.toString()):D.type==="resolvedImage"?V=xo.fromString(V.toString()):fi(V)!==D.type&&(D.type!=="enum"||!D.values[V])&&(V=void 0),Yl(V,R.default,D.default)}function gu(R,D,V,re){var ve=re-V,we=R-V;return ve===0?0:D===1?we/ve:(Math.pow(D,we)-1)/(Math.pow(D,ve)-1)}var Zs=function(D,V){this.expression=D,this._warningHistory={},this._evaluator=new cs,this._defaultValue=V?gc(V):null,this._enumValues=V&&V.type==="enum"?V.values:null};Zs.prototype.evaluateWithoutErrorHandling=function(D,V,re,ve,we,Re){return this._evaluator.globals=D,this._evaluator.feature=V,this._evaluator.featureState=re,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Re,this.expression.evaluate(this._evaluator)},Zs.prototype.evaluate=function(D,V,re,ve,we,Re){this._evaluator.globals=D,this._evaluator.feature=V||null,this._evaluator.featureState=re||null,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Re||null;try{var Ke=this.expression.evaluate(this._evaluator);if(Ke==null||typeof Ke=="number"&&Ke!==Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new Hi("Expected value to be one of "+Object.keys(this._enumValues).map(function(ut){return JSON.stringify(ut)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(ut){return this._warningHistory[ut.message]||(this._warningHistory[ut.message]=!0,typeof console<"u"&&console.warn(ut.message)),this._defaultValue}};function yu(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Hl}function Xs(R,D){var V=new vs(Hl,[],D?xh(D):void 0),re=V.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return re?Vl(new Zs(re,D)):Ys(V.errors)}var Vi=function(D,V){this.kind=D,this._styleExpression=V,this.isStateDependent=D!=="constant"&&!ol(V.expression)};Vi.prototype.evaluateWithoutErrorHandling=function(D,V,re,ve,we,Re){return this._styleExpression.evaluateWithoutErrorHandling(D,V,re,ve,we,Re)},Vi.prototype.evaluate=function(D,V,re,ve,we,Re){return this._styleExpression.evaluate(D,V,re,ve,we,Re)};var ds=function(D,V,re,ve){this.kind=D,this.zoomStops=re,this._styleExpression=V,this.isStateDependent=D!=="camera"&&!ol(V.expression),this.interpolationType=ve};ds.prototype.evaluateWithoutErrorHandling=function(D,V,re,ve,we,Re){return this._styleExpression.evaluateWithoutErrorHandling(D,V,re,ve,we,Re)},ds.prototype.evaluate=function(D,V,re,ve,we,Re){return this._styleExpression.evaluate(D,V,re,ve,we,Re)},ds.prototype.interpolationFactor=function(D,V,re){return this.interpolationType?ki.interpolationFactor(this.interpolationType,D,V,re):0};function Lf(R,D){if(R=Xs(R,D),R.result==="error")return R;var V=R.value.expression,re=kl(V);if(!re&&!Ds(D))return Ys([new Lr("","data expressions not supported")]);var ve=lu(V,["zoom"]);if(!ve&&!vu(D))return Ys([new Lr("","zoom expressions not supported")]);var we=mu(V);if(!we&&!ve)return Ys([new Lr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(we instanceof Lr)return Ys([we]);if(we instanceof ki&&!Gl(D))return Ys([new Lr("",'"interpolate" expressions cannot be used with this property')]);if(!we)return Vl(re?new Vi("constant",R.value):new Vi("source",R.value));var Re=we instanceof ki?we.interpolation:void 0;return Vl(re?new ds("camera",R.value,we.labels,Re):new ds("composite",R.value,we.labels,Re))}var cl=function(D,V){this._parameters=D,this._specification=V,Pn(this,pc(this._parameters,this._specification))};cl.deserialize=function(D){return new cl(D._parameters,D._specification)},cl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function qu(R,D){if(Wl(R))return new cl(R,D);if(yu(R)){var V=Lf(R,D);if(V.result==="error")throw new Error(V.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return V.value}else{var re=R;return typeof R=="string"&&D.type==="color"&&(re=$a.parse(R)),{kind:"constant",evaluate:function(){return re}}}}function mu(R){var D=null;if(R instanceof Cs)D=mu(R.result);else if(R instanceof Jo)for(var V=0,re=R.args;V<re.length;V+=1){var ve=re[V];if(D=mu(ve),D)break}else(R instanceof jo||R instanceof ki)&&R.input instanceof Ki&&R.input.name==="zoom"&&(D=R);return D instanceof Lr||R.eachChild(function(we){var Re=mu(we);Re instanceof Lr?D=Re:!D&&Re?D=new Lr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Re&&D!==Re&&(D=new Lr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function xh(R){var D={color:Dn,string:wn,number:Qr,enum:wn,boolean:kn,formatted:pa,resolvedImage:La};return R.type==="array"?vi(D[R.value]||On,R.length):D[R.type]}function gc(R){return R.type==="color"&&Wl(R.default)?new $a(0,0,0,0):R.type==="color"?$a.parse(R.default)||null:R.default===void 0?null:R.default}function vo(R){var D=R.key,V=R.value,re=R.valueSpec||{},ve=R.objectElementValidators||{},we=R.style,Re=R.styleSpec,Ke=[],ut=fi(V);if(ut!=="object")return[new zr(D,V,"object expected, "+ut+" found")];for(var wt in V){var Ct=wt.split(".")[0],Wt=re[Ct]||re["*"],nr=void 0;if(ve[Ct])nr=ve[Ct];else if(re[Ct])nr=Ir;else if(ve["*"])nr=ve["*"];else if(re["*"])nr=Ir;else{Ke.push(new zr(D,V[wt],'unknown property "'+wt+'"'));continue}Ke=Ke.concat(nr({key:(D&&D+".")+wt,value:V[wt],valueSpec:Wt,style:we,styleSpec:Re,object:V,objectKey:wt},V))}for(var qt in re)ve[qt]||re[qt].required&&re[qt].default===void 0&&V[qt]===void 0&&Ke.push(new zr(D,V,'missing required property "'+qt+'"'));return Ke}function xu(R){var D=R.value,V=R.valueSpec,re=R.style,ve=R.styleSpec,we=R.key,Re=R.arrayElementValidator||Ir;if(fi(D)!=="array")return[new zr(we,D,"array expected, "+fi(D)+" found")];if(V.length&&D.length!==V.length)return[new zr(we,D,"array length "+V.length+" expected, length "+D.length+" found")];if(V["min-length"]&&D.length<V["min-length"])return[new zr(we,D,"array length at least "+V["min-length"]+" expected, length "+D.length+" found")];var Ke={type:V.value,values:V.values};ve.$version<7&&(Ke.function=V.function),fi(V.value)==="object"&&(Ke=V.value);for(var ut=[],wt=0;wt<D.length;wt++)ut=ut.concat(Re({array:D,arrayIndex:wt,value:D[wt],valueSpec:Ke,style:re,styleSpec:ve,key:we+"["+wt+"]"}));return ut}function Zl(R){var D=R.key,V=R.value,re=R.valueSpec,ve=fi(V);return ve==="number"&&V!==V&&(ve="NaN"),ve!=="number"?[new zr(D,V,"number expected, "+ve+" found")]:"minimum"in re&&V<re.minimum?[new zr(D,V,V+" is less than the minimum value "+re.minimum)]:"maximum"in re&&V>re.maximum?[new zr(D,V,V+" is greater than the maximum value "+re.maximum)]:[]}function yc(R){var D=R.valueSpec,V=gn(R.value.type),re,ve={},we,Re,Ke=V!=="categorical"&&R.value.property===void 0,ut=!Ke,wt=fi(R.value.stops)==="array"&&fi(R.value.stops[0])==="array"&&fi(R.value.stops[0][0])==="object",Ct=vo({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Wt,default:mr}});return V==="identity"&&Ke&&Ct.push(new zr(R.key,R.value,'missing required property "property"')),V!=="identity"&&!R.value.stops&&Ct.push(new zr(R.key,R.value,'missing required property "stops"')),V==="exponential"&&R.valueSpec.expression&&!Gl(R.valueSpec)&&Ct.push(new zr(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(ut&&!Ds(R.valueSpec)?Ct.push(new zr(R.key,R.value,"property functions not supported")):Ke&&!vu(R.valueSpec)&&Ct.push(new zr(R.key,R.value,"zoom functions not supported"))),(V==="categorical"||wt)&&R.value.property===void 0&&Ct.push(new zr(R.key,R.value,'"property" property is required')),Ct;function Wt(Or){if(V==="identity")return[new zr(Or.key,Or.value,'identity function may not have a "stops" property')];var sn=[],qr=Or.value;return sn=sn.concat(xu({key:Or.key,value:qr,valueSpec:Or.valueSpec,style:Or.style,styleSpec:Or.styleSpec,arrayElementValidator:nr})),fi(qr)==="array"&&qr.length===0&&sn.push(new zr(Or.key,qr,"array must have at least one stop")),sn}function nr(Or){var sn=[],qr=Or.value,Sn=Or.key;if(fi(qr)!=="array")return[new zr(Sn,qr,"array expected, "+fi(qr)+" found")];if(qr.length!==2)return[new zr(Sn,qr,"array length 2 expected, length "+qr.length+" found")];if(wt){if(fi(qr[0])!=="object")return[new zr(Sn,qr,"object expected, "+fi(qr[0])+" found")];if(qr[0].zoom===void 0)return[new zr(Sn,qr,"object stop key must have zoom")];if(qr[0].value===void 0)return[new zr(Sn,qr,"object stop key must have value")];if(Re&&Re>gn(qr[0].zoom))return[new zr(Sn,qr[0].zoom,"stop zoom values must appear in ascending order")];gn(qr[0].zoom)!==Re&&(Re=gn(qr[0].zoom),we=void 0,ve={}),sn=sn.concat(vo({key:Sn+"[0]",value:qr[0],valueSpec:{zoom:{}},style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{zoom:Zl,value:qt}}))}else sn=sn.concat(qt({key:Sn+"[0]",value:qr[0],valueSpec:{},style:Or.style,styleSpec:Or.styleSpec},qr));return yu(cn(qr[1]))?sn.concat([new zr(Sn+"[1]",qr[1],"expressions are not allowed in function stops.")]):sn.concat(Ir({key:Sn+"[1]",value:qr[1],valueSpec:D,style:Or.style,styleSpec:Or.styleSpec}))}function qt(Or,sn){var qr=fi(Or.value),Sn=gn(Or.value),yn=Or.value!==null?Or.value:sn;if(!re)re=qr;else if(qr!==re)return[new zr(Or.key,yn,qr+" stop domain type must match previous stop domain type "+re)];if(qr!=="number"&&qr!=="string"&&qr!=="boolean")return[new zr(Or.key,yn,"stop domain value must be a number, string, or boolean")];if(qr!=="number"&&V!=="categorical"){var An="number expected, "+qr+" found";return Ds(D)&&V===void 0&&(An+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new zr(Or.key,yn,An)]}return V==="categorical"&&qr==="number"&&(!isFinite(Sn)||Math.floor(Sn)!==Sn)?[new zr(Or.key,yn,"integer expected, found "+Sn)]:V!=="categorical"&&qr==="number"&&we!==void 0&&Sn<we?[new zr(Or.key,yn,"stop domain values must appear in ascending order")]:(we=Sn,V==="categorical"&&Sn in ve?[new zr(Or.key,yn,"stop domain values must be unique")]:(ve[Sn]=!0,[]))}function mr(Or){return Ir({key:Or.key,value:Or.value,valueSpec:D,style:Or.style,styleSpec:Or.styleSpec})}}function js(R){var D=(R.expressionContext==="property"?Lf:Xs)(cn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(re){return new zr(""+R.key+re.key,R.value,re.message)});var V=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!V.outputDefined())return[new zr(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!ol(V))return[new zr(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!ol(V))return[new zr(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!lu(V,["zoom","feature-state"]))return[new zr(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!kl(V))return[new zr(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bh(R){var D=R.value,V=R.key,re=fi(D);return re!=="boolean"?[new zr(V,D,"boolean expected, "+re+" found")]:[]}function Ro(R){var D=R.key,V=R.value,re=fi(V);return re!=="string"?[new zr(D,V,"color expected, "+re+" found")]:$f(V)===null?[new zr(D,V,'color expected, "'+V+'" found')]:[]}function bu(R){var D=R.key,V=R.value,re=R.valueSpec,ve=[];return Array.isArray(re.values)?re.values.indexOf(gn(V))===-1&&ve.push(new zr(D,V,"expected one of ["+re.values.join(", ")+"], "+JSON.stringify(V)+" found")):Object.keys(re.values).indexOf(gn(V))===-1&&ve.push(new zr(D,V,"expected one of ["+Object.keys(re.values).join(", ")+"], "+JSON.stringify(V)+" found")),ve}function ef(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,V=R.slice(1);D<V.length;D+=1){var re=V[D];if(!ef(re)&&typeof re!="boolean")return!1}return!0;default:return!0}}var Is={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ks(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};ef(R)||(R=Tu(R));var D=Xs(R,Is);if(D.result==="error")throw new Error(D.value.map(function(re){return re.key+": "+re.message}).join(", "));var V=wu(R);return{filter:function(re,ve,we){return D.value.evaluate(re,ve,{},we)},needGeometry:V}}function Pf(R,D){return R<D?-1:R>D?1:0}function wu(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(wu(R[D]))return!0;return!1}function Tu(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var V=D==="=="?tf(R[1],R[2],"=="):D==="!="?hl(tf(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?tf(R[1],R[2],D):D==="any"?mc(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(Tu)):D==="none"?["all"].concat(R.slice(1).map(Tu).map(hl)):D==="in"?Au(R[1],R.slice(2)):D==="!in"?hl(Au(R[1],R.slice(2))):D==="has"?Rf(R[1]):D==="!has"?hl(Rf(R[1])):D==="within"?R:!0;return V}function tf(R,D,V){switch(R){case"$type":return["filter-type-"+V,D];case"$id":return["filter-id-"+V,D];default:return["filter-"+V,R,D]}}function mc(R){return["any"].concat(R.map(Tu))}function Au(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(V){return typeof V!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(Pf)]]:["filter-in-small",R,["literal",D]]}}function Rf(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function hl(R){return["!",R]}function Df(R){return ef(cn(R.value))?js(Pn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Mu(R)}function Mu(R){var D=R.value,V=R.key;if(fi(D)!=="array")return[new zr(V,D,"array expected, "+fi(D)+" found")];var re=R.styleSpec,ve,we=[];if(D.length<1)return[new zr(V,D,"filter array must have at least 1 element")];switch(we=we.concat(bu({key:V+"[0]",value:D[0],valueSpec:re.filter_operator,style:R.style,styleSpec:R.styleSpec})),gn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&gn(D[1])==="$type"&&we.push(new zr(V,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&we.push(new zr(V,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ve=fi(D[1]),ve!=="string"&&we.push(new zr(V+"[1]",D[1],"string expected, "+ve+" found")));for(var Re=2;Re<D.length;Re++)ve=fi(D[Re]),gn(D[1])==="$type"?we=we.concat(bu({key:V+"["+Re+"]",value:D[Re],valueSpec:re.geometry_type,style:R.style,styleSpec:R.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&we.push(new zr(V+"["+Re+"]",D[Re],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<D.length;Ke++)we=we.concat(Mu({key:V+"["+Ke+"]",value:D[Ke],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ve=fi(D[1]),D.length!==2?we.push(new zr(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="string"&&we.push(new zr(V+"[1]",D[1],"string expected, "+ve+" found"));break;case"within":ve=fi(D[1]),D.length!==2?we.push(new zr(V,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="object"&&we.push(new zr(V+"[1]",D[1],"object expected, "+ve+" found"));break}return we}function xc(R,D){var V=R.key,re=R.style,ve=R.styleSpec,we=R.value,Re=R.objectKey,Ke=ve[D+"_"+R.layerType];if(!Ke)return[];var ut=Re.match(/^(.*)-transition$/);if(D==="paint"&&ut&&Ke[ut[1]]&&Ke[ut[1]].transition)return Ir({key:V,value:we,valueSpec:ve.transition,style:re,styleSpec:ve});var wt=R.valueSpec||Ke[Re];if(!wt)return[new zr(V,we,'unknown property "'+Re+'"')];var Ct;if(fi(we)==="string"&&Ds(wt)&&!wt.tokens&&(Ct=/^{([^}]+)}$/.exec(we)))return[new zr(V,we,'"'+Re+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Wt=[];return R.layerType==="symbol"&&(Re==="text-field"&&re&&!re.glyphs&&Wt.push(new zr(V,we,'use of "text-field" requires a style "glyphs" property')),Re==="text-font"&&Wl(cn(we))&&gn(we.type)==="identity"&&Wt.push(new zr(V,we,'"text-font" does not support identity functions'))),Wt.concat(Ir({key:R.key,value:we,valueSpec:wt,style:re,styleSpec:ve,expressionContext:"property",propertyType:D,propertyKey:Re}))}function je(R){return xc(R,"paint")}function nt(R){return xc(R,"layout")}function ht(R){var D=[],V=R.value,re=R.key,ve=R.style,we=R.styleSpec;!V.type&&!V.ref&&D.push(new zr(re,V,'either "type" or "ref" is required'));var Re=gn(V.type),Ke=gn(V.ref);if(V.id)for(var ut=gn(V.id),wt=0;wt<R.arrayIndex;wt++){var Ct=ve.layers[wt];gn(Ct.id)===ut&&D.push(new zr(re,V.id,'duplicate layer id "'+V.id+'", previously used at line '+Ct.id.__line__))}if("ref"in V){["type","source","source-layer","filter","layout"].forEach(function(mr){mr in V&&D.push(new zr(re,V[mr],'"'+mr+'" is prohibited for ref layers'))});var Wt;ve.layers.forEach(function(mr){gn(mr.id)===Ke&&(Wt=mr)}),Wt?Wt.ref?D.push(new zr(re,V.ref,"ref cannot reference another ref layer")):Re=gn(Wt.type):D.push(new zr(re,V.ref,'ref layer "'+Ke+'" not found'))}else if(Re!=="background")if(!V.source)D.push(new zr(re,V,'missing required property "source"'));else{var nr=ve.sources&&ve.sources[V.source],qt=nr&&gn(nr.type);nr?qt==="vector"&&Re==="raster"?D.push(new zr(re,V.source,'layer "'+V.id+'" requires a raster source')):qt==="raster"&&Re!=="raster"?D.push(new zr(re,V.source,'layer "'+V.id+'" requires a vector source')):qt==="vector"&&!V["source-layer"]?D.push(new zr(re,V,'layer "'+V.id+'" must specify a "source-layer"')):qt==="raster-dem"&&Re!=="hillshade"?D.push(new zr(re,V.source,"raster-dem source can only be used with layer type 'hillshade'.")):Re==="line"&&V.paint&&V.paint["line-gradient"]&&(qt!=="geojson"||!nr.lineMetrics)&&D.push(new zr(re,V,'layer "'+V.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new zr(re,V.source,'source "'+V.source+'" not found'))}return D=D.concat(vo({key:re,value:V,valueSpec:we.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ir({key:re+".type",value:V.type,valueSpec:we.layer.type,style:R.style,styleSpec:R.styleSpec,object:V,objectKey:"type"})},filter:Df,layout:function(Or){return vo({layer:V,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(qr){return nt(Pn({layerType:Re},qr))}}})},paint:function(Or){return vo({layer:V,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(qr){return je(Pn({layerType:Re},qr))}}})}}})),D}function mt(R){var D=R.value,V=R.key,re=fi(D);return re!=="string"?[new zr(V,D,"string expected, "+re+" found")]:[]}var _t={promoteId:Ft};function Pt(R){var D=R.value,V=R.key,re=R.styleSpec,ve=R.style;if(!D.type)return[new zr(V,D,'"type" is required')];var we=gn(D.type),Re;switch(we){case"vector":case"raster":case"raster-dem":return Re=vo({key:V,value:D,valueSpec:re["source_"+we.replace("-","_")],style:R.style,styleSpec:re,objectElementValidators:_t}),Re;case"geojson":if(Re=vo({key:V,value:D,valueSpec:re.source_geojson,style:ve,styleSpec:re,objectElementValidators:_t}),D.cluster)for(var Ke in D.clusterProperties){var ut=D.clusterProperties[Ke],wt=ut[0],Ct=ut[1],Wt=typeof wt=="string"?[wt,["accumulated"],["get",Ke]]:wt;Re.push.apply(Re,js({key:V+"."+Ke+".map",value:Ct,expressionContext:"cluster-map"})),Re.push.apply(Re,js({key:V+"."+Ke+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return Re;case"video":return vo({key:V,value:D,valueSpec:re.source_video,style:ve,styleSpec:re});case"image":return vo({key:V,value:D,valueSpec:re.source_image,style:ve,styleSpec:re});case"canvas":return[new zr(V,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return bu({key:V+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:re})}}function Ft(R){var D=R.key,V=R.value;if(fi(V)==="string")return mt({key:D,value:V});var re=[];for(var ve in V)re.push.apply(re,mt({key:D+"."+ve,value:V[ve]}));return re}function dr(R){var D=R.value,V=R.styleSpec,re=V.light,ve=R.style,we=[],Re=fi(D);if(D===void 0)return we;if(Re!=="object")return we=we.concat([new zr("light",D,"object expected, "+Re+" found")]),we;for(var Ke in D){var ut=Ke.match(/^(.*)-transition$/);ut&&re[ut[1]]&&re[ut[1]].transition?we=we.concat(Ir({key:Ke,value:D[Ke],valueSpec:V.transition,style:ve,styleSpec:V})):re[Ke]?we=we.concat(Ir({key:Ke,value:D[Ke],valueSpec:re[Ke],style:ve,styleSpec:V})):we=we.concat([new zr(Ke,D[Ke],'unknown property "'+Ke+'"')])}return we}function xr(R){return mt(R).length===0?[]:js(R)}function ar(R){return mt(R).length===0?[]:js(R)}var Ar={"*":function(){return[]},array:xu,boolean:bh,number:Zl,color:Ro,constants:bn,enum:bu,filter:Df,function:yc,layer:ht,object:vo,source:Pt,light:dr,string:mt,formatted:xr,resolvedImage:ar};function Ir(R){var D=R.value,V=R.valueSpec,re=R.styleSpec;if(V.expression&&Wl(gn(D)))return yc(R);if(V.expression&&yu(cn(D)))return js(R);if(V.type&&Ar[V.type])return Ar[V.type](R);var ve=vo(Pn({},R,{valueSpec:V.type?re[V.type]:V}));return ve}function Fr(R){var D=R.value,V=R.key,re=mt(R);return re.length||(D.indexOf("{fontstack}")===-1&&re.push(new zr(V,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&re.push(new zr(V,D,'"glyphs" url must include a "{range}" token'))),re}function en(R,D){D===void 0&&(D=br);var V=[];return V=V.concat(Ir({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Fr,"*":function(){return[]}}})),R.constants&&(V=V.concat(bn({key:"constants",value:R.constants,style:R,styleSpec:D}))),xn(V)}en.source=Cn(Pt),en.light=Cn(dr),en.layer=Cn(ht),en.filter=Cn(Df),en.paintProperty=Cn(je),en.layoutProperty=Cn(nt);function xn(R){return[].concat(R).sort(function(D,V){return D.line-V.line})}function Cn(R){return function(){for(var D=[],V=arguments.length;V--;)D[V]=arguments[V];return xn(R.apply(this,D))}}var Ln=en,Xn=Ln.light,Pa=Ln.paintProperty,Ra=Ln.layoutProperty;function Da(R,D){var V=!1;if(D&&D.length)for(var re=0,ve=D;re<ve.length;re+=1){var we=ve[re];R.fire(new Ot(new Error(we.message))),V=!0}return V}var za=ci,Za=3;function ci(R,D,V){var re=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ve=new Int32Array(this.arrayBuffer);R=ve[0],D=ve[1],V=ve[2],this.d=D+2*V;for(var we=0;we<this.d*this.d;we++){var Re=ve[Za+we],Ke=ve[Za+we+1];re.push(Re===Ke?null:ve.subarray(Re,Ke))}var ut=ve[Za+re.length],wt=ve[Za+re.length+1];this.keys=ve.subarray(ut,wt),this.bboxes=ve.subarray(wt),this.insert=this._insertReadonly}else{this.d=D+2*V;for(var Ct=0;Ct<this.d*this.d;Ct++)re.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=V,this.scale=D/R,this.uid=0;var Wt=V/D*R;this.min=-Wt,this.max=R+Wt}ci.prototype.insert=function(R,D,V,re,ve){this._forEachCell(D,V,re,ve,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(V),this.bboxes.push(re),this.bboxes.push(ve)},ci.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ci.prototype._insertCell=function(R,D,V,re,ve,we){this.cells[ve].push(we)},ci.prototype.query=function(R,D,V,re,ve){var we=this.min,Re=this.max;if(R<=we&&D<=we&&Re<=V&&Re<=re&&!ve)return Array.prototype.slice.call(this.keys);var Ke=[],ut={};return this._forEachCell(R,D,V,re,this._queryCell,Ke,ut,ve),Ke},ci.prototype._queryCell=function(R,D,V,re,ve,we,Re,Ke){var ut=this.cells[ve];if(ut!==null)for(var wt=this.keys,Ct=this.bboxes,Wt=0;Wt<ut.length;Wt++){var nr=ut[Wt];if(Re[nr]===void 0){var qt=nr*4;(Ke?Ke(Ct[qt+0],Ct[qt+1],Ct[qt+2],Ct[qt+3]):R<=Ct[qt+2]&&D<=Ct[qt+3]&&V>=Ct[qt+0]&&re>=Ct[qt+1])?(Re[nr]=!0,we.push(wt[nr])):Re[nr]=!1}}},ci.prototype._forEachCell=function(R,D,V,re,ve,we,Re,Ke){for(var ut=this._convertToCellCoord(R),wt=this._convertToCellCoord(D),Ct=this._convertToCellCoord(V),Wt=this._convertToCellCoord(re),nr=ut;nr<=Ct;nr++)for(var qt=wt;qt<=Wt;qt++){var mr=this.d*qt+nr;if(!(Ke&&!Ke(this._convertFromCellCoord(nr),this._convertFromCellCoord(qt),this._convertFromCellCoord(nr+1),this._convertFromCellCoord(qt+1)))&&ve.call(this,R,D,V,re,mr,we,Re,Ke))return}},ci.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},ci.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},ci.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=Za+this.cells.length+1+1,V=0,re=0;re<this.cells.length;re++)V+=this.cells[re].length;var ve=new Int32Array(D+V+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var we=D,Re=0;Re<R.length;Re++){var Ke=R[Re];ve[Za+Re]=we,ve.set(Ke,we),we+=Ke.length}return ve[Za+R.length]=we,ve.set(this.keys,we),we+=this.keys.length,ve[Za+R.length+1]=we,ve.set(this.bboxes,we),we+=this.bboxes.length,ve.buffer};var _i=o.ImageData,ue=o.ImageBitmap,Le={};function Oe(R,D,V){V===void 0&&(V={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),Le[R]={klass:D,omit:V.omit||[],shallow:V.shallow||[]}}Oe("Object",Object),za.serialize=function(D,V){var re=D.toArrayBuffer();return V&&V.push(re),{buffer:re}},za.deserialize=function(D){return new za(D.buffer)},Oe("Grid",za),Oe("Color",$a),Oe("Error",Error),Oe("ResolvedImage",xo),Oe("StylePropertyFunction",cl),Oe("StyleExpression",Zs,{omit:["_evaluator"]}),Oe("ZoomDependentExpression",ds),Oe("ZoomConstantExpression",Vi),Oe("CompoundExpression",Ki,{omit:["_evaluate"]});for(var Qe in Hl)Hl[Qe]._classRegistryKey||Oe("Expression_"+Qe,Hl[Qe]);function rt(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function st(R){return ue&&R instanceof ue}function Et(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(rt(R)||st(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var V=R;return D&&D.push(V.buffer),V}if(R instanceof _i)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var re=[],ve=0,we=R;ve<we.length;ve+=1){var Re=we[ve];re.push(Et(Re,D))}return re}if(typeof R=="object"){var Ke=R.constructor,ut=Ke._classRegistryKey;if(!ut)throw new Error("can't serialize object of unregistered class");var wt=Ke.serialize?Ke.serialize(R,D):{};if(!Ke.serialize){for(var Ct in R)if(R.hasOwnProperty(Ct)&&!(Le[ut].omit.indexOf(Ct)>=0)){var Wt=R[Ct];wt[Ct]=Le[ut].shallow.indexOf(Ct)>=0?Wt:Et(Wt,D)}R instanceof Error&&(wt.message=R.message)}if(wt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ut!=="Object"&&(wt.$name=ut),wt}throw new Error("can't serialize object of type "+typeof R)}function bt(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||rt(R)||st(R)||ArrayBuffer.isView(R)||R instanceof _i)return R;if(Array.isArray(R))return R.map(bt);if(typeof R=="object"){var D=R.$name||"Object",V=Le[D],re=V.klass;if(!re)throw new Error("can't deserialize unregistered class "+D);if(re.deserialize)return re.deserialize(R);for(var ve=Object.create(re.prototype),we=0,Re=Object.keys(R);we<Re.length;we+=1){var Ke=Re[we];if(Ke!=="$name"){var ut=R[Ke];ve[Ke]=Le[D].shallow.indexOf(Ke)>=0?ut:bt(ut)}}return ve}throw new Error("can't deserialize object of type "+typeof R)}var Ht=function(){this.first=!0};Ht.prototype.update=function(D,V){var re=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=re,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=re,!0):(this.lastFloorZoom>re?(this.lastIntegerZoom=re+1,this.lastIntegerZoomTime=V):this.lastFloorZoom<re&&(this.lastIntegerZoom=re,this.lastIntegerZoomTime=V),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=re,!0):!1)};var Gt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function tr(R){for(var D=0,V=R;D<V.length;D+=1){var re=V[D];if(nn(re.charCodeAt(0)))return!0}return!1}function Cr(R){for(var D=0,V=R;D<V.length;D+=1){var re=V[D];if(!Pr(re.charCodeAt(0)))return!1}return!0}function Pr(R){return!(Gt.Arabic(R)||Gt["Arabic Supplement"](R)||Gt["Arabic Extended-A"](R)||Gt["Arabic Presentation Forms-A"](R)||Gt["Arabic Presentation Forms-B"](R))}function Jr(R){return R<11904?!1:!!(Gt["Bopomofo Extended"](R)||Gt.Bopomofo(R)||Gt["CJK Compatibility Forms"](R)||Gt["CJK Compatibility Ideographs"](R)||Gt["CJK Compatibility"](R)||Gt["CJK Radicals Supplement"](R)||Gt["CJK Strokes"](R)||Gt["CJK Symbols and Punctuation"](R)||Gt["CJK Unified Ideographs Extension A"](R)||Gt["CJK Unified Ideographs"](R)||Gt["Enclosed CJK Letters and Months"](R)||Gt["Halfwidth and Fullwidth Forms"](R)||Gt.Hiragana(R)||Gt["Ideographic Description Characters"](R)||Gt["Kangxi Radicals"](R)||Gt["Katakana Phonetic Extensions"](R)||Gt.Katakana(R)||Gt["Vertical Forms"](R)||Gt["Yi Radicals"](R)||Gt["Yi Syllables"](R))}function nn(R){return R===746||R===747?!0:R<4352?!1:!!(Gt["Bopomofo Extended"](R)||Gt.Bopomofo(R)||Gt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||Gt["CJK Compatibility Ideographs"](R)||Gt["CJK Compatibility"](R)||Gt["CJK Radicals Supplement"](R)||Gt["CJK Strokes"](R)||Gt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||Gt["CJK Unified Ideographs Extension A"](R)||Gt["CJK Unified Ideographs"](R)||Gt["Enclosed CJK Letters and Months"](R)||Gt["Hangul Compatibility Jamo"](R)||Gt["Hangul Jamo Extended-A"](R)||Gt["Hangul Jamo Extended-B"](R)||Gt["Hangul Jamo"](R)||Gt["Hangul Syllables"](R)||Gt.Hiragana(R)||Gt["Ideographic Description Characters"](R)||Gt.Kanbun(R)||Gt["Kangxi Radicals"](R)||Gt["Katakana Phonetic Extensions"](R)||Gt.Katakana(R)&&R!==12540||Gt["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||Gt["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](R)||Gt["Unified Canadian Aboriginal Syllabics Extended"](R)||Gt["Vertical Forms"](R)||Gt["Yijing Hexagram Symbols"](R)||Gt["Yi Syllables"](R)||Gt["Yi Radicals"](R))}function Dr(R){return!!(Gt["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||Gt["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||Gt["Letterlike Symbols"](R)||Gt["Number Forms"](R)||Gt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||Gt["Control Pictures"](R)&&R!==9251||Gt["Optical Character Recognition"](R)||Gt["Enclosed Alphanumerics"](R)||Gt["Geometric Shapes"](R)||Gt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||Gt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||Gt["CJK Symbols and Punctuation"](R)||Gt.Katakana(R)||Gt["Private Use Area"](R)||Gt["CJK Compatibility Forms"](R)||Gt["Small Form Variants"](R)||Gt["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function Br(R){return!(nn(R)||Dr(R))}function Xr(R){return Gt.Arabic(R)||Gt["Arabic Supplement"](R)||Gt["Arabic Extended-A"](R)||Gt["Arabic Presentation Forms-A"](R)||Gt["Arabic Presentation Forms-B"](R)}function ln(R){return R>=1424&&R<=2303||Gt["Arabic Presentation Forms-A"](R)||Gt["Arabic Presentation Forms-B"](R)}function fn(R,D){return!(!D&&ln(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||Gt.Khmer(R))}function $r(R){for(var D=0,V=R;D<V.length;D+=1){var re=V[D];if(ln(re.charCodeAt(0)))return!0}return!1}function Bn(R,D){for(var V=0,re=R;V<re.length;V+=1){var ve=re[V];if(!fn(ve.charCodeAt(0),D))return!1}return!0}var na={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ca=null,ta=na.unavailable,sa=null,ha=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(ta=na.error),ca&&ca(R)};function Fa(){Sa.fire(new er("pluginStateChange",{pluginStatus:ta,pluginURL:sa}))}var Sa=new vr,ka=function(){return ta},ri=function(R){return R({pluginStatus:ta,pluginURL:sa}),Sa.on("pluginStateChange",R),R},Oi=function(R,D,V){if(V===void 0&&(V=!1),ta===na.deferred||ta===na.loading||ta===na.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");sa=se.resolveURL(R),ta=na.deferred,ca=D,Fa(),V||li()},li=function(){if(ta!==na.deferred||!sa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ta=na.loading,Fa(),sa&&Bt({url:sa},function(R){R?ha(R):(ta=na.loaded,Fa())})},Qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ta===na.loaded||Qn.applyArabicShaping!=null},isLoading:function(){return ta===na.loading},setState:function(D){ta=D.pluginStatus,sa=D.pluginURL},isParsed:function(){return Qn.applyArabicShaping!=null&&Qn.processBidirectionalText!=null&&Qn.processStyledBidirectionalText!=null},getPluginURL:function(){return sa}},Na=function(){!Qn.isLoading()&&!Qn.isLoaded()&&ka()==="deferred"&&li()},Aa=function(D,V){this.zoom=D,V?(this.now=V.now,this.fadeDuration=V.fadeDuration,this.zoomHistory=V.zoomHistory,this.transition=V.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ht,this.transition={})};Aa.prototype.isSupportedScript=function(D){return Bn(D,Qn.isLoaded())},Aa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Aa.prototype.getCrossfadeParameters=function(){var D=this.zoom,V=D-Math.floor(D),re=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:V+(1-V)*re}:{fromScale:.5,toScale:1,t:1-(1-re)*V}};var Xa=function(D,V){this.property=D,this.value=V,this.expression=qu(V===void 0?D.specification.default:V,D.specification)};Xa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Xa.prototype.possiblyEvaluate=function(D,V,re){return this.property.possiblyEvaluate(this,D,V,re)};var xi=function(D){this.property=D,this.value=new Xa(D,void 0)};xi.prototype.transitioned=function(D,V){return new Qi(this.property,this.value,V,A({},D.transition,this.transition),D.now)},xi.prototype.untransitioned=function(){return new Qi(this.property,this.value,null,{},0)};var ni=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ni.prototype.getValue=function(D){return U(this._values[D].value.value)},ni.prototype.setValue=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new xi(this._values[D].property)),this._values[D].value=new Xa(this._values[D].property,V===null?void 0:U(V))},ni.prototype.getTransition=function(D){return U(this._values[D].transition)},ni.prototype.setTransition=function(D,V){this._values.hasOwnProperty(D)||(this._values[D]=new xi(this._values[D].property)),this._values[D].transition=U(V)||void 0},ni.prototype.serialize=function(){for(var D={},V=0,re=Object.keys(this._values);V<re.length;V+=1){var ve=re[V],we=this.getValue(ve);we!==void 0&&(D[ve]=we);var Re=this.getTransition(ve);Re!==void 0&&(D[ve+"-transition"]=Re)}return D},ni.prototype.transitioned=function(D,V){for(var re=new $i(this._properties),ve=0,we=Object.keys(this._values);ve<we.length;ve+=1){var Re=we[ve];re._values[Re]=this._values[Re].transitioned(D,V._values[Re])}return re},ni.prototype.untransitioned=function(){for(var D=new $i(this._properties),V=0,re=Object.keys(this._values);V<re.length;V+=1){var ve=re[V];D._values[ve]=this._values[ve].untransitioned()}return D};var Qi=function(D,V,re,ve,we){this.property=D,this.value=V,this.begin=we+ve.delay||0,this.end=this.begin+ve.duration||0,D.specification.transition&&(ve.delay||ve.duration)&&(this.prior=re)};Qi.prototype.possiblyEvaluate=function(D,V,re){var ve=D.now||0,we=this.value.possiblyEvaluate(D,V,re),Re=this.prior;if(Re){if(ve>this.end)return this.prior=null,we;if(this.value.isDataDriven())return this.prior=null,we;if(ve<this.begin)return Re.possiblyEvaluate(D,V,re);var Ke=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(Re.possiblyEvaluate(D,V,re),we,u(Ke))}else return we};var $i=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};$i.prototype.possiblyEvaluate=function(D,V,re){for(var ve=new po(this._properties),we=0,Re=Object.keys(this._values);we<Re.length;we+=1){var Ke=Re[we];ve._values[Ke]=this._values[Ke].possiblyEvaluate(D,V,re)}return ve},$i.prototype.hasTransition=function(){for(var D=0,V=Object.keys(this._values);D<V.length;D+=1){var re=V[D];if(this._values[re].prior)return!0}return!1};var no=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};no.prototype.getValue=function(D){return U(this._values[D].value)},no.prototype.setValue=function(D,V){this._values[D]=new Xa(this._values[D].property,V===null?void 0:U(V))},no.prototype.serialize=function(){for(var D={},V=0,re=Object.keys(this._values);V<re.length;V+=1){var ve=re[V],we=this.getValue(ve);we!==void 0&&(D[ve]=we)}return D},no.prototype.possiblyEvaluate=function(D,V,re){for(var ve=new po(this._properties),we=0,Re=Object.keys(this._values);we<Re.length;we+=1){var Ke=Re[we];ve._values[Ke]=this._values[Ke].possiblyEvaluate(D,V,re)}return ve};var bi=function(D,V,re){this.property=D,this.value=V,this.parameters=re};bi.prototype.isConstant=function(){return this.value.kind==="constant"},bi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},bi.prototype.evaluate=function(D,V,re,ve){return this.property.evaluate(this.value,this.parameters,D,V,re,ve)};var po=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};po.prototype.get=function(D){return this._values[D]};var ua=function(D){this.specification=D};ua.prototype.possiblyEvaluate=function(D,V){return D.expression.evaluate(V)},ua.prototype.interpolate=function(D,V,re){var ve=Wu[this.specification.type];return ve?ve(D,V,re):D};var Ca=function(D,V){this.specification=D,this.overrides=V};Ca.prototype.possiblyEvaluate=function(D,V,re,ve){return D.expression.kind==="constant"||D.expression.kind==="camera"?new bi(this,{kind:"constant",value:D.expression.evaluate(V,null,{},re,ve)},V):new bi(this,D.expression,V)},Ca.prototype.interpolate=function(D,V,re){if(D.value.kind!=="constant"||V.value.kind!=="constant")return D;if(D.value.value===void 0||V.value.value===void 0)return new bi(this,{kind:"constant",value:void 0},D.parameters);var ve=Wu[this.specification.type];return ve?new bi(this,{kind:"constant",value:ve(D.value.value,V.value.value,re)},D.parameters):D},Ca.prototype.evaluate=function(D,V,re,ve,we,Re){return D.kind==="constant"?D.value:D.evaluate(V,re,ve,we,Re)};var Do=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(re,ve,we,Re){if(re.value===void 0)return new bi(this,{kind:"constant",value:void 0},ve);if(re.expression.kind==="constant"){var Ke=re.expression.evaluate(ve,null,{},we,Re),ut=re.property.specification.type==="resolvedImage",wt=ut&&typeof Ke!="string"?Ke.name:Ke,Ct=this._calculate(wt,wt,wt,ve);return new bi(this,{kind:"constant",value:Ct},ve)}else if(re.expression.kind==="camera"){var Wt=this._calculate(re.expression.evaluate({zoom:ve.zoom-1}),re.expression.evaluate({zoom:ve.zoom}),re.expression.evaluate({zoom:ve.zoom+1}),ve);return new bi(this,{kind:"constant",value:Wt},ve)}else return new bi(this,re.expression,ve)},D.prototype.evaluate=function(re,ve,we,Re,Ke,ut){if(re.kind==="source"){var wt=re.evaluate(ve,we,Re,Ke,ut);return this._calculate(wt,wt,wt,ve)}else return re.kind==="composite"?this._calculate(re.evaluate({zoom:Math.floor(ve.zoom)-1},we,Re),re.evaluate({zoom:Math.floor(ve.zoom)},we,Re),re.evaluate({zoom:Math.floor(ve.zoom)+1},we,Re),ve):re.value},D.prototype._calculate=function(re,ve,we,Re){var Ke=Re.zoom;return Ke>Re.zoomHistory.lastIntegerZoom?{from:re,to:ve}:{from:we,to:ve}},D.prototype.interpolate=function(re){return re},D}(Ca),Fo=function(D){this.specification=D};Fo.prototype.possiblyEvaluate=function(D,V,re,ve){if(D.value!==void 0)if(D.expression.kind==="constant"){var we=D.expression.evaluate(V,null,{},re,ve);return this._calculate(we,we,we,V)}else return this._calculate(D.expression.evaluate(new Aa(Math.floor(V.zoom-1),V)),D.expression.evaluate(new Aa(Math.floor(V.zoom),V)),D.expression.evaluate(new Aa(Math.floor(V.zoom+1),V)),V)},Fo.prototype._calculate=function(D,V,re,ve){var we=ve.zoom;return we>ve.zoomHistory.lastIntegerZoom?{from:D,to:V}:{from:re,to:V}},Fo.prototype.interpolate=function(D){return D};var ao=function(D){this.specification=D};ao.prototype.possiblyEvaluate=function(D,V,re,ve){return!!D.expression.evaluate(V,null,{},re,ve)},ao.prototype.interpolate=function(){return!1};var ui=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var V in D){var re=D[V];re.specification.overridable&&this.overridableProperties.push(V);var ve=this.defaultPropertyValues[V]=new Xa(re,void 0),we=this.defaultTransitionablePropertyValues[V]=new xi(re);this.defaultTransitioningPropertyValues[V]=we.untransitioned(),this.defaultPossiblyEvaluatedValues[V]=ve.possiblyEvaluate({})}};Oe("DataDrivenProperty",Ca),Oe("DataConstantProperty",ua),Oe("CrossFadedDataDrivenProperty",Do),Oe("CrossFadedProperty",Fo),Oe("ColorRampProperty",ao);var Gi="-transition",Fi=function(R){function D(V,re){if(R.call(this),this.id=V.id,this.type=V.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},V.type!=="custom"&&(V=V,this.metadata=V.metadata,this.minzoom=V.minzoom,this.maxzoom=V.maxzoom,V.type!=="background"&&(this.source=V.source,this.sourceLayer=V["source-layer"],this.filter=V.filter),re.layout&&(this._unevaluatedLayout=new no(re.layout)),re.paint)){this._transitionablePaint=new ni(re.paint);for(var ve in V.paint)this.setPaintProperty(ve,V.paint[ve],{validate:!1});for(var we in V.layout)this.setLayoutProperty(we,V.layout[we],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new po(re.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(re){return re==="visibility"?this.visibility:this._unevaluatedLayout.getValue(re)},D.prototype.setLayoutProperty=function(re,ve,we){if(we===void 0&&(we={}),ve!=null){var Re="layers."+this.id+".layout."+re;if(this._validate(Ra,Re,re,ve,we))return}if(re==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(re,ve)},D.prototype.getPaintProperty=function(re){return m(re,Gi)?this._transitionablePaint.getTransition(re.slice(0,-Gi.length)):this._transitionablePaint.getValue(re)},D.prototype.setPaintProperty=function(re,ve,we){if(we===void 0&&(we={}),ve!=null){var Re="layers."+this.id+".paint."+re;if(this._validate(Pa,Re,re,ve,we))return!1}if(m(re,Gi))return this._transitionablePaint.setTransition(re.slice(0,-Gi.length),ve||void 0),!1;var Ke=this._transitionablePaint._values[re],ut=Ke.property.specification["property-type"]==="cross-faded-data-driven",wt=Ke.value.isDataDriven(),Ct=Ke.value;this._transitionablePaint.setValue(re,ve),this._handleSpecialPaintPropertyUpdate(re);var Wt=this._transitionablePaint._values[re].value,nr=Wt.isDataDriven();return nr||wt||ut||this._handleOverridablePaintPropertyUpdate(re,Ct,Wt)},D.prototype._handleSpecialPaintPropertyUpdate=function(re){},D.prototype._handleOverridablePaintPropertyUpdate=function(re,ve,we){return!1},D.prototype.isHidden=function(re){return this.minzoom&&re<this.minzoom||this.maxzoom&&re>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(re){this._transitioningPaint=this._transitionablePaint.transitioned(re,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(re,ve){re.getCrossfadeParameters&&(this._crossfadeParameters=re.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(re,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(re,void 0,ve)},D.prototype.serialize=function(){var re={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(re.layout=re.layout||{},re.layout.visibility=this.visibility),I(re,function(ve,we){return ve!==void 0&&!(we==="layout"&&!Object.keys(ve).length)&&!(we==="paint"&&!Object.keys(ve).length)})},D.prototype._validate=function(re,ve,we,Re,Ke){return Ke===void 0&&(Ke={}),Ke&&Ke.validate===!1?!1:Da(this,re.call(Ln,{key:ve,layerType:this.type,objectKey:we,value:Re,styleSpec:br,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var re in this.paint._values){var ve=this.paint.get(re);if(!(!(ve instanceof bi)||!Ds(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},D}(vr),ps={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ks=function(D,V){this._structArray=D,this._pos1=V*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ci=128,Xl=5,ja=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ja.serialize=function(D,V){return D._trim(),V&&(D.isTransferred=!0,V.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},ja.deserialize=function(D){var V=Object.create(this.prototype);return V.arrayBuffer=D.arrayBuffer,V.length=D.length,V.capacity=D.arrayBuffer.byteLength/V.bytesPerElement,V._refreshViews(),V},ja.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ja.prototype.clear=function(){this.length=0},ja.prototype.resize=function(D){this.reserve(D),this.length=D},ja.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*Xl),Ci),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var V=this.uint8;this._refreshViews(),V&&this.uint8.set(V)}},ja.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Li(R,D){D===void 0&&(D=1);var V=0,re=0,ve=R.map(function(Re){var Ke=wh(Re.type),ut=V=mp(V,Math.max(D,Ke)),wt=Re.components||1;return re=Math.max(re,Ke),V+=Ke*wt,{name:Re.name,type:Re.type,components:wt,offset:ut}}),we=mp(V,Math.max(re,D));return{members:ve,size:we,alignment:D}}function wh(R){return ps[R].BYTES_PER_ELEMENT}function mp(R,D){return Math.ceil(R/D)*D}var If=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve){var we=this.length;return this.resize(we+1),this.emplace(we,re,ve)},D.prototype.emplace=function(re,ve,we){var Re=re*2;return this.int16[Re+0]=ve,this.int16[Re+1]=we,re},D}(ja);If.prototype.bytesPerElement=4,Oe("StructArrayLayout2i4",If);var Qv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,re,ve,we,Re)},D.prototype.emplace=function(re,ve,we,Re,Ke){var ut=re*4;return this.int16[ut+0]=ve,this.int16[ut+1]=we,this.int16[ut+2]=Re,this.int16[ut+3]=Ke,re},D}(ja);Qv.prototype.bytesPerElement=8,Oe("StructArrayLayout4i8",Qv);var rf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,re,ve,we,Re,Ke,ut)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt){var Ct=re*6;return this.int16[Ct+0]=ve,this.int16[Ct+1]=we,this.int16[Ct+2]=Re,this.int16[Ct+3]=Ke,this.int16[Ct+4]=ut,this.int16[Ct+5]=wt,re},D}(ja);rf.prototype.bytesPerElement=12,Oe("StructArrayLayout2i4i12",rf);var bc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,re,ve,we,Re,Ke,ut)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt){var Ct=re*4,Wt=re*8;return this.int16[Ct+0]=ve,this.int16[Ct+1]=we,this.uint8[Wt+4]=Re,this.uint8[Wt+5]=Ke,this.uint8[Wt+6]=ut,this.uint8[Wt+7]=wt,re},D}(ja);bc.prototype.bytesPerElement=8,Oe("StructArrayLayout2i4ub8",bc);var wc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve){var we=this.length;return this.resize(we+1),this.emplace(we,re,ve)},D.prototype.emplace=function(re,ve,we){var Re=re*2;return this.float32[Re+0]=ve,this.float32[Re+1]=we,re},D}(ja);wc.prototype.bytesPerElement=8,Oe("StructArrayLayout2f8",wc);var es=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr){var qt=this.length;return this.resize(qt+1),this.emplace(qt,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt){var mr=re*10;return this.uint16[mr+0]=ve,this.uint16[mr+1]=we,this.uint16[mr+2]=Re,this.uint16[mr+3]=Ke,this.uint16[mr+4]=ut,this.uint16[mr+5]=wt,this.uint16[mr+6]=Ct,this.uint16[mr+7]=Wt,this.uint16[mr+8]=nr,this.uint16[mr+9]=qt,re},D}(ja);es.prototype.bytesPerElement=20,Oe("StructArrayLayout10ui20",es);var nf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr){var Or=this.length;return this.resize(Or+1),this.emplace(Or,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or){var sn=re*12;return this.int16[sn+0]=ve,this.int16[sn+1]=we,this.int16[sn+2]=Re,this.int16[sn+3]=Ke,this.uint16[sn+4]=ut,this.uint16[sn+5]=wt,this.uint16[sn+6]=Ct,this.uint16[sn+7]=Wt,this.int16[sn+8]=nr,this.int16[sn+9]=qt,this.int16[sn+10]=mr,this.int16[sn+11]=Or,re},D}(ja);nf.prototype.bytesPerElement=24,Oe("StructArrayLayout4i4ui4i24",nf);var $v=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we){var Re=this.length;return this.resize(Re+1),this.emplace(Re,re,ve,we)},D.prototype.emplace=function(re,ve,we,Re){var Ke=re*3;return this.float32[Ke+0]=ve,this.float32[Ke+1]=we,this.float32[Ke+2]=Re,re},D}(ja);$v.prototype.bytesPerElement=12,Oe("StructArrayLayout3f12",$v);var qv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re){var ve=this.length;return this.resize(ve+1),this.emplace(ve,re)},D.prototype.emplace=function(re,ve){var we=re*1;return this.uint32[we+0]=ve,re},D}(ja);qv.prototype.bytesPerElement=4,Oe("StructArrayLayout1ul4",qv);var Th=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt){var nr=this.length;return this.resize(nr+1),this.emplace(nr,re,ve,we,Re,Ke,ut,wt,Ct,Wt)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr){var qt=re*10,mr=re*5;return this.int16[qt+0]=ve,this.int16[qt+1]=we,this.int16[qt+2]=Re,this.int16[qt+3]=Ke,this.int16[qt+4]=ut,this.int16[qt+5]=wt,this.uint32[mr+3]=Ct,this.uint16[qt+8]=Wt,this.uint16[qt+9]=nr,re},D}(ja);Th.prototype.bytesPerElement=20,Oe("StructArrayLayout6i1ul2ui20",Th);var Xh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,re,ve,we,Re,Ke,ut)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt){var Ct=re*6;return this.int16[Ct+0]=ve,this.int16[Ct+1]=we,this.int16[Ct+2]=Re,this.int16[Ct+3]=Ke,this.int16[Ct+4]=ut,this.int16[Ct+5]=wt,re},D}(ja);Xh.prototype.bytesPerElement=12,Oe("StructArrayLayout2i2i2i12",Xh);var Su=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke){var ut=this.length;return this.resize(ut+1),this.emplace(ut,re,ve,we,Re,Ke)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut){var wt=re*4,Ct=re*8;return this.float32[wt+0]=ve,this.float32[wt+1]=we,this.float32[wt+2]=Re,this.int16[Ct+6]=Ke,this.int16[Ct+7]=ut,re},D}(ja);Su.prototype.bytesPerElement=16,Oe("StructArrayLayout2f1f2i16",Su);var gs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,re,ve,we,Re)},D.prototype.emplace=function(re,ve,we,Re,Ke){var ut=re*12,wt=re*3;return this.uint8[ut+0]=ve,this.uint8[ut+1]=we,this.float32[wt+1]=Re,this.float32[wt+2]=Ke,re},D}(ja);gs.prototype.bytesPerElement=12,Oe("StructArrayLayout2ub2f12",gs);var Eu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we){var Re=this.length;return this.resize(Re+1),this.emplace(Re,re,ve,we)},D.prototype.emplace=function(re,ve,we,Re){var Ke=re*3;return this.uint16[Ke+0]=ve,this.uint16[Ke+1]=we,this.uint16[Ke+2]=Re,re},D}(ja);Eu.prototype.bytesPerElement=6,Oe("StructArrayLayout3ui6",Eu);var Ah=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr,Sn,yn){var An=this.length;return this.resize(An+1),this.emplace(An,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr,Sn,yn)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr,Sn,yn,An){var In=re*24,Vn=re*12,ia=re*48;return this.int16[In+0]=ve,this.int16[In+1]=we,this.uint16[In+2]=Re,this.uint16[In+3]=Ke,this.uint32[Vn+2]=ut,this.uint32[Vn+3]=wt,this.uint32[Vn+4]=Ct,this.uint16[In+10]=Wt,this.uint16[In+11]=nr,this.uint16[In+12]=qt,this.float32[Vn+7]=mr,this.float32[Vn+8]=Or,this.uint8[ia+36]=sn,this.uint8[ia+37]=qr,this.uint8[ia+38]=Sn,this.uint32[Vn+10]=yn,this.int16[In+22]=An,re},D}(ja);Ah.prototype.bytesPerElement=48,Oe("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ah);var jh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr,Sn,yn,An,In,Vn,ia,ra,wa,da,xa,Ba,Ta,Ea){var Ga=this.length;return this.resize(Ga+1),this.emplace(Ga,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr,Sn,yn,An,In,Vn,ia,ra,wa,da,xa,Ba,Ta,Ea)},D.prototype.emplace=function(re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr,Sn,yn,An,In,Vn,ia,ra,wa,da,xa,Ba,Ta,Ea,Ga){var Oa=re*34,ii=re*17;return this.int16[Oa+0]=ve,this.int16[Oa+1]=we,this.int16[Oa+2]=Re,this.int16[Oa+3]=Ke,this.int16[Oa+4]=ut,this.int16[Oa+5]=wt,this.int16[Oa+6]=Ct,this.int16[Oa+7]=Wt,this.uint16[Oa+8]=nr,this.uint16[Oa+9]=qt,this.uint16[Oa+10]=mr,this.uint16[Oa+11]=Or,this.uint16[Oa+12]=sn,this.uint16[Oa+13]=qr,this.uint16[Oa+14]=Sn,this.uint16[Oa+15]=yn,this.uint16[Oa+16]=An,this.uint16[Oa+17]=In,this.uint16[Oa+18]=Vn,this.uint16[Oa+19]=ia,this.uint16[Oa+20]=ra,this.uint16[Oa+21]=wa,this.uint16[Oa+22]=da,this.uint32[ii+12]=xa,this.float32[ii+13]=Ba,this.float32[ii+14]=Ta,this.float32[ii+15]=Ea,this.float32[ii+16]=Ga,re},D}(ja);jh.prototype.bytesPerElement=68,Oe("StructArrayLayout8i15ui1ul4f68",jh);var Tc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re){var ve=this.length;return this.resize(ve+1),this.emplace(ve,re)},D.prototype.emplace=function(re,ve){var we=re*1;return this.float32[we+0]=ve,re},D}(ja);Tc.prototype.bytesPerElement=4,Oe("StructArrayLayout1f4",Tc);var ed=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we){var Re=this.length;return this.resize(Re+1),this.emplace(Re,re,ve,we)},D.prototype.emplace=function(re,ve,we,Re){var Ke=re*3;return this.int16[Ke+0]=ve,this.int16[Ke+1]=we,this.int16[Ke+2]=Re,re},D}(ja);ed.prototype.bytesPerElement=6,Oe("StructArrayLayout3i6",ed);var af=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we){var Re=this.length;return this.resize(Re+1),this.emplace(Re,re,ve,we)},D.prototype.emplace=function(re,ve,we,Re){var Ke=re*2,ut=re*4;return this.uint32[Ke+0]=ve,this.uint16[ut+2]=we,this.uint16[ut+3]=Re,re},D}(ja);af.prototype.bytesPerElement=8,Oe("StructArrayLayout1ul2ui8",af);var Mh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve){var we=this.length;return this.resize(we+1),this.emplace(we,re,ve)},D.prototype.emplace=function(re,ve,we){var Re=re*2;return this.uint16[Re+0]=ve,this.uint16[Re+1]=we,re},D}(ja);Mh.prototype.bytesPerElement=4,Oe("StructArrayLayout2ui4",Mh);var Ac=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re){var ve=this.length;return this.resize(ve+1),this.emplace(ve,re)},D.prototype.emplace=function(re,ve){var we=re*1;return this.uint16[we+0]=ve,re},D}(ja);Ac.prototype.bytesPerElement=2,Oe("StructArrayLayout1ui2",Ac);var kf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,ve,we,Re){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,re,ve,we,Re)},D.prototype.emplace=function(re,ve,we,Re,Ke){var ut=re*4;return this.float32[ut+0]=ve,this.float32[ut+1]=we,this.float32[ut+2]=Re,this.float32[ut+3]=Ke,re},D}(ja);kf.prototype.bytesPerElement=16,Oe("StructArrayLayout4f16",kf);var xp=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return V.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},V.x1.get=function(){return this._structArray.int16[this._pos2+2]},V.y1.get=function(){return this._structArray.int16[this._pos2+3]},V.x2.get=function(){return this._structArray.int16[this._pos2+4]},V.y2.get=function(){return this._structArray.int16[this._pos2+5]},V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,V),D}(ks);xp.prototype.size=20;var td=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new xp(this,re)},D}(Th);Oe("CollisionBoxArray",td);var _f=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},V.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},V.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},V.segment.get=function(){return this._structArray.uint16[this._pos2+10]},V.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},V.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},V.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},V.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},V.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},V.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},V.placedOrientation.set=function(re){this._structArray.uint8[this._pos1+37]=re},V.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},V.hidden.set=function(re){this._structArray.uint8[this._pos1+38]=re},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},V.crossTileID.set=function(re){this._structArray.uint32[this._pos4+10]=re},V.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,V),D}(ks);_f.prototype.size=48;var rd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new _f(this,re)},D}(Ah);Oe("PlacedSymbolArray",rd);var Mc=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},V.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},V.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},V.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},V.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},V.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},V.key.get=function(){return this._structArray.uint16[this._pos2+8]},V.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},V.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},V.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},V.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},V.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},V.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},V.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},V.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},V.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},V.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},V.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},V.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},V.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},V.crossTileID.set=function(re){this._structArray.uint32[this._pos4+12]=re},V.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},V.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},V.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},V.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,V),D}(ks);Mc.prototype.size=68;var bp=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new Mc(this,re)},D}(jh);Oe("SymbolInstanceArray",bp);var wp=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(re){return this.float32[re*1+0]},D}(Tc);Oe("GlyphOffsetArray",wp);var vl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(re){return this.int16[re*3+0]},D.prototype.gety=function(re){return this.int16[re*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(re){return this.int16[re*3+2]},D}(ed);Oe("SymbolLineVertexArray",vl);var Tp=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var V={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,V),D}(ks);Tp.prototype.size=8;var Ap=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new Tp(this,re)},D}(af);Oe("FeatureIndexArray",Ap);var Eg=Li([{name:"a_pos",components:2,type:"Int16"}],4),Mp=Eg.members,io=function(D){D===void 0&&(D=[]),this.segments=D};io.prototype.prepareSegment=function(D,V,re,ve){var we=this.segments[this.segments.length-1];return D>io.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+io.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!we||we.vertexLength+D>io.MAX_VERTEX_ARRAY_LENGTH||we.sortKey!==ve)&&(we={vertexOffset:V.length,primitiveOffset:re.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(we.sortKey=ve),this.segments.push(we)),we},io.prototype.get=function(){return this.segments},io.prototype.destroy=function(){for(var D=0,V=this.segments;D<V.length;D+=1){var re=V[D];for(var ve in re.vaos)re.vaos[ve].destroy()}},io.simpleSegment=function(D,V,re,ve){return new io([{vertexOffset:D,primitiveOffset:V,vertexLength:re,primitiveLength:ve,vaos:{},sortKey:0}])},io.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Oe("SegmentVector",io);function he(R,D){return R=f(Math.floor(R),0,255),D=f(Math.floor(D),0,255),256*R+D}var X=Li([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=L(function(R){function D(V,re){var ve,we,Re,Ke,ut,wt,Ct,Wt;for(ve=V.length&3,we=V.length-ve,Re=re,ut=3432918353,wt=461845907,Wt=0;Wt<we;)Ct=V.charCodeAt(Wt)&255|(V.charCodeAt(++Wt)&255)<<8|(V.charCodeAt(++Wt)&255)<<16|(V.charCodeAt(++Wt)&255)<<24,++Wt,Ct=(Ct&65535)*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295,Ct=Ct<<15|Ct>>>17,Ct=(Ct&65535)*wt+(((Ct>>>16)*wt&65535)<<16)&4294967295,Re^=Ct,Re=Re<<13|Re>>>19,Ke=(Re&65535)*5+(((Re>>>16)*5&65535)<<16)&4294967295,Re=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16);switch(Ct=0,ve){case 3:Ct^=(V.charCodeAt(Wt+2)&255)<<16;case 2:Ct^=(V.charCodeAt(Wt+1)&255)<<8;case 1:Ct^=V.charCodeAt(Wt)&255,Ct=(Ct&65535)*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295,Ct=Ct<<15|Ct>>>17,Ct=(Ct&65535)*wt+(((Ct>>>16)*wt&65535)<<16)&4294967295,Re^=Ct}return Re^=V.length,Re^=Re>>>16,Re=(Re&65535)*2246822507+(((Re>>>16)*2246822507&65535)<<16)&4294967295,Re^=Re>>>13,Re=(Re&65535)*3266489909+(((Re>>>16)*3266489909&65535)<<16)&4294967295,Re^=Re>>>16,Re>>>0}R.exports=D}),ee=L(function(R){function D(V,re){for(var ve=V.length,we=re^ve,Re=0,Ke;ve>=4;)Ke=V.charCodeAt(Re)&255|(V.charCodeAt(++Re)&255)<<8|(V.charCodeAt(++Re)&255)<<16|(V.charCodeAt(++Re)&255)<<24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Ke^=Ke>>>24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)^Ke,ve-=4,++Re;switch(ve){case 3:we^=(V.charCodeAt(Re+2)&255)<<16;case 2:we^=(V.charCodeAt(Re+1)&255)<<8;case 1:we^=V.charCodeAt(Re)&255,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)}return we^=we>>>13,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16),we^=we>>>15,we>>>0}R.exports=D}),pe=de,_e=de,Xe=ee;pe.murmur3=_e,pe.murmur2=Xe;var ot=function(){this.ids=[],this.positions=[],this.indexed=!1};ot.prototype.add=function(D,V,re,ve){this.ids.push(Ut(D)),this.positions.push(V,re,ve)},ot.prototype.getPositions=function(D){for(var V=Ut(D),re=0,ve=this.ids.length-1;re<ve;){var we=re+ve>>1;this.ids[we]>=V?ve=we:re=we+1}for(var Re=[];this.ids[re]===V;){var Ke=this.positions[3*re],ut=this.positions[3*re+1],wt=this.positions[3*re+2];Re.push({index:Ke,start:ut,end:wt}),re++}return Re},ot.serialize=function(D,V){var re=new Float64Array(D.ids),ve=new Uint32Array(D.positions);return Kt(re,ve,0,re.length-1),V&&V.push(re.buffer,ve.buffer),{ids:re,positions:ve}},ot.deserialize=function(D){var V=new ot;return V.ids=D.ids,V.positions=D.positions,V.indexed=!0,V};var St=Math.pow(2,53)-1;function Ut(R){var D=+R;return!isNaN(D)&&D<=St?D:pe(String(R))}function Kt(R,D,V,re){for(;V<re;){for(var ve=R[V+re>>1],we=V-1,Re=re+1;;){do we++;while(R[we]<ve);do Re--;while(R[Re]>ve);if(we>=Re)break;or(R,we,Re),or(D,3*we,3*Re),or(D,3*we+1,3*Re+1),or(D,3*we+2,3*Re+2)}Re-V<re-Re?(Kt(R,D,V,Re),V=Re+1):(Kt(R,D,Re+1,re),re=Re)}}function or(R,D,V){var re=R[D];R[D]=R[V],R[V]=re}Oe("FeaturePositionMap",ot);var ir=function(D,V){this.gl=D.gl,this.location=V},_r=function(R){function D(V,re){R.call(this,V,re),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){this.current!==re&&(this.current=re,this.gl.uniform1i(this.location,re))},D}(ir),Zr=function(R){function D(V,re){R.call(this,V,re),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){this.current!==re&&(this.current=re,this.gl.uniform1f(this.location,re))},D}(ir),Yr=function(R){function D(V,re){R.call(this,V,re),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re[0]!==this.current[0]||re[1]!==this.current[1])&&(this.current=re,this.gl.uniform2f(this.location,re[0],re[1]))},D}(ir),Vr=function(R){function D(V,re){R.call(this,V,re),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re[0]!==this.current[0]||re[1]!==this.current[1]||re[2]!==this.current[2])&&(this.current=re,this.gl.uniform3f(this.location,re[0],re[1],re[2]))},D}(ir),Kr=function(R){function D(V,re){R.call(this,V,re),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re[0]!==this.current[0]||re[1]!==this.current[1]||re[2]!==this.current[2]||re[3]!==this.current[3])&&(this.current=re,this.gl.uniform4f(this.location,re[0],re[1],re[2],re[3]))},D}(ir),un=function(R){function D(V,re){R.call(this,V,re),this.current=$a.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re.r!==this.current.r||re.g!==this.current.g||re.b!==this.current.b||re.a!==this.current.a)&&(this.current=re,this.gl.uniform4f(this.location,re.r,re.g,re.b,re.a))},D}(ir),Rn=new Float32Array(16),zn=function(R){function D(V,re){R.call(this,V,re),this.current=Rn}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){if(re[12]!==this.current[12]||re[0]!==this.current[0]){this.current=re,this.gl.uniformMatrix4fv(this.location,!1,re);return}for(var ve=1;ve<16;ve++)if(re[ve]!==this.current[ve]){this.current=re,this.gl.uniformMatrix4fv(this.location,!1,re);break}},D}(ir);function Wn(R){return[he(255*R.r,255*R.g),he(255*R.b,255*R.a)]}var Zn=function(D,V,re){this.value=D,this.uniformNames=V.map(function(ve){return"u_"+ve}),this.type=re};Zn.prototype.setUniform=function(D,V,re){D.set(re.constantOr(this.value))},Zn.prototype.getBinding=function(D,V,re){return this.type==="color"?new un(D,V):new Zr(D,V)};var Hn=function(D,V){this.uniformNames=V.map(function(re){return"u_"+re}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Hn.prototype.setConstantPatternPositions=function(D,V){this.pixelRatioFrom=V.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=V.tlbr,this.patternTo=D.tlbr},Hn.prototype.setUniform=function(D,V,re,ve){var we=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;we&&D.set(we)},Hn.prototype.getBinding=function(D,V,re){return re.substr(0,9)==="u_pattern"?new Kr(D,V):new Zr(D,V)};var jn=function(D,V,re,ve){this.expression=D,this.type=re,this.maxValue=0,this.paintVertexAttributes=V.map(function(we){return{name:"a_"+we,type:"Float32",components:re==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};jn.prototype.populatePaintArray=function(D,V,re,ve,we){var Re=this.paintVertexArray.length,Ke=this.expression.evaluate(new Aa(0),V,{},ve,[],we);this.paintVertexArray.resize(D),this._setPaintValue(Re,D,Ke)},jn.prototype.updatePaintArray=function(D,V,re,ve){var we=this.expression.evaluate({zoom:0},re,ve);this._setPaintValue(D,V,we)},jn.prototype._setPaintValue=function(D,V,re){if(this.type==="color")for(var ve=Wn(re),we=D;we<V;we++)this.paintVertexArray.emplace(we,ve[0],ve[1]);else{for(var Re=D;Re<V;Re++)this.paintVertexArray.emplace(Re,re);this.maxValue=Math.max(this.maxValue,Math.abs(re))}},jn.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var aa=function(D,V,re,ve,we,Re){this.expression=D,this.uniformNames=V.map(function(Ke){return"u_"+Ke+"_t"}),this.type=re,this.useIntegerZoom=ve,this.zoom=we,this.maxValue=0,this.paintVertexAttributes=V.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:re==="color"?4:2,offset:0}}),this.paintVertexArray=new Re};aa.prototype.populatePaintArray=function(D,V,re,ve,we){var Re=this.expression.evaluate(new Aa(this.zoom),V,{},ve,[],we),Ke=this.expression.evaluate(new Aa(this.zoom+1),V,{},ve,[],we),ut=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ut,D,Re,Ke)},aa.prototype.updatePaintArray=function(D,V,re,ve){var we=this.expression.evaluate({zoom:this.zoom},re,ve),Re=this.expression.evaluate({zoom:this.zoom+1},re,ve);this._setPaintValue(D,V,we,Re)},aa.prototype._setPaintValue=function(D,V,re,ve){if(this.type==="color")for(var we=Wn(re),Re=Wn(ve),Ke=D;Ke<V;Ke++)this.paintVertexArray.emplace(Ke,we[0],we[1],Re[0],Re[1]);else{for(var ut=D;ut<V;ut++)this.paintVertexArray.emplace(ut,re,ve);this.maxValue=Math.max(this.maxValue,Math.abs(re),Math.abs(ve))}},aa.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},aa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},aa.prototype.setUniform=function(D,V){var re=this.useIntegerZoom?Math.floor(V.zoom):V.zoom,ve=f(this.expression.interpolationFactor(re,this.zoom,this.zoom+1),0,1);D.set(ve)},aa.prototype.getBinding=function(D,V,re){return new Zr(D,V)};var fa=function(D,V,re,ve,we,Re){this.expression=D,this.type=V,this.useIntegerZoom=re,this.zoom=ve,this.layerId=Re,this.zoomInPaintVertexArray=new we,this.zoomOutPaintVertexArray=new we};fa.prototype.populatePaintArray=function(D,V,re){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ve,D,V.patterns&&V.patterns[this.layerId],re)},fa.prototype.updatePaintArray=function(D,V,re,ve,we){this._setPaintValues(D,V,re.patterns&&re.patterns[this.layerId],we)},fa.prototype._setPaintValues=function(D,V,re,ve){if(!(!ve||!re)){var we=re.min,Re=re.mid,Ke=re.max,ut=ve[we],wt=ve[Re],Ct=ve[Ke];if(!(!ut||!wt||!Ct))for(var Wt=D;Wt<V;Wt++)this.zoomInPaintVertexArray.emplace(Wt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],ut.tl[0],ut.tl[1],ut.br[0],ut.br[1],wt.pixelRatio,ut.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],wt.pixelRatio,Ct.pixelRatio)}},fa.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,X.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,X.members,this.expression.isStateDependent))},fa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ma=function(D,V,re){this.binders={},this._buffers=[];var ve=[];for(var we in D.paint._values)if(re(we)){var Re=D.paint.get(we);if(!(!(Re instanceof bi)||!Ds(Re.property.specification))){var Ke=_a(we,D.type),ut=Re.value,wt=Re.property.specification.type,Ct=Re.property.useIntegerZoom,Wt=Re.property.specification["property-type"],nr=Wt==="cross-faded"||Wt==="cross-faded-data-driven";if(ut.kind==="constant")this.binders[we]=nr?new Hn(ut.value,Ke):new Zn(ut.value,Ke,wt),ve.push("/u_"+we);else if(ut.kind==="source"||nr){var qt=Wa(we,wt,"source");this.binders[we]=nr?new fa(ut,wt,Ct,V,qt,D.id):new jn(ut,Ke,wt,qt),ve.push("/a_"+we)}else{var mr=Wa(we,wt,"composite");this.binders[we]=new aa(ut,Ke,wt,Ct,V,mr),ve.push("/z_"+we)}}}this.cacheKey=ve.sort().join("")};ma.prototype.getMaxValue=function(D){var V=this.binders[D];return V instanceof jn||V instanceof aa?V.maxValue:0},ma.prototype.populatePaintArrays=function(D,V,re,ve,we){for(var Re in this.binders){var Ke=this.binders[Re];(Ke instanceof jn||Ke instanceof aa||Ke instanceof fa)&&Ke.populatePaintArray(D,V,re,ve,we)}},ma.prototype.setConstantPatternPositions=function(D,V){for(var re in this.binders){var ve=this.binders[re];ve instanceof Hn&&ve.setConstantPatternPositions(D,V)}},ma.prototype.updatePaintArrays=function(D,V,re,ve,we){var Re=!1;for(var Ke in D)for(var ut=V.getPositions(Ke),wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt],nr=re.feature(Wt.index);for(var qt in this.binders){var mr=this.binders[qt];if((mr instanceof jn||mr instanceof aa||mr instanceof fa)&&mr.expression.isStateDependent===!0){var Or=ve.paint.get(qt);mr.expression=Or.value,mr.updatePaintArray(Wt.start,Wt.end,nr,D[Ke],we),Re=!0}}}return Re},ma.prototype.defines=function(){var D=[];for(var V in this.binders){var re=this.binders[V];(re instanceof Zn||re instanceof Hn)&&D.push.apply(D,re.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return D},ma.prototype.getBinderAttributes=function(){var D=[];for(var V in this.binders){var re=this.binders[V];if(re instanceof jn||re instanceof aa)for(var ve=0;ve<re.paintVertexAttributes.length;ve++)D.push(re.paintVertexAttributes[ve].name);else if(re instanceof fa)for(var we=0;we<X.members.length;we++)D.push(X.members[we].name)}return D},ma.prototype.getBinderUniforms=function(){var D=[];for(var V in this.binders){var re=this.binders[V];if(re instanceof Zn||re instanceof Hn||re instanceof aa)for(var ve=0,we=re.uniformNames;ve<we.length;ve+=1){var Re=we[ve];D.push(Re)}}return D},ma.prototype.getPaintVertexBuffers=function(){return this._buffers},ma.prototype.getUniforms=function(D,V){var re=[];for(var ve in this.binders){var we=this.binders[ve];if(we instanceof Zn||we instanceof Hn||we instanceof aa)for(var Re=0,Ke=we.uniformNames;Re<Ke.length;Re+=1){var ut=Ke[Re];if(V[ut]){var wt=we.getBinding(D,V[ut],ut);re.push({name:ut,property:ve,binding:wt})}}}return re},ma.prototype.setUniforms=function(D,V,re,ve){for(var we=0,Re=V;we<Re.length;we+=1){var Ke=Re[we],ut=Ke.name,wt=Ke.property,Ct=Ke.binding;this.binders[wt].setUniform(Ct,ve,re.get(wt),ut)}},ma.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var V in this.binders){var re=this.binders[V];if(D&&re instanceof fa){var ve=D.fromScale===2?re.zoomInPaintVertexBuffer:re.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(re instanceof jn||re instanceof aa)&&re.paintVertexBuffer&&this._buffers.push(re.paintVertexBuffer)}},ma.prototype.upload=function(D){for(var V in this.binders){var re=this.binders[V];(re instanceof jn||re instanceof aa||re instanceof fa)&&re.upload(D)}this.updatePaintBuffers()},ma.prototype.destroy=function(){for(var D in this.binders){var V=this.binders[D];(V instanceof jn||V instanceof aa||V instanceof fa)&&V.destroy()}};var va=function(D,V,re){re===void 0&&(re=function(){return!0}),this.programConfigurations={};for(var ve=0,we=D;ve<we.length;ve+=1){var Re=we[ve];this.programConfigurations[Re.id]=new ma(Re,V,re)}this.needsUpload=!1,this._featureMap=new ot,this._bufferOffset=0};va.prototype.populatePaintArrays=function(D,V,re,ve,we,Re){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(D,V,ve,we,Re);V.id!==void 0&&this._featureMap.add(V.id,re,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},va.prototype.updatePaintArrays=function(D,V,re,ve){for(var we=0,Re=re;we<Re.length;we+=1){var Ke=Re[we];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(D,this._featureMap,V,Ke,ve)||this.needsUpload}},va.prototype.get=function(D){return this.programConfigurations[D]},va.prototype.upload=function(D){if(this.needsUpload){for(var V in this.programConfigurations)this.programConfigurations[V].upload(D);this.needsUpload=!1}},va.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function _a(R,D){var V={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return V[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function Ja(R){var D={"line-pattern":{source:es,composite:es},"fill-pattern":{source:es,composite:es},"fill-extrusion-pattern":{source:es,composite:es}};return D[R]}function Wa(R,D,V){var re={color:{source:wc,composite:kf},number:{source:Tc,composite:wc}},ve=Ja(R);return ve&&ve[V]||re[D][V]}Oe("ConstantBinder",Zn),Oe("CrossFadedConstantBinder",Hn),Oe("SourceExpressionBinder",jn),Oe("CrossFadedCompositeBinder",fa),Oe("CompositeExpressionBinder",aa),Oe("ProgramConfiguration",ma,{omit:["_buffers"]}),Oe("ProgramConfigurationSet",va);var Ma=8192,Ya=15,Ua=Math.pow(2,Ya-1)-1,ai=-Ua-1;function qa(R){for(var D=Ma/R.extent,V=R.loadGeometry(),re=0;re<V.length;re++)for(var ve=V[re],we=0;we<ve.length;we++){var Re=ve[we],Ke=Math.round(Re.x*D),ut=Math.round(Re.y*D);Re.x=f(Ke,ai,Ua),Re.y=f(ut,ai,Ua),(Ke<Re.x||Ke>Re.x+1||ut<Re.y||ut>Re.y+1)&&B("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return V}function Ti(R,D){return{type:R.type,id:R.id,properties:R.properties,geometry:D?qa(R):[]}}function Ka(R,D,V,re,ve){R.emplaceBack(D*2+(re+1)/2,V*2+(ve+1)/2)}var pi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new If,this.indexArray=new Eu,this.segments=new io,this.programConfigurations=new va(D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};pi.prototype.populate=function(D,V,re){var ve=this.layers[0],we=[],Re=null;ve.type==="circle"&&(Re=ve.layout.get("circle-sort-key"));for(var Ke=0,ut=D;Ke<ut.length;Ke+=1){var wt=ut[Ke],Ct=wt.feature,Wt=wt.id,nr=wt.index,qt=wt.sourceLayerIndex,mr=this.layers[0]._featureFilter.needGeometry,Or=Ti(Ct,mr);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),Or,re)){var sn=Re?Re.evaluate(Or,{},re):void 0,qr={id:Wt,properties:Ct.properties,type:Ct.type,sourceLayerIndex:qt,index:nr,geometry:mr?Or.geometry:qa(Ct),patterns:{},sortKey:sn};we.push(qr)}}Re&&we.sort(function(da,xa){return da.sortKey-xa.sortKey});for(var Sn=0,yn=we;Sn<yn.length;Sn+=1){var An=yn[Sn],In=An,Vn=In.geometry,ia=In.index,ra=In.sourceLayerIndex,wa=D[ia].feature;this.addFeature(An,Vn,ia,re),V.featureIndex.insert(wa,Vn,ia,ra,this.index)}},pi.prototype.update=function(D,V,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,re)},pi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},pi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},pi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Mp),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},pi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},pi.prototype.addFeature=function(D,V,re,ve){for(var we=0,Re=V;we<Re.length;we+=1)for(var Ke=Re[we],ut=0,wt=Ke;ut<wt.length;ut+=1){var Ct=wt[ut],Wt=Ct.x,nr=Ct.y;if(!(Wt<0||Wt>=Ma||nr<0||nr>=Ma)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),mr=qt.vertexLength;Ka(this.layoutVertexArray,Wt,nr,-1,-1),Ka(this.layoutVertexArray,Wt,nr,1,-1),Ka(this.layoutVertexArray,Wt,nr,1,1),Ka(this.layoutVertexArray,Wt,nr,-1,1),this.indexArray.emplaceBack(mr,mr+1,mr+2),this.indexArray.emplaceBack(mr,mr+3,mr+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,{},ve)},Oe("CircleBucket",pi,{omit:["layers"]});function Ha(R,D){for(var V=0;V<R.length;V++)if(ts(D,R[V]))return!0;for(var re=0;re<D.length;re++)if(ts(R,D[re]))return!0;return!!Qs(R,D)}function Qa(R,D,V){return!!(ts(R,D)||jl(D,R,V))}function Bi(R,D){if(R.length===1)return Kl(D,R[0]);for(var V=0;V<D.length;V++)for(var re=D[V],ve=0;ve<re.length;ve++)if(ts(R,re[ve]))return!0;for(var we=0;we<R.length;we++)if(Kl(D,R[we]))return!0;for(var Re=0;Re<D.length;Re++)if(Qs(R,D[Re]))return!0;return!1}function go(R,D,V){for(var re=0;re<D.length;re++){var ve=D[re];if(R.length>=3){for(var we=0;we<ve.length;we++)if(ts(R,ve[we]))return!0}if(Js(R,ve,V))return!0}return!1}function Js(R,D,V){if(R.length>1){if(Qs(R,D))return!0;for(var re=0;re<D.length;re++)if(jl(D[re],R,V))return!0}for(var ve=0;ve<R.length;ve++)if(jl(R[ve],D,V))return!0;return!1}function Qs(R,D){if(R.length===0||D.length===0)return!1;for(var V=0;V<R.length-1;V++)for(var re=R[V],ve=R[V+1],we=0;we<D.length-1;we++){var Re=D[we],Ke=D[we+1];if(dl(re,ve,Re,Ke))return!0}return!1}function dl(R,D,V,re){return O(R,V,re)!==O(D,V,re)&&O(R,D,V)!==O(R,D,re)}function jl(R,D,V){var re=V*V;if(D.length===1)return R.distSqr(D[0])<re;for(var ve=1;ve<D.length;ve++){var we=D[ve-1],Re=D[ve];if(zf(R,we,Re)<re)return!0}return!1}function zf(R,D,V){var re=D.distSqr(V);if(re===0)return R.distSqr(D);var ve=((R.x-D.x)*(V.x-D.x)+(R.y-D.y)*(V.y-D.y))/re;return ve<0?R.distSqr(D):ve>1?R.distSqr(V):R.distSqr(V.sub(D)._mult(ve)._add(D))}function Kl(R,D){for(var V=!1,re,ve,we,Re=0;Re<R.length;Re++){re=R[Re];for(var Ke=0,ut=re.length-1;Ke<re.length;ut=Ke++)ve=re[Ke],we=re[ut],ve.y>D.y!=we.y>D.y&&D.x<(we.x-ve.x)*(D.y-ve.y)/(we.y-ve.y)+ve.x&&(V=!V)}return V}function ts(R,D){for(var V=!1,re=0,ve=R.length-1;re<R.length;ve=re++){var we=R[re],Re=R[ve];we.y>D.y!=Re.y>D.y&&D.x<(Re.x-we.x)*(D.y-we.y)/(Re.y-we.y)+we.x&&(V=!V)}return V}function Jl(R,D,V,re,ve){for(var we=0,Re=R;we<Re.length;we+=1){var Ke=Re[we];if(D<=Ke.x&&V<=Ke.y&&re>=Ke.x&&ve>=Ke.y)return!0}var ut=[new r(D,V),new r(D,ve),new r(re,ve),new r(re,V)];if(R.length>2)for(var wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt];if(ts(R,Wt))return!0}for(var nr=0;nr<R.length-1;nr++){var qt=R[nr],mr=R[nr+1];if(ys(qt,mr,ut))return!0}return!1}function ys(R,D,V){var re=V[0],ve=V[2];if(R.x<re.x&&D.x<re.x||R.x>ve.x&&D.x>ve.x||R.y<re.y&&D.y<re.y||R.y>ve.y&&D.y>ve.y)return!1;var we=O(R,D,V[0]);return we!==O(R,D,V[1])||we!==O(R,D,V[2])||we!==O(R,D,V[3])}function rs(R,D,V){var re=D.paint.get(R).value;return re.kind==="constant"?re.value:V.programConfigurations.get(D.id).getMaxValue(R)}function pl(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Cu(R,D,V,re,ve){if(!D[0]&&!D[1])return R;var we=r.convert(D)._mult(ve);V==="viewport"&&we._rotate(-re);for(var Re=[],Ke=0;Ke<R.length;Ke++){var ut=R[Ke];Re.push(ut.sub(we))}return Re}var yl=new ui({"circle-sort-key":new Ca(br.layout_circle["circle-sort-key"])}),Kh=new ui({"circle-radius":new Ca(br.paint_circle["circle-radius"]),"circle-color":new Ca(br.paint_circle["circle-color"]),"circle-blur":new Ca(br.paint_circle["circle-blur"]),"circle-opacity":new Ca(br.paint_circle["circle-opacity"]),"circle-translate":new ua(br.paint_circle["circle-translate"]),"circle-translate-anchor":new ua(br.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ua(br.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ua(br.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ca(br.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ca(br.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ca(br.paint_circle["circle-stroke-opacity"])}),Sc={paint:Kh,layout:yl},wo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,V=arguments.length;V--;)D+=R[V]*R[V];return Math.sqrt(D)});function Jh(){var R=new wo(4);return wo!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function Sh(R,D,V){var re=D[0],ve=D[1],we=D[2],Re=D[3],Ke=Math.sin(V),ut=Math.cos(V);return R[0]=re*ut+we*Ke,R[1]=ve*ut+Re*Ke,R[2]=re*-Ke+we*ut,R[3]=ve*-Ke+Re*ut,R}function Ho(){var R=new wo(9);return wo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function Ec(R,D){var V=Math.sin(D),re=Math.cos(D);return R[0]=re,R[1]=V,R[2]=0,R[3]=-V,R[4]=re,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function Qh(){var R=new wo(16);return wo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function $h(R){var D=new wo(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function qh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function Cc(R,D){var V=D[0],re=D[1],ve=D[2],we=D[3],Re=D[4],Ke=D[5],ut=D[6],wt=D[7],Ct=D[8],Wt=D[9],nr=D[10],qt=D[11],mr=D[12],Or=D[13],sn=D[14],qr=D[15],Sn=V*Ke-re*Re,yn=V*ut-ve*Re,An=V*wt-we*Re,In=re*ut-ve*Ke,Vn=re*wt-we*Ke,ia=ve*wt-we*ut,ra=Ct*Or-Wt*mr,wa=Ct*sn-nr*mr,da=Ct*qr-qt*mr,xa=Wt*sn-nr*Or,Ba=Wt*qr-qt*Or,Ta=nr*qr-qt*sn,Ea=Sn*Ta-yn*Ba+An*xa+In*da-Vn*wa+ia*ra;return Ea?(Ea=1/Ea,R[0]=(Ke*Ta-ut*Ba+wt*xa)*Ea,R[1]=(ve*Ba-re*Ta-we*xa)*Ea,R[2]=(Or*ia-sn*Vn+qr*In)*Ea,R[3]=(nr*Vn-Wt*ia-qt*In)*Ea,R[4]=(ut*da-Re*Ta-wt*wa)*Ea,R[5]=(V*Ta-ve*da+we*wa)*Ea,R[6]=(sn*An-mr*ia-qr*yn)*Ea,R[7]=(Ct*ia-nr*An+qt*yn)*Ea,R[8]=(Re*Ba-Ke*da+wt*ra)*Ea,R[9]=(re*da-V*Ba-we*ra)*Ea,R[10]=(mr*Vn-Or*An+qr*Sn)*Ea,R[11]=(Wt*An-Ct*Vn-qt*Sn)*Ea,R[12]=(Ke*wa-Re*xa-ut*ra)*Ea,R[13]=(V*xa-re*wa+ve*ra)*Ea,R[14]=(Or*yn-mr*In-sn*Sn)*Ea,R[15]=(Ct*In-Wt*yn+nr*Sn)*Ea,R):null}function Lc(R,D,V){var re=D[0],ve=D[1],we=D[2],Re=D[3],Ke=D[4],ut=D[5],wt=D[6],Ct=D[7],Wt=D[8],nr=D[9],qt=D[10],mr=D[11],Or=D[12],sn=D[13],qr=D[14],Sn=D[15],yn=V[0],An=V[1],In=V[2],Vn=V[3];return R[0]=yn*re+An*Ke+In*Wt+Vn*Or,R[1]=yn*ve+An*ut+In*nr+Vn*sn,R[2]=yn*we+An*wt+In*qt+Vn*qr,R[3]=yn*Re+An*Ct+In*mr+Vn*Sn,yn=V[4],An=V[5],In=V[6],Vn=V[7],R[4]=yn*re+An*Ke+In*Wt+Vn*Or,R[5]=yn*ve+An*ut+In*nr+Vn*sn,R[6]=yn*we+An*wt+In*qt+Vn*qr,R[7]=yn*Re+An*Ct+In*mr+Vn*Sn,yn=V[8],An=V[9],In=V[10],Vn=V[11],R[8]=yn*re+An*Ke+In*Wt+Vn*Or,R[9]=yn*ve+An*ut+In*nr+Vn*sn,R[10]=yn*we+An*wt+In*qt+Vn*qr,R[11]=yn*Re+An*Ct+In*mr+Vn*Sn,yn=V[12],An=V[13],In=V[14],Vn=V[15],R[12]=yn*re+An*Ke+In*Wt+Vn*Or,R[13]=yn*ve+An*ut+In*nr+Vn*sn,R[14]=yn*we+An*wt+In*qt+Vn*qr,R[15]=yn*Re+An*Ct+In*mr+Vn*Sn,R}function Wi(R,D,V){var re=V[0],ve=V[1],we=V[2],Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr;return D===R?(R[12]=D[0]*re+D[4]*ve+D[8]*we+D[12],R[13]=D[1]*re+D[5]*ve+D[9]*we+D[13],R[14]=D[2]*re+D[6]*ve+D[10]*we+D[14],R[15]=D[3]*re+D[7]*ve+D[11]*we+D[15]):(Re=D[0],Ke=D[1],ut=D[2],wt=D[3],Ct=D[4],Wt=D[5],nr=D[6],qt=D[7],mr=D[8],Or=D[9],sn=D[10],qr=D[11],R[0]=Re,R[1]=Ke,R[2]=ut,R[3]=wt,R[4]=Ct,R[5]=Wt,R[6]=nr,R[7]=qt,R[8]=mr,R[9]=Or,R[10]=sn,R[11]=qr,R[12]=Re*re+Ct*ve+mr*we+D[12],R[13]=Ke*re+Wt*ve+Or*we+D[13],R[14]=ut*re+nr*ve+sn*we+D[14],R[15]=wt*re+qt*ve+qr*we+D[15]),R}function ms(R,D,V){var re=V[0],ve=V[1],we=V[2];return R[0]=D[0]*re,R[1]=D[1]*re,R[2]=D[2]*re,R[3]=D[3]*re,R[4]=D[4]*ve,R[5]=D[5]*ve,R[6]=D[6]*ve,R[7]=D[7]*ve,R[8]=D[8]*we,R[9]=D[9]*we,R[10]=D[10]*we,R[11]=D[11]*we,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function xs(R,D,V){var re=Math.sin(V),ve=Math.cos(V),we=D[4],Re=D[5],Ke=D[6],ut=D[7],wt=D[8],Ct=D[9],Wt=D[10],nr=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=we*ve+wt*re,R[5]=Re*ve+Ct*re,R[6]=Ke*ve+Wt*re,R[7]=ut*ve+nr*re,R[8]=wt*ve-we*re,R[9]=Ct*ve-Re*re,R[10]=Wt*ve-Ke*re,R[11]=nr*ve-ut*re,R}function ev(R,D,V){var re=Math.sin(V),ve=Math.cos(V),we=D[0],Re=D[1],Ke=D[2],ut=D[3],wt=D[4],Ct=D[5],Wt=D[6],nr=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=we*ve+wt*re,R[1]=Re*ve+Ct*re,R[2]=Ke*ve+Wt*re,R[3]=ut*ve+nr*re,R[4]=wt*ve-we*re,R[5]=Ct*ve-Re*re,R[6]=Wt*ve-Ke*re,R[7]=nr*ve-ut*re,R}function nd(R,D,V,re,ve){var we=1/Math.tan(D/2),Re;return R[0]=we/V,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=we,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,ve!=null&&ve!==1/0?(Re=1/(re-ve),R[10]=(ve+re)*Re,R[14]=2*ve*re*Re):(R[10]=-1,R[14]=-2*re),R}function Cg(R,D,V,re,ve,we,Re){var Ke=1/(D-V),ut=1/(re-ve),wt=1/(we-Re);return R[0]=-2*Ke,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*ut,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*wt,R[11]=0,R[12]=(D+V)*Ke,R[13]=(ve+re)*ut,R[14]=(Re+we)*wt,R[15]=1,R}var Lg=Lc;function Eh(){var R=new wo(3);return wo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function Pg(R){var D=new wo(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function tv(R,D,V){return R[0]=D[0]+V[0],R[1]=D[1]+V[1],R[2]=D[2]+V[2],R}function Rg(R,D,V){return R[0]=D[0]-V[0],R[1]=D[1]-V[1],R[2]=D[2]-V[2],R}function Dg(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R}function ad(R,D){var V=D[0],re=D[1],ve=D[2],we=V*V+re*re+ve*ve;return we>0&&(we=1/Math.sqrt(we)),R[0]=D[0]*we,R[1]=D[1]*we,R[2]=D[2]*we,R}function WT(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function YT(R,D,V){var re=D[0],ve=D[1],we=D[2],Re=V[0],Ke=V[1],ut=V[2];return R[0]=ve*ut-we*Ke,R[1]=we*Re-re*ut,R[2]=re*Ke-ve*Re,R}function ZT(R,D,V){var re=D[0],ve=D[1],we=D[2];return R[0]=re*V[0]+ve*V[3]+we*V[6],R[1]=re*V[1]+ve*V[4]+we*V[7],R[2]=re*V[2]+ve*V[5]+we*V[8],R}var XT=Rg;(function(){var R=Eh();return function(D,V,re,ve,we,Re){var Ke,ut;for(V||(V=3),re||(re=0),ve?ut=Math.min(ve*V+re,D.length):ut=D.length,Ke=re;Ke<ut;Ke+=V)R[0]=D[Ke],R[1]=D[Ke+1],R[2]=D[Ke+2],we(R,R,Re),D[Ke]=R[0],D[Ke+1]=R[1],D[Ke+2]=R[2];return D}})();function jT(){var R=new wo(4);return wo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function KT(R,D,V){return R[0]=D[0]*V,R[1]=D[1]*V,R[2]=D[2]*V,R[3]=D[3]*V,R}function JT(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function Sp(R,D,V){var re=D[0],ve=D[1],we=D[2],Re=D[3];return R[0]=V[0]*re+V[4]*ve+V[8]*we+V[12]*Re,R[1]=V[1]*re+V[5]*ve+V[9]*we+V[13]*Re,R[2]=V[2]*re+V[6]*ve+V[10]*we+V[14]*Re,R[3]=V[3]*re+V[7]*ve+V[11]*we+V[15]*Re,R}(function(){var R=jT();return function(D,V,re,ve,we,Re){var Ke,ut;for(V||(V=4),re||(re=0),ve?ut=Math.min(ve*V+re,D.length):ut=D.length,Ke=re;Ke<ut;Ke+=V)R[0]=D[Ke],R[1]=D[Ke+1],R[2]=D[Ke+2],R[3]=D[Ke+3],we(R,R,Re),D[Ke]=R[0],D[Ke+1]=R[1],D[Ke+2]=R[2],D[Ke+3]=R[3];return D}})();function QT(){var R=new wo(2);return wo!=Float32Array&&(R[0]=0,R[1]=0),R}function $T(R){var D=R[0],V=R[1];return D*D+V*V}var qT=$T;(function(){var R=QT();return function(D,V,re,ve,we,Re){var Ke,ut;for(V||(V=2),re||(re=0),ve?ut=Math.min(ve*V+re,D.length):ut=D.length,Ke=re;Ke<ut;Ke+=V)R[0]=D[Ke],R[1]=D[Ke+1],we(R,R,Re),D[Ke]=R[0],D[Ke+1]=R[1];return D}})();var e5=function(R){function D(V){R.call(this,V,Sc)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(re){return new pi(re)},D.prototype.queryRadius=function(re){var ve=re;return rs("circle-radius",this,ve)+rs("circle-stroke-width",this,ve)+pl(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(re,ve,we,Re,Ke,ut,wt,Ct){for(var Wt=Cu(re,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ut.angle,wt),nr=this.paint.get("circle-radius").evaluate(ve,we),qt=this.paint.get("circle-stroke-width").evaluate(ve,we),mr=nr+qt,Or=this.paint.get("circle-pitch-alignment")==="map",sn=Or?Wt:t5(Wt,Ct),qr=Or?mr*wt:mr,Sn=0,yn=Re;Sn<yn.length;Sn+=1)for(var An=yn[Sn],In=0,Vn=An;In<Vn.length;In+=1){var ia=Vn[In],ra=Or?ia:Zm(ia,Ct),wa=qr,da=Sp([],[ia.x,ia.y,0,1],Ct);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?wa*=da[3]/ut.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(wa*=ut.cameraToCenterDistance/da[3]),Qa(sn,ra,wa))return!0}return!1},D}(Fi);function Zm(R,D){var V=Sp([],[R.x,R.y,0,1],D);return new r(V[0]/V[3],V[1]/V[3])}function t5(R,D){return R.map(function(V){return Zm(V,D)})}var Xm=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(pi);Oe("HeatmapBucket",Xm,{omit:["layers"]});function Ig(R,D,V,re){var ve=D.width,we=D.height;if(!re)re=new Uint8Array(ve*we*V);else if(re instanceof Uint8ClampedArray)re=new Uint8Array(re.buffer);else if(re.length!==ve*we*V)throw new RangeError("mismatched image size");return R.width=ve,R.height=we,R.data=re,R}function jm(R,D,V){var re=D.width,ve=D.height;if(!(re===R.width&&ve===R.height)){var we=Ig({},{width:re,height:ve},V);kg(R,we,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,re),height:Math.min(R.height,ve)},V),R.width=re,R.height=ve,R.data=we.data}}function kg(R,D,V,re,ve,we){if(ve.width===0||ve.height===0)return D;if(ve.width>R.width||ve.height>R.height||V.x>R.width-ve.width||V.y>R.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>D.width||ve.height>D.height||re.x>D.width-ve.width||re.y>D.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var Re=R.data,Ke=D.data,ut=0;ut<ve.height;ut++)for(var wt=((V.y+ut)*R.width+V.x)*we,Ct=((re.y+ut)*D.width+re.x)*we,Wt=0;Wt<ve.width*we;Wt++)Ke[Ct+Wt]=Re[wt+Wt];return D}var Ch=function(D,V){Ig(this,D,1,V)};Ch.prototype.resize=function(D){jm(this,D,1)},Ch.prototype.clone=function(){return new Ch({width:this.width,height:this.height},new Uint8Array(this.data))},Ch.copy=function(D,V,re,ve,we){kg(D,V,re,ve,we,1)};var bs=function(D,V){Ig(this,D,4,V)};bs.prototype.resize=function(D){jm(this,D,4)},bs.prototype.replace=function(D,V){V?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},bs.prototype.clone=function(){return new bs({width:this.width,height:this.height},new Uint8Array(this.data))},bs.copy=function(D,V,re,ve,we){kg(D,V,re,ve,we,4)},Oe("AlphaImage",Ch),Oe("RGBAImage",bs);var r5=new ui({"heatmap-radius":new Ca(br.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ca(br.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ua(br.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ao(br.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ua(br.paint_heatmap["heatmap-opacity"])}),n5={paint:r5};function Km(R){var D={},V=R.resolution||256,re=R.clips?R.clips.length:1,ve=R.image||new bs({width:V,height:re}),we=function(Sn,yn,An){D[R.evaluationKey]=An;var In=R.expression.evaluate(D);ve.data[Sn+yn+0]=Math.floor(In.r*255/In.a),ve.data[Sn+yn+1]=Math.floor(In.g*255/In.a),ve.data[Sn+yn+2]=Math.floor(In.b*255/In.a),ve.data[Sn+yn+3]=Math.floor(In.a*255)};if(R.clips)for(var wt=0,Ct=0;wt<re;++wt,Ct+=V*4)for(var Wt=0,nr=0;Wt<V;Wt++,nr+=4){var qt=Wt/(V-1),mr=R.clips[wt],Or=mr.start,sn=mr.end,qr=Or*(1-qt)+sn*qt;we(Ct,nr,qr)}else for(var Re=0,Ke=0;Re<V;Re++,Ke+=4){var ut=Re/(V-1);we(0,Ke,ut)}return ve}var a5=function(R){function D(V){R.call(this,V,n5),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(re){return new Xm(re)},D.prototype._handleSpecialPaintPropertyUpdate=function(re){re==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var re=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Km({expression:re,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Fi),i5=new ui({"hillshade-illumination-direction":new ua(br.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ua(br.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ua(br.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ua(br.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ua(br.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ua(br.paint_hillshade["hillshade-accent-color"])}),o5={paint:i5},s5=function(R){function D(V){R.call(this,V,o5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Fi),l5=Li([{name:"a_pos",components:2,type:"Int16"}],4),u5=l5.members,_g=Ep,f5=Ep;function Ep(R,D,V){V=V||2;var re=D&&D.length,ve=re?D[0]*V:R.length,we=Jm(R,0,ve,V,!0),Re=[];if(!we||we.next===we.prev)return Re;var Ke,ut,wt,Ct,Wt,nr,qt;if(re&&(we=p5(R,D,we,V)),R.length>80*V){Ke=wt=R[0],ut=Ct=R[1];for(var mr=V;mr<ve;mr+=V)Wt=R[mr],nr=R[mr+1],Wt<Ke&&(Ke=Wt),nr<ut&&(ut=nr),Wt>wt&&(wt=Wt),nr>Ct&&(Ct=nr);qt=Math.max(wt-Ke,Ct-ut),qt=qt!==0?1/qt:0}return id(we,Re,V,Ke,ut,qt),Re}function Jm(R,D,V,re,ve){var we,Re;if(ve===Fg(R,D,V,re)>0)for(we=D;we<V;we+=re)Re=qm(we,R[we],R[we+1],Re);else for(we=V-re;we>=D;we-=re)Re=qm(we,R[we],R[we+1],Re);return Re&&Cp(Re,Re.next)&&(sd(Re),Re=Re.next),Re}function Pc(R,D){if(!R)return R;D||(D=R);var V=R,re;do if(re=!1,!V.steiner&&(Cp(V,V.next)||oo(V.prev,V,V.next)===0)){if(sd(V),V=D=V.prev,V===V.next)break;re=!0}else V=V.next;while(re||V!==D);return D}function id(R,D,V,re,ve,we,Re){if(R){!Re&&we&&b5(R,re,ve,we);for(var Ke=R,ut,wt;R.prev!==R.next;){if(ut=R.prev,wt=R.next,we?h5(R,re,ve,we):c5(R)){D.push(ut.i/V),D.push(R.i/V),D.push(wt.i/V),sd(R),R=wt.next,Ke=wt.next;continue}if(R=wt,R===Ke){Re?Re===1?(R=v5(Pc(R),D,V),id(R,D,V,re,ve,we,2)):Re===2&&d5(R,D,V,re,ve,we):id(Pc(R),D,V,re,ve,we,1);break}}}}function c5(R){var D=R.prev,V=R,re=R.next;if(oo(D,V,re)>=0)return!1;for(var ve=R.next.next;ve!==R.prev;){if(rv(D.x,D.y,V.x,V.y,re.x,re.y,ve.x,ve.y)&&oo(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function h5(R,D,V,re){var ve=R.prev,we=R,Re=R.next;if(oo(ve,we,Re)>=0)return!1;for(var Ke=ve.x<we.x?ve.x<Re.x?ve.x:Re.x:we.x<Re.x?we.x:Re.x,ut=ve.y<we.y?ve.y<Re.y?ve.y:Re.y:we.y<Re.y?we.y:Re.y,wt=ve.x>we.x?ve.x>Re.x?ve.x:Re.x:we.x>Re.x?we.x:Re.x,Ct=ve.y>we.y?ve.y>Re.y?ve.y:Re.y:we.y>Re.y?we.y:Re.y,Wt=zg(Ke,ut,D,V,re),nr=zg(wt,Ct,D,V,re),qt=R.prevZ,mr=R.nextZ;qt&&qt.z>=Wt&&mr&&mr.z<=nr;){if(qt!==R.prev&&qt!==R.next&&rv(ve.x,ve.y,we.x,we.y,Re.x,Re.y,qt.x,qt.y)&&oo(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,mr!==R.prev&&mr!==R.next&&rv(ve.x,ve.y,we.x,we.y,Re.x,Re.y,mr.x,mr.y)&&oo(mr.prev,mr,mr.next)>=0))return!1;mr=mr.nextZ}for(;qt&&qt.z>=Wt;){if(qt!==R.prev&&qt!==R.next&&rv(ve.x,ve.y,we.x,we.y,Re.x,Re.y,qt.x,qt.y)&&oo(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;mr&&mr.z<=nr;){if(mr!==R.prev&&mr!==R.next&&rv(ve.x,ve.y,we.x,we.y,Re.x,Re.y,mr.x,mr.y)&&oo(mr.prev,mr,mr.next)>=0)return!1;mr=mr.nextZ}return!0}function v5(R,D,V){var re=R;do{var ve=re.prev,we=re.next.next;!Cp(ve,we)&&Qm(ve,re,re.next,we)&&od(ve,we)&&od(we,ve)&&(D.push(ve.i/V),D.push(re.i/V),D.push(we.i/V),sd(re),sd(re.next),re=R=we),re=re.next}while(re!==R);return Pc(re)}function d5(R,D,V,re,ve,we){var Re=R;do{for(var Ke=Re.next.next;Ke!==Re.prev;){if(Re.i!==Ke.i&&A5(Re,Ke)){var ut=$m(Re,Ke);Re=Pc(Re,Re.next),ut=Pc(ut,ut.next),id(Re,D,V,re,ve,we),id(ut,D,V,re,ve,we);return}Ke=Ke.next}Re=Re.next}while(Re!==R)}function p5(R,D,V,re){var ve=[],we,Re,Ke,ut,wt;for(we=0,Re=D.length;we<Re;we++)Ke=D[we]*re,ut=we<Re-1?D[we+1]*re:R.length,wt=Jm(R,Ke,ut,re,!1),wt===wt.next&&(wt.steiner=!0),ve.push(T5(wt));for(ve.sort(g5),we=0;we<ve.length;we++)y5(ve[we],V),V=Pc(V,V.next);return V}function g5(R,D){return R.x-D.x}function y5(R,D){if(D=m5(R,D),D){var V=$m(D,R);Pc(D,D.next),Pc(V,V.next)}}function m5(R,D){var V=D,re=R.x,ve=R.y,we=-1/0,Re;do{if(ve<=V.y&&ve>=V.next.y&&V.next.y!==V.y){var Ke=V.x+(ve-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Ke<=re&&Ke>we){if(we=Ke,Ke===re){if(ve===V.y)return V;if(ve===V.next.y)return V.next}Re=V.x<V.next.x?V:V.next}}V=V.next}while(V!==D);if(!Re)return null;if(re===we)return Re;var ut=Re,wt=Re.x,Ct=Re.y,Wt=1/0,nr;V=Re;do re>=V.x&&V.x>=wt&&re!==V.x&&rv(ve<Ct?re:we,ve,wt,Ct,ve<Ct?we:re,ve,V.x,V.y)&&(nr=Math.abs(ve-V.y)/(re-V.x),od(V,R)&&(nr<Wt||nr===Wt&&(V.x>Re.x||V.x===Re.x&&x5(Re,V)))&&(Re=V,Wt=nr)),V=V.next;while(V!==ut);return Re}function x5(R,D){return oo(R.prev,R,D.prev)<0&&oo(D.next,R,R.next)<0}function b5(R,D,V,re){var ve=R;do ve.z===null&&(ve.z=zg(ve.x,ve.y,D,V,re)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==R);ve.prevZ.nextZ=null,ve.prevZ=null,w5(ve)}function w5(R){var D,V,re,ve,we,Re,Ke,ut,wt=1;do{for(V=R,R=null,we=null,Re=0;V;){for(Re++,re=V,Ke=0,D=0;D<wt&&(Ke++,re=re.nextZ,!!re);D++);for(ut=wt;Ke>0||ut>0&&re;)Ke!==0&&(ut===0||!re||V.z<=re.z)?(ve=V,V=V.nextZ,Ke--):(ve=re,re=re.nextZ,ut--),we?we.nextZ=ve:R=ve,ve.prevZ=we,we=ve;V=re}we.nextZ=null,wt*=2}while(Re>1);return R}function zg(R,D,V,re,ve){return R=32767*(R-V)*ve,D=32767*(D-re)*ve,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function T5(R){var D=R,V=R;do(D.x<V.x||D.x===V.x&&D.y<V.y)&&(V=D),D=D.next;while(D!==R);return V}function rv(R,D,V,re,ve,we,Re,Ke){return(ve-Re)*(D-Ke)-(R-Re)*(we-Ke)>=0&&(R-Re)*(re-Ke)-(V-Re)*(D-Ke)>=0&&(V-Re)*(we-Ke)-(ve-Re)*(re-Ke)>=0}function A5(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!M5(R,D)&&(od(R,D)&&od(D,R)&&S5(R,D)&&(oo(R.prev,R,D.prev)||oo(R,D.prev,D))||Cp(R,D)&&oo(R.prev,R,R.next)>0&&oo(D.prev,D,D.next)>0)}function oo(R,D,V){return(D.y-R.y)*(V.x-D.x)-(D.x-R.x)*(V.y-D.y)}function Cp(R,D){return R.x===D.x&&R.y===D.y}function Qm(R,D,V,re){var ve=Pp(oo(R,D,V)),we=Pp(oo(R,D,re)),Re=Pp(oo(V,re,R)),Ke=Pp(oo(V,re,D));return!!(ve!==we&&Re!==Ke||ve===0&&Lp(R,V,D)||we===0&&Lp(R,re,D)||Re===0&&Lp(V,R,re)||Ke===0&&Lp(V,D,re))}function Lp(R,D,V){return D.x<=Math.max(R.x,V.x)&&D.x>=Math.min(R.x,V.x)&&D.y<=Math.max(R.y,V.y)&&D.y>=Math.min(R.y,V.y)}function Pp(R){return R>0?1:R<0?-1:0}function M5(R,D){var V=R;do{if(V.i!==R.i&&V.next.i!==R.i&&V.i!==D.i&&V.next.i!==D.i&&Qm(V,V.next,R,D))return!0;V=V.next}while(V!==R);return!1}function od(R,D){return oo(R.prev,R,R.next)<0?oo(R,D,R.next)>=0&&oo(R,R.prev,D)>=0:oo(R,D,R.prev)<0||oo(R,R.next,D)<0}function S5(R,D){var V=R,re=!1,ve=(R.x+D.x)/2,we=(R.y+D.y)/2;do V.y>we!=V.next.y>we&&V.next.y!==V.y&&ve<(V.next.x-V.x)*(we-V.y)/(V.next.y-V.y)+V.x&&(re=!re),V=V.next;while(V!==R);return re}function $m(R,D){var V=new Og(R.i,R.x,R.y),re=new Og(D.i,D.x,D.y),ve=R.next,we=D.prev;return R.next=D,D.prev=R,V.next=ve,ve.prev=V,re.next=V,V.prev=re,we.next=re,re.prev=we,re}function qm(R,D,V,re){var ve=new Og(R,D,V);return re?(ve.next=re.next,ve.prev=re,re.next.prev=ve,re.next=ve):(ve.prev=ve,ve.next=ve),ve}function sd(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function Og(R,D,V){this.i=R,this.x=D,this.y=V,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ep.deviation=function(R,D,V,re){var ve=D&&D.length,we=ve?D[0]*V:R.length,Re=Math.abs(Fg(R,0,we,V));if(ve)for(var Ke=0,ut=D.length;Ke<ut;Ke++){var wt=D[Ke]*V,Ct=Ke<ut-1?D[Ke+1]*V:R.length;Re-=Math.abs(Fg(R,wt,Ct,V))}var Wt=0;for(Ke=0;Ke<re.length;Ke+=3){var nr=re[Ke]*V,qt=re[Ke+1]*V,mr=re[Ke+2]*V;Wt+=Math.abs((R[nr]-R[mr])*(R[qt+1]-R[nr+1])-(R[nr]-R[qt])*(R[mr+1]-R[nr+1]))}return Re===0&&Wt===0?0:Math.abs((Wt-Re)/Re)};function Fg(R,D,V,re){for(var ve=0,we=D,Re=V-re;we<V;we+=re)ve+=(R[Re]-R[we])*(R[we+1]+R[Re+1]),Re=we;return ve}Ep.flatten=function(R){for(var D=R[0][0].length,V={vertices:[],holes:[],dimensions:D},re=0,ve=0;ve<R.length;ve++){for(var we=0;we<R[ve].length;we++)for(var Re=0;Re<D;Re++)V.vertices.push(R[ve][we][Re]);ve>0&&(re+=R[ve-1].length,V.holes.push(re))}return V},_g.default=f5;function E5(R,D,V,re,ve){ex(R,D,V||0,re||R.length-1,ve||C5)}function ex(R,D,V,re,ve){for(;re>V;){if(re-V>600){var we=re-V+1,Re=D-V+1,Ke=Math.log(we),ut=.5*Math.exp(2*Ke/3),wt=.5*Math.sqrt(Ke*ut*(we-ut)/we)*(Re-we/2<0?-1:1),Ct=Math.max(V,Math.floor(D-Re*ut/we+wt)),Wt=Math.min(re,Math.floor(D+(we-Re)*ut/we+wt));ex(R,D,Ct,Wt,ve)}var nr=R[D],qt=V,mr=re;for(ld(R,V,D),ve(R[re],nr)>0&&ld(R,V,re);qt<mr;){for(ld(R,qt,mr),qt++,mr--;ve(R[qt],nr)<0;)qt++;for(;ve(R[mr],nr)>0;)mr--}ve(R[V],nr)===0?ld(R,V,mr):(mr++,ld(R,mr,re)),mr<=D&&(V=mr+1),D<=mr&&(re=mr-1)}}function ld(R,D,V){var re=R[D];R[D]=R[V],R[V]=re}function C5(R,D){return R<D?-1:R>D?1:0}function Bg(R,D){var V=R.length;if(V<=1)return[R];for(var re=[],ve,we,Re=0;Re<V;Re++){var Ke=N(R[Re]);Ke!==0&&(R[Re].area=Math.abs(Ke),we===void 0&&(we=Ke<0),we===Ke<0?(ve&&re.push(ve),ve=[R[Re]]):ve.push(R[Re]))}if(ve&&re.push(ve),D>1)for(var ut=0;ut<re.length;ut++)re[ut].length<=D||(E5(re[ut],D,1,re[ut].length-1,L5),re[ut]=re[ut].slice(0,D));return re}function L5(R,D){return D.area-R.area}function Ng(R,D,V){for(var re=V.patternDependencies,ve=!1,we=0,Re=D;we<Re.length;we+=1){var Ke=Re[we],ut=Ke.paint.get(R+"-pattern");ut.isConstant()||(ve=!0);var wt=ut.constantOr(null);wt&&(ve=!0,re[wt.to]=!0,re[wt.from]=!0)}return ve}function Ug(R,D,V,re,ve){for(var we=ve.patternDependencies,Re=0,Ke=D;Re<Ke.length;Re+=1){var ut=Ke[Re],wt=ut.paint.get(R+"-pattern"),Ct=wt.value;if(Ct.kind!=="constant"){var Wt=Ct.evaluate({zoom:re-1},V,{},ve.availableImages),nr=Ct.evaluate({zoom:re},V,{},ve.availableImages),qt=Ct.evaluate({zoom:re+1},V,{},ve.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,nr=nr&&nr.name?nr.name:nr,qt=qt&&qt.name?qt.name:qt,we[Wt]=!0,we[nr]=!0,we[qt]=!0,V.patterns[ut.id]={min:Wt,mid:nr,max:qt}}}return V}var P5=500,Lu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new If,this.indexArray=new Eu,this.indexArray2=new Mh,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new io,this.segments2=new io,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Lu.prototype.populate=function(D,V,re){this.hasPattern=Ng("fill",this.layers,V);for(var ve=this.layers[0].layout.get("fill-sort-key"),we=[],Re=0,Ke=D;Re<Ke.length;Re+=1){var ut=Ke[Re],wt=ut.feature,Ct=ut.id,Wt=ut.index,nr=ut.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,mr=Ti(wt,qt);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),mr,re)){var Or=ve?ve.evaluate(mr,{},re,V.availableImages):void 0,sn={id:Ct,properties:wt.properties,type:wt.type,sourceLayerIndex:nr,index:Wt,geometry:qt?mr.geometry:qa(wt),patterns:{},sortKey:Or};we.push(sn)}}ve&&we.sort(function(da,xa){return da.sortKey-xa.sortKey});for(var qr=0,Sn=we;qr<Sn.length;qr+=1){var yn=Sn[qr],An=yn,In=An.geometry,Vn=An.index,ia=An.sourceLayerIndex;if(this.hasPattern){var ra=Ug("fill",this.layers,yn,this.zoom,V);this.patternFeatures.push(ra)}else this.addFeature(yn,In,Vn,re,{});var wa=D[Vn].feature;V.featureIndex.insert(wa,In,Vn,ia,this.index)}},Lu.prototype.update=function(D,V,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,re)},Lu.prototype.addFeatures=function(D,V,re){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Re=we[ve];this.addFeature(Re,Re.geometry,Re.index,V,re)}},Lu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Lu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Lu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,u5),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Lu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Lu.prototype.addFeature=function(D,V,re,ve,we){for(var Re=0,Ke=Bg(V,P5);Re<Ke.length;Re+=1){for(var ut=Ke[Re],wt=0,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var nr=Wt[Ct];wt+=nr.length}for(var qt=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray),mr=qt.vertexLength,Or=[],sn=[],qr=0,Sn=ut;qr<Sn.length;qr+=1){var yn=Sn[qr];if(yn.length!==0){yn!==ut[0]&&sn.push(Or.length/2);var An=this.segments2.prepareSegment(yn.length,this.layoutVertexArray,this.indexArray2),In=An.vertexLength;this.layoutVertexArray.emplaceBack(yn[0].x,yn[0].y),this.indexArray2.emplaceBack(In+yn.length-1,In),Or.push(yn[0].x),Or.push(yn[0].y);for(var Vn=1;Vn<yn.length;Vn++)this.layoutVertexArray.emplaceBack(yn[Vn].x,yn[Vn].y),this.indexArray2.emplaceBack(In+Vn-1,In+Vn),Or.push(yn[Vn].x),Or.push(yn[Vn].y);An.vertexLength+=yn.length,An.primitiveLength+=yn.length}}for(var ia=_g(Or,sn),ra=0;ra<ia.length;ra+=3)this.indexArray.emplaceBack(mr+ia[ra],mr+ia[ra+1],mr+ia[ra+2]);qt.vertexLength+=wt,qt.primitiveLength+=ia.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,we,ve)},Oe("FillBucket",Lu,{omit:["layers","patternFeatures"]});var R5=new ui({"fill-sort-key":new Ca(br.layout_fill["fill-sort-key"])}),D5=new ui({"fill-antialias":new ua(br.paint_fill["fill-antialias"]),"fill-opacity":new Ca(br.paint_fill["fill-opacity"]),"fill-color":new Ca(br.paint_fill["fill-color"]),"fill-outline-color":new Ca(br.paint_fill["fill-outline-color"]),"fill-translate":new ua(br.paint_fill["fill-translate"]),"fill-translate-anchor":new ua(br.paint_fill["fill-translate-anchor"]),"fill-pattern":new Do(br.paint_fill["fill-pattern"])}),I5={paint:D5,layout:R5},k5=function(R){function D(V){R.call(this,V,I5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(re,ve){R.prototype.recalculate.call(this,re,ve);var we=this.paint._values["fill-outline-color"];we.value.kind==="constant"&&we.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(re){return new Lu(re)},D.prototype.queryRadius=function(){return pl(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(re,ve,we,Re,Ke,ut,wt){var Ct=Cu(re,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ut.angle,wt);return Bi(Ct,Re)},D.prototype.isTileClipped=function(){return!0},D}(Fi),_5=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),z5=_5.members,tx=nv;function nv(R,D,V,re,ve){this.properties={},this.extent=V,this.type=0,this._pbf=R,this._geometry=-1,this._keys=re,this._values=ve,R.readFields(O5,this,D)}function O5(R,D,V){R==1?D.id=V.readVarint():R==2?F5(V,D):R==3?D.type=V.readVarint():R==4&&(D._geometry=V.pos)}function F5(R,D){for(var V=R.readVarint()+R.pos;R.pos<V;){var re=D._keys[R.readVarint()],ve=D._values[R.readVarint()];D.properties[re]=ve}}nv.types=["Unknown","Point","LineString","Polygon"],nv.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,re=0,ve=0,we=0,Re=[],Ke;R.pos<D;){if(re<=0){var ut=R.readVarint();V=ut&7,re=ut>>3}if(re--,V===1||V===2)ve+=R.readSVarint(),we+=R.readSVarint(),V===1&&(Ke&&Re.push(Ke),Ke=[]),Ke.push(new r(ve,we));else if(V===7)Ke&&Ke.push(Ke[0].clone());else throw new Error("unknown command "+V)}return Ke&&Re.push(Ke),Re},nv.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,V=1,re=0,ve=0,we=0,Re=1/0,Ke=-1/0,ut=1/0,wt=-1/0;R.pos<D;){if(re<=0){var Ct=R.readVarint();V=Ct&7,re=Ct>>3}if(re--,V===1||V===2)ve+=R.readSVarint(),we+=R.readSVarint(),ve<Re&&(Re=ve),ve>Ke&&(Ke=ve),we<ut&&(ut=we),we>wt&&(wt=we);else if(V!==7)throw new Error("unknown command "+V)}return[Re,ut,Ke,wt]},nv.prototype.toGeoJSON=function(R,D,V){var re=this.extent*Math.pow(2,V),ve=this.extent*R,we=this.extent*D,Re=this.loadGeometry(),Ke=nv.types[this.type],ut,wt;function Ct(qt){for(var mr=0;mr<qt.length;mr++){var Or=qt[mr],sn=180-(Or.y+we)*360/re;qt[mr]=[(Or.x+ve)*360/re-180,360/Math.PI*Math.atan(Math.exp(sn*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(ut=0;ut<Re.length;ut++)Wt[ut]=Re[ut][0];Re=Wt,Ct(Re);break;case 2:for(ut=0;ut<Re.length;ut++)Ct(Re[ut]);break;case 3:for(Re=B5(Re),ut=0;ut<Re.length;ut++)for(wt=0;wt<Re[ut].length;wt++)Ct(Re[ut][wt]);break}Re.length===1?Re=Re[0]:Ke="Multi"+Ke;var nr={type:"Feature",geometry:{type:Ke,coordinates:Re},properties:this.properties};return"id"in this&&(nr.id=this.id),nr};function B5(R){var D=R.length;if(D<=1)return[R];for(var V=[],re,ve,we=0;we<D;we++){var Re=N5(R[we]);Re!==0&&(ve===void 0&&(ve=Re<0),ve===Re<0?(re&&V.push(re),re=[R[we]]):re.push(R[we]))}return re&&V.push(re),V}function N5(R){for(var D=0,V=0,re=R.length,ve=re-1,we,Re;V<re;ve=V++)we=R[V],Re=R[ve],D+=(Re.x-we.x)*(we.y+Re.y);return D}var rx=nx;function nx(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(U5,this,D),this.length=this._features.length}function U5(R,D,V){R===15?D.version=V.readVarint():R===1?D.name=V.readString():R===5?D.extent=V.readVarint():R===2?D._features.push(V.pos):R===3?D._keys.push(V.readString()):R===4&&D._values.push(H5(V))}function H5(R){for(var D=null,V=R.readVarint()+R.pos;R.pos<V;){var re=R.readVarint()>>3;D=re===1?R.readString():re===2?R.readFloat():re===3?R.readDouble():re===4?R.readVarint64():re===5?R.readVarint():re===6?R.readSVarint():re===7?R.readBoolean():null}return D}nx.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new tx(this._pbf,D,this.extent,this._keys,this._values)};var V5=G5;function G5(R,D){this.layers=R.readFields(W5,{},D)}function W5(R,D,V){if(R===3){var re=new rx(V,V.readVarint()+V.pos);re.length&&(D[re.name]=re)}}var Y5=V5,Z5=tx,X5=rx,av={VectorTile:Y5,VectorTileFeature:Z5,VectorTileLayer:X5},j5=av.VectorTileFeature.types,K5=500,Hg=Math.pow(2,13);function ud(R,D,V,re,ve,we,Re,Ke){R.emplaceBack(D,V,Math.floor(re*Hg)*2+Re,ve*Hg*2,we*Hg*2,Math.round(Ke))}var Pu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new rf,this.indexArray=new Eu,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new io,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Pu.prototype.populate=function(D,V,re){this.features=[],this.hasPattern=Ng("fill-extrusion",this.layers,V);for(var ve=0,we=D;ve<we.length;ve+=1){var Re=we[ve],Ke=Re.feature,ut=Re.id,wt=Re.index,Ct=Re.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,nr=Ti(Ke,Wt);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),nr,re)){var qt={id:ut,sourceLayerIndex:Ct,index:wt,geometry:Wt?nr.geometry:qa(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};this.hasPattern?this.features.push(Ug("fill-extrusion",this.layers,qt,this.zoom,V)):this.addFeature(qt,qt.geometry,wt,re,{}),V.featureIndex.insert(Ke,qt.geometry,wt,Ct,this.index,!0)}}},Pu.prototype.addFeatures=function(D,V,re){for(var ve=0,we=this.features;ve<we.length;ve+=1){var Re=we[ve],Ke=Re.geometry;this.addFeature(Re,Ke,Re.index,V,re)}},Pu.prototype.update=function(D,V,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,re)},Pu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Pu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Pu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,z5),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Pu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Pu.prototype.addFeature=function(D,V,re,ve,we){for(var Re=0,Ke=Bg(V,K5);Re<Ke.length;Re+=1){for(var ut=Ke[Re],wt=0,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var nr=Wt[Ct];wt+=nr.length}for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),mr=0,Or=ut;mr<Or.length;mr+=1){var sn=Or[mr];if(sn.length!==0&&!Q5(sn))for(var qr=0,Sn=0;Sn<sn.length;Sn++){var yn=sn[Sn];if(Sn>=1){var An=sn[Sn-1];if(!J5(yn,An)){qt.vertexLength+4>io.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var In=yn.sub(An)._perp()._unit(),Vn=An.dist(yn);qr+Vn>32768&&(qr=0),ud(this.layoutVertexArray,yn.x,yn.y,In.x,In.y,0,0,qr),ud(this.layoutVertexArray,yn.x,yn.y,In.x,In.y,0,1,qr),qr+=Vn,ud(this.layoutVertexArray,An.x,An.y,In.x,In.y,0,0,qr),ud(this.layoutVertexArray,An.x,An.y,In.x,In.y,0,1,qr);var ia=qt.vertexLength;this.indexArray.emplaceBack(ia,ia+2,ia+1),this.indexArray.emplaceBack(ia+1,ia+2,ia+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+wt>io.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray)),j5[D.type]==="Polygon"){for(var ra=[],wa=[],da=qt.vertexLength,xa=0,Ba=ut;xa<Ba.length;xa+=1){var Ta=Ba[xa];if(Ta.length!==0){Ta!==ut[0]&&wa.push(ra.length/2);for(var Ea=0;Ea<Ta.length;Ea++){var Ga=Ta[Ea];ud(this.layoutVertexArray,Ga.x,Ga.y,0,0,1,1,0),ra.push(Ga.x),ra.push(Ga.y)}}}for(var Oa=_g(ra,wa),ii=0;ii<Oa.length;ii+=3)this.indexArray.emplaceBack(da+Oa[ii],da+Oa[ii+2],da+Oa[ii+1]);qt.primitiveLength+=Oa.length/3,qt.vertexLength+=wt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,we,ve)},Oe("FillExtrusionBucket",Pu,{omit:["layers","features"]});function J5(R,D){return R.x===D.x&&(R.x<0||R.x>Ma)||R.y===D.y&&(R.y<0||R.y>Ma)}function Q5(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Ma})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Ma})}var $5=new ui({"fill-extrusion-opacity":new ua(br["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ca(br["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ua(br["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ua(br["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Do(br["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ca(br["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ca(br["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ua(br["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),q5={paint:$5},eA=function(R){function D(V){R.call(this,V,q5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(re){return new Pu(re)},D.prototype.queryRadius=function(){return pl(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(re,ve,we,Re,Ke,ut,wt,Ct){var Wt=Cu(re,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ut.angle,wt),nr=this.paint.get("fill-extrusion-height").evaluate(ve,we),qt=this.paint.get("fill-extrusion-base").evaluate(ve,we),mr=nA(Wt,Ct,ut,0),Or=rA(Re,qt,nr,Ct),sn=Or[0],qr=Or[1];return tA(sn,qr,mr)},D}(Fi);function fd(R,D){return R.x*D.x+R.y*D.y}function ax(R,D){if(R.length===1){for(var V=0,re=D[V++],ve;!ve||re.equals(ve);)if(ve=D[V++],!ve)return 1/0;for(;V<D.length;V++){var we=D[V],Re=R[0],Ke=ve.sub(re),ut=we.sub(re),wt=Re.sub(re),Ct=fd(Ke,Ke),Wt=fd(Ke,ut),nr=fd(ut,ut),qt=fd(wt,Ke),mr=fd(wt,ut),Or=Ct*nr-Wt*Wt,sn=(nr*qt-Wt*mr)/Or,qr=(Ct*mr-Wt*qt)/Or,Sn=1-sn-qr,yn=re.z*Sn+ve.z*sn+we.z*qr;if(isFinite(yn))return yn}return 1/0}else{for(var An=1/0,In=0,Vn=D;In<Vn.length;In+=1){var ia=Vn[In];An=Math.min(An,ia.z)}return An}}function tA(R,D,V){var re=1/0;Bi(V,D)&&(re=ax(V,D[0]));for(var ve=0;ve<D.length;ve++)for(var we=D[ve],Re=R[ve],Ke=0;Ke<we.length-1;Ke++){var ut=we[Ke],wt=we[Ke+1],Ct=Re[Ke],Wt=Re[Ke+1],nr=[ut,wt,Wt,Ct,ut];Ha(V,nr)&&(re=Math.min(re,ax(V,nr)))}return re===1/0?!1:re}function rA(R,D,V,re){for(var ve=[],we=[],Re=re[8]*D,Ke=re[9]*D,ut=re[10]*D,wt=re[11]*D,Ct=re[8]*V,Wt=re[9]*V,nr=re[10]*V,qt=re[11]*V,mr=0,Or=R;mr<Or.length;mr+=1){for(var sn=Or[mr],qr=[],Sn=[],yn=0,An=sn;yn<An.length;yn+=1){var In=An[yn],Vn=In.x,ia=In.y,ra=re[0]*Vn+re[4]*ia+re[12],wa=re[1]*Vn+re[5]*ia+re[13],da=re[2]*Vn+re[6]*ia+re[14],xa=re[3]*Vn+re[7]*ia+re[15],Ba=ra+Re,Ta=wa+Ke,Ea=da+ut,Ga=xa+wt,Oa=ra+Ct,ii=wa+Wt,yi=da+nr,oi=xa+qt,si=new r(Ba/Ga,Ta/Ga);si.z=Ea/Ga,qr.push(si);var ei=new r(Oa/oi,ii/oi);ei.z=yi/oi,Sn.push(ei)}ve.push(qr),we.push(Sn)}return[ve,we]}function nA(R,D,V,re){for(var ve=[],we=0,Re=R;we<Re.length;we+=1){var Ke=Re[we],ut=[Ke.x,Ke.y,re,1];Sp(ut,ut,D),ve.push(new r(ut[0]/ut[3],ut[1]/ut[3]))}return ve}var aA=Li([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),iA=aA.members,oA=Li([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),sA=oA.members,lA=av.VectorTileFeature.types,ix=63,uA=Math.cos(75/2*(Math.PI/180)),fA=15,cA=20,hA=15,ox=1/2,sx=Math.pow(2,hA-1)/ox,ns=function(D){var V=this;this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(re){return re.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(re){V.gradients[re.id]={}}),this.layoutVertexArray=new bc,this.layoutVertexArray2=new wc,this.indexArray=new Eu,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new io,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(re){return re.isStateDependent()}).map(function(re){return re.id})};ns.prototype.populate=function(D,V,re){this.hasPattern=Ng("line",this.layers,V);for(var ve=this.layers[0].layout.get("line-sort-key"),we=[],Re=0,Ke=D;Re<Ke.length;Re+=1){var ut=Ke[Re],wt=ut.feature,Ct=ut.id,Wt=ut.index,nr=ut.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,mr=Ti(wt,qt);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),mr,re)){var Or=ve?ve.evaluate(mr,{},re):void 0,sn={id:Ct,properties:wt.properties,type:wt.type,sourceLayerIndex:nr,index:Wt,geometry:qt?mr.geometry:qa(wt),patterns:{},sortKey:Or};we.push(sn)}}ve&&we.sort(function(da,xa){return da.sortKey-xa.sortKey});for(var qr=0,Sn=we;qr<Sn.length;qr+=1){var yn=Sn[qr],An=yn,In=An.geometry,Vn=An.index,ia=An.sourceLayerIndex;if(this.hasPattern){var ra=Ug("line",this.layers,yn,this.zoom,V);this.patternFeatures.push(ra)}else this.addFeature(yn,In,Vn,re,{});var wa=D[Vn].feature;V.featureIndex.insert(wa,In,Vn,ia,this.index)}},ns.prototype.update=function(D,V,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,V,this.stateDependentLayers,re)},ns.prototype.addFeatures=function(D,V,re){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Re=we[ve];this.addFeature(Re,Re.geometry,Re.index,V,re)}},ns.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ns.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ns.prototype.upload=function(D){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=D.createVertexBuffer(this.layoutVertexArray2,sA)),this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,iA),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ns.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ns.prototype.lineFeatureClips=function(D){if(D.properties&&D.properties.hasOwnProperty("mapbox_clip_start")&&D.properties.hasOwnProperty("mapbox_clip_end")){var V=+D.properties.mapbox_clip_start,re=+D.properties.mapbox_clip_end;return{start:V,end:re}}},ns.prototype.addFeature=function(D,V,re,ve,we){var Re=this.layers[0].layout,Ke=Re.get("line-join").evaluate(D,{}),ut=Re.get("line-cap"),wt=Re.get("line-miter-limit"),Ct=Re.get("line-round-limit");this.lineClips=this.lineFeatureClips(D);for(var Wt=0,nr=V;Wt<nr.length;Wt+=1){var qt=nr[Wt];this.addLine(qt,D,Ke,ut,wt,Ct)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,we,ve)},ns.prototype.addLine=function(D,V,re,ve,we,Re){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ke=0;Ke<D.length-1;Ke++)this.totalDistance+=D[Ke].dist(D[Ke+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var ut=lA[V.type]==="Polygon",wt=D.length;wt>=2&&D[wt-1].equals(D[wt-2]);)wt--;for(var Ct=0;Ct<wt-1&&D[Ct].equals(D[Ct+1]);)Ct++;if(!(wt<(ut?3:2))){re==="bevel"&&(we=1.05);var Wt=this.overscaling<=16?fA*Ma/(512*this.overscaling):0,nr=this.segments.prepareSegment(wt*10,this.layoutVertexArray,this.indexArray),qt,mr=void 0,Or=void 0,sn=void 0,qr=void 0;this.e1=this.e2=-1,ut&&(qt=D[wt-2],qr=D[Ct].sub(qt)._unit()._perp());for(var Sn=Ct;Sn<wt;Sn++)if(Or=Sn===wt-1?ut?D[Ct+1]:void 0:D[Sn+1],!(Or&&D[Sn].equals(Or))){qr&&(sn=qr),qt&&(mr=qt),qt=D[Sn],qr=Or?Or.sub(qt)._unit()._perp():sn,sn=sn||qr;var yn=sn.add(qr);(yn.x!==0||yn.y!==0)&&yn._unit();var An=sn.x*qr.x+sn.y*qr.y,In=yn.x*qr.x+yn.y*qr.y,Vn=In!==0?1/In:1/0,ia=2*Math.sqrt(2-2*In),ra=In<uA&&mr&&Or,wa=sn.x*qr.y-sn.y*qr.x>0;if(ra&&Sn>Ct){var da=qt.dist(mr);if(da>2*Wt){var xa=qt.sub(qt.sub(mr)._mult(Wt/da)._round());this.updateDistance(mr,xa),this.addCurrentVertex(xa,sn,0,0,nr),mr=xa}}var Ba=mr&&Or,Ta=Ba?re:ut?"butt":ve;if(Ba&&Ta==="round"&&(Vn<Re?Ta="miter":Vn<=2&&(Ta="fakeround")),Ta==="miter"&&Vn>we&&(Ta="bevel"),Ta==="bevel"&&(Vn>2&&(Ta="flipbevel"),Vn<we&&(Ta="miter")),mr&&this.updateDistance(mr,qt),Ta==="miter")yn._mult(Vn),this.addCurrentVertex(qt,yn,0,0,nr);else if(Ta==="flipbevel"){if(Vn>100)yn=qr.mult(-1);else{var Ea=Vn*sn.add(qr).mag()/sn.sub(qr).mag();yn._perp()._mult(Ea*(wa?-1:1))}this.addCurrentVertex(qt,yn,0,0,nr),this.addCurrentVertex(qt,yn.mult(-1),0,0,nr)}else if(Ta==="bevel"||Ta==="fakeround"){var Ga=-Math.sqrt(Vn*Vn-1),Oa=wa?Ga:0,ii=wa?0:Ga;if(mr&&this.addCurrentVertex(qt,sn,Oa,ii,nr),Ta==="fakeround")for(var yi=Math.round(ia*180/Math.PI/cA),oi=1;oi<yi;oi++){var si=oi/yi;if(si!==.5){var ei=si-.5,Ai=1.0904+An*(-3.2452+An*(3.55645-An*1.43519)),Ei=.848013+An*(-1.06021+An*.215638);si=si+si*ei*(si-1)*(Ai*ei*ei+Ei)}var Ni=qr.sub(sn)._mult(si)._add(sn)._unit()._mult(wa?-1:1);this.addHalfVertex(qt,Ni.x,Ni.y,!1,wa,0,nr)}Or&&this.addCurrentVertex(qt,qr,-Oa,-ii,nr)}else if(Ta==="butt")this.addCurrentVertex(qt,yn,0,0,nr);else if(Ta==="square"){var Yi=mr?1:-1;this.addCurrentVertex(qt,yn,Yi,Yi,nr)}else Ta==="round"&&(mr&&(this.addCurrentVertex(qt,sn,0,0,nr),this.addCurrentVertex(qt,sn,1,1,nr,!0)),Or&&(this.addCurrentVertex(qt,qr,-1,-1,nr,!0),this.addCurrentVertex(qt,qr,0,0,nr)));if(ra&&Sn<wt-1){var Ao=qt.dist(Or);if(Ao>2*Wt){var uo=qt.add(Or.sub(qt)._mult(Wt/Ao)._round());this.updateDistance(qt,uo),this.addCurrentVertex(uo,qr,0,0,nr),qt=uo}}}}},ns.prototype.addCurrentVertex=function(D,V,re,ve,we,Re){Re===void 0&&(Re=!1);var Ke=V.x+V.y*re,ut=V.y-V.x*re,wt=-V.x+V.y*ve,Ct=-V.y-V.x*ve;this.addHalfVertex(D,Ke,ut,Re,!1,re,we),this.addHalfVertex(D,wt,Ct,Re,!0,-ve,we),this.distance>sx/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,V,re,ve,we,Re))},ns.prototype.addHalfVertex=function(D,V,re,ve,we,Re,Ke){var ut=D.x,wt=D.y,Ct=this.lineClips?this.scaledDistance*(sx-1):this.scaledDistance,Wt=Ct*ox;if(this.layoutVertexArray.emplaceBack((ut<<1)+(ve?1:0),(wt<<1)+(we?1:0),Math.round(ix*V)+128,Math.round(ix*re)+128,(Re===0?0:Re<0?-1:1)+1|(Wt&63)<<2,Wt>>6),this.lineClips){var nr=this.scaledDistance-this.lineClips.start,qt=this.lineClips.end-this.lineClips.start,mr=nr/qt;this.layoutVertexArray2.emplaceBack(mr,this.lineClipsArray.length)}var Or=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Or),Ke.primitiveLength++),we?this.e2=Or:this.e1=Or},ns.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ns.prototype.updateDistance=function(D,V){this.distance+=D.dist(V),this.updateScaledDistance()},Oe("LineBucket",ns,{omit:["layers","patternFeatures"]});var vA=new ui({"line-cap":new ua(br.layout_line["line-cap"]),"line-join":new Ca(br.layout_line["line-join"]),"line-miter-limit":new ua(br.layout_line["line-miter-limit"]),"line-round-limit":new ua(br.layout_line["line-round-limit"]),"line-sort-key":new Ca(br.layout_line["line-sort-key"])}),dA=new ui({"line-opacity":new Ca(br.paint_line["line-opacity"]),"line-color":new Ca(br.paint_line["line-color"]),"line-translate":new ua(br.paint_line["line-translate"]),"line-translate-anchor":new ua(br.paint_line["line-translate-anchor"]),"line-width":new Ca(br.paint_line["line-width"]),"line-gap-width":new Ca(br.paint_line["line-gap-width"]),"line-offset":new Ca(br.paint_line["line-offset"]),"line-blur":new Ca(br.paint_line["line-blur"]),"line-dasharray":new Fo(br.paint_line["line-dasharray"]),"line-pattern":new Do(br.paint_line["line-pattern"]),"line-gradient":new ao(br.paint_line["line-gradient"])}),lx={paint:dA,layout:vA},pA=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(re,ve){return ve=new Aa(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),R.prototype.possiblyEvaluate.call(this,re,ve)},D.prototype.evaluate=function(re,ve,we,Re){return ve=A({},ve,{zoom:Math.floor(ve.zoom)}),R.prototype.evaluate.call(this,re,ve,we,Re)},D}(Ca),ux=new pA(lx.paint.properties["line-width"].specification);ux.useIntegerZoom=!0;var gA=function(R){function D(V){R.call(this,V,lx),this.gradientVersion=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(re){if(re==="line-gradient"){var ve=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ve._styleExpression.expression instanceof jo,this.gradientVersion=(this.gradientVersion+1)%c}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(re,ve){R.prototype.recalculate.call(this,re,ve),this.paint._values["line-floorwidth"]=ux.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,re)},D.prototype.createBucket=function(re){return new ns(re)},D.prototype.queryRadius=function(re){var ve=re,we=fx(rs("line-width",this,ve),rs("line-gap-width",this,ve)),Re=rs("line-offset",this,ve);return we/2+Math.abs(Re)+pl(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(re,ve,we,Re,Ke,ut,wt){var Ct=Cu(re,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ut.angle,wt),Wt=wt/2*fx(this.paint.get("line-width").evaluate(ve,we),this.paint.get("line-gap-width").evaluate(ve,we)),nr=this.paint.get("line-offset").evaluate(ve,we);return nr&&(Re=yA(Re,nr*wt)),go(Ct,Re,Wt)},D.prototype.isTileClipped=function(){return!0},D}(Fi);function fx(R,D){return D>0?D+2*R:R}function yA(R,D){for(var V=[],re=new r(0,0),ve=0;ve<R.length;ve++){for(var we=R[ve],Re=[],Ke=0;Ke<we.length;Ke++){var ut=we[Ke-1],wt=we[Ke],Ct=we[Ke+1],Wt=Ke===0?re:wt.sub(ut)._unit()._perp(),nr=Ke===we.length-1?re:Ct.sub(wt)._unit()._perp(),qt=Wt._add(nr)._unit(),mr=qt.x*nr.x+qt.y*nr.y;qt._mult(1/mr),Re.push(qt._mult(D)._add(wt))}V.push(Re)}return V}var mA=Li([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),xA=Li([{name:"a_projected_pos",components:3,type:"Float32"}],4);Li([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var bA=Li([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Li([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var cx=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wA=Li([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Li([{name:"triangle",components:3,type:"Uint16"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Li([{type:"Float32",name:"offsetX"}]),Li([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function TA(R,D,V){var re=D.layout.get("text-transform").evaluate(V,{});return re==="uppercase"?R=R.toLocaleUpperCase():re==="lowercase"&&(R=R.toLocaleLowerCase()),Qn.applyArabicShaping&&(R=Qn.applyArabicShaping(R)),R}function AA(R,D,V){return R.sections.forEach(function(re){re.text=TA(re.text,D,V)}),R}function MA(R){var D={},V={},re=[],ve=0;function we(qr){re.push(R[qr]),ve++}function Re(qr,Sn,yn){var An=V[qr];return delete V[qr],V[Sn]=An,re[An].geometry[0].pop(),re[An].geometry[0]=re[An].geometry[0].concat(yn[0]),An}function Ke(qr,Sn,yn){var An=D[Sn];return delete D[Sn],D[qr]=An,re[An].geometry[0].shift(),re[An].geometry[0]=yn[0].concat(re[An].geometry[0]),An}function ut(qr,Sn,yn){var An=yn?Sn[0][Sn[0].length-1]:Sn[0][0];return qr+":"+An.x+":"+An.y}for(var wt=0;wt<R.length;wt++){var Ct=R[wt],Wt=Ct.geometry,nr=Ct.text?Ct.text.toString():null;if(!nr){we(wt);continue}var qt=ut(nr,Wt),mr=ut(nr,Wt,!0);if(qt in V&&mr in D&&V[qt]!==D[mr]){var Or=Ke(qt,mr,Wt),sn=Re(qt,mr,re[Or].geometry);delete D[qt],delete V[mr],V[ut(nr,re[sn].geometry,!0)]=sn,re[Or].geometry=null}else qt in V?Re(qt,mr,Wt):mr in D?Ke(qt,mr,Wt):(we(wt),D[qt]=ve-1,V[mr]=ve-1)}return re.filter(function(qr){return qr.geometry})}var cd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function SA(R){for(var D="",V=0;V<R.length;V++){var re=R.charCodeAt(V+1)||null,ve=R.charCodeAt(V-1)||null,we=(!re||!Br(re)||cd[R[V+1]])&&(!ve||!Br(ve)||cd[R[V-1]]);we&&cd[R[V]]?D+=cd[R[V]]:D+=R[V]}return D}var Io=24,EA=function(R,D,V,re,ve){var we,Re,Ke=ve*8-re-1,ut=(1<<Ke)-1,wt=ut>>1,Ct=-7,Wt=V?ve-1:0,nr=V?-1:1,qt=R[D+Wt];for(Wt+=nr,we=qt&(1<<-Ct)-1,qt>>=-Ct,Ct+=Ke;Ct>0;we=we*256+R[D+Wt],Wt+=nr,Ct-=8);for(Re=we&(1<<-Ct)-1,we>>=-Ct,Ct+=re;Ct>0;Re=Re*256+R[D+Wt],Wt+=nr,Ct-=8);if(we===0)we=1-wt;else{if(we===ut)return Re?NaN:(qt?-1:1)*(1/0);Re=Re+Math.pow(2,re),we=we-wt}return(qt?-1:1)*Re*Math.pow(2,we-re)},CA=function(R,D,V,re,ve,we){var Re,Ke,ut,wt=we*8-ve-1,Ct=(1<<wt)-1,Wt=Ct>>1,nr=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,qt=re?0:we-1,mr=re?1:-1,Or=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Ke=isNaN(D)?1:0,Re=Ct):(Re=Math.floor(Math.log(D)/Math.LN2),D*(ut=Math.pow(2,-Re))<1&&(Re--,ut*=2),Re+Wt>=1?D+=nr/ut:D+=nr*Math.pow(2,1-Wt),D*ut>=2&&(Re++,ut/=2),Re+Wt>=Ct?(Ke=0,Re=Ct):Re+Wt>=1?(Ke=(D*ut-1)*Math.pow(2,ve),Re=Re+Wt):(Ke=D*Math.pow(2,Wt-1)*Math.pow(2,ve),Re=0));ve>=8;R[V+qt]=Ke&255,qt+=mr,Ke/=256,ve-=8);for(Re=Re<<ve|Ke,wt+=ve;wt>0;R[V+qt]=Re&255,qt+=mr,Re/=256,wt-=8);R[V+qt-mr]|=Or*128},Rp={read:EA,write:CA},Dp=Si;function Si(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Si.Varint=0,Si.Fixed64=1,Si.Bytes=2,Si.Fixed32=5;var Vg=65536*65536,hx=1/Vg,LA=12,vx=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Si.prototype={destroy:function(){this.buf=null},readFields:function(R,D,V){for(V=V||this.length;this.pos<V;){var re=this.readVarint(),ve=re>>3,we=this.pos;this.type=re&7,R(ve,D,this),this.pos===we&&this.skip(re)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=Ip(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=px(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=Ip(this.buf,this.pos)+Ip(this.buf,this.pos+4)*Vg;return this.pos+=8,R},readSFixed64:function(){var R=Ip(this.buf,this.pos)+px(this.buf,this.pos+4)*Vg;return this.pos+=8,R},readFloat:function(){var R=Rp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=Rp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,V,re;return re=D[this.pos++],V=re&127,re<128||(re=D[this.pos++],V|=(re&127)<<7,re<128)||(re=D[this.pos++],V|=(re&127)<<14,re<128)||(re=D[this.pos++],V|=(re&127)<<21,re<128)?V:(re=D[this.pos],V|=(re&15)<<28,PA(V,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=LA&&vx?GA(this.buf,D,R):VA(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Si.Bytes)return R.push(this.readVarint(D));var V=Of(this);for(R=R||[];this.pos<V;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Si.Bytes)return R.push(this.readSVarint());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Si.Bytes)return R.push(this.readBoolean());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Si.Bytes)return R.push(this.readFloat());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Si.Bytes)return R.push(this.readDouble());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Si.Bytes)return R.push(this.readFixed32());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Si.Bytes)return R.push(this.readSFixed32());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Si.Bytes)return R.push(this.readFixed64());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Si.Bytes)return R.push(this.readSFixed64());var D=Of(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Si.Varint)for(;this.buf[this.pos++]>127;);else if(D===Si.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Si.Fixed32)this.pos+=4;else if(D===Si.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var V=new Uint8Array(D);V.set(this.buf),this.buf=V,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),ov(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),ov(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),ov(this.buf,R&-1,this.pos),ov(this.buf,Math.floor(R*hx),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),ov(this.buf,R&-1,this.pos),ov(this.buf,Math.floor(R*hx),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){RA(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=WA(this.buf,R,this.pos);var V=this.pos-D;V>=128&&dx(D,V,this),this.pos=D-1,this.writeVarint(V),this.pos+=V},writeFloat:function(R){this.realloc(4),Rp.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),Rp.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var V=0;V<D;V++)this.buf[this.pos++]=R[V]},writeRawMessage:function(R,D){this.pos++;var V=this.pos;R(D,this);var re=this.pos-V;re>=128&&dx(V,re,this),this.pos=V-1,this.writeVarint(re),this.pos+=re},writeMessage:function(R,D,V){this.writeTag(R,Si.Bytes),this.writeRawMessage(D,V)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,kA,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,_A,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,FA,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,zA,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,OA,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,BA,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,NA,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,UA,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,HA,D)},writeBytesField:function(R,D){this.writeTag(R,Si.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Si.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Si.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Si.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Si.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Si.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Si.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Si.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Si.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Si.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function PA(R,D,V){var re=V.buf,ve,we;if(we=re[V.pos++],ve=(we&112)>>4,we<128||(we=re[V.pos++],ve|=(we&127)<<3,we<128)||(we=re[V.pos++],ve|=(we&127)<<10,we<128)||(we=re[V.pos++],ve|=(we&127)<<17,we<128)||(we=re[V.pos++],ve|=(we&127)<<24,we<128)||(we=re[V.pos++],ve|=(we&1)<<31,we<128))return iv(R,ve,D);throw new Error("Expected varint not more than 10 bytes")}function Of(R){return R.type===Si.Bytes?R.readVarint()+R.pos:R.pos+1}function iv(R,D,V){return V?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function RA(R,D){var V,re;if(R>=0?(V=R%4294967296|0,re=R/4294967296|0):(V=~(-R%4294967296),re=~(-R/4294967296),V^4294967295?V=V+1|0:(V=0,re=re+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),DA(V,re,D),IA(re,D)}function DA(R,D,V){V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos++]=R&127|128,R>>>=7,V.buf[V.pos]=R&127}function IA(R,D){var V=(R&7)<<4;D.buf[D.pos++]|=V|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function dx(R,D,V){var re=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));V.realloc(re);for(var ve=V.pos-1;ve>=R;ve--)V.buf[ve+re]=V.buf[ve]}function kA(R,D){for(var V=0;V<R.length;V++)D.writeVarint(R[V])}function _A(R,D){for(var V=0;V<R.length;V++)D.writeSVarint(R[V])}function zA(R,D){for(var V=0;V<R.length;V++)D.writeFloat(R[V])}function OA(R,D){for(var V=0;V<R.length;V++)D.writeDouble(R[V])}function FA(R,D){for(var V=0;V<R.length;V++)D.writeBoolean(R[V])}function BA(R,D){for(var V=0;V<R.length;V++)D.writeFixed32(R[V])}function NA(R,D){for(var V=0;V<R.length;V++)D.writeSFixed32(R[V])}function UA(R,D){for(var V=0;V<R.length;V++)D.writeFixed64(R[V])}function HA(R,D){for(var V=0;V<R.length;V++)D.writeSFixed64(R[V])}function Ip(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function ov(R,D,V){R[V]=D,R[V+1]=D>>>8,R[V+2]=D>>>16,R[V+3]=D>>>24}function px(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function VA(R,D,V){for(var re="",ve=D;ve<V;){var we=R[ve],Re=null,Ke=we>239?4:we>223?3:we>191?2:1;if(ve+Ke>V)break;var ut,wt,Ct;Ke===1?we<128&&(Re=we):Ke===2?(ut=R[ve+1],(ut&192)===128&&(Re=(we&31)<<6|ut&63,Re<=127&&(Re=null))):Ke===3?(ut=R[ve+1],wt=R[ve+2],(ut&192)===128&&(wt&192)===128&&(Re=(we&15)<<12|(ut&63)<<6|wt&63,(Re<=2047||Re>=55296&&Re<=57343)&&(Re=null))):Ke===4&&(ut=R[ve+1],wt=R[ve+2],Ct=R[ve+3],(ut&192)===128&&(wt&192)===128&&(Ct&192)===128&&(Re=(we&15)<<18|(ut&63)<<12|(wt&63)<<6|Ct&63,(Re<=65535||Re>=1114112)&&(Re=null))),Re===null?(Re=65533,Ke=1):Re>65535&&(Re-=65536,re+=String.fromCharCode(Re>>>10&1023|55296),Re=56320|Re&1023),re+=String.fromCharCode(Re),ve+=Ke}return re}function GA(R,D,V){return vx.decode(R.subarray(D,V))}function WA(R,D,V){for(var re=0,ve,we;re<D.length;re++){if(ve=D.charCodeAt(re),ve>55295&&ve<57344)if(we)if(ve<56320){R[V++]=239,R[V++]=191,R[V++]=189,we=ve;continue}else ve=we-55296<<10|ve-56320|65536,we=null;else{ve>56319||re+1===D.length?(R[V++]=239,R[V++]=191,R[V++]=189):we=ve;continue}else we&&(R[V++]=239,R[V++]=191,R[V++]=189,we=null);ve<128?R[V++]=ve:(ve<2048?R[V++]=ve>>6|192:(ve<65536?R[V++]=ve>>12|224:(R[V++]=ve>>18|240,R[V++]=ve>>12&63|128),R[V++]=ve>>6&63|128),R[V++]=ve&63|128)}return V}var Gg=3;function YA(R,D,V){R===1&&V.readMessage(ZA,D)}function ZA(R,D,V){if(R===3){var re=V.readMessage(XA,{}),ve=re.id,we=re.bitmap,Re=re.width,Ke=re.height,ut=re.left,wt=re.top,Ct=re.advance;D.push({id:ve,bitmap:new Ch({width:Re+2*Gg,height:Ke+2*Gg},we),metrics:{width:Re,height:Ke,left:ut,top:wt,advance:Ct}})}}function XA(R,D,V){R===1?D.id=V.readVarint():R===2?D.bitmap=V.readBytes():R===3?D.width=V.readVarint():R===4?D.height=V.readVarint():R===5?D.left=V.readSVarint():R===6?D.top=V.readSVarint():R===7&&(D.advance=V.readVarint())}function jA(R){return new Dp(R).readFields(YA,[])}var gx=Gg;function yx(R){for(var D=0,V=0,re=0,ve=R;re<ve.length;re+=1){var we=ve[re];D+=we.w*we.h,V=Math.max(V,we.w)}R.sort(function(sn,qr){return qr.h-sn.h});for(var Re=Math.max(Math.ceil(Math.sqrt(D/.95)),V),Ke=[{x:0,y:0,w:Re,h:1/0}],ut=0,wt=0,Ct=0,Wt=R;Ct<Wt.length;Ct+=1)for(var nr=Wt[Ct],qt=Ke.length-1;qt>=0;qt--){var mr=Ke[qt];if(!(nr.w>mr.w||nr.h>mr.h)){if(nr.x=mr.x,nr.y=mr.y,wt=Math.max(wt,nr.y+nr.h),ut=Math.max(ut,nr.x+nr.w),nr.w===mr.w&&nr.h===mr.h){var Or=Ke.pop();qt<Ke.length&&(Ke[qt]=Or)}else nr.h===mr.h?(mr.x+=nr.w,mr.w-=nr.w):nr.w===mr.w?(mr.y+=nr.h,mr.h-=nr.h):(Ke.push({x:mr.x+nr.w,y:mr.y,w:mr.w-nr.w,h:nr.h}),mr.y+=nr.h,mr.h-=nr.h);break}}return{w:ut,h:wt,fill:D/(ut*wt)||0}}var _s=1,kp=function(D,V){var re=V.pixelRatio,ve=V.version,we=V.stretchX,Re=V.stretchY,Ke=V.content;this.paddedRect=D,this.pixelRatio=re,this.stretchX=we,this.stretchY=Re,this.content=Ke,this.version=ve},hd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};hd.tl.get=function(){return[this.paddedRect.x+_s,this.paddedRect.y+_s]},hd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-_s,this.paddedRect.y+this.paddedRect.h-_s]},hd.tlbr.get=function(){return this.tl.concat(this.br)},hd.displaySize.get=function(){return[(this.paddedRect.w-_s*2)/this.pixelRatio,(this.paddedRect.h-_s*2)/this.pixelRatio]},Object.defineProperties(kp.prototype,hd);var vd=function(D,V){var re={},ve={};this.haveRenderCallbacks=[];var we=[];this.addImages(D,re,we),this.addImages(V,ve,we);var Re=yx(we),Ke=Re.w,ut=Re.h,wt=new bs({width:Ke||1,height:ut||1});for(var Ct in D){var Wt=D[Ct],nr=re[Ct].paddedRect;bs.copy(Wt.data,wt,{x:0,y:0},{x:nr.x+_s,y:nr.y+_s},Wt.data)}for(var qt in V){var mr=V[qt],Or=ve[qt].paddedRect,sn=Or.x+_s,qr=Or.y+_s,Sn=mr.data.width,yn=mr.data.height;bs.copy(mr.data,wt,{x:0,y:0},{x:sn,y:qr},mr.data),bs.copy(mr.data,wt,{x:0,y:yn-1},{x:sn,y:qr-1},{width:Sn,height:1}),bs.copy(mr.data,wt,{x:0,y:0},{x:sn,y:qr+yn},{width:Sn,height:1}),bs.copy(mr.data,wt,{x:Sn-1,y:0},{x:sn-1,y:qr},{width:1,height:yn}),bs.copy(mr.data,wt,{x:0,y:0},{x:sn+Sn,y:qr},{width:1,height:yn})}this.image=wt,this.iconPositions=re,this.patternPositions=ve};vd.prototype.addImages=function(D,V,re){for(var ve in D){var we=D[ve],Re={x:0,y:0,w:we.data.width+2*_s,h:we.data.height+2*_s};re.push(Re),V[ve]=new kp(Re,we),we.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},vd.prototype.patchUpdatedImages=function(D,V){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var re in D.updatedImages)this.patchUpdatedImage(this.iconPositions[re],D.getImage(re),V),this.patchUpdatedImage(this.patternPositions[re],D.getImage(re),V)},vd.prototype.patchUpdatedImage=function(D,V,re){if(!(!D||!V)&&D.version!==V.version){D.version=V.version;var ve=D.tl,we=ve[0],Re=ve[1];re.update(V.data,void 0,{x:we,y:Re})}},Oe("ImagePosition",kp),Oe("ImageAtlas",vd);var $s={horizontal:1,vertical:2,horizontalOnly:3},dd=-17;function KA(R){for(var D=0,V=R;D<V.length;D+=1){var re=V[D];if(re.positionedGlyphs.length!==0)return!1}return!0}var mx=57344,xx=63743,sv=function(){this.scale=1,this.fontStack="",this.imageName=null};sv.forText=function(D,V){var re=new sv;return re.scale=D||1,re.fontStack=V,re},sv.forImage=function(D){var V=new sv;return V.imageName=D,V};var Vo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Vo.fromFeature=function(D,V){for(var re=new Vo,ve=0;ve<D.sections.length;ve++){var we=D.sections[ve];we.image?re.addImageSection(we):re.addTextSection(we,V)}return re},Vo.prototype.length=function(){return this.text.length},Vo.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Vo.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Vo.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Vo.prototype.verticalizePunctuation=function(){this.text=SA(this.text)},Vo.prototype.trim=function(){for(var D=0,V=0;V<this.text.length&&of[this.text.charCodeAt(V)];V++)D++;for(var re=this.text.length,ve=this.text.length-1;ve>=0&&ve>=D&&of[this.text.charCodeAt(ve)];ve--)re--;this.text=this.text.substring(D,re),this.sectionIndex=this.sectionIndex.slice(D,re)},Vo.prototype.substring=function(D,V){var re=new Vo;return re.text=this.text.substring(D,V),re.sectionIndex=this.sectionIndex.slice(D,V),re.sections=this.sections,re},Vo.prototype.toString=function(){return this.text},Vo.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(V,re){return Math.max(V,D.sections[re].scale)},0)},Vo.prototype.addTextSection=function(D,V){this.text+=D.text,this.sections.push(sv.forText(D.scale,D.fontStack||V));for(var re=this.sections.length-1,ve=0;ve<D.text.length;++ve)this.sectionIndex.push(re)},Vo.prototype.addImageSection=function(D){var V=D.image?D.image.name:"";if(V.length===0){B("Can't add FormattedSection with an empty image.");return}var re=this.getNextImageSectionCharCode();if(!re){B("Reached maximum number of images "+(xx-mx+2));return}this.text+=String.fromCharCode(re),this.sections.push(sv.forImage(V)),this.sectionIndex.push(this.sections.length-1)},Vo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=xx?null:++this.imageSectionID:(this.imageSectionID=mx,this.imageSectionID)};function JA(R,D){for(var V=[],re=R.text,ve=0,we=0,Re=D;we<Re.length;we+=1){var Ke=Re[we];V.push(R.substring(ve,Ke)),ve=Ke}return ve<re.length&&V.push(R.substring(ve,re.length)),V}function _p(R,D,V,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or){var sn=Vo.fromFeature(R,ve);Wt===$s.vertical&&sn.verticalizePunctuation();var qr,Sn=Qn.processBidirectionalText,yn=Qn.processStyledBidirectionalText;if(Sn&&sn.sections.length===1){qr=[];for(var An=Sn(sn.toString(),Wg(sn,wt,we,D,re,qt,mr)),In=0,Vn=An;In<Vn.length;In+=1){var ia=Vn[In],ra=new Vo;ra.text=ia,ra.sections=sn.sections;for(var wa=0;wa<ia.length;wa++)ra.sectionIndex.push(0);qr.push(ra)}}else if(yn){qr=[];for(var da=yn(sn.text,sn.sectionIndex,Wg(sn,wt,we,D,re,qt,mr)),xa=0,Ba=da;xa<Ba.length;xa+=1){var Ta=Ba[xa],Ea=new Vo;Ea.text=Ta[0],Ea.sectionIndex=Ta[1],Ea.sections=sn.sections,qr.push(Ea)}}else qr=JA(sn,Wg(sn,wt,we,D,re,qt,mr));var Ga=[],Oa={positionedLines:Ga,text:sn.toString(),top:Ct[1],bottom:Ct[1],left:Ct[0],right:Ct[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return qA(Oa,D,V,re,qr,Re,Ke,ut,Wt,wt,nr,Or),KA(Ga)?!1:Oa}var of={};of[9]=!0,of[10]=!0,of[11]=!0,of[12]=!0,of[13]=!0,of[32]=!0;var zs={};zs[10]=!0,zs[32]=!0,zs[38]=!0,zs[40]=!0,zs[41]=!0,zs[43]=!0,zs[45]=!0,zs[47]=!0,zs[173]=!0,zs[183]=!0,zs[8203]=!0,zs[8208]=!0,zs[8211]=!0,zs[8231]=!0;function bx(R,D,V,re,ve,we){if(D.imageName){var ut=re[D.imageName];return ut?ut.displaySize[0]*D.scale*Io/we+ve:0}else{var Re=V[D.fontStack],Ke=Re&&Re[R];return Ke?Ke.metrics.advance*D.scale+ve:0}}function QA(R,D,V,re,ve,we){for(var Re=0,Ke=0;Ke<R.length();Ke++){var ut=R.getSection(Ke);Re+=bx(R.getCharCode(Ke),ut,re,ve,D,we)}var wt=Math.max(1,Math.ceil(Re/V));return Re/wt}function wx(R,D,V,re){var ve=Math.pow(R-D,2);return re?R<D?ve/2:ve*2:ve+Math.abs(V)*V}function $A(R,D,V){var re=0;return R===10&&(re-=1e4),V&&(re+=150),(R===40||R===65288)&&(re+=50),(D===41||D===65289)&&(re+=50),re}function Tx(R,D,V,re,ve,we){for(var Re=null,Ke=wx(D,V,ve,we),ut=0,wt=re;ut<wt.length;ut+=1){var Ct=wt[ut],Wt=D-Ct.x,nr=wx(Wt,V,ve,we)+Ct.badness;nr<=Ke&&(Re=Ct,Ke=nr)}return{index:R,x:D,priorBreak:Re,badness:Ke}}function Ax(R){return R?Ax(R.priorBreak).concat(R.index):[]}function Wg(R,D,V,re,ve,we,Re){if(we!=="point")return[];if(!R)return[];for(var Ke=[],ut=QA(R,D,V,re,ve,Re),wt=R.text.indexOf("")>=0,Ct=0,Wt=0;Wt<R.length();Wt++){var nr=R.getSection(Wt),qt=R.getCharCode(Wt);if(of[qt]||(Ct+=bx(qt,nr,re,ve,D,Re)),Wt<R.length()-1){var mr=Jr(qt);(zs[qt]||mr||nr.imageName)&&Ke.push(Tx(Wt+1,Ct,ut,Ke,$A(qt,R.getCharCode(Wt+1),mr&&wt),!1))}}return Ax(Tx(R.length(),Ct,ut,Ke,0,!0))}function Yg(R){var D=.5,V=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":V=1;break;case"top":case"top-right":case"top-left":V=0;break}return{horizontalAlign:D,verticalAlign:V}}function qA(R,D,V,re,ve,we,Re,Ke,ut,wt,Ct,Wt){for(var nr=0,qt=dd,mr=0,Or=0,sn=Ke==="right"?1:Ke==="left"?0:.5,qr=0,Sn=0,yn=ve;Sn<yn.length;Sn+=1){var An=yn[Sn];An.trim();var In=An.getMaxScale(),Vn=(In-1)*Io,ia={positionedGlyphs:[],lineOffset:0};R.positionedLines[qr]=ia;var ra=ia.positionedGlyphs,wa=0;if(!An.length()){qt+=we,++qr;continue}for(var da=0;da<An.length();da++){var xa=An.getSection(da),Ba=An.getSectionIndex(da),Ta=An.getCharCode(da),Ea=0,Ga=null,Oa=null,ii=null,yi=Io,oi=!(ut===$s.horizontal||!Ct&&!nn(Ta)||Ct&&(of[Ta]||Xr(Ta)));if(xa.imageName){var Ni=re[xa.imageName];if(!Ni)continue;ii=xa.imageName,R.iconsInText=R.iconsInText||!0,Oa=Ni.paddedRect;var Yi=Ni.displaySize;xa.scale=xa.scale*Io/Wt,Ga={width:Yi[0],height:Yi[1],left:_s,top:-gx,advance:oi?Yi[1]:Yi[0]};var Ao=Io-Yi[1]*xa.scale;Ea=Vn+Ao,yi=Ga.advance;var uo=oi?Yi[0]*xa.scale-Io*In:Yi[1]*xa.scale-Io*In;uo>0&&uo>wa&&(wa=uo)}else{var si=V[xa.fontStack],ei=si&&si[Ta];if(ei&&ei.rect)Oa=ei.rect,Ga=ei.metrics;else{var Ai=D[xa.fontStack],Ei=Ai&&Ai[Ta];if(!Ei)continue;Ga=Ei.metrics}Ea=(In-xa.scale)*Io}oi?(R.verticalizable=!0,ra.push({glyph:Ta,imageName:ii,x:nr,y:qt+Ea,vertical:oi,scale:xa.scale,fontStack:xa.fontStack,sectionIndex:Ba,metrics:Ga,rect:Oa}),nr+=yi*xa.scale+wt):(ra.push({glyph:Ta,imageName:ii,x:nr,y:qt+Ea,vertical:oi,scale:xa.scale,fontStack:xa.fontStack,sectionIndex:Ba,metrics:Ga,rect:Oa}),nr+=Ga.advance*xa.scale+wt)}if(ra.length!==0){var Go=nr-wt;mr=Math.max(Go,mr),e4(ra,0,ra.length-1,sn,wa)}nr=0;var Wo=we*In+wa;ia.lineOffset=Math.max(wa,Vn),qt+=Wo,Or=Math.max(Wo,Or),++qr}var Mo=qt-dd,as=Yg(Re),is=as.horizontalAlign,yo=as.verticalAlign;t4(R.positionedLines,sn,is,yo,mr,Or,we,Mo,ve.length),R.top+=-yo*Mo,R.bottom=R.top+Mo,R.left+=-is*mr,R.right=R.left+mr}function e4(R,D,V,re,ve){if(!(!re&&!ve))for(var we=R[V],Re=we.metrics.advance*we.scale,Ke=(R[V].x+Re)*re,ut=D;ut<=V;ut++)R[ut].x-=Ke,R[ut].y+=ve}function t4(R,D,V,re,ve,we,Re,Ke,ut){var wt=(D-V)*ve,Ct=0;we!==Re?Ct=-Ke*re-dd:Ct=(-re*ut+.5)*Re;for(var Wt=0,nr=R;Wt<nr.length;Wt+=1)for(var qt=nr[Wt],mr=0,Or=qt.positionedGlyphs;mr<Or.length;mr+=1){var sn=Or[mr];sn.x+=wt,sn.y+=Ct}}function r4(R,D,V){var re=Yg(V),ve=re.horizontalAlign,we=re.verticalAlign,Re=D[0],Ke=D[1],ut=Re-R.displaySize[0]*ve,wt=ut+R.displaySize[0],Ct=Ke-R.displaySize[1]*we,Wt=Ct+R.displaySize[1];return{image:R,top:Ct,bottom:Wt,left:ut,right:wt}}function Mx(R,D,V,re,ve,we){var Re=R.image,Ke;if(Re.content){var ut=Re.content,wt=Re.pixelRatio||1;Ke=[ut[0]/wt,ut[1]/wt,Re.displaySize[0]-ut[2]/wt,Re.displaySize[1]-ut[3]/wt]}var Ct=D.left*we,Wt=D.right*we,nr,qt,mr,Or;V==="width"||V==="both"?(Or=ve[0]+Ct-re[3],qt=ve[0]+Wt+re[1]):(Or=ve[0]+(Ct+Wt-Re.displaySize[0])/2,qt=Or+Re.displaySize[0]);var sn=D.top*we,qr=D.bottom*we;return V==="height"||V==="both"?(nr=ve[1]+sn-re[0],mr=ve[1]+qr+re[2]):(nr=ve[1]+(sn+qr-Re.displaySize[1])/2,mr=nr+Re.displaySize[1]),{image:Re,top:nr,right:qt,bottom:mr,left:Or,collisionPadding:Ke}}var lv=function(R){function D(V,re,ve,we){R.call(this,V,re),this.angle=ve,we!==void 0&&(this.segment=we)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(r);Oe("Anchor",lv);var Ru=128;function Zg(R,D){var V=D.expression;if(V.kind==="constant"){var re=V.evaluate(new Aa(R+1));return{kind:"constant",layoutSize:re}}else{if(V.kind==="source")return{kind:"source"};for(var ve=V.zoomStops,we=V.interpolationType,Re=0;Re<ve.length&&ve[Re]<=R;)Re++;Re=Math.max(0,Re-1);for(var Ke=Re;Ke<ve.length&&ve[Ke]<R+1;)Ke++;Ke=Math.min(ve.length-1,Ke);var ut=ve[Re],wt=ve[Ke];if(V.kind==="composite")return{kind:"composite",minZoom:ut,maxZoom:wt,interpolationType:we};var Ct=V.evaluate(new Aa(ut)),Wt=V.evaluate(new Aa(wt));return{kind:"camera",minZoom:ut,maxZoom:wt,minSize:Ct,maxSize:Wt,interpolationType:we}}}function Sx(R,D,V){var re=D.uSize,ve=D.uSizeT,we=V.lowerSize,Re=V.upperSize;return R.kind==="source"?we/Ru:R.kind==="composite"?Pi(we/Ru,Re/Ru,ve):re}function Ex(R,D){var V=0,re=0;if(R.kind==="constant")re=R.layoutSize;else if(R.kind!=="source"){var ve=R.interpolationType,we=R.minZoom,Re=R.maxZoom,Ke=ve?f(ki.interpolationFactor(ve,D,we,Re),0,1):0;R.kind==="camera"?re=Pi(R.minSize,R.maxSize,Ke):V=Ke}return{uSizeT:V,uSize:re}}var n4=Object.freeze({__proto__:null,getSizeData:Zg,evaluateSizeForFeature:Sx,evaluateSizeForZoom:Ex,SIZE_PACK_FACTOR:Ru});function Cx(R,D,V,re,ve){if(D.segment===void 0)return!0;for(var we=D,Re=D.segment+1,Ke=0;Ke>-V/2;){if(Re--,Re<0)return!1;Ke-=R[Re].dist(we),we=R[Re]}Ke+=R[Re].dist(R[Re+1]),Re++;for(var ut=[],wt=0;Ke<V/2;){var Ct=R[Re-1],Wt=R[Re],nr=R[Re+1];if(!nr)return!1;var qt=Ct.angleTo(Wt)-Wt.angleTo(nr);for(qt=Math.abs((qt+3*Math.PI)%(Math.PI*2)-Math.PI),ut.push({distance:Ke,angleDelta:qt}),wt+=qt;Ke-ut[0].distance>re;)wt-=ut.shift().angleDelta;if(wt>ve)return!1;Re++,Ke+=Wt.dist(nr)}return!0}function Lx(R){for(var D=0,V=0;V<R.length-1;V++)D+=R[V].dist(R[V+1]);return D}function Px(R,D,V){return R?.6*D*V:0}function Rx(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function a4(R,D,V,re,ve,we){for(var Re=Px(V,ve,we),Ke=Rx(V,re)*we,ut=0,wt=Lx(R)/2,Ct=0;Ct<R.length-1;Ct++){var Wt=R[Ct],nr=R[Ct+1],qt=Wt.dist(nr);if(ut+qt>wt){var mr=(wt-ut)/qt,Or=Pi(Wt.x,nr.x,mr),sn=Pi(Wt.y,nr.y,mr),qr=new lv(Or,sn,nr.angleTo(Wt),Ct);return qr._round(),!Re||Cx(R,qr,Ke,Re,D)?qr:void 0}ut+=qt}}function i4(R,D,V,re,ve,we,Re,Ke,ut){var wt=Px(re,we,Re),Ct=Rx(re,ve),Wt=Ct*Re,nr=R[0].x===0||R[0].x===ut||R[0].y===0||R[0].y===ut;D-Wt<D/4&&(D=Wt+D/4);var qt=we*2,mr=nr?D/2*Ke%D:(Ct/2+qt)*Re*Ke%D;return Dx(R,mr,D,wt,V,Wt,nr,!1,ut)}function Dx(R,D,V,re,ve,we,Re,Ke,ut){for(var wt=we/2,Ct=Lx(R),Wt=0,nr=D-V,qt=[],mr=0;mr<R.length-1;mr++){for(var Or=R[mr],sn=R[mr+1],qr=Or.dist(sn),Sn=sn.angleTo(Or);nr+V<Wt+qr;){nr+=V;var yn=(nr-Wt)/qr,An=Pi(Or.x,sn.x,yn),In=Pi(Or.y,sn.y,yn);if(An>=0&&An<ut&&In>=0&&In<ut&&nr-wt>=0&&nr+wt<=Ct){var Vn=new lv(An,In,Sn,mr);Vn._round(),(!re||Cx(R,Vn,we,re,ve))&&qt.push(Vn)}}Wt+=qr}return!Ke&&!qt.length&&!Re&&(qt=Dx(R,Wt/2,V,re,ve,we,Re,!0,ut)),qt}function Ix(R,D,V,re,ve){for(var we=[],Re=0;Re<R.length;Re++)for(var Ke=R[Re],ut=void 0,wt=0;wt<Ke.length-1;wt++){var Ct=Ke[wt],Wt=Ke[wt+1];Ct.x<D&&Wt.x<D||(Ct.x<D?Ct=new r(D,Ct.y+(Wt.y-Ct.y)*((D-Ct.x)/(Wt.x-Ct.x)))._round():Wt.x<D&&(Wt=new r(D,Ct.y+(Wt.y-Ct.y)*((D-Ct.x)/(Wt.x-Ct.x)))._round()),!(Ct.y<V&&Wt.y<V)&&(Ct.y<V?Ct=new r(Ct.x+(Wt.x-Ct.x)*((V-Ct.y)/(Wt.y-Ct.y)),V)._round():Wt.y<V&&(Wt=new r(Ct.x+(Wt.x-Ct.x)*((V-Ct.y)/(Wt.y-Ct.y)),V)._round()),!(Ct.x>=re&&Wt.x>=re)&&(Ct.x>=re?Ct=new r(re,Ct.y+(Wt.y-Ct.y)*((re-Ct.x)/(Wt.x-Ct.x)))._round():Wt.x>=re&&(Wt=new r(re,Ct.y+(Wt.y-Ct.y)*((re-Ct.x)/(Wt.x-Ct.x)))._round()),!(Ct.y>=ve&&Wt.y>=ve)&&(Ct.y>=ve?Ct=new r(Ct.x+(Wt.x-Ct.x)*((ve-Ct.y)/(Wt.y-Ct.y)),ve)._round():Wt.y>=ve&&(Wt=new r(Ct.x+(Wt.x-Ct.x)*((ve-Ct.y)/(Wt.y-Ct.y)),ve)._round()),(!ut||!Ct.equals(ut[ut.length-1]))&&(ut=[Ct],we.push(ut)),ut.push(Wt)))))}return we}var uv=_s;function kx(R,D,V,re){var ve=[],we=R.image,Re=we.pixelRatio,Ke=we.paddedRect.w-2*uv,ut=we.paddedRect.h-2*uv,wt=R.right-R.left,Ct=R.bottom-R.top,Wt=we.stretchX||[[0,Ke]],nr=we.stretchY||[[0,ut]],qt=function(si,ei){return si+ei[1]-ei[0]},mr=Wt.reduce(qt,0),Or=nr.reduce(qt,0),sn=Ke-mr,qr=ut-Or,Sn=0,yn=mr,An=0,In=Or,Vn=0,ia=sn,ra=0,wa=qr;if(we.content&&re){var da=we.content;Sn=zp(Wt,0,da[0]),An=zp(nr,0,da[1]),yn=zp(Wt,da[0],da[2]),In=zp(nr,da[1],da[3]),Vn=da[0]-Sn,ra=da[1]-An,ia=da[2]-da[0]-yn,wa=da[3]-da[1]-In}var xa=function(si,ei,Ai,Ei){var Ni=Op(si.stretch-Sn,yn,wt,R.left),Yi=Fp(si.fixed-Vn,ia,si.stretch,mr),Ao=Op(ei.stretch-An,In,Ct,R.top),uo=Fp(ei.fixed-ra,wa,ei.stretch,Or),Go=Op(Ai.stretch-Sn,yn,wt,R.left),Wo=Fp(Ai.fixed-Vn,ia,Ai.stretch,mr),Mo=Op(Ei.stretch-An,In,Ct,R.top),as=Fp(Ei.fixed-ra,wa,Ei.stretch,Or),is=new r(Ni,Ao),yo=new r(Go,Ao),os=new r(Go,Mo),qs=new r(Ni,Mo),Nf=new r(Yi/Re,uo/Re),Ic=new r(Wo/Re,as/Re),kc=D*Math.PI/180;if(kc){var _c=Math.sin(kc),yv=Math.cos(kc),Ql=[yv,-_c,_c,yv];is._matMult(Ql),yo._matMult(Ql),qs._matMult(Ql),os._matMult(Ql)}var Gp=si.stretch+si.fixed,ey=Ai.stretch+Ai.fixed,Wp=ei.stretch+ei.fixed,ty=Ei.stretch+Ei.fixed,ml={x:we.paddedRect.x+uv+Gp,y:we.paddedRect.y+uv+Wp,w:ey-Gp,h:ty-Wp},mv=ia/Re/wt,Yp=wa/Re/Ct;return{tl:is,tr:yo,bl:qs,br:os,tex:ml,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Nf,pixelOffsetBR:Ic,minFontScaleX:mv,minFontScaleY:Yp,isSDF:V}};if(!re||!we.stretchX&&!we.stretchY)ve.push(xa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:ut+1}));else for(var Ba=_x(Wt,sn,mr),Ta=_x(nr,qr,Or),Ea=0;Ea<Ba.length-1;Ea++)for(var Ga=Ba[Ea],Oa=Ba[Ea+1],ii=0;ii<Ta.length-1;ii++){var yi=Ta[ii],oi=Ta[ii+1];ve.push(xa(Ga,yi,Oa,oi))}return ve}function zp(R,D,V){for(var re=0,ve=0,we=R;ve<we.length;ve+=1){var Re=we[ve];re+=Math.max(D,Math.min(V,Re[1]))-Math.max(D,Math.min(V,Re[0]))}return re}function _x(R,D,V){for(var re=[{fixed:-uv,stretch:0}],ve=0,we=R;ve<we.length;ve+=1){var Re=we[ve],Ke=Re[0],ut=Re[1],wt=re[re.length-1];re.push({fixed:Ke-wt.stretch,stretch:wt.stretch}),re.push({fixed:Ke-wt.stretch,stretch:wt.stretch+(ut-Ke)})}return re.push({fixed:D+uv,stretch:V}),re}function Op(R,D,V,re){return R/D*V+re}function Fp(R,D,V,re){return R-D*V/re}function o4(R,D,V,re,ve,we,Re,Ke){for(var ut=re.layout.get("text-rotate").evaluate(we,{})*Math.PI/180,wt=[],Ct=0,Wt=D.positionedLines;Ct<Wt.length;Ct+=1)for(var nr=Wt[Ct],qt=0,mr=nr.positionedGlyphs;qt<mr.length;qt+=1){var Or=mr[qt];if(Or.rect){var sn=Or.rect||{},qr=1,Sn=gx+qr,yn=!0,An=1,In=0,Vn=(ve||Ke)&&Or.vertical,ia=Or.metrics.advance*Or.scale/2;if(Ke&&D.verticalizable){var ra=(Or.scale-1)*Io,wa=(Io-Or.metrics.width*Or.scale)/2;In=nr.lineOffset/2-(Or.imageName?-wa:ra)}if(Or.imageName){var da=Re[Or.imageName];yn=da.sdf,An=da.pixelRatio,Sn=_s/An}var xa=ve?[Or.x+ia,Or.y]:[0,0],Ba=ve?[0,0]:[Or.x+ia+V[0],Or.y+V[1]-In],Ta=[0,0];Vn&&(Ta=Ba,Ba=[0,0]);var Ea=(Or.metrics.left-Sn)*Or.scale-ia+Ba[0],Ga=(-Or.metrics.top-Sn)*Or.scale+Ba[1],Oa=Ea+sn.w*Or.scale/An,ii=Ga+sn.h*Or.scale/An,yi=new r(Ea,Ga),oi=new r(Oa,Ga),si=new r(Ea,ii),ei=new r(Oa,ii);if(Vn){var Ai=new r(-ia,ia-dd),Ei=-Math.PI/2,Ni=Io/2-ia,Yi=Or.imageName?Ni:0,Ao=new r(5-dd-Ni,-Yi),uo=new(Function.prototype.bind.apply(r,[null].concat(Ta)));yi._rotateAround(Ei,Ai)._add(Ao)._add(uo),oi._rotateAround(Ei,Ai)._add(Ao)._add(uo),si._rotateAround(Ei,Ai)._add(Ao)._add(uo),ei._rotateAround(Ei,Ai)._add(Ao)._add(uo)}if(ut){var Go=Math.sin(ut),Wo=Math.cos(ut),Mo=[Wo,-Go,Go,Wo];yi._matMult(Mo),oi._matMult(Mo),si._matMult(Mo),ei._matMult(Mo)}var as=new r(0,0),is=new r(0,0),yo=0,os=0;wt.push({tl:yi,tr:oi,bl:si,br:ei,tex:sn,writingMode:D.writingMode,glyphOffset:xa,sectionIndex:Or.sectionIndex,isSDF:yn,pixelOffsetTL:as,pixelOffsetBR:is,minFontScaleX:yo,minFontScaleY:os})}}return wt}var Bp=function(D,V,re,ve,we,Re,Ke,ut,wt,Ct){if(this.boxStartIndex=D.length,wt){var Wt=Re.top,nr=Re.bottom,qt=Re.collisionPadding;qt&&(Wt-=qt[1],nr+=qt[3]);var mr=nr-Wt;mr>0&&(mr=Math.max(10,mr),this.circleDiameter=mr)}else{var Or=Re.top*Ke-ut,sn=Re.bottom*Ke+ut,qr=Re.left*Ke-ut,Sn=Re.right*Ke+ut,yn=Re.collisionPadding;if(yn&&(qr-=yn[0]*Ke,Or-=yn[1]*Ke,Sn+=yn[2]*Ke,sn+=yn[3]*Ke),Ct){var An=new r(qr,Or),In=new r(Sn,Or),Vn=new r(qr,sn),ia=new r(Sn,sn),ra=Ct*Math.PI/180;An._rotate(ra),In._rotate(ra),Vn._rotate(ra),ia._rotate(ra),qr=Math.min(An.x,In.x,Vn.x,ia.x),Sn=Math.max(An.x,In.x,Vn.x,ia.x),Or=Math.min(An.y,In.y,Vn.y,ia.y),sn=Math.max(An.y,In.y,Vn.y,ia.y)}D.emplaceBack(V.x,V.y,qr,Or,Sn,sn,re,ve,we)}this.boxEndIndex=D.length},fv=function(D,V){if(D===void 0&&(D=[]),V===void 0&&(V=s4),this.data=D,this.length=this.data.length,this.compare=V,this.length>0)for(var re=(this.length>>1)-1;re>=0;re--)this._down(re)};fv.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},fv.prototype.pop=function(){if(this.length!==0){var D=this.data[0],V=this.data.pop();return this.length--,this.length>0&&(this.data[0]=V,this._down(0)),D}},fv.prototype.peek=function(){return this.data[0]},fv.prototype._up=function(D){for(var V=this,re=V.data,ve=V.compare,we=re[D];D>0;){var Re=D-1>>1,Ke=re[Re];if(ve(we,Ke)>=0)break;re[D]=Ke,D=Re}re[D]=we},fv.prototype._down=function(D){for(var V=this,re=V.data,ve=V.compare,we=this.length>>1,Re=re[D];D<we;){var Ke=(D<<1)+1,ut=re[Ke],wt=Ke+1;if(wt<this.length&&ve(re[wt],ut)<0&&(Ke=wt,ut=re[wt]),ve(ut,Re)>=0)break;re[D]=ut,D=Ke}re[D]=Re};function s4(R,D){return R<D?-1:R>D?1:0}function l4(R,D,V){D===void 0&&(D=1),V===void 0&&(V=!1);for(var re=1/0,ve=1/0,we=-1/0,Re=-1/0,Ke=R[0],ut=0;ut<Ke.length;ut++){var wt=Ke[ut];(!ut||wt.x<re)&&(re=wt.x),(!ut||wt.y<ve)&&(ve=wt.y),(!ut||wt.x>we)&&(we=wt.x),(!ut||wt.y>Re)&&(Re=wt.y)}var Ct=we-re,Wt=Re-ve,nr=Math.min(Ct,Wt),qt=nr/2,mr=new fv([],u4);if(nr===0)return new r(re,ve);for(var Or=re;Or<we;Or+=nr)for(var sn=ve;sn<Re;sn+=nr)mr.push(new cv(Or+qt,sn+qt,qt,R));for(var qr=c4(R),Sn=mr.length;mr.length;){var yn=mr.pop();(yn.d>qr.d||!qr.d)&&(qr=yn,V&&console.log("found best %d after %d probes",Math.round(1e4*yn.d)/1e4,Sn)),!(yn.max-qr.d<=D)&&(qt=yn.h/2,mr.push(new cv(yn.p.x-qt,yn.p.y-qt,qt,R)),mr.push(new cv(yn.p.x+qt,yn.p.y-qt,qt,R)),mr.push(new cv(yn.p.x-qt,yn.p.y+qt,qt,R)),mr.push(new cv(yn.p.x+qt,yn.p.y+qt,qt,R)),Sn+=4)}return V&&(console.log("num probes: "+Sn),console.log("best distance: "+qr.d)),qr.p}function u4(R,D){return D.max-R.max}function cv(R,D,V,re){this.p=new r(R,D),this.h=V,this.d=f4(this.p,re),this.max=this.d+this.h*Math.SQRT2}function f4(R,D){for(var V=!1,re=1/0,ve=0;ve<D.length;ve++)for(var we=D[ve],Re=0,Ke=we.length,ut=Ke-1;Re<Ke;ut=Re++){var wt=we[Re],Ct=we[ut];wt.y>R.y!=Ct.y>R.y&&R.x<(Ct.x-wt.x)*(R.y-wt.y)/(Ct.y-wt.y)+wt.x&&(V=!V),re=Math.min(re,zf(R,wt,Ct))}return(V?1:-1)*Math.sqrt(re)}function c4(R){for(var D=0,V=0,re=0,ve=R[0],we=0,Re=ve.length,Ke=Re-1;we<Re;Ke=we++){var ut=ve[we],wt=ve[Ke],Ct=ut.x*wt.y-wt.x*ut.y;V+=(ut.x+wt.x)*Ct,re+=(ut.y+wt.y)*Ct,D+=Ct*3}return new cv(V/D,re/D,0,R)}var hv=7,Xg=Number.POSITIVE_INFINITY;function zx(R,D){function V(ve,we){var Re=0,Ke=0;we<0&&(we=0);var ut=we/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Ke=ut-hv;break;case"bottom-right":case"bottom-left":Ke=-ut+hv;break;case"bottom":Ke=-we+hv;break;case"top":Ke=we-hv;break}switch(ve){case"top-right":case"bottom-right":Re=-ut;break;case"top-left":case"bottom-left":Re=ut;break;case"left":Re=we;break;case"right":Re=-we;break}return[Re,Ke]}function re(ve,we,Re){var Ke=0,ut=0;switch(we=Math.abs(we),Re=Math.abs(Re),ve){case"top-right":case"top-left":case"top":ut=Re-hv;break;case"bottom-right":case"bottom-left":case"bottom":ut=-Re+hv;break}switch(ve){case"top-right":case"bottom-right":case"right":Ke=-we;break;case"top-left":case"bottom-left":case"left":Ke=we;break}return[Ke,ut]}return D[1]!==Xg?re(R,D[0],D[1]):V(R,D[0])}function h4(R,D,V,re,ve,we,Re){R.createArrays();var Ke=512*R.overscaling;R.tilePixelRatio=Ma/Ke,R.compareText={},R.iconsNeedLinear=!1;var ut=R.layers[0].layout,wt=R.layers[0]._unevaluatedLayout._values,Ct={};if(R.textSizeData.kind==="composite"){var Wt=R.textSizeData,nr=Wt.minZoom,qt=Wt.maxZoom;Ct.compositeTextSizes=[wt["text-size"].possiblyEvaluate(new Aa(nr),Re),wt["text-size"].possiblyEvaluate(new Aa(qt),Re)]}if(R.iconSizeData.kind==="composite"){var mr=R.iconSizeData,Or=mr.minZoom,sn=mr.maxZoom;Ct.compositeIconSizes=[wt["icon-size"].possiblyEvaluate(new Aa(Or),Re),wt["icon-size"].possiblyEvaluate(new Aa(sn),Re)]}Ct.layoutTextSize=wt["text-size"].possiblyEvaluate(new Aa(R.zoom+1),Re),Ct.layoutIconSize=wt["icon-size"].possiblyEvaluate(new Aa(R.zoom+1),Re),Ct.textMaxSize=wt["text-size"].possiblyEvaluate(new Aa(18));for(var qr=ut.get("text-line-height")*Io,Sn=ut.get("text-rotation-alignment")==="map"&&ut.get("symbol-placement")!=="point",yn=ut.get("text-keep-upright"),An=ut.get("text-size"),In=function(){var ra=ia[Vn],wa=ut.get("text-font").evaluate(ra,{},Re).join(","),da=An.evaluate(ra,{},Re),xa=Ct.layoutTextSize.evaluate(ra,{},Re),Ba=Ct.layoutIconSize.evaluate(ra,{},Re),Ta={horizontal:{},vertical:void 0},Ea=ra.text,Ga=[0,0];if(Ea){var Oa=Ea.toString(),ii=ut.get("text-letter-spacing").evaluate(ra,{},Re)*Io,yi=Cr(Oa)?ii:0,oi=ut.get("text-anchor").evaluate(ra,{},Re),si=ut.get("text-variable-anchor");if(!si){var ei=ut.get("text-radial-offset").evaluate(ra,{},Re);ei?Ga=zx(oi,[ei*Io,Xg]):Ga=ut.get("text-offset").evaluate(ra,{},Re).map(function(Nf){return Nf*Io})}var Ai=Sn?"center":ut.get("text-justify").evaluate(ra,{},Re),Ei=ut.get("symbol-placement"),Ni=Ei==="point"?ut.get("text-max-width").evaluate(ra,{},Re)*Io:0,Yi=function(){R.allowVerticalPlacement&&tr(Oa)&&(Ta.vertical=_p(Ea,D,V,ve,wa,Ni,qr,oi,"left",yi,Ga,$s.vertical,!0,Ei,xa,da))};if(!Sn&&si){for(var Ao=Ai==="auto"?si.map(function(Nf){return jg(Nf)}):[Ai],uo=!1,Go=0;Go<Ao.length;Go++){var Wo=Ao[Go];if(!Ta.horizontal[Wo])if(uo)Ta.horizontal[Wo]=Ta.horizontal[0];else{var Mo=_p(Ea,D,V,ve,wa,Ni,qr,"center",Wo,yi,Ga,$s.horizontal,!1,Ei,xa,da);Mo&&(Ta.horizontal[Wo]=Mo,uo=Mo.positionedLines.length===1)}}Yi()}else{Ai==="auto"&&(Ai=jg(oi));var as=_p(Ea,D,V,ve,wa,Ni,qr,oi,Ai,yi,Ga,$s.horizontal,!1,Ei,xa,da);as&&(Ta.horizontal[Ai]=as),Yi(),tr(Oa)&&Sn&&yn&&(Ta.vertical=_p(Ea,D,V,ve,wa,Ni,qr,oi,Ai,yi,Ga,$s.vertical,!1,Ei,xa,da))}}var is=void 0,yo=!1;if(ra.icon&&ra.icon.name){var os=re[ra.icon.name];os&&(is=r4(ve[ra.icon.name],ut.get("icon-offset").evaluate(ra,{},Re),ut.get("icon-anchor").evaluate(ra,{},Re)),yo=os.sdf,R.sdfIcons===void 0?R.sdfIcons=os.sdf:R.sdfIcons!==os.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(os.pixelRatio!==R.pixelRatio||ut.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var qs=Fx(Ta.horizontal)||Ta.vertical;R.iconsInText=qs?qs.iconsInText:!1,(qs||is)&&v4(R,ra,Ta,is,re,Ct,xa,Ba,Ga,yo,Re)},Vn=0,ia=R.features;Vn<ia.length;Vn+=1)In();we&&R.generateCollisionDebugBuffers()}function jg(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function v4(R,D,V,re,ve,we,Re,Ke,ut,wt,Ct){var Wt=we.textMaxSize.evaluate(D,{});Wt===void 0&&(Wt=Re);var nr=R.layers[0].layout,qt=nr.get("icon-offset").evaluate(D,{},Ct),mr=Fx(V.horizontal),Or=24,sn=Re/Or,qr=R.tilePixelRatio*sn,Sn=R.tilePixelRatio*Wt/Or,yn=R.tilePixelRatio*Ke,An=R.tilePixelRatio*nr.get("symbol-spacing"),In=nr.get("text-padding")*R.tilePixelRatio,Vn=nr.get("icon-padding")*R.tilePixelRatio,ia=nr.get("text-max-angle")/180*Math.PI,ra=nr.get("text-rotation-alignment")==="map"&&nr.get("symbol-placement")!=="point",wa=nr.get("icon-rotation-alignment")==="map"&&nr.get("symbol-placement")!=="point",da=nr.get("symbol-placement"),xa=An/2,Ba=nr.get("icon-text-fit"),Ta;re&&Ba!=="none"&&(R.allowVerticalPlacement&&V.vertical&&(Ta=Mx(re,V.vertical,Ba,nr.get("icon-text-fit-padding"),qt,sn)),mr&&(re=Mx(re,mr,Ba,nr.get("icon-text-fit-padding"),qt,sn)));var Ea=function(yv,Ql){Ql.x<0||Ql.x>=Ma||Ql.y<0||Ql.y>=Ma||d4(R,Ql,yv,V,re,ve,Ta,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,qr,In,ra,ut,yn,Vn,wa,qt,D,we,wt,Ct,Re)};if(da==="line")for(var Ga=0,Oa=Ix(D.geometry,0,0,Ma,Ma);Ga<Oa.length;Ga+=1)for(var ii=Oa[Ga],yi=i4(ii,An,ia,V.vertical||mr,re,Or,Sn,R.overscaling,Ma),oi=0,si=yi;oi<si.length;oi+=1){var ei=si[oi],Ai=mr;(!Ai||!p4(R,Ai.text,xa,ei))&&Ea(ii,ei)}else if(da==="line-center")for(var Ei=0,Ni=D.geometry;Ei<Ni.length;Ei+=1){var Yi=Ni[Ei];if(Yi.length>1){var Ao=a4(Yi,ia,V.vertical||mr,re,Or,Sn);Ao&&Ea(Yi,Ao)}}else if(D.type==="Polygon")for(var uo=0,Go=Bg(D.geometry,0);uo<Go.length;uo+=1){var Wo=Go[uo],Mo=l4(Wo,16);Ea(Wo[0],new lv(Mo.x,Mo.y,0))}else if(D.type==="LineString")for(var as=0,is=D.geometry;as<is.length;as+=1){var yo=is[as];Ea(yo,new lv(yo[0].x,yo[0].y,0))}else if(D.type==="Point")for(var os=0,qs=D.geometry;os<qs.length;os+=1)for(var Nf=qs[os],Ic=0,kc=Nf;Ic<kc.length;Ic+=1){var _c=kc[Ic];Ea([_c],new lv(_c.x,_c.y,0))}}var pd=255,Rc=pd*Ru;function Ox(R,D,V,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr){var Or=o4(D,V,Ke,ve,we,Re,re,R.allowVerticalPlacement),sn=R.textSizeData,qr=null;sn.kind==="source"?(qr=[Ru*ve.layout.get("text-size").evaluate(Re,{})],qr[0]>Rc&&B(R.layerIds[0]+': Value for "text-size" is >= '+pd+'. Reduce your "text-size".')):sn.kind==="composite"&&(qr=[Ru*qt.compositeTextSizes[0].evaluate(Re,{},mr),Ru*qt.compositeTextSizes[1].evaluate(Re,{},mr)],(qr[0]>Rc||qr[1]>Rc)&&B(R.layerIds[0]+': Value for "text-size" is >= '+pd+'. Reduce your "text-size".')),R.addSymbols(R.text,Or,qr,Ke,we,Re,wt,D,ut.lineStartIndex,ut.lineLength,nr,mr);for(var Sn=0,yn=Ct;Sn<yn.length;Sn+=1){var An=yn[Sn];Wt[An]=R.text.placedSymbolArray.length-1}return Or.length*4}function Fx(R){for(var D in R)return R[D];return null}function d4(R,D,V,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr,qt,mr,Or,sn,qr,Sn,yn,An,In,Vn,ia,ra){var wa,da=R.addToLineVertexArray(D,V),xa,Ba,Ta,Ea,Ga=0,Oa=0,ii=0,yi=0,oi=-1,si=-1,ei={},Ai=pe(""),Ei=0,Ni=0;if(Ke._unevaluatedLayout.getValue("text-radial-offset")===void 0?(wa=Ke.layout.get("text-offset").evaluate(An,{},ia).map(function(md){return md*Io}),Ei=wa[0],Ni=wa[1]):(Ei=Ke.layout.get("text-radial-offset").evaluate(An,{},ia)*Io,Ni=Xg),R.allowVerticalPlacement&&re.vertical){var Yi=Ke.layout.get("text-rotate").evaluate(An,{},ia),Ao=Yi+90,uo=re.vertical;Ta=new Bp(ut,D,wt,Ct,Wt,uo,nr,qt,mr,Ao),Re&&(Ea=new Bp(ut,D,wt,Ct,Wt,Re,sn,qr,mr,Ao))}if(ve){var Go=Ke.layout.get("icon-rotate").evaluate(An,{}),Wo=Ke.layout.get("icon-text-fit")!=="none",Mo=kx(ve,Go,Vn,Wo),as=Re?kx(Re,Go,Vn,Wo):void 0;Ba=new Bp(ut,D,wt,Ct,Wt,ve,sn,qr,!1,Go),Ga=Mo.length*4;var is=R.iconSizeData,yo=null;is.kind==="source"?(yo=[Ru*Ke.layout.get("icon-size").evaluate(An,{})],yo[0]>Rc&&B(R.layerIds[0]+': Value for "icon-size" is >= '+pd+'. Reduce your "icon-size".')):is.kind==="composite"&&(yo=[Ru*In.compositeIconSizes[0].evaluate(An,{},ia),Ru*In.compositeIconSizes[1].evaluate(An,{},ia)],(yo[0]>Rc||yo[1]>Rc)&&B(R.layerIds[0]+': Value for "icon-size" is >= '+pd+'. Reduce your "icon-size".')),R.addSymbols(R.icon,Mo,yo,yn,Sn,An,!1,D,da.lineStartIndex,da.lineLength,-1,ia),oi=R.icon.placedSymbolArray.length-1,as&&(Oa=as.length*4,R.addSymbols(R.icon,as,yo,yn,Sn,An,$s.vertical,D,da.lineStartIndex,da.lineLength,-1,ia),si=R.icon.placedSymbolArray.length-1)}for(var os in re.horizontal){var qs=re.horizontal[os];if(!xa){Ai=pe(qs.text);var Nf=Ke.layout.get("text-rotate").evaluate(An,{},ia);xa=new Bp(ut,D,wt,Ct,Wt,qs,nr,qt,mr,Nf)}var Ic=qs.positionedLines.length===1;if(ii+=Ox(R,D,qs,we,Ke,mr,An,Or,da,re.vertical?$s.horizontal:$s.horizontalOnly,Ic?Object.keys(re.horizontal):[os],ei,oi,In,ia),Ic)break}re.vertical&&(yi+=Ox(R,D,re.vertical,we,Ke,mr,An,Or,da,$s.vertical,["vertical"],ei,si,In,ia));var kc=xa?xa.boxStartIndex:R.collisionBoxArray.length,_c=xa?xa.boxEndIndex:R.collisionBoxArray.length,yv=Ta?Ta.boxStartIndex:R.collisionBoxArray.length,Ql=Ta?Ta.boxEndIndex:R.collisionBoxArray.length,Gp=Ba?Ba.boxStartIndex:R.collisionBoxArray.length,ey=Ba?Ba.boxEndIndex:R.collisionBoxArray.length,Wp=Ea?Ea.boxStartIndex:R.collisionBoxArray.length,ty=Ea?Ea.boxEndIndex:R.collisionBoxArray.length,ml=-1,mv=function(md,qx){return md&&md.circleDiameter?Math.max(md.circleDiameter,qx):qx};ml=mv(xa,ml),ml=mv(Ta,ml),ml=mv(Ba,ml),ml=mv(Ea,ml);var Yp=ml>-1?1:0;Yp&&(ml*=ra/Io),R.glyphOffsetArray.length>=gi.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),An.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,An.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,ei.right>=0?ei.right:-1,ei.center>=0?ei.center:-1,ei.left>=0?ei.left:-1,ei.vertical||-1,oi,si,Ai,kc,_c,yv,Ql,Gp,ey,Wp,ty,wt,ii,yi,Ga,Oa,Yp,0,nr,Ei,Ni,ml)}function p4(R,D,V,re){var ve=R.compareText;if(!(D in ve))ve[D]=[];else for(var we=ve[D],Re=we.length-1;Re>=0;Re--)if(re.dist(we[Re])<V)return!0;return ve[D].push(re),!1}var g4=av.VectorTileFeature.types,y4=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Np(R,D,V,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr){var qt=Ke?Math.min(Rc,Math.round(Ke[0])):0,mr=Ke?Math.min(Rc,Math.round(Ke[1])):0;R.emplaceBack(D,V,Math.round(re*32),Math.round(ve*32),we,Re,(qt<<1)+(ut?1:0),mr,wt*16,Ct*16,Wt*256,nr*256)}function Kg(R,D,V){R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V),R.emplaceBack(D.x,D.y,V)}function m4(R){for(var D=0,V=R.sections;D<V.length;D+=1){var re=V[D];if($r(re.text))return!0}return!1}var vv=function(D){this.layoutVertexArray=new nf,this.indexArray=new Eu,this.programConfigurations=D,this.segments=new io,this.dynamicLayoutVertexArray=new $v,this.opacityVertexArray=new qv,this.placedSymbolArray=new rd};vv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},vv.prototype.upload=function(D,V,re,ve){this.isEmpty()||(re&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,mA.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,V),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,xA.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,y4,!0),this.opacityVertexBuffer.itemSize=1),(re||ve)&&this.programConfigurations.upload(D))},vv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Oe("SymbolBuffers",vv);var gd=function(D,V,re){this.layoutVertexArray=new D,this.layoutAttributes=V,this.indexArray=new re,this.segments=new io,this.collisionVertexArray=new gs};gd.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,bA.members,!0)},gd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Oe("CollisionBuffers",gd);var gi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ut){return ut.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=qh([]),this.placementViewportMatrix=qh([]);var V=this.layers[0],re=V._unevaluatedLayout._values;this.textSizeData=Zg(this.zoom,re["text-size"]),this.iconSizeData=Zg(this.zoom,re["icon-size"]);var ve=this.layers[0].layout,we=ve.get("symbol-sort-key"),Re=ve.get("symbol-z-order");this.canOverlap=ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement"),this.sortFeaturesByKey=Re!=="viewport-y"&&we.constantOr(1)!==void 0;var Ke=Re==="viewport-y"||Re==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ke&&this.canOverlap,ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(ut){return $s[ut]})),this.stateDependentLayerIds=this.layers.filter(function(ut){return ut.isStateDependent()}).map(function(ut){return ut.id}),this.sourceID=D.sourceID};gi.prototype.createArrays=function(){this.text=new vv(new va(this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new vv(new va(this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new wp,this.lineVertexArray=new vl,this.symbolInstances=new bp},gi.prototype.calculateGlyphDependencies=function(D,V,re,ve,we){for(var Re=0;Re<D.length;Re++)if(V[D.charCodeAt(Re)]=!0,(re||ve)&&we){var Ke=cd[D.charAt(Re)];Ke&&(V[Ke.charCodeAt(0)]=!0)}},gi.prototype.populate=function(D,V,re){var ve=this.layers[0],we=ve.layout,Re=we.get("text-font"),Ke=we.get("text-field"),ut=we.get("icon-image"),wt=(Ke.value.kind!=="constant"||Ke.value.value instanceof ji&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&(Re.value.kind!=="constant"||Re.value.value.length>0),Ct=ut.value.kind!=="constant"||!!ut.value.value||Object.keys(ut.parameters).length>0,Wt=we.get("symbol-sort-key");if(this.features=[],!(!wt&&!Ct)){for(var nr=V.iconDependencies,qt=V.glyphDependencies,mr=V.availableImages,Or=new Aa(this.zoom),sn=0,qr=D;sn<qr.length;sn+=1){var Sn=qr[sn],yn=Sn.feature,An=Sn.id,In=Sn.index,Vn=Sn.sourceLayerIndex,ia=ve._featureFilter.needGeometry,ra=Ti(yn,ia);if(ve._featureFilter.filter(Or,ra,re)){ia||(ra.geometry=qa(yn));var wa=void 0;if(wt){var da=ve.getValueAndResolveTokens("text-field",ra,re,mr),xa=ji.factory(da);m4(xa)&&(this.hasRTLText=!0),(!this.hasRTLText||ka()==="unavailable"||this.hasRTLText&&Qn.isParsed())&&(wa=AA(xa,ve,ra))}var Ba=void 0;if(Ct){var Ta=ve.getValueAndResolveTokens("icon-image",ra,re,mr);Ta instanceof xo?Ba=Ta:Ba=xo.fromString(Ta)}if(!(!wa&&!Ba)){var Ea=this.sortFeaturesByKey?Wt.evaluate(ra,{},re):void 0,Ga={id:An,text:wa,icon:Ba,index:In,sourceLayerIndex:Vn,geometry:ra.geometry,properties:yn.properties,type:g4[yn.type],sortKey:Ea};if(this.features.push(Ga),Ba&&(nr[Ba.name]=!0),wa){var Oa=Re.evaluate(ra,{},re).join(","),ii=we.get("text-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf($s.vertical)>=0;for(var yi=0,oi=wa.sections;yi<oi.length;yi+=1){var si=oi[yi];if(si.image)nr[si.image.name]=!0;else{var ei=tr(wa.toString()),Ai=si.fontStack||Oa,Ei=qt[Ai]=qt[Ai]||{};this.calculateGlyphDependencies(si.text,Ei,ii,this.allowVerticalPlacement,ei)}}}}}}we.get("symbol-placement")==="line"&&(this.features=MA(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ni,Yi){return Ni.sortKey-Yi.sortKey})}},gi.prototype.update=function(D,V,re){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,V,this.layers,re),this.icon.programConfigurations.updatePaintArrays(D,V,this.layers,re))},gi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},gi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},gi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},gi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},gi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},gi.prototype.addToLineVertexArray=function(D,V){var re=this.lineVertexArray.length;if(D.segment!==void 0){for(var ve=D.dist(V[D.segment+1]),we=D.dist(V[D.segment]),Re={},Ke=D.segment+1;Ke<V.length;Ke++)Re[Ke]={x:V[Ke].x,y:V[Ke].y,tileUnitDistanceFromAnchor:ve},Ke<V.length-1&&(ve+=V[Ke+1].dist(V[Ke]));for(var ut=D.segment||0;ut>=0;ut--)Re[ut]={x:V[ut].x,y:V[ut].y,tileUnitDistanceFromAnchor:we},ut>0&&(we+=V[ut-1].dist(V[ut]));for(var wt=0;wt<V.length;wt++){var Ct=Re[wt];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:re,lineLength:this.lineVertexArray.length-re}},gi.prototype.addSymbols=function(D,V,re,ve,we,Re,Ke,ut,wt,Ct,Wt,nr){for(var qt=D.indexArray,mr=D.layoutVertexArray,Or=D.segments.prepareSegment(4*V.length,mr,qt,this.canOverlap?Re.sortKey:void 0),sn=this.glyphOffsetArray.length,qr=Or.vertexLength,Sn=this.allowVerticalPlacement&&Ke===$s.vertical?Math.PI/2:0,yn=Re.text&&Re.text.sections,An=0;An<V.length;An++){var In=V[An],Vn=In.tl,ia=In.tr,ra=In.bl,wa=In.br,da=In.tex,xa=In.pixelOffsetTL,Ba=In.pixelOffsetBR,Ta=In.minFontScaleX,Ea=In.minFontScaleY,Ga=In.glyphOffset,Oa=In.isSDF,ii=In.sectionIndex,yi=Or.vertexLength,oi=Ga[1];Np(mr,ut.x,ut.y,Vn.x,oi+Vn.y,da.x,da.y,re,Oa,xa.x,xa.y,Ta,Ea),Np(mr,ut.x,ut.y,ia.x,oi+ia.y,da.x+da.w,da.y,re,Oa,Ba.x,xa.y,Ta,Ea),Np(mr,ut.x,ut.y,ra.x,oi+ra.y,da.x,da.y+da.h,re,Oa,xa.x,Ba.y,Ta,Ea),Np(mr,ut.x,ut.y,wa.x,oi+wa.y,da.x+da.w,da.y+da.h,re,Oa,Ba.x,Ba.y,Ta,Ea),Kg(D.dynamicLayoutVertexArray,ut,Sn),qt.emplaceBack(yi,yi+1,yi+2),qt.emplaceBack(yi+1,yi+2,yi+3),Or.vertexLength+=4,Or.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ga[0]),(An===V.length-1||ii!==V[An+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(mr.length,Re,Re.index,{},nr,yn&&yn[ii])}D.placedSymbolArray.emplaceBack(ut.x,ut.y,sn,this.glyphOffsetArray.length-sn,qr,wt,Ct,ut.segment,re?re[0]:0,re?re[1]:0,ve[0],ve[1],Ke,0,!1,0,Wt)},gi.prototype._addCollisionDebugVertex=function(D,V,re,ve,we,Re){return V.emplaceBack(0,0),D.emplaceBack(re.x,re.y,ve,we,Math.round(Re.x),Math.round(Re.y))},gi.prototype.addCollisionDebugVertices=function(D,V,re,ve,we,Re,Ke){var ut=we.segments.prepareSegment(4,we.layoutVertexArray,we.indexArray),wt=ut.vertexLength,Ct=we.layoutVertexArray,Wt=we.collisionVertexArray,nr=Ke.anchorX,qt=Ke.anchorY;this._addCollisionDebugVertex(Ct,Wt,Re,nr,qt,new r(D,V)),this._addCollisionDebugVertex(Ct,Wt,Re,nr,qt,new r(re,V)),this._addCollisionDebugVertex(Ct,Wt,Re,nr,qt,new r(re,ve)),this._addCollisionDebugVertex(Ct,Wt,Re,nr,qt,new r(D,ve)),ut.vertexLength+=4;var mr=we.indexArray;mr.emplaceBack(wt,wt+1),mr.emplaceBack(wt+1,wt+2),mr.emplaceBack(wt+2,wt+3),mr.emplaceBack(wt+3,wt),ut.primitiveLength+=4},gi.prototype.addDebugCollisionBoxes=function(D,V,re,ve){for(var we=D;we<V;we++){var Re=this.collisionBoxArray.get(we),Ke=Re.x1,ut=Re.y1,wt=Re.x2,Ct=Re.y2;this.addCollisionDebugVertices(Ke,ut,wt,Ct,ve?this.textCollisionBox:this.iconCollisionBox,Re.anchorPoint,re)}},gi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gd(Xh,cx.members,Mh),this.iconCollisionBox=new gd(Xh,cx.members,Mh);for(var D=0;D<this.symbolInstances.length;D++){var V=this.symbolInstances.get(D);this.addDebugCollisionBoxes(V.textBoxStartIndex,V.textBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.iconBoxStartIndex,V.iconBoxEndIndex,V,!1),this.addDebugCollisionBoxes(V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V,!1)}},gi.prototype._deserializeCollisionBoxesForSymbol=function(D,V,re,ve,we,Re,Ke,ut,wt){for(var Ct={},Wt=V;Wt<re;Wt++){var nr=D.get(Wt);Ct.textBox={x1:nr.x1,y1:nr.y1,x2:nr.x2,y2:nr.y2,anchorPointX:nr.anchorPointX,anchorPointY:nr.anchorPointY},Ct.textFeatureIndex=nr.featureIndex;break}for(var qt=ve;qt<we;qt++){var mr=D.get(qt);Ct.verticalTextBox={x1:mr.x1,y1:mr.y1,x2:mr.x2,y2:mr.y2,anchorPointX:mr.anchorPointX,anchorPointY:mr.anchorPointY},Ct.verticalTextFeatureIndex=mr.featureIndex;break}for(var Or=Re;Or<Ke;Or++){var sn=D.get(Or);Ct.iconBox={x1:sn.x1,y1:sn.y1,x2:sn.x2,y2:sn.y2,anchorPointX:sn.anchorPointX,anchorPointY:sn.anchorPointY},Ct.iconFeatureIndex=sn.featureIndex;break}for(var qr=ut;qr<wt;qr++){var Sn=D.get(qr);Ct.verticalIconBox={x1:Sn.x1,y1:Sn.y1,x2:Sn.x2,y2:Sn.y2,anchorPointX:Sn.anchorPointX,anchorPointY:Sn.anchorPointY},Ct.verticalIconFeatureIndex=Sn.featureIndex;break}return Ct},gi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var V=0;V<this.symbolInstances.length;V++){var re=this.symbolInstances.get(V);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,re.textBoxStartIndex,re.textBoxEndIndex,re.verticalTextBoxStartIndex,re.verticalTextBoxEndIndex,re.iconBoxStartIndex,re.iconBoxEndIndex,re.verticalIconBoxStartIndex,re.verticalIconBoxEndIndex))}},gi.prototype.hasTextData=function(){return this.text.segments.get().length>0},gi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},gi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},gi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},gi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},gi.prototype.addIndicesForPlacedSymbol=function(D,V){for(var re=D.placedSymbolArray.get(V),ve=re.vertexStartIndex+re.numGlyphs*4,we=re.vertexStartIndex;we<ve;we+=4)D.indexArray.emplaceBack(we,we+1,we+2),D.indexArray.emplaceBack(we+1,we+2,we+3)},gi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var V=Math.sin(D),re=Math.cos(D),ve=[],we=[],Re=[],Ke=0;Ke<this.symbolInstances.length;++Ke){Re.push(Ke);var ut=this.symbolInstances.get(Ke);ve.push(Math.round(V*ut.anchorX+re*ut.anchorY)|0),we.push(ut.featureIndex)}return Re.sort(function(wt,Ct){return ve[wt]-ve[Ct]||we[Ct]-we[wt]}),Re},gi.prototype.addToSortKeyRanges=function(D,V){var re=this.sortKeyRanges[this.sortKeyRanges.length-1];re&&re.sortKey===V?re.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:V,symbolInstanceStart:D,symbolInstanceEnd:D+1})},gi.prototype.sortFeatures=function(D){var V=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var re=0,ve=this.symbolInstanceIndexes;re<ve.length;re+=1){var we=ve[re],Re=this.symbolInstances.get(we);this.featureSortOrder.push(Re.featureIndex),[Re.rightJustifiedTextSymbolIndex,Re.centerJustifiedTextSymbolIndex,Re.leftJustifiedTextSymbolIndex].forEach(function(Ke,ut,wt){Ke>=0&&wt.indexOf(Ke)===ut&&V.addIndicesForPlacedSymbol(V.text,Ke)}),Re.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Re.verticalPlacedTextSymbolIndex),Re.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.placedIconSymbolIndex),Re.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Oe("SymbolBucket",gi,{omit:["layers","collisionBoxArray","features","compareText"]}),gi.MAX_GLYPHS=65535,gi.addDynamicAttributes=Kg;function x4(R,D){return D.replace(/{([^{}]+)}/g,function(V,re){return re in R?String(R[re]):""})}var b4=new ui({"symbol-placement":new ua(br.layout_symbol["symbol-placement"]),"symbol-spacing":new ua(br.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ua(br.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ca(br.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ua(br.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ua(br.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ua(br.layout_symbol["icon-ignore-placement"]),"icon-optional":new ua(br.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ua(br.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ca(br.layout_symbol["icon-size"]),"icon-text-fit":new ua(br.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ua(br.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ca(br.layout_symbol["icon-image"]),"icon-rotate":new Ca(br.layout_symbol["icon-rotate"]),"icon-padding":new ua(br.layout_symbol["icon-padding"]),"icon-keep-upright":new ua(br.layout_symbol["icon-keep-upright"]),"icon-offset":new Ca(br.layout_symbol["icon-offset"]),"icon-anchor":new Ca(br.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ua(br.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ua(br.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ua(br.layout_symbol["text-rotation-alignment"]),"text-field":new Ca(br.layout_symbol["text-field"]),"text-font":new Ca(br.layout_symbol["text-font"]),"text-size":new Ca(br.layout_symbol["text-size"]),"text-max-width":new Ca(br.layout_symbol["text-max-width"]),"text-line-height":new ua(br.layout_symbol["text-line-height"]),"text-letter-spacing":new Ca(br.layout_symbol["text-letter-spacing"]),"text-justify":new Ca(br.layout_symbol["text-justify"]),"text-radial-offset":new Ca(br.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ua(br.layout_symbol["text-variable-anchor"]),"text-anchor":new Ca(br.layout_symbol["text-anchor"]),"text-max-angle":new ua(br.layout_symbol["text-max-angle"]),"text-writing-mode":new ua(br.layout_symbol["text-writing-mode"]),"text-rotate":new Ca(br.layout_symbol["text-rotate"]),"text-padding":new ua(br.layout_symbol["text-padding"]),"text-keep-upright":new ua(br.layout_symbol["text-keep-upright"]),"text-transform":new Ca(br.layout_symbol["text-transform"]),"text-offset":new Ca(br.layout_symbol["text-offset"]),"text-allow-overlap":new ua(br.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ua(br.layout_symbol["text-ignore-placement"]),"text-optional":new ua(br.layout_symbol["text-optional"])}),w4=new ui({"icon-opacity":new Ca(br.paint_symbol["icon-opacity"]),"icon-color":new Ca(br.paint_symbol["icon-color"]),"icon-halo-color":new Ca(br.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ca(br.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ca(br.paint_symbol["icon-halo-blur"]),"icon-translate":new ua(br.paint_symbol["icon-translate"]),"icon-translate-anchor":new ua(br.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ca(br.paint_symbol["text-opacity"]),"text-color":new Ca(br.paint_symbol["text-color"],{runtimeType:Dn,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Ca(br.paint_symbol["text-halo-color"]),"text-halo-width":new Ca(br.paint_symbol["text-halo-width"]),"text-halo-blur":new Ca(br.paint_symbol["text-halo-blur"]),"text-translate":new ua(br.paint_symbol["text-translate"]),"text-translate-anchor":new ua(br.paint_symbol["text-translate-anchor"])}),Jg={paint:w4,layout:b4},dv=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Gr,this.defaultValue=D};dv.prototype.evaluate=function(D){if(D.formattedSection){var V=this.defaultValue.property.overrides;if(V&&V.hasOverride(D.formattedSection))return V.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},dv.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var V=this.defaultValue.value;D(V._styleExpression.expression)}},dv.prototype.outputDefined=function(){return!1},dv.prototype.serialize=function(){return null},Oe("FormatSectionOverride",dv,{omit:["defaultValue"]});var T4=function(R){function D(V){R.call(this,V,Jg)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(re,ve){if(R.prototype.recalculate.call(this,re,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var we=this.layout.get("text-writing-mode");if(we){for(var Re=[],Ke=0,ut=we;Ke<ut.length;Ke+=1){var wt=ut[Ke];Re.indexOf(wt)<0&&Re.push(wt)}this.layout._values["text-writing-mode"]=Re}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(re,ve,we,Re){var Ke=this.layout.get(re).evaluate(ve,{},we,Re),ut=this._unevaluatedLayout._values[re];return!ut.isDataDriven()&&!yu(ut.value)&&Ke?x4(ve.properties,Ke):Ke},D.prototype.createBucket=function(re){return new gi(re)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var re=0,ve=Jg.paint.overridableProperties;re<ve.length;re+=1){var we=ve[re];if(D.hasPaintOverride(this.layout,we)){var Re=this.paint.get(we),Ke=new dv(Re),ut=new Zs(Ke,Re.property.specification),wt=null;Re.value.kind==="constant"||Re.value.kind==="source"?wt=new Vi("source",ut):wt=new ds("composite",ut,Re.value.zoomStops,Re.value._interpolationType),this.paint._values[we]=new bi(Re.property,wt,Re.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(re,ve,we){return!this.layout||ve.isDataDriven()||we.isDataDriven()?!1:D.hasPaintOverride(this.layout,re)},D.hasPaintOverride=function(re,ve){var we=re.get("text-field"),Re=Jg.paint.properties[ve],Ke=!1,ut=function(Wt){for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var mr=qt[nr];if(Re.overrides&&Re.overrides.hasOverride(mr)){Ke=!0;return}}};if(we.value.kind==="constant"&&we.value.value instanceof ji)ut(we.value.value.sections);else if(we.value.kind==="source"){var wt=function(Wt){if(!Ke)if(Wt instanceof zi&&Ii(Wt.value)===pa){var nr=Wt.value;ut(nr.sections)}else Wt instanceof ro?ut(Wt.sections):Wt.eachChild(wt)},Ct=we.value;Ct._styleExpression&&wt(Ct._styleExpression.expression)}return Ke},D}(Fi),A4=new ui({"background-color":new ua(br.paint_background["background-color"]),"background-pattern":new Fo(br.paint_background["background-pattern"]),"background-opacity":new ua(br.paint_background["background-opacity"])}),M4={paint:A4},S4=function(R){function D(V){R.call(this,V,M4)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Fi),E4=new ui({"raster-opacity":new ua(br.paint_raster["raster-opacity"]),"raster-hue-rotate":new ua(br.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ua(br.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ua(br.paint_raster["raster-brightness-max"]),"raster-saturation":new ua(br.paint_raster["raster-saturation"]),"raster-contrast":new ua(br.paint_raster["raster-contrast"]),"raster-resampling":new ua(br.paint_raster["raster-resampling"]),"raster-fade-duration":new ua(br.paint_raster["raster-fade-duration"])}),C4={paint:E4},L4=function(R){function D(V){R.call(this,V,C4)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Fi);function P4(R){var D=[],V=R.id;return V===void 0&&D.push({message:"layers."+V+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+V+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+V+': property "renderingMode" must be either "2d" or "3d"'}),D}var R4=function(R){function D(V){R.call(this,V,{}),this.implementation=V}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(re){this.implementation.onAdd&&this.implementation.onAdd(re,re.painter.context.gl)},D.prototype.onRemove=function(re){this.implementation.onRemove&&this.implementation.onRemove(re,re.painter.context.gl)},D}(Fi),D4={circle:e5,heatmap:a5,hillshade:s5,fill:k5,"fill-extrusion":eA,line:gA,symbol:T4,background:S4,raster:L4};function I4(R){return R.type==="custom"?new R4(R):new D4[R.type](R)}var Bx=o.HTMLImageElement,Nx=o.HTMLCanvasElement,Ux=o.HTMLVideoElement,Hx=o.ImageData,Up=o.ImageBitmap,Lh=function(D,V,re,ve){this.context=D,this.format=re,this.texture=D.gl.createTexture(),this.update(V,ve)};Lh.prototype.update=function(D,V,re){var ve=D.width,we=D.height,Re=(!this.size||this.size[0]!==ve||this.size[1]!==we)&&!re,Ke=this,ut=Ke.context,wt=ut.gl;if(this.useMipmap=!!(V&&V.useMipmap),wt.bindTexture(wt.TEXTURE_2D,this.texture),ut.pixelStoreUnpackFlipY.set(!1),ut.pixelStoreUnpack.set(1),ut.pixelStoreUnpackPremultiplyAlpha.set(this.format===wt.RGBA&&(!V||V.premultiply!==!1)),Re)this.size=[ve,we],D instanceof Bx||D instanceof Nx||D instanceof Ux||D instanceof Hx||Up&&D instanceof Up?wt.texImage2D(wt.TEXTURE_2D,0,this.format,this.format,wt.UNSIGNED_BYTE,D):wt.texImage2D(wt.TEXTURE_2D,0,this.format,ve,we,0,this.format,wt.UNSIGNED_BYTE,D.data);else{var Ct=re||{x:0,y:0},Wt=Ct.x,nr=Ct.y;D instanceof Bx||D instanceof Nx||D instanceof Ux||D instanceof Hx||Up&&D instanceof Up?wt.texSubImage2D(wt.TEXTURE_2D,0,Wt,nr,wt.RGBA,wt.UNSIGNED_BYTE,D):wt.texSubImage2D(wt.TEXTURE_2D,0,Wt,nr,ve,we,wt.RGBA,wt.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&wt.generateMipmap(wt.TEXTURE_2D)},Lh.prototype.bind=function(D,V,re){var ve=this,we=ve.context,Re=we.gl;Re.bindTexture(Re.TEXTURE_2D,this.texture),re===Re.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(re=Re.LINEAR),D!==this.filter&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MAG_FILTER,D),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MIN_FILTER,re||D),this.filter=D),V!==this.wrap&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_S,V),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_T,V),this.wrap=V)},Lh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Lh.prototype.destroy=function(){var D=this.context,V=D.gl;V.deleteTexture(this.texture),this.texture=null};var Qg=function(D){var V=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){V._triggered=!1,V._callback()})};Qg.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},Qg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var pv=function(D,V,re){this.target=D,this.parent=V,this.mapId=re,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new Qg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=$()?D:o};pv.prototype.send=function(D,V,re,ve,we){var Re=this;we===void 0&&(we=!1);var Ke=Math.round(Math.random()*1e18).toString(36).substring(0,10);re&&(this.callbacks[Ke]=re);var ut=ce(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:D,hasCallback:!!re,targetMapId:ve,mustQueue:we,sourceMapId:this.mapId,data:Et(V,ut)},ut),{cancel:function(){re&&delete Re.callbacks[Ke],Re.target.postMessage({id:Ke,type:"<cancel>",targetMapId:ve,sourceMapId:Re.mapId})}}},pv.prototype.receive=function(D){var V=D.data,re=V.id;if(re&&!(V.targetMapId&&this.mapId!==V.targetMapId))if(V.type==="<cancel>"){delete this.tasks[re];var ve=this.cancelCallbacks[re];delete this.cancelCallbacks[re],ve&&ve()}else $()||V.mustQueue?(this.tasks[re]=V,this.taskQueue.push(re),this.invoker.trigger()):this.processTask(re,V)},pv.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),V=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),V&&this.processTask(D,V)}},pv.prototype.processTask=function(D,V){var re=this;if(V.type==="<response>"){var ve=this.callbacks[D];delete this.callbacks[D],ve&&(V.error?ve(bt(V.error)):ve(null,bt(V.data)))}else{var we=!1,Re=ce(this.globalScope)?void 0:[],Ke=V.hasCallback?function(nr,qt){we=!0,delete re.cancelCallbacks[D],re.target.postMessage({id:D,type:"<response>",sourceMapId:re.mapId,error:nr?Et(nr):null,data:Et(qt,Re)},Re)}:function(nr){we=!0},ut=null,wt=bt(V.data);if(this.parent[V.type])ut=this.parent[V.type](V.sourceMapId,wt,Ke);else if(this.parent.getWorkerSource){var Ct=V.type.split("."),Wt=this.parent.getWorkerSource(V.sourceMapId,Ct[0],wt.source);ut=Wt[Ct[1]](wt,Ke)}else Ke(new Error("Could not find function "+V.type));!we&&ut&&ut.cancel&&(this.cancelCallbacks[D]=ut.cancel)}},pv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function k4(R,D,V){D=Math.pow(2,V)-D-1;var re=Vx(R*256,D*256,V),ve=Vx((R+1)*256,(D+1)*256,V);return re[0]+","+re[1]+","+ve[0]+","+ve[1]}function Vx(R,D,V){var re=2*Math.PI*6378137/256/Math.pow(2,V),ve=R*re-2*Math.PI*6378137/2,we=D*re-2*Math.PI*6378137/2;return[ve,we]}var so=function(D,V){D&&(V?this.setSouthWest(D).setNorthEast(V):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};so.prototype.setNorthEast=function(D){return this._ne=D instanceof Ri?new Ri(D.lng,D.lat):Ri.convert(D),this},so.prototype.setSouthWest=function(D){return this._sw=D instanceof Ri?new Ri(D.lng,D.lat):Ri.convert(D),this},so.prototype.extend=function(D){var V=this._sw,re=this._ne,ve,we;if(D instanceof Ri)ve=D,we=D;else if(D instanceof so){if(ve=D._sw,we=D._ne,!ve||!we)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Re=D;return this.extend(so.convert(Re))}else{var Ke=D;return this.extend(Ri.convert(Ke))}return this}return!V&&!re?(this._sw=new Ri(ve.lng,ve.lat),this._ne=new Ri(we.lng,we.lat)):(V.lng=Math.min(ve.lng,V.lng),V.lat=Math.min(ve.lat,V.lat),re.lng=Math.max(we.lng,re.lng),re.lat=Math.max(we.lat,re.lat)),this},so.prototype.getCenter=function(){return new Ri((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},so.prototype.getSouthWest=function(){return this._sw},so.prototype.getNorthEast=function(){return this._ne},so.prototype.getNorthWest=function(){return new Ri(this.getWest(),this.getNorth())},so.prototype.getSouthEast=function(){return new Ri(this.getEast(),this.getSouth())},so.prototype.getWest=function(){return this._sw.lng},so.prototype.getSouth=function(){return this._sw.lat},so.prototype.getEast=function(){return this._ne.lng},so.prototype.getNorth=function(){return this._ne.lat},so.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},so.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},so.prototype.isEmpty=function(){return!(this._sw&&this._ne)},so.prototype.contains=function(D){var V=Ri.convert(D),re=V.lng,ve=V.lat,we=this._sw.lat<=ve&&ve<=this._ne.lat,Re=this._sw.lng<=re&&re<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Re=this._sw.lng>=re&&re>=this._ne.lng),we&&Re},so.convert=function(D){return!D||D instanceof so?D:new so(D)};var Gx=63710088e-1,Ri=function(D,V){if(isNaN(D)||isNaN(V))throw new Error("Invalid LngLat object: ("+D+", "+V+")");if(this.lng=+D,this.lat=+V,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ri.prototype.wrap=function(){return new Ri(T(this.lng,-180,180),this.lat)},Ri.prototype.toArray=function(){return[this.lng,this.lat]},Ri.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ri.prototype.distanceTo=function(D){var V=Math.PI/180,re=this.lat*V,ve=D.lat*V,we=Math.sin(re)*Math.sin(ve)+Math.cos(re)*Math.cos(ve)*Math.cos((D.lng-this.lng)*V),Re=Gx*Math.acos(Math.min(we,1));return Re},Ri.prototype.toBounds=function(D){D===void 0&&(D=0);var V=40075017,re=360*D/V,ve=re/Math.cos(Math.PI/180*this.lat);return new so(new Ri(this.lng-ve,this.lat-re),new Ri(this.lng+ve,this.lat+re))},Ri.convert=function(D){if(D instanceof Ri)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Ri(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Ri(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Wx=2*Math.PI*Gx;function Yx(R){return Wx*Math.cos(R*Math.PI/180)}function Zx(R){return(180+R)/360}function Xx(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function jx(R,D){return R/Yx(D)}function _4(R){return R*360-180}function $g(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function z4(R,D){return R*Yx($g(D))}function O4(R){return 1/Math.cos(R*Math.PI/180)}var Ph=function(D,V,re){re===void 0&&(re=0),this.x=+D,this.y=+V,this.z=+re};Ph.fromLngLat=function(D,V){V===void 0&&(V=0);var re=Ri.convert(D);return new Ph(Zx(re.lng),Xx(re.lat),jx(V,re.lat))},Ph.prototype.toLngLat=function(){return new Ri(_4(this.x),$g(this.y))},Ph.prototype.toAltitude=function(){return z4(this.z,this.y)},Ph.prototype.meterInMercatorCoordinateUnits=function(){return 1/Wx*O4($g(this.y))};var Rh=function(D,V,re){this.z=D,this.x=V,this.y=re,this.key=yd(0,D,D,V,re)};Rh.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Rh.prototype.url=function(D,V){var re=k4(this.x,this.y,this.z),ve=F4(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(V==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",re)},Rh.prototype.getTilePoint=function(D){var V=Math.pow(2,this.z);return new r((D.x*V-this.x)*Ma,(D.y*V-this.y)*Ma)},Rh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Kx=function(D,V){this.wrap=D,this.canonical=V,this.key=yd(D,V.z,V.z,V.x,V.y)},lo=function(D,V,re,ve,we){this.overscaledZ=D,this.wrap=V,this.canonical=new Rh(re,+ve,+we),this.key=yd(V,D,re,ve,we)};lo.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},lo.prototype.scaledTo=function(D){var V=this.canonical.z-D;return D>this.canonical.z?new lo(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new lo(D,this.wrap,D,this.canonical.x>>V,this.canonical.y>>V)},lo.prototype.calculateScaledKey=function(D,V){var re=this.canonical.z-D;return D>this.canonical.z?yd(this.wrap*+V,D,this.canonical.z,this.canonical.x,this.canonical.y):yd(this.wrap*+V,D,D,this.canonical.x>>re,this.canonical.y>>re)},lo.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var V=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>V&&D.canonical.y===this.canonical.y>>V},lo.prototype.children=function(D){if(this.overscaledZ>=D)return[new lo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var V=this.canonical.z+1,re=this.canonical.x*2,ve=this.canonical.y*2;return[new lo(V,this.wrap,V,re,ve),new lo(V,this.wrap,V,re+1,ve),new lo(V,this.wrap,V,re,ve+1),new lo(V,this.wrap,V,re+1,ve+1)]},lo.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},lo.prototype.wrapped=function(){return new lo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},lo.prototype.unwrapTo=function(D){return new lo(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},lo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},lo.prototype.toUnwrapped=function(){return new Kx(this.wrap,this.canonical)},lo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},lo.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Ph(D.x-this.wrap,D.y))};function yd(R,D,V,re,ve){R*=2,R<0&&(R=R*-1-1);var we=1<<V;return(we*we*R+we*ve+re).toString(36)+V.toString(36)+D.toString(36)}function F4(R,D,V){for(var re="",ve,we=R;we>0;we--)ve=1<<we-1,re+=(D&ve?1:0)+(V&ve?2:0);return re}Oe("CanonicalTileID",Rh),Oe("OverscaledTileID",lo,{omit:["posMatrix"]});var Ff=function(D,V,re){if(this.uid=D,V.height!==V.width)throw new RangeError("DEM tiles must be square");if(re&&re!=="mapbox"&&re!=="terrarium")return B('"'+re+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=V.height;var ve=this.dim=V.height-2;this.data=new Uint32Array(V.data.buffer),this.encoding=re||"mapbox";for(var we=0;we<ve;we++)this.data[this._idx(-1,we)]=this.data[this._idx(0,we)],this.data[this._idx(ve,we)]=this.data[this._idx(ve-1,we)],this.data[this._idx(we,-1)]=this.data[this._idx(we,0)],this.data[this._idx(we,ve)]=this.data[this._idx(we,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};Ff.prototype.get=function(D,V){var re=new Uint8Array(this.data.buffer),ve=this._idx(D,V)*4,we=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return we(re[ve],re[ve+1],re[ve+2])},Ff.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Ff.prototype._idx=function(D,V){if(D<-1||D>=this.dim+1||V<-1||V>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(V+1)*this.stride+(D+1)},Ff.prototype._unpackMapbox=function(D,V,re){return(D*256*256+V*256+re)/10-1e4},Ff.prototype._unpackTerrarium=function(D,V,re){return D*256+V+re/256-32768},Ff.prototype.getPixels=function(){return new bs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ff.prototype.backfillBorder=function(D,V,re){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ve=V*this.dim,we=V*this.dim+this.dim,Re=re*this.dim,Ke=re*this.dim+this.dim;switch(V){case-1:ve=we-1;break;case 1:we=ve+1;break}switch(re){case-1:Re=Ke-1;break;case 1:Ke=Re+1;break}for(var ut=-V*this.dim,wt=-re*this.dim,Ct=Re;Ct<Ke;Ct++)for(var Wt=ve;Wt<we;Wt++)this.data[this._idx(Wt,Ct)]=D.data[this._idx(Wt+ut,Ct+wt)]},Oe("DEMData",Ff);function B4(R,D){var V={};if(!D)return V;for(var re=function(){var Re=we[ve],Ke=Re.layerIds.map(function(Wt){return D.getLayer(Wt)}).filter(Boolean);if(Ke.length!==0){Re.layers=Ke,Re.stateDependentLayerIds&&(Re.stateDependentLayers=Re.stateDependentLayerIds.map(function(Wt){return Ke.filter(function(nr){return nr.id===Wt})[0]}));for(var ut=0,wt=Ke;ut<wt.length;ut+=1){var Ct=wt[ut];V[Ct.id]=Re}}},ve=0,we=R;ve<we.length;ve+=1)re();return V}var Hp=function(D){this._stringToNumber={},this._numberToString=[];for(var V=0;V<D.length;V++){var re=D[V];this._stringToNumber[re]=V,this._numberToString[V]=re}};Hp.prototype.encode=function(D){return this._stringToNumber[D]},Hp.prototype.decode=function(D){return this._numberToString[D]};var Vp=function(D,V,re,ve,we){this.type="Feature",this._vectorTileFeature=D,D._z=V,D._x=re,D._y=ve,this.properties=D.properties,this.id=we},qg={geometry:{configurable:!0}};qg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},qg.geometry.set=function(R){this._geometry=R},Vp.prototype.toJSON=function(){var D={geometry:this.geometry};for(var V in this)V==="_geometry"||V==="_vectorTileFeature"||(D[V]=this[V]);return D},Object.defineProperties(Vp.prototype,qg);var gv=function(){this.state={},this.stateChanges={},this.deletedStates={}};gv.prototype.updateState=function(D,V,re){var ve=String(V);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ve]=this.stateChanges[D][ve]||{},A(this.stateChanges[D][ve],re),this.deletedStates[D]===null){this.deletedStates[D]={};for(var we in this.state[D])we!==ve&&(this.deletedStates[D][we]=null)}else{var Re=this.deletedStates[D]&&this.deletedStates[D][ve]===null;if(Re){this.deletedStates[D][ve]={};for(var Ke in this.state[D][ve])re[Ke]||(this.deletedStates[D][ve][Ke]=null)}else for(var ut in re){var wt=this.deletedStates[D]&&this.deletedStates[D][ve]&&this.deletedStates[D][ve][ut]===null;wt&&delete this.deletedStates[D][ve][ut]}}},gv.prototype.removeFeatureState=function(D,V,re){var ve=this.deletedStates[D]===null;if(!ve){var we=String(V);if(this.deletedStates[D]=this.deletedStates[D]||{},re&&V!==void 0)this.deletedStates[D][we]!==null&&(this.deletedStates[D][we]=this.deletedStates[D][we]||{},this.deletedStates[D][we][re]=null);else if(V!==void 0){var Re=this.stateChanges[D]&&this.stateChanges[D][we];if(Re){this.deletedStates[D][we]={};for(re in this.stateChanges[D][we])this.deletedStates[D][we][re]=null}else this.deletedStates[D][we]=null}else this.deletedStates[D]=null}},gv.prototype.getState=function(D,V){var re=String(V),ve=this.state[D]||{},we=this.stateChanges[D]||{},Re=A({},ve[re],we[re]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Ke=this.deletedStates[D][V];if(Ke===null)return{};for(var ut in Ke)delete Re[ut]}return Re},gv.prototype.initializeTileState=function(D,V){D.setFeatureState(this.state,V)},gv.prototype.coalesceChanges=function(D,V){var re={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var we={};for(var Re in this.stateChanges[ve])this.state[ve][Re]||(this.state[ve][Re]={}),A(this.state[ve][Re],this.stateChanges[ve][Re]),we[Re]=this.state[ve][Re];re[ve]=we}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var ut={};if(this.deletedStates[Ke]===null)for(var wt in this.state[Ke])ut[wt]={},this.state[Ke][wt]={};else for(var Ct in this.deletedStates[Ke]){var Wt=this.deletedStates[Ke][Ct]===null;if(Wt)this.state[Ke][Ct]={};else for(var nr=0,qt=Object.keys(this.deletedStates[Ke][Ct]);nr<qt.length;nr+=1){var mr=qt[nr];delete this.state[Ke][Ct][mr]}ut[Ct]=this.state[Ke][Ct]}re[Ke]=re[Ke]||{},A(re[Ke],ut)}if(this.stateChanges={},this.deletedStates={},Object.keys(re).length!==0)for(var Or in D){var sn=D[Or];sn.setFeatureState(re,V)}};var Bf=function(D,V){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new za(Ma,16,0),this.grid3D=new za(Ma,16,0),this.featureIndexArray=new Ap,this.promoteId=V};Bf.prototype.insert=function(D,V,re,ve,we,Re){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(re,ve,we);for(var ut=Re?this.grid3D:this.grid,wt=0;wt<V.length;wt++){for(var Ct=V[wt],Wt=[1/0,1/0,-1/0,-1/0],nr=0;nr<Ct.length;nr++){var qt=Ct[nr];Wt[0]=Math.min(Wt[0],qt.x),Wt[1]=Math.min(Wt[1],qt.y),Wt[2]=Math.max(Wt[2],qt.x),Wt[3]=Math.max(Wt[3],qt.y)}Wt[0]<Ma&&Wt[1]<Ma&&Wt[2]>=0&&Wt[3]>=0&&ut.insert(Ke,Wt[0],Wt[1],Wt[2],Wt[3])}},Bf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new av.VectorTile(new Dp(this.rawTileData)).layers,this.sourceLayerCoder=new Hp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Bf.prototype.query=function(D,V,re,ve){var we=this;this.loadVTLayers();for(var Re=D.params||{},Ke=Ma/D.tileSize/D.scale,ut=Ks(Re.filter),wt=D.queryGeometry,Ct=D.queryPadding*Ke,Wt=Qx(wt),nr=this.grid.query(Wt.minX-Ct,Wt.minY-Ct,Wt.maxX+Ct,Wt.maxY+Ct),qt=Qx(D.cameraQueryGeometry),mr=this.grid3D.query(qt.minX-Ct,qt.minY-Ct,qt.maxX+Ct,qt.maxY+Ct,function(Vn,ia,ra,wa){return Jl(D.cameraQueryGeometry,Vn-Ct,ia-Ct,ra+Ct,wa+Ct)}),Or=0,sn=mr;Or<sn.length;Or+=1){var qr=sn[Or];nr.push(qr)}nr.sort(N4);for(var Sn={},yn,An=function(Vn){var ia=nr[Vn];if(ia!==yn){yn=ia;var ra=we.featureIndexArray.get(ia),wa=null;we.loadMatchingFeature(Sn,ra.bucketIndex,ra.sourceLayerIndex,ra.featureIndex,ut,Re.layers,Re.availableImages,V,re,ve,function(da,xa,Ba){return wa||(wa=qa(da)),xa.queryIntersectsFeature(wt,da,Ba,wa,we.z,D.transform,Ke,D.pixelPosMatrix)})}},In=0;In<nr.length;In++)An(In);return Sn},Bf.prototype.loadMatchingFeature=function(D,V,re,ve,we,Re,Ke,ut,wt,Ct,Wt){var nr=this.bucketLayerIDs[V];if(!(Re&&!z(Re,nr))){var qt=this.sourceLayerCoder.decode(re),mr=this.vtLayers[qt],Or=mr.feature(ve);if(we.needGeometry){var sn=Ti(Or,!0);if(!we.filter(new Aa(this.tileID.overscaledZ),sn,this.tileID.canonical))return}else if(!we.filter(new Aa(this.tileID.overscaledZ),Or))return;for(var qr=this.getId(Or,qt),Sn=0;Sn<nr.length;Sn++){var yn=nr[Sn];if(!(Re&&Re.indexOf(yn)<0)){var An=ut[yn];if(An){var In={};qr!==void 0&&Ct&&(In=Ct.getState(An.sourceLayer||"_geojsonTileLayer",qr));var Vn=A({},wt[yn]);Vn.paint=Jx(Vn.paint,An.paint,Or,In,Ke),Vn.layout=Jx(Vn.layout,An.layout,Or,In,Ke);var ia=!Wt||Wt(Or,An,In);if(ia){var ra=new Vp(Or,this.z,this.x,this.y,qr);ra.layer=Vn;var wa=D[yn];wa===void 0&&(wa=D[yn]=[]),wa.push({featureIndex:ve,feature:ra,intersectionZ:ia})}}}}}},Bf.prototype.lookupSymbolFeatures=function(D,V,re,ve,we,Re,Ke,ut){var wt={};this.loadVTLayers();for(var Ct=Ks(we),Wt=0,nr=D;Wt<nr.length;Wt+=1){var qt=nr[Wt];this.loadMatchingFeature(wt,re,ve,qt,Ct,Re,Ke,ut,V)}return wt},Bf.prototype.hasLayer=function(D){for(var V=0,re=this.bucketLayerIDs;V<re.length;V+=1)for(var ve=re[V],we=0,Re=ve;we<Re.length;we+=1){var Ke=Re[we];if(D===Ke)return!0}return!1},Bf.prototype.getId=function(D,V){var re=D.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[V];re=D.properties[ve],typeof re=="boolean"&&(re=Number(re))}return re},Oe("FeatureIndex",Bf,{omit:["rawTileData","sourceLayerCoder"]});function Jx(R,D,V,re,ve){return k(R,function(we,Re){var Ke=D instanceof po?D.get(Re):null;return Ke&&Ke.evaluate?Ke.evaluate(V,re,ve):Ke})}function Qx(R){for(var D=1/0,V=1/0,re=-1/0,ve=-1/0,we=0,Re=R;we<Re.length;we+=1){var Ke=Re[we];D=Math.min(D,Ke.x),V=Math.min(V,Ke.y),re=Math.max(re,Ke.x),ve=Math.max(ve,Ke.y)}return{minX:D,minY:V,maxX:re,maxY:ve}}function N4(R,D){return D-R}var U4=3e4,To=function(D,V){this.tileID=D,this.uid=b(),this.uses=0,this.tileSize=V,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};To.prototype.registerFadeDuration=function(D){var V=D+this.timeAdded;V<se.now()||this.fadeEndTime&&V<this.fadeEndTime||(this.fadeEndTime=V)},To.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},To.prototype.loadVectorData=function(D,V,re){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new td;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=B4(D.buckets,V.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var we=this.buckets[ve];if(we instanceof gi)if(this.hasSymbolBuckets=!0,re)we.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Re in this.buckets){var Ke=this.buckets[Re];if(Ke instanceof gi&&Ke.hasRTLText){this.hasRTLText=!0,Na();break}}this.queryPadding=0;for(var ut in this.buckets){var wt=this.buckets[ut];this.queryPadding=Math.max(this.queryPadding,V.style.getLayer(ut).queryRadius(wt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},To.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},To.prototype.getBucket=function(D){return this.buckets[D.id]},To.prototype.upload=function(D){for(var V in this.buckets){var re=this.buckets[V];re.uploadPending()&&re.upload(D)}var ve=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Lh(D,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Lh(D,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},To.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},To.prototype.queryRenderedFeatures=function(D,V,re,ve,we,Re,Ke,ut,wt,Ct){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:we,scale:Re,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:ut,params:Ke,queryPadding:this.queryPadding*wt},D,V,re)},To.prototype.querySourceFeatures=function(D,V){var re=this.latestFeatureIndex;if(!(!re||!re.rawTileData)){var ve=re.loadVTLayers(),we=V?V.sourceLayer:"",Re=ve._geojsonTileLayer||ve[we];if(Re)for(var Ke=Ks(V&&V.filter),ut=this.tileID.canonical,wt=ut.z,Ct=ut.x,Wt=ut.y,nr={z:wt,x:Ct,y:Wt},qt=0;qt<Re.length;qt++){var mr=Re.feature(qt);if(Ke.needGeometry){var Or=Ti(mr,!0);if(!Ke.filter(new Aa(this.tileID.overscaledZ),Or,this.tileID.canonical))continue}else if(!Ke.filter(new Aa(this.tileID.overscaledZ),mr))continue;var sn=re.getId(mr,we),qr=new Vp(mr,wt,Ct,Wt,sn);qr.tile=nr,D.push(qr)}}},To.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},To.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},To.prototype.setExpiryData=function(D){var V=this.expirationTime;if(D.cacheControl){var re=te(D.cacheControl);re["max-age"]&&(this.expirationTime=Date.now()+re["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ve=Date.now(),we=!1;if(this.expirationTime>ve)we=!1;else if(!V)we=!0;else if(this.expirationTime<V)we=!0;else{var Re=this.expirationTime-V;Re?this.expirationTime=ve+Math.max(Re,U4):we=!0}we?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},To.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},To.prototype.setFeatureState=function(D,V){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var re=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(V.style.hasLayer(ve)){var we=this.buckets[ve],Re=we.layers[0].sourceLayer||"_geojsonTileLayer",Ke=re[Re],ut=D[Re];if(!(!Ke||!ut||Object.keys(ut).length===0)){we.update(ut,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var wt=V&&V.style&&V.style.getLayer(ve);wt&&(this.queryPadding=Math.max(this.queryPadding,wt.queryRadius(we)))}}}},To.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},To.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},To.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},To.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},To.prototype.setDependencies=function(D,V){for(var re={},ve=0,we=V;ve<we.length;ve+=1){var Re=we[ve];re[Re]=!0}this.dependencies[D]=re},To.prototype.hasDependency=function(D,V){for(var re=0,ve=D;re<ve.length;re+=1){var we=ve[re],Re=this.dependencies[we];if(Re)for(var Ke=0,ut=V;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(Re[wt])return!0}}return!1};var H4=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Dc=o.performance,$x=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},Dc.mark(this._marks.start)};$x.prototype.finish=function(){Dc.mark(this._marks.end);var D=Dc.getEntriesByName(this._marks.measure);return D.length===0&&(Dc.measure(this._marks.measure,this._marks.start,this._marks.end),D=Dc.getEntriesByName(this._marks.measure),Dc.clearMarks(this._marks.start),Dc.clearMarks(this._marks.end),Dc.clearMeasures(this._marks.measure)),D},a.Actor=pv,a.AlphaImage=Ch,a.CanonicalTileID=Rh,a.CollisionBoxArray=td,a.Color=$a,a.DEMData=Ff,a.DataConstantProperty=ua,a.DictionaryCoder=Hp,a.EXTENT=Ma,a.ErrorEvent=Ot,a.EvaluationParameters=Aa,a.Event=er,a.Evented=vr,a.FeatureIndex=Bf,a.FillBucket=Lu,a.FillExtrusionBucket=Pu,a.ImageAtlas=vd,a.ImagePosition=kp,a.LineBucket=ns,a.LngLat=Ri,a.LngLatBounds=so,a.MercatorCoordinate=Ph,a.ONE_EM=Io,a.OverscaledTileID=lo,a.Point=r,a.Point$1=r,a.Properties=ui,a.Protobuf=Dp,a.RGBAImage=bs,a.RequestManager=Ne,a.RequestPerformance=$x,a.ResourceType=gr,a.SegmentVector=io,a.SourceFeatureState=gv,a.StructArrayLayout1ui2=Ac,a.StructArrayLayout2f1f2i16=Su,a.StructArrayLayout2i4=If,a.StructArrayLayout3ui6=Eu,a.StructArrayLayout4i8=Qv,a.SymbolBucket=gi,a.Texture=Lh,a.Tile=To,a.Transitionable=ni,a.Uniform1f=Zr,a.Uniform1i=_r,a.Uniform2f=Yr,a.Uniform3f=Vr,a.Uniform4f=Kr,a.UniformColor=un,a.UniformMatrix4f=zn,a.UnwrappedTileID=Kx,a.ValidationError=zr,a.WritingMode=$s,a.ZoomHistory=Ht,a.add=tv,a.addDynamicAttributes=Kg,a.asyncAll=h,a.bezier=l,a.bindAll=E,a.browser=se,a.cacheEntryPossiblyAdded=zt,a.clamp=f,a.clearTileCache=wr,a.clipLine=Ix,a.clone=$h,a.clone$1=U,a.clone$2=Pg,a.collisionCircleLayout=wA,a.config=ne,a.create=Qh,a.create$1=Ho,a.create$2=Jh,a.createCommonjsModule=L,a.createExpression=Xs,a.createLayout=Li,a.createStyleLayer=I4,a.cross=YT,a.deepEqual=n,a.dot=WT,a.dot$1=JT,a.ease=g,a.emitValidationErrors=Da,a.endsWith=m,a.enforceCacheSizeLimit=$t,a.evaluateSizeForFeature=Sx,a.evaluateSizeForZoom=Ex,a.evaluateVariableOffset=zx,a.evented=Sa,a.extend=A,a.featureFilter=Ks,a.filterObject=I,a.fromRotation=Ec,a.getAnchorAlignment=Yg,a.getAnchorJustification=jg,a.getArrayBuffer=Bt,a.getImage=It,a.getJSON=Lt,a.getRTLTextPluginStatus=ka,a.getReferrer=vt,a.getVideo=Zt,a.identity=qh,a.invert=Cc,a.isChar=Gt,a.isMapboxURL=He,a.keysDifference=d,a.makeRequest=Dt,a.mapObject=k,a.mercatorXfromLng=Zx,a.mercatorYfromLat=Xx,a.mercatorZfromAltitude=jx,a.mul=Lg,a.multiply=Lc,a.mvt=av,a.nextPowerOfTwo=x,a.normalize=ad,a.number=Pi,a.offscreenCanvasSupported=Qt,a.ortho=Cg,a.parseGlyphPBF=jA,a.pbf=Dp,a.performSymbolLayout=h4,a.perspective=nd,a.pick=w,a.plugin=Qn,a.polygonIntersectsPolygon=Ha,a.postMapLoadEvent=Fe,a.postTurnstileEvent=Ge,a.potpack=yx,a.refProperties=H4,a.register=Oe,a.registerForPluginStateChange=ri,a.renderColorRamp=Km,a.rotate=Sh,a.rotateX=xs,a.rotateZ=ev,a.scale=ms,a.scale$1=KT,a.scale$2=Dg,a.setCacheLimits=yt,a.setRTLTextPlugin=Oi,a.sphericalToCartesian=Y,a.sqrLen=qT,a.styleSpec=br,a.sub=XT,a.symbolSize=n4,a.transformMat3=ZT,a.transformMat4=Sp,a.translate=Wi,a.triggerPluginCompletionEvent=ha,a.uniqueId=b,a.validateCustomStyleLayer=P4,a.validateLight=Xn,a.validateStyle=Ln,a.values=s,a.vectorTile=av,a.version=M,a.warnOnce=B,a.webpSupported=fe,a.window=o,a.wrap=T}),P(["./shared"],function(a){function L(vt){var it=typeof vt;if(it==="number"||it==="boolean"||it==="string"||vt===void 0||vt===null)return JSON.stringify(vt);if(Array.isArray(vt)){for(var xt="[",Mt=0,Dt=vt;Mt<Dt.length;Mt+=1){var Lt=Dt[Mt];xt+=L(Lt)+","}return xt+"]"}for(var Bt=Object.keys(vt).sort(),Nt="{",jt=0;jt<Bt.length;jt++)Nt+=JSON.stringify(Bt[jt])+":"+L(vt[Bt[jt]])+",";return Nt+"}"}function M(vt){for(var it="",xt=0,Mt=a.refProperties;xt<Mt.length;xt+=1){var Dt=Mt[xt];it+="/"+L(vt[Dt])}return it}function v(vt,it){for(var xt={},Mt=0;Mt<vt.length;Mt++){var Dt=it&&it[vt[Mt].id]||M(vt[Mt]);it&&(it[vt[Mt].id]=Dt);var Lt=xt[Dt];Lt||(Lt=xt[Dt]=[]),Lt.push(vt[Mt])}var Bt=[];for(var Nt in xt)Bt.push(xt[Nt]);return Bt}var p=function(it){this.keyCache={},it&&this.replace(it)};p.prototype.replace=function(it){this._layerConfigs={},this._layers={},this.update(it,[])},p.prototype.update=function(it,xt){for(var Mt=this,Dt=0,Lt=it;Dt<Lt.length;Dt+=1){var Bt=Lt[Dt];this._layerConfigs[Bt.id]=Bt;var Nt=this._layers[Bt.id]=a.createStyleLayer(Bt);Nt._featureFilter=a.featureFilter(Nt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var jt=0,lr=xt;jt<lr.length;jt+=1){var fr=lr[jt];delete this.keyCache[fr],delete this._layerConfigs[fr],delete this._layers[fr]}this.familiesBySource={};for(var hr=v(a.values(this._layerConfigs),this.keyCache),Ye=0,We=hr;Ye<We.length;Ye+=1){var kt=We[Ye],It=kt.map(function(vr){return Mt._layers[vr.id]}),Zt=It[0];if(Zt.visibility!=="none"){var rr=Zt.source||"",ur=this.familiesBySource[rr];ur||(ur=this.familiesBySource[rr]={});var er=Zt.sourceLayer||"_geojsonTileLayer",Ot=ur[er];Ot||(Ot=ur[er]=[]),Ot.push(It)}}};var r=1,t=function(it){var xt={},Mt=[];for(var Dt in it){var Lt=it[Dt],Bt=xt[Dt]={};for(var Nt in Lt){var jt=Lt[+Nt];if(!(!jt||jt.bitmap.width===0||jt.bitmap.height===0)){var lr={x:0,y:0,w:jt.bitmap.width+2*r,h:jt.bitmap.height+2*r};Mt.push(lr),Bt[Nt]={rect:lr,metrics:jt.metrics}}}}var fr=a.potpack(Mt),hr=fr.w,Ye=fr.h,We=new a.AlphaImage({width:hr||1,height:Ye||1});for(var kt in it){var It=it[kt];for(var Zt in It){var rr=It[+Zt];if(!(!rr||rr.bitmap.width===0||rr.bitmap.height===0)){var ur=xt[kt][Zt].rect;a.AlphaImage.copy(rr.bitmap,We,{x:0,y:0},{x:ur.x+r,y:ur.y+r},rr.bitmap)}}}this.image=We,this.positions=xt};a.register("GlyphAtlas",t);var o=function(it){this.tileID=new a.OverscaledTileID(it.tileID.overscaledZ,it.tileID.wrap,it.tileID.canonical.z,it.tileID.canonical.x,it.tileID.canonical.y),this.uid=it.uid,this.zoom=it.zoom,this.pixelRatio=it.pixelRatio,this.tileSize=it.tileSize,this.source=it.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=it.showCollisionBoxes,this.collectResourceTiming=!!it.collectResourceTiming,this.returnDependencies=!!it.returnDependencies,this.promoteId=it.promoteId};o.prototype.parse=function(it,xt,Mt,Dt,Lt){var Bt=this;this.status="parsing",this.data=it,this.collisionBoxArray=new a.CollisionBoxArray;var Nt=new a.DictionaryCoder(Object.keys(it.layers).sort()),jt=new a.FeatureIndex(this.tileID,this.promoteId);jt.bucketLayerIDs=[];var lr={},fr={featureIndex:jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Mt},hr=xt.familiesBySource[this.source];for(var Ye in hr){var We=it.layers[Ye];if(We){We.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var kt=Nt.encode(Ye),It=[],Zt=0;Zt<We.length;Zt++){var rr=We.feature(Zt),ur=jt.getId(rr,Ye);It.push({feature:rr,id:ur,index:Zt,sourceLayerIndex:kt})}for(var er=0,Ot=hr[Ye];er<Ot.length;er+=1){var vr=Ot[er],yr=vr[0];if(!(yr.minzoom&&this.zoom<Math.floor(yr.minzoom))&&!(yr.maxzoom&&this.zoom>=yr.maxzoom)&&yr.visibility!=="none"){n(vr,this.zoom,Mt);var pr=lr[yr.id]=yr.createBucket({index:jt.bucketLayerIDs.length,layers:vr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kt,sourceID:this.source});pr.populate(It,fr,this.tileID.canonical),jt.bucketLayerIDs.push(vr.map(function(Mr){return Mr.id}))}}}}var cr,Ur,kr,Rr,hn=a.mapObject(fr.glyphDependencies,function(Mr){return Object.keys(Mr).map(Number)});Object.keys(hn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:hn},function(Mr,Er){cr||(cr=Mr,Ur=Er,mn.call(Bt))}):Ur={};var tn=Object.keys(fr.iconDependencies);tn.length?Dt.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},function(Mr,Er){cr||(cr=Mr,kr=Er,mn.call(Bt))}):kr={};var Fn=Object.keys(fr.patternDependencies);Fn.length?Dt.send("getImages",{icons:Fn,source:this.source,tileID:this.tileID,type:"patterns"},function(Mr,Er){cr||(cr=Mr,Rr=Er,mn.call(Bt))}):Rr={},mn.call(this);function mn(){if(cr)return Lt(cr);if(Ur&&kr&&Rr){var Mr=new t(Ur),Er=new a.ImageAtlas(kr,Rr);for(var Wr in lr){var Hr=lr[Wr];Hr instanceof a.SymbolBucket?(n(Hr.layers,this.zoom,Mt),a.performSymbolLayout(Hr,Ur,Mr.positions,kr,Er.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Hr.hasPattern&&(Hr instanceof a.LineBucket||Hr instanceof a.FillBucket||Hr instanceof a.FillExtrusionBucket)&&(n(Hr.layers,this.zoom,Mt),Hr.addFeatures(fr,this.tileID.canonical,Er.patternPositions))}this.status="done",Lt(null,{buckets:a.values(lr).filter(function(an){return!an.isEmpty()}),featureIndex:jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Mr.image,imageAtlas:Er,glyphMap:this.returnDependencies?Ur:null,iconMap:this.returnDependencies?kr:null,glyphPositions:this.returnDependencies?Mr.positions:null})}}};function n(vt,it,xt){for(var Mt=new a.EvaluationParameters(it),Dt=0,Lt=vt;Dt<Lt.length;Dt+=1){var Bt=Lt[Dt];Bt.recalculate(Mt,xt)}}function c(vt,it){var xt=a.getArrayBuffer(vt.request,function(Mt,Dt,Lt,Bt){Mt?it(Mt):Dt&&it(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Dt)),rawData:Dt,cacheControl:Lt,expires:Bt})});return function(){xt.cancel(),it()}}var u=function(it,xt,Mt,Dt){this.actor=it,this.layerIndex=xt,this.availableImages=Mt,this.loadVectorData=Dt||c,this.loading={},this.loaded={}};u.prototype.loadTile=function(it,xt){var Mt=this,Dt=it.uid;this.loading||(this.loading={});var Lt=it&&it.request&&it.request.collectResourceTiming?new a.RequestPerformance(it.request):!1,Bt=this.loading[Dt]=new o(it);Bt.abort=this.loadVectorData(it,function(Nt,jt){if(delete Mt.loading[Dt],Nt||!jt)return Bt.status="done",Mt.loaded[Dt]=Bt,xt(Nt);var lr=jt.rawData,fr={};jt.expires&&(fr.expires=jt.expires),jt.cacheControl&&(fr.cacheControl=jt.cacheControl);var hr={};if(Lt){var Ye=Lt.finish();Ye&&(hr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Bt.vectorTile=jt.vectorTile,Bt.parse(jt.vectorTile,Mt.layerIndex,Mt.availableImages,Mt.actor,function(We,kt){if(We||!kt)return xt(We);xt(null,a.extend({rawTileData:lr.slice(0)},kt,fr,hr))}),Mt.loaded=Mt.loaded||{},Mt.loaded[Dt]=Bt})},u.prototype.reloadTile=function(it,xt){var Mt=this,Dt=this.loaded,Lt=it.uid,Bt=this;if(Dt&&Dt[Lt]){var Nt=Dt[Lt];Nt.showCollisionBoxes=it.showCollisionBoxes;var jt=function(lr,fr){var hr=Nt.reloadCallback;hr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Bt.layerIndex,Mt.availableImages,Bt.actor,hr)),xt(lr,fr)};Nt.status==="parsing"?Nt.reloadCallback=jt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,jt):jt())}},u.prototype.abortTile=function(it,xt){var Mt=this.loading,Dt=it.uid;Mt&&Mt[Dt]&&Mt[Dt].abort&&(Mt[Dt].abort(),delete Mt[Dt]),xt()},u.prototype.removeTile=function(it,xt){var Mt=this.loaded,Dt=it.uid;Mt&&Mt[Dt]&&delete Mt[Dt],xt()};var l=a.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(it,xt){var Mt=it.uid,Dt=it.encoding,Lt=it.rawImageData,Bt=l&&Lt instanceof l?this.getImageData(Lt):Lt,Nt=new a.DEMData(Mt,Bt,Dt);this.loaded=this.loaded||{},this.loaded[Mt]=Nt,xt(null,Nt)},g.prototype.getImageData=function(it){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(it.width,it.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=it.width,this.offscreenCanvas.height=it.height,this.offscreenCanvasContext.drawImage(it,0,0,it.width,it.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,it.width+2,it.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:xt.width,height:xt.height},xt.data)},g.prototype.removeTile=function(it){var xt=this.loaded,Mt=it.uid;xt&&xt[Mt]&&delete xt[Mt]};var f=T;function T(vt,it){var xt=vt&&vt.type,Mt;if(xt==="FeatureCollection")for(Mt=0;Mt<vt.features.length;Mt++)T(vt.features[Mt],it);else if(xt==="GeometryCollection")for(Mt=0;Mt<vt.geometries.length;Mt++)T(vt.geometries[Mt],it);else if(xt==="Feature")T(vt.geometry,it);else if(xt==="Polygon")h(vt.coordinates,it);else if(xt==="MultiPolygon")for(Mt=0;Mt<vt.coordinates.length;Mt++)h(vt.coordinates[Mt],it);return vt}function h(vt,it){if(vt.length!==0){s(vt[0],it);for(var xt=1;xt<vt.length;xt++)s(vt[xt],!it)}}function s(vt,it){for(var xt=0,Mt=0,Dt=vt.length,Lt=Dt-1;Mt<Dt;Lt=Mt++)xt+=(vt[Mt][0]-vt[Lt][0])*(vt[Lt][1]+vt[Mt][1]);xt>=0!=!!it&&vt.reverse()}var d=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,A=function(it){this._feature=it,this.extent=a.EXTENT,this.type=it.type,this.properties=it.tags,"id"in it&&!isNaN(it.id)&&(this.id=parseInt(it.id,10))};A.prototype.loadGeometry=function(){if(this._feature.type===1){for(var it=[],xt=0,Mt=this._feature.geometry;xt<Mt.length;xt+=1){var Dt=Mt[xt];it.push([new a.Point$1(Dt[0],Dt[1])])}return it}else{for(var Lt=[],Bt=0,Nt=this._feature.geometry;Bt<Nt.length;Bt+=1){for(var jt=Nt[Bt],lr=[],fr=0,hr=jt;fr<hr.length;fr+=1){var Ye=hr[fr];lr.push(new a.Point$1(Ye[0],Ye[1]))}Lt.push(lr)}return Lt}},A.prototype.toGeoJSON=function(it,xt,Mt){return d.call(this,it,xt,Mt)};var w=function(it){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=it.length,this._features=it};w.prototype.feature=function(it){return new A(this._features[it])};var C=a.vectorTile.VectorTileFeature,b=S;function S(vt,it){this.options=it||{},this.features=vt,this.length=vt.length}S.prototype.feature=function(vt){return new x(this.features[vt],this.options.extent)};function x(vt,it){this.id=typeof vt.id=="number"?vt.id:void 0,this.type=vt.type,this.rawGeometry=vt.type===1?[vt.geometry]:vt.geometry,this.properties=vt.tags,this.extent=it||4096}x.prototype.loadGeometry=function(){var vt=this.rawGeometry;this.geometry=[];for(var it=0;it<vt.length;it++){for(var xt=vt[it],Mt=[],Dt=0;Dt<xt.length;Dt++)Mt.push(new a.Point$1(xt[Dt][0],xt[Dt][1]));this.geometry.push(Mt)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var vt=this.geometry,it=1/0,xt=-1/0,Mt=1/0,Dt=-1/0,Lt=0;Lt<vt.length;Lt++)for(var Bt=vt[Lt],Nt=0;Nt<Bt.length;Nt++){var jt=Bt[Nt];it=Math.min(it,jt.x),xt=Math.max(xt,jt.x),Mt=Math.min(Mt,jt.y),Dt=Math.max(Dt,jt.y)}return[it,Mt,xt,Dt]},x.prototype.toGeoJSON=C.prototype.toGeoJSON;var i=I,E=I,m=U,k=b;function I(vt){var it=new a.pbf;return z(vt,it),it.finish()}function U(vt,it){it=it||{};var xt={};for(var Mt in vt)xt[Mt]=new b(vt[Mt].features,it),xt[Mt].name=Mt,xt[Mt].version=it.version,xt[Mt].extent=it.extent;return I({layers:xt})}function z(vt,it){for(var xt in vt.layers)it.writeMessage(3,F,vt.layers[xt])}function F(vt,it){it.writeVarintField(15,vt.version||1),it.writeStringField(1,vt.name||""),it.writeVarintField(5,vt.extent||4096);var xt,Mt={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<vt.length;xt++)Mt.feature=vt.feature(xt),it.writeMessage(2,B,Mt);var Dt=Mt.keys;for(xt=0;xt<Dt.length;xt++)it.writeStringField(3,Dt[xt]);var Lt=Mt.values;for(xt=0;xt<Lt.length;xt++)it.writeMessage(4,te,Lt[xt])}function B(vt,it){var xt=vt.feature;xt.id!==void 0&&it.writeVarintField(1,xt.id),it.writeMessage(2,O,vt),it.writeVarintField(3,xt.type),it.writeMessage(4,$,xt)}function O(vt,it){var xt=vt.feature,Mt=vt.keys,Dt=vt.values,Lt=vt.keycache,Bt=vt.valuecache;for(var Nt in xt.properties){var jt=Lt[Nt];typeof jt>"u"&&(Mt.push(Nt),jt=Mt.length-1,Lt[Nt]=jt),it.writeVarint(jt);var lr=xt.properties[Nt],fr=typeof lr;fr!=="string"&&fr!=="boolean"&&fr!=="number"&&(lr=JSON.stringify(lr));var hr=fr+":"+lr,Ye=Bt[hr];typeof Ye>"u"&&(Dt.push(lr),Ye=Dt.length-1,Bt[hr]=Ye),it.writeVarint(Ye)}}function N(vt,it){return(it<<3)+(vt&7)}function Y(vt){return vt<<1^vt>>31}function $(vt,it){for(var xt=vt.loadGeometry(),Mt=vt.type,Dt=0,Lt=0,Bt=xt.length,Nt=0;Nt<Bt;Nt++){var jt=xt[Nt],lr=1;Mt===1&&(lr=jt.length),it.writeVarint(N(1,lr));for(var fr=Mt===3?jt.length-1:jt.length,hr=0;hr<fr;hr++){hr===1&&Mt!==1&&it.writeVarint(N(2,fr-1));var Ye=jt[hr].x-Dt,We=jt[hr].y-Lt;it.writeVarint(Y(Ye)),it.writeVarint(Y(We)),Dt+=Ye,Lt+=We}Mt===3&&it.writeVarint(N(7,1))}}function te(vt,it){var xt=typeof vt;xt==="string"?it.writeStringField(1,vt):xt==="boolean"?it.writeBooleanField(7,vt):xt==="number"&&(vt%1!==0?it.writeDoubleField(3,vt):vt<0?it.writeSVarintField(6,vt):it.writeVarintField(5,vt))}i.fromVectorTileJs=E,i.fromGeojsonVt=m,i.GeoJSONWrapper=k;function ie(vt,it,xt,Mt,Dt,Lt){if(!(Dt-Mt<=xt)){var Bt=Mt+Dt>>1;ce(vt,it,Bt,Mt,Dt,Lt%2),ie(vt,it,xt,Mt,Bt-1,Lt+1),ie(vt,it,xt,Bt+1,Dt,Lt+1)}}function ce(vt,it,xt,Mt,Dt,Lt){for(;Dt>Mt;){if(Dt-Mt>600){var Bt=Dt-Mt+1,Nt=xt-Mt+1,jt=Math.log(Bt),lr=.5*Math.exp(2*jt/3),fr=.5*Math.sqrt(jt*lr*(Bt-lr)/Bt)*(Nt-Bt/2<0?-1:1),hr=Math.max(Mt,Math.floor(xt-Nt*lr/Bt+fr)),Ye=Math.min(Dt,Math.floor(xt+(Bt-Nt)*lr/Bt+fr));ce(vt,it,xt,hr,Ye,Lt)}var We=it[2*xt+Lt],kt=Mt,It=Dt;for(J(vt,it,Mt,xt),it[2*Dt+Lt]>We&&J(vt,it,Mt,Dt);kt<It;){for(J(vt,it,kt,It),kt++,It--;it[2*kt+Lt]<We;)kt++;for(;it[2*It+Lt]>We;)It--}it[2*Mt+Lt]===We?J(vt,it,Mt,It):(It++,J(vt,it,It,Dt)),It<=xt&&(Mt=It+1),xt<=It&&(Dt=It-1)}}function J(vt,it,xt,Mt){Z(vt,xt,Mt),Z(it,2*xt,2*Mt),Z(it,2*xt+1,2*Mt+1)}function Z(vt,it,xt){var Mt=vt[it];vt[it]=vt[xt],vt[xt]=Mt}function ae(vt,it,xt,Mt,Dt,Lt,Bt){for(var Nt=[0,vt.length-1,0],jt=[],lr,fr;Nt.length;){var hr=Nt.pop(),Ye=Nt.pop(),We=Nt.pop();if(Ye-We<=Bt){for(var kt=We;kt<=Ye;kt++)lr=it[2*kt],fr=it[2*kt+1],lr>=xt&&lr<=Dt&&fr>=Mt&&fr<=Lt&&jt.push(vt[kt]);continue}var It=Math.floor((We+Ye)/2);lr=it[2*It],fr=it[2*It+1],lr>=xt&&lr<=Dt&&fr>=Mt&&fr<=Lt&&jt.push(vt[It]);var Zt=(hr+1)%2;(hr===0?xt<=lr:Mt<=fr)&&(Nt.push(We),Nt.push(It-1),Nt.push(Zt)),(hr===0?Dt>=lr:Lt>=fr)&&(Nt.push(It+1),Nt.push(Ye),Nt.push(Zt))}return jt}function j(vt,it,xt,Mt,Dt,Lt){for(var Bt=[0,vt.length-1,0],Nt=[],jt=Dt*Dt;Bt.length;){var lr=Bt.pop(),fr=Bt.pop(),hr=Bt.pop();if(fr-hr<=Lt){for(var Ye=hr;Ye<=fr;Ye++)q(it[2*Ye],it[2*Ye+1],xt,Mt)<=jt&&Nt.push(vt[Ye]);continue}var We=Math.floor((hr+fr)/2),kt=it[2*We],It=it[2*We+1];q(kt,It,xt,Mt)<=jt&&Nt.push(vt[We]);var Zt=(lr+1)%2;(lr===0?xt-Dt<=kt:Mt-Dt<=It)&&(Bt.push(hr),Bt.push(We-1),Bt.push(Zt)),(lr===0?xt+Dt>=kt:Mt+Dt>=It)&&(Bt.push(We+1),Bt.push(fr),Bt.push(Zt))}return Nt}function q(vt,it,xt,Mt){var Dt=vt-xt,Lt=it-Mt;return Dt*Dt+Lt*Lt}var oe=function(vt){return vt[0]},Q=function(vt){return vt[1]},K=function(it,xt,Mt,Dt,Lt){xt===void 0&&(xt=oe),Mt===void 0&&(Mt=Q),Dt===void 0&&(Dt=64),Lt===void 0&&(Lt=Float64Array),this.nodeSize=Dt,this.points=it;for(var Bt=it.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Bt(it.length),jt=this.coords=new Lt(it.length*2),lr=0;lr<it.length;lr++)Nt[lr]=lr,jt[2*lr]=xt(it[lr]),jt[2*lr+1]=Mt(it[lr]);ie(Nt,jt,Dt,0,Nt.length-1,0)};K.prototype.range=function(it,xt,Mt,Dt){return ae(this.ids,this.coords,it,xt,Mt,Dt,this.nodeSize)},K.prototype.within=function(it,xt,Mt){return j(this.ids,this.coords,it,xt,Mt,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(vt){return vt}},ne=function(it){this.options=Ce(Object.create(se),it),this.trees=new Array(this.options.maxZoom+1)};ne.prototype.load=function(it){var xt=this.options,Mt=xt.log,Dt=xt.minZoom,Lt=xt.maxZoom,Bt=xt.nodeSize;Mt&&console.time("total time");var Nt="prepare "+it.length+" points";Mt&&console.time(Nt),this.points=it;for(var jt=[],lr=0;lr<it.length;lr++)it[lr].geometry&&jt.push(ye(it[lr],lr));this.trees[Lt+1]=new K(jt,Ne,He,Bt,Float32Array),Mt&&console.timeEnd(Nt);for(var fr=Lt;fr>=Dt;fr--){var hr=+Date.now();jt=this._cluster(jt,fr),this.trees[fr]=new K(jt,Ne,He,Bt,Float32Array),Mt&&console.log("z%d: %d clusters in %dms",fr,jt.length,+Date.now()-hr)}return Mt&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(it,xt){var Mt=((it[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,it[1])),Lt=it[2]===180?180:((it[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,it[3]));if(it[2]-it[0]>=360)Mt=-180,Lt=180;else if(Mt>Lt){var Nt=this.getClusters([Mt,Dt,180,Bt],xt),jt=this.getClusters([-180,Dt,Lt,Bt],xt);return Nt.concat(jt)}for(var lr=this.trees[this._limitZoom(xt)],fr=lr.range(ze(Mt),ke(Bt),ze(Lt),ke(Dt)),hr=[],Ye=0,We=fr;Ye<We.length;Ye+=1){var kt=We[Ye],It=lr.points[kt];hr.push(It.numPoints?Ee(It):this.points[It.index])}return hr},ne.prototype.getChildren=function(it){var xt=this._getOriginId(it),Mt=this._getOriginZoom(it),Dt="No cluster with the specified id.",Lt=this.trees[Mt];if(!Lt)throw new Error(Dt);var Bt=Lt.points[xt];if(!Bt)throw new Error(Dt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Mt-1)),jt=Lt.within(Bt.x,Bt.y,Nt),lr=[],fr=0,hr=jt;fr<hr.length;fr+=1){var Ye=hr[fr],We=Lt.points[Ye];We.parentId===it&&lr.push(We.numPoints?Ee(We):this.points[We.index])}if(lr.length===0)throw new Error(Dt);return lr},ne.prototype.getLeaves=function(it,xt,Mt){xt=xt||10,Mt=Mt||0;var Dt=[];return this._appendLeaves(Dt,it,xt,Mt,0),Dt},ne.prototype.getTile=function(it,xt,Mt){var Dt=this.trees[this._limitZoom(it)],Lt=Math.pow(2,it),Bt=this.options,Nt=Bt.extent,jt=Bt.radius,lr=jt/Nt,fr=(Mt-lr)/Lt,hr=(Mt+1+lr)/Lt,Ye={features:[]};return this._addTileFeatures(Dt.range((xt-lr)/Lt,fr,(xt+1+lr)/Lt,hr),Dt.points,xt,Mt,Lt,Ye),xt===0&&this._addTileFeatures(Dt.range(1-lr/Lt,fr,1,hr),Dt.points,Lt,Mt,Lt,Ye),xt===Lt-1&&this._addTileFeatures(Dt.range(0,fr,lr/Lt,hr),Dt.points,-1,Mt,Lt,Ye),Ye.features.length?Ye:null},ne.prototype.getClusterExpansionZoom=function(it){for(var xt=this._getOriginZoom(it)-1;xt<=this.options.maxZoom;){var Mt=this.getChildren(it);if(xt++,Mt.length!==1)break;it=Mt[0].properties.cluster_id}return xt},ne.prototype._appendLeaves=function(it,xt,Mt,Dt,Lt){for(var Bt=this.getChildren(xt),Nt=0,jt=Bt;Nt<jt.length;Nt+=1){var lr=jt[Nt],fr=lr.properties;if(fr&&fr.cluster?Lt+fr.point_count<=Dt?Lt+=fr.point_count:Lt=this._appendLeaves(it,fr.cluster_id,Mt,Dt,Lt):Lt<Dt?Lt++:it.push(lr),it.length===Mt)break}return Lt},ne.prototype._addTileFeatures=function(it,xt,Mt,Dt,Lt,Bt){for(var Nt=0,jt=it;Nt<jt.length;Nt+=1){var lr=jt[Nt],fr=xt[lr],hr=fr.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(fr.x*Lt-Mt)),Math.round(this.options.extent*(fr.y*Lt-Dt))]],tags:hr?Te(fr):this.points[fr.index].properties},We=void 0;hr?We=fr.id:this.options.generateId?We=fr.index:this.points[fr.index].id&&(We=this.points[fr.index].id),We!==void 0&&(Ye.id=We),Bt.features.push(Ye)}},ne.prototype._limitZoom=function(it){return Math.max(this.options.minZoom,Math.min(+it,this.options.maxZoom+1))},ne.prototype._cluster=function(it,xt){for(var Mt=[],Dt=this.options,Lt=Dt.radius,Bt=Dt.extent,Nt=Dt.reduce,jt=Dt.minPoints,lr=Lt/(Bt*Math.pow(2,xt)),fr=0;fr<it.length;fr++){var hr=it[fr];if(!(hr.zoom<=xt)){hr.zoom=xt;for(var Ye=this.trees[xt+1],We=Ye.within(hr.x,hr.y,lr),kt=hr.numPoints||1,It=kt,Zt=0,rr=We;Zt<rr.length;Zt+=1){var ur=rr[Zt],er=Ye.points[ur];er.zoom>xt&&(It+=er.numPoints||1)}if(It>=jt){for(var Ot=hr.x*kt,vr=hr.y*kt,yr=Nt&&kt>1?this._map(hr,!0):null,pr=(fr<<5)+(xt+1)+this.points.length,cr=0,Ur=We;cr<Ur.length;cr+=1){var kr=Ur[cr],Rr=Ye.points[kr];if(!(Rr.zoom<=xt)){Rr.zoom=xt;var hn=Rr.numPoints||1;Ot+=Rr.x*hn,vr+=Rr.y*hn,Rr.parentId=pr,Nt&&(yr||(yr=this._map(hr,!0)),Nt(yr,this._map(Rr)))}}hr.parentId=pr,Mt.push(fe(Ot/It,vr/It,pr,It,yr))}else if(Mt.push(hr),It>1)for(var tn=0,Fn=We;tn<Fn.length;tn+=1){var mn=Fn[tn],Mr=Ye.points[mn];Mr.zoom<=xt||(Mr.zoom=xt,Mt.push(Mr))}}}return Mt},ne.prototype._getOriginId=function(it){return it-this.points.length>>5},ne.prototype._getOriginZoom=function(it){return(it-this.points.length)%32},ne.prototype._map=function(it,xt){if(it.numPoints)return xt?Ce({},it.properties):it.properties;var Mt=this.points[it.index].properties,Dt=this.options.map(Mt);return xt&&Dt===Mt?Ce({},Dt):Dt};function fe(vt,it,xt,Mt,Dt){return{x:vt,y:it,zoom:1/0,id:xt,parentId:-1,numPoints:Mt,properties:Dt}}function ye(vt,it){var xt=vt.geometry.coordinates,Mt=xt[0],Dt=xt[1];return{x:ze(Mt),y:ke(Dt),zoom:1/0,index:it,parentId:-1}}function Ee(vt){return{type:"Feature",id:vt.id,properties:Te(vt),geometry:{type:"Point",coordinates:[Se(vt.x),me(vt.y)]}}}function Te(vt){var it=vt.numPoints,xt=it>=1e4?Math.round(it/1e3)+"k":it>=1e3?Math.round(it/100)/10+"k":it;return Ce(Ce({},vt.properties),{cluster:!0,cluster_id:vt.id,point_count:it,point_count_abbreviated:xt})}function ze(vt){return vt/360+.5}function ke(vt){var it=Math.sin(vt*Math.PI/180),xt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return xt<0?0:xt>1?1:xt}function Se(vt){return(vt-.5)*360}function me(vt){var it=(180-vt*360)*Math.PI/180;return 360*Math.atan(Math.exp(it))/Math.PI-90}function Ce(vt,it){for(var xt in it)vt[xt]=it[xt];return vt}function Ne(vt){return vt.x}function He(vt){return vt.y}function De(vt,it,xt,Mt){for(var Dt=Mt,Lt=xt-it>>1,Bt=xt-it,Nt,jt=vt[it],lr=vt[it+1],fr=vt[xt],hr=vt[xt+1],Ye=it+3;Ye<xt;Ye+=3){var We=Ve(vt[Ye],vt[Ye+1],jt,lr,fr,hr);if(We>Dt)Nt=Ye,Dt=We;else if(We===Dt){var kt=Math.abs(Ye-Lt);kt<Bt&&(Nt=Ye,Bt=kt)}}Dt>Mt&&(Nt-it>3&&De(vt,it,Nt,Mt),vt[Nt+2]=Dt,xt-Nt>3&&De(vt,Nt,xt,Mt))}function Ve(vt,it,xt,Mt,Dt,Lt){var Bt=Dt-xt,Nt=Lt-Mt;if(Bt!==0||Nt!==0){var jt=((vt-xt)*Bt+(it-Mt)*Nt)/(Bt*Bt+Nt*Nt);jt>1?(xt=Dt,Mt=Lt):jt>0&&(xt+=Bt*jt,Mt+=Nt*jt)}return Bt=vt-xt,Nt=it-Mt,Bt*Bt+Nt*Nt}function at(vt,it,xt,Mt){var Dt={id:typeof vt>"u"?null:vt,type:it,geometry:xt,tags:Mt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return lt(Dt),Dt}function lt(vt){var it=vt.geometry,xt=vt.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")$e(vt,it);else if(xt==="Polygon"||xt==="MultiLineString")for(var Mt=0;Mt<it.length;Mt++)$e(vt,it[Mt]);else if(xt==="MultiPolygon")for(Mt=0;Mt<it.length;Mt++)for(var Dt=0;Dt<it[Mt].length;Dt++)$e(vt,it[Mt][Dt])}function $e(vt,it){for(var xt=0;xt<it.length;xt+=3)vt.minX=Math.min(vt.minX,it[xt]),vt.minY=Math.min(vt.minY,it[xt+1]),vt.maxX=Math.max(vt.maxX,it[xt]),vt.maxY=Math.max(vt.maxY,it[xt+1])}function et(vt,it){var xt=[];if(vt.type==="FeatureCollection")for(var Mt=0;Mt<vt.features.length;Mt++)ct(xt,vt.features[Mt],it,Mt);else vt.type==="Feature"?ct(xt,vt,it):ct(xt,{geometry:vt},it);return xt}function ct(vt,it,xt,Mt){if(it.geometry){var Dt=it.geometry.coordinates,Lt=it.geometry.type,Bt=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Nt=[],jt=it.id;if(xt.promoteId?jt=it.properties[xt.promoteId]:xt.generateId&&(jt=Mt||0),Lt==="Point")dt(Dt,Nt);else if(Lt==="MultiPoint")for(var lr=0;lr<Dt.length;lr++)dt(Dt[lr],Nt);else if(Lt==="LineString")gt(Dt,Nt,Bt,!1);else if(Lt==="MultiLineString")if(xt.lineMetrics){for(lr=0;lr<Dt.length;lr++)Nt=[],gt(Dt[lr],Nt,Bt,!1),vt.push(at(jt,"LineString",Nt,it.properties));return}else At(Dt,Nt,Bt,!1);else if(Lt==="Polygon")At(Dt,Nt,Bt,!0);else if(Lt==="MultiPolygon")for(lr=0;lr<Dt.length;lr++){var fr=[];At(Dt[lr],fr,Bt,!0),Nt.push(fr)}else if(Lt==="GeometryCollection"){for(lr=0;lr<it.geometry.geometries.length;lr++)ct(vt,{id:jt,geometry:it.geometry.geometries[lr],properties:it.properties},xt,Mt);return}else throw new Error("Input data is not a valid GeoJSON object.");vt.push(at(jt,Lt,Nt,it.properties))}}function dt(vt,it){it.push(Rt(vt[0])),it.push(Vt(vt[1])),it.push(0)}function gt(vt,it,xt,Mt){for(var Dt,Lt,Bt=0,Nt=0;Nt<vt.length;Nt++){var jt=Rt(vt[Nt][0]),lr=Vt(vt[Nt][1]);it.push(jt),it.push(lr),it.push(0),Nt>0&&(Mt?Bt+=(Dt*lr-jt*Lt)/2:Bt+=Math.sqrt(Math.pow(jt-Dt,2)+Math.pow(lr-Lt,2))),Dt=jt,Lt=lr}var fr=it.length-3;it[2]=1,De(it,0,fr,xt),it[fr+2]=1,it.size=Math.abs(Bt),it.start=0,it.end=it.size}function At(vt,it,xt,Mt){for(var Dt=0;Dt<vt.length;Dt++){var Lt=[];gt(vt[Dt],Lt,xt,Mt),it.push(Lt)}}function Rt(vt){return vt/360+.5}function Vt(vt){var it=Math.sin(vt*Math.PI/180),xt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return xt<0?0:xt>1?1:xt}function Je(vt,it,xt,Mt,Dt,Lt,Bt,Nt){if(xt/=it,Mt/=it,Lt>=xt&&Bt<Mt)return vt;if(Bt<xt||Lt>=Mt)return null;for(var jt=[],lr=0;lr<vt.length;lr++){var fr=vt[lr],hr=fr.geometry,Ye=fr.type,We=Dt===0?fr.minX:fr.minY,kt=Dt===0?fr.maxX:fr.maxY;if(We>=xt&&kt<Mt){jt.push(fr);continue}else if(kt<xt||We>=Mt)continue;var It=[];if(Ye==="Point"||Ye==="MultiPoint")Ge(hr,It,xt,Mt,Dt);else if(Ye==="LineString")Ie(hr,It,xt,Mt,Dt,!1,Nt.lineMetrics);else if(Ye==="MultiLineString")Pe(hr,It,xt,Mt,Dt,!1);else if(Ye==="Polygon")Pe(hr,It,xt,Mt,Dt,!0);else if(Ye==="MultiPolygon")for(var Zt=0;Zt<hr.length;Zt++){var rr=[];Pe(hr[Zt],rr,xt,Mt,Dt,!0),rr.length&&It.push(rr)}if(It.length){if(Nt.lineMetrics&&Ye==="LineString"){for(Zt=0;Zt<It.length;Zt++)jt.push(at(fr.id,Ye,It[Zt],fr.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(It.length===1?(Ye="LineString",It=It[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=It.length===3?"Point":"MultiPoint"),jt.push(at(fr.id,Ye,It,fr.tags))}}return jt.length?jt:null}function Ge(vt,it,xt,Mt,Dt){for(var Lt=0;Lt<vt.length;Lt+=3){var Bt=vt[Lt+Dt];Bt>=xt&&Bt<=Mt&&(it.push(vt[Lt]),it.push(vt[Lt+1]),it.push(vt[Lt+2]))}}function Ie(vt,it,xt,Mt,Dt,Lt,Bt){for(var Nt=Fe(vt),jt=Dt===0?ge:Me,lr=vt.start,fr,hr,Ye=0;Ye<vt.length-3;Ye+=3){var We=vt[Ye],kt=vt[Ye+1],It=vt[Ye+2],Zt=vt[Ye+3],rr=vt[Ye+4],ur=Dt===0?We:kt,er=Dt===0?Zt:rr,Ot=!1;Bt&&(fr=Math.sqrt(Math.pow(We-Zt,2)+Math.pow(kt-rr,2))),ur<xt?er>xt&&(hr=jt(Nt,We,kt,Zt,rr,xt),Bt&&(Nt.start=lr+fr*hr)):ur>Mt?er<Mt&&(hr=jt(Nt,We,kt,Zt,rr,Mt),Bt&&(Nt.start=lr+fr*hr)):xe(Nt,We,kt,It),er<xt&&ur>=xt&&(hr=jt(Nt,We,kt,Zt,rr,xt),Ot=!0),er>Mt&&ur<=Mt&&(hr=jt(Nt,We,kt,Zt,rr,Mt),Ot=!0),!Lt&&Ot&&(Bt&&(Nt.end=lr+fr*hr),it.push(Nt),Nt=Fe(vt)),Bt&&(lr+=fr)}var vr=vt.length-3;We=vt[vr],kt=vt[vr+1],It=vt[vr+2],ur=Dt===0?We:kt,ur>=xt&&ur<=Mt&&xe(Nt,We,kt,It),vr=Nt.length-3,Lt&&vr>=3&&(Nt[vr]!==Nt[0]||Nt[vr+1]!==Nt[1])&&xe(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&it.push(Nt)}function Fe(vt){var it=[];return it.size=vt.size,it.start=vt.start,it.end=vt.end,it}function Pe(vt,it,xt,Mt,Dt,Lt){for(var Bt=0;Bt<vt.length;Bt++)Ie(vt[Bt],it,xt,Mt,Dt,Lt,!1)}function xe(vt,it,xt,Mt){vt.push(it),vt.push(xt),vt.push(Mt)}function ge(vt,it,xt,Mt,Dt,Lt){var Bt=(Lt-it)/(Mt-it);return vt.push(Lt),vt.push(xt+(Dt-xt)*Bt),vt.push(1),Bt}function Me(vt,it,xt,Mt,Dt,Lt){var Bt=(Lt-xt)/(Dt-xt);return vt.push(it+(Mt-it)*Bt),vt.push(Lt),vt.push(1),Bt}function Ae(vt,it){var xt=it.buffer/it.extent,Mt=vt,Dt=Je(vt,1,-1-xt,xt,0,-1,2,it),Lt=Je(vt,1,1-xt,2+xt,0,-1,2,it);return(Dt||Lt)&&(Mt=Je(vt,1,-xt,1+xt,0,-1,2,it)||[],Dt&&(Mt=Ue(Dt,1).concat(Mt)),Lt&&(Mt=Mt.concat(Ue(Lt,-1)))),Mt}function Ue(vt,it){for(var xt=[],Mt=0;Mt<vt.length;Mt++){var Dt=vt[Mt],Lt=Dt.type,Bt;if(Lt==="Point"||Lt==="MultiPoint"||Lt==="LineString")Bt=Ze(Dt.geometry,it);else if(Lt==="MultiLineString"||Lt==="Polygon"){Bt=[];for(var Nt=0;Nt<Dt.geometry.length;Nt++)Bt.push(Ze(Dt.geometry[Nt],it))}else if(Lt==="MultiPolygon")for(Bt=[],Nt=0;Nt<Dt.geometry.length;Nt++){for(var jt=[],lr=0;lr<Dt.geometry[Nt].length;lr++)jt.push(Ze(Dt.geometry[Nt][lr],it));Bt.push(jt)}xt.push(at(Dt.id,Lt,Bt,Dt.tags))}return xt}function Ze(vt,it){var xt=[];xt.size=vt.size,vt.start!==void 0&&(xt.start=vt.start,xt.end=vt.end);for(var Mt=0;Mt<vt.length;Mt+=3)xt.push(vt[Mt]+it,vt[Mt+1],vt[Mt+2]);return xt}function tt(vt,it){if(vt.transformed)return vt;var xt=1<<vt.z,Mt=vt.x,Dt=vt.y,Lt,Bt,Nt;for(Lt=0;Lt<vt.features.length;Lt++){var jt=vt.features[Lt],lr=jt.geometry,fr=jt.type;if(jt.geometry=[],fr===1)for(Bt=0;Bt<lr.length;Bt+=2)jt.geometry.push(ft(lr[Bt],lr[Bt+1],it,xt,Mt,Dt));else for(Bt=0;Bt<lr.length;Bt++){var hr=[];for(Nt=0;Nt<lr[Bt].length;Nt+=2)hr.push(ft(lr[Bt][Nt],lr[Bt][Nt+1],it,xt,Mt,Dt));jt.geometry.push(hr)}}return vt.transformed=!0,vt}function ft(vt,it,xt,Mt,Dt,Lt){return[Math.round(xt*(vt*Mt-Dt)),Math.round(xt*(it*Mt-Lt))]}function pt(vt,it,xt,Mt,Dt){for(var Lt=it===Dt.maxZoom?0:Dt.tolerance/((1<<it)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:Mt,z:it,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<vt.length;Nt++){Bt.numFeatures++,Yt(Bt,vt[Nt],Lt,Dt);var jt=vt[Nt].minX,lr=vt[Nt].minY,fr=vt[Nt].maxX,hr=vt[Nt].maxY;jt<Bt.minX&&(Bt.minX=jt),lr<Bt.minY&&(Bt.minY=lr),fr>Bt.maxX&&(Bt.maxX=fr),hr>Bt.maxY&&(Bt.maxY=hr)}return Bt}function Yt(vt,it,xt,Mt){var Dt=it.geometry,Lt=it.type,Bt=[];if(Lt==="Point"||Lt==="MultiPoint")for(var Nt=0;Nt<Dt.length;Nt+=3)Bt.push(Dt[Nt]),Bt.push(Dt[Nt+1]),vt.numPoints++,vt.numSimplified++;else if(Lt==="LineString")Jt(Bt,Dt,vt,xt,!1,!1);else if(Lt==="MultiLineString"||Lt==="Polygon")for(Nt=0;Nt<Dt.length;Nt++)Jt(Bt,Dt[Nt],vt,xt,Lt==="Polygon",Nt===0);else if(Lt==="MultiPolygon")for(var jt=0;jt<Dt.length;jt++){var lr=Dt[jt];for(Nt=0;Nt<lr.length;Nt++)Jt(Bt,lr[Nt],vt,xt,!0,Nt===0)}if(Bt.length){var fr=it.tags||null;if(Lt==="LineString"&&Mt.lineMetrics){fr={};for(var hr in it.tags)fr[hr]=it.tags[hr];fr.mapbox_clip_start=Dt.start/Dt.size,fr.mapbox_clip_end=Dt.end/Dt.size}var Ye={geometry:Bt,type:Lt==="Polygon"||Lt==="MultiPolygon"?3:Lt==="LineString"||Lt==="MultiLineString"?2:1,tags:fr};it.id!==null&&(Ye.id=it.id),vt.features.push(Ye)}}function Jt(vt,it,xt,Mt,Dt,Lt){var Bt=Mt*Mt;if(Mt>0&&it.size<(Dt?Bt:Mt)){xt.numPoints+=it.length/3;return}for(var Nt=[],jt=0;jt<it.length;jt+=3)(Mt===0||it[jt+2]>Bt)&&(xt.numSimplified++,Nt.push(it[jt]),Nt.push(it[jt+1])),xt.numPoints++;Dt&&Tt(Nt,Lt),vt.push(Nt)}function Tt(vt,it){for(var xt=0,Mt=0,Dt=vt.length,Lt=Dt-2;Mt<Dt;Lt=Mt,Mt+=2)xt+=(vt[Mt]-vt[Lt])*(vt[Mt+1]+vt[Lt+1]);if(xt>0===it)for(Mt=0,Dt=vt.length;Mt<Dt/2;Mt+=2){var Bt=vt[Mt],Nt=vt[Mt+1];vt[Mt]=vt[Dt-2-Mt],vt[Mt+1]=vt[Dt-1-Mt],vt[Dt-2-Mt]=Bt,vt[Dt-1-Mt]=Nt}}function zt(vt,it){return new $t(vt,it)}function $t(vt,it){it=this.options=yt(Object.create(this.options),it);var xt=it.debug;if(xt&&console.time("preprocess data"),it.maxZoom<0||it.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(it.promoteId&&it.generateId)throw new Error("promoteId and generateId cannot be used together.");var Mt=et(vt,it);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",it.indexMaxZoom,it.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Mt=Ae(Mt,it),Mt.length&&this.splitTile(Mt,0,0,0),xt&&(Mt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}$t.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},$t.prototype.splitTile=function(vt,it,xt,Mt,Dt,Lt,Bt){for(var Nt=[vt,it,xt,Mt],jt=this.options,lr=jt.debug;Nt.length;){Mt=Nt.pop(),xt=Nt.pop(),it=Nt.pop(),vt=Nt.pop();var fr=1<<it,hr=wr(it,xt,Mt),Ye=this.tiles[hr];if(!Ye&&(lr>1&&console.time("creation"),Ye=this.tiles[hr]=pt(vt,it,xt,Mt,jt),this.tileCoords.push({z:it,x:xt,y:Mt}),lr)){lr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",it,xt,Mt,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var We="z"+it;this.stats[We]=(this.stats[We]||0)+1,this.total++}if(Ye.source=vt,Dt){if(it===jt.maxZoom||it===Dt)continue;var kt=1<<Dt-it;if(xt!==Math.floor(Lt/kt)||Mt!==Math.floor(Bt/kt))continue}else if(it===jt.indexMaxZoom||Ye.numPoints<=jt.indexMaxPoints)continue;if(Ye.source=null,vt.length!==0){lr>1&&console.time("clipping");var It=.5*jt.buffer/jt.extent,Zt=.5-It,rr=.5+It,ur=1+It,er,Ot,vr,yr,pr,cr;er=Ot=vr=yr=null,pr=Je(vt,fr,xt-It,xt+rr,0,Ye.minX,Ye.maxX,jt),cr=Je(vt,fr,xt+Zt,xt+ur,0,Ye.minX,Ye.maxX,jt),vt=null,pr&&(er=Je(pr,fr,Mt-It,Mt+rr,1,Ye.minY,Ye.maxY,jt),Ot=Je(pr,fr,Mt+Zt,Mt+ur,1,Ye.minY,Ye.maxY,jt),pr=null),cr&&(vr=Je(cr,fr,Mt-It,Mt+rr,1,Ye.minY,Ye.maxY,jt),yr=Je(cr,fr,Mt+Zt,Mt+ur,1,Ye.minY,Ye.maxY,jt),cr=null),lr>1&&console.timeEnd("clipping"),Nt.push(er||[],it+1,xt*2,Mt*2),Nt.push(Ot||[],it+1,xt*2,Mt*2+1),Nt.push(vr||[],it+1,xt*2+1,Mt*2),Nt.push(yr||[],it+1,xt*2+1,Mt*2+1)}}},$t.prototype.getTile=function(vt,it,xt){var Mt=this.options,Dt=Mt.extent,Lt=Mt.debug;if(vt<0||vt>24)return null;var Bt=1<<vt;it=(it%Bt+Bt)%Bt;var Nt=wr(vt,it,xt);if(this.tiles[Nt])return tt(this.tiles[Nt],Dt);Lt>1&&console.log("drilling down to z%d-%d-%d",vt,it,xt);for(var jt=vt,lr=it,fr=xt,hr;!hr&&jt>0;)jt--,lr=Math.floor(lr/2),fr=Math.floor(fr/2),hr=this.tiles[wr(jt,lr,fr)];return!hr||!hr.source?null:(Lt>1&&console.log("found parent tile z%d-%d-%d",jt,lr,fr),Lt>1&&console.time("drilling down"),this.splitTile(hr.source,jt,lr,fr,vt,it,xt),Lt>1&&console.timeEnd("drilling down"),this.tiles[Nt]?tt(this.tiles[Nt],Dt):null)};function wr(vt,it,xt){return((1<<vt)*xt+it)*32+vt}function yt(vt,it){for(var xt in it)vt[xt]=it[xt];return vt}function Xt(vt,it){var xt=vt.tileID.canonical;if(!this._geoJSONIndex)return it(null,null);var Mt=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!Mt)return it(null,null);var Dt=new w(Mt.features),Lt=i(Dt);(Lt.byteOffset!==0||Lt.byteLength!==Lt.buffer.byteLength)&&(Lt=new Uint8Array(Lt)),it(null,{vectorTile:Dt,rawData:Lt.buffer})}var Qt=function(vt){function it(xt,Mt,Dt,Lt){vt.call(this,xt,Mt,Dt,Xt),Lt&&(this.loadGeoJSON=Lt)}return vt&&(it.__proto__=vt),it.prototype=Object.create(vt&&vt.prototype),it.prototype.constructor=it,it.prototype.loadData=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Mt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},it.prototype._loadData=function(){var Mt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Lt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Lt&&Lt.request&&Lt.request.collectResourceTiming?new a.RequestPerformance(Lt.request):!1;this.loadGeoJSON(Lt,function(Nt,jt){if(Nt||!jt)return Dt(Nt);if(typeof jt!="object")return Dt(new Error("Input data given to '"+Lt.source+"' is not a valid GeoJSON object."));f(jt,!0);try{if(Lt.filter){var lr=a.createExpression(Lt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(lr.result==="error")throw new Error(lr.value.map(function(We){return We.key+": "+We.message}).join(", "));var fr=jt.features.filter(function(We){return lr.value.evaluate({zoom:0},We)});jt={type:"FeatureCollection",features:fr}}Mt._geoJSONIndex=Lt.cluster?new ne(gr(Lt)).load(jt.features):zt(jt,Lt.geojsonVtOptions)}catch(We){return Dt(We)}Mt.loaded={};var hr={};if(Bt){var Ye=Bt.finish();Ye&&(hr.resourceTiming={},hr.resourceTiming[Lt.source]=JSON.parse(JSON.stringify(Ye)))}Dt(null,hr)})}},it.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},it.prototype.reloadTile=function(Mt,Dt){var Lt=this.loaded,Bt=Mt.uid;return Lt&&Lt[Bt]?vt.prototype.reloadTile.call(this,Mt,Dt):this.loadTile(Mt,Dt)},it.prototype.loadGeoJSON=function(Mt,Dt){if(Mt.request)a.getJSON(Mt.request,Dt);else if(typeof Mt.data=="string")try{return Dt(null,JSON.parse(Mt.data))}catch{return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))},it.prototype.removeSource=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},it.prototype.getClusterExpansionZoom=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Mt.clusterId))}catch(Lt){Dt(Lt)}},it.prototype.getClusterChildren=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Mt.clusterId))}catch(Lt){Dt(Lt)}},it.prototype.getClusterLeaves=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Mt.clusterId,Mt.limit,Mt.offset))}catch(Lt){Dt(Lt)}},it}(u);function gr(vt){var it=vt.superclusterOptions,xt=vt.clusterProperties;if(!xt||!it)return it;for(var Mt={},Dt={},Lt={accumulated:null,zoom:0},Bt={properties:null},Nt=Object.keys(xt),jt=0,lr=Nt;jt<lr.length;jt+=1){var fr=lr[jt],hr=xt[fr],Ye=hr[0],We=hr[1],kt=a.createExpression(We),It=a.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",fr]]:Ye);Mt[fr]=kt.value,Dt[fr]=It.value}return it.map=function(Zt){Bt.properties=Zt;for(var rr={},ur=0,er=Nt;ur<er.length;ur+=1){var Ot=er[ur];rr[Ot]=Mt[Ot].evaluate(Lt,Bt)}return rr},it.reduce=function(Zt,rr){Bt.properties=rr;for(var ur=0,er=Nt;ur<er.length;ur+=1){var Ot=er[ur];Lt.accumulated=Zt[Ot],Zt[Ot]=Dt[Ot].evaluate(Lt,Bt)}},it}var sr=function(it){var xt=this;this.self=it,this.actor=new a.Actor(it,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Mt,Dt){if(xt.workerSourceTypes[Mt])throw new Error('Worker source with name "'+Mt+'" already registered.');xt.workerSourceTypes[Mt]=Dt},this.self.registerRTLTextPlugin=function(Mt){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Mt.applyArabicShaping,a.plugin.processBidirectionalText=Mt.processBidirectionalText,a.plugin.processStyledBidirectionalText=Mt.processStyledBidirectionalText}};return sr.prototype.setReferrer=function(it,xt){this.referrer=xt},sr.prototype.setImages=function(it,xt,Mt){this.availableImages[it]=xt;for(var Dt in this.workerSources[it]){var Lt=this.workerSources[it][Dt];for(var Bt in Lt)Lt[Bt].availableImages=xt}Mt()},sr.prototype.setLayers=function(it,xt,Mt){this.getLayerIndex(it).replace(xt),Mt()},sr.prototype.updateLayers=function(it,xt,Mt){this.getLayerIndex(it).update(xt.layers,xt.removedIds),Mt()},sr.prototype.loadTile=function(it,xt,Mt){this.getWorkerSource(it,xt.type,xt.source).loadTile(xt,Mt)},sr.prototype.loadDEMTile=function(it,xt,Mt){this.getDEMWorkerSource(it,xt.source).loadTile(xt,Mt)},sr.prototype.reloadTile=function(it,xt,Mt){this.getWorkerSource(it,xt.type,xt.source).reloadTile(xt,Mt)},sr.prototype.abortTile=function(it,xt,Mt){this.getWorkerSource(it,xt.type,xt.source).abortTile(xt,Mt)},sr.prototype.removeTile=function(it,xt,Mt){this.getWorkerSource(it,xt.type,xt.source).removeTile(xt,Mt)},sr.prototype.removeDEMTile=function(it,xt){this.getDEMWorkerSource(it,xt.source).removeTile(xt)},sr.prototype.removeSource=function(it,xt,Mt){if(!(!this.workerSources[it]||!this.workerSources[it][xt.type]||!this.workerSources[it][xt.type][xt.source])){var Dt=this.workerSources[it][xt.type][xt.source];delete this.workerSources[it][xt.type][xt.source],Dt.removeSource!==void 0?Dt.removeSource(xt,Mt):Mt()}},sr.prototype.loadWorkerSource=function(it,xt,Mt){try{this.self.importScripts(xt.url),Mt()}catch(Dt){Mt(Dt.toString())}},sr.prototype.syncRTLPluginState=function(it,xt,Mt){try{a.plugin.setState(xt);var Dt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Lt=a.plugin.isParsed(),Bt=Lt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Mt(Bt,Lt)}}catch(Nt){Mt(Nt.toString())}},sr.prototype.getAvailableImages=function(it){var xt=this.availableImages[it];return xt||(xt=[]),xt},sr.prototype.getLayerIndex=function(it){var xt=this.layerIndexes[it];return xt||(xt=this.layerIndexes[it]=new p),xt},sr.prototype.getWorkerSource=function(it,xt,Mt){var Dt=this;if(this.workerSources[it]||(this.workerSources[it]={}),this.workerSources[it][xt]||(this.workerSources[it][xt]={}),!this.workerSources[it][xt][Mt]){var Lt={send:function(Bt,Nt,jt){Dt.actor.send(Bt,Nt,jt,it)}};this.workerSources[it][xt][Mt]=new this.workerSourceTypes[xt](Lt,this.getLayerIndex(it),this.getAvailableImages(it))}return this.workerSources[it][xt][Mt]},sr.prototype.getDEMWorkerSource=function(it,xt){return this.demWorkerSources[it]||(this.demWorkerSources[it]={}),this.demWorkerSources[it][xt]||(this.demWorkerSources[it][xt]=new g),this.demWorkerSources[it][xt]},sr.prototype.enforceCacheSizeLimit=function(it,xt){a.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new sr(self)),sr}),P(["./shared"],function(a){var L=a.createCommonjsModule(function(he){he.exports?he.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=de);function X(Vr){return!de(Vr)}function de(Vr){if(!ee())return"not a browser";if(!pe())return"insufficent Array support";if(!_e())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!ot())return"insufficient JSON support";if(!St())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!Kt())return"insufficient ArrayBuffer support";if(!or())return"insufficient Canvas/getImageData support";if(!_r(Vr&&Vr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ee(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function _e(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ot(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function St(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Vr=new Blob([""],{type:"text/javascript"}),Kr=URL.createObjectURL(Vr),un,Rn;try{Rn=new Worker(Kr),un=!0}catch{un=!1}return Rn&&Rn.terminate(),URL.revokeObjectURL(Kr),un}function Ut(){return"Uint8ClampedArray"in window}function Kt(){return ArrayBuffer.isView}function or(){var Vr=document.createElement("canvas");Vr.width=Vr.height=1;var Kr=Vr.getContext("2d");if(!Kr)return!1;var un=Kr.getImageData(0,0,1,1);return un&&un.width===Vr.width}var ir={};function _r(Vr){return ir[Vr]===void 0&&(ir[Vr]=Yr(Vr)),ir[Vr]}X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Zr(Vr){var Kr=document.createElement("canvas"),un=Object.create(X.webGLContextAttributes);return un.failIfMajorPerformanceCaveat=Vr,Kr.probablySupportsContext?Kr.probablySupportsContext("webgl",un)||Kr.probablySupportsContext("experimental-webgl",un):Kr.supportsContext?Kr.supportsContext("webgl",un)||Kr.supportsContext("experimental-webgl",un):Kr.getContext("webgl",un)||Kr.getContext("experimental-webgl",un)}function Yr(Vr){var Kr=Zr(Vr);if(!Kr)return!1;var un=Kr.createShader(Kr.VERTEX_SHADER);return!un||Kr.isContextLost()?!1:(Kr.shaderSource(un,"void main() {}"),Kr.compileShader(un),Kr.getShaderParameter(un,Kr.COMPILE_STATUS)===!0)}}),M={};M.create=function(he,X,de){var ee=a.window.document.createElement(he);return X!==void 0&&(ee.className=X),de&&de.appendChild(ee),ee},M.createNS=function(he,X){var de=a.window.document.createElementNS(he,X);return de};var v=a.window.document&&a.window.document.documentElement.style;function p(he){if(!v)return he[0];for(var X=0;X<he.length;X++)if(he[X]in v)return he[X];return he[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;M.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},M.enableDrag=function(){v&&r&&(v[r]=t)};var o=p(["transform","WebkitTransform"]);M.setTransform=function(he,X){he.style[o]=X};var n=!1;try{var c=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",c,c),a.window.removeEventListener("test",c,c)}catch{n=!1}M.addEventListener=function(he,X,de,ee){ee===void 0&&(ee={}),"passive"in ee&&n?he.addEventListener(X,de,ee):he.addEventListener(X,de,ee.capture)},M.removeEventListener=function(he,X,de,ee){ee===void 0&&(ee={}),"passive"in ee&&n?he.removeEventListener(X,de,ee):he.removeEventListener(X,de,ee.capture)};var u=function(he){he.preventDefault(),he.stopPropagation(),a.window.removeEventListener("click",u,!0)};M.suppressClick=function(){a.window.addEventListener("click",u,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",u,!0)},0)},M.mousePos=function(he,X){var de=he.getBoundingClientRect();return new a.Point(X.clientX-de.left-he.clientLeft,X.clientY-de.top-he.clientTop)},M.touchPos=function(he,X){for(var de=he.getBoundingClientRect(),ee=[],pe=0;pe<X.length;pe++)ee.push(new a.Point(X[pe].clientX-de.left-he.clientLeft,X[pe].clientY-de.top-he.clientTop));return ee},M.mouseButton=function(he){return typeof a.window.InstallTrigger<"u"&&he.button===2&&he.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:he.button},M.remove=function(he){he.parentNode&&he.parentNode.removeChild(he)};function l(he,X,de){var ee,pe,_e,Xe=a.browser.devicePixelRatio>1?"@2x":"",ot=a.getJSON(X.transformRequest(X.normalizeSpriteURL(he,Xe,".json"),a.ResourceType.SpriteJSON),function(Kt,or){ot=null,_e||(_e=Kt,ee=or,Ut())}),St=a.getImage(X.transformRequest(X.normalizeSpriteURL(he,Xe,".png"),a.ResourceType.SpriteImage),function(Kt,or){St=null,_e||(_e=Kt,pe=or,Ut())});function Ut(){if(_e)de(_e);else if(ee&&pe){var Kt=a.browser.getImageData(pe),or={};for(var ir in ee){var _r=ee[ir],Zr=_r.width,Yr=_r.height,Vr=_r.x,Kr=_r.y,un=_r.sdf,Rn=_r.pixelRatio,zn=_r.stretchX,Wn=_r.stretchY,Zn=_r.content,Hn=new a.RGBAImage({width:Zr,height:Yr});a.RGBAImage.copy(Kt,Hn,{x:Vr,y:Kr},{x:0,y:0},{width:Zr,height:Yr}),or[ir]={data:Hn,pixelRatio:Rn,sdf:un,stretchX:zn,stretchY:Wn,content:Zn}}de(null,or)}}return{cancel:function(){ot&&(ot.cancel(),ot=null),St&&(St.cancel(),St=null)}}}function g(he){var X=he.userImage;if(X&&X.render){var de=X.render();if(de)return he.data.replace(new Uint8Array(X.data.buffer)),!0}return!1}var f=1,T=function(he){function X(){he.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(ee){if(this.loaded!==ee&&(this.loaded=ee,ee)){for(var pe=0,_e=this.requestors;pe<_e.length;pe+=1){var Xe=_e[pe],ot=Xe.ids,St=Xe.callback;this._notify(ot,St)}this.requestors=[]}},X.prototype.getImage=function(ee){return this.images[ee]},X.prototype.addImage=function(ee,pe){this._validate(ee,pe)&&(this.images[ee]=pe)},X.prototype._validate=function(ee,pe){var _e=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchX" value'))),_e=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchY" value'))),_e=!1),this._validateContent(pe.content,pe)||(this.fire(new a.ErrorEvent(new Error('Image "'+ee+'" has invalid "content" value'))),_e=!1),_e},X.prototype._validateStretch=function(ee,pe){if(!ee)return!0;for(var _e=0,Xe=0,ot=ee;Xe<ot.length;Xe+=1){var St=ot[Xe];if(St[0]<_e||St[1]<St[0]||pe<St[1])return!1;_e=St[1]}return!0},X.prototype._validateContent=function(ee,pe){return ee?!(ee.length!==4||ee[0]<0||pe.data.width<ee[0]||ee[1]<0||pe.data.height<ee[1]||ee[2]<0||pe.data.width<ee[2]||ee[3]<0||pe.data.height<ee[3]||ee[2]<ee[0]||ee[3]<ee[1]):!0},X.prototype.updateImage=function(ee,pe){var _e=this.images[ee];pe.version=_e.version+1,this.images[ee]=pe,this.updatedImages[ee]=!0},X.prototype.removeImage=function(ee){var pe=this.images[ee];delete this.images[ee],delete this.patterns[ee],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(ee,pe){var _e=!0;if(!this.isLoaded())for(var Xe=0,ot=ee;Xe<ot.length;Xe+=1){var St=ot[Xe];this.images[St]||(_e=!1)}this.isLoaded()||_e?this._notify(ee,pe):this.requestors.push({ids:ee,callback:pe})},X.prototype._notify=function(ee,pe){for(var _e={},Xe=0,ot=ee;Xe<ot.length;Xe+=1){var St=ot[Xe];this.images[St]||this.fire(new a.Event("styleimagemissing",{id:St}));var Ut=this.images[St];Ut?_e[St]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:a.warnOnce('Image "'+St+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,_e)},X.prototype.getPixelSize=function(){var ee=this.atlasImage,pe=ee.width,_e=ee.height;return{width:pe,height:_e}},X.prototype.getPattern=function(ee){var pe=this.patterns[ee],_e=this.getImage(ee);if(!_e)return null;if(pe&&pe.position.version===_e.version)return pe.position;if(pe)pe.position.version=_e.version;else{var Xe=_e.data.width+f*2,ot=_e.data.height+f*2,St={w:Xe,h:ot,x:0,y:0},Ut=new a.ImagePosition(St,_e);this.patterns[ee]={bin:St,position:Ut}}return this._updatePatternAtlas(),this.patterns[ee].position},X.prototype.bind=function(ee){var pe=ee.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(ee,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var ee=[];for(var pe in this.patterns)ee.push(this.patterns[pe].bin);var _e=a.potpack(ee),Xe=_e.w,ot=_e.h,St=this.atlasImage;St.resize({width:Xe||1,height:ot||1});for(var Ut in this.patterns){var Kt=this.patterns[Ut],or=Kt.bin,ir=or.x+f,_r=or.y+f,Zr=this.images[Ut].data,Yr=Zr.width,Vr=Zr.height;a.RGBAImage.copy(Zr,St,{x:0,y:0},{x:ir,y:_r},{width:Yr,height:Vr}),a.RGBAImage.copy(Zr,St,{x:0,y:Vr-1},{x:ir,y:_r-1},{width:Yr,height:1}),a.RGBAImage.copy(Zr,St,{x:0,y:0},{x:ir,y:_r+Vr},{width:Yr,height:1}),a.RGBAImage.copy(Zr,St,{x:Yr-1,y:0},{x:ir-1,y:_r},{width:1,height:Vr}),a.RGBAImage.copy(Zr,St,{x:0,y:0},{x:ir+Yr,y:_r},{width:1,height:Vr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(ee){for(var pe=0,_e=ee;pe<_e.length;pe+=1){var Xe=_e[pe];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var ot=this.images[Xe],St=g(ot);St&&this.updateImage(Xe,ot)}}},X}(a.Evented);function h(he,X,de,ee,pe){var _e=X*256,Xe=_e+255,ot=ee.transformRequest(ee.normalizeGlyphsURL(de).replace("{fontstack}",he).replace("{range}",_e+"-"+Xe),a.ResourceType.Glyphs);a.getArrayBuffer(ot,function(St,Ut){if(St)pe(St);else if(Ut){for(var Kt={},or=0,ir=a.parseGlyphPBF(Ut);or<ir.length;or+=1){var _r=ir[or];Kt[_r.id]=_r}pe(null,Kt)}})}var s=w,d=w,A=1e20;function w(he,X,de,ee,pe,_e){this.fontSize=he||24,this.buffer=X===void 0?3:X,this.cutoff=ee||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=_e||"normal",this.radius=de||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(he){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(he,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),ee=0;ee<this.size*this.size;ee++){var pe=X.data[ee*4+3]/255;this.gridOuter[ee]=pe===1?0:pe===0?A:Math.pow(Math.max(0,.5-pe),2),this.gridInner[ee]=pe===1?A:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ee=0;ee<this.size*this.size;ee++){var _e=this.gridOuter[ee]-this.gridInner[ee];de[ee]=Math.max(0,Math.min(255,Math.round(255-255*(_e/this.radius+this.cutoff))))}return de};function C(he,X,de,ee,pe,_e,Xe){for(var ot=0;ot<X;ot++){for(var St=0;St<de;St++)ee[St]=he[St*X+ot];for(b(ee,pe,_e,Xe,de),St=0;St<de;St++)he[St*X+ot]=pe[St]}for(St=0;St<de;St++){for(ot=0;ot<X;ot++)ee[ot]=he[St*X+ot];for(b(ee,pe,_e,Xe,X),ot=0;ot<X;ot++)he[St*X+ot]=Math.sqrt(pe[ot])}}function b(he,X,de,ee,pe){de[0]=0,ee[0]=-A,ee[1]=+A;for(var _e=1,Xe=0;_e<pe;_e++){for(var ot=(he[_e]+_e*_e-(he[de[Xe]]+de[Xe]*de[Xe]))/(2*_e-2*de[Xe]);ot<=ee[Xe];)Xe--,ot=(he[_e]+_e*_e-(he[de[Xe]]+de[Xe]*de[Xe]))/(2*_e-2*de[Xe]);Xe++,de[Xe]=_e,ee[Xe]=ot,ee[Xe+1]=+A}for(_e=0,Xe=0;_e<pe;_e++){for(;ee[Xe+1]<_e;)Xe++;X[_e]=(_e-de[Xe])*(_e-de[Xe])+he[de[Xe]]}}s.default=d;var S=function(X,de){this.requestManager=X,this.localIdeographFontFamily=de,this.entries={}};S.prototype.setURL=function(X){this.url=X},S.prototype.getGlyphs=function(X,de){var ee=this,pe=[];for(var _e in X)for(var Xe=0,ot=X[_e];Xe<ot.length;Xe+=1){var St=ot[Xe];pe.push({stack:_e,id:St})}a.asyncAll(pe,function(Ut,Kt){var or=Ut.stack,ir=Ut.id,_r=ee.entries[or];_r||(_r=ee.entries[or]={glyphs:{},requests:{},ranges:{}});var Zr=_r.glyphs[ir];if(Zr!==void 0){Kt(null,{stack:or,id:ir,glyph:Zr});return}if(Zr=ee._tinySDF(_r,or,ir),Zr){_r.glyphs[ir]=Zr,Kt(null,{stack:or,id:ir,glyph:Zr});return}var Yr=Math.floor(ir/256);if(Yr*256>65535){Kt(new Error("glyphs > 65535 not supported"));return}if(_r.ranges[Yr]){Kt(null,{stack:or,id:ir,glyph:Zr});return}var Vr=_r.requests[Yr];Vr||(Vr=_r.requests[Yr]=[],S.loadGlyphRange(or,Yr,ee.url,ee.requestManager,function(Kr,un){if(un){for(var Rn in un)ee._doesCharSupportLocalGlyph(+Rn)||(_r.glyphs[+Rn]=un[+Rn]);_r.ranges[Yr]=!0}for(var zn=0,Wn=Vr;zn<Wn.length;zn+=1){var Zn=Wn[zn];Zn(Kr,un)}delete _r.requests[Yr]})),Vr.push(function(Kr,un){Kr?Kt(Kr):un&&Kt(null,{stack:or,id:ir,glyph:un[ir]||null})})},function(Ut,Kt){if(Ut)de(Ut);else if(Kt){for(var or={},ir=0,_r=Kt;ir<_r.length;ir+=1){var Zr=_r[ir],Yr=Zr.stack,Vr=Zr.id,Kr=Zr.glyph;(or[Yr]||(or[Yr]={}))[Vr]=Kr&&{id:Kr.id,bitmap:Kr.bitmap.clone(),metrics:Kr.metrics}}de(null,or)}})},S.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](X)||a.isChar["Hangul Syllables"](X)||a.isChar.Hiragana(X)||a.isChar.Katakana(X))},S.prototype._tinySDF=function(X,de,ee){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(ee)){var _e=X.tinySDF;if(!_e){var Xe="400";/bold/i.test(de)?Xe="900":/medium/i.test(de)?Xe="500":/light/i.test(de)&&(Xe="200"),_e=X.tinySDF=new S.TinySDF(24,3,8,.25,pe,Xe)}return{id:ee,bitmap:new a.AlphaImage({width:30,height:30},_e.draw(String.fromCharCode(ee))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=h,S.TinySDF=s;var x=function(){this.specification=a.styleSpec.light.position};x.prototype.possiblyEvaluate=function(X,de){return a.sphericalToCartesian(X.expression.evaluate(de))},x.prototype.interpolate=function(X,de,ee){return{x:a.number(X.x,de.x,ee),y:a.number(X.y,de.y,ee),z:a.number(X.z,de.z,ee)}};var i=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new x,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),E="-transition",m=function(he){function X(de){he.call(this),this._transitionable=new a.Transitionable(i),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(ee,pe){if(pe===void 0&&(pe={}),!this._validate(a.validateLight,ee,pe))for(var _e in ee){var Xe=ee[_e];a.endsWith(_e,E)?this._transitionable.setTransition(_e.slice(0,-E.length),Xe):this._transitionable.setValue(_e,Xe)}},X.prototype.updateTransitions=function(ee){this._transitioning=this._transitionable.transitioned(ee,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(ee){this.properties=this._transitioning.possiblyEvaluate(ee)},X.prototype._validate=function(ee,pe,_e){return _e&&_e.validate===!1?!1:a.emitValidationErrors(this,ee.call(a.validateStyle,a.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},X}(a.Evented),k=function(X,de){this.width=X,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(X,de){var ee=X.join(",")+String(de);return this.dashEntry[ee]||(this.dashEntry[ee]=this.addDash(X,de)),this.dashEntry[ee]},k.prototype.getDashRanges=function(X,de,ee){var pe=X.length%2===1,_e=[],Xe=pe?-X[X.length-1]*ee:0,ot=X[0]*ee,St=!0;_e.push({left:Xe,right:ot,isDash:St,zeroLength:X[0]===0});for(var Ut=X[0],Kt=1;Kt<X.length;Kt++){St=!St;var or=X[Kt];Xe=Ut*ee,Ut+=or,ot=Ut*ee,_e.push({left:Xe,right:ot,isDash:St,zeroLength:or===0})}return _e},k.prototype.addRoundDash=function(X,de,ee){for(var pe=de/2,_e=-ee;_e<=ee;_e++)for(var Xe=this.nextRow+ee+_e,ot=this.width*Xe,St=0,Ut=X[St],Kt=0;Kt<this.width;Kt++){Kt/Ut.right>1&&(Ut=X[++St]);var or=Math.abs(Kt-Ut.left),ir=Math.abs(Kt-Ut.right),_r=Math.min(or,ir),Zr=void 0,Yr=_e/ee*(pe+1);if(Ut.isDash){var Vr=pe-Math.abs(Yr);Zr=Math.sqrt(_r*_r+Vr*Vr)}else Zr=pe-Math.sqrt(_r*_r+Yr*Yr);this.data[ot+Kt]=Math.max(0,Math.min(255,Zr+128))}},k.prototype.addRegularDash=function(X){for(var de=X.length-1;de>=0;--de){var ee=X[de],pe=X[de+1];ee.zeroLength?X.splice(de,1):pe&&pe.isDash===ee.isDash&&(pe.left=ee.left,X.splice(de,1))}var _e=X[0],Xe=X[X.length-1];_e.isDash===Xe.isDash&&(_e.left=Xe.left-this.width,Xe.right=_e.right+this.width);for(var ot=this.width*this.nextRow,St=0,Ut=X[St],Kt=0;Kt<this.width;Kt++){Kt/Ut.right>1&&(Ut=X[++St]);var or=Math.abs(Kt-Ut.left),ir=Math.abs(Kt-Ut.right),_r=Math.min(or,ir),Zr=Ut.isDash?_r:-_r;this.data[ot+Kt]=Math.max(0,Math.min(255,Zr+128))}},k.prototype.addDash=function(X,de){var ee=de?7:0,pe=2*ee+1;if(this.nextRow+pe>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var _e=0,Xe=0;Xe<X.length;Xe++)_e+=X[Xe];if(_e!==0){var ot=this.width/_e,St=this.getDashRanges(X,this.width,ot);de?this.addRoundDash(St,ot,ee):this.addRegularDash(St)}var Ut={y:(this.nextRow+ee+.5)/this.height,height:2*ee/this.height,width:_e};return this.nextRow+=pe,this.dirty=!0,Ut},k.prototype.bind=function(X){var de=X.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var I=function he(X,de){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var ee=this.workerPool.acquire(this.id),pe=0;pe<ee.length;pe++){var _e=ee[pe],Xe=new he.Actor(_e,de,this.id);Xe.name="Worker "+pe,this.actors.push(Xe)}};I.prototype.broadcast=function(X,de,ee){ee=ee||function(){},a.asyncAll(this.actors,function(pe,_e){pe.send(X,de,_e)},ee)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=a.Actor;function U(he,X,de){var ee=function(pe,_e){if(pe)return de(pe);if(_e){var Xe=a.pick(a.extend(_e,he),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);_e.vector_layers&&(Xe.vectorLayers=_e.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(ot){return ot.id})),Xe.tiles=X.canonicalizeTileset(Xe,he.url),de(null,Xe)}};return he.url?a.getJSON(X.transformRequest(X.normalizeSourceURL(he.url),a.ResourceType.Source),ee):a.browser.frame(function(){return ee(null,he)})}var z=function(X,de,ee){this.bounds=a.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=de||0,this.maxzoom=ee||24};z.prototype.validateBounds=function(X){return!Array.isArray(X)||X.length!==4?[-180,-90,180,90]:[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]},z.prototype.contains=function(X){var de=Math.pow(2,X.z),ee={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*de)},pe=X.x>=ee.minX&&X.x<ee.maxX&&X.y>=ee.minY&&X.y<ee.maxY;return pe};var F=function(he){function X(de,ee,pe,_e){if(he.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(ee,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},ee),this._collectResourceTiming=ee.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_e)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(pe,_e){ee._tileJSONRequest=null,ee._loaded=!0,pe?ee.fire(new a.ErrorEvent(pe)):_e&&(a.extend(ee,_e),_e.bounds&&(ee.tileBounds=new z(_e.bounds,ee.minzoom,ee.maxzoom)),a.postTurnstileEvent(_e.tiles,ee.map._requestManager._customAccessToken),a.postMapLoadEvent(_e.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken,ee.map._requestManager._customAccessToken),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},X.prototype.onAdd=function(ee){this.map=ee,this.load()},X.prototype.setSourceProperty=function(ee){this._tileJSONRequest&&this._tileJSONRequest.cancel(),ee();var pe=this.map.style.sourceCaches[this.id];pe.clearTiles(),this.load()},X.prototype.setTiles=function(ee){var pe=this;return this.setSourceProperty(function(){pe._options.tiles=ee}),this},X.prototype.setUrl=function(ee){var pe=this;return this.setSourceProperty(function(){pe.url=ee,pe._options.url=ee}),this},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.loadTile=function(ee,pe){var _e=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(_e,a.ResourceType.Tile),uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,tileSize:this.tileSize*ee.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!ee.actor||ee.state==="expired"?(ee.actor=this.dispatcher.getActor(),ee.request=ee.actor.send("loadTile",Xe,ot.bind(this))):ee.state==="loading"?ee.reloadCallback=pe:ee.request=ee.actor.send("reloadTile",Xe,ot.bind(this));function ot(St,Ut){if(delete ee.request,ee.aborted)return pe(null);if(St&&St.status!==404)return pe(St);Ut&&Ut.resourceTiming&&(ee.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&ee.setExpiryData(Ut),ee.loadVectorData(Ut,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),pe(null),ee.reloadCallback&&(this.loadTile(ee,ee.reloadCallback),ee.reloadCallback=null)}},X.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.actor&&ee.actor.send("abortTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(ee){ee.unloadVectorData(),ee.actor&&ee.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(a.Evented),B=function(he){function X(de,ee,pe,_e){he.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(_e),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},ee),a.extend(this,a.pick(ee,["url","scheme","tileSize"]))}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(pe,_e){ee._tileJSONRequest=null,ee._loaded=!0,pe?ee.fire(new a.ErrorEvent(pe)):_e&&(a.extend(ee,_e),_e.bounds&&(ee.tileBounds=new z(_e.bounds,ee.minzoom,ee.maxzoom)),a.postTurnstileEvent(_e.tiles),a.postMapLoadEvent(_e.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(ee){this.map=ee,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},X.prototype.loadTile=function(ee,pe){var _e=this,Xe=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=a.getImage(this.map._requestManager.transformRequest(Xe,a.ResourceType.Tile),function(ot,St){if(delete ee.request,ee.aborted)ee.state="unloaded",pe(null);else if(ot)ee.state="errored",pe(ot);else if(St){_e.map._refreshExpiredTiles&&ee.setExpiryData(St),delete St.cacheControl,delete St.expires;var Ut=_e.map.painter.context,Kt=Ut.gl;ee.texture=_e.map.painter.getTileTexture(St.width),ee.texture?ee.texture.update(St,{useMipmap:!0}):(ee.texture=new a.Texture(Ut,St,Kt.RGBA,{useMipmap:!0}),ee.texture.bind(Kt.LINEAR,Kt.CLAMP_TO_EDGE,Kt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&Kt.texParameterf(Kt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),ee.state="loaded",a.cacheEntryPossiblyAdded(_e.dispatcher),pe(null)}})},X.prototype.abortTile=function(ee,pe){ee.request&&(ee.request.cancel(),delete ee.request),pe()},X.prototype.unloadTile=function(ee,pe){ee.texture&&this.map.painter.saveTileTexture(ee.texture),pe()},X.prototype.hasTransition=function(){return!1},X}(a.Evented),O=function(he){function X(de,ee,pe,_e){he.call(this,de,ee,pe,_e),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},ee),this.encoding=ee.encoding||"mapbox"}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(ee,pe){var _e=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=a.getImage(this.map._requestManager.transformRequest(_e,a.ResourceType.Tile),Xe.bind(this)),ee.neighboringTiles=this._getNeighboringTiles(ee.tileID);function Xe(St,Ut){if(delete ee.request,ee.aborted)ee.state="unloaded",pe(null);else if(St)ee.state="errored",pe(St);else if(Ut){this.map._refreshExpiredTiles&&ee.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var Kt=a.window.ImageBitmap&&Ut instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),or=Kt?Ut:a.browser.getImageData(Ut,1),ir={uid:ee.uid,coord:ee.tileID,source:this.id,rawImageData:or,encoding:this.encoding};(!ee.actor||ee.state==="expired")&&(ee.actor=this.dispatcher.getActor(),ee.actor.send("loadDEMTile",ir,ot.bind(this)))}}function ot(St,Ut){St&&(ee.state="errored",pe(St)),Ut&&(ee.dem=Ut,ee.needsHillshadePrepare=!0,ee.state="loaded",pe(null))}},X.prototype._getNeighboringTiles=function(ee){var pe=ee.canonical,_e=Math.pow(2,pe.z),Xe=(pe.x-1+_e)%_e,ot=pe.x===0?ee.wrap-1:ee.wrap,St=(pe.x+1+_e)%_e,Ut=pe.x+1===_e?ee.wrap+1:ee.wrap,Kt={};return Kt[new a.OverscaledTileID(ee.overscaledZ,ot,pe.z,Xe,pe.y).key]={backfilled:!1},Kt[new a.OverscaledTileID(ee.overscaledZ,Ut,pe.z,St,pe.y).key]={backfilled:!1},pe.y>0&&(Kt[new a.OverscaledTileID(ee.overscaledZ,ot,pe.z,Xe,pe.y-1).key]={backfilled:!1},Kt[new a.OverscaledTileID(ee.overscaledZ,ee.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},Kt[new a.OverscaledTileID(ee.overscaledZ,Ut,pe.z,St,pe.y-1).key]={backfilled:!1}),pe.y+1<_e&&(Kt[new a.OverscaledTileID(ee.overscaledZ,ot,pe.z,Xe,pe.y+1).key]={backfilled:!1},Kt[new a.OverscaledTileID(ee.overscaledZ,ee.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},Kt[new a.OverscaledTileID(ee.overscaledZ,Ut,pe.z,St,pe.y+1).key]={backfilled:!1}),Kt},X.prototype.unloadTile=function(ee){ee.demTexture&&this.map.painter.saveTileTexture(ee.demTexture),ee.fbo&&(ee.fbo.destroy(),delete ee.fbo),ee.dem&&delete ee.dem,delete ee.neighboringTiles,ee.state="unloaded",ee.actor&&ee.actor.send("removeDEMTile",{uid:ee.uid,source:this.id})},X}(B),N=function(he){function X(de,ee,pe,_e){he.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(_e),this._data=ee.data,this._options=a.extend({},ee),this._collectResourceTiming=ee.collectResourceTiming,this._resourceTiming=[],ee.maxzoom!==void 0&&(this.maxzoom=ee.maxzoom),ee.type&&(this.type=ee.type),ee.attribution&&(this.attribution=ee.attribution),this.promoteId=ee.promoteId;var Xe=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:ee.cluster||!1,geojsonVtOptions:{buffer:(ee.buffer!==void 0?ee.buffer:128)*Xe,tolerance:(ee.tolerance!==void 0?ee.tolerance:.375)*Xe,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:ee.lineMetrics||!1,generateId:ee.generateId||!1},superclusterOptions:{maxZoom:ee.clusterMaxZoom!==void 0?Math.min(ee.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ee.clusterMinPoints||2),extent:a.EXTENT,radius:(ee.clusterRadius||50)*Xe,log:!1,generateId:ee.generateId||!1},clusterProperties:ee.clusterProperties,filter:ee.filter},ee.workerOptions)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ee=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){ee.fire(new a.ErrorEvent(pe));return}var _e={dataType:"source",sourceDataType:"metadata"};ee._collectResourceTiming&&ee._resourceTiming&&ee._resourceTiming.length>0&&(_e.resourceTiming=ee._resourceTiming,ee._resourceTiming=[]),ee.fire(new a.Event("data",_e))})},X.prototype.onAdd=function(ee){this.map=ee,this.load()},X.prototype.setData=function(ee){var pe=this;return this._data=ee,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(_e){if(_e){pe.fire(new a.ErrorEvent(_e));return}var Xe={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(Xe.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new a.Event("data",Xe))}),this},X.prototype.getClusterExpansionZoom=function(ee,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ee,source:this.id},pe),this},X.prototype.getClusterChildren=function(ee,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:ee,source:this.id},pe),this},X.prototype.getClusterLeaves=function(ee,pe,_e,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ee,limit:pe,offset:_e},Xe),this},X.prototype._updateWorkerData=function(ee){var pe=this;this._loaded=!1;var _e=a.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(_e.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Xe),a.ResourceType.Source),_e.request.collectResourceTiming=this._collectResourceTiming):_e.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",_e,function(ot,St){pe._removed||St&&St.abandoned||(pe._loaded=!0,St&&St.resourceTiming&&St.resourceTiming[pe.id]&&(pe._resourceTiming=St.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:_e.source},null),ee(ot))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(ee,pe){var _e=this,Xe=ee.actor?"reloadTile":"loadTile";ee.actor=this.actor;var ot={type:this.type,uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ee.request=this.actor.send(Xe,ot,function(St,Ut){return delete ee.request,ee.unloadVectorData(),ee.aborted?pe(null):St?pe(St):(ee.loadVectorData(Ut,_e.map.painter,Xe==="reloadTile"),pe(null))})},X.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.aborted=!0},X.prototype.unloadTile=function(ee){ee.unloadVectorData(),this.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(a.Evented),Y=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$=function(he){function X(de,ee,pe,_e){he.call(this),this.id=de,this.dispatcher=pe,this.coordinates=ee.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_e),this.options=ee}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(ee,pe){var _e=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Xe,ot){_e._loaded=!0,Xe?_e.fire(new a.ErrorEvent(Xe)):ot&&(_e.image=ot,ee&&(_e.coordinates=ee),pe&&pe(),_e._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(ee){var pe=this;return!this.image||!ee.url?this:(this.options.url=ee.url,this.load(ee.coordinates,function(){pe.texture=null}),this)},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(ee){this.map=ee,this.load()},X.prototype.setCoordinates=function(ee){var pe=this;this.coordinates=ee;var _e=ee.map(a.MercatorCoordinate.fromLngLat);this.tileID=te(_e),this.minzoom=this.maxzoom=this.tileID.z;var Xe=_e.map(function(ot){return pe.tileID.getTilePoint(ot)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ee=this.map.painter.context,pe=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(ee,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var _e in this.tiles){var Xe=this.tiles[_e];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},X.prototype.loadTile=function(ee,pe){this.tileID&&this.tileID.equals(ee.tileID.canonical)?(this.tiles[String(ee.tileID.wrap)]=ee,ee.buckets={},pe(null)):(ee.state="errored",pe(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(a.Evented);function te(he){for(var X=1/0,de=1/0,ee=-1/0,pe=-1/0,_e=0,Xe=he;_e<Xe.length;_e+=1){var ot=Xe[_e];X=Math.min(X,ot.x),de=Math.min(de,ot.y),ee=Math.max(ee,ot.x),pe=Math.max(pe,ot.y)}var St=ee-X,Ut=pe-de,Kt=Math.max(St,Ut),or=Math.max(0,Math.floor(-Math.log(Kt)/Math.LN2)),ir=Math.pow(2,or);return new a.CanonicalTileID(or,Math.floor((X+ee)/2*ir),Math.floor((de+pe)/2*ir))}var ie=function(he){function X(de,ee,pe,_e){he.call(this,de,ee,pe,_e),this.roundZoom=!0,this.type="video",this.options=ee}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ee=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var _e=0,Xe=pe.urls;_e<Xe.length;_e+=1){var ot=Xe[_e];this.urls.push(this.map._requestManager.transformRequest(ot,a.ResourceType.Source).url)}a.getVideo(this.urls,function(St,Ut){ee._loaded=!0,St?ee.fire(new a.ErrorEvent(St)):Ut&&(ee.video=Ut,ee.video.loop=!0,ee.video.addEventListener("playing",function(){ee.map.triggerRepaint()}),ee.map&&ee.video.play(),ee._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(ee){if(this.video){var pe=this.video.seekable;ee<pe.start(0)||ee>pe.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=ee}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(ee){this.map||(this.map=ee,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ee=this.map.painter.context,pe=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(ee,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var _e in this.tiles){var Xe=this.tiles[_e];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}($),ce=function(he){function X(de,ee,pe,_e){he.call(this,de,ee,pe,_e),ee.coordinates?(!Array.isArray(ee.coordinates)||ee.coordinates.length!==4||ee.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(ot){return typeof ot!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'missing required property "coordinates"'))),ee.animate&&typeof ee.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),ee.canvas?typeof ee.canvas!="string"&&!(ee.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=ee,this.animate=ee.animate!==void 0?ee.animate:!0}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(ee){this.map=ee,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var ee=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ee=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ee=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,_e=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ee||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(pe,this.canvas,_e.RGBA,{premultiply:!0});for(var Xe in this.tiles){var ot=this.tiles[Xe];ot.state!=="loaded"&&(ot.state="loaded",ot.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var ee=0,pe=[this.canvas.width,this.canvas.height];ee<pe.length;ee+=1){var _e=pe[ee];if(isNaN(_e)||_e<=0)return!0}return!1},X}($),J={vector:F,raster:B,"raster-dem":O,geojson:N,video:ie,image:$,canvas:ce},Z=function(he,X,de,ee){var pe=new J[X.type](he,X,de,ee);if(pe.id!==he)throw new Error("Expected Source id to be "+he+" instead of "+pe.id);return a.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},ae=function(he){return J[he]},j=function(he,X){J[he]=X};function q(he,X){var de=a.identity([]);return a.translate(de,de,[1,1,0]),a.scale(de,de,[he.width*.5,he.height*.5,1]),a.multiply(de,de,he.calculatePosMatrix(X.toUnwrapped()))}function oe(he,X,de){if(he)for(var ee=0,pe=he;ee<pe.length;ee+=1){var _e=pe[ee],Xe=X[_e];if(Xe&&Xe.source===de&&Xe.type==="fill-extrusion")return!0}else for(var ot in X){var St=X[ot];if(St.source===de&&St.type==="fill-extrusion")return!0}return!1}function Q(he,X,de,ee,pe,_e){var Xe=oe(pe&&pe.layers,X,he.id),ot=_e.maxPitchScaleFactor(),St=he.tilesIn(ee,ot,Xe);St.sort(ne);for(var Ut=[],Kt=0,or=St;Kt<or.length;Kt+=1){var ir=or[Kt];Ut.push({wrappedTileID:ir.tileID.wrapped().key,queryResults:ir.tile.queryRenderedFeatures(X,de,he._state,ir.queryGeometry,ir.cameraQueryGeometry,ir.scale,pe,_e,ot,q(he.transform,ir.tileID))})}var _r=fe(Ut);for(var Zr in _r)_r[Zr].forEach(function(Yr){var Vr=Yr.feature,Kr=he.getFeatureState(Vr.layer["source-layer"],Vr.id);Vr.source=Vr.layer.source,Vr.layer["source-layer"]&&(Vr.sourceLayer=Vr.layer["source-layer"]),Vr.state=Kr});return _r}function K(he,X,de,ee,pe,_e,Xe){for(var ot={},St=_e.queryRenderedSymbols(ee),Ut=[],Kt=0,or=Object.keys(St).map(Number);Kt<or.length;Kt+=1){var ir=or[Kt];Ut.push(Xe[ir])}Ut.sort(ne);for(var _r=function(){var un=Yr[Zr],Rn=un.featureIndex.lookupSymbolFeatures(St[un.bucketInstanceId],X,un.bucketIndex,un.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,he);for(var zn in Rn){var Wn=ot[zn]=ot[zn]||[],Zn=Rn[zn];Zn.sort(function(fa,ma){var va=un.featureSortOrder;if(va){var _a=va.indexOf(fa.featureIndex),Ja=va.indexOf(ma.featureIndex);return Ja-_a}else return ma.featureIndex-fa.featureIndex});for(var Hn=0,jn=Zn;Hn<jn.length;Hn+=1){var aa=jn[Hn];Wn.push(aa)}}},Zr=0,Yr=Ut;Zr<Yr.length;Zr+=1)_r();var Vr=function(un){ot[un].forEach(function(Rn){var zn=Rn.feature,Wn=he[un],Zn=de[Wn.source],Hn=Zn.getFeatureState(zn.layer["source-layer"],zn.id);zn.source=zn.layer.source,zn.layer["source-layer"]&&(zn.sourceLayer=zn.layer["source-layer"]),zn.state=Hn})};for(var Kr in ot)Vr(Kr);return ot}function se(he,X){for(var de=he.getRenderableIds().map(function(St){return he.getTileByID(St)}),ee=[],pe={},_e=0;_e<de.length;_e++){var Xe=de[_e],ot=Xe.tileID.canonical.key;pe[ot]||(pe[ot]=!0,Xe.querySourceFeatures(ee,X))}return ee}function ne(he,X){var de=he.tileID,ee=X.tileID;return de.overscaledZ-ee.overscaledZ||de.canonical.y-ee.canonical.y||de.wrap-ee.wrap||de.canonical.x-ee.canonical.x}function fe(he){for(var X={},de={},ee=0,pe=he;ee<pe.length;ee+=1){var _e=pe[ee],Xe=_e.queryResults,ot=_e.wrappedTileID,St=de[ot]=de[ot]||{};for(var Ut in Xe)for(var Kt=Xe[Ut],or=St[Ut]=St[Ut]||{},ir=X[Ut]=X[Ut]||[],_r=0,Zr=Kt;_r<Zr.length;_r+=1){var Yr=Zr[_r];or[Yr.featureIndex]||(or[Yr.featureIndex]=!0,ir.push(Yr))}}return X}var ye=function(X,de){this.max=X,this.onRemove=de,this.reset()};ye.prototype.reset=function(){for(var X in this.data)for(var de=0,ee=this.data[X];de<ee.length;de+=1){var pe=ee[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},ye.prototype.add=function(X,de,ee){var pe=this,_e=X.wrapped().key;this.data[_e]===void 0&&(this.data[_e]=[]);var Xe={value:de,timeout:void 0};if(ee!==void 0&&(Xe.timeout=setTimeout(function(){pe.remove(X,Xe)},ee)),this.data[_e].push(Xe),this.order.push(_e),this.order.length>this.max){var ot=this._getAndRemoveByKey(this.order[0]);ot&&this.onRemove(ot)}return this},ye.prototype.has=function(X){return X.wrapped().key in this.data},ye.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},ye.prototype._getAndRemoveByKey=function(X){var de=this.data[X].shift();return de.timeout&&clearTimeout(de.timeout),this.data[X].length===0&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),de.value},ye.prototype.getByKey=function(X){var de=this.data[X];return de?de[0].value:null},ye.prototype.get=function(X){if(!this.has(X))return null;var de=this.data[X.wrapped().key][0];return de.value},ye.prototype.remove=function(X,de){if(!this.has(X))return this;var ee=X.wrapped().key,pe=de===void 0?0:this.data[ee].indexOf(de),_e=this.data[ee][pe];return this.data[ee].splice(pe,1),_e.timeout&&clearTimeout(_e.timeout),this.data[ee].length===0&&delete this.data[ee],this.onRemove(_e.value),this.order.splice(this.order.indexOf(ee),1),this},ye.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ye.prototype.filter=function(X){var de=[];for(var ee in this.data)for(var pe=0,_e=this.data[ee];pe<_e.length;pe+=1){var Xe=_e[pe];X(Xe.value)||de.push(Xe)}for(var ot=0,St=de;ot<St.length;ot+=1){var Ut=St[ot];this.remove(Ut.value.tileID,Ut)}};var Ee=function(X,de,ee){this.context=X;var pe=X.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=!!ee,this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Ee.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ee.prototype.updateData=function(X){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},Ee.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ze=function(X,de,ee,pe){this.length=de.length,this.attributes=ee,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=X;var _e=X.gl;this.buffer=_e.createBuffer(),X.bindVertexBuffer.set(this.buffer),_e.bufferData(_e.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?_e.DYNAMIC_DRAW:_e.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};ze.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ze.prototype.updateData=function(X){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,X.arrayBuffer)},ze.prototype.enableAttributes=function(X,de){for(var ee=0;ee<this.attributes.length;ee++){var pe=this.attributes[ee],_e=de.attributes[pe.name];_e!==void 0&&X.enableVertexAttribArray(_e)}},ze.prototype.setVertexAttribPointers=function(X,de,ee){for(var pe=0;pe<this.attributes.length;pe++){var _e=this.attributes[pe],Xe=de.attributes[_e.name];Xe!==void 0&&X.vertexAttribPointer(Xe,_e.components,X[Te[_e.type]],!1,this.itemSize,_e.offset+this.itemSize*(ee||0))}},ze.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var ke=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ke.prototype.get=function(){return this.current},ke.prototype.set=function(X){},ke.prototype.getDefault=function(){return this.default},ke.prototype.setDefault=function(){this.set(this.default)};var Se=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ee){var pe=this.current;ee.r===pe.r&&ee.g===pe.g&&ee.b===pe.b&&ee.a===pe.a&&!this.dirty||(this.gl.clearColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},X}(ke),me=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearDepth(ee),this.current=ee,this.dirty=!1)},X}(ke),Ce=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearStencil(ee),this.current=ee,this.dirty=!1)},X}(ke),Ne=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&ee[3]===pe[3]&&!this.dirty||(this.gl.colorMask(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},X}(ke),He=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthMask(ee),this.current=ee,this.dirty=!1)},X}(ke),De=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.stencilMask(ee),this.current=ee,this.dirty=!1)},X}(ke),Ve=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(ee){var pe=this.current;ee.func===pe.func&&ee.ref===pe.ref&&ee.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(ee.func,ee.ref,ee.mask),this.current=ee,this.dirty=!1)},X}(ke),at=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ee=this.gl;return[ee.KEEP,ee.KEEP,ee.KEEP]},X.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(ee[0],ee[1],ee[2]),this.current=ee,this.dirty=!1)},X}(ke),lt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=ee,this.dirty=!1}},X}(ke),$e=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&!this.dirty||(this.gl.depthRange(ee[0],ee[1]),this.current=ee,this.dirty=!1)},X}(ke),et=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=ee,this.dirty=!1}},X}(ke),ct=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthFunc(ee),this.current=ee,this.dirty=!1)},X}(ke),dt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=ee,this.dirty=!1}},X}(ke),gt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ee=this.gl;return[ee.ONE,ee.ZERO]},X.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(ee[0],ee[1]),this.current=ee,this.dirty=!1)},X}(ke),At=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ee){var pe=this.current;ee.r===pe.r&&ee.g===pe.g&&ee.b===pe.b&&ee.a===pe.a&&!this.dirty||(this.gl.blendColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},X}(ke),Rt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.blendEquation(ee),this.current=ee,this.dirty=!1)},X}(ke),Vt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=ee,this.dirty=!1}},X}(ke),Je=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.cullFace(ee),this.current=ee,this.dirty=!1)},X}(ke),Ge=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.frontFace(ee),this.current=ee,this.dirty=!1)},X}(ke),Ie=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.useProgram(ee),this.current=ee,this.dirty=!1)},X}(ke),Fe=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.activeTexture(ee),this.current=ee,this.dirty=!1)},X}(ke),Pe=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ee=this.gl;return[0,0,ee.drawingBufferWidth,ee.drawingBufferHeight]},X.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&ee[3]===pe[3]&&!this.dirty||(this.gl.viewport(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},X}(ke),xe=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,ee),this.current=ee,this.dirty=!1}},X}(ke),ge=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},X}(ke),Me=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,ee),this.current=ee,this.dirty=!1}},X}(ke),Ae=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1}},X}(ke),Ue=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ee){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1},X}(ke),Ze=function(he){function X(de){he.call(this,de),this.vao=de.extVertexArrayObject}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ee){!this.vao||ee===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ee),this.current=ee,this.dirty=!1)},X}(ke),tt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,ee),this.current=ee,this.dirty=!1}},X}(ke),ft=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee),this.current=ee,this.dirty=!1}},X}(ke),pt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,ee),this.current=ee,this.dirty=!1}},X}(ke),Yt=function(he){function X(de,ee){he.call(this,de),this.context=de,this.parent=ee}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X}(ke),Jt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,ee,0),this.current=ee,this.dirty=!1}},X}(Yt),Tt=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},X}(Yt),zt=function(X,de,ee,pe){this.context=X,this.width=de,this.height=ee;var _e=X.gl,Xe=this.framebuffer=_e.createFramebuffer();this.colorAttachment=new Jt(X,Xe),pe&&(this.depthAttachment=new Tt(X,Xe))};zt.prototype.destroy=function(){var X=this.context.gl,de=this.colorAttachment.get();if(de&&X.deleteTexture(de),this.depthAttachment){var ee=this.depthAttachment.get();ee&&X.deleteRenderbuffer(ee)}X.deleteFramebuffer(this.framebuffer)};var $t=519,wr=function(X,de,ee){this.func=X,this.mask=de,this.range=ee};wr.ReadOnly=!1,wr.ReadWrite=!0,wr.disabled=new wr($t,wr.ReadOnly,[0,1]);var yt=519,Xt=7680,Qt=function(X,de,ee,pe,_e,Xe){this.test=X,this.ref=de,this.mask=ee,this.fail=pe,this.depthFail=_e,this.pass=Xe};Qt.disabled=new Qt({func:yt,mask:0},0,0,Xt,Xt,Xt);var gr=0,sr=1,vt=771,it=function(X,de,ee){this.blendFunction=X,this.blendColor=de,this.mask=ee};it.Replace=[sr,gr],it.disabled=new it(it.Replace,a.Color.transparent,[!1,!1,!1,!1]),it.unblended=new it(it.Replace,a.Color.transparent,[!0,!0,!0,!0]),it.alphaBlended=new it([sr,vt],a.Color.transparent,[!0,!0,!0,!0]);var xt=1029,Mt=2305,Dt=function(X,de,ee){this.enable=X,this.mode=de,this.frontFace=ee};Dt.disabled=new Dt(!1,xt,Mt),Dt.backCCW=new Dt(!0,xt,Mt);var Lt=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Se(this),this.clearDepth=new me(this),this.clearStencil=new Ce(this),this.colorMask=new Ne(this),this.depthMask=new He(this),this.stencilMask=new De(this),this.stencilFunc=new Ve(this),this.stencilOp=new at(this),this.stencilTest=new lt(this),this.depthRange=new $e(this),this.depthTest=new et(this),this.depthFunc=new ct(this),this.blend=new dt(this),this.blendFunc=new gt(this),this.blendColor=new At(this),this.blendEquation=new Rt(this),this.cullFace=new Vt(this),this.cullFaceSide=new Je(this),this.frontFace=new Ge(this),this.program=new Ie(this),this.activeTexture=new Fe(this),this.viewport=new Pe(this),this.bindFramebuffer=new xe(this),this.bindRenderbuffer=new ge(this),this.bindTexture=new Me(this),this.bindVertexBuffer=new Ae(this),this.bindElementBuffer=new Ue(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ze(this),this.pixelStoreUnpack=new tt(this),this.pixelStoreUnpackPremultiplyAlpha=new ft(this),this.pixelStoreUnpackFlipY=new pt(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=X.getParameter(X.MAX_TEXTURE_SIZE)};Lt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Lt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Lt.prototype.createIndexBuffer=function(X,de){return new Ee(this,X,de)},Lt.prototype.createVertexBuffer=function(X,de,ee){return new ze(this,X,de,ee)},Lt.prototype.createRenderbuffer=function(X,de,ee){var pe=this.gl,_e=pe.createRenderbuffer();return this.bindRenderbuffer.set(_e),pe.renderbufferStorage(pe.RENDERBUFFER,X,de,ee),this.bindRenderbuffer.set(null),_e},Lt.prototype.createFramebuffer=function(X,de,ee){return new zt(this,X,de,ee)},Lt.prototype.clear=function(X){var de=X.color,ee=X.depth,pe=this.gl,_e=0;de&&(_e|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof ee<"u"&&(_e|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ee),this.depthMask.set(!0)),pe.clear(_e)},Lt.prototype.setCullFace=function(X){X.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Lt.prototype.setDepthMode=function(X){X.func===this.gl.ALWAYS&&!X.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range))},Lt.prototype.setStencilMode=function(X){X.test.func===this.gl.ALWAYS&&!X.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask}))},Lt.prototype.setColorMode=function(X){a.deepEqual(X.blendFunction,it.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Lt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(he){function X(de,ee,pe){var _e=this;he.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(_e._sourceLoaded=!0),_e._sourceLoaded&&!_e._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(_e.reload(),_e.transform&&_e.update(_e.transform))}),this.on("error",function(){_e._sourceErrored=!0}),this._source=Z(de,ee,pe,this),this._tiles={},this._cache=new ye(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ee){this.map=ee,this._maxTileCacheSize=ee?ee._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ee)},X.prototype.onRemove=function(ee){this._source&&this._source.onRemove&&this._source.onRemove(ee)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ee in this._tiles){var pe=this._tiles[ee];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var ee=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ee&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(ee,pe){return this._source.loadTile(ee,pe)},X.prototype._unloadTile=function(ee){if(this._source.unloadTile)return this._source.unloadTile(ee,function(){})},X.prototype._abortTile=function(ee){if(this._source.abortTile)return this._source.abortTile(ee,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(ee){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var _e=this._tiles[pe];_e.upload(ee),_e.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return a.values(this._tiles).map(function(ee){return ee.tileID}).sort(Nt).map(function(ee){return ee.key})},X.prototype.getRenderableIds=function(ee){var pe=this,_e=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,ee)&&_e.push(this._tiles[Xe]);return ee?_e.sort(function(ot,St){var Ut=ot.tileID,Kt=St.tileID,or=new a.Point(Ut.canonical.x,Ut.canonical.y)._rotate(pe.transform.angle),ir=new a.Point(Kt.canonical.x,Kt.canonical.y)._rotate(pe.transform.angle);return Ut.overscaledZ-Kt.overscaledZ||ir.y-or.y||ir.x-or.x}).map(function(ot){return ot.tileID.key}):_e.map(function(ot){return ot.tileID}).sort(Nt).map(function(ot){return ot.key})},X.prototype.hasRenderableParent=function(ee){var pe=this.findLoadedParent(ee,0);return pe?this._isIdRenderable(pe.tileID.key):!1},X.prototype._isIdRenderable=function(ee,pe){return this._tiles[ee]&&this._tiles[ee].hasData()&&!this._coveredTiles[ee]&&(pe||!this._tiles[ee].holdingForFade())},X.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ee in this._tiles)this._tiles[ee].state!=="errored"&&this._reloadTile(ee,"reloading")},X.prototype._reloadTile=function(ee,pe){var _e=this._tiles[ee];_e&&(_e.state!=="loading"&&(_e.state=pe),this._loadTile(_e,this._tileLoaded.bind(this,_e,ee,pe)))},X.prototype._tileLoaded=function(ee,pe,_e,Xe){if(Xe){ee.state="errored",Xe.status!==404?this._source.fire(new a.ErrorEvent(Xe,{tile:ee})):this.update(this.transform);return}ee.timeAdded=a.browser.now(),_e==="expired"&&(ee.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,ee),this.getSource().type==="raster-dem"&&ee.dem&&this._backfillDEM(ee),this._state.initializeTileState(ee,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:ee,coord:ee.tileID}))},X.prototype._backfillDEM=function(ee){for(var pe=this.getRenderableIds(),_e=0;_e<pe.length;_e++){var Xe=pe[_e];if(ee.neighboringTiles&&ee.neighboringTiles[Xe]){var ot=this.getTileByID(Xe);St(ee,ot),St(ot,ee)}}function St(Ut,Kt){Ut.needsHillshadePrepare=!0;var or=Kt.tileID.canonical.x-Ut.tileID.canonical.x,ir=Kt.tileID.canonical.y-Ut.tileID.canonical.y,_r=Math.pow(2,Ut.tileID.canonical.z),Zr=Kt.tileID.key;or===0&&ir===0||Math.abs(ir)>1||(Math.abs(or)>1&&(Math.abs(or+_r)===1?or+=_r:Math.abs(or-_r)===1&&(or-=_r)),!(!Kt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(Kt.dem,or,ir),Ut.neighboringTiles&&Ut.neighboringTiles[Zr]&&(Ut.neighboringTiles[Zr].backfilled=!0)))}},X.prototype.getTile=function(ee){return this.getTileByID(ee.key)},X.prototype.getTileByID=function(ee){return this._tiles[ee]},X.prototype._retainLoadedChildren=function(ee,pe,_e,Xe){for(var ot in this._tiles){var St=this._tiles[ot];if(!(Xe[ot]||!St.hasData()||St.tileID.overscaledZ<=pe||St.tileID.overscaledZ>_e)){for(var Ut=St.tileID;St&&St.tileID.overscaledZ>pe+1;){var Kt=St.tileID.scaledTo(St.tileID.overscaledZ-1);St=this._tiles[Kt.key],St&&St.hasData()&&(Ut=Kt)}for(var or=Ut;or.overscaledZ>pe;)if(or=or.scaledTo(or.overscaledZ-1),ee[or.key]){Xe[Ut.key]=Ut;break}}}},X.prototype.findLoadedParent=function(ee,pe){if(ee.key in this._loadedParentTiles){var _e=this._loadedParentTiles[ee.key];return _e&&_e.tileID.overscaledZ>=pe?_e:null}for(var Xe=ee.overscaledZ-1;Xe>=pe;Xe--){var ot=ee.scaledTo(Xe),St=this._getLoadedTile(ot);if(St)return St}},X.prototype._getLoadedTile=function(ee){var pe=this._tiles[ee.key];if(pe&&pe.hasData())return pe;var _e=this._cache.getByKey(ee.wrapped().key);return _e},X.prototype.updateCacheSize=function(ee){var pe=Math.ceil(ee.width/this._source.tileSize)+1,_e=Math.ceil(ee.height/this._source.tileSize)+1,Xe=pe*_e,ot=5,St=Math.floor(Xe*ot),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,St):St;this._cache.setMaxSize(Ut)},X.prototype.handleWrapJump=function(ee){var pe=this._prevLng===void 0?ee:this._prevLng,_e=ee-pe,Xe=_e/360,ot=Math.round(Xe);if(this._prevLng=ee,ot){var St={};for(var Ut in this._tiles){var Kt=this._tiles[Ut];Kt.tileID=Kt.tileID.unwrapTo(Kt.tileID.wrap+ot),St[Kt.tileID.key]=Kt}this._tiles=St;for(var or in this._timers)clearTimeout(this._timers[or]),delete this._timers[or];for(var ir in this._tiles){var _r=this._tiles[ir];this._setTileReloadTimer(ir,_r)}}},X.prototype.update=function(ee){var pe=this;if(this.transform=ee,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ee),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var _e;this.used?this._source.tileID?_e=ee.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(fa){return new a.OverscaledTileID(fa.canonical.z,fa.wrap,fa.canonical.z,fa.canonical.x,fa.canonical.y)}):(_e=ee.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(_e=_e.filter(function(fa){return pe._source.hasTile(fa)}))):_e=[];var Xe=ee.coveringZoomLevel(this._source),ot=Math.max(Xe-X.maxOverzooming,this._source.minzoom),St=Math.max(Xe+X.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(_e,Xe);if(jt(this._source.type)){for(var Kt={},or={},ir=Object.keys(Ut),_r=0,Zr=ir;_r<Zr.length;_r+=1){var Yr=Zr[_r],Vr=Ut[Yr],Kr=this._tiles[Yr];if(!(!Kr||Kr.fadeEndTime&&Kr.fadeEndTime<=a.browser.now())){var un=this.findLoadedParent(Vr,ot);un&&(this._addTile(un.tileID),Kt[un.tileID.key]=un.tileID),or[Yr]=Vr}}this._retainLoadedChildren(or,Xe,St,Ut);for(var Rn in Kt)Ut[Rn]||(this._coveredTiles[Rn]=!0,Ut[Rn]=Kt[Rn])}for(var zn in Ut)this._tiles[zn].clearFadeHold();for(var Wn=a.keysDifference(this._tiles,Ut),Zn=0,Hn=Wn;Zn<Hn.length;Zn+=1){var jn=Hn[Zn],aa=this._tiles[jn];aa.hasSymbolBuckets&&!aa.holdingForFade()?aa.setHoldDuration(this.map._fadeDuration):(!aa.hasSymbolBuckets||aa.symbolFadeFinished())&&this._removeTile(jn)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var ee in this._tiles)this._tiles[ee].holdingForFade()&&this._removeTile(ee)},X.prototype._updateRetainedTiles=function(ee,pe){for(var _e={},Xe={},ot=Math.max(pe-X.maxOverzooming,this._source.minzoom),St=Math.max(pe+X.maxUnderzooming,this._source.minzoom),Ut={},Kt=0,or=ee;Kt<or.length;Kt+=1){var ir=or[Kt],_r=this._addTile(ir);_e[ir.key]=ir,!_r.hasData()&&pe<this._source.maxzoom&&(Ut[ir.key]=ir)}this._retainLoadedChildren(Ut,pe,St,_e);for(var Zr=0,Yr=ee;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr],Kr=this._tiles[Vr.key];if(!Kr.hasData()){if(pe+1>this._source.maxzoom){var un=Vr.children(this._source.maxzoom)[0],Rn=this.getTile(un);if(Rn&&Rn.hasData()){_e[un.key]=un;continue}}else{var zn=Vr.children(this._source.maxzoom);if(_e[zn[0].key]&&_e[zn[1].key]&&_e[zn[2].key]&&_e[zn[3].key])continue}for(var Wn=Kr.wasRequested(),Zn=Vr.overscaledZ-1;Zn>=ot;--Zn){var Hn=Vr.scaledTo(Zn);if(Xe[Hn.key]||(Xe[Hn.key]=!0,Kr=this.getTile(Hn),!Kr&&Wn&&(Kr=this._addTile(Hn)),Kr&&(_e[Hn.key]=Hn,Wn=Kr.wasRequested(),Kr.hasData())))break}}}return _e},X.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ee in this._tiles){for(var pe=[],_e=void 0,Xe=this._tiles[ee].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){_e=this._loadedParentTiles[Xe.key];break}pe.push(Xe.key);var ot=Xe.scaledTo(Xe.overscaledZ-1);if(_e=this._getLoadedTile(ot),_e)break;Xe=ot}for(var St=0,Ut=pe;St<Ut.length;St+=1){var Kt=Ut[St];this._loadedParentTiles[Kt]=_e}}},X.prototype._addTile=function(ee){var pe=this._tiles[ee.key];if(pe)return pe;pe=this._cache.getAndRemove(ee),pe&&(this._setTileReloadTimer(ee.key,pe),pe.tileID=ee,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[ee.key]&&(clearTimeout(this._cacheTimers[ee.key]),delete this._cacheTimers[ee.key],this._setTileReloadTimer(ee.key,pe)));var _e=!!pe;return _e||(pe=new a.Tile(ee,this._source.tileSize*ee.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,ee.key,pe.state))),pe?(pe.uses++,this._tiles[ee.key]=pe,_e||this._source.fire(new a.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},X.prototype._setTileReloadTimer=function(ee,pe){var _e=this;ee in this._timers&&(clearTimeout(this._timers[ee]),delete this._timers[ee]);var Xe=pe.getExpiryTimeout();Xe&&(this._timers[ee]=setTimeout(function(){_e._reloadTile(ee,"expired"),delete _e._timers[ee]},Xe))},X.prototype._removeTile=function(ee){var pe=this._tiles[ee];pe&&(pe.uses--,delete this._tiles[ee],this._timers[ee]&&(clearTimeout(this._timers[ee]),delete this._timers[ee]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},X.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ee in this._tiles)this._removeTile(ee);this._cache.reset()},X.prototype.tilesIn=function(ee,pe,_e){var Xe=this,ot=[],St=this.transform;if(!St)return ot;for(var Ut=_e?St.getCameraQueryGeometry(ee):ee,Kt=ee.map(function(Zn){return St.pointCoordinate(Zn)}),or=Ut.map(function(Zn){return St.pointCoordinate(Zn)}),ir=this.getIds(),_r=1/0,Zr=1/0,Yr=-1/0,Vr=-1/0,Kr=0,un=or;Kr<un.length;Kr+=1){var Rn=un[Kr];_r=Math.min(_r,Rn.x),Zr=Math.min(Zr,Rn.y),Yr=Math.max(Yr,Rn.x),Vr=Math.max(Vr,Rn.y)}for(var zn=function(Zn){var Hn=Xe._tiles[ir[Zn]];if(!Hn.holdingForFade()){var jn=Hn.tileID,aa=Math.pow(2,St.zoom-Hn.tileID.overscaledZ),fa=pe*Hn.queryPadding*a.EXTENT/Hn.tileSize/aa,ma=[jn.getTilePoint(new a.MercatorCoordinate(_r,Zr)),jn.getTilePoint(new a.MercatorCoordinate(Yr,Vr))];if(ma[0].x-fa<a.EXTENT&&ma[0].y-fa<a.EXTENT&&ma[1].x+fa>=0&&ma[1].y+fa>=0){var va=Kt.map(function(Ja){return jn.getTilePoint(Ja)}),_a=or.map(function(Ja){return jn.getTilePoint(Ja)});ot.push({tile:Hn,tileID:jn,queryGeometry:va,cameraQueryGeometry:_a,scale:aa})}}},Wn=0;Wn<ir.length;Wn++)zn(Wn);return ot},X.prototype.getVisibleCoordinates=function(ee){for(var pe=this,_e=this.getRenderableIds(ee).map(function(Ut){return pe._tiles[Ut].tileID}),Xe=0,ot=_e;Xe<ot.length;Xe+=1){var St=ot[Xe];St.posMatrix=this.transform.calculatePosMatrix(St.toUnwrapped())}return _e},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(jt(this._source.type))for(var ee in this._tiles){var pe=this._tiles[ee];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=a.browser.now())return!0}return!1},X.prototype.setFeatureState=function(ee,pe,_e){ee=ee||"_geojsonTileLayer",this._state.updateState(ee,pe,_e)},X.prototype.removeFeatureState=function(ee,pe,_e){ee=ee||"_geojsonTileLayer",this._state.removeFeatureState(ee,pe,_e)},X.prototype.getFeatureState=function(ee,pe){return ee=ee||"_geojsonTileLayer",this._state.getState(ee,pe)},X.prototype.setDependencies=function(ee,pe,_e){var Xe=this._tiles[ee];Xe&&Xe.setDependencies(pe,_e)},X.prototype.reloadTilesForDependencies=function(ee,pe){for(var _e in this._tiles){var Xe=this._tiles[_e];Xe.hasDependency(ee,pe)&&this._reloadTile(_e,"reloading")}this._cache.filter(function(ot){return!ot.hasDependency(ee,pe)})},X}(a.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Nt(he,X){var de=Math.abs(he.wrap*2)-+(he.wrap<0),ee=Math.abs(X.wrap*2)-+(X.wrap<0);return he.overscaledZ-X.overscaledZ||ee-de||X.canonical.y-he.canonical.y||X.canonical.x-he.canonical.x}function jt(he){return he==="raster"||he==="image"||he==="video"}function lr(){return new a.window.Worker(io.workerUrl)}var fr="mapboxgl_preloaded_worker_pool",hr=function(){this.active={}};hr.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<hr.workerCount;)this.workers.push(new lr);return this.active[X]=!0,this.workers.slice()},hr.prototype.release=function(X){delete this.active[X],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},hr.prototype.isPreloaded=function(){return!!this.active[fr]},hr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(a.browser.hardwareConcurrency/2);hr.workerCount=Math.max(Math.min(Ye,6),1);var We;function kt(){return We||(We=new hr),We}function It(){var he=kt();he.acquire(fr)}function Zt(){var he=We;he&&(he.isPreloaded()&&he.numActive()===1?(he.release(fr),We=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function rr(he,X){var de={};for(var ee in he)ee!=="ref"&&(de[ee]=he[ee]);return a.refProperties.forEach(function(pe){pe in X&&(de[pe]=X[pe])}),de}function ur(he){he=he.slice();for(var X=Object.create(null),de=0;de<he.length;de++)X[he[de].id]=he[de];for(var ee=0;ee<he.length;ee++)"ref"in he[ee]&&(he[ee]=rr(he[ee],X[he[ee].ref]));return he}function er(){var he={},X=a.styleSpec.$version;for(var de in a.styleSpec.$root){var ee=a.styleSpec.$root[de];if(ee.required){var pe=null;de==="version"?pe=X:ee.type==="array"?pe=[]:pe={},pe!=null&&(he[de]=pe)}}return he}var Ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vr(he,X,de){de.push({command:Ot.addSource,args:[he,X[he]]})}function yr(he,X,de){X.push({command:Ot.removeSource,args:[he]}),de[he]=!0}function pr(he,X,de,ee){yr(he,de,ee),vr(he,X,de)}function cr(he,X,de){var ee;for(ee in he[de])if(he[de].hasOwnProperty(ee)&&ee!=="data"&&!a.deepEqual(he[de][ee],X[de][ee]))return!1;for(ee in X[de])if(X[de].hasOwnProperty(ee)&&ee!=="data"&&!a.deepEqual(he[de][ee],X[de][ee]))return!1;return!0}function Ur(he,X,de,ee){he=he||{},X=X||{};var pe;for(pe in he)he.hasOwnProperty(pe)&&(X.hasOwnProperty(pe)||yr(pe,de,ee));for(pe in X)X.hasOwnProperty(pe)&&(he.hasOwnProperty(pe)?a.deepEqual(he[pe],X[pe])||(he[pe].type==="geojson"&&X[pe].type==="geojson"&&cr(he,X,pe)?de.push({command:Ot.setGeoJSONSourceData,args:[pe,X[pe].data]}):pr(pe,X,de,ee)):vr(pe,X,de))}function kr(he,X,de,ee,pe,_e){he=he||{},X=X||{};var Xe;for(Xe in he)he.hasOwnProperty(Xe)&&(a.deepEqual(he[Xe],X[Xe])||de.push({command:_e,args:[ee,Xe,X[Xe],pe]}));for(Xe in X)!X.hasOwnProperty(Xe)||he.hasOwnProperty(Xe)||a.deepEqual(he[Xe],X[Xe])||de.push({command:_e,args:[ee,Xe,X[Xe],pe]})}function Rr(he){return he.id}function hn(he,X){return he[X.id]=X,he}function tn(he,X,de){he=he||[],X=X||[];var ee=he.map(Rr),pe=X.map(Rr),_e=he.reduce(hn,{}),Xe=X.reduce(hn,{}),ot=ee.slice(),St=Object.create(null),Ut,Kt,or,ir,_r,Zr,Yr;for(Ut=0,Kt=0;Ut<ee.length;Ut++)or=ee[Ut],Xe.hasOwnProperty(or)?Kt++:(de.push({command:Ot.removeLayer,args:[or]}),ot.splice(ot.indexOf(or,Kt),1));for(Ut=0,Kt=0;Ut<pe.length;Ut++)or=pe[pe.length-1-Ut],ot[ot.length-1-Ut]!==or&&(_e.hasOwnProperty(or)?(de.push({command:Ot.removeLayer,args:[or]}),ot.splice(ot.lastIndexOf(or,ot.length-Kt),1)):Kt++,Zr=ot[ot.length-Ut],de.push({command:Ot.addLayer,args:[Xe[or],Zr]}),ot.splice(ot.length-Ut,0,or),St[or]=!0);for(Ut=0;Ut<pe.length;Ut++)if(or=pe[Ut],ir=_e[or],_r=Xe[or],!(St[or]||a.deepEqual(ir,_r))){if(!a.deepEqual(ir.source,_r.source)||!a.deepEqual(ir["source-layer"],_r["source-layer"])||!a.deepEqual(ir.type,_r.type)){de.push({command:Ot.removeLayer,args:[or]}),Zr=ot[ot.lastIndexOf(or)+1],de.push({command:Ot.addLayer,args:[_r,Zr]});continue}kr(ir.layout,_r.layout,de,or,null,Ot.setLayoutProperty),kr(ir.paint,_r.paint,de,or,null,Ot.setPaintProperty),a.deepEqual(ir.filter,_r.filter)||de.push({command:Ot.setFilter,args:[or,_r.filter]}),(!a.deepEqual(ir.minzoom,_r.minzoom)||!a.deepEqual(ir.maxzoom,_r.maxzoom))&&de.push({command:Ot.setLayerZoomRange,args:[or,_r.minzoom,_r.maxzoom]});for(Yr in ir)ir.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(ir[Yr],_r[Yr],de,or,Yr.slice(6),Ot.setPaintProperty):a.deepEqual(ir[Yr],_r[Yr])||de.push({command:Ot.setLayerProperty,args:[or,Yr,_r[Yr]]})));for(Yr in _r)!_r.hasOwnProperty(Yr)||ir.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(ir[Yr],_r[Yr],de,or,Yr.slice(6),Ot.setPaintProperty):a.deepEqual(ir[Yr],_r[Yr])||de.push({command:Ot.setLayerProperty,args:[or,Yr,_r[Yr]]}))}}function Fn(he,X){if(!he)return[{command:Ot.setStyle,args:[X]}];var de=[];try{if(!a.deepEqual(he.version,X.version))return[{command:Ot.setStyle,args:[X]}];a.deepEqual(he.center,X.center)||de.push({command:Ot.setCenter,args:[X.center]}),a.deepEqual(he.zoom,X.zoom)||de.push({command:Ot.setZoom,args:[X.zoom]}),a.deepEqual(he.bearing,X.bearing)||de.push({command:Ot.setBearing,args:[X.bearing]}),a.deepEqual(he.pitch,X.pitch)||de.push({command:Ot.setPitch,args:[X.pitch]}),a.deepEqual(he.sprite,X.sprite)||de.push({command:Ot.setSprite,args:[X.sprite]}),a.deepEqual(he.glyphs,X.glyphs)||de.push({command:Ot.setGlyphs,args:[X.glyphs]}),a.deepEqual(he.transition,X.transition)||de.push({command:Ot.setTransition,args:[X.transition]}),a.deepEqual(he.light,X.light)||de.push({command:Ot.setLight,args:[X.light]});var ee={},pe=[];Ur(he.sources,X.sources,pe,ee);var _e=[];he.layers&&he.layers.forEach(function(Xe){ee[Xe.source]?de.push({command:Ot.removeLayer,args:[Xe.id]}):_e.push(Xe)}),de=de.concat(pe),tn(_e,X.layers,de)}catch(Xe){console.warn("Unable to compute style diff:",Xe),de=[{command:Ot.setStyle,args:[X]}]}return de}var mn=function(X,de){this.reset(X,de)};mn.prototype.reset=function(X,de){this.points=X||[],this._distances=[0];for(var ee=1;ee<this.points.length;ee++)this._distances[ee]=this._distances[ee-1]+this.points[ee].dist(this.points[ee-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},mn.prototype.lerp=function(X){if(this.points.length===1)return this.points[0];X=a.clamp(X,0,1);for(var de=1,ee=this._distances[de],pe=X*this.paddedLength+this.padding;ee<pe&&de<this._distances.length;)ee=this._distances[++de];var _e=de-1,Xe=this._distances[_e],ot=ee-Xe,St=ot>0?(pe-Xe)/ot:0;return this.points[_e].mult(1-St).add(this.points[de].mult(St))};var Mr=function(X,de,ee){var pe=this.boxCells=[],_e=this.circleCells=[];this.xCellCount=Math.ceil(X/ee),this.yCellCount=Math.ceil(de/ee);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)pe.push([]),_e.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=de,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};Mr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Mr.prototype.insert=function(X,de,ee,pe,_e){this._forEachCell(de,ee,pe,_e,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(de),this.bboxes.push(ee),this.bboxes.push(pe),this.bboxes.push(_e)},Mr.prototype.insertCircle=function(X,de,ee,pe){this._forEachCell(de-pe,ee-pe,de+pe,ee+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(de),this.circles.push(ee),this.circles.push(pe)},Mr.prototype._insertBoxCell=function(X,de,ee,pe,_e,Xe){this.boxCells[_e].push(Xe)},Mr.prototype._insertCircleCell=function(X,de,ee,pe,_e,Xe){this.circleCells[_e].push(Xe)},Mr.prototype._query=function(X,de,ee,pe,_e,Xe){if(ee<0||X>this.width||pe<0||de>this.height)return _e?!1:[];var ot=[];if(X<=0&&de<=0&&this.width<=ee&&this.height<=pe){if(_e)return!0;for(var St=0;St<this.boxKeys.length;St++)ot.push({key:this.boxKeys[St],x1:this.bboxes[St*4],y1:this.bboxes[St*4+1],x2:this.bboxes[St*4+2],y2:this.bboxes[St*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var Kt=this.circles[Ut*3],or=this.circles[Ut*3+1],ir=this.circles[Ut*3+2];ot.push({key:this.circleKeys[Ut],x1:Kt-ir,y1:or-ir,x2:Kt+ir,y2:or+ir})}return Xe?ot.filter(Xe):ot}else{var _r={hitTest:_e,seenUids:{box:{},circle:{}}};return this._forEachCell(X,de,ee,pe,this._queryCell,ot,_r,Xe),_e?ot.length>0:ot}},Mr.prototype._queryCircle=function(X,de,ee,pe,_e){var Xe=X-ee,ot=X+ee,St=de-ee,Ut=de+ee;if(ot<0||Xe>this.width||Ut<0||St>this.height)return pe?!1:[];var Kt=[],or={hitTest:pe,circle:{x:X,y:de,radius:ee},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,St,ot,Ut,this._queryCellCircle,Kt,or,_e),pe?Kt.length>0:Kt},Mr.prototype.query=function(X,de,ee,pe,_e){return this._query(X,de,ee,pe,!1,_e)},Mr.prototype.hitTest=function(X,de,ee,pe,_e){return this._query(X,de,ee,pe,!0,_e)},Mr.prototype.hitTestCircle=function(X,de,ee,pe){return this._queryCircle(X,de,ee,!0,pe)},Mr.prototype._queryCell=function(X,de,ee,pe,_e,Xe,ot,St){var Ut=ot.seenUids,Kt=this.boxCells[_e];if(Kt!==null)for(var or=this.bboxes,ir=0,_r=Kt;ir<_r.length;ir+=1){var Zr=_r[ir];if(!Ut.box[Zr]){Ut.box[Zr]=!0;var Yr=Zr*4;if(X<=or[Yr+2]&&de<=or[Yr+3]&&ee>=or[Yr+0]&&pe>=or[Yr+1]&&(!St||St(this.boxKeys[Zr]))){if(ot.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[Zr],x1:or[Yr],y1:or[Yr+1],x2:or[Yr+2],y2:or[Yr+3]})}}}var Vr=this.circleCells[_e];if(Vr!==null)for(var Kr=this.circles,un=0,Rn=Vr;un<Rn.length;un+=1){var zn=Rn[un];if(!Ut.circle[zn]){Ut.circle[zn]=!0;var Wn=zn*3;if(this._circleAndRectCollide(Kr[Wn],Kr[Wn+1],Kr[Wn+2],X,de,ee,pe)&&(!St||St(this.circleKeys[zn]))){if(ot.hitTest)return Xe.push(!0),!0;var Zn=Kr[Wn],Hn=Kr[Wn+1],jn=Kr[Wn+2];Xe.push({key:this.circleKeys[zn],x1:Zn-jn,y1:Hn-jn,x2:Zn+jn,y2:Hn+jn})}}}},Mr.prototype._queryCellCircle=function(X,de,ee,pe,_e,Xe,ot,St){var Ut=ot.circle,Kt=ot.seenUids,or=this.boxCells[_e];if(or!==null)for(var ir=this.bboxes,_r=0,Zr=or;_r<Zr.length;_r+=1){var Yr=Zr[_r];if(!Kt.box[Yr]){Kt.box[Yr]=!0;var Vr=Yr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,ir[Vr+0],ir[Vr+1],ir[Vr+2],ir[Vr+3])&&(!St||St(this.boxKeys[Yr])))return Xe.push(!0),!0}}var Kr=this.circleCells[_e];if(Kr!==null)for(var un=this.circles,Rn=0,zn=Kr;Rn<zn.length;Rn+=1){var Wn=zn[Rn];if(!Kt.circle[Wn]){Kt.circle[Wn]=!0;var Zn=Wn*3;if(this._circlesCollide(un[Zn],un[Zn+1],un[Zn+2],Ut.x,Ut.y,Ut.radius)&&(!St||St(this.circleKeys[Wn])))return Xe.push(!0),!0}}},Mr.prototype._forEachCell=function(X,de,ee,pe,_e,Xe,ot,St){for(var Ut=this._convertToXCellCoord(X),Kt=this._convertToYCellCoord(de),or=this._convertToXCellCoord(ee),ir=this._convertToYCellCoord(pe),_r=Ut;_r<=or;_r++)for(var Zr=Kt;Zr<=ir;Zr++){var Yr=this.xCellCount*Zr+_r;if(_e.call(this,X,de,ee,pe,Yr,Xe,ot,St))return}},Mr.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},Mr.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},Mr.prototype._circlesCollide=function(X,de,ee,pe,_e,Xe){var ot=pe-X,St=_e-de,Ut=ee+Xe;return Ut*Ut>ot*ot+St*St},Mr.prototype._circleAndRectCollide=function(X,de,ee,pe,_e,Xe,ot){var St=(Xe-pe)/2,Ut=Math.abs(X-(pe+St));if(Ut>St+ee)return!1;var Kt=(ot-_e)/2,or=Math.abs(de-(_e+Kt));if(or>Kt+ee)return!1;if(Ut<=St||or<=Kt)return!0;var ir=Ut-St,_r=or-Kt;return ir*ir+_r*_r<=ee*ee};function Er(he,X,de,ee,pe){var _e=a.create();return X?(a.scale(_e,_e,[1/pe,1/pe,1]),de||a.rotateZ(_e,_e,ee.angle)):a.multiply(_e,ee.labelPlaneMatrix,he),_e}function Wr(he,X,de,ee,pe){if(X){var _e=a.clone(he);return a.scale(_e,_e,[pe,pe,1]),de||a.rotateZ(_e,_e,-ee.angle),_e}else return ee.glCoordMatrix}function Hr(he,X){var de=[he.x,he.y,0,1];Tr(de,de,X);var ee=de[3];return{point:new a.Point(de[0]/ee,de[1]/ee),signedDistanceFromCamera:ee}}function an(he,X){return .5+.5*(he/X)}function vn(he,X){var de=he[0]/he[3],ee=he[1]/he[3],pe=de>=-X[0]&&de<=X[0]&&ee>=-X[1]&&ee<=X[1];return pe}function pn(he,X,de,ee,pe,_e,Xe,ot){var St=ee?he.textSizeData:he.iconSizeData,Ut=a.evaluateSizeForZoom(St,de.transform.zoom),Kt=[256/de.width*2+1,256/de.height*2+1],or=ee?he.text.dynamicLayoutVertexArray:he.icon.dynamicLayoutVertexArray;or.clear();for(var ir=he.lineVertexArray,_r=ee?he.text.placedSymbolArray:he.icon.placedSymbolArray,Zr=de.transform.width/de.transform.height,Yr=!1,Vr=0;Vr<_r.length;Vr++){var Kr=_r.get(Vr);if(Kr.hidden||Kr.writingMode===a.WritingMode.vertical&&!Yr){Jn(Kr.numGlyphs,or);continue}Yr=!1;var un=[Kr.anchorX,Kr.anchorY,0,1];if(a.transformMat4(un,un,X),!vn(un,Kt)){Jn(Kr.numGlyphs,or);continue}var Rn=un[3],zn=an(de.transform.cameraToCenterDistance,Rn),Wn=a.evaluateSizeForFeature(St,Ut,Kr),Zn=Xe?Wn/zn:Wn*zn,Hn=new a.Point(Kr.anchorX,Kr.anchorY),jn=Hr(Hn,pe).point,aa={},fa=oa(Kr,Zn,!1,ot,X,pe,_e,he.glyphOffsetArray,ir,or,jn,Hn,aa,Zr);Yr=fa.useVertical,(fa.notEnoughRoom||Yr||fa.needsFlipping&&oa(Kr,Zn,!0,ot,X,pe,_e,he.glyphOffsetArray,ir,or,jn,Hn,aa,Zr).notEnoughRoom)&&Jn(Kr.numGlyphs,or)}ee?he.text.dynamicLayoutVertexBuffer.updateData(or):he.icon.dynamicLayoutVertexBuffer.updateData(or)}function En(he,X,de,ee,pe,_e,Xe,ot,St,Ut,Kt){var or=ot.glyphStartIndex+ot.numGlyphs,ir=ot.lineStartIndex,_r=ot.lineStartIndex+ot.lineLength,Zr=X.getoffsetX(ot.glyphStartIndex),Yr=X.getoffsetX(or-1),Vr=$n(he*Zr,de,ee,pe,_e,Xe,ot.segment,ir,_r,St,Ut,Kt);if(!Vr)return null;var Kr=$n(he*Yr,de,ee,pe,_e,Xe,ot.segment,ir,_r,St,Ut,Kt);return Kr?{first:Vr,last:Kr}:null}function _n(he,X,de,ee){if(he===a.WritingMode.horizontal){var pe=Math.abs(de.y-X.y),_e=Math.abs(de.x-X.x)*ee;if(pe>_e)return{useVertical:!0}}return(he===a.WritingMode.vertical?X.y<de.y:X.x>de.x)?{needsFlipping:!0}:null}function oa(he,X,de,ee,pe,_e,Xe,ot,St,Ut,Kt,or,ir,_r){var Zr=X/24,Yr=he.lineOffsetX*Zr,Vr=he.lineOffsetY*Zr,Kr;if(he.numGlyphs>1){var un=he.glyphStartIndex+he.numGlyphs,Rn=he.lineStartIndex,zn=he.lineStartIndex+he.lineLength,Wn=En(Zr,ot,Yr,Vr,de,Kt,or,he,St,_e,ir);if(!Wn)return{notEnoughRoom:!0};var Zn=Hr(Wn.first.point,Xe).point,Hn=Hr(Wn.last.point,Xe).point;if(ee&&!de){var jn=_n(he.writingMode,Zn,Hn,_r);if(jn)return jn}Kr=[Wn.first];for(var aa=he.glyphStartIndex+1;aa<un-1;aa++)Kr.push($n(Zr*ot.getoffsetX(aa),Yr,Vr,de,Kt,or,he.segment,Rn,zn,St,_e,ir));Kr.push(Wn.last)}else{if(ee&&!de){var fa=Hr(or,pe).point,ma=he.lineStartIndex+he.segment+1,va=new a.Point(St.getx(ma),St.gety(ma)),_a=Hr(va,pe),Ja=_a.signedDistanceFromCamera>0?_a.point:Kn(or,va,fa,1,pe),Wa=_n(he.writingMode,fa,Ja,_r);if(Wa)return Wa}var Ma=$n(Zr*ot.getoffsetX(he.glyphStartIndex),Yr,Vr,de,Kt,or,he.segment,he.lineStartIndex,he.lineStartIndex+he.lineLength,St,_e,ir);if(!Ma)return{notEnoughRoom:!0};Kr=[Ma]}for(var Ya=0,Ua=Kr;Ya<Ua.length;Ya+=1){var ai=Ua[Ya];a.addDynamicAttributes(Ut,ai.point,ai.angle)}return{}}function Kn(he,X,de,ee,pe){var _e=Hr(he.add(he.sub(X)._unit()),pe).point,Xe=de.sub(_e);return de.add(Xe._mult(ee/Xe.mag()))}function $n(he,X,de,ee,pe,_e,Xe,ot,St,Ut,Kt,or){var ir=ee?he-X:he+X,_r=ir>0?1:-1,Zr=0;ee&&(_r*=-1,Zr=Math.PI),_r<0&&(Zr+=Math.PI);for(var Yr=_r>0?ot+Xe:ot+Xe+1,Vr=pe,Kr=pe,un=0,Rn=0,zn=Math.abs(ir),Wn=[];un+Rn<=zn;){if(Yr+=_r,Yr<ot||Yr>=St)return null;if(Kr=Vr,Wn.push(Vr),Vr=or[Yr],Vr===void 0){var Zn=new a.Point(Ut.getx(Yr),Ut.gety(Yr)),Hn=Hr(Zn,Kt);if(Hn.signedDistanceFromCamera>0)Vr=or[Yr]=Hn.point;else{var jn=Yr-_r,aa=un===0?_e:new a.Point(Ut.getx(jn),Ut.gety(jn));Vr=Kn(aa,Zn,Kr,zn-un+1,Kt)}}un+=Rn,Rn=Kr.dist(Vr)}var fa=(zn-un)/Rn,ma=Vr.sub(Kr),va=ma.mult(fa)._add(Kr);va._add(ma._unit()._perp()._mult(de*_r));var _a=Zr+Math.atan2(Vr.y-Kr.y,Vr.x-Kr.x);return Wn.push(va),{point:va,angle:_a,path:Wn}}var Yn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Jn(he,X){for(var de=0;de<he;de++){var ee=X.length;X.resize(ee+4),X.float32.set(Yn,ee*3)}}function Tr(he,X,de){var ee=X[0],pe=X[1];return he[0]=de[0]*ee+de[4]*pe+de[12],he[1]=de[1]*ee+de[5]*pe+de[13],he[3]=de[3]*ee+de[7]*pe+de[15],he}var on=100,rn=function(X,de,ee){de===void 0&&(de=new Mr(X.width+2*on,X.height+2*on,25)),ee===void 0&&(ee=new Mr(X.width+2*on,X.height+2*on,25)),this.transform=X,this.grid=de,this.ignoredGrid=ee,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+on,this.screenBottomBoundary=X.height+on,this.gridRightBoundary=X.width+2*on,this.gridBottomBoundary=X.height+2*on};rn.prototype.placeCollisionBox=function(X,de,ee,pe,_e){var Xe=this.projectAndGetPerspectiveRatio(pe,X.anchorPointX,X.anchorPointY),ot=ee*Xe.perspectiveRatio,St=X.x1*ot+Xe.point.x,Ut=X.y1*ot+Xe.point.y,Kt=X.x2*ot+Xe.point.x,or=X.y2*ot+Xe.point.y;return!this.isInsideGrid(St,Ut,Kt,or)||!de&&this.grid.hitTest(St,Ut,Kt,or,_e)?{box:[],offscreen:!1}:{box:[St,Ut,Kt,or],offscreen:this.isOffscreen(St,Ut,Kt,or)}},rn.prototype.placeCollisionCircles=function(X,de,ee,pe,_e,Xe,ot,St,Ut,Kt,or,ir,_r){var Zr=[],Yr=new a.Point(de.anchorX,de.anchorY),Vr=Hr(Yr,Xe),Kr=an(this.transform.cameraToCenterDistance,Vr.signedDistanceFromCamera),un=Kt?_e/Kr:_e*Kr,Rn=un/a.ONE_EM,zn=Hr(Yr,ot).point,Wn={},Zn=de.lineOffsetX*Rn,Hn=de.lineOffsetY*Rn,jn=En(Rn,pe,Zn,Hn,!1,zn,Yr,de,ee,ot,Wn),aa=!1,fa=!1,ma=!0;if(jn){for(var va=ir*.5*Kr+_r,_a=new a.Point(-on,-on),Ja=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Wa=new mn,Ma=jn.first,Ya=jn.last,Ua=[],ai=Ma.path.length-1;ai>=1;ai--)Ua.push(Ma.path[ai]);for(var qa=1;qa<Ya.path.length;qa++)Ua.push(Ya.path[qa]);var Ti=va*2.5;if(St){var Ka=Ua.map(function(yl){return Hr(yl,St)});Ka.some(function(yl){return yl.signedDistanceFromCamera<=0})?Ua=[]:Ua=Ka.map(function(yl){return yl.point})}var pi=[];if(Ua.length>0){for(var Ha=Ua[0].clone(),Qa=Ua[0].clone(),Bi=1;Bi<Ua.length;Bi++)Ha.x=Math.min(Ha.x,Ua[Bi].x),Ha.y=Math.min(Ha.y,Ua[Bi].y),Qa.x=Math.max(Qa.x,Ua[Bi].x),Qa.y=Math.max(Qa.y,Ua[Bi].y);Ha.x>=_a.x&&Qa.x<=Ja.x&&Ha.y>=_a.y&&Qa.y<=Ja.y?pi=[Ua]:Qa.x<_a.x||Ha.x>Ja.x||Qa.y<_a.y||Ha.y>Ja.y?pi=[]:pi=a.clipLine([Ua],_a.x,_a.y,Ja.x,Ja.y)}for(var go=0,Js=pi;go<Js.length;go+=1){var Qs=Js[go];Wa.reset(Qs,va*.25);var dl=0;Wa.length<=.5*va?dl=1:dl=Math.ceil(Wa.paddedLength/Ti)+1;for(var jl=0;jl<dl;jl++){var zf=jl/Math.max(dl-1,1),Kl=Wa.lerp(zf),ts=Kl.x+on,Jl=Kl.y+on;Zr.push(ts,Jl,va,0);var ys=ts-va,rs=Jl-va,pl=ts+va,Cu=Jl+va;if(ma=ma&&this.isOffscreen(ys,rs,pl,Cu),fa=fa||this.isInsideGrid(ys,rs,pl,Cu),!X&&this.grid.hitTestCircle(ts,Jl,va,or)&&(aa=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:aa}}}}return{circles:!Ut&&aa||!fa?[]:Zr,offscreen:ma,collisionDetected:aa}},rn.prototype.queryRenderedSymbols=function(X){if(X.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],ee=1/0,pe=1/0,_e=-1/0,Xe=-1/0,ot=0,St=X;ot<St.length;ot+=1){var Ut=St[ot],Kt=new a.Point(Ut.x+on,Ut.y+on);ee=Math.min(ee,Kt.x),pe=Math.min(pe,Kt.y),_e=Math.max(_e,Kt.x),Xe=Math.max(Xe,Kt.y),de.push(Kt)}for(var or=this.grid.query(ee,pe,_e,Xe).concat(this.ignoredGrid.query(ee,pe,_e,Xe)),ir={},_r={},Zr=0,Yr=or;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr],Kr=Vr.key;if(ir[Kr.bucketInstanceId]===void 0&&(ir[Kr.bucketInstanceId]={}),!ir[Kr.bucketInstanceId][Kr.featureIndex]){var un=[new a.Point(Vr.x1,Vr.y1),new a.Point(Vr.x2,Vr.y1),new a.Point(Vr.x2,Vr.y2),new a.Point(Vr.x1,Vr.y2)];a.polygonIntersectsPolygon(de,un)&&(ir[Kr.bucketInstanceId][Kr.featureIndex]=!0,_r[Kr.bucketInstanceId]===void 0&&(_r[Kr.bucketInstanceId]=[]),_r[Kr.bucketInstanceId].push(Kr.featureIndex))}}return _r},rn.prototype.insertCollisionBox=function(X,de,ee,pe,_e){var Xe=de?this.ignoredGrid:this.grid,ot={bucketInstanceId:ee,featureIndex:pe,collisionGroupID:_e};Xe.insert(ot,X[0],X[1],X[2],X[3])},rn.prototype.insertCollisionCircles=function(X,de,ee,pe,_e){for(var Xe=de?this.ignoredGrid:this.grid,ot={bucketInstanceId:ee,featureIndex:pe,collisionGroupID:_e},St=0;St<X.length;St+=4)Xe.insertCircle(ot,X[St],X[St+1],X[St+2])},rn.prototype.projectAndGetPerspectiveRatio=function(X,de,ee){var pe=[de,ee,0,1];Tr(pe,pe,X);var _e=new a.Point((pe[0]/pe[3]+1)/2*this.transform.width+on,(-pe[1]/pe[3]+1)/2*this.transform.height+on);return{point:_e,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},rn.prototype.isOffscreen=function(X,de,ee,pe){return ee<on||X>=this.screenRightBoundary||pe<on||de>this.screenBottomBoundary},rn.prototype.isInsideGrid=function(X,de,ee,pe){return ee>=0&&X<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},rn.prototype.getViewportMatrix=function(){var X=a.identity([]);return a.translate(X,X,[-on,-on,0]),X};function dn(he,X,de){return X*(a.EXTENT/(he.tileSize*Math.pow(2,de-he.tileID.overscaledZ)))}var Gn=function(X,de,ee,pe){X?this.opacity=Math.max(0,Math.min(1,X.opacity+(X.placed?de:-de))):this.opacity=pe&&ee?1:0,this.placed=ee};Gn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Tn=function(X,de,ee,pe,_e){this.text=new Gn(X?X.text:null,de,ee,_e),this.icon=new Gn(X?X.icon:null,de,pe,_e)};Tn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Mn=function(X,de,ee){this.text=X,this.icon=de,this.skipFade=ee},Un=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},qn=function(X,de,ee,pe,_e){this.bucketInstanceId=X,this.featureIndex=de,this.sourceLayerIndex=ee,this.bucketIndex=pe,this.tileID=_e},ba=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};ba.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var de=++this.maxGroupID;this.collisionGroups[X]={ID:de,predicate:function(ee){return ee.collisionGroupID===de}}}return this.collisionGroups[X]};function Va(he,X,de,ee,pe){var _e=a.getAnchorAlignment(he),Xe=_e.horizontalAlign,ot=_e.verticalAlign,St=-(Xe-.5)*X,Ut=-(ot-.5)*de,Kt=a.evaluateVariableOffset(he,ee);return new a.Point(St+Kt[0]*pe,Ut+Kt[1]*pe)}function Sr(he,X,de,ee,pe,_e){var Xe=he.x1,ot=he.x2,St=he.y1,Ut=he.y2,Kt=he.anchorPointX,or=he.anchorPointY,ir=new a.Point(X,de);return ee&&ir._rotate(pe?_e:-_e),{x1:Xe+ir.x,y1:St+ir.y,x2:ot+ir.x,y2:Ut+ir.y,anchorPointX:Kt,anchorPointY:or}}var Nr=function(X,de,ee,pe){this.transform=X.clone(),this.collisionIndex=new rn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new ba(ee),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};Nr.prototype.getBucketParts=function(X,de,ee,pe){var _e=ee.getBucket(de),Xe=ee.latestFeatureIndex;if(!(!_e||!Xe||de.id!==_e.layerIds[0])){var ot=ee.collisionBoxArray,St=_e.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-ee.tileID.overscaledZ),Kt=ee.tileSize/a.EXTENT,or=this.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),ir=St.get("text-pitch-alignment")==="map",_r=St.get("text-rotation-alignment")==="map",Zr=dn(ee,1,this.transform.zoom),Yr=Er(or,ir,_r,this.transform,Zr),Vr=null;if(ir){var Kr=Wr(or,ir,_r,this.transform,Zr);Vr=a.multiply([],this.transform.labelPlaneMatrix,Kr)}this.retainedQueryData[_e.bucketInstanceId]=new qn(_e.bucketInstanceId,Xe,_e.sourceLayerIndex,_e.index,ee.tileID);var un={bucket:_e,layout:St,posMatrix:or,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Vr,scale:Ut,textPixelRatio:Kt,holdingForFade:ee.holdingForFade(),collisionBoxArray:ot,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(_e.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_e.sourceID)};if(pe)for(var Rn=0,zn=_e.sortKeyRanges;Rn<zn.length;Rn+=1){var Wn=zn[Rn],Zn=Wn.sortKey,Hn=Wn.symbolInstanceStart,jn=Wn.symbolInstanceEnd;X.push({sortKey:Zn,symbolInstanceStart:Hn,symbolInstanceEnd:jn,parameters:un})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:_e.symbolInstances.length,parameters:un})}},Nr.prototype.attemptAnchorPlacement=function(X,de,ee,pe,_e,Xe,ot,St,Ut,Kt,or,ir,_r,Zr,Yr){var Vr=[ir.textOffset0,ir.textOffset1],Kr=Va(X,ee,pe,Vr,_e),un=this.collisionIndex.placeCollisionBox(Sr(de,Kr.x,Kr.y,Xe,ot,this.transform.angle),or,St,Ut,Kt.predicate);if(Yr){var Rn=this.collisionIndex.placeCollisionBox(Sr(Yr,Kr.x,Kr.y,Xe,ot,this.transform.angle),or,St,Ut,Kt.predicate);if(Rn.box.length===0)return}if(un.box.length>0){var zn;return this.prevPlacement&&this.prevPlacement.variableOffsets[ir.crossTileID]&&this.prevPlacement.placements[ir.crossTileID]&&this.prevPlacement.placements[ir.crossTileID].text&&(zn=this.prevPlacement.variableOffsets[ir.crossTileID].anchor),this.variableOffsets[ir.crossTileID]={textOffset:Vr,width:ee,height:pe,anchor:X,textBoxScale:_e,prevAnchor:zn},this.markUsedJustification(_r,X,ir,Zr),_r.allowVerticalPlacement&&(this.markUsedOrientation(_r,Zr,ir),this.placedOrientations[ir.crossTileID]=Zr),{shift:Kr,placedGlyphBoxes:un}}},Nr.prototype.placeLayerBucketPart=function(X,de,ee){var pe=this,_e=X.parameters,Xe=_e.bucket,ot=_e.layout,St=_e.posMatrix,Ut=_e.textLabelPlaneMatrix,Kt=_e.labelToScreenMatrix,or=_e.textPixelRatio,ir=_e.holdingForFade,_r=_e.collisionBoxArray,Zr=_e.partiallyEvaluatedTextSize,Yr=_e.collisionGroup,Vr=ot.get("text-optional"),Kr=ot.get("icon-optional"),un=ot.get("text-allow-overlap"),Rn=ot.get("icon-allow-overlap"),zn=ot.get("text-rotation-alignment")==="map",Wn=ot.get("text-pitch-alignment")==="map",Zn=ot.get("icon-text-fit")!=="none",Hn=ot.get("symbol-z-order")==="viewport-y",jn=un&&(Rn||!Xe.hasIconData()||Kr),aa=Rn&&(un||!Xe.hasTextData()||Vr);!Xe.collisionArrays&&_r&&Xe.deserializeCollisionBoxes(_r);var fa=function(Ma,Ya){if(!de[Ma.crossTileID]){if(ir){pe.placements[Ma.crossTileID]=new Mn(!1,!1,!1);return}var Ua=!1,ai=!1,qa=!0,Ti=null,Ka={box:null,offscreen:null},pi={box:null,offscreen:null},Ha=null,Qa=null,Bi=null,go=0,Js=0,Qs=0;Ya.textFeatureIndex?go=Ya.textFeatureIndex:Ma.useRuntimeCollisionCircles&&(go=Ma.featureIndex),Ya.verticalTextFeatureIndex&&(Js=Ya.verticalTextFeatureIndex);var dl=Ya.textBox;if(dl){var jl=function(Wi){var ms=a.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!Wi&&pe.prevPlacement){var xs=pe.prevPlacement.placedOrientations[Ma.crossTileID];xs&&(pe.placedOrientations[Ma.crossTileID]=xs,ms=xs,pe.markUsedOrientation(Xe,ms,Ma))}return ms},zf=function(Wi,ms){if(Xe.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Ya.verticalTextBox)for(var xs=0,ev=Xe.writingModes;xs<ev.length;xs+=1){var nd=ev[xs];if(nd===a.WritingMode.vertical?(Ka=ms(),pi=Ka):Ka=Wi(),Ka&&Ka.box&&Ka.box.length)break}else Ka=Wi()};if(ot.get("text-variable-anchor")){var ys=ot.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[Ma.crossTileID]){var rs=pe.prevPlacement.variableOffsets[Ma.crossTileID];ys.indexOf(rs.anchor)>0&&(ys=ys.filter(function(Wi){return Wi!==rs.anchor}),ys.unshift(rs.anchor))}var pl=function(Wi,ms,xs){for(var ev=Wi.x2-Wi.x1,nd=Wi.y2-Wi.y1,Cg=Ma.textBoxScale,Lg=Zn&&!Rn?ms:null,Eh={box:[],offscreen:!1},Pg=un?ys.length*2:ys.length,tv=0;tv<Pg;++tv){var Rg=ys[tv%ys.length],Dg=tv>=ys.length,ad=pe.attemptAnchorPlacement(Rg,Wi,ev,nd,Cg,zn,Wn,or,St,Yr,Dg,Ma,Xe,xs,Lg);if(ad&&(Eh=ad.placedGlyphBoxes,Eh&&Eh.box&&Eh.box.length)){Ua=!0,Ti=ad.shift;break}}return Eh},Cu=function(){return pl(dl,Ya.iconBox,a.WritingMode.horizontal)},yl=function(){var Wi=Ya.verticalTextBox,ms=Ka&&Ka.box&&Ka.box.length;return Xe.allowVerticalPlacement&&!ms&&Ma.numVerticalGlyphVertices>0&&Wi?pl(Wi,Ya.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};zf(Cu,yl),Ka&&(Ua=Ka.box,qa=Ka.offscreen);var Kh=jl(Ka&&Ka.box);if(!Ua&&pe.prevPlacement){var Sc=pe.prevPlacement.variableOffsets[Ma.crossTileID];Sc&&(pe.variableOffsets[Ma.crossTileID]=Sc,pe.markUsedJustification(Xe,Sc.anchor,Ma,Kh))}}else{var Kl=function(Wi,ms){var xs=pe.collisionIndex.placeCollisionBox(Wi,un,or,St,Yr.predicate);return xs&&xs.box&&xs.box.length&&(pe.markUsedOrientation(Xe,ms,Ma),pe.placedOrientations[Ma.crossTileID]=ms),xs},ts=function(){return Kl(dl,a.WritingMode.horizontal)},Jl=function(){var Wi=Ya.verticalTextBox;return Xe.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Wi?Kl(Wi,a.WritingMode.vertical):{box:null,offscreen:null}};zf(ts,Jl),jl(Ka&&Ka.box&&Ka.box.length)}}if(Ha=Ka,Ua=Ha&&Ha.box&&Ha.box.length>0,qa=Ha&&Ha.offscreen,Ma.useRuntimeCollisionCircles){var wo=Xe.text.placedSymbolArray.get(Ma.centerJustifiedTextSymbolIndex),Jh=a.evaluateSizeForFeature(Xe.textSizeData,Zr,wo),Sh=ot.get("text-padding"),Ho=Ma.collisionCircleDiameter;Qa=pe.collisionIndex.placeCollisionCircles(un,wo,Xe.lineVertexArray,Xe.glyphOffsetArray,Jh,St,Ut,Kt,ee,Wn,Yr.predicate,Ho,Sh),Ua=un||Qa.circles.length>0&&!Qa.collisionDetected,qa=qa&&Qa.offscreen}if(Ya.iconFeatureIndex&&(Qs=Ya.iconFeatureIndex),Ya.iconBox){var Ec=function(Wi){var ms=Zn&&Ti?Sr(Wi,Ti.x,Ti.y,zn,Wn,pe.transform.angle):Wi;return pe.collisionIndex.placeCollisionBox(ms,Rn,or,St,Yr.predicate)};pi&&pi.box&&pi.box.length&&Ya.verticalIconBox?(Bi=Ec(Ya.verticalIconBox),ai=Bi.box.length>0):(Bi=Ec(Ya.iconBox),ai=Bi.box.length>0),qa=qa&&Bi.offscreen}var Qh=Vr||Ma.numHorizontalGlyphVertices===0&&Ma.numVerticalGlyphVertices===0,$h=Kr||Ma.numIconVertices===0;if(!Qh&&!$h?ai=Ua=ai&&Ua:$h?Qh||(ai=ai&&Ua):Ua=ai&&Ua,Ua&&Ha&&Ha.box&&(pi&&pi.box&&Js?pe.collisionIndex.insertCollisionBox(Ha.box,ot.get("text-ignore-placement"),Xe.bucketInstanceId,Js,Yr.ID):pe.collisionIndex.insertCollisionBox(Ha.box,ot.get("text-ignore-placement"),Xe.bucketInstanceId,go,Yr.ID)),ai&&Bi&&pe.collisionIndex.insertCollisionBox(Bi.box,ot.get("icon-ignore-placement"),Xe.bucketInstanceId,Qs,Yr.ID),Qa&&(Ua&&pe.collisionIndex.insertCollisionCircles(Qa.circles,ot.get("text-ignore-placement"),Xe.bucketInstanceId,go,Yr.ID),ee)){var qh=Xe.bucketInstanceId,Cc=pe.collisionCircleArrays[qh];Cc===void 0&&(Cc=pe.collisionCircleArrays[qh]=new Un);for(var Lc=0;Lc<Qa.circles.length;Lc+=4)Cc.circles.push(Qa.circles[Lc+0]),Cc.circles.push(Qa.circles[Lc+1]),Cc.circles.push(Qa.circles[Lc+2]),Cc.circles.push(Qa.collisionDetected?1:0)}pe.placements[Ma.crossTileID]=new Mn(Ua||jn,ai||aa,qa||Xe.justReloaded),de[Ma.crossTileID]=!0}};if(Hn)for(var ma=Xe.getSortedSymbolIndexes(this.transform.angle),va=ma.length-1;va>=0;--va){var _a=ma[va];fa(Xe.symbolInstances.get(_a),Xe.collisionArrays[_a])}else for(var Ja=X.symbolInstanceStart;Ja<X.symbolInstanceEnd;Ja++)fa(Xe.symbolInstances.get(Ja),Xe.collisionArrays[Ja]);if(ee&&Xe.bucketInstanceId in this.collisionCircleArrays){var Wa=this.collisionCircleArrays[Xe.bucketInstanceId];a.invert(Wa.invProjMatrix,St),Wa.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},Nr.prototype.markUsedJustification=function(X,de,ee,pe){var _e={left:ee.leftJustifiedTextSymbolIndex,center:ee.centerJustifiedTextSymbolIndex,right:ee.rightJustifiedTextSymbolIndex},Xe;pe===a.WritingMode.vertical?Xe=ee.verticalPlacedTextSymbolIndex:Xe=_e[a.getAnchorJustification(de)];for(var ot=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex,ee.verticalPlacedTextSymbolIndex],St=0,Ut=ot;St<Ut.length;St+=1){var Kt=Ut[St];Kt>=0&&(Xe>=0&&Kt!==Xe?X.text.placedSymbolArray.get(Kt).crossTileID=0:X.text.placedSymbolArray.get(Kt).crossTileID=ee.crossTileID)}},Nr.prototype.markUsedOrientation=function(X,de,ee){for(var pe=de===a.WritingMode.horizontal||de===a.WritingMode.horizontalOnly?de:0,_e=de===a.WritingMode.vertical?de:0,Xe=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex],ot=0,St=Xe;ot<St.length;ot+=1){var Ut=St[ot];X.text.placedSymbolArray.get(Ut).placedOrientation=pe}ee.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).placedOrientation=_e)},Nr.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,ee=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(X):1,_e=de?de.opacities:{},Xe=de?de.variableOffsets:{},ot=de?de.placedOrientations:{};for(var St in this.placements){var Ut=this.placements[St],Kt=_e[St];Kt?(this.opacities[St]=new Tn(Kt,pe,Ut.text,Ut.icon),ee=ee||Ut.text!==Kt.text.placed||Ut.icon!==Kt.icon.placed):(this.opacities[St]=new Tn(null,pe,Ut.text,Ut.icon,Ut.skipFade),ee=ee||Ut.text||Ut.icon)}for(var or in _e){var ir=_e[or];if(!this.opacities[or]){var _r=new Tn(ir,pe,!1,!1);_r.isHidden()||(this.opacities[or]=_r,ee=ee||ir.text.placed||ir.icon.placed)}}for(var Zr in Xe)!this.variableOffsets[Zr]&&this.opacities[Zr]&&!this.opacities[Zr].isHidden()&&(this.variableOffsets[Zr]=Xe[Zr]);for(var Yr in ot)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=ot[Yr]);ee?this.lastPlacementChangeTime=X:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:X)},Nr.prototype.updateLayerOpacities=function(X,de){for(var ee={},pe=0,_e=de;pe<_e.length;pe+=1){var Xe=_e[pe],ot=Xe.getBucket(X);ot&&Xe.latestFeatureIndex&&X.id===ot.layerIds[0]&&this.updateBucketOpacities(ot,ee,Xe.collisionBoxArray)}},Nr.prototype.updateBucketOpacities=function(X,de,ee){var pe=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var _e=X.layers[0].layout,Xe=new Tn(null,0,!1,!1,!0),ot=_e.get("text-allow-overlap"),St=_e.get("icon-allow-overlap"),Ut=_e.get("text-variable-anchor"),Kt=_e.get("text-rotation-alignment")==="map",or=_e.get("text-pitch-alignment")==="map",ir=_e.get("icon-text-fit")!=="none",_r=new Tn(null,0,ot&&(St||!X.hasIconData()||_e.get("icon-optional")),St&&(ot||!X.hasTextData()||_e.get("text-optional")),!0);!X.collisionArrays&&ee&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(ee);for(var Zr=function(un,Rn,zn){for(var Wn=0;Wn<Rn/4;Wn++)un.opacityVertexArray.emplaceBack(zn)},Yr=function(un){var Rn=X.symbolInstances.get(un),zn=Rn.numHorizontalGlyphVertices,Wn=Rn.numVerticalGlyphVertices,Zn=Rn.crossTileID,Hn=de[Zn],jn=pe.opacities[Zn];Hn?jn=Xe:jn||(jn=_r,pe.opacities[Zn]=jn),de[Zn]=!0;var aa=zn>0||Wn>0,fa=Rn.numIconVertices>0,ma=pe.placedOrientations[Rn.crossTileID],va=ma===a.WritingMode.vertical,_a=ma===a.WritingMode.horizontal||ma===a.WritingMode.horizontalOnly;if(aa){var Ja=Gr(jn.text),Wa=va?Qr:Ja;Zr(X.text,zn,Wa);var Ma=_a?Qr:Ja;Zr(X.text,Wn,Ma);var Ya=jn.text.isHidden();[Rn.rightJustifiedTextSymbolIndex,Rn.centerJustifiedTextSymbolIndex,Rn.leftJustifiedTextSymbolIndex].forEach(function(Qs){Qs>=0&&(X.text.placedSymbolArray.get(Qs).hidden=Ya||va?1:0)}),Rn.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(Rn.verticalPlacedTextSymbolIndex).hidden=Ya||_a?1:0);var Ua=pe.variableOffsets[Rn.crossTileID];Ua&&pe.markUsedJustification(X,Ua.anchor,Rn,ma);var ai=pe.placedOrientations[Rn.crossTileID];ai&&(pe.markUsedJustification(X,"left",Rn,ai),pe.markUsedOrientation(X,ai,Rn))}if(fa){var qa=Gr(jn.icon),Ti=!(ir&&Rn.verticalPlacedIconSymbolIndex&&va);if(Rn.placedIconSymbolIndex>=0){var Ka=Ti?qa:Qr;Zr(X.icon,Rn.numIconVertices,Ka),X.icon.placedSymbolArray.get(Rn.placedIconSymbolIndex).hidden=jn.icon.isHidden()}if(Rn.verticalPlacedIconSymbolIndex>=0){var pi=Ti?Qr:qa;Zr(X.icon,Rn.numVerticalIconVertices,pi),X.icon.placedSymbolArray.get(Rn.verticalPlacedIconSymbolIndex).hidden=jn.icon.isHidden()}}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var Ha=X.collisionArrays[un];if(Ha){var Qa=new a.Point(0,0);if(Ha.textBox||Ha.verticalTextBox){var Bi=!0;if(Ut){var go=pe.variableOffsets[Zn];go?(Qa=Va(go.anchor,go.width,go.height,go.textOffset,go.textBoxScale),Kt&&Qa._rotate(or?pe.transform.angle:-pe.transform.angle)):Bi=!1}Ha.textBox&&br(X.textCollisionBox.collisionVertexArray,jn.text.placed,!Bi||va,Qa.x,Qa.y),Ha.verticalTextBox&&br(X.textCollisionBox.collisionVertexArray,jn.text.placed,!Bi||_a,Qa.x,Qa.y)}var Js=!!(!_a&&Ha.verticalIconBox);Ha.iconBox&&br(X.iconCollisionBox.collisionVertexArray,jn.icon.placed,Js,ir?Qa.x:0,ir?Qa.y:0),Ha.verticalIconBox&&br(X.iconCollisionBox.collisionVertexArray,jn.icon.placed,!Js,ir?Qa.x:0,ir?Qa.y:0)}}},Vr=0;Vr<X.symbolInstances.length;Vr++)Yr(Vr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var Kr=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=Kr.invProjMatrix,X.placementViewportMatrix=Kr.viewportMatrix,X.collisionCircleArray=Kr.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},Nr.prototype.symbolFadeChange=function(X){return this.fadeDuration===0?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Nr.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},Nr.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},Nr.prototype.stillRecent=function(X,de){var ee=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*ee>X},Nr.prototype.setStale=function(){this.stale=!0};function br(he,X,de,ee,pe){he.emplaceBack(X?1:0,de?1:0,ee||0,pe||0),he.emplaceBack(X?1:0,de?1:0,ee||0,pe||0),he.emplaceBack(X?1:0,de?1:0,ee||0,pe||0),he.emplaceBack(X?1:0,de?1:0,ee||0,pe||0)}var zr=Math.pow(2,25),bn=Math.pow(2,24),Pn=Math.pow(2,17),gn=Math.pow(2,16),cn=Math.pow(2,9),Lr=Math.pow(2,8),jr=Math.pow(2,1);function Gr(he){if(he.opacity===0&&!he.placed)return 0;if(he.opacity===1&&he.placed)return 4294967295;var X=he.placed?1:0,de=Math.floor(he.opacity*127);return de*zr+X*bn+de*Pn+X*gn+de*cn+X*Lr+de*jr+X}var Qr=0,wn=function(X){this._sortAcrossTiles=X.layout.get("symbol-z-order")!=="viewport-y"&&X.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(X,de,ee,pe,_e){for(var Xe=this._bucketParts;this._currentTileIndex<X.length;){var ot=X[this._currentTileIndex];if(de.getBucketParts(Xe,pe,ot,this._sortAcrossTiles),this._currentTileIndex++,_e())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Ut,Kt){return Ut.sortKey-Kt.sortKey}));this._currentPartIndex<Xe.length;){var St=Xe[this._currentPartIndex];if(de.placeLayerBucketPart(St,this._seenCrossTileIDs,ee),this._currentPartIndex++,_e())return!0}return!1};var kn=function(X,de,ee,pe,_e,Xe,ot){this.placement=new Nr(X,_e,Xe,ot),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=ee,this._showCollisionBoxes=pe,this._done=!1};kn.prototype.isDone=function(){return this._done},kn.prototype.continuePlacement=function(X,de,ee){for(var pe=this,_e=a.browser.now(),Xe=function(){var or=a.browser.now()-_e;return pe._forceFullPlacement?!1:or>2};this._currentPlacementIndex>=0;){var ot=X[this._currentPlacementIndex],St=de[ot],Ut=this.placement.collisionIndex.transform.zoom;if(St.type==="symbol"&&(!St.minzoom||St.minzoom<=Ut)&&(!St.maxzoom||St.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new wn(St));var Kt=this._inProgressLayer.continuePlacement(ee[St.source],this.placement,this._showCollisionBoxes,St,Xe);if(Kt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},kn.prototype.commit=function(X){return this.placement.commit(X),this.placement};var Dn=512/a.EXTENT/2,Nn=function(X,de,ee){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=ee;for(var pe=0;pe<de.length;pe++){var _e=de.get(pe),Xe=_e.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:_e.crossTileID,coord:this.getScaledCoordinates(_e,X)})}};Nn.prototype.getScaledCoordinates=function(X,de){var ee=de.canonical.z-this.tileID.canonical.z,pe=Dn/Math.pow(2,ee);return{x:Math.floor((de.canonical.x*a.EXTENT+X.anchorX)*pe),y:Math.floor((de.canonical.y*a.EXTENT+X.anchorY)*pe)}},Nn.prototype.findMatches=function(X,de,ee){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),_e=0;_e<X.length;_e++){var Xe=X.get(_e);if(!Xe.crossTileID){var ot=this.indexedSymbolInstances[Xe.key];if(ot)for(var St=this.getScaledCoordinates(Xe,de),Ut=0,Kt=ot;Ut<Kt.length;Ut+=1){var or=Kt[Ut];if(Math.abs(or.coord.x-St.x)<=pe&&Math.abs(or.coord.y-St.y)<=pe&&!ee[or.crossTileID]){ee[or.crossTileID]=!0,Xe.crossTileID=or.crossTileID;break}}}}};var On=function(){this.maxCrossTileID=0};On.prototype.generate=function(){return++this.maxCrossTileID};var ga=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ga.prototype.handleWrapJump=function(X){var de=Math.round((X-this.lng)/360);if(de!==0)for(var ee in this.indexes){var pe=this.indexes[ee],_e={};for(var Xe in pe){var ot=pe[Xe];ot.tileID=ot.tileID.unwrapTo(ot.tileID.wrap+de),_e[ot.tileID.key]=ot}this.indexes[ee]=_e}this.lng=X},ga.prototype.addBucket=function(X,de,ee){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var _e=de.symbolInstances.get(pe);_e.crossTileID=0}this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var Xe=this.usedCrossTileIDs[X.overscaledZ];for(var ot in this.indexes){var St=this.indexes[ot];if(Number(ot)>X.overscaledZ)for(var Ut in St){var Kt=St[Ut];Kt.tileID.isChildOf(X)&&Kt.findMatches(de.symbolInstances,X,Xe)}else{var or=X.scaledTo(Number(ot)),ir=St[or.key];ir&&ir.findMatches(de.symbolInstances,X,Xe)}}for(var _r=0;_r<de.symbolInstances.length;_r++){var Zr=de.symbolInstances.get(_r);Zr.crossTileID||(Zr.crossTileID=ee.generate(),Xe[Zr.crossTileID]=!0)}return this.indexes[X.overscaledZ]===void 0&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Nn(X,de.symbolInstances,de.bucketInstanceId),!0},ga.prototype.removeBucketCrossTileIDs=function(X,de){for(var ee in de.indexedSymbolInstances)for(var pe=0,_e=de.indexedSymbolInstances[ee];pe<_e.length;pe+=1){var Xe=_e[pe];delete this.usedCrossTileIDs[X][Xe.crossTileID]}},ga.prototype.removeStaleBuckets=function(X){var de=!1;for(var ee in this.indexes){var pe=this.indexes[ee];for(var _e in pe)X[pe[_e].bucketInstanceId]||(this.removeBucketCrossTileIDs(ee,pe[_e]),delete pe[_e],de=!0)}return de};var la=function(){this.layerIndexes={},this.crossTileIDs=new On,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};la.prototype.addLayer=function(X,de,ee){var pe=this.layerIndexes[X.id];pe===void 0&&(pe=this.layerIndexes[X.id]=new ga);var _e=!1,Xe={};pe.handleWrapJump(ee);for(var ot=0,St=de;ot<St.length;ot+=1){var Ut=St[ot],Kt=Ut.getBucket(X);!Kt||X.id!==Kt.layerIds[0]||(Kt.bucketInstanceId||(Kt.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(Ut.tileID,Kt,this.crossTileIDs)&&(_e=!0),Xe[Kt.bucketInstanceId]=!0)}return pe.removeStaleBuckets(Xe)&&(_e=!0),_e},la.prototype.pruneUnusedLayers=function(X){var de={};X.forEach(function(pe){de[pe]=!0});for(var ee in this.layerIndexes)de[ee]||delete this.layerIndexes[ee]};var pa=function(he,X){return a.emitValidationErrors(he,X&&X.filter(function(de){return de.identifier!=="source.canvas"}))},La=a.pick(Ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),vi=a.pick(Ot,["setCenter","setZoom","setBearing","setPitch"]),ti=er(),_o=function(he){function X(de,ee){var pe=this;ee===void 0&&(ee={}),he.call(this),this.map=de,this.dispatcher=new I(kt(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new S(de._requestManager,ee.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new la,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var _e=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(Xe){var ot={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};_e.dispatcher.broadcast("syncRTLPluginState",ot,function(St,Ut){if(a.triggerPluginCompletionEvent(St),Ut){var Kt=Ut.every(function(ir){return ir});if(Kt)for(var or in _e.sourceCaches)_e.sourceCaches[or].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var ot=pe.sourceCaches[Xe.sourceId];if(ot){var St=ot.getSource();if(!(!St||!St.vectorLayerIds))for(var Ut in pe._layers){var Kt=pe._layers[Ut];Kt.source===St.id&&pe._validateLayer(Kt)}}}})}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.loadURL=function(ee,pe){var _e=this;pe===void 0&&(pe={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Xe=typeof pe.validate=="boolean"?pe.validate:!a.isMapboxURL(ee);ee=this.map._requestManager.normalizeStyleURL(ee,pe.accessToken);var ot=this.map._requestManager.transformRequest(ee,a.ResourceType.Style);this._request=a.getJSON(ot,function(St,Ut){_e._request=null,St?_e.fire(new a.ErrorEvent(St)):Ut&&_e._load(Ut,Xe)})},X.prototype.loadJSON=function(ee,pe){var _e=this;pe===void 0&&(pe={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){_e._request=null,_e._load(ee,pe.validate!==!1)})},X.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(ti,!1)},X.prototype._load=function(ee,pe){if(!(pe&&pa(this,a.validateStyle(ee)))){this._loaded=!0,this.stylesheet=ee;for(var _e in ee.sources)this.addSource(_e,ee.sources[_e],{validate:!1});ee.sprite?this._loadSprite(ee.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ee.glyphs);var Xe=ur(this.stylesheet.layers);this._order=Xe.map(function(Kt){return Kt.id}),this._layers={},this._serializedLayers={};for(var ot=0,St=Xe;ot<St.length;ot+=1){var Ut=St[ot];Ut=a.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},X.prototype._loadSprite=function(ee){var pe=this;this._spriteRequest=l(ee,this.map._requestManager,function(_e,Xe){if(pe._spriteRequest=null,_e)pe.fire(new a.ErrorEvent(_e));else if(Xe)for(var ot in Xe)pe.imageManager.addImage(ot,Xe[ot]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new a.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(ee){var pe=this.sourceCaches[ee.source];if(pe){var _e=ee.sourceLayer;if(_e){var Xe=pe.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(_e)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+_e+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+ee.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ee in this.sourceCaches)if(!this.sourceCaches[ee].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(ee){for(var pe=[],_e=0,Xe=ee;_e<Xe.length;_e+=1){var ot=Xe[_e],St=this._layers[ot];St.type!=="custom"&&pe.push(St.serialize())}return pe},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ee in this.sourceCaches)if(this.sourceCaches[ee].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(ee){if(this._loaded){var pe=this._changed;if(this._changed){var _e=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(_e.length||Xe.length)&&this._updateWorkerLayers(_e,Xe);for(var ot in this._updatedSources){var St=this._updatedSources[ot];St==="reload"?this._reloadSource(ot):St==="clear"&&this._clearSource(ot)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(ee);this.light.updateTransitions(ee),this._resetUpdates()}var Kt={};for(var or in this.sourceCaches){var ir=this.sourceCaches[or];Kt[or]=ir.used,ir.used=!1}for(var _r=0,Zr=this._order;_r<Zr.length;_r+=1){var Yr=Zr[_r],Vr=this._layers[Yr];Vr.recalculate(ee,this._availableImages),!Vr.isHidden(ee.zoom)&&Vr.source&&(this.sourceCaches[Vr.source].used=!0)}for(var Kr in Kt){var un=this.sourceCaches[Kr];Kt[Kr]!==un.used&&un.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Kr}))}this.light.recalculate(ee),this.z=ee.zoom,pe&&this.fire(new a.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var ee=Object.keys(this._changedImages);if(ee.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],ee);this._changedImages={}}},X.prototype._updateWorkerLayers=function(ee,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ee),removedIds:pe})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(ee){var pe=this;if(this._checkLoaded(),pa(this,a.validateStyle(ee)))return!1;ee=a.clone$1(ee),ee.layers=ur(ee.layers);var _e=Fn(this.serialize(),ee).filter(function(ot){return!(ot.command in vi)});if(_e.length===0)return!1;var Xe=_e.filter(function(ot){return!(ot.command in La)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(ot){return ot.command}).join(", ")+".");return _e.forEach(function(ot){ot.command!=="setTransition"&&pe[ot.command].apply(pe,ot.args)}),this.stylesheet=ee,!0},X.prototype.addImage=function(ee,pe){if(this.getImage(ee))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ee,pe),this._afterImageUpdated(ee)},X.prototype.updateImage=function(ee,pe){this.imageManager.updateImage(ee,pe)},X.prototype.getImage=function(ee){return this.imageManager.getImage(ee)},X.prototype.removeImage=function(ee){if(!this.getImage(ee))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ee),this._afterImageUpdated(ee)},X.prototype._afterImageUpdated=function(ee){this._availableImages=this.imageManager.listImages(),this._changedImages[ee]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(ee,pe,_e){var Xe=this;if(_e===void 0&&(_e={}),this._checkLoaded(),this.sourceCaches[ee]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(pe).join(", ")+".");var ot=["vector","raster","geojson","video","image"],St=ot.indexOf(pe.type)>=0;if(!(St&&this._validate(a.validateStyle.source,"sources."+ee,pe,null,_e))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var Ut=this.sourceCaches[ee]=new Bt(ee,pe,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Ut.serialize(),sourceId:ee}}),Ut.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(ee){if(this._checkLoaded(),this.sourceCaches[ee]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===ee)return this.fire(new a.ErrorEvent(new Error('Source "'+ee+'" cannot be removed while layer "'+pe+'" is using it.')));var _e=this.sourceCaches[ee];delete this.sourceCaches[ee],delete this._updatedSources[ee],_e.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ee})),_e.setEventedParent(null),_e.clearTiles(),_e.onRemove&&_e.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(ee,pe){this._checkLoaded();var _e=this.sourceCaches[ee].getSource();_e.setData(pe),this._changed=!0},X.prototype.getSource=function(ee){return this.sourceCaches[ee]&&this.sourceCaches[ee].getSource()},X.prototype.addLayer=function(ee,pe,_e){_e===void 0&&(_e={}),this._checkLoaded();var Xe=ee.id;if(this.getLayer(Xe)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var ot;if(ee.type==="custom"){if(pa(this,a.validateCustomStyleLayer(ee)))return;ot=a.createStyleLayer(ee)}else{if(typeof ee.source=="object"&&(this.addSource(Xe,ee.source),ee=a.clone$1(ee),ee=a.extend(ee,{source:Xe})),this._validate(a.validateStyle.layer,"layers."+Xe,ee,{arrayIndex:-1},_e))return;ot=a.createStyleLayer(ee),this._validateLayer(ot),ot.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[ot.id]=ot.serialize()}var St=pe?this._order.indexOf(pe):this._order.length;if(pe&&St===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(St,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=ot,this._removedLayers[Xe]&&ot.source&&ot.type!=="custom"){var Ut=this._removedLayers[Xe];delete this._removedLayers[Xe],Ut.type!==ot.type?this._updatedSources[ot.source]="clear":(this._updatedSources[ot.source]="reload",this.sourceCaches[ot.source].pause())}this._updateLayer(ot),ot.onAdd&&ot.onAdd(this.map)},X.prototype.moveLayer=function(ee,pe){this._checkLoaded(),this._changed=!0;var _e=this._layers[ee];if(!_e){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be moved.")));return}if(ee!==pe){var Xe=this._order.indexOf(ee);this._order.splice(Xe,1);var ot=pe?this._order.indexOf(pe):this._order.length;if(pe&&ot===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(ot,0,ee),this._layerOrderChanged=!0}},X.prototype.removeLayer=function(ee){this._checkLoaded();var pe=this._layers[ee];if(!pe){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var _e=this._order.indexOf(ee);this._order.splice(_e,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ee]=pe,delete this._layers[ee],delete this._serializedLayers[ee],delete this._updatedLayers[ee],delete this._updatedPaintProps[ee],pe.onRemove&&pe.onRemove(this.map)},X.prototype.getLayer=function(ee){return this._layers[ee]},X.prototype.hasLayer=function(ee){return ee in this._layers},X.prototype.setLayerZoomRange=function(ee,pe,_e){this._checkLoaded();var Xe=this.getLayer(ee);if(!Xe){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===pe&&Xe.maxzoom===_e||(pe!=null&&(Xe.minzoom=pe),_e!=null&&(Xe.maxzoom=_e),this._updateLayer(Xe))},X.prototype.setFilter=function(ee,pe,_e){_e===void 0&&(_e={}),this._checkLoaded();var Xe=this.getLayer(ee);if(!Xe){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Xe.filter,pe)){if(pe==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(a.validateStyle.filter,"layers."+Xe.id+".filter",pe,null,_e)||(Xe.filter=a.clone$1(pe),this._updateLayer(Xe))}},X.prototype.getFilter=function(ee){return a.clone$1(this.getLayer(ee).filter)},X.prototype.setLayoutProperty=function(ee,pe,_e,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ot=this.getLayer(ee);if(!ot){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ot.getLayoutProperty(pe),_e)||(ot.setLayoutProperty(pe,_e,Xe),this._updateLayer(ot))},X.prototype.getLayoutProperty=function(ee,pe){var _e=this.getLayer(ee);if(!_e){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style.")));return}return _e.getLayoutProperty(pe)},X.prototype.setPaintProperty=function(ee,pe,_e,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ot=this.getLayer(ee);if(!ot){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ot.getPaintProperty(pe),_e)){var St=ot.setPaintProperty(pe,_e,Xe);St&&this._updateLayer(ot),this._changed=!0,this._updatedPaintProps[ee]=!0}},X.prototype.getPaintProperty=function(ee,pe){return this.getLayer(ee).getPaintProperty(pe)},X.prototype.setFeatureState=function(ee,pe){this._checkLoaded();var _e=ee.source,Xe=ee.sourceLayer,ot=this.sourceCaches[_e];if(ot===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+_e+"' does not exist in the map's style.")));return}var St=ot.getSource().type;if(St==="geojson"&&Xe){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(St==="vector"&&!Xe){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ee.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ot.setFeatureState(Xe,ee.id,pe)},X.prototype.removeFeatureState=function(ee,pe){this._checkLoaded();var _e=ee.source,Xe=this.sourceCaches[_e];if(Xe===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+_e+"' does not exist in the map's style.")));return}var ot=Xe.getSource().type,St=ot==="vector"?ee.sourceLayer:void 0;if(ot==="vector"&&!St){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof ee.id!="string"&&typeof ee.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Xe.removeFeatureState(St,ee.id,pe)},X.prototype.getFeatureState=function(ee){this._checkLoaded();var pe=ee.source,_e=ee.sourceLayer,Xe=this.sourceCaches[pe];if(Xe===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var ot=Xe.getSource().type;if(ot==="vector"&&!_e){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ee.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(_e,ee.id)},X.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(ee){return ee.serialize()}),layers:this._serializeLayers(this._order)},function(ee){return ee!==void 0})},X.prototype._updateLayer=function(ee){this._updatedLayers[ee.id]=!0,ee.source&&!this._updatedSources[ee.source]&&this.sourceCaches[ee.source].getSource().type!=="raster"&&(this._updatedSources[ee.source]="reload",this.sourceCaches[ee.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(ee){for(var pe=this,_e=function(_a){return pe._layers[_a].type==="fill-extrusion"},Xe={},ot=[],St=this._order.length-1;St>=0;St--){var Ut=this._order[St];if(_e(Ut)){Xe[Ut]=St;for(var Kt=0,or=ee;Kt<or.length;Kt+=1){var ir=or[Kt],_r=ir[Ut];if(_r)for(var Zr=0,Yr=_r;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr];ot.push(Vr)}}}}ot.sort(function(_a,Ja){return Ja.intersectionZ-_a.intersectionZ});for(var Kr=[],un=this._order.length-1;un>=0;un--){var Rn=this._order[un];if(_e(Rn))for(var zn=ot.length-1;zn>=0;zn--){var Wn=ot[zn].feature;if(Xe[Wn.layer.id]<un)break;Kr.push(Wn),ot.pop()}else for(var Zn=0,Hn=ee;Zn<Hn.length;Zn+=1){var jn=Hn[Zn],aa=jn[Rn];if(aa)for(var fa=0,ma=aa;fa<ma.length;fa+=1){var va=ma[fa];Kr.push(va.feature)}}}return Kr},X.prototype.queryRenderedFeatures=function(ee,pe,_e){pe&&pe.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var Xe={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ot=0,St=pe.layers;ot<St.length;ot+=1){var Ut=St[ot],Kt=this._layers[Ut];if(!Kt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[Kt.source]=!0}}var or=[];pe.availableImages=this._availableImages;for(var ir in this.sourceCaches)pe.layers&&!Xe[ir]||or.push(Q(this.sourceCaches[ir],this._layers,this._serializedLayers,ee,pe,_e));return this.placement&&or.push(K(this._layers,this._serializedLayers,this.sourceCaches,ee,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(or)},X.prototype.querySourceFeatures=function(ee,pe){pe&&pe.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var _e=this.sourceCaches[ee];return _e?se(_e,pe):[]},X.prototype.addSourceType=function(ee,pe,_e){if(X.getSourceType(ee))return _e(new Error('A source type called "'+ee+'" already exists.'));if(X.setSourceType(ee,pe),!pe.workerSourceURL)return _e(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ee,url:pe.workerSourceURL},_e)},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(ee,pe){pe===void 0&&(pe={}),this._checkLoaded();var _e=this.light.getLight(),Xe=!1;for(var ot in ee)if(!a.deepEqual(ee[ot],_e[ot])){Xe=!0;break}if(Xe){var St={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ee,pe),this.light.updateTransitions(St)}},X.prototype._validate=function(ee,pe,_e,Xe,ot){return ot===void 0&&(ot={}),ot&&ot.validate===!1?!1:pa(this,ee.call(a.validateStyle,a.extend({key:pe,style:this.serialize(),value:_e,styleSpec:a.styleSpec},Xe)))},X.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ee in this._layers){var pe=this._layers[ee];pe.setEventedParent(null)}for(var _e in this.sourceCaches)this.sourceCaches[_e].clearTiles(),this.sourceCaches[_e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(ee){this.sourceCaches[ee].clearTiles()},X.prototype._reloadSource=function(ee){this.sourceCaches[ee].resume(),this.sourceCaches[ee].reload()},X.prototype._updateSources=function(ee){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(ee)},X.prototype._generateCollisionBoxes=function(){for(var ee in this.sourceCaches)this._reloadSource(ee)},X.prototype._updatePlacement=function(ee,pe,_e,Xe,ot){ot===void 0&&(ot=!1);for(var St=!1,Ut=!1,Kt={},or=0,ir=this._order;or<ir.length;or+=1){var _r=ir[or],Zr=this._layers[_r];if(Zr.type==="symbol"){if(!Kt[Zr.source]){var Yr=this.sourceCaches[Zr.source];Kt[Zr.source]=Yr.getRenderableIds(!0).map(function(Zn){return Yr.getTileByID(Zn)}).sort(function(Zn,Hn){return Hn.tileID.overscaledZ-Zn.tileID.overscaledZ||(Zn.tileID.isLessThan(Hn.tileID)?-1:1)})}var Vr=this.crossTileSymbolIndex.addLayer(Zr,Kt[Zr.source],ee.center.lng);St=St||Vr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ot=ot||this._layerOrderChanged||_e===0,(ot||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),ee.zoom))&&(this.pauseablePlacement=new kn(ee,this._order,ot,pe,_e,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Kt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Ut=!0),St&&this.pauseablePlacement.placement.setStale()),Ut||St)for(var Kr=0,un=this._order;Kr<un.length;Kr+=1){var Rn=un[Kr],zn=this._layers[Rn];zn.type==="symbol"&&this.placement.updateLayerOpacities(zn,Kt[zn.source])}var Wn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Wn},X.prototype._releaseSymbolFadeTiles=function(){for(var ee in this.sourceCaches)this.sourceCaches[ee].releaseSymbolFadeTiles()},X.prototype.getImages=function(ee,pe,_e){this.imageManager.getImages(pe.icons,_e),this._updateTilesForChangedImages();var Xe=this.sourceCaches[pe.source];Xe&&Xe.setDependencies(pe.tileID.key,pe.type,pe.icons)},X.prototype.getGlyphs=function(ee,pe,_e){this.glyphManager.getGlyphs(pe.stacks,_e)},X.prototype.getResource=function(ee,pe,_e){return a.makeRequest(pe,_e)},X}(a.Evented);_o.getSourceType=ae,_o.setSourceType=j,_o.registerForPluginStateChange=a.registerForPluginStateChange;var Co=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),eo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Ll=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,df=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$f="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",$a=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,iu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",pf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ji=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,xo="void main() {gl_FragColor=vec4(1.0);}",Pl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Uu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ii=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Rl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,zi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Hi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Dl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",to="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",ro="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",zo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",qf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Lo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ah=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,cs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ki=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,gf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Us=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,hs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,ec=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ih=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Hu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,oh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,sh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",mf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",fh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,rc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,il=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Il=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ou=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,su=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Es=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ch="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Vu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ac=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,ic=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Xo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ol=di(eo,Ll),lu=di(df,$f),Hs=di($a,iu),vs=di(pf,ji),xf=di(xo,Pl),_l=di(Uu,Ii),jo=di(Rl,zi),Pi=di(Hi,Dl),bf=di(to,ro),hh=di(zo,qf),Wu=di(Lo,ah),zl=di(cs,Ki),Ol=di(gf,Us),Po=di(hs,yf),Yu=di(ec,ih),Fl=di(Hu,oh),Zu=di(sh,lh),vh=di(mf,uh),oc=di(fh,tc),wf=di(rc,il),Tf=di(Il,ou),Af=di(su,nc),Bl=di(Es,ch),Xu=di(Vu,ac),uu=di(ic,Gu),ju=di(Xo,kl);function di(he,X){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ee=X.match(/attribute ([\w]+) ([\w]+)/g),pe=he.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_e=X.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Xe=_e?_e.concat(pe):pe,ot={};return he=he.replace(de,function(St,Ut,Kt,or,ir){return ot[ir]=!0,Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
varying `+Kt+" "+or+" "+ir+`;
#else
uniform `+Kt+" "+or+" u_"+ir+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ir+`
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`}),X=X.replace(de,function(St,Ut,Kt,or,ir){var _r=or==="float"?"vec2":"vec4",Zr=ir.match(/color/)?"color":_r;return ot[ir]?Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
uniform lowp float u_`+ir+`_t;
attribute `+Kt+" "+_r+" a_"+ir+`;
varying `+Kt+" "+or+" "+ir+`;
#else
uniform `+Kt+" "+or+" u_"+ir+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+ir+" = a_"+ir+`;
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+ir+" = unpack_mix_"+Zr+"(a_"+ir+", u_"+ir+`_t);
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`:Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
uniform lowp float u_`+ir+`_t;
attribute `+Kt+" "+_r+" a_"+ir+`;
#else
uniform `+Kt+" "+or+" u_"+ir+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+Kt+" "+or+" "+ir+" = a_"+ir+`;
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+Kt+" "+or+" "+ir+" = unpack_mix_"+Zr+"(a_"+ir+", u_"+ir+`_t);
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`}),{fragmentSource:he,vertexSource:X,staticAttributes:ee,staticUniforms:Xe}}var sc=Object.freeze({__proto__:null,prelude:ol,background:lu,backgroundPattern:Hs,circle:vs,clippingMask:xf,heatmap:_l,heatmapTexture:jo,collisionBox:Pi,collisionCircle:bf,debug:hh,fill:Wu,fillOutline:zl,fillOutlinePattern:Ol,fillPattern:Po,fillExtrusion:Yu,fillExtrusionPattern:Fl,hillshadePrepare:Zu,hillshade:vh,line:oc,lineGradient:wf,linePattern:Tf,lineSDF:Af,raster:Bl,symbolIcon:Xu,symbolSDF:uu,symbolTextAndIcon:ju}),Ko=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Ko.prototype.bind=function(X,de,ee,pe,_e,Xe,ot,St){this.context=X;for(var Ut=this.boundPaintVertexBuffers.length!==pe.length,Kt=0;!Ut&&Kt<pe.length;Kt++)this.boundPaintVertexBuffers[Kt]!==pe[Kt]&&(Ut=!0);var or=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==ee||Ut||this.boundIndexBuffer!==_e||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==ot||this.boundDynamicVertexBuffer2!==St;!X.extVertexArrayObject||or?this.freshBind(de,ee,pe,_e,Xe,ot,St):(X.bindVertexArrayOES.set(this.vao),ot&&ot.bind(),_e&&_e.dynamicDraw&&_e.bind(),St&&St.bind())},Ko.prototype.freshBind=function(X,de,ee,pe,_e,Xe,ot){var St,Ut=X.numAttributes,Kt=this.context,or=Kt.gl;if(Kt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Kt.extVertexArrayObject.createVertexArrayOES(),Kt.bindVertexArrayOES.set(this.vao),St=0,this.boundProgram=X,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=ee,this.boundIndexBuffer=pe,this.boundVertexOffset=_e,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=ot;else{St=Kt.currentNumAttributes||0;for(var ir=Ut;ir<St;ir++)or.disableVertexAttribArray(ir)}de.enableAttributes(or,X);for(var _r=0,Zr=ee;_r<Zr.length;_r+=1){var Yr=Zr[_r];Yr.enableAttributes(or,X)}Xe&&Xe.enableAttributes(or,X),ot&&ot.enableAttributes(or,X),de.bind(),de.setVertexAttribPointers(or,X,_e);for(var Vr=0,Kr=ee;Vr<Kr.length;Vr+=1){var un=Kr[Vr];un.bind(),un.setVertexAttribPointers(or,X,_e)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(or,X,_e)),pe&&pe.bind(),ot&&(ot.bind(),ot.setVertexAttribPointers(or,X,_e)),Kt.currentNumAttributes=Ut},Ko.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function lc(he){for(var X=[],de=0;de<he.length;de++)if(he[de]!==null){var ee=he[de].split(" ");X.push(ee.pop())}return X}var Mf=function(X,de,ee,pe,_e,Xe){var ot=X.gl;this.program=ot.createProgram();for(var St=lc(ee.staticAttributes),Ut=pe?pe.getBinderAttributes():[],Kt=St.concat(Ut),or=ee.staticUniforms?lc(ee.staticUniforms):[],ir=pe?pe.getBinderUniforms():[],_r=or.concat(ir),Zr=[],Yr=0,Vr=_r;Yr<Vr.length;Yr+=1){var Kr=Vr[Yr];Zr.indexOf(Kr)<0&&Zr.push(Kr)}var un=pe?pe.defines():[];Xe&&un.push("#define OVERDRAW_INSPECTOR;");var Rn=un.concat(ol.fragmentSource,ee.fragmentSource).join(`
`),zn=un.concat(ol.vertexSource,ee.vertexSource).join(`
`),Wn=ot.createShader(ot.FRAGMENT_SHADER);if(ot.isContextLost()){this.failedToCreate=!0;return}ot.shaderSource(Wn,Rn),ot.compileShader(Wn),ot.attachShader(this.program,Wn);var Zn=ot.createShader(ot.VERTEX_SHADER);if(ot.isContextLost()){this.failedToCreate=!0;return}ot.shaderSource(Zn,zn),ot.compileShader(Zn),ot.attachShader(this.program,Zn),this.attributes={};var Hn={};this.numAttributes=Kt.length;for(var jn=0;jn<this.numAttributes;jn++)Kt[jn]&&(ot.bindAttribLocation(this.program,jn,Kt[jn]),this.attributes[Kt[jn]]=jn);ot.linkProgram(this.program),ot.deleteShader(Zn),ot.deleteShader(Wn);for(var aa=0;aa<Zr.length;aa++){var fa=Zr[aa];if(fa&&!Hn[fa]){var ma=ot.getUniformLocation(this.program,fa);ma&&(Hn[fa]=ma)}}this.fixedUniforms=_e(X,Hn),this.binderUniforms=pe?pe.getUniforms(X,Hn):[]};Mf.prototype.draw=function(X,de,ee,pe,_e,Xe,ot,St,Ut,Kt,or,ir,_r,Zr,Yr,Vr){var Kr,un=X.gl;if(!this.failedToCreate){X.program.set(this.program),X.setDepthMode(ee),X.setStencilMode(pe),X.setColorMode(_e),X.setCullFace(Xe);for(var Rn in this.fixedUniforms)this.fixedUniforms[Rn].set(ot[Rn]);Zr&&Zr.setUniforms(X,this.binderUniforms,ir,{zoom:_r});for(var zn=(Kr={},Kr[un.LINES]=2,Kr[un.TRIANGLES]=3,Kr[un.LINE_STRIP]=1,Kr)[de],Wn=0,Zn=or.get();Wn<Zn.length;Wn+=1){var Hn=Zn[Wn],jn=Hn.vaos||(Hn.vaos={}),aa=jn[St]||(jn[St]=new Ko);aa.bind(X,this,Ut,Zr?Zr.getPaintVertexBuffers():[],Kt,Hn.vertexOffset,Yr,Vr),un.drawElements(de,Hn.primitiveLength*zn,un.UNSIGNED_SHORT,Hn.primitiveOffset*zn*2)}}};function sl(he,X,de){var ee=1/dn(de,1,X.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),_e=de.tileSize*Math.pow(2,X.transform.tileZoom)/pe,Xe=_e*(de.tileID.canonical.x+de.tileID.wrap*pe),ot=_e*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[ee,he.fromScale,he.toScale],u_fade:he.t,u_pixel_coord_upper:[Xe>>16,ot>>16],u_pixel_coord_lower:[Xe&65535,ot&65535]}}function Vs(he,X,de,ee){var pe=de.imageManager.getPattern(he.from.toString()),_e=de.imageManager.getPattern(he.to.toString()),Xe=de.imageManager.getPixelSize(),ot=Xe.width,St=Xe.height,Ut=Math.pow(2,ee.tileID.overscaledZ),Kt=ee.tileSize*Math.pow(2,de.transform.tileZoom)/Ut,or=Kt*(ee.tileID.canonical.x+ee.tileID.wrap*Ut),ir=Kt*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:_e.tl,u_pattern_br_b:_e.br,u_texsize:[ot,St],u_mix:X.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:_e.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/dn(ee,1,de.transform.tileZoom),u_pixel_coord_upper:[or>>16,ir>>16],u_pixel_coord_lower:[or&65535,ir&65535]}}var Ku=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_lightpos:new a.Uniform3f(he,X.u_lightpos),u_lightintensity:new a.Uniform1f(he,X.u_lightintensity),u_lightcolor:new a.Uniform3f(he,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(he,X.u_vertical_gradient),u_opacity:new a.Uniform1f(he,X.u_opacity)}},ki=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_lightpos:new a.Uniform3f(he,X.u_lightpos),u_lightintensity:new a.Uniform1f(he,X.u_lightintensity),u_lightcolor:new a.Uniform3f(he,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(he,X.u_vertical_gradient),u_height_factor:new a.Uniform1f(he,X.u_height_factor),u_image:new a.Uniform1i(he,X.u_image),u_texsize:new a.Uniform2f(he,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade),u_opacity:new a.Uniform1f(he,X.u_opacity)}},fu=function(he,X,de,ee){var pe=X.style.light,_e=pe.properties.get("position"),Xe=[_e.x,_e.y,_e.z],ot=a.create$1();pe.properties.get("anchor")==="viewport"&&a.fromRotation(ot,-X.transform.angle),a.transformMat3(Xe,Xe,ot);var St=pe.properties.get("color");return{u_matrix:he,u_lightpos:Xe,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[St.r,St.g,St.b],u_vertical_gradient:+de,u_opacity:ee}},Jo=function(he,X,de,ee,pe,_e,Xe){return a.extend(fu(he,X,de,ee),sl(_e,X,Xe),{u_height_factor:-Math.pow(2,pe.overscaledZ)/Xe.tileSize/8})},Cs=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},ll=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_image:new a.Uniform1i(he,X.u_image),u_texsize:new a.Uniform2f(he,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade)}},Gs=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_world:new a.Uniform2f(he,X.u_world)}},Qo=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_world:new a.Uniform2f(he,X.u_world),u_image:new a.Uniform1i(he,X.u_image),u_texsize:new a.Uniform2f(he,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade)}},Ls=function(he){return{u_matrix:he}},$o=function(he,X,de,ee){return a.extend(Ls(he),sl(de,X,ee))},Uo=function(he,X){return{u_matrix:he,u_world:X}},cu=function(he,X,de,ee,pe){return a.extend($o(he,X,de,ee),{u_world:pe})},dh=function(he,X){return{u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(he,X.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(he,X.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},ph=function(he,X,de,ee){var pe=he.transform,_e,Xe;if(ee.paint.get("circle-pitch-alignment")==="map"){var ot=dn(de,1,pe.zoom);_e=!0,Xe=[ot,ot]}else _e=!1,Xe=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(ee.paint.get("circle-pitch-scale")==="map"),u_matrix:he.translatePosMatrix(X.posMatrix,de,ee.paint.get("circle-translate"),ee.paint.get("circle-translate-anchor")),u_pitch_with_map:+_e,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Xe}},gh=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(he,X.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(he,X.u_extrude_scale),u_overscale_factor:new a.Uniform1f(he,X.u_overscale_factor)}},yh=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_inv_matrix:new a.UniformMatrix4f(he,X.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(he,X.u_viewport_size)}},Sf=function(he,X,de){var ee=dn(de,1,X.zoom),pe=Math.pow(2,X.zoom-de.tileID.overscaledZ),_e=de.tileID.overscaleFactor();return{u_matrix:he,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:ee,u_extrude_scale:[X.pixelsToGLUnits[0]/(ee*pe),X.pixelsToGLUnits[1]/(ee*pe)],u_overscale_factor:_e}},uc=function(he,X,de){return{u_matrix:he,u_inv_matrix:X,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},Nl=function(he,X){return{u_color:new a.UniformColor(he,X.u_color),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_overlay:new a.Uniform1i(he,X.u_overlay),u_overlay_scale:new a.Uniform1f(he,X.u_overlay_scale)}},Ji=function(he,X,de){return de===void 0&&(de=1),{u_matrix:he,u_color:X,u_overlay:0,u_overlay_scale:de}},Oo=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},Ul=function(he){return{u_matrix:he}},fc=function(he,X){return{u_extrude_scale:new a.Uniform1f(he,X.u_extrude_scale),u_intensity:new a.Uniform1f(he,X.u_intensity),u_matrix:new a.UniformMatrix4f(he,X.u_matrix)}},hu=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_world:new a.Uniform2f(he,X.u_world),u_image:new a.Uniform1i(he,X.u_image),u_color_ramp:new a.Uniform1i(he,X.u_color_ramp),u_opacity:new a.Uniform1f(he,X.u_opacity)}},Ps=function(he,X,de,ee){return{u_matrix:he,u_extrude_scale:dn(X,1,de),u_intensity:ee}},mh=function(he,X,de,ee){var pe=a.create();a.ortho(pe,0,he.width,he.height,0,0,1);var _e=he.context.gl;return{u_matrix:pe,u_world:[_e.drawingBufferWidth,_e.drawingBufferHeight],u_image:de,u_color_ramp:ee,u_opacity:X.paint.get("heatmap-opacity")}},cc=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_image:new a.Uniform1i(he,X.u_image),u_latrange:new a.Uniform2f(he,X.u_latrange),u_light:new a.Uniform2f(he,X.u_light),u_shadow:new a.UniformColor(he,X.u_shadow),u_highlight:new a.UniformColor(he,X.u_highlight),u_accent:new a.UniformColor(he,X.u_accent)}},hc=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_image:new a.Uniform1i(he,X.u_image),u_dimension:new a.Uniform2f(he,X.u_dimension),u_zoom:new a.Uniform1f(he,X.u_zoom),u_unpack:new a.Uniform4f(he,X.u_unpack)}},Ef=function(he,X,de){var ee=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),_e=de.paint.get("hillshade-accent-color"),Xe=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=he.transform.angle);var ot=!he.options.moving;return{u_matrix:he.transform.calculatePosMatrix(X.tileID.toUnwrapped(),ot),u_image:0,u_latrange:bo(he,X.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Xe],u_shadow:ee,u_highlight:pe,u_accent:_e}},vc=function(he,X){var de=X.stride,ee=a.create();return a.ortho(ee,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(ee,ee,[0,-a.EXTENT,0]),{u_matrix:ee,u_image:1,u_dimension:[de,de],u_zoom:he.overscaledZ,u_unpack:X.getUnpackVector()}};function bo(he,X){var de=Math.pow(2,X.canonical.z),ee=X.canonical.y;return[new a.MercatorCoordinate(0,ee/de).toLngLat().lat,new a.MercatorCoordinate(0,(ee+1)/de).toLngLat().lat]}var qo=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels)}},Ws=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels),u_image:new a.Uniform1i(he,X.u_image),u_image_height:new a.Uniform1f(he,X.u_image_height)}},Hl=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_texsize:new a.Uniform2f(he,X.u_texsize),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_image:new a.Uniform1i(he,X.u_image),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels),u_scale:new a.Uniform3f(he,X.u_scale),u_fade:new a.Uniform1f(he,X.u_fade)}},Ju=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_ratio:new a.Uniform1f(he,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(he,X.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(he,X.u_patternscale_a),u_patternscale_b:new a.Uniform2f(he,X.u_patternscale_b),u_sdfgamma:new a.Uniform1f(he,X.u_sdfgamma),u_image:new a.Uniform1i(he,X.u_image),u_tex_y_a:new a.Uniform1f(he,X.u_tex_y_a),u_tex_y_b:new a.Uniform1f(he,X.u_tex_y_b),u_mix:new a.Uniform1f(he,X.u_mix)}},ul=function(he,X,de){var ee=he.transform;return{u_matrix:Ys(he,X,de),u_ratio:1/dn(X,1,ee.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/ee.pixelsToGLUnits[0],1/ee.pixelsToGLUnits[1]]}},fl=function(he,X,de,ee){return a.extend(ul(he,X,de),{u_image:0,u_image_height:ee})},dc=function(he,X,de,ee){var pe=he.transform,_e=Vl(X,pe);return{u_matrix:Ys(he,X,de),u_texsize:X.imageAtlasTexture.size,u_ratio:1/dn(X,1,pe.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[_e,ee.fromScale,ee.toScale],u_fade:ee.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},Rs=function(he,X,de,ee,pe){var _e=he.transform,Xe=he.lineAtlas,ot=Vl(X,_e),St=de.layout.get("line-cap")==="round",Ut=Xe.getDash(ee.from,St),Kt=Xe.getDash(ee.to,St),or=Ut.width*pe.fromScale,ir=Kt.width*pe.toScale;return a.extend(ul(he,X,de),{u_patternscale_a:[ot/or,-Ut.height/2],u_patternscale_b:[ot/ir,-Kt.height/2],u_sdfgamma:Xe.width/(Math.min(or,ir)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:Kt.y,u_mix:pe.t})};function Vl(he,X){return 1/dn(he,1,X.tileZoom)}function Ys(he,X,de){return he.translatePosMatrix(X.tileID.posMatrix,X,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var Ds=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_tl_parent:new a.Uniform2f(he,X.u_tl_parent),u_scale_parent:new a.Uniform1f(he,X.u_scale_parent),u_buffer_scale:new a.Uniform1f(he,X.u_buffer_scale),u_fade_t:new a.Uniform1f(he,X.u_fade_t),u_opacity:new a.Uniform1f(he,X.u_opacity),u_image0:new a.Uniform1i(he,X.u_image0),u_image1:new a.Uniform1i(he,X.u_image1),u_brightness_low:new a.Uniform1f(he,X.u_brightness_low),u_brightness_high:new a.Uniform1f(he,X.u_brightness_high),u_saturation_factor:new a.Uniform1f(he,X.u_saturation_factor),u_contrast_factor:new a.Uniform1f(he,X.u_contrast_factor),u_spin_weights:new a.Uniform3f(he,X.u_spin_weights)}},vu=function(he,X,de,ee,pe){return{u_matrix:he,u_tl_parent:X,u_scale_parent:de,u_buffer_scale:1,u_fade_t:ee.mix,u_opacity:ee.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:Wl(pe.paint.get("raster-saturation")),u_contrast_factor:fi(pe.paint.get("raster-contrast")),u_spin_weights:Gl(pe.paint.get("raster-hue-rotate"))}};function Gl(he){he*=Math.PI/180;var X=Math.sin(he),de=Math.cos(he);return[(2*de+1)/3,(-Math.sqrt(3)*X-de+1)/3,(Math.sqrt(3)*X-de+1)/3]}function fi(he){return he>0?1/(1-he):1+he}function Wl(he){return he>0?1-1/(1.001-he):-he}var Qu=function(he,X){return{u_is_size_zoom_constant:new a.Uniform1i(he,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,X.u_size_t),u_size:new a.Uniform1f(he,X.u_size),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,X.u_pitch),u_rotate_symbol:new a.Uniform1i(he,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,X.u_fade_change),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,X.u_coord_matrix),u_is_text:new a.Uniform1i(he,X.u_is_text),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_texsize:new a.Uniform2f(he,X.u_texsize),u_texture:new a.Uniform1i(he,X.u_texture)}},pc=function(he,X){return{u_is_size_zoom_constant:new a.Uniform1i(he,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,X.u_size_t),u_size:new a.Uniform1f(he,X.u_size),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,X.u_pitch),u_rotate_symbol:new a.Uniform1i(he,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,X.u_fade_change),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,X.u_coord_matrix),u_is_text:new a.Uniform1i(he,X.u_is_text),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_texsize:new a.Uniform2f(he,X.u_texsize),u_texture:new a.Uniform1i(he,X.u_texture),u_gamma_scale:new a.Uniform1f(he,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(he,X.u_is_halo)}},Yl=function(he,X){return{u_is_size_zoom_constant:new a.Uniform1i(he,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(he,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(he,X.u_size_t),u_size:new a.Uniform1f(he,X.u_size),u_camera_to_center_distance:new a.Uniform1f(he,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(he,X.u_pitch),u_rotate_symbol:new a.Uniform1i(he,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(he,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(he,X.u_fade_change),u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(he,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(he,X.u_coord_matrix),u_is_text:new a.Uniform1i(he,X.u_is_text),u_pitch_with_map:new a.Uniform1i(he,X.u_pitch_with_map),u_texsize:new a.Uniform2f(he,X.u_texsize),u_texsize_icon:new a.Uniform2f(he,X.u_texsize_icon),u_texture:new a.Uniform1i(he,X.u_texture),u_texture_icon:new a.Uniform1i(he,X.u_texture_icon),u_gamma_scale:new a.Uniform1f(he,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(he,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(he,X.u_is_halo)}},du=function(he,X,de,ee,pe,_e,Xe,ot,St,Ut){var Kt=pe.transform;return{u_is_size_zoom_constant:+(he==="constant"||he==="source"),u_is_size_feature_constant:+(he==="constant"||he==="camera"),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:Kt.cameraToCenterDistance,u_pitch:Kt.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:Kt.width/Kt.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:_e,u_label_plane_matrix:Xe,u_coord_matrix:ot,u_is_text:+St,u_pitch_with_map:+ee,u_texsize:Ut,u_texture:0}},$u=function(he,X,de,ee,pe,_e,Xe,ot,St,Ut,Kt){var or=pe.transform;return a.extend(du(he,X,de,ee,pe,_e,Xe,ot,St,Ut),{u_gamma_scale:ee?Math.cos(or._pitch)*or.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Kt})},Cf=function(he,X,de,ee,pe,_e,Xe,ot,St,Ut){return a.extend($u(he,X,de,ee,pe,_e,Xe,ot,!0,St,!0),{u_texsize_icon:Ut,u_texture_icon:1})},pu=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_opacity:new a.Uniform1f(he,X.u_opacity),u_color:new a.UniformColor(he,X.u_color)}},gu=function(he,X){return{u_matrix:new a.UniformMatrix4f(he,X.u_matrix),u_opacity:new a.Uniform1f(he,X.u_opacity),u_image:new a.Uniform1i(he,X.u_image),u_pattern_tl_a:new a.Uniform2f(he,X.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(he,X.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(he,X.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(he,X.u_pattern_br_b),u_texsize:new a.Uniform2f(he,X.u_texsize),u_mix:new a.Uniform1f(he,X.u_mix),u_pattern_size_a:new a.Uniform2f(he,X.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(he,X.u_pattern_size_b),u_scale_a:new a.Uniform1f(he,X.u_scale_a),u_scale_b:new a.Uniform1f(he,X.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(he,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(he,X.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(he,X.u_tile_units_to_pixels)}},Zs=function(he,X,de){return{u_matrix:he,u_opacity:X,u_color:de}},yu=function(he,X,de,ee,pe,_e){return a.extend(Vs(ee,_e,de,pe),{u_matrix:he,u_opacity:X})},Xs={fillExtrusion:Ku,fillExtrusionPattern:ki,fill:Cs,fillPattern:ll,fillOutline:Gs,fillOutlinePattern:Qo,circle:dh,collisionBox:gh,collisionCircle:yh,debug:Nl,clippingMask:Oo,heatmap:fc,heatmapTexture:hu,hillshade:cc,hillshadePrepare:hc,line:qo,lineGradient:Ws,linePattern:Hl,lineSDF:Ju,raster:Ds,symbolIcon:Qu,symbolSDF:pc,symbolTextAndIcon:Yl,background:pu,backgroundPattern:gu},Vi;function ds(he,X,de,ee,pe,_e,Xe){for(var ot=he.context,St=ot.gl,Ut=he.useProgram("collisionBox"),Kt=[],or=0,ir=0,_r=0;_r<ee.length;_r++){var Zr=ee[_r],Yr=X.getTile(Zr),Vr=Yr.getBucket(de);if(Vr){var Kr=Zr.posMatrix;(pe[0]!==0||pe[1]!==0)&&(Kr=he.translatePosMatrix(Zr.posMatrix,Yr,pe,_e));var un=Xe?Vr.textCollisionBox:Vr.iconCollisionBox,Rn=Vr.collisionCircleArray;if(Rn.length>0){var zn=a.create(),Wn=Kr;a.mul(zn,Vr.placementInvProjMatrix,he.transform.glCoordMatrix),a.mul(zn,zn,Vr.placementViewportMatrix),Kt.push({circleArray:Rn,circleOffset:ir,transform:Wn,invTransform:zn}),or+=Rn.length/4,ir=or}un&&Ut.draw(ot,St.LINES,wr.disabled,Qt.disabled,he.colorModeForRenderPass(),Dt.disabled,Sf(Kr,he.transform,Yr),de.id,un.layoutVertexBuffer,un.indexBuffer,un.segments,null,he.transform.zoom,null,null,un.collisionVertexBuffer)}}if(!(!Xe||!Kt.length)){var Zn=he.useProgram("collisionCircle"),Hn=new a.StructArrayLayout2f1f2i16;Hn.resize(or*4),Hn._trim();for(var jn=0,aa=0,fa=Kt;aa<fa.length;aa+=1)for(var ma=fa[aa],va=0;va<ma.circleArray.length/4;va++){var _a=va*4,Ja=ma.circleArray[_a+0],Wa=ma.circleArray[_a+1],Ma=ma.circleArray[_a+2],Ya=ma.circleArray[_a+3];Hn.emplace(jn++,Ja,Wa,Ma,Ya,0),Hn.emplace(jn++,Ja,Wa,Ma,Ya,1),Hn.emplace(jn++,Ja,Wa,Ma,Ya,2),Hn.emplace(jn++,Ja,Wa,Ma,Ya,3)}(!Vi||Vi.length<or*2)&&(Vi=Lf(or));for(var Ua=ot.createIndexBuffer(Vi,!0),ai=ot.createVertexBuffer(Hn,a.collisionCircleLayout.members,!0),qa=0,Ti=Kt;qa<Ti.length;qa+=1){var Ka=Ti[qa],pi=uc(Ka.transform,Ka.invTransform,he.transform);Zn.draw(ot,St.TRIANGLES,wr.disabled,Qt.disabled,he.colorModeForRenderPass(),Dt.disabled,pi,de.id,ai,Ua,a.SegmentVector.simpleSegment(0,Ka.circleOffset*2,Ka.circleArray.length,Ka.circleArray.length/2),null,he.transform.zoom,null,null,null)}ai.destroy(),Ua.destroy()}}function Lf(he){var X=he*2,de=new a.StructArrayLayout3ui6;de.resize(X),de._trim();for(var ee=0;ee<X;ee++){var pe=ee*6;de.uint16[pe+0]=ee*4+0,de.uint16[pe+1]=ee*4+1,de.uint16[pe+2]=ee*4+2,de.uint16[pe+3]=ee*4+2,de.uint16[pe+4]=ee*4+3,de.uint16[pe+5]=ee*4+0}return de}var cl=a.identity(new Float32Array(16));function qu(he,X,de,ee,pe){if(he.renderPass==="translucent"){var _e=Qt.disabled,Xe=he.colorModeForRenderPass(),ot=de.layout.get("text-variable-anchor");ot&&xh(ee,he,de,X,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&xu(he,X,de,ee,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),_e,Xe),de.paint.get("text-opacity").constantOr(1)!==0&&xu(he,X,de,ee,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),_e,Xe),X.map.showCollisionBoxes&&(ds(he,X,de,ee,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),ds(he,X,de,ee,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function mu(he,X,de,ee,pe,_e){var Xe=a.getAnchorAlignment(he),ot=Xe.horizontalAlign,St=Xe.verticalAlign,Ut=-(ot-.5)*X,Kt=-(St-.5)*de,or=a.evaluateVariableOffset(he,ee);return new a.Point((Ut/pe+or[0])*_e,(Kt/pe+or[1])*_e)}function xh(he,X,de,ee,pe,_e,Xe){for(var ot=X.transform,St=pe==="map",Ut=_e==="map",Kt=0,or=he;Kt<or.length;Kt+=1){var ir=or[Kt],_r=ee.getTile(ir),Zr=_r.getBucket(de);if(!(!Zr||!Zr.text||!Zr.text.segments.get().length)){var Yr=Zr.textSizeData,Vr=a.evaluateSizeForZoom(Yr,ot.zoom),Kr=dn(_r,1,X.transform.zoom),un=Er(ir.posMatrix,Ut,St,X.transform,Kr),Rn=de.layout.get("icon-text-fit")!=="none"&&Zr.hasIconData();if(Vr){var zn=Math.pow(2,ot.zoom-_r.tileID.overscaledZ);gc(Zr,St,Ut,Xe,a.symbolSize,ot,un,ir.posMatrix,zn,Vr,Rn)}}}}function gc(he,X,de,ee,pe,_e,Xe,ot,St,Ut,Kt){var or=he.text.placedSymbolArray,ir=he.text.dynamicLayoutVertexArray,_r=he.icon.dynamicLayoutVertexArray,Zr={};ir.clear();for(var Yr=0;Yr<or.length;Yr++){var Vr=or.get(Yr),Kr=he.allowVerticalPlacement&&!Vr.placedOrientation,un=!Vr.hidden&&Vr.crossTileID&&!Kr?ee[Vr.crossTileID]:null;if(!un)Jn(Vr.numGlyphs,ir);else{var Rn=new a.Point(Vr.anchorX,Vr.anchorY),zn=Hr(Rn,de?ot:Xe),Wn=an(_e.cameraToCenterDistance,zn.signedDistanceFromCamera),Zn=pe.evaluateSizeForFeature(he.textSizeData,Ut,Vr)*Wn/a.ONE_EM;de&&(Zn*=he.tilePixelRatio/St);for(var Hn=un.width,jn=un.height,aa=un.anchor,fa=un.textOffset,ma=un.textBoxScale,va=mu(aa,Hn,jn,fa,ma,Zn),_a=de?Hr(Rn.add(va),Xe).point:zn.point.add(X?va.rotate(-_e.angle):va),Ja=he.allowVerticalPlacement&&Vr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Wa=0;Wa<Vr.numGlyphs;Wa++)a.addDynamicAttributes(ir,_a,Ja);Kt&&Vr.associatedIconIndex>=0&&(Zr[Vr.associatedIconIndex]={shiftedAnchor:_a,angle:Ja})}}if(Kt){_r.clear();for(var Ma=he.icon.placedSymbolArray,Ya=0;Ya<Ma.length;Ya++){var Ua=Ma.get(Ya);if(Ua.hidden)Jn(Ua.numGlyphs,_r);else{var ai=Zr[Ya];if(!ai)Jn(Ua.numGlyphs,_r);else for(var qa=0;qa<Ua.numGlyphs;qa++)a.addDynamicAttributes(_r,ai.shiftedAnchor,ai.angle)}}he.icon.dynamicLayoutVertexBuffer.updateData(_r)}he.text.dynamicLayoutVertexBuffer.updateData(ir)}function vo(he,X,de){return de.iconsInText&&X?"symbolTextAndIcon":he?"symbolSDF":"symbolIcon"}function xu(he,X,de,ee,pe,_e,Xe,ot,St,Ut,Kt,or){for(var ir=he.context,_r=ir.gl,Zr=he.transform,Yr=ot==="map",Vr=St==="map",Kr=Yr&&de.layout.get("symbol-placement")!=="point",un=Yr&&!Vr&&!Kr,Rn=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,zn=!1,Wn=he.depthModeForSublayer(0,wr.ReadOnly),Zn=de.layout.get("text-variable-anchor"),Hn=[],jn=0,aa=ee;jn<aa.length;jn+=1){var fa=aa[jn],ma=X.getTile(fa),va=ma.getBucket(de);if(va){var _a=pe?va.text:va.icon;if(!(!_a||!_a.segments.get().length)){var Ja=_a.programConfigurations.get(de.id),Wa=pe||va.sdfIcons,Ma=pe?va.textSizeData:va.iconSizeData,Ya=Vr||Zr.pitch!==0,Ua=he.useProgram(vo(Wa,pe,va),Ja),ai=a.evaluateSizeForZoom(Ma,Zr.zoom),qa=void 0,Ti=[0,0],Ka=void 0,pi=void 0,Ha=null,Qa=void 0;if(pe){if(Ka=ma.glyphAtlasTexture,pi=_r.LINEAR,qa=ma.glyphAtlasTexture.size,va.iconsInText){Ti=ma.imageAtlasTexture.size,Ha=ma.imageAtlasTexture;var Bi=Ma.kind==="composite"||Ma.kind==="camera";Qa=Ya||he.options.rotating||he.options.zooming||Bi?_r.LINEAR:_r.NEAREST}}else{var go=de.layout.get("icon-size").constantOr(0)!==1||va.iconsNeedLinear;Ka=ma.imageAtlasTexture,pi=Wa||he.options.rotating||he.options.zooming||go||Ya?_r.LINEAR:_r.NEAREST,qa=ma.imageAtlasTexture.size}var Js=dn(ma,1,he.transform.zoom),Qs=Er(fa.posMatrix,Vr,Yr,he.transform,Js),dl=Wr(fa.posMatrix,Vr,Yr,he.transform,Js),jl=Zn&&va.hasTextData(),zf=de.layout.get("icon-text-fit")!=="none"&&jl&&va.hasIconData();Kr&&pn(va,fa.posMatrix,he,pe,Qs,dl,Vr,Ut);var Kl=he.translatePosMatrix(fa.posMatrix,ma,_e,Xe),ts=Kr||pe&&Zn||zf?cl:Qs,Jl=he.translatePosMatrix(dl,ma,_e,Xe,!0),ys=Wa&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,rs=void 0;Wa?va.iconsInText?rs=Cf(Ma.kind,ai,un,Vr,he,Kl,ts,Jl,qa,Ti):rs=$u(Ma.kind,ai,un,Vr,he,Kl,ts,Jl,pe,qa,!0):rs=du(Ma.kind,ai,un,Vr,he,Kl,ts,Jl,pe,qa);var pl={program:Ua,buffers:_a,uniformValues:rs,atlasTexture:Ka,atlasTextureIcon:Ha,atlasInterpolation:pi,atlasInterpolationIcon:Qa,isSDF:Wa,hasHalo:ys};if(Rn&&va.canOverlap){zn=!0;for(var Cu=_a.segments.get(),yl=0,Kh=Cu;yl<Kh.length;yl+=1){var Sc=Kh[yl];Hn.push({segments:new a.SegmentVector([Sc]),sortKey:Sc.sortKey,state:pl})}}else Hn.push({segments:_a.segments,sortKey:0,state:pl})}}}zn&&Hn.sort(function(Qh,$h){return Qh.sortKey-$h.sortKey});for(var wo=0,Jh=Hn;wo<Jh.length;wo+=1){var Sh=Jh[wo],Ho=Sh.state;if(ir.activeTexture.set(_r.TEXTURE0),Ho.atlasTexture.bind(Ho.atlasInterpolation,_r.CLAMP_TO_EDGE),Ho.atlasTextureIcon&&(ir.activeTexture.set(_r.TEXTURE1),Ho.atlasTextureIcon&&Ho.atlasTextureIcon.bind(Ho.atlasInterpolationIcon,_r.CLAMP_TO_EDGE)),Ho.isSDF){var Ec=Ho.uniformValues;Ho.hasHalo&&(Ec.u_is_halo=1,Zl(Ho.buffers,Sh.segments,de,he,Ho.program,Wn,Kt,or,Ec)),Ec.u_is_halo=0}Zl(Ho.buffers,Sh.segments,de,he,Ho.program,Wn,Kt,or,Ho.uniformValues)}}function Zl(he,X,de,ee,pe,_e,Xe,ot,St){var Ut=ee.context,Kt=Ut.gl;pe.draw(Ut,Kt.TRIANGLES,_e,Xe,ot,Dt.disabled,St,de.id,he.layoutVertexBuffer,he.indexBuffer,X,de.paint,ee.transform.zoom,he.programConfigurations.get(de.id),he.dynamicLayoutVertexBuffer,he.opacityVertexBuffer)}function yc(he,X,de,ee){if(he.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),_e=de.paint.get("circle-stroke-width"),Xe=de.paint.get("circle-stroke-opacity"),ot=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(_e.constantOr(1)===0||Xe.constantOr(1)===0))){for(var St=he.context,Ut=St.gl,Kt=he.depthModeForSublayer(0,wr.ReadOnly),or=Qt.disabled,ir=he.colorModeForRenderPass(),_r=[],Zr=0;Zr<ee.length;Zr++){var Yr=ee[Zr],Vr=X.getTile(Yr),Kr=Vr.getBucket(de);if(Kr){var un=Kr.programConfigurations.get(de.id),Rn=he.useProgram("circle",un),zn=Kr.layoutVertexBuffer,Wn=Kr.indexBuffer,Zn=ph(he,Yr,Vr,de),Hn={programConfiguration:un,program:Rn,layoutVertexBuffer:zn,indexBuffer:Wn,uniformValues:Zn};if(ot)for(var jn=Kr.segments.get(),aa=0,fa=jn;aa<fa.length;aa+=1){var ma=fa[aa];_r.push({segments:new a.SegmentVector([ma]),sortKey:ma.sortKey,state:Hn})}else _r.push({segments:Kr.segments,sortKey:0,state:Hn})}}ot&&_r.sort(function(Ka,pi){return Ka.sortKey-pi.sortKey});for(var va=0,_a=_r;va<_a.length;va+=1){var Ja=_a[va],Wa=Ja.state,Ma=Wa.programConfiguration,Ya=Wa.program,Ua=Wa.layoutVertexBuffer,ai=Wa.indexBuffer,qa=Wa.uniformValues,Ti=Ja.segments;Ya.draw(St,Ut.TRIANGLES,Kt,or,ir,Dt.disabled,qa,de.id,Ua,ai,Ti,de.paint,he.transform.zoom,Ma)}}}}function js(he,X,de,ee){if(de.paint.get("heatmap-opacity")!==0)if(he.renderPass==="offscreen"){var pe=he.context,_e=pe.gl,Xe=Qt.disabled,ot=new it([_e.ONE,_e.ONE],a.Color.transparent,[!0,!0,!0,!0]);bh(pe,he,de),pe.clear({color:a.Color.transparent});for(var St=0;St<ee.length;St++){var Ut=ee[St];if(!X.hasRenderableParent(Ut)){var Kt=X.getTile(Ut),or=Kt.getBucket(de);if(or){var ir=or.programConfigurations.get(de.id),_r=he.useProgram("heatmap",ir),Zr=he.transform,Yr=Zr.zoom;_r.draw(pe,_e.TRIANGLES,wr.disabled,Xe,ot,Dt.disabled,Ps(Ut.posMatrix,Kt,Yr,de.paint.get("heatmap-intensity")),de.id,or.layoutVertexBuffer,or.indexBuffer,or.segments,de.paint,he.transform.zoom,ir)}}}pe.viewport.set([0,0,he.width,he.height])}else he.renderPass==="translucent"&&(he.context.setColorMode(he.colorModeForRenderPass()),bu(he,de))}function bh(he,X,de){var ee=he.gl;he.activeTexture.set(ee.TEXTURE1),he.viewport.set([0,0,X.width/4,X.height/4]);var pe=de.heatmapFbo;if(pe)ee.bindTexture(ee.TEXTURE_2D,pe.colorAttachment.get()),he.bindFramebuffer.set(pe.framebuffer);else{var _e=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,_e),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),pe=de.heatmapFbo=he.createFramebuffer(X.width/4,X.height/4,!1),Ro(he,X,_e,pe)}}function Ro(he,X,de,ee){var pe=he.gl,_e=he.extRenderToTextureHalfFloat?he.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,X.width/4,X.height/4,0,pe.RGBA,_e,null),ee.colorAttachment.set(de)}function bu(he,X){var de=he.context,ee=de.gl,pe=X.heatmapFbo;if(pe){de.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(ee.TEXTURE1);var _e=X.colorRampTexture;_e||(_e=X.colorRampTexture=new a.Texture(de,X.colorRamp,ee.RGBA)),_e.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),he.useProgram("heatmapTexture").draw(de,ee.TRIANGLES,wr.disabled,Qt.disabled,he.colorModeForRenderPass(),Dt.disabled,mh(he,X,0,1),X.id,he.viewportBuffer,he.quadTriangleIndexBuffer,he.viewportSegments,X.paint,he.transform.zoom)}}function ef(he,X,de,ee){if(he.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),_e=de.paint.get("line-width");if(!(pe.constantOr(1)===0||_e.constantOr(1)===0))for(var Xe=he.depthModeForSublayer(0,wr.ReadOnly),ot=he.colorModeForRenderPass(),St=de.paint.get("line-dasharray"),Ut=de.paint.get("line-pattern"),Kt=Ut.constantOr(1),or=de.paint.get("line-gradient"),ir=de.getCrossfadeParameters(),_r=Kt?"linePattern":St?"lineSDF":or?"lineGradient":"line",Zr=he.context,Yr=Zr.gl,Vr=!0,Kr=0,un=ee;Kr<un.length;Kr+=1){var Rn=un[Kr],zn=X.getTile(Rn);if(!(Kt&&!zn.patternsLoaded())){var Wn=zn.getBucket(de);if(Wn){var Zn=Wn.programConfigurations.get(de.id),Hn=he.context.program.get(),jn=he.useProgram(_r,Zn),aa=Vr||jn.program!==Hn,fa=Ut.constantOr(null);if(fa&&zn.imageAtlas){var ma=zn.imageAtlas,va=ma.patternPositions[fa.to.toString()],_a=ma.patternPositions[fa.from.toString()];va&&_a&&Zn.setConstantPatternPositions(va,_a)}var Ja=Kt?dc(he,zn,de,ir):St?Rs(he,zn,de,St,ir):or?fl(he,zn,de,Wn.lineClipsArray.length):ul(he,zn,de);if(Kt)Zr.activeTexture.set(Yr.TEXTURE0),zn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Zn.updatePaintBuffers(ir);else if(St&&(aa||he.lineAtlas.dirty))Zr.activeTexture.set(Yr.TEXTURE0),he.lineAtlas.bind(Zr);else if(or){var Wa=Wn.gradients[de.id],Ma=Wa.texture;if(de.gradientVersion!==Wa.version){var Ya=256;if(de.stepInterpolant){var Ua=X.getSource().maxzoom,ai=Rn.canonical.z===Ua?Math.ceil(1<<he.transform.maxZoom-Rn.canonical.z):1,qa=Wn.maxLineLength/a.EXTENT,Ti=1024,Ka=qa*Ti*ai;Ya=a.clamp(a.nextPowerOfTwo(Ka),256,Zr.maxTextureSize)}Wa.gradient=a.renderColorRamp({expression:de.gradientExpression(),evaluationKey:"lineProgress",resolution:Ya,image:Wa.gradient||void 0,clips:Wn.lineClipsArray}),Wa.texture?Wa.texture.update(Wa.gradient):Wa.texture=new a.Texture(Zr,Wa.gradient,Yr.RGBA),Wa.version=de.gradientVersion,Ma=Wa.texture}Zr.activeTexture.set(Yr.TEXTURE0),Ma.bind(de.stepInterpolant?Yr.NEAREST:Yr.LINEAR,Yr.CLAMP_TO_EDGE)}jn.draw(Zr,Yr.TRIANGLES,Xe,he.stencilModeForClipping(Rn),ot,Dt.disabled,Ja,de.id,Wn.layoutVertexBuffer,Wn.indexBuffer,Wn.segments,de.paint,he.transform.zoom,Zn,Wn.layoutVertexBuffer2),Vr=!1}}}}}function Is(he,X,de,ee){var pe=de.paint.get("fill-color"),_e=de.paint.get("fill-opacity");if(_e.constantOr(1)!==0){var Xe=he.colorModeForRenderPass(),ot=de.paint.get("fill-pattern"),St=he.opaquePassEnabledForLayer()&&!ot.constantOr(1)&&pe.constantOr(a.Color.transparent).a===1&&_e.constantOr(0)===1?"opaque":"translucent";if(he.renderPass===St){var Ut=he.depthModeForSublayer(1,he.renderPass==="opaque"?wr.ReadWrite:wr.ReadOnly);Ks(he,X,de,ee,Ut,Xe,!1)}if(he.renderPass==="translucent"&&de.paint.get("fill-antialias")){var Kt=he.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,wr.ReadOnly);Ks(he,X,de,ee,Kt,Xe,!0)}}}function Ks(he,X,de,ee,pe,_e,Xe){var ot=he.context.gl,St=de.paint.get("fill-pattern"),Ut=St&&St.constantOr(1),Kt=de.getCrossfadeParameters(),or,ir,_r,Zr,Yr;Xe?(ir=Ut&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",or=ot.LINES):(ir=Ut?"fillPattern":"fill",or=ot.TRIANGLES);for(var Vr=0,Kr=ee;Vr<Kr.length;Vr+=1){var un=Kr[Vr],Rn=X.getTile(un);if(!(Ut&&!Rn.patternsLoaded())){var zn=Rn.getBucket(de);if(zn){var Wn=zn.programConfigurations.get(de.id),Zn=he.useProgram(ir,Wn);Ut&&(he.context.activeTexture.set(ot.TEXTURE0),Rn.imageAtlasTexture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),Wn.updatePaintBuffers(Kt));var Hn=St.constantOr(null);if(Hn&&Rn.imageAtlas){var jn=Rn.imageAtlas,aa=jn.patternPositions[Hn.to.toString()],fa=jn.patternPositions[Hn.from.toString()];aa&&fa&&Wn.setConstantPatternPositions(aa,fa)}var ma=he.translatePosMatrix(un.posMatrix,Rn,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Xe)Zr=zn.indexBuffer,Yr=zn.segments,_r=Ut?$o(ma,he,Kt,Rn):Ls(ma);else{Zr=zn.indexBuffer2,Yr=zn.segments2;var va=[ot.drawingBufferWidth,ot.drawingBufferHeight];_r=ir==="fillOutlinePattern"&&Ut?cu(ma,he,Kt,Rn,va):Uo(ma,va)}Zn.draw(he.context,or,pe,he.stencilModeForClipping(un),_e,Dt.disabled,_r,de.id,zn.layoutVertexBuffer,Zr,Yr,de.paint,he.transform.zoom,Wn)}}}}function Pf(he,X,de,ee){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&he.renderPass==="translucent"){var _e=new wr(he.context.gl.LEQUAL,wr.ReadWrite,he.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=he.colorModeForRenderPass();wu(he,X,de,ee,_e,Qt.disabled,Xe)}else wu(he,X,de,ee,_e,Qt.disabled,it.disabled),wu(he,X,de,ee,_e,he.stencilModeFor3D(),he.colorModeForRenderPass())}}function wu(he,X,de,ee,pe,_e,Xe){for(var ot=he.context,St=ot.gl,Ut=de.paint.get("fill-extrusion-pattern"),Kt=Ut.constantOr(1),or=de.getCrossfadeParameters(),ir=de.paint.get("fill-extrusion-opacity"),_r=0,Zr=ee;_r<Zr.length;_r+=1){var Yr=Zr[_r],Vr=X.getTile(Yr),Kr=Vr.getBucket(de);if(Kr){var un=Kr.programConfigurations.get(de.id),Rn=he.useProgram(Kt?"fillExtrusionPattern":"fillExtrusion",un);Kt&&(he.context.activeTexture.set(St.TEXTURE0),Vr.imageAtlasTexture.bind(St.LINEAR,St.CLAMP_TO_EDGE),un.updatePaintBuffers(or));var zn=Ut.constantOr(null);if(zn&&Vr.imageAtlas){var Wn=Vr.imageAtlas,Zn=Wn.patternPositions[zn.to.toString()],Hn=Wn.patternPositions[zn.from.toString()];Zn&&Hn&&un.setConstantPatternPositions(Zn,Hn)}var jn=he.translatePosMatrix(Yr.posMatrix,Vr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),aa=de.paint.get("fill-extrusion-vertical-gradient"),fa=Kt?Jo(jn,he,aa,ir,Yr,or,Vr):fu(jn,he,aa,ir);Rn.draw(ot,ot.gl.TRIANGLES,pe,_e,Xe,Dt.backCCW,fa,de.id,Kr.layoutVertexBuffer,Kr.indexBuffer,Kr.segments,de.paint,he.transform.zoom,un)}}}function Tu(he,X,de,ee){if(!(he.renderPass!=="offscreen"&&he.renderPass!=="translucent")){for(var pe=he.context,_e=he.depthModeForSublayer(0,wr.ReadOnly),Xe=he.colorModeForRenderPass(),ot=he.renderPass==="translucent"?he.stencilConfigForOverlap(ee):[{},ee],St=ot[0],Ut=ot[1],Kt=0,or=Ut;Kt<or.length;Kt+=1){var ir=or[Kt],_r=X.getTile(ir);_r.needsHillshadePrepare&&he.renderPass==="offscreen"?mc(he,_r,de,_e,Qt.disabled,Xe):he.renderPass==="translucent"&&tf(he,_r,de,_e,St[ir.overscaledZ],Xe)}pe.viewport.set([0,0,he.width,he.height])}}function tf(he,X,de,ee,pe,_e){var Xe=he.context,ot=Xe.gl,St=X.fbo;if(St){var Ut=he.useProgram("hillshade");Xe.activeTexture.set(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,St.colorAttachment.get());var Kt=Ef(he,X,de);Ut.draw(Xe,ot.TRIANGLES,ee,pe,_e,Dt.disabled,Kt,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function mc(he,X,de,ee,pe,_e){var Xe=he.context,ot=Xe.gl,St=X.dem;if(St&&St.data){var Ut=St.dim,Kt=St.stride,or=St.getPixels();if(Xe.activeTexture.set(ot.TEXTURE1),Xe.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||he.getTileTexture(Kt),X.demTexture){var ir=X.demTexture;ir.update(or,{premultiply:!1}),ir.bind(ot.NEAREST,ot.CLAMP_TO_EDGE)}else X.demTexture=new a.Texture(Xe,or,ot.RGBA,{premultiply:!1}),X.demTexture.bind(ot.NEAREST,ot.CLAMP_TO_EDGE);Xe.activeTexture.set(ot.TEXTURE0);var _r=X.fbo;if(!_r){var Zr=new a.Texture(Xe,{width:Ut,height:Ut,data:null},ot.RGBA);Zr.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),_r=X.fbo=Xe.createFramebuffer(Ut,Ut,!0),_r.colorAttachment.set(Zr.texture)}Xe.bindFramebuffer.set(_r.framebuffer),Xe.viewport.set([0,0,Ut,Ut]),he.useProgram("hillshadePrepare").draw(Xe,ot.TRIANGLES,ee,pe,_e,Dt.disabled,vc(X.tileID,St),de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function Au(he,X,de,ee){if(he.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&ee.length)for(var pe=he.context,_e=pe.gl,Xe=X.getSource(),ot=he.useProgram("raster"),St=he.colorModeForRenderPass(),Ut=Xe instanceof $?[{},ee]:he.stencilConfigForOverlap(ee),Kt=Ut[0],or=Ut[1],ir=or[or.length-1].overscaledZ,_r=!he.options.moving,Zr=0,Yr=or;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr],Kr=he.depthModeForSublayer(Vr.overscaledZ-ir,de.paint.get("raster-opacity")===1?wr.ReadWrite:wr.ReadOnly,_e.LESS),un=X.getTile(Vr),Rn=he.transform.calculatePosMatrix(Vr.toUnwrapped(),_r);un.registerFadeDuration(de.paint.get("raster-fade-duration"));var zn=X.findLoadedParent(Vr,0),Wn=Rf(un,zn,X,de,he.transform),Zn=void 0,Hn=void 0,jn=de.paint.get("raster-resampling")==="nearest"?_e.NEAREST:_e.LINEAR;pe.activeTexture.set(_e.TEXTURE0),un.texture.bind(jn,_e.CLAMP_TO_EDGE,_e.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(_e.TEXTURE1),zn?(zn.texture.bind(jn,_e.CLAMP_TO_EDGE,_e.LINEAR_MIPMAP_NEAREST),Zn=Math.pow(2,zn.tileID.overscaledZ-un.tileID.overscaledZ),Hn=[un.tileID.canonical.x*Zn%1,un.tileID.canonical.y*Zn%1]):un.texture.bind(jn,_e.CLAMP_TO_EDGE,_e.LINEAR_MIPMAP_NEAREST);var aa=vu(Rn,Hn||[0,0],Zn||1,Wn,de);Xe instanceof $?ot.draw(pe,_e.TRIANGLES,Kr,Qt.disabled,St,Dt.disabled,aa,de.id,Xe.boundsBuffer,he.quadTriangleIndexBuffer,Xe.boundsSegments):ot.draw(pe,_e.TRIANGLES,Kr,Kt[Vr.overscaledZ],St,Dt.disabled,aa,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Rf(he,X,de,ee,pe){var _e=ee.paint.get("raster-fade-duration");if(_e>0){var Xe=a.browser.now(),ot=(Xe-he.timeAdded)/_e,St=X?(Xe-X.timeAdded)/_e:-1,Ut=de.getSource(),Kt=pe.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),or=!X||Math.abs(X.tileID.overscaledZ-Kt)>Math.abs(he.tileID.overscaledZ-Kt),ir=or&&he.refreshedUponExpiration?1:a.clamp(or?ot:1-St,0,1);return he.refreshedUponExpiration&&ot>=1&&(he.refreshedUponExpiration=!1),X?{opacity:1,mix:1-ir}:{opacity:ir,mix:0}}else return{opacity:1,mix:0}}function hl(he,X,de){var ee=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var _e=he.context,Xe=_e.gl,ot=he.transform,St=ot.tileSize,Ut=de.paint.get("background-pattern");if(!he.isPatternMissing(Ut)){var Kt=!Ut&&ee.a===1&&pe===1&&he.opaquePassEnabledForLayer()?"opaque":"translucent";if(he.renderPass===Kt){var or=Qt.disabled,ir=he.depthModeForSublayer(0,Kt==="opaque"?wr.ReadWrite:wr.ReadOnly),_r=he.colorModeForRenderPass(),Zr=he.useProgram(Ut?"backgroundPattern":"background"),Yr=ot.coveringTiles({tileSize:St});Ut&&(_e.activeTexture.set(Xe.TEXTURE0),he.imageManager.bind(he.context));for(var Vr=de.getCrossfadeParameters(),Kr=0,un=Yr;Kr<un.length;Kr+=1){var Rn=un[Kr],zn=he.transform.calculatePosMatrix(Rn.toUnwrapped()),Wn=Ut?yu(zn,pe,he,Ut,{tileID:Rn,tileSize:St},Vr):Zs(zn,pe,ee);Zr.draw(_e,Xe.TRIANGLES,ir,or,_r,Dt.disabled,Wn,de.id,he.tileExtentBuffer,he.quadTriangleIndexBuffer,he.tileExtentSegments)}}}}}var Df=new a.Color(1,0,0,1),Mu=new a.Color(0,1,0,1),xc=new a.Color(0,0,1,1),je=new a.Color(1,0,1,1),nt=new a.Color(0,1,1,1);function ht(he){var X=he.transform.padding,de=3;_t(he,he.transform.height-(X.top||0),de,Df),_t(he,X.bottom||0,de,Mu),Pt(he,X.left||0,de,xc),Pt(he,he.transform.width-(X.right||0),de,je);var ee=he.transform.centerPoint;mt(he,ee.x,he.transform.height-ee.y,nt)}function mt(he,X,de,ee){var pe=20,_e=2;Ft(he,X-_e/2,de-pe/2,_e,pe,ee),Ft(he,X-pe/2,de-_e/2,pe,_e,ee)}function _t(he,X,de,ee){Ft(he,0,X+de/2,he.transform.width,de,ee)}function Pt(he,X,de,ee){Ft(he,X-de/2,0,de,he.transform.height,ee)}function Ft(he,X,de,ee,pe,_e){var Xe=he.context,ot=Xe.gl;ot.enable(ot.SCISSOR_TEST),ot.scissor(X*a.browser.devicePixelRatio,de*a.browser.devicePixelRatio,ee*a.browser.devicePixelRatio,pe*a.browser.devicePixelRatio),Xe.clear({color:_e}),ot.disable(ot.SCISSOR_TEST)}function dr(he,X,de){for(var ee=0;ee<de.length;ee++)xr(he,X,de[ee])}function xr(he,X,de){var ee=he.context,pe=ee.gl,_e=de.posMatrix,Xe=he.useProgram("debug"),ot=wr.disabled,St=Qt.disabled,Ut=he.colorModeForRenderPass(),Kt="$debug";ee.activeTexture.set(pe.TEXTURE0),he.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Xe.draw(ee,pe.LINE_STRIP,ot,St,Ut,Dt.disabled,Ji(_e,a.Color.red),Kt,he.debugBuffer,he.tileBorderIndexBuffer,he.debugSegments);var or=X.getTileByID(de.key).latestRawTileData,ir=or&&or.byteLength||0,_r=Math.floor(ir/1024),Zr=X.getTile(de).tileSize,Yr=512/Math.min(Zr,512)*(de.overscaledZ/he.transform.zoom)*.5,Vr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Vr+=" => "+de.overscaledZ);var Kr=Vr+" "+_r+"kb";ar(he,Kr),Xe.draw(ee,pe.TRIANGLES,ot,St,it.alphaBlended,Dt.disabled,Ji(_e,a.Color.transparent,Yr),Kt,he.debugBuffer,he.quadTriangleIndexBuffer,he.debugSegments)}function ar(he,X){he.initDebugOverlayCanvas();var de=he.debugOverlayCanvas,ee=he.context.gl,pe=he.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold 36px Open Sans, sans-serif",pe.fillText(X,5,5),pe.strokeText(X,5,5),he.debugOverlayTexture.update(de),he.debugOverlayTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)}function Ar(he,X,de){var ee=he.context,pe=de.implementation;if(he.renderPass==="offscreen"){var _e=pe.prerender;_e&&(he.setCustomLayerDefaults(),ee.setColorMode(he.colorModeForRenderPass()),_e.call(pe,ee.gl,he.transform.customLayerMatrix()),ee.setDirty(),he.setBaseState())}else if(he.renderPass==="translucent"){he.setCustomLayerDefaults(),ee.setColorMode(he.colorModeForRenderPass()),ee.setStencilMode(Qt.disabled);var Xe=pe.renderingMode==="3d"?new wr(he.context.gl.LEQUAL,wr.ReadWrite,he.depthRangeFor3D):he.depthModeForSublayer(0,wr.ReadOnly);ee.setDepthMode(Xe),pe.render(ee.gl,he.transform.customLayerMatrix()),ee.setDirty(),he.setBaseState(),ee.bindFramebuffer.set(null)}}var Ir={symbol:qu,circle:yc,heatmap:js,line:ef,fill:Is,"fill-extrusion":Pf,hillshade:Tu,raster:Au,background:hl,debug:dr,custom:Ar},Fr=function(X,de){this.context=new Lt(X),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new la,this.gpuTimers={}};Fr.prototype.resize=function(X,de){if(this.width=X*a.browser.devicePixelRatio,this.height=de*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ee=0,pe=this.style._order;ee<pe.length;ee+=1){var _e=pe[ee];this.style._layers[_e].resize()}},Fr.prototype.setup=function(){var X=this.context,de=new a.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(a.EXTENT,0),de.emplaceBack(0,a.EXTENT),de.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(de,Co.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ee=new a.StructArrayLayout2i4;ee.emplaceBack(0,0),ee.emplaceBack(a.EXTENT,0),ee.emplaceBack(0,a.EXTENT),ee.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=X.createVertexBuffer(ee,Co.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var pe=new a.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(a.EXTENT,0,a.EXTENT,0),pe.emplaceBack(0,a.EXTENT,0,a.EXTENT),pe.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(pe,Y.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var _e=new a.StructArrayLayout2i4;_e.emplaceBack(0,0),_e.emplaceBack(1,0),_e.emplaceBack(0,1),_e.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(_e,Co.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Xe=new a.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(Xe);var ot=new a.StructArrayLayout3ui6;ot.emplaceBack(0,1,2),ot.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(ot),this.emptyTexture=new a.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var St=this.context.gl;this.stencilClearMode=new Qt({func:St.ALWAYS,mask:0},0,255,St.ZERO,St.ZERO,St.ZERO)},Fr.prototype.clearStencil=function(){var X=this.context,de=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ee=a.create();a.ortho(ee,0,this.width,this.height,0,0,1),a.scale(ee,ee,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,de.TRIANGLES,wr.disabled,this.stencilClearMode,it.disabled,Dt.disabled,Ul(ee),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Fr.prototype._renderTileClippingMasks=function(X,de){if(!(this.currentStencilSource===X.source||!X.isTileClipped()||!de||!de.length)){this.currentStencilSource=X.source;var ee=this.context,pe=ee.gl;this.nextStencilID+de.length>256&&this.clearStencil(),ee.setColorMode(it.disabled),ee.setDepthMode(wr.disabled);var _e=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,ot=de;Xe<ot.length;Xe+=1){var St=ot[Xe],Ut=this._tileClippingMaskIDs[St.key]=this.nextStencilID++;_e.draw(ee,pe.TRIANGLES,wr.disabled,new Qt({func:pe.ALWAYS,mask:0},Ut,255,pe.KEEP,pe.KEEP,pe.REPLACE),it.disabled,Dt.disabled,Ul(St.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Fr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,de=this.context.gl;return new Qt({func:de.NOTEQUAL,mask:255},X,255,de.KEEP,de.KEEP,de.REPLACE)},Fr.prototype.stencilModeForClipping=function(X){var de=this.context.gl;return new Qt({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,de.KEEP,de.KEEP,de.REPLACE)},Fr.prototype.stencilConfigForOverlap=function(X){var de,ee=this.context.gl,pe=X.sort(function(Ut,Kt){return Kt.overscaledZ-Ut.overscaledZ}),_e=pe[pe.length-1].overscaledZ,Xe=pe[0].overscaledZ-_e+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var ot={},St=0;St<Xe;St++)ot[St+_e]=new Qt({func:ee.GEQUAL,mask:255},St+this.nextStencilID,255,ee.KEEP,ee.KEEP,ee.REPLACE);return this.nextStencilID+=Xe,[ot,pe]}return[(de={},de[_e]=Qt.disabled,de),pe]},Fr.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var de=8,ee=1/de;return new it([X.CONSTANT_COLOR,X.ONE],new a.Color(ee,ee,ee,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?it.unblended:it.alphaBlended},Fr.prototype.depthModeForSublayer=function(X,de,ee){if(!this.opaquePassEnabledForLayer())return wr.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new wr(ee||this.context.gl.LEQUAL,de,[pe,pe])},Fr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Fr.prototype.render=function(X,de){var ee=this;this.style=X,this.options=de,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,_e=this.style.sourceCaches;for(var Xe in _e){var ot=_e[Xe];ot.used&&ot.prepare(this.context)}var St={},Ut={},Kt={};for(var or in _e){var ir=_e[or];St[or]=ir.getVisibleCoordinates(),Ut[or]=St[or].slice().reverse(),Kt[or]=ir.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var _r=0;_r<pe.length;_r++){var Zr=pe[_r];if(this.style._layers[Zr].is3D()){this.opaquePassCutoff=_r;break}}this.renderPass="offscreen";for(var Yr=0,Vr=pe;Yr<Vr.length;Yr+=1){var Kr=Vr[Yr],un=this.style._layers[Kr];if(!(!un.hasOffscreenPass()||un.isHidden(this.transform.zoom))){var Rn=Ut[un.source];un.type!=="custom"&&!Rn.length||this.renderLayer(this,_e[un.source],un,Rn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var zn=this.style._layers[pe[this.currentLayer]],Wn=_e[zn.source],Zn=St[zn.source];this._renderTileClippingMasks(zn,Zn),this.renderLayer(this,Wn,zn,Zn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var Hn=this.style._layers[pe[this.currentLayer]],jn=_e[Hn.source],aa=(Hn.type==="symbol"?Kt:Ut)[Hn.source];this._renderTileClippingMasks(Hn,St[Hn.source]),this.renderLayer(this,jn,Hn,aa)}if(this.options.showTileBoundaries){var fa,ma,va=a.values(this.style._layers);va.forEach(function(_a){_a.source&&!_a.isHidden(ee.transform.zoom)&&(_a.source!==(ma&&ma.id)&&(ma=ee.style.sourceCaches[_a.source]),(!fa||fa.getSource().maxzoom<ma.getSource().maxzoom)&&(fa=ma))}),fa&&Ir.debug(this,fa,fa.getVisibleCoordinates())}this.options.showPadding&&ht(this),this.context.setDefault()},Fr.prototype.renderLayer=function(X,de,ee,pe){ee.isHidden(this.transform.zoom)||ee.type!=="background"&&ee.type!=="custom"&&!pe.length||(this.id=ee.id,this.gpuTimingStart(ee),Ir[ee.type](X,de,ee,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Fr.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var de=this.context.extTimerQuery,ee=this.gpuTimers[X.id];ee||(ee=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),ee.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,ee.query)}},Fr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Fr.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Fr.prototype.queryGpuTimers=function(X){var de={};for(var ee in X){var pe=X[ee],_e=this.context.extTimerQuery,Xe=_e.getQueryObjectEXT(pe.query,_e.QUERY_RESULT_EXT)/(1e3*1e3);_e.deleteQueryEXT(pe.query),de[ee]=Xe}return de},Fr.prototype.translatePosMatrix=function(X,de,ee,pe,_e){if(!ee[0]&&!ee[1])return X;var Xe=_e?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(Xe){var ot=Math.sin(Xe),St=Math.cos(Xe);ee=[ee[0]*St-ee[1]*ot,ee[0]*ot+ee[1]*St]}var Ut=[_e?ee[0]:dn(de,ee[0],this.transform.zoom),_e?ee[1]:dn(de,ee[1],this.transform.zoom),0],Kt=new Float32Array(16);return a.translate(Kt,X,Ut),Kt},Fr.prototype.saveTileTexture=function(X){var de=this._tileTextures[X.size[0]];de?de.push(X):this._tileTextures[X.size[0]]=[X]},Fr.prototype.getTileTexture=function(X){var de=this._tileTextures[X];return de&&de.length>0?de.pop():null},Fr.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var de=this.imageManager.getPattern(X.from.toString()),ee=this.imageManager.getPattern(X.to.toString());return!de||!ee},Fr.prototype.useProgram=function(X,de){this.cache=this.cache||{};var ee=""+X+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ee]||(this.cache[ee]=new Mf(this.context,X,sc[X],de,Xs[X],this._showOverdrawInspector)),this.cache[ee]},Fr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Fr.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Fr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var X=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,X.RGBA)}},Fr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var en=function(X,de){this.points=X,this.planes=de};en.fromInvProjectionMatrix=function(X,de,ee){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],_e=Math.pow(2,ee),Xe=pe.map(function(Ut){return a.transformMat4([],Ut,X)}).map(function(Ut){return a.scale$1([],Ut,1/Ut[3]/de*_e)}),ot=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],St=ot.map(function(Ut){var Kt=a.sub([],Xe[Ut[0]],Xe[Ut[1]]),or=a.sub([],Xe[Ut[2]],Xe[Ut[1]]),ir=a.normalize([],a.cross([],Kt,or)),_r=-a.dot(ir,Xe[Ut[1]]);return ir.concat(_r)});return new en(Xe,St)};var xn=function(X,de){this.min=X,this.max=de,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};xn.prototype.quadrant=function(X){for(var de=[X%2===0,X<2],ee=a.clone$2(this.min),pe=a.clone$2(this.max),_e=0;_e<de.length;_e++)ee[_e]=de[_e]?this.min[_e]:this.center[_e],pe[_e]=de[_e]?this.center[_e]:this.max[_e];return pe[2]=this.max[2],new xn(ee,pe)},xn.prototype.distanceX=function(X){var de=Math.max(Math.min(this.max[0],X[0]),this.min[0]);return de-X[0]},xn.prototype.distanceY=function(X){var de=Math.max(Math.min(this.max[1],X[1]),this.min[1]);return de-X[1]},xn.prototype.intersects=function(X){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ee=!0,pe=0;pe<X.planes.length;pe++){for(var _e=X.planes[pe],Xe=0,ot=0;ot<de.length;ot++)Xe+=a.dot$1(_e,de[ot])>=0;if(Xe===0)return 0;Xe!==de.length&&(ee=!1)}if(ee)return 2;for(var St=0;St<3;St++){for(var Ut=Number.MAX_VALUE,Kt=-Number.MAX_VALUE,or=0;or<X.points.length;or++){var ir=X.points[or][St]-this.min[St];Ut=Math.min(Ut,ir),Kt=Math.max(Kt,ir)}if(Kt<0||Ut>this.max[St]-this.min[St])return 0}return 1};var Cn=function(X,de,ee,pe){if(X===void 0&&(X=0),de===void 0&&(de=0),ee===void 0&&(ee=0),pe===void 0&&(pe=0),isNaN(X)||X<0||isNaN(de)||de<0||isNaN(ee)||ee<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=de,this.left=ee,this.right=pe};Cn.prototype.interpolate=function(X,de,ee){return de.top!=null&&X.top!=null&&(this.top=a.number(X.top,de.top,ee)),de.bottom!=null&&X.bottom!=null&&(this.bottom=a.number(X.bottom,de.bottom,ee)),de.left!=null&&X.left!=null&&(this.left=a.number(X.left,de.left,ee)),de.right!=null&&X.right!=null&&(this.right=a.number(X.right,de.right,ee)),this},Cn.prototype.getCenter=function(X,de){var ee=a.clamp((this.left+X-this.right)/2,0,X),pe=a.clamp((this.top+de-this.bottom)/2,0,de);return new a.Point(ee,pe)},Cn.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},Cn.prototype.clone=function(){return new Cn(this.top,this.bottom,this.left,this.right)},Cn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Ln=function(X,de,ee,pe,_e){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_e===void 0?!0:_e,this._minZoom=X||0,this._maxZoom=de||22,this._minPitch=ee??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Cn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Xn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Ln.prototype.clone=function(){var X=new Ln(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},Xn.minZoom.get=function(){return this._minZoom},Xn.minZoom.set=function(he){this._minZoom!==he&&(this._minZoom=he,this.zoom=Math.max(this.zoom,he))},Xn.maxZoom.get=function(){return this._maxZoom},Xn.maxZoom.set=function(he){this._maxZoom!==he&&(this._maxZoom=he,this.zoom=Math.min(this.zoom,he))},Xn.minPitch.get=function(){return this._minPitch},Xn.minPitch.set=function(he){this._minPitch!==he&&(this._minPitch=he,this.pitch=Math.max(this.pitch,he))},Xn.maxPitch.get=function(){return this._maxPitch},Xn.maxPitch.set=function(he){this._maxPitch!==he&&(this._maxPitch=he,this.pitch=Math.min(this.pitch,he))},Xn.renderWorldCopies.get=function(){return this._renderWorldCopies},Xn.renderWorldCopies.set=function(he){he===void 0?he=!0:he===null&&(he=!1),this._renderWorldCopies=he},Xn.worldSize.get=function(){return this.tileSize*this.scale},Xn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Xn.size.get=function(){return new a.Point(this.width,this.height)},Xn.bearing.get=function(){return-this.angle/Math.PI*180},Xn.bearing.set=function(he){var X=-a.wrap(he,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Xn.pitch.get=function(){return this._pitch/Math.PI*180},Xn.pitch.set=function(he){var X=a.clamp(he,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},Xn.fov.get=function(){return this._fov/Math.PI*180},Xn.fov.set=function(he){he=Math.max(.01,Math.min(60,he)),this._fov!==he&&(this._unmodified=!1,this._fov=he/180*Math.PI,this._calcMatrices())},Xn.zoom.get=function(){return this._zoom},Xn.zoom.set=function(he){var X=Math.min(Math.max(he,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},Xn.center.get=function(){return this._center},Xn.center.set=function(he){he.lat===this._center.lat&&he.lng===this._center.lng||(this._unmodified=!1,this._center=he,this._constrain(),this._calcMatrices())},Xn.padding.get=function(){return this._edgeInsets.toJSON()},Xn.padding.set=function(he){this._edgeInsets.equals(he)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,he,1),this._calcMatrices())},Xn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Ln.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},Ln.prototype.interpolatePadding=function(X,de,ee){this._unmodified=!1,this._edgeInsets.interpolate(X,de,ee),this._constrain(),this._calcMatrices()},Ln.prototype.coveringZoomLevel=function(X){var de=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,de)},Ln.prototype.getVisibleUnwrappedCoordinates=function(X){var de=[new a.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var ee=this.pointCoordinate(new a.Point(0,0)),pe=this.pointCoordinate(new a.Point(this.width,0)),_e=this.pointCoordinate(new a.Point(this.width,this.height)),Xe=this.pointCoordinate(new a.Point(0,this.height)),ot=Math.floor(Math.min(ee.x,pe.x,_e.x,Xe.x)),St=Math.floor(Math.max(ee.x,pe.x,_e.x,Xe.x)),Ut=1,Kt=ot-Ut;Kt<=St+Ut;Kt++)Kt!==0&&de.push(new a.UnwrappedTileID(Kt,X));return de},Ln.prototype.coveringTiles=function(X){var de=this.coveringZoomLevel(X),ee=de;if(X.minzoom!==void 0&&de<X.minzoom)return[];X.maxzoom!==void 0&&de>X.maxzoom&&(de=X.maxzoom);var pe=a.MercatorCoordinate.fromLngLat(this.center),_e=Math.pow(2,de),Xe=[_e*pe.x,_e*pe.y,0],ot=en.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),St=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(St=de);var Ut=3,Kt=function(va){return{aabb:new xn([va*_e,0,0],[(va+1)*_e,_e,0]),zoom:0,x:0,y:0,wrap:va,fullyVisible:!1}},or=[],ir=[],_r=de,Zr=X.reparseOverscaled?ee:de;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)or.push(Kt(-Yr)),or.push(Kt(Yr));for(or.push(Kt(0));or.length>0;){var Vr=or.pop(),Kr=Vr.x,un=Vr.y,Rn=Vr.fullyVisible;if(!Rn){var zn=Vr.aabb.intersects(ot);if(zn===0)continue;Rn=zn===2}var Wn=Vr.aabb.distanceX(Xe),Zn=Vr.aabb.distanceY(Xe),Hn=Math.max(Math.abs(Wn),Math.abs(Zn)),jn=Ut+(1<<_r-Vr.zoom)-2;if(Vr.zoom===_r||Hn>jn&&Vr.zoom>=St){ir.push({tileID:new a.OverscaledTileID(Vr.zoom===_r?Zr:Vr.zoom,Vr.wrap,Vr.zoom,Kr,un),distanceSq:a.sqrLen([Xe[0]-.5-Kr,Xe[1]-.5-un])});continue}for(var aa=0;aa<4;aa++){var fa=(Kr<<1)+aa%2,ma=(un<<1)+(aa>>1);or.push({aabb:Vr.aabb.quadrant(aa),zoom:Vr.zoom+1,x:fa,y:ma,wrap:Vr.wrap,fullyVisible:Rn})}}return ir.sort(function(va,_a){return va.distanceSq-_a.distanceSq}).map(function(va){return va.tileID})},Ln.prototype.resize=function(X,de){this.width=X,this.height=de,this.pixelsToGLUnits=[2/X,-2/de],this._constrain(),this._calcMatrices()},Xn.unmodified.get=function(){return this._unmodified},Ln.prototype.zoomScale=function(X){return Math.pow(2,X)},Ln.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},Ln.prototype.project=function(X){var de=a.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(X.lng)*this.worldSize,a.mercatorYfromLat(de)*this.worldSize)},Ln.prototype.unproject=function(X){return new a.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},Xn.point.get=function(){return this.project(this.center)},Ln.prototype.setLocationAtPoint=function(X,de){var ee=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),_e=this.locationCoordinate(X),Xe=new a.MercatorCoordinate(_e.x-(ee.x-pe.x),_e.y-(ee.y-pe.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},Ln.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},Ln.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},Ln.prototype.locationCoordinate=function(X){return a.MercatorCoordinate.fromLngLat(X)},Ln.prototype.coordinateLocation=function(X){return X.toLngLat()},Ln.prototype.pointCoordinate=function(X){var de=0,ee=[X.x,X.y,0,1],pe=[X.x,X.y,1,1];a.transformMat4(ee,ee,this.pixelMatrixInverse),a.transformMat4(pe,pe,this.pixelMatrixInverse);var _e=ee[3],Xe=pe[3],ot=ee[0]/_e,St=pe[0]/Xe,Ut=ee[1]/_e,Kt=pe[1]/Xe,or=ee[2]/_e,ir=pe[2]/Xe,_r=or===ir?0:(de-or)/(ir-or);return new a.MercatorCoordinate(a.number(ot,St,_r)/this.worldSize,a.number(Ut,Kt,_r)/this.worldSize)},Ln.prototype.coordinatePoint=function(X){var de=[X.x*this.worldSize,X.y*this.worldSize,0,1];return a.transformMat4(de,de,this.pixelMatrix),new a.Point(de[0]/de[3],de[1]/de[3])},Ln.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Ln.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Ln.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Ln.prototype.calculatePosMatrix=function(X,de){de===void 0&&(de=!1);var ee=X.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[ee])return pe[ee];var _e=X.canonical,Xe=this.worldSize/this.zoomScale(_e.z),ot=_e.x+Math.pow(2,_e.z)*X.wrap,St=a.identity(new Float64Array(16));return a.translate(St,St,[ot*Xe,_e.y*Xe,0]),a.scale(St,St,[Xe/a.EXTENT,Xe/a.EXTENT,1]),a.multiply(St,de?this.alignedProjMatrix:this.projMatrix,St),pe[ee]=new Float32Array(St),pe[ee]},Ln.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Ln.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var X=-90,de=90,ee=-180,pe=180,_e,Xe,ot,St,Ut=this.size,Kt=this._unmodified;if(this.latRange){var or=this.latRange;X=a.mercatorYfromLat(or[1])*this.worldSize,de=a.mercatorYfromLat(or[0])*this.worldSize,_e=de-X<Ut.y?Ut.y/(de-X):0}if(this.lngRange){var ir=this.lngRange;ee=a.mercatorXfromLng(ir[0])*this.worldSize,pe=a.mercatorXfromLng(ir[1])*this.worldSize,Xe=pe-ee<Ut.x?Ut.x/(pe-ee):0}var _r=this.point,Zr=Math.max(Xe||0,_e||0);if(Zr){this.center=this.unproject(new a.Point(Xe?(pe+ee)/2:_r.x,_e?(de+X)/2:_r.y)),this.zoom+=this.scaleZoom(Zr),this._unmodified=Kt,this._constraining=!1;return}if(this.latRange){var Yr=_r.y,Vr=Ut.y/2;Yr-Vr<X&&(St=X+Vr),Yr+Vr>de&&(St=de-Vr)}if(this.lngRange){var Kr=_r.x,un=Ut.x/2;Kr-un<ee&&(ot=ee+un),Kr+un>pe&&(ot=pe-un)}(ot!==void 0||St!==void 0)&&(this.center=this.unproject(new a.Point(ot!==void 0?ot:_r.x,St!==void 0?St:_r.y))),this._unmodified=Kt,this._constraining=!1}},Ln.prototype._calcMatrices=function(){if(this.height){var X=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(X)*this.height;var ee=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),_e=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-ee-pe,.01,Math.PI-.01)),Xe=this.point,ot=Xe.x,St=Xe.y,Ut=Math.cos(Math.PI/2-this._pitch)*_e+this.cameraToCenterDistance,Kt=Ut*1.01,or=this.height/50,ir=new Float64Array(16);a.perspective(ir,this._fov,this.width/this.height,or,Kt),ir[8]=-de.x*2/this.width,ir[9]=de.y*2/this.height,a.scale(ir,ir,[1,-1,1]),a.translate(ir,ir,[0,0,-this.cameraToCenterDistance]),a.rotateX(ir,ir,this._pitch),a.rotateZ(ir,ir,this.angle),a.translate(ir,ir,[-ot,-St,0]),this.mercatorMatrix=a.scale([],ir,[this.worldSize,this.worldSize,this.worldSize]),a.scale(ir,ir,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ir,this.invProjMatrix=a.invert([],this.projMatrix);var _r=this.width%2/2,Zr=this.height%2/2,Yr=Math.cos(this.angle),Vr=Math.sin(this.angle),Kr=ot-Math.round(ot)+Yr*_r+Vr*Zr,un=St-Math.round(St)+Yr*Zr+Vr*_r,Rn=new Float64Array(ir);if(a.translate(Rn,Rn,[Kr>.5?Kr-1:Kr,un>.5?un-1:un,0]),this.alignedProjMatrix=Rn,ir=a.create(),a.scale(ir,ir,[this.width/2,-this.height/2,1]),a.translate(ir,ir,[1,-1,0]),this.labelPlaneMatrix=ir,ir=a.create(),a.scale(ir,ir,[1,-1,1]),a.translate(ir,ir,[-1,-1,0]),a.scale(ir,ir,[2/this.width,2/this.height,1]),this.glCoordMatrix=ir,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),ir=a.invert(new Float64Array(16),this.pixelMatrix),!ir)throw new Error("failed to invert matrix");this.pixelMatrixInverse=ir,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ln.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new a.Point(0,0)),de=[X.x*this.worldSize,X.y*this.worldSize,0,1],ee=a.transformMat4(de,de,this.pixelMatrix);return ee[3]/this.cameraToCenterDistance},Ln.prototype.getCameraPoint=function(){var X=this._pitch,de=Math.tan(X)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,de))},Ln.prototype.getCameraQueryGeometry=function(X){var de=this.getCameraPoint();if(X.length===1)return[X[0],de];for(var ee=de.x,pe=de.y,_e=de.x,Xe=de.y,ot=0,St=X;ot<St.length;ot+=1){var Ut=St[ot];ee=Math.min(ee,Ut.x),pe=Math.min(pe,Ut.y),_e=Math.max(_e,Ut.x),Xe=Math.max(Xe,Ut.y)}return[new a.Point(ee,pe),new a.Point(_e,pe),new a.Point(_e,Xe),new a.Point(ee,Xe),new a.Point(ee,pe)]},Object.defineProperties(Ln.prototype,Xn);function Pa(he,X){var de=!1,ee=null,pe=function(){ee=null,de&&(he(),ee=setTimeout(pe,X),de=!1)};return function(){return de=!0,ee||pe(),ee}}var Ra=function(X){this._hashName=X&&encodeURIComponent(X),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ra.prototype.addTo=function(X){return this._map=X,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ra.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ra.prototype.getHashString=function(X){var de=this._map.getCenter(),ee=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((ee*Math.LN2+Math.log(512/360/.5))/Math.LN10),_e=Math.pow(10,pe),Xe=Math.round(de.lng*_e)/_e,ot=Math.round(de.lat*_e)/_e,St=this._map.getBearing(),Ut=this._map.getPitch(),Kt="";if(X?Kt+="/"+Xe+"/"+ot+"/"+ee:Kt+=ee+"/"+ot+"/"+Xe,(St||Ut)&&(Kt+="/"+Math.round(St*10)/10),Ut&&(Kt+="/"+Math.round(Ut)),this._hashName){var or=this._hashName,ir=!1,_r=a.window.location.hash.slice(1).split("&").map(function(Zr){var Yr=Zr.split("=")[0];return Yr===or?(ir=!0,Yr+"="+Kt):Zr}).filter(function(Zr){return Zr});return ir||_r.push(or+"="+Kt),"#"+_r.join("&")}return"#"+Kt},Ra.prototype._getCurrentHash=function(){var X=this,de=a.window.location.hash.replace("#","");if(this._hashName){var ee;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===X._hashName&&(ee=pe)}),(ee&&ee[1]||"").split("/")}return de.split("/")},Ra.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(ee){return isNaN(ee)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:de,pitch:+(X[4]||0)}),!0}return!1},Ra.prototype._updateHashUnthrottled=function(){var X=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,X)}catch{}};var Da={linearity:.3,easing:a.bezier(0,0,.3,1)},za=a.extend({deceleration:2500,maxSpeed:1400},Da),Za=a.extend({deceleration:20,maxSpeed:1400},Da),ci=a.extend({deceleration:1e3,maxSpeed:360},Da),_i=a.extend({deceleration:1e3,maxSpeed:90},Da),ue=function(X){this._map=X,this.clear()};ue.prototype.clear=function(){this._inertiaBuffer=[]},ue.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:X})},ue.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,de=a.browser.now(),ee=160;X.length>0&&de-X[0].time>ee;)X.shift()},ue.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},ee=0,pe=this._inertiaBuffer;ee<pe.length;ee+=1){var _e=pe[ee],Xe=_e.settings;de.zoom+=Xe.zoomDelta||0,de.bearing+=Xe.bearingDelta||0,de.pitch+=Xe.pitchDelta||0,Xe.panDelta&&de.pan._add(Xe.panDelta),Xe.around&&(de.around=Xe.around),Xe.pinchAround&&(de.pinchAround=Xe.pinchAround)}var ot=this._inertiaBuffer[this._inertiaBuffer.length-1],St=ot.time-this._inertiaBuffer[0].time,Ut={};if(de.pan.mag()){var Kt=Oe(de.pan.mag(),St,a.extend({},za,X||{}));Ut.offset=de.pan.mult(Kt.amount/de.pan.mag()),Ut.center=this._map.transform.center,Le(Ut,Kt)}if(de.zoom){var or=Oe(de.zoom,St,Za);Ut.zoom=this._map.transform.zoom+or.amount,Le(Ut,or)}if(de.bearing){var ir=Oe(de.bearing,St,ci);Ut.bearing=this._map.transform.bearing+a.clamp(ir.amount,-179,179),Le(Ut,ir)}if(de.pitch){var _r=Oe(de.pitch,St,_i);Ut.pitch=this._map.transform.pitch+_r.amount,Le(Ut,_r)}if(Ut.zoom||Ut.bearing){var Zr=de.pinchAround===void 0?de.around:de.pinchAround;Ut.around=Zr?this._map.unproject(Zr):this._map.getCenter()}return this.clear(),a.extend(Ut,{noMoveStart:!0})}};function Le(he,X){(!he.duration||he.duration<X.duration)&&(he.duration=X.duration,he.easing=X.easing)}function Oe(he,X,de){var ee=de.maxSpeed,pe=de.linearity,_e=de.deceleration,Xe=a.clamp(he*pe/(X/1e3),-ee,ee),ot=Math.abs(Xe)/(_e*pe);return{easing:de.easing,duration:ot*1e3,amount:Xe*(ot/2)}}var Qe=function(he){function X(ee,pe,_e,Xe){Xe===void 0&&(Xe={});var ot=M.mousePos(pe.getCanvasContainer(),_e),St=pe.unproject(ot);he.call(this,ee,a.extend({point:ot,lngLat:St,originalEvent:_e},Xe)),this._defaultPrevented=!1,this.target=pe}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,de),X}(a.Event),rt=function(he){function X(ee,pe,_e){var Xe=ee==="touchend"?_e.changedTouches:_e.touches,ot=M.touchPos(pe.getCanvasContainer(),Xe),St=ot.map(function(or){return pe.unproject(or)}),Ut=ot.reduce(function(or,ir,_r,Zr){return or.add(ir.div(Zr.length))},new a.Point(0,0)),Kt=pe.unproject(Ut);he.call(this,ee,{points:ot,point:Ut,lngLats:St,lngLat:Kt,originalEvent:_e}),this._defaultPrevented=!1}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,de),X}(a.Event),st=function(he){function X(ee,pe,_e){he.call(this,ee,{originalEvent:_e}),this._defaultPrevented=!1}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,de),X}(a.Event),Et=function(X,de){this._map=X,this._clickTolerance=de.clickTolerance};Et.prototype.reset=function(){delete this._mousedownPos},Et.prototype.wheel=function(X){return this._firePreventable(new st(X.type,this._map,X))},Et.prototype.mousedown=function(X,de){return this._mousedownPos=de,this._firePreventable(new Qe(X.type,this._map,X))},Et.prototype.mouseup=function(X){this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.click=function(X,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.dblclick=function(X){return this._firePreventable(new Qe(X.type,this._map,X))},Et.prototype.mouseover=function(X){this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.mouseout=function(X){this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.touchstart=function(X){return this._firePreventable(new rt(X.type,this._map,X))},Et.prototype.touchmove=function(X){this._map.fire(new rt(X.type,this._map,X))},Et.prototype.touchend=function(X){this._map.fire(new rt(X.type,this._map,X))},Et.prototype.touchcancel=function(X){this._map.fire(new rt(X.type,this._map,X))},Et.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},Et.prototype.isEnabled=function(){return!0},Et.prototype.isActive=function(){return!1},Et.prototype.enable=function(){},Et.prototype.disable=function(){};var bt=function(X){this._map=X};bt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},bt.prototype.mousemove=function(X){this._map.fire(new Qe(X.type,this._map,X))},bt.prototype.mousedown=function(){this._delayContextMenu=!0},bt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},bt.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new Qe(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},bt.prototype.isEnabled=function(){return!0},bt.prototype.isActive=function(){return!1},bt.prototype.enable=function(){},bt.prototype.disable=function(){};var Ht=function(X,de){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=de.clickTolerance||1};Ht.prototype.isEnabled=function(){return!!this._enabled},Ht.prototype.isActive=function(){return!!this._active},Ht.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ht.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ht.prototype.mousedown=function(X,de){this.isEnabled()&&X.shiftKey&&X.button===0&&(M.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},Ht.prototype.mousemoveWindow=function(X,de){if(this._active){var ee=de;if(!(this._lastPos.equals(ee)||!this._box&&ee.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=ee,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var _e=Math.min(pe.x,ee.x),Xe=Math.max(pe.x,ee.x),ot=Math.min(pe.y,ee.y),St=Math.max(pe.y,ee.y);M.setTransform(this._box,"translate("+_e+"px,"+ot+"px)"),this._box.style.width=Xe-_e+"px",this._box.style.height=St-ot+"px"}}},Ht.prototype.mouseupWindow=function(X,de){var ee=this;if(this._active&&X.button===0){var pe=this._startPos,_e=de;if(this.reset(),M.suppressClick(),pe.x===_e.x&&pe.y===_e.y)this._fireEvent("boxzoomcancel",X);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(pe,_e,ee._map.getBearing(),{linear:!0})}}}},Ht.prototype.keydown=function(X){this._active&&X.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",X))},Ht.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},Ht.prototype._fireEvent=function(X,de){return this._map.fire(new a.Event(X,{originalEvent:de}))};function Gt(he,X){for(var de={},ee=0;ee<he.length;ee++)de[he[ee].identifier]=X[ee];return de}function tr(he){for(var X=new a.Point(0,0),de=0,ee=he;de<ee.length;de+=1){var pe=ee[de];X._add(pe)}return X.div(he.length)}var Cr=500,Pr=500,Jr=30,nn=function(X){this.reset(),this.numTouches=X.numTouches};nn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},nn.prototype.touchstart=function(X,de,ee){(this.centroid||ee.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=X.timeStamp),ee.length===this.numTouches&&(this.centroid=tr(de),this.touches=Gt(ee,de)))},nn.prototype.touchmove=function(X,de,ee){if(!(this.aborted||!this.centroid)){var pe=Gt(ee,de);for(var _e in this.touches){var Xe=this.touches[_e],ot=pe[_e];(!ot||ot.dist(Xe)>Jr)&&(this.aborted=!0)}}},nn.prototype.touchend=function(X,de,ee){if((!this.centroid||X.timeStamp-this.startTime>Pr)&&(this.aborted=!0),ee.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var Dr=function(X){this.singleTap=new nn(X),this.numTaps=X.numTaps,this.reset()};Dr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Dr.prototype.touchstart=function(X,de,ee){this.singleTap.touchstart(X,de,ee)},Dr.prototype.touchmove=function(X,de,ee){this.singleTap.touchmove(X,de,ee)},Dr.prototype.touchend=function(X,de,ee){var pe=this.singleTap.touchend(X,de,ee);if(pe){var _e=X.timeStamp-this.lastTime<Cr,Xe=!this.lastTap||this.lastTap.dist(pe)<Jr;if((!_e||!Xe)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Br=function(){this._zoomIn=new Dr({numTouches:1,numTaps:2}),this._zoomOut=new Dr({numTouches:2,numTaps:1}),this.reset()};Br.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Br.prototype.touchstart=function(X,de,ee){this._zoomIn.touchstart(X,de,ee),this._zoomOut.touchstart(X,de,ee)},Br.prototype.touchmove=function(X,de,ee){this._zoomIn.touchmove(X,de,ee),this._zoomOut.touchmove(X,de,ee)},Br.prototype.touchend=function(X,de,ee){var pe=this,_e=this._zoomIn.touchend(X,de,ee),Xe=this._zoomOut.touchend(X,de,ee);if(_e)return this._active=!0,X.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()+1,around:ot.unproject(_e)},{originalEvent:X})}};if(Xe)return this._active=!0,X.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()-1,around:ot.unproject(Xe)},{originalEvent:X})}}},Br.prototype.touchcancel=function(){this.reset()},Br.prototype.enable=function(){this._enabled=!0},Br.prototype.disable=function(){this._enabled=!1,this.reset()},Br.prototype.isEnabled=function(){return this._enabled},Br.prototype.isActive=function(){return this._active};var Xr=0,ln=2,fn={};fn[Xr]=1,fn[ln]=2;function $r(he,X){var de=fn[X];return he.buttons===void 0||(he.buttons&de)!==de}var Bn=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};Bn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Bn.prototype._correctButton=function(X,de){return!1},Bn.prototype._move=function(X,de){return{}},Bn.prototype.mousedown=function(X,de){if(!this._lastPoint){var ee=M.mouseButton(X);this._correctButton(X,ee)&&(this._lastPoint=de,this._eventButton=ee)}},Bn.prototype.mousemoveWindow=function(X,de){var ee=this._lastPoint;if(ee){if(X.preventDefault(),$r(X,this._eventButton)){this.reset();return}if(!(!this._moved&&de.dist(ee)<this._clickTolerance))return this._moved=!0,this._lastPoint=de,this._move(ee,de)}},Bn.prototype.mouseupWindow=function(X){if(this._lastPoint){var de=M.mouseButton(X);de===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())}},Bn.prototype.enable=function(){this._enabled=!0},Bn.prototype.disable=function(){this._enabled=!1,this.reset()},Bn.prototype.isEnabled=function(){return this._enabled},Bn.prototype.isActive=function(){return this._active};var na=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.mousedown=function(ee,pe){he.prototype.mousedown.call(this,ee,pe),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(ee,pe){return pe===Xr&&!ee.ctrlKey},X.prototype._move=function(ee,pe){return{around:pe,panDelta:pe.sub(ee)}},X}(Bn),ca=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ee,pe){return pe===Xr&&ee.ctrlKey||pe===ln},X.prototype._move=function(ee,pe){var _e=.8,Xe=(pe.x-ee.x)*_e;if(Xe)return this._active=!0,{bearingDelta:Xe}},X.prototype.contextmenu=function(ee){ee.preventDefault()},X}(Bn),ta=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ee,pe){return pe===Xr&&ee.ctrlKey||pe===ln},X.prototype._move=function(ee,pe){var _e=-.5,Xe=(pe.y-ee.y)*_e;if(Xe)return this._active=!0,{pitchDelta:Xe}},X.prototype.contextmenu=function(ee){ee.preventDefault()},X}(Bn),sa=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};sa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},sa.prototype.touchstart=function(X,de,ee){return this._calculateTransform(X,de,ee)},sa.prototype.touchmove=function(X,de,ee){if(!(!this._active||ee.length<this._minTouches))return X.preventDefault(),this._calculateTransform(X,de,ee)},sa.prototype.touchend=function(X,de,ee){this._calculateTransform(X,de,ee),this._active&&ee.length<this._minTouches&&this.reset()},sa.prototype.touchcancel=function(){this.reset()},sa.prototype._calculateTransform=function(X,de,ee){ee.length>0&&(this._active=!0);var pe=Gt(ee,de),_e=new a.Point(0,0),Xe=new a.Point(0,0),ot=0;for(var St in pe){var Ut=pe[St],Kt=this._touches[St];Kt&&(_e._add(Ut),Xe._add(Ut.sub(Kt)),ot++,pe[St]=Ut)}if(this._touches=pe,!(ot<this._minTouches||!Xe.mag())){var or=Xe.div(ot);if(this._sum._add(or),!(this._sum.mag()<this._clickTolerance)){var ir=_e.div(ot);return{around:ir,panDelta:or}}}},sa.prototype.enable=function(){this._enabled=!0},sa.prototype.disable=function(){this._enabled=!1,this.reset()},sa.prototype.isEnabled=function(){return this._enabled},sa.prototype.isActive=function(){return this._active};var ha=function(){this.reset()};ha.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ha.prototype._start=function(X){},ha.prototype._move=function(X,de,ee){return{}},ha.prototype.touchstart=function(X,de,ee){this._firstTwoTouches||ee.length<2||(this._firstTwoTouches=[ee[0].identifier,ee[1].identifier],this._start([de[0],de[1]]))},ha.prototype.touchmove=function(X,de,ee){if(this._firstTwoTouches){X.preventDefault();var pe=this._firstTwoTouches,_e=pe[0],Xe=pe[1],ot=Fa(ee,de,_e),St=Fa(ee,de,Xe);if(!(!ot||!St)){var Ut=this._aroundCenter?null:ot.add(St).div(2);return this._move([ot,St],Ut,X)}}},ha.prototype.touchend=function(X,de,ee){if(this._firstTwoTouches){var pe=this._firstTwoTouches,_e=pe[0],Xe=pe[1],ot=Fa(ee,de,_e),St=Fa(ee,de,Xe);ot&&St||(this._active&&M.suppressClick(),this.reset())}},ha.prototype.touchcancel=function(){this.reset()},ha.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&X.around==="center"},ha.prototype.disable=function(){this._enabled=!1,this.reset()},ha.prototype.isEnabled=function(){return this._enabled},ha.prototype.isActive=function(){return this._active};function Fa(he,X,de){for(var ee=0;ee<he.length;ee++)if(he[ee].identifier===de)return X[ee]}var Sa=.1;function ka(he,X){return Math.log(he/X)/Math.LN2}var ri=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.reset=function(){he.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(ee){this._startDistance=this._distance=ee[0].dist(ee[1])},X.prototype._move=function(ee,pe){var _e=this._distance;if(this._distance=ee[0].dist(ee[1]),!(!this._active&&Math.abs(ka(this._distance,this._startDistance))<Sa))return this._active=!0,{zoomDelta:ka(this._distance,_e),pinchAround:pe}},X}(ha),Oi=25;function li(he,X){return he.angleWith(X)*180/Math.PI}var Qn=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.reset=function(){he.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(ee){this._startVector=this._vector=ee[0].sub(ee[1]),this._minDiameter=ee[0].dist(ee[1])},X.prototype._move=function(ee,pe){var _e=this._vector;if(this._vector=ee[0].sub(ee[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:li(this._vector,_e),pinchAround:pe}},X.prototype._isBelowThreshold=function(ee){this._minDiameter=Math.min(this._minDiameter,ee.mag());var pe=Math.PI*this._minDiameter,_e=Oi/pe*360,Xe=li(ee,this._startVector);return Math.abs(Xe)<_e},X}(ha);function Na(he){return Math.abs(he.y)>Math.abs(he.x)}var Aa=100,Xa=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.reset=function(){he.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(ee){this._lastPoints=ee,Na(ee[0].sub(ee[1]))&&(this._valid=!1)},X.prototype._move=function(ee,pe,_e){var Xe=ee[0].sub(this._lastPoints[0]),ot=ee[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,ot,_e.timeStamp),!!this._valid){this._lastPoints=ee,this._active=!0;var St=(Xe.y+ot.y)/2,Ut=-.5;return{pitchDelta:St*Ut}}},X.prototype.gestureBeginsVertically=function(ee,pe,_e){if(this._valid!==void 0)return this._valid;var Xe=2,ot=ee.mag()>=Xe,St=pe.mag()>=Xe;if(!(!ot&&!St)){if(!ot||!St)return this._firstMove===void 0&&(this._firstMove=_e),_e-this._firstMove<Aa?void 0:!1;var Ut=ee.y>0==pe.y>0;return Na(ee)&&Na(pe)&&Ut}},X}(ha),xi={panStep:100,bearingStep:15,pitchStep:10},ni=function(){var X=xi;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep,this._rotationDisabled=!1};ni.prototype.reset=function(){this._active=!1},ni.prototype.keydown=function(X){var de=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var ee=0,pe=0,_e=0,Xe=0,ot=0;switch(X.keyCode){case 61:case 107:case 171:case 187:ee=1;break;case 189:case 109:case 173:ee=-1;break;case 37:X.shiftKey?pe=-1:(X.preventDefault(),Xe=-1);break;case 39:X.shiftKey?pe=1:(X.preventDefault(),Xe=1);break;case 38:X.shiftKey?_e=1:(X.preventDefault(),ot=-1);break;case 40:X.shiftKey?_e=-1:(X.preventDefault(),ot=1);break;default:return}return this._rotationDisabled&&(pe=0,_e=0),{cameraAnimation:function(St){var Ut=St.getZoom();St.easeTo({duration:300,easeId:"keyboardHandler",easing:Qi,zoom:ee?Math.round(Ut)+ee*(X.shiftKey?2:1):Ut,bearing:St.getBearing()+pe*de._bearingStep,pitch:St.getPitch()+_e*de._pitchStep,offset:[-Xe*de._panStep,-ot*de._panStep],center:St.getCenter()},{originalEvent:X})}}}},ni.prototype.enable=function(){this._enabled=!0},ni.prototype.disable=function(){this._enabled=!1,this.reset()},ni.prototype.isEnabled=function(){return this._enabled},ni.prototype.isActive=function(){return this._active},ni.prototype.disableRotation=function(){this._rotationDisabled=!0},ni.prototype.enableRotation=function(){this._rotationDisabled=!1};function Qi(he){return he*(2-he)}var $i=4.000244140625,no=1/100,bi=1/450,po=2,ua=function(X,de){this._map=X,this._el=X.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=no,this._wheelZoomRate=bi,a.bindAll(["_onTimeout"],this)};ua.prototype.setZoomRate=function(X){this._defaultZoomRate=X},ua.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},ua.prototype.isEnabled=function(){return!!this._enabled},ua.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ua.prototype.isZooming=function(){return!!this._zooming},ua.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&X.around==="center")},ua.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ua.prototype.wheel=function(X){if(this.isEnabled()){var de=X.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?X.deltaY*40:X.deltaY,ee=a.browser.now(),pe=ee-(this._lastWheelEventTime||0);this._lastWheelEventTime=ee,de!==0&&de%$i===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),X.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=X,this._delta-=de,this._active||this._start(X)),X.preventDefault()}},ua.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},ua.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=M.mousePos(this._el,X);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ua.prototype.renderFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var ee=this._type==="wheel"&&Math.abs(this._delta)>$i?this._wheelZoomRate:this._defaultZoomRate,pe=po/(1+Math.exp(-Math.abs(this._delta*ee)));this._delta<0&&pe!==0&&(pe=1/pe);var _e=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(_e*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,ot=this._startZoom,St=this._easing,Ut=!1,Kt;if(this._type==="wheel"&&ot&&St){var or=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),ir=St(or);Kt=a.number(ot,Xe,ir),or<1?this._frameId||(this._frameId=!0):Ut=!0}else Kt=Xe,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:Kt-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ua.prototype._smoothOutEasing=function(X){var de=a.ease;if(this._prevEase){var ee=this._prevEase,pe=(a.browser.now()-ee.start)/ee.duration,_e=ee.easing(pe+.01)-ee.easing(pe),Xe=.27/Math.sqrt(_e*_e+1e-4)*.01,ot=Math.sqrt(.27*.27-Xe*Xe);de=a.bezier(Xe,ot,.25,1)}return this._prevEase={start:a.browser.now(),duration:X,easing:de},de},ua.prototype.reset=function(){this._active=!1};var Ca=function(X,de){this._clickZoom=X,this._tapZoom=de};Ca.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ca.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ca.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ca.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Do=function(){this.reset()};Do.prototype.reset=function(){this._active=!1},Do.prototype.dblclick=function(X,de){return X.preventDefault(),{cameraAnimation:function(ee){ee.easeTo({duration:300,zoom:ee.getZoom()+(X.shiftKey?-1:1),around:ee.unproject(de)},{originalEvent:X})}}},Do.prototype.enable=function(){this._enabled=!0},Do.prototype.disable=function(){this._enabled=!1,this.reset()},Do.prototype.isEnabled=function(){return this._enabled},Do.prototype.isActive=function(){return this._active};var Fo=function(){this._tap=new Dr({numTouches:1,numTaps:1}),this.reset()};Fo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Fo.prototype.touchstart=function(X,de,ee){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>Cr&&this.reset(),this._tapTime?ee.length>0&&(this._swipePoint=de[0],this._swipeTouch=ee[0].identifier):this._tap.touchstart(X,de,ee))},Fo.prototype.touchmove=function(X,de,ee){if(!this._tapTime)this._tap.touchmove(X,de,ee);else if(this._swipePoint){if(ee[0].identifier!==this._swipeTouch)return;var pe=de[0],_e=pe.y-this._swipePoint.y;return this._swipePoint=pe,X.preventDefault(),this._active=!0,{zoomDelta:_e/128}}},Fo.prototype.touchend=function(X,de,ee){if(this._tapTime)this._swipePoint&&ee.length===0&&this.reset();else{var pe=this._tap.touchend(X,de,ee);pe&&(this._tapTime=X.timeStamp)}},Fo.prototype.touchcancel=function(){this.reset()},Fo.prototype.enable=function(){this._enabled=!0},Fo.prototype.disable=function(){this._enabled=!1,this.reset()},Fo.prototype.isEnabled=function(){return this._enabled},Fo.prototype.isActive=function(){return this._active};var ao=function(X,de,ee){this._el=X,this._mousePan=de,this._touchPan=ee};ao.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ao.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ao.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ao.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ui=function(X,de,ee){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=de,this._mousePitch=ee};ui.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ui.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ui.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ui.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Gi=function(X,de,ee,pe){this._el=X,this._touchZoom=de,this._touchRotate=ee,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};Gi.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Gi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Gi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Gi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Gi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Gi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Fi=function(he){return he.zoom||he.drag||he.pitch||he.rotate},ps=function(he){function X(){he.apply(this,arguments)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X}(a.Event);function ks(he){return he.panDelta&&he.panDelta.mag()||he.zoomDelta||he.bearingDelta||he.pitchDelta}var Ci=function(X,de){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ue(X),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),a.bindAll(["handleEvent","handleWindowEvent"],this);var ee=this._el;this._listeners=[[ee,"touchstart",{passive:!0}],[ee,"touchmove",{passive:!1}],[ee,"touchend",void 0],[ee,"touchcancel",void 0],[ee,"mousedown",void 0],[ee,"mousemove",void 0],[ee,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[ee,"mouseover",void 0],[ee,"mouseout",void 0],[ee,"dblclick",void 0],[ee,"click",void 0],[ee,"keydown",{capture:!1}],[ee,"keyup",void 0],[ee,"wheel",{passive:!1}],[ee,"contextmenu",void 0],[a.window,"blur",void 0]];for(var pe=0,_e=this._listeners;pe<_e.length;pe+=1){var Xe=_e[pe],ot=Xe[0],St=Xe[1],Ut=Xe[2];M.addEventListener(ot,St,ot===a.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};Ci.prototype.destroy=function(){for(var X=0,de=this._listeners;X<de.length;X+=1){var ee=de[X],pe=ee[0],_e=ee[1],Xe=ee[2];M.removeEventListener(pe,_e,pe===a.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},Ci.prototype._addDefaultHandlers=function(X){var de=this._map,ee=de.getCanvasContainer();this._add("mapEvent",new Et(de,X));var pe=de.boxZoom=new Ht(de,X);this._add("boxZoom",pe);var _e=new Br,Xe=new Do;de.doubleClickZoom=new Ca(Xe,_e),this._add("tapZoom",_e),this._add("clickZoom",Xe);var ot=new Fo;this._add("tapDragZoom",ot);var St=de.touchPitch=new Xa;this._add("touchPitch",St);var Ut=new ca(X),Kt=new ta(X);de.dragRotate=new ui(X,Ut,Kt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",Kt,["mouseRotate"]);var or=new na(X),ir=new sa(X);de.dragPan=new ao(ee,or,ir),this._add("mousePan",or),this._add("touchPan",ir,["touchZoom","touchRotate"]);var _r=new Qn,Zr=new ri;de.touchZoomRotate=new Gi(ee,Zr,_r,ot),this._add("touchRotate",_r,["touchPan","touchZoom"]),this._add("touchZoom",Zr,["touchPan","touchRotate"]);var Yr=de.scrollZoom=new ua(de,this);this._add("scrollZoom",Yr,["mousePan"]);var Vr=de.keyboard=new ni;this._add("keyboard",Vr),this._add("blockableMapEvent",new bt(de));for(var Kr=0,un=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Kr<un.length;Kr+=1){var Rn=un[Kr];X.interactive&&X[Rn]&&de[Rn].enable(X[Rn])}},Ci.prototype._add=function(X,de,ee){this._handlers.push({handlerName:X,handler:de,allowed:ee}),this._handlersById[X]=de},Ci.prototype.stop=function(X){if(!this._updatingCamera){for(var de=0,ee=this._handlers;de<ee.length;de+=1){var pe=ee[de],_e=pe.handler;_e.reset()}this._inertia.clear(),this._fireEvents({},{},X),this._changes=[]}},Ci.prototype.isActive=function(){for(var X=0,de=this._handlers;X<de.length;X+=1){var ee=de[X],pe=ee.handler;if(pe.isActive())return!0}return!1},Ci.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ci.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ci.prototype.isMoving=function(){return!!Fi(this._eventsInProgress)||this.isZooming()},Ci.prototype._blockedByActive=function(X,de,ee){for(var pe in X)if(pe!==ee&&(!de||de.indexOf(pe)<0))return!0;return!1},Ci.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},Ci.prototype._getMapTouches=function(X){for(var de=[],ee=0,pe=X;ee<pe.length;ee+=1){var _e=pe[ee],Xe=_e.target;this._el.contains(Xe)&&de.push(_e)}return de},Ci.prototype.handleEvent=function(X,de){if(X.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var ee=X.type==="renderFrame"?void 0:X,pe={needsRenderFrame:!1},_e={},Xe={},ot=X.touches?this._getMapTouches(X.touches):void 0,St=ot?M.touchPos(this._el,ot):M.mousePos(this._el,X),Ut=0,Kt=this._handlers;Ut<Kt.length;Ut+=1){var or=Kt[Ut],ir=or.handlerName,_r=or.handler,Zr=or.allowed;if(_r.isEnabled()){var Yr=void 0;this._blockedByActive(Xe,Zr,ir)?_r.reset():_r[de||X.type]&&(Yr=_r[de||X.type](X,St,ot),this.mergeHandlerResult(pe,_e,Yr,ir,ee),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||_r.isActive())&&(Xe[ir]=_r)}}var Vr={};for(var Kr in this._previousActiveHandlers)Xe[Kr]||(Vr[Kr]=ee);this._previousActiveHandlers=Xe,(Object.keys(Vr).length||ks(pe))&&(this._changes.push([pe,_e,Vr]),this._triggerRenderFrame()),(Object.keys(Xe).length||ks(pe))&&this._map._stop(!0),this._updatingCamera=!1;var un=pe.cameraAnimation;un&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],un(this._map))},Ci.prototype.mergeHandlerResult=function(X,de,ee,pe,_e){if(ee){a.extend(X,ee);var Xe={handlerName:pe,originalEvent:ee.originalEvent||_e};ee.zoomDelta!==void 0&&(de.zoom=Xe),ee.panDelta!==void 0&&(de.drag=Xe),ee.pitchDelta!==void 0&&(de.pitch=Xe),ee.bearingDelta!==void 0&&(de.rotate=Xe)}},Ci.prototype._applyChanges=function(){for(var X={},de={},ee={},pe=0,_e=this._changes;pe<_e.length;pe+=1){var Xe=_e[pe],ot=Xe[0],St=Xe[1],Ut=Xe[2];ot.panDelta&&(X.panDelta=(X.panDelta||new a.Point(0,0))._add(ot.panDelta)),ot.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+ot.zoomDelta),ot.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+ot.bearingDelta),ot.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+ot.pitchDelta),ot.around!==void 0&&(X.around=ot.around),ot.pinchAround!==void 0&&(X.pinchAround=ot.pinchAround),ot.noInertia&&(X.noInertia=ot.noInertia),a.extend(de,St),a.extend(ee,Ut)}this._updateMapTransform(X,de,ee),this._changes=[]},Ci.prototype._updateMapTransform=function(X,de,ee){var pe=this._map,_e=pe.transform;if(!ks(X))return this._fireEvents(de,ee,!0);var Xe=X.panDelta,ot=X.zoomDelta,St=X.bearingDelta,Ut=X.pitchDelta,Kt=X.around,or=X.pinchAround;or!==void 0&&(Kt=or),pe._stop(!0),Kt=Kt||pe.transform.centerPoint;var ir=_e.pointLocation(Xe?Kt.sub(Xe):Kt);St&&(_e.bearing+=St),Ut&&(_e.pitch+=Ut),ot&&(_e.zoom+=ot),_e.setLocationAtPoint(ir,Kt),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(de,ee,!0)},Ci.prototype._fireEvents=function(X,de,ee){var pe=this,_e=Fi(this._eventsInProgress),Xe=Fi(X),ot={};for(var St in X){var Ut=X[St],Kt=Ut.originalEvent;this._eventsInProgress[St]||(ot[St+"start"]=Kt),this._eventsInProgress[St]=X[St]}!_e&&Xe&&this._fireEvent("movestart",Xe.originalEvent);for(var or in ot)this._fireEvent(or,ot[or]);Xe&&this._fireEvent("move",Xe.originalEvent);for(var ir in X){var _r=X[ir],Zr=_r.originalEvent;this._fireEvent(ir,Zr)}var Yr={},Vr;for(var Kr in this._eventsInProgress){var un=this._eventsInProgress[Kr],Rn=un.handlerName,zn=un.originalEvent;this._handlersById[Rn].isActive()||(delete this._eventsInProgress[Kr],Vr=de[Rn]||zn,Yr[Kr+"end"]=Vr)}for(var Wn in Yr)this._fireEvent(Wn,Yr[Wn]);var Zn=Fi(this._eventsInProgress);if(ee&&(_e||Xe)&&!Zn){this._updatingCamera=!0;var Hn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),jn=function(aa){return aa!==0&&-pe._bearingSnap<aa&&aa<pe._bearingSnap};Hn?(jn(Hn.bearing||this._map.getBearing())&&(Hn.bearing=0),this._map.easeTo(Hn,{originalEvent:Vr})):(this._map.fire(new a.Event("moveend",{originalEvent:Vr})),jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Ci.prototype._fireEvent=function(X,de){this._map.fire(new a.Event(X,de?{originalEvent:de}:{}))},Ci.prototype._requestFrame=function(){var X=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(de){delete X._frameId,X.handleEvent(new ps("renderFrame",{timeStamp:de})),X._applyChanges()})},Ci.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Xl=function(he){function X(de,ee){he.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=ee.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(ee,pe){return this.jumpTo({center:ee},pe)},X.prototype.panBy=function(ee,pe,_e){return ee=a.Point.convert(ee).mult(-1),this.panTo(this.transform.center,a.extend({offset:ee},pe),_e)},X.prototype.panTo=function(ee,pe,_e){return this.easeTo(a.extend({center:ee},pe),_e)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(ee,pe){return this.jumpTo({zoom:ee},pe),this},X.prototype.zoomTo=function(ee,pe,_e){return this.easeTo(a.extend({zoom:ee},pe),_e)},X.prototype.zoomIn=function(ee,pe){return this.zoomTo(this.getZoom()+1,ee,pe),this},X.prototype.zoomOut=function(ee,pe){return this.zoomTo(this.getZoom()-1,ee,pe),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(ee,pe){return this.jumpTo({bearing:ee},pe),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(ee,pe){return this.jumpTo({padding:ee},pe),this},X.prototype.rotateTo=function(ee,pe,_e){return this.easeTo(a.extend({bearing:ee},pe),_e)},X.prototype.resetNorth=function(ee,pe){return this.rotateTo(0,a.extend({duration:1e3},ee),pe),this},X.prototype.resetNorthPitch=function(ee,pe){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},ee),pe),this},X.prototype.snapToNorth=function(ee,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ee,pe):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(ee,pe){return this.jumpTo({pitch:ee},pe),this},X.prototype.cameraForBounds=function(ee,pe){ee=a.LngLatBounds.convert(ee);var _e=pe&&pe.bearing||0;return this._cameraForBoxAndBearing(ee.getNorthWest(),ee.getSouthEast(),_e,pe)},X.prototype._cameraForBoxAndBearing=function(ee,pe,_e,Xe){var ot={top:0,bottom:0,right:0,left:0};if(Xe=a.extend({padding:ot,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var St=Xe.padding;Xe.padding={top:St,bottom:St,right:St,left:St}}Xe.padding=a.extend(ot,Xe.padding);var Ut=this.transform,Kt=Ut.padding,or=Ut.project(a.LngLat.convert(ee)),ir=Ut.project(a.LngLat.convert(pe)),_r=or.rotate(-_e*Math.PI/180),Zr=ir.rotate(-_e*Math.PI/180),Yr=new a.Point(Math.max(_r.x,Zr.x),Math.max(_r.y,Zr.y)),Vr=new a.Point(Math.min(_r.x,Zr.x),Math.min(_r.y,Zr.y)),Kr=Yr.sub(Vr),un=(Ut.width-(Kt.left+Kt.right+Xe.padding.left+Xe.padding.right))/Kr.x,Rn=(Ut.height-(Kt.top+Kt.bottom+Xe.padding.top+Xe.padding.bottom))/Kr.y;if(Rn<0||un<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var zn=Math.min(Ut.scaleZoom(Ut.scale*Math.min(un,Rn)),Xe.maxZoom),Wn=typeof Xe.offset.x=="number"?new a.Point(Xe.offset.x,Xe.offset.y):a.Point.convert(Xe.offset),Zn=(Xe.padding.left-Xe.padding.right)/2,Hn=(Xe.padding.top-Xe.padding.bottom)/2,jn=new a.Point(Zn,Hn),aa=jn.rotate(_e*Math.PI/180),fa=Wn.add(aa),ma=fa.mult(Ut.scale/Ut.zoomScale(zn)),va=Ut.unproject(or.add(ir).div(2).sub(ma));return{center:va,zoom:zn,bearing:_e}},X.prototype.fitBounds=function(ee,pe,_e){return this._fitInternal(this.cameraForBounds(ee,pe),pe,_e)},X.prototype.fitScreenCoordinates=function(ee,pe,_e,Xe,ot){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(ee)),this.transform.pointLocation(a.Point.convert(pe)),_e,Xe),Xe,ot)},X.prototype._fitInternal=function(ee,pe,_e){return ee?(pe=a.extend(ee,pe),delete pe.padding,pe.linear?this.easeTo(pe,_e):this.flyTo(pe,_e)):this},X.prototype.jumpTo=function(ee,pe){this.stop();var _e=this.transform,Xe=!1,ot=!1,St=!1;return"zoom"in ee&&_e.zoom!==+ee.zoom&&(Xe=!0,_e.zoom=+ee.zoom),ee.center!==void 0&&(_e.center=a.LngLat.convert(ee.center)),"bearing"in ee&&_e.bearing!==+ee.bearing&&(ot=!0,_e.bearing=+ee.bearing),"pitch"in ee&&_e.pitch!==+ee.pitch&&(St=!0,_e.pitch=+ee.pitch),ee.padding!=null&&!_e.isPaddingEqual(ee.padding)&&(_e.padding=ee.padding),this.fire(new a.Event("movestart",pe)).fire(new a.Event("move",pe)),Xe&&this.fire(new a.Event("zoomstart",pe)).fire(new a.Event("zoom",pe)).fire(new a.Event("zoomend",pe)),ot&&this.fire(new a.Event("rotatestart",pe)).fire(new a.Event("rotate",pe)).fire(new a.Event("rotateend",pe)),St&&this.fire(new a.Event("pitchstart",pe)).fire(new a.Event("pitch",pe)).fire(new a.Event("pitchend",pe)),this.fire(new a.Event("moveend",pe))},X.prototype.easeTo=function(ee,pe){var _e=this;this._stop(!1,ee.easeId),ee=a.extend({offset:[0,0],duration:500,easing:a.ease},ee),(ee.animate===!1||!ee.essential&&a.browser.prefersReducedMotion)&&(ee.duration=0);var Xe=this.transform,ot=this.getZoom(),St=this.getBearing(),Ut=this.getPitch(),Kt=this.getPadding(),or="zoom"in ee?+ee.zoom:ot,ir="bearing"in ee?this._normalizeBearing(ee.bearing,St):St,_r="pitch"in ee?+ee.pitch:Ut,Zr="padding"in ee?ee.padding:Xe.padding,Yr=a.Point.convert(ee.offset),Vr=Xe.centerPoint.add(Yr),Kr=Xe.pointLocation(Vr),un=a.LngLat.convert(ee.center||Kr);this._normalizeCenter(un);var Rn=Xe.project(Kr),zn=Xe.project(un).sub(Rn),Wn=Xe.zoomScale(or-ot),Zn,Hn;ee.around&&(Zn=a.LngLat.convert(ee.around),Hn=Xe.locationPoint(Zn));var jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||or!==ot,this._rotating=this._rotating||St!==ir,this._pitching=this._pitching||_r!==Ut,this._padding=!Xe.isPaddingEqual(Zr),this._easeId=ee.easeId,this._prepareEase(pe,ee.noMoveStart,jn),this._ease(function(aa){if(_e._zooming&&(Xe.zoom=a.number(ot,or,aa)),_e._rotating&&(Xe.bearing=a.number(St,ir,aa)),_e._pitching&&(Xe.pitch=a.number(Ut,_r,aa)),_e._padding&&(Xe.interpolatePadding(Kt,Zr,aa),Vr=Xe.centerPoint.add(Yr)),Zn)Xe.setLocationAtPoint(Zn,Hn);else{var fa=Xe.zoomScale(Xe.zoom-ot),ma=or>ot?Math.min(2,Wn):Math.max(.5,Wn),va=Math.pow(ma,1-aa),_a=Xe.unproject(Rn.add(zn.mult(aa*va)).mult(fa));Xe.setLocationAtPoint(Xe.renderWorldCopies?_a.wrap():_a,Vr)}_e._fireMoveEvents(pe)},function(aa){_e._afterEase(pe,aa)},ee),this},X.prototype._prepareEase=function(ee,pe,_e){_e===void 0&&(_e={}),this._moving=!0,!pe&&!_e.moving&&this.fire(new a.Event("movestart",ee)),this._zooming&&!_e.zooming&&this.fire(new a.Event("zoomstart",ee)),this._rotating&&!_e.rotating&&this.fire(new a.Event("rotatestart",ee)),this._pitching&&!_e.pitching&&this.fire(new a.Event("pitchstart",ee))},X.prototype._fireMoveEvents=function(ee){this.fire(new a.Event("move",ee)),this._zooming&&this.fire(new a.Event("zoom",ee)),this._rotating&&this.fire(new a.Event("rotate",ee)),this._pitching&&this.fire(new a.Event("pitch",ee))},X.prototype._afterEase=function(ee,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var _e=this._zooming,Xe=this._rotating,ot=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_e&&this.fire(new a.Event("zoomend",ee)),Xe&&this.fire(new a.Event("rotateend",ee)),ot&&this.fire(new a.Event("pitchend",ee)),this.fire(new a.Event("moveend",ee))}},X.prototype.flyTo=function(ee,pe){var _e=this;if(!ee.essential&&a.browser.prefersReducedMotion){var Xe=a.pick(ee,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,pe)}this.stop(),ee=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},ee);var ot=this.transform,St=this.getZoom(),Ut=this.getBearing(),Kt=this.getPitch(),or=this.getPadding(),ir="zoom"in ee?a.clamp(+ee.zoom,ot.minZoom,ot.maxZoom):St,_r="bearing"in ee?this._normalizeBearing(ee.bearing,Ut):Ut,Zr="pitch"in ee?+ee.pitch:Kt,Yr="padding"in ee?ee.padding:ot.padding,Vr=ot.zoomScale(ir-St),Kr=a.Point.convert(ee.offset),un=ot.centerPoint.add(Kr),Rn=ot.pointLocation(un),zn=a.LngLat.convert(ee.center||Rn);this._normalizeCenter(zn);var Wn=ot.project(Rn),Zn=ot.project(zn).sub(Wn),Hn=ee.curve,jn=Math.max(ot.width,ot.height),aa=jn/Vr,fa=Zn.mag();if("minZoom"in ee){var ma=a.clamp(Math.min(ee.minZoom,St,ir),ot.minZoom,ot.maxZoom),va=jn/ot.zoomScale(ma-St);Hn=Math.sqrt(va/fa*2)}var _a=Hn*Hn;function Ja(Ha){var Qa=(aa*aa-jn*jn+(Ha?-1:1)*_a*_a*fa*fa)/(2*(Ha?aa:jn)*_a*fa);return Math.log(Math.sqrt(Qa*Qa+1)-Qa)}function Wa(Ha){return(Math.exp(Ha)-Math.exp(-Ha))/2}function Ma(Ha){return(Math.exp(Ha)+Math.exp(-Ha))/2}function Ya(Ha){return Wa(Ha)/Ma(Ha)}var Ua=Ja(0),ai=function(Ha){return Ma(Ua)/Ma(Ua+Hn*Ha)},qa=function(Ha){return jn*((Ma(Ua)*Ya(Ua+Hn*Ha)-Wa(Ua))/_a)/fa},Ti=(Ja(1)-Ua)/Hn;if(Math.abs(fa)<1e-6||!isFinite(Ti)){if(Math.abs(jn-aa)<1e-6)return this.easeTo(ee,pe);var Ka=aa<jn?-1:1;Ti=Math.abs(Math.log(aa/jn))/Hn,qa=function(){return 0},ai=function(Ha){return Math.exp(Ka*Hn*Ha)}}if("duration"in ee)ee.duration=+ee.duration;else{var pi="screenSpeed"in ee?+ee.screenSpeed/Hn:+ee.speed;ee.duration=1e3*Ti/pi}return ee.maxDuration&&ee.duration>ee.maxDuration&&(ee.duration=0),this._zooming=!0,this._rotating=Ut!==_r,this._pitching=Zr!==Kt,this._padding=!ot.isPaddingEqual(Yr),this._prepareEase(pe,!1),this._ease(function(Ha){var Qa=Ha*Ti,Bi=1/ai(Qa);ot.zoom=Ha===1?ir:St+ot.scaleZoom(Bi),_e._rotating&&(ot.bearing=a.number(Ut,_r,Ha)),_e._pitching&&(ot.pitch=a.number(Kt,Zr,Ha)),_e._padding&&(ot.interpolatePadding(or,Yr,Ha),un=ot.centerPoint.add(Kr));var go=Ha===1?zn:ot.unproject(Wn.add(Zn.mult(qa(Qa))).mult(Bi));ot.setLocationAtPoint(ot.renderWorldCopies?go.wrap():go,un),_e._fireMoveEvents(pe)},function(){return _e._afterEase(pe)},ee),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(ee,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var _e=this._onEaseEnd;delete this._onEaseEnd,_e.call(this,pe)}if(!ee){var Xe=this.handlers;Xe&&Xe.stop(!1)}return this},X.prototype._ease=function(ee,pe,_e){_e.animate===!1||_e.duration===0?(ee(1),pe()):(this._easeStart=a.browser.now(),this._easeOptions=_e,this._onEaseFrame=ee,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var ee=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ee)),ee<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(ee,pe){ee=a.wrap(ee,-180,180);var _e=Math.abs(ee-pe);return Math.abs(ee-360-pe)<_e&&(ee-=360),Math.abs(ee+360-pe)<_e&&(ee+=360),ee},X.prototype._normalizeCenter=function(ee){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var _e=ee.lng-pe.center.lng;ee.lng+=_e>180?-360:_e<-180?360:0}},X}(a.Evented),ja=function(X){X===void 0&&(X={}),this.options=X,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};ja.prototype.getDefaultPosition=function(){return"bottom-right"},ja.prototype.onAdd=function(X){var de=this.options&&this.options.compact;return this._map=X,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=M.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ja.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ja.prototype._setElementTitle=function(X,de){var ee=this._map._getUIString("AttributionControl."+de);X.title=ee,X.setAttribute("aria-label",ee)},ja.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},ja.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(X){var ee=de.reduce(function(pe,_e,Xe){return _e.value&&(pe+=_e.key+"="+_e.value+(Xe<de.length-1?"&":"")),pe},"?");X.href=a.config.FEEDBACK_URL+"/"+ee+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow",this._setElementTitle(X,"MapFeedback")}},ja.prototype._updateData=function(X){X&&(X.sourceDataType==="metadata"||X.sourceDataType==="visibility"||X.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},ja.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(St){return typeof St!="string"?"":St})):typeof this.options.customAttribution=="string"&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var ee=this._map.style.sourceCaches;for(var pe in ee){var _e=ee[pe];if(_e.used){var Xe=_e.getSource();Xe.attribution&&X.indexOf(Xe.attribution)<0&&X.push(Xe.attribution)}}X.sort(function(St,Ut){return St.length-Ut.length}),X=X.filter(function(St,Ut){for(var Kt=Ut+1;Kt<X.length;Kt++)if(X[Kt].indexOf(St)>=0)return!1;return!0});var ot=X.join(" | ");ot!==this._attribHTML&&(this._attribHTML=ot,X.length?(this._innerContainer.innerHTML=ot,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ja.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Li=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Li.prototype.onAdd=function(X){this._map=X,this._container=M.create("div","mapboxgl-ctrl");var de=M.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Li.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Li.prototype.getDefaultPosition=function(){return"bottom-left"},Li.prototype._updateLogo=function(X){(!X||X.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Li.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var de in X){var ee=X[de].getSource();if(ee.mapbox_logo)return!0}return!1}},Li.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var de=X[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var wh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};wh.prototype.add=function(X){var de=++this._id,ee=this._queue;return ee.push({callback:X,id:de,cancelled:!1}),de},wh.prototype.remove=function(X){for(var de=this._currentlyRunning,ee=de?this._queue.concat(de):this._queue,pe=0,_e=ee;pe<_e.length;pe+=1){var Xe=_e[pe];if(Xe.id===X){Xe.cancelled=!0;return}}},wh.prototype.run=function(X){X===void 0&&(X=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var ee=0,pe=de;ee<pe.length;ee+=1){var _e=pe[ee];if(!_e.cancelled&&(_e.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},wh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var mp={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},If=a.window.HTMLImageElement,Qv=a.window.HTMLElement,rf=a.window.ImageBitmap,bc=-2,wc=22,es=0,nf=60,$v={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:bc,maxZoom:wc,minPitch:es,maxPitch:nf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},qv=function(he){function X(ee){var pe=this;if(ee=a.extend({},$v,ee),ee.minZoom!=null&&ee.maxZoom!=null&&ee.minZoom>ee.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ee.minPitch!=null&&ee.maxPitch!=null&&ee.minPitch>ee.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ee.minPitch!=null&&ee.minPitch<es)throw new Error("minPitch must be greater than or equal to "+es);if(ee.maxPitch!=null&&ee.maxPitch>nf)throw new Error("maxPitch must be less than or equal to "+nf);var _e=new Ln(ee.minZoom,ee.maxZoom,ee.minPitch,ee.maxPitch,ee.renderWorldCopies);if(he.call(this,_e,ee),this._interactive=ee.interactive,this._maxTileCacheSize=ee.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ee.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ee.preserveDrawingBuffer,this._antialias=ee.antialias,this._trackResize=ee.trackResize,this._bearingSnap=ee.bearingSnap,this._refreshExpiredTiles=ee.refreshExpiredTiles,this._fadeDuration=ee.fadeDuration,this._crossSourceCollisions=ee.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ee.collectResourceTiming,this._renderTaskQueue=new wh,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},mp,ee.locale),this._clickTolerance=ee.clickTolerance,this._requestManager=new a.RequestManager(ee.transformRequest,ee.accessToken),typeof ee.container=="string"){if(this._container=a.window.document.getElementById(ee.container),!this._container)throw new Error("Container '"+ee.container+"' not found.")}else if(ee.container instanceof Qv)this._container=ee.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ee.maxBounds&&this.setMaxBounds(ee.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Ci(this,ee);var Xe=typeof ee.hash=="string"&&ee.hash||void 0;this._hash=ee.hash&&new Ra(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ee.center,zoom:ee.zoom,bearing:ee.bearing,pitch:ee.pitch}),ee.bounds&&(this.resize(),this.fitBounds(ee.bounds,a.extend({},ee.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ee.localIdeographFontFamily,ee.style&&this.setStyle(ee.style,{localIdeographFontFamily:ee.localIdeographFontFamily}),ee.attributionControl&&this.addControl(new ja({customAttribution:ee.customAttribution})),this.addControl(new Li,ee.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(ot){pe._update(ot.dataType==="style"),pe.fire(new a.Event(ot.dataType+"data",ot))}),this.on("dataloading",function(ot){pe.fire(new a.Event(ot.dataType+"dataloading",ot))})}he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(pe,_e){if(_e===void 0&&(pe.getDefaultPosition?_e=pe.getDefaultPosition():_e="top-right"),!pe||!pe.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=pe.onAdd(this);this._controls.push(pe);var ot=this._controlPositions[_e];return _e.indexOf("bottom")!==-1?ot.insertBefore(Xe,ot.firstChild):ot.appendChild(Xe),this},X.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var _e=this._controls.indexOf(pe);return _e>-1&&this._controls.splice(_e,1),pe.onRemove(this),this},X.prototype.hasControl=function(pe){return this._controls.indexOf(pe)>-1},X.prototype.resize=function(pe){var _e=this._containerDimensions(),Xe=_e[0],ot=_e[1];this._resizeCanvas(Xe,ot),this.transform.resize(Xe,ot),this.painter.resize(Xe,ot);var St=!this._moving;return St&&(this.stop(),this.fire(new a.Event("movestart",pe)).fire(new a.Event("move",pe))),this.fire(new a.Event("resize",pe)),St&&this.fire(new a.Event("moveend",pe)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(a.LngLatBounds.convert(pe)),this._update()},X.prototype.setMinZoom=function(pe){if(pe=pe??bc,pe>=bc&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+bc+" and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(pe){if(pe=pe??wc,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(pe){if(pe=pe??es,pe<es)throw new Error("minPitch must be greater than or equal to "+es);if(pe>=es&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+es+" and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(pe){if(pe=pe??nf,pe>nf)throw new Error("maxPitch must be less than or equal to "+nf);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},X.prototype.project=function(pe){return this.transform.locationPoint(a.LngLat.convert(pe))},X.prototype.unproject=function(pe){return this.transform.pointLocation(a.Point.convert(pe))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(pe,_e,Xe){var ot=this,St;if(pe==="mouseenter"||pe==="mouseover"){var Ut=!1,Kt=function(Vr){var Kr=ot.getLayer(_e)?ot.queryRenderedFeatures(Vr.point,{layers:[_e]}):[];Kr.length?Ut||(Ut=!0,Xe.call(ot,new Qe(pe,ot,Vr.originalEvent,{features:Kr}))):Ut=!1},or=function(){Ut=!1};return{layer:_e,listener:Xe,delegates:{mousemove:Kt,mouseout:or}}}else if(pe==="mouseleave"||pe==="mouseout"){var ir=!1,_r=function(Vr){var Kr=ot.getLayer(_e)?ot.queryRenderedFeatures(Vr.point,{layers:[_e]}):[];Kr.length?ir=!0:ir&&(ir=!1,Xe.call(ot,new Qe(pe,ot,Vr.originalEvent)))},Zr=function(Vr){ir&&(ir=!1,Xe.call(ot,new Qe(pe,ot,Vr.originalEvent)))};return{layer:_e,listener:Xe,delegates:{mousemove:_r,mouseout:Zr}}}else{var Yr=function(Vr){var Kr=ot.getLayer(_e)?ot.queryRenderedFeatures(Vr.point,{layers:[_e]}):[];Kr.length&&(Vr.features=Kr,Xe.call(ot,Vr),delete Vr.features)};return{layer:_e,listener:Xe,delegates:(St={},St[pe]=Yr,St)}}},X.prototype.on=function(pe,_e,Xe){if(Xe===void 0)return he.prototype.on.call(this,pe,_e);var ot=this._createDelegatedListener(pe,_e,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(ot);for(var St in ot.delegates)this.on(St,ot.delegates[St]);return this},X.prototype.once=function(pe,_e,Xe){if(Xe===void 0)return he.prototype.once.call(this,pe,_e);var ot=this._createDelegatedListener(pe,_e,Xe);for(var St in ot.delegates)this.once(St,ot.delegates[St]);return this},X.prototype.off=function(pe,_e,Xe){var ot=this;if(Xe===void 0)return he.prototype.off.call(this,pe,_e);var St=function(Ut){for(var Kt=Ut[pe],or=0;or<Kt.length;or++){var ir=Kt[or];if(ir.layer===_e&&ir.listener===Xe){for(var _r in ir.delegates)ot.off(_r,ir.delegates[_r]);return Kt.splice(or,1),ot}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&St(this._delegatedListeners),this},X.prototype.queryRenderedFeatures=function(pe,_e){if(!this.style)return[];_e===void 0&&pe!==void 0&&!(pe instanceof a.Point)&&!Array.isArray(pe)&&(_e=pe,pe=void 0),_e=_e||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(pe instanceof a.Point||typeof pe[0]=="number")Xe=[a.Point.convert(pe)];else{var ot=a.Point.convert(pe[0]),St=a.Point.convert(pe[1]);Xe=[ot,new a.Point(St.x,ot.y),St,new a.Point(ot.x,St.y),ot]}return this.style.queryRenderedFeatures(Xe,_e,this.transform)},X.prototype.querySourceFeatures=function(pe,_e){return this.style.querySourceFeatures(pe,_e)},X.prototype.setStyle=function(pe,_e){return _e=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},_e),_e.diff!==!1&&_e.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,_e),this):(this._localIdeographFontFamily=_e.localIdeographFontFamily,this._updateStyle(pe,_e))},X.prototype._getUIString=function(pe){var _e=this._locale[pe];if(_e==null)throw new Error("Missing UI string '"+pe+"'");return _e},X.prototype._updateStyle=function(pe,_e){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new _o(this,_e||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new _o(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(pe,_e){var Xe=this;if(typeof pe=="string"){var ot=this._requestManager.normalizeStyleURL(pe),St=this._requestManager.transformRequest(ot,a.ResourceType.Style);a.getJSON(St,function(Ut,Kt){Ut?Xe.fire(new a.ErrorEvent(Ut)):Kt&&Xe._updateDiff(Kt,_e)})}else typeof pe=="object"&&this._updateDiff(pe,_e)},X.prototype._updateDiff=function(pe,_e){try{this.style.setState(pe)&&this._update(!0)}catch(Xe){a.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(pe,_e)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(pe,_e){return this._lazyInitEmptyStyle(),this.style.addSource(pe,_e),this._update(!0)},X.prototype.isSourceLoaded=function(pe){var _e=this.style&&this.style.sourceCaches[pe];if(_e===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return _e.loaded()},X.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var _e in pe){var Xe=pe[_e],ot=Xe._tiles;for(var St in ot){var Ut=ot[St];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},X.prototype.addSourceType=function(pe,_e,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,_e,Xe)},X.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},X.prototype.getSource=function(pe){return this.style.getSource(pe)},X.prototype.addImage=function(pe,_e,Xe){Xe===void 0&&(Xe={});var ot=Xe.pixelRatio;ot===void 0&&(ot=1);var St=Xe.sdf;St===void 0&&(St=!1);var Ut=Xe.stretchX,Kt=Xe.stretchY,or=Xe.content;this._lazyInitEmptyStyle();var ir=0;if(_e instanceof If||rf&&_e instanceof rf){var _r=a.browser.getImageData(_e),Zr=_r.width,Yr=_r.height,Vr=_r.data;this.style.addImage(pe,{data:new a.RGBAImage({width:Zr,height:Yr},Vr),pixelRatio:ot,stretchX:Ut,stretchY:Kt,content:or,sdf:St,version:ir})}else{if(_e.width===void 0||_e.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Kr=_e.width,un=_e.height,Rn=_e.data,zn=_e;this.style.addImage(pe,{data:new a.RGBAImage({width:Kr,height:un},new Uint8Array(Rn)),pixelRatio:ot,stretchX:Ut,stretchY:Kt,content:or,sdf:St,version:ir,userImage:zn}),zn.onAdd&&zn.onAdd(this,pe)}},X.prototype.updateImage=function(pe,_e){var Xe=this.style.getImage(pe);if(!Xe)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ot=_e instanceof If||rf&&_e instanceof rf?a.browser.getImageData(_e):_e,St=ot.width,Ut=ot.height,Kt=ot.data;if(St===void 0||Ut===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(St!==Xe.data.width||Ut!==Xe.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var or=!(_e instanceof If||rf&&_e instanceof rf);Xe.data.replace(Kt,or),this.style.updateImage(pe,Xe)},X.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(pe){this.style.removeImage(pe)},X.prototype.loadImage=function(pe,_e){a.getImage(this._requestManager.transformRequest(pe,a.ResourceType.Image),_e)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(pe,_e){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,_e),this._update(!0)},X.prototype.moveLayer=function(pe,_e){return this.style.moveLayer(pe,_e),this._update(!0)},X.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},X.prototype.getLayer=function(pe){return this.style.getLayer(pe)},X.prototype.setLayerZoomRange=function(pe,_e,Xe){return this.style.setLayerZoomRange(pe,_e,Xe),this._update(!0)},X.prototype.setFilter=function(pe,_e,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(pe,_e,Xe),this._update(!0)},X.prototype.getFilter=function(pe){return this.style.getFilter(pe)},X.prototype.setPaintProperty=function(pe,_e,Xe,ot){return ot===void 0&&(ot={}),this.style.setPaintProperty(pe,_e,Xe,ot),this._update(!0)},X.prototype.getPaintProperty=function(pe,_e){return this.style.getPaintProperty(pe,_e)},X.prototype.setLayoutProperty=function(pe,_e,Xe,ot){return ot===void 0&&(ot={}),this.style.setLayoutProperty(pe,_e,Xe,ot),this._update(!0)},X.prototype.getLayoutProperty=function(pe,_e){return this.style.getLayoutProperty(pe,_e)},X.prototype.setLight=function(pe,_e){return _e===void 0&&(_e={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,_e),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(pe,_e){return this.style.setFeatureState(pe,_e),this._update()},X.prototype.removeFeatureState=function(pe,_e){return this.style.removeFeatureState(pe,_e),this._update()},X.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var pe=0,_e=0;return this._container&&(pe=this._container.clientWidth||400,_e=this._container.clientHeight||300),[pe,_e]},X.prototype._detectMissingCSS=function(){var pe=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var _e=this._missingCSSCanary=M.create("div","mapboxgl-canary",pe);_e.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=M.create("div","mapboxgl-canvas-container",pe);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ot=this._containerDimensions();this._resizeCanvas(ot[0],ot[1]);var St=this._controlContainer=M.create("div","mapboxgl-control-container",pe),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Kt){Ut[Kt]=M.create("div","mapboxgl-ctrl-"+Kt,St)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},X.prototype._resizeCanvas=function(pe,_e){var Xe=a.browser.devicePixelRatio||1;this._canvas.width=Xe*pe,this._canvas.height=Xe*_e,this._canvas.style.width=pe+"px",this._canvas.style.height=_e+"px"},X.prototype._setupPainter=function(){var pe=a.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),_e=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!_e){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Fr(_e,this.transform),a.webpSupported.testSupport(_e)},X.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:pe}))},X.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:pe}))},X.prototype._onMapScroll=function(pe){if(pe.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},X.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},X.prototype._render=function(pe){var _e=this,Xe,ot=0,St=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=St.createQueryEXT(),St.beginQueryEXT(St.TIME_ELAPSED_EXT,Xe),ot=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Kt=this.transform.zoom,or=a.browser.now();this.style.zoomHistory.update(Kt,or);var ir=new a.EvaluationParameters(Kt,{now:or,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),_r=ir.crossFadingFactor();(_r!==1||_r!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=_r),this.style.update(ir)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Zr=a.browser.now()-ot;St.endQueryEXT(St.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var Kr=St.getQueryObjectEXT(Xe,St.QUERY_RESULT_EXT)/1e6;St.deleteQueryEXT(Xe),_e.fire(new a.Event("gpu-timing-frame",{cpuTime:Zr,gpuTime:Kr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var Kr=_e.painter.queryGpuTimers(Yr);_e.fire(new a.Event("gpu-timing-layer",{layerTimes:Kr}))},50)}var Vr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Vr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),this._loaded&&!this._fullyLoaded&&!Vr&&(this._fullyLoaded=!0),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,_e=this._controls;pe<_e.length;pe+=1){var Xe=_e[pe];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ot=this.painter.context.gl.getExtension("WEBGL_lose_context");ot&&ot.loseContext&&ot.loseContext(),Th(this._canvasContainer),Th(this._controlContainer),Th(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},X.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(_e){pe._frame=null,pe._render(_e)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(ee){this._showTileBoundaries!==ee&&(this._showTileBoundaries=ee,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(ee){this._showPadding!==ee&&(this._showPadding=ee,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(ee){this._showCollisionBoxes!==ee&&(this._showCollisionBoxes=ee,ee?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(ee){this._showOverdrawInspector!==ee&&(this._showOverdrawInspector=ee,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(ee){this._repaint!==ee&&(this._repaint=ee,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(ee){this._vertices=ee,this._update()},X.prototype._setCacheLimits=function(pe,_e){a.setCacheLimits(pe,_e)},de.version.get=function(){return a.version},Object.defineProperties(X.prototype,de),X}(Xl);function Th(he){he.parentNode&&he.parentNode.removeChild(he)}var Xh={showCompass:!0,showZoom:!0,visualizePitch:!1},Su=function(X){var de=this;this.options=a.extend({},Xh,X),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ee){return ee.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ee){return de._map.zoomIn({},{originalEvent:ee})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ee){return de._map.zoomOut({},{originalEvent:ee})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ee){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:ee}):de._map.resetNorth({},{originalEvent:ee})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Su.prototype._updateZoomButtons=function(){var X=this._map.getZoom(),de=X===this._map.getMaxZoom(),ee=X===this._map.getMinZoom();this._zoomInButton.disabled=de,this._zoomOutButton.disabled=ee,this._zoomInButton.setAttribute("aria-disabled",de.toString()),this._zoomOutButton.setAttribute("aria-disabled",ee.toString())},Su.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},Su.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},Su.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Su.prototype._createButton=function(X,de){var ee=M.create("button",X,this._container);return ee.type="button",ee.addEventListener("click",de),ee},Su.prototype._setButtonTitle=function(X,de){var ee=this._map._getUIString("NavigationControl."+de);X.title=ee,X.setAttribute("aria-label",ee)};var gs=function(X,de,ee){ee===void 0&&(ee=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new ca({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,ee&&(this.mousePitch=new ta({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener(de,"mousedown",this.mousedown),M.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(de,"touchmove",this.touchmove),M.addEventListener(de,"touchend",this.touchend),M.addEventListener(de,"touchcancel",this.reset)};gs.prototype.down=function(X,de){this.mouseRotate.mousedown(X,de),this.mousePitch&&this.mousePitch.mousedown(X,de),M.disableDrag()},gs.prototype.move=function(X,de){var ee=this.map,pe=this.mouseRotate.mousemoveWindow(X,de);if(pe&&pe.bearingDelta&&ee.setBearing(ee.getBearing()+pe.bearingDelta),this.mousePitch){var _e=this.mousePitch.mousemoveWindow(X,de);_e&&_e.pitchDelta&&ee.setPitch(ee.getPitch()+_e.pitchDelta)}},gs.prototype.off=function(){var X=this.element;M.removeEventListener(X,"mousedown",this.mousedown),M.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(X,"touchmove",this.touchmove),M.removeEventListener(X,"touchend",this.touchend),M.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},gs.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(a.window,"mousemove",this.mousemove),M.removeEventListener(a.window,"mouseup",this.mouseup)},gs.prototype.mousedown=function(X){this.down(a.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),M.mousePos(this.element,X)),M.addEventListener(a.window,"mousemove",this.mousemove),M.addEventListener(a.window,"mouseup",this.mouseup)},gs.prototype.mousemove=function(X){this.move(X,M.mousePos(this.element,X))},gs.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},gs.prototype.touchstart=function(X){X.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},gs.prototype.touchmove=function(X){X.targetTouches.length!==1?this.reset():(this._lastPos=M.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},gs.prototype.touchend=function(X){X.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Eu(he,X,de){if(he=new a.LngLat(he.lng,he.lat),X){var ee=new a.LngLat(he.lng-360,he.lat),pe=new a.LngLat(he.lng+360,he.lat),_e=de.locationPoint(he).distSqr(X);de.locationPoint(ee).distSqr(X)<_e?he=ee:de.locationPoint(pe).distSqr(X)<_e&&(he=pe)}for(;Math.abs(he.lng-de.center.lng)>180;){var Xe=de.locationPoint(he);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=de.width&&Xe.y<=de.height)break;he.lng>de.center.lng?he.lng-=360:he.lng+=360}return he}var Ah={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function jh(he,X,de){var ee=he.classList;for(var pe in Ah)ee.remove("mapboxgl-"+de+"-anchor-"+pe);ee.add("mapboxgl-"+de+"-anchor-"+X)}var Tc=function(he){function X(de,ee){if(he.call(this),(de instanceof a.window.HTMLElement||ee)&&(de=a.extend({element:de},ee)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._scale=de&&de.scale||1,this._draggable=de&&de.draggable||!1,this._clickTolerance=de&&de.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var pe=M.createNS("http://www.w3.org/2000/svg","svg"),_e=41,Xe=27;pe.setAttributeNS(null,"display","block"),pe.setAttributeNS(null,"height",_e+"px"),pe.setAttributeNS(null,"width",Xe+"px"),pe.setAttributeNS(null,"viewBox","0 0 "+Xe+" "+_e);var ot=M.createNS("http://www.w3.org/2000/svg","g");ot.setAttributeNS(null,"stroke","none"),ot.setAttributeNS(null,"stroke-width","1"),ot.setAttributeNS(null,"fill","none"),ot.setAttributeNS(null,"fill-rule","evenodd");var St=M.createNS("http://www.w3.org/2000/svg","g");St.setAttributeNS(null,"fill-rule","nonzero");var Ut=M.createNS("http://www.w3.org/2000/svg","g");Ut.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ut.setAttributeNS(null,"fill","#000000");for(var Kt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],or=0,ir=Kt;or<ir.length;or+=1){var _r=ir[or],Zr=M.createNS("http://www.w3.org/2000/svg","ellipse");Zr.setAttributeNS(null,"opacity","0.04"),Zr.setAttributeNS(null,"cx","10.5"),Zr.setAttributeNS(null,"cy","5.80029008"),Zr.setAttributeNS(null,"rx",_r.rx),Zr.setAttributeNS(null,"ry",_r.ry),Ut.appendChild(Zr)}var Yr=M.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var Vr=M.createNS("http://www.w3.org/2000/svg","path");Vr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(Vr);var Kr=M.createNS("http://www.w3.org/2000/svg","g");Kr.setAttributeNS(null,"opacity","0.25"),Kr.setAttributeNS(null,"fill","#000000");var un=M.createNS("http://www.w3.org/2000/svg","path");un.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Kr.appendChild(un);var Rn=M.createNS("http://www.w3.org/2000/svg","g");Rn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Rn.setAttributeNS(null,"fill","#FFFFFF");var zn=M.createNS("http://www.w3.org/2000/svg","g");zn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Wn=M.createNS("http://www.w3.org/2000/svg","circle");Wn.setAttributeNS(null,"fill","#000000"),Wn.setAttributeNS(null,"opacity","0.25"),Wn.setAttributeNS(null,"cx","5.5"),Wn.setAttributeNS(null,"cy","5.5"),Wn.setAttributeNS(null,"r","5.4999962");var Zn=M.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#FFFFFF"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962"),zn.appendChild(Wn),zn.appendChild(Zn),St.appendChild(Ut),St.appendChild(Yr),St.appendChild(Kr),St.appendChild(Rn),St.appendChild(zn),pe.appendChild(St),pe.setAttributeNS(null,"height",_e*this._scale+"px"),pe.setAttributeNS(null,"width",Xe*this._scale+"px"),this._element.appendChild(pe),this._offset=a.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=a.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Hn){Hn.preventDefault()}),this._element.addEventListener("mousedown",function(Hn){Hn.preventDefault()}),jh(this._element,this._anchor,"marker"),this._popup=null}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ee){return this.remove(),this._map=ee,ee.getCanvasContainer().appendChild(this._element),ee.on("move",this._update),ee.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ee){return this._lngLat=a.LngLat.convert(ee),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(ee){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ee){if(!("offset"in ee.options)){var pe=38.1,_e=13.5,Xe=Math.sqrt(Math.pow(_e,2)/2);ee.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[Xe,(pe-_e+Xe)*-1],"bottom-right":[-Xe,(pe-_e+Xe)*-1],left:[_e,(pe-_e)*-1],right:[-_e,(pe-_e)*-1]}:this._offset}this._popup=ee,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(ee){var pe=ee.code,_e=ee.charCode||ee.keyCode;(pe==="Space"||pe==="Enter"||_e===32||_e===13)&&this.togglePopup()},X.prototype._onMapClick=function(ee){var pe=ee.originalEvent.target,_e=this._element;this._popup&&(pe===_e||_e.contains(pe))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var ee=this._popup;if(ee)ee.isOpen()?ee.remove():ee.addTo(this._map);else return this;return this},X.prototype._update=function(ee){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Eu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var _e="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_e="rotateX(0deg)":this._pitchAlignment==="map"&&(_e="rotateX("+this._map.getPitch()+"deg)"),(!ee||ee.type==="moveend")&&(this._pos=this._pos.round()),M.setTransform(this._element,Ah[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+_e+" "+pe)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(ee){return this._offset=a.Point.convert(ee),this._update(),this},X.prototype._onMove=function(ee){if(!this._isDragging){var pe=this._clickTolerance||this._map._clickTolerance;this._isDragging=ee.point.dist(this._pointerdownPos)>=pe}this._isDragging&&(this._pos=ee.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(ee){this._element.contains(ee.originalEvent.target)&&(ee.preventDefault(),this._positionDelta=ee.point.sub(this._pos).add(this._offset),this._pointerdownPos=ee.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(ee){return this._draggable=!!ee,this._map&&(ee?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(ee){return this._rotation=ee||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(ee){return this._rotationAlignment=ee||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(ee){return this._pitchAlignment=ee&&ee!=="auto"?ee:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(a.Evented),ed={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},af;function Mh(he){af!==void 0?he(af):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(X){af=X.state!=="denied",he(af)}):(af=!!a.window.navigator.geolocation,he(af))}var Ac=0,kf=!1,xp=function(he){function X(de){he.call(this),this.options=a.extend({},ed,de),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ee){return this._map=ee,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Mh(this._setupUI),this._container},X.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ac=0,kf=!1},X.prototype._isOutOfMapMaxBounds=function(ee){var pe=this._map.getMaxBounds(),_e=ee.coords;return pe&&(_e.longitude<pe.getWest()||_e.longitude>pe.getEast()||_e.latitude<pe.getSouth()||_e.latitude>pe.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},X.prototype._onSuccess=function(ee){if(this._map){if(this._isOutOfMapMaxBounds(ee)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",ee)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ee,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ee),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ee),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",ee)),this._finish()}},X.prototype._updateCamera=function(ee){var pe=new a.LngLat(ee.coords.longitude,ee.coords.latitude),_e=ee.coords.accuracy,Xe=this._map.getBearing(),ot=a.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(_e),ot,{geolocateSource:!0})},X.prototype._updateMarker=function(ee){if(ee){var pe=new a.LngLat(ee.coords.longitude,ee.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=ee.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var ee=this._map._container.clientHeight/2,pe=this._map.unproject([0,ee]),_e=this._map.unproject([1,ee]),Xe=pe.distanceTo(_e),ot=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=ot+"px",this._circleElement.style.height=ot+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(ee){if(this._map){if(this.options.trackUserLocation)if(ee.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ee.code===3&&kf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",ee)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(ee){var pe=this;if(this._container.addEventListener("contextmenu",function(ot){return ot.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ee===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var _e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=_e,this._geolocateButton.setAttribute("aria-label",_e)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Tc(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Tc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ot){var St=ot.originalEvent&&ot.originalEvent.type==="resize";!ot.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!St&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new a.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ac--,kf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ac++;var ee;Ac>1?(ee={maximumAge:6e5,timeout:0},kf=!0):(ee=this.options.positionOptions,kf=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ee)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(a.Evented),td={maxWidth:100,unit:"metric"},_f=function(X){this.options=a.extend({},td,X),a.bindAll(["_onMove","setUnit"],this)};_f.prototype.getDefaultPosition=function(){return"bottom-left"},_f.prototype._onMove=function(){rd(this._map,this._container,this.options)},_f.prototype.onAdd=function(X){return this._map=X,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},_f.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},_f.prototype.setUnit=function(X){this.options.unit=X,rd(this._map,this._container,this.options)};function rd(he,X,de){var ee=de&&de.maxWidth||100,pe=he._container.clientHeight/2,_e=he.unproject([0,pe]),Xe=he.unproject([ee,pe]),ot=_e.distanceTo(Xe);if(de&&de.unit==="imperial"){var St=3.2808*ot;if(St>5280){var Ut=St/5280;Mc(X,ee,Ut,he._getUIString("ScaleControl.Miles"))}else Mc(X,ee,St,he._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var Kt=ot/1852;Mc(X,ee,Kt,he._getUIString("ScaleControl.NauticalMiles"))}else ot>=1e3?Mc(X,ee,ot/1e3,he._getUIString("ScaleControl.Kilometers")):Mc(X,ee,ot,he._getUIString("ScaleControl.Meters"))}function Mc(he,X,de,ee){var pe=wp(de),_e=pe/de;he.style.width=X*_e+"px",he.innerHTML=pe+"&nbsp;"+ee}function bp(he){var X=Math.pow(10,Math.ceil(-Math.log(he)/Math.LN10));return Math.round(he*X)/X}function wp(he){var X=Math.pow(10,(""+Math.floor(he)).length-1),de=he/X;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:bp(de),X*de}var vl=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof a.window.HTMLElement?this._container=X.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};vl.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},vl.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},vl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},vl.prototype._setupUI=function(){var X=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},vl.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},vl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},vl.prototype._isFullscreen=function(){return this._fullscreen},vl.prototype._changeIcon=function(){var X=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;X===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},vl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Tp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ap=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Eg=function(he){function X(de){he.call(this),this.options=a.extend(Object.create(Tp),de),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return he&&(X.__proto__=he),X.prototype=Object.create(he&&he.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ee){return this._map&&this.remove(),this._map=ee,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ee){return this._lngLat=a.LngLat.convert(ee),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(ee){return this.setDOMContent(a.window.document.createTextNode(ee))},X.prototype.setHTML=function(ee){var pe=a.window.document.createDocumentFragment(),_e=a.window.document.createElement("body"),Xe;for(_e.innerHTML=ee;Xe=_e.firstChild,!!Xe;)pe.appendChild(Xe);return this.setDOMContent(pe)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(ee){return this.options.maxWidth=ee,this._update(),this},X.prototype.setDOMContent=function(ee){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=M.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(ee),this._createCloseButton(),this._update(),this._focusFirstElement(),this},X.prototype.addClassName=function(ee){this._container&&this._container.classList.add(ee)},X.prototype.removeClassName=function(ee){this._container&&this._container.classList.remove(ee)},X.prototype.setOffset=function(ee){return this.options.offset=ee,this._update(),this},X.prototype.toggleClassName=function(ee){if(this._container)return this._container.classList.toggle(ee)},X.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(ee){this._update(ee.point)},X.prototype._onMouseMove=function(ee){this._update(ee.point)},X.prototype._onDrag=function(ee){this._update(ee.point)},X.prototype._update=function(ee){var pe=this,_e=this._lngLat||this._trackPointer;if(!(!this._map||!_e||!this._content)&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_r){return pe._container.classList.add(_r)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Eu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ee))){var Xe=this._pos=this._trackPointer&&ee?ee:this._map.project(this._lngLat),ot=this.options.anchor,St=Mp(this.options.offset);if(!ot){var Ut=this._container.offsetWidth,Kt=this._container.offsetHeight,or;Xe.y+St.bottom.y<Kt?or=["top"]:Xe.y>this._map.transform.height-Kt?or=["bottom"]:or=[],Xe.x<Ut/2?or.push("left"):Xe.x>this._map.transform.width-Ut/2&&or.push("right"),or.length===0?ot="bottom":ot=or.join("-")}var ir=Xe.add(St[ot]).round();M.setTransform(this._container,Ah[ot]+" translate("+ir.x+"px,"+ir.y+"px)"),jh(this._container,ot,"popup")}},X.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var ee=this._container.querySelector(Ap);ee&&ee.focus()}},X.prototype._onClose=function(){this.remove()},X}(a.Evented);function Mp(he){if(he)if(typeof he=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(he,2)));return{center:new a.Point(0,0),top:new a.Point(0,he),"top-left":new a.Point(X,X),"top-right":new a.Point(-X,X),bottom:new a.Point(0,-he),"bottom-left":new a.Point(X,-X),"bottom-right":new a.Point(-X,-X),left:new a.Point(he,0),right:new a.Point(-he,0)}}else if(he instanceof a.Point||Array.isArray(he)){var de=a.Point.convert(he);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:a.Point.convert(he.center||[0,0]),top:a.Point.convert(he.top||[0,0]),"top-left":a.Point.convert(he["top-left"]||[0,0]),"top-right":a.Point.convert(he["top-right"]||[0,0]),bottom:a.Point.convert(he.bottom||[0,0]),"bottom-left":a.Point.convert(he["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(he["bottom-right"]||[0,0]),left:a.Point.convert(he.left||[0,0]),right:a.Point.convert(he.right||[0,0])};else return Mp(new a.Point(0,0))}var io={version:a.version,supported:L,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:qv,NavigationControl:Su,GeolocateControl:xp,AttributionControl:ja,ScaleControl:_f,FullscreenControl:vl,Popup:Eg,Marker:Tc,Style:_o,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:It,clearPrewarmedResources:Zt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(he){a.config.ACCESS_TOKEN=he},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(he){a.config.API_URL=he},get workerCount(){return hr.workerCount},set workerCount(he){hr.workerCount=he},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(he){a.config.MAX_PARALLEL_IMAGE_REQUESTS=he},clearStorage:function(X){a.clearTileCache(X)},workerUrl:""};return io}),y})},88294:function(G,H,e){G.exports=e(62849)},62849:function(G,H,e){var y=e(91358),P=e(53435),a=e(18863),L=e(21527),M=e(71299),v=e(46775),p=e(30120),r=e(64941),t=e(90660),o=e(27084),n=1073741824;G.exports=function(l,g){g||(g={}),l=p(l,"float64"),g=M(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var f=v(g.maxDepth,255),T=v(g.bounds,L(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var h=c(l,T),s=l.length>>>1,d;g.dtype||(g.dtype="array"),typeof g.dtype=="string"?d=new(t(g.dtype))(s):g.dtype&&(d=g.dtype,Array.isArray(d)&&(d.length=s));for(var A=0;A<s;++A)d[A]=A;var w=[],C=[],b=[],S=[];U(0,0,1,d,0,1);for(var x=0,i=0;i<w.length;i++){var E=w[i];if(d.set)d.set(E,x);else for(var m=0,k=E.length;m<k;m++)d[m+x]=E[m];var I=x+w[i].length;S[i]=[x,I],x=I}return d.range=z,d;function U(O,N,Y,$,te,ie){if(!$.length)return null;var ce=w[te]||(w[te]=[]),J=b[te]||(b[te]=[]),Z=C[te]||(C[te]=[]),ae=ce.length;if(te++,te>f||ie>n){for(var j=0;j<$.length;j++)ce.push($[j]),J.push(ie),Z.push(null,null,null,null);return ae}if(ce.push($[0]),J.push(ie),$.length<=1)return Z.push(null,null,null,null),ae;for(var q=Y*.5,oe=O+q,Q=N+q,K=[],se=[],ne=[],fe=[],ye=1,Ee=$.length;ye<Ee;ye++){var Te=$[ye],ze=h[Te*2],ke=h[Te*2+1];ze<oe?ke<Q?K.push(Te):se.push(Te):ke<Q?ne.push(Te):fe.push(Te)}return ie<<=2,Z.push(U(O,N,q,K,te,ie),U(O,Q,q,se,te,ie+1),U(oe,N,q,ne,te,ie+2),U(oe,Q,q,fe,te,ie+3)),ae}function z(){for(var O=[],N=arguments.length;N--;)O[N]=arguments[N];var Y;if(r(O[O.length-1])){var $=O.pop();!O.length&&($.x!=null||$.l!=null||$.left!=null)&&(O=[$],Y={}),Y=M($,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};O.length||(O=T);var te=a.apply(void 0,O),ie=[Math.min(te.x,te.x+te.width),Math.min(te.y,te.y+te.height),Math.max(te.x,te.x+te.width),Math.max(te.y,te.y+te.height)],ce=ie[0],J=ie[1],Z=ie[2],ae=ie[3],j=c([ce,J,Z,ae],T),q=j[0],oe=j[1],Q=j[2],K=j[3],se=v(Y.level,w.length);if(Y.d!=null){var ne;typeof Y.d=="number"?ne=[Y.d,Y.d]:Y.d.length&&(ne=Y.d),se=Math.min(Math.max(Math.ceil(-o(Math.abs(ne[0])/(T[2]-T[0]))),Math.ceil(-o(Math.abs(ne[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,w.length),Y.lod)return F(q,oe,Q,K,se);var fe=[];ye(0,0,1,0,0,1);function ye(Te,ze,ke,Se,me,Ce){if(!(me===null||Ce===null)){var Ne=Te+ke,He=ze+ke;if(!(q>Ne||oe>He||Q<Te||K<ze)&&!(Se>=se)&&me!==Ce){var De=w[Se];Ce===void 0&&(Ce=De.length);for(var Ve=me;Ve<Ce;Ve++){var at=De[Ve],lt=l[at*2],$e=l[at*2+1];lt>=ce&&lt<=Z&&$e>=J&&$e<=ae&&fe.push(at)}var et=C[Se],ct=et[me*4+0],dt=et[me*4+1],gt=et[me*4+2],At=et[me*4+3],Rt=Ee(et,me+1),Vt=ke*.5,Je=Se+1;ye(Te,ze,Vt,Je,ct,dt||gt||At||Rt),ye(Te,ze+Vt,Vt,Je,dt,gt||At||Rt),ye(Te+Vt,ze,Vt,Je,gt,At||Rt),ye(Te+Vt,ze+Vt,Vt,Je,At,Rt)}}}function Ee(Te,ze){for(var ke=null,Se=0;ke===null;)if(ke=Te[ze*4+Se],Se++,Se>Te.length)return null;return ke}return fe}function F(O,N,Y,$,te){for(var ie=[],ce=0;ce<te;ce++){var J=b[ce],Z=S[ce][0],ae=B(O,N,ce),j=B(Y,$,ce),q=y.ge(J,ae),oe=y.gt(J,j,q,J.length-1);ie[ce]=[q+Z,oe+Z]}return ie}function B(O,N,Y){for(var $=1,te=.5,ie=.5,ce=.5,J=0;J<Y;J++)$<<=2,$+=O<te?N<ie?0:1:N<ie?2:3,ce*=.5,te+=O<te?-ce:ce,ie+=N<ie?-ce:ce;return $}};function c(u,l){for(var g=l[0],f=l[1],T=l[2],h=l[3],s=1/(T-g),d=1/(h-f),A=new Array(u.length),w=0,C=u.length/2;w<C;w++)A[2*w]=P((u[2*w]-g)*s,0,1),A[2*w+1]=P((u[2*w+1]-f)*d,0,1);return A}},30774:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var y=e(60302),P=6378137;function a(r){return y.geomReduce(r,function(t,o){return t+L(o)},0)}H.default=a;function L(r){var t=0,o;switch(r.type){case"Polygon":return M(r.coordinates);case"MultiPolygon":for(o=0;o<r.coordinates.length;o++)t+=M(r.coordinates[o]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function M(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var o=1;o<r.length;o++)t-=Math.abs(v(r[o]))}return t}function v(r){var t,o,n,c,u,l,g,f=0,T=r.length;if(T>2){for(g=0;g<T;g++)g===T-2?(c=T-2,u=T-1,l=0):g===T-1?(c=T-1,u=0,l=1):(c=g,u=g+1,l=g+2),t=r[c],o=r[u],n=r[l],f+=(p(n[0])-p(t[0]))*Math.sin(p(o[1]));f=f*P*P/2}return f}function p(r){return r*Math.PI/180}},23132:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(x,i,E){E===void 0&&(E={});var m={type:"Feature"};return(E.id===0||E.id)&&(m.id=E.id),E.bbox&&(m.bbox=E.bbox),m.properties=i||{},m.geometry=x,m}H.feature=e;function y(x,i,E){switch(x){case"Point":return P(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return L(i).geometry;case"MultiPoint":return o(i).geometry;case"MultiLineString":return t(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(x+" is invalid")}}H.geometry=y;function P(x,i,E){if(E===void 0&&(E={}),!x)throw new Error("coordinates is required");if(!Array.isArray(x))throw new Error("coordinates must be an Array");if(x.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(x[0])||!w(x[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:x};return e(m,i,E)}H.point=P;function a(x,i,E){return E===void 0&&(E={}),r(x.map(function(m){return P(m,i)}),E)}H.points=a;function L(x,i,E){E===void 0&&(E={});for(var m=0,k=x;m<k.length;m++){var I=k[m];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<I[I.length-1].length;U++)if(I[I.length-1][U]!==I[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:x};return e(z,i,E)}H.polygon=L;function M(x,i,E){return E===void 0&&(E={}),r(x.map(function(m){return L(m,i)}),E)}H.polygons=M;function v(x,i,E){if(E===void 0&&(E={}),x.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:x};return e(m,i,E)}H.lineString=v;function p(x,i,E){return E===void 0&&(E={}),r(x.map(function(m){return v(m,i)}),E)}H.lineStrings=p;function r(x,i){i===void 0&&(i={});var E={type:"FeatureCollection"};return i.id&&(E.id=i.id),i.bbox&&(E.bbox=i.bbox),E.features=x,E}H.featureCollection=r;function t(x,i,E){E===void 0&&(E={});var m={type:"MultiLineString",coordinates:x};return e(m,i,E)}H.multiLineString=t;function o(x,i,E){E===void 0&&(E={});var m={type:"MultiPoint",coordinates:x};return e(m,i,E)}H.multiPoint=o;function n(x,i,E){E===void 0&&(E={});var m={type:"MultiPolygon",coordinates:x};return e(m,i,E)}H.multiPolygon=n;function c(x,i,E){E===void 0&&(E={});var m={type:"GeometryCollection",geometries:x};return e(m,i,E)}H.geometryCollection=c;function u(x,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,i||0);return Math.round(x*E)/E}H.round=u;function l(x,i){i===void 0&&(i="kilometers");var E=H.factors[i];if(!E)throw new Error(i+" units is invalid");return x*E}H.radiansToLength=l;function g(x,i){i===void 0&&(i="kilometers");var E=H.factors[i];if(!E)throw new Error(i+" units is invalid");return x/E}H.lengthToRadians=g;function f(x,i){return h(g(x,i))}H.lengthToDegrees=f;function T(x){var i=x%360;return i<0&&(i+=360),i}H.bearingToAzimuth=T;function h(x){var i=x%(2*Math.PI);return i*180/Math.PI}H.radiansToDegrees=h;function s(x){var i=x%360;return i*Math.PI/180}H.degreesToRadians=s;function d(x,i,E){if(i===void 0&&(i="kilometers"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("length must be a positive number");return l(g(x,i),E)}H.convertLength=d;function A(x,i,E){if(i===void 0&&(i="meters"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("area must be a positive number");var m=H.areaFactors[i];if(!m)throw new Error("invalid original units");var k=H.areaFactors[E];if(!k)throw new Error("invalid final units");return x/m*k}H.convertArea=A;function w(x){return!isNaN(x)&&x!==null&&!Array.isArray(x)}H.isNumber=w;function C(x){return!!x&&x.constructor===Object}H.isObject=C;function b(x){if(!x)throw new Error("bbox is required");if(!Array.isArray(x))throw new Error("bbox must be an Array");if(x.length!==4&&x.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");x.forEach(function(i){if(!w(i))throw new Error("bbox must only contain numbers")})}H.validateBBox=b;function S(x){if(!x)throw new Error("id is required");if(["string","number"].indexOf(typeof x)===-1)throw new Error("id must be a number or a string")}H.validateId=S},60302:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var y=e(23132);function P(s,d,A){if(s!==null)for(var w,C,b,S,x,i,E,m=0,k=0,I,U=s.type,z=U==="FeatureCollection",F=U==="Feature",B=z?s.features.length:1,O=0;O<B;O++){E=z?s.features[O].geometry:F?s.geometry:s,I=E?E.type==="GeometryCollection":!1,x=I?E.geometries.length:1;for(var N=0;N<x;N++){var Y=0,$=0;if(S=I?E.geometries[N]:E,S!==null){i=S.coordinates;var te=S.type;switch(m=A&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(i,k,O,Y,$)===!1)return!1;k++,Y++;break;case"LineString":case"MultiPoint":for(w=0;w<i.length;w++){if(d(i[w],k,O,Y,$)===!1)return!1;k++,te==="MultiPoint"&&Y++}te==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(w=0;w<i.length;w++){for(C=0;C<i[w].length-m;C++){if(d(i[w][C],k,O,Y,$)===!1)return!1;k++}te==="MultiLineString"&&Y++,te==="Polygon"&&$++}te==="Polygon"&&Y++;break;case"MultiPolygon":for(w=0;w<i.length;w++){for($=0,C=0;C<i[w].length;C++){for(b=0;b<i[w][C].length-m;b++){if(d(i[w][C][b],k,O,Y,$)===!1)return!1;k++}$++}Y++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(P(S.geometries[w],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,d,A,w){var C=A;return P(s,function(b,S,x,i,E){S===0&&A===void 0?C=b:C=d(C,b,S,x,i,E)},w),C}function L(s,d){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&d(s.features[A].properties,A)!==!1;A++);break;case"Feature":d(s.properties,0);break}}function M(s,d,A){var w=A;return L(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var A=0;A<s.features.length&&d(s.features[A],A)!==!1;A++);}function p(s,d,A){var w=A;return v(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function r(s){var d=[];return P(s,function(A){d.push(A)}),d}function t(s,d){var A,w,C,b,S,x,i,E,m,k,I=0,U=s.type==="FeatureCollection",z=s.type==="Feature",F=U?s.features.length:1;for(A=0;A<F;A++){for(x=U?s.features[A].geometry:z?s.geometry:s,E=U?s.features[A].properties:z?s.properties:{},m=U?s.features[A].bbox:z?s.bbox:void 0,k=U?s.features[A].id:z?s.id:void 0,i=x?x.type==="GeometryCollection":!1,S=i?x.geometries.length:1,C=0;C<S;C++){if(b=i?x.geometries[C]:x,b===null){if(d(null,I,E,m,k)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(b,I,E,m,k)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<b.geometries.length;w++)if(d(b.geometries[w],I,E,m,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(s,d,A){var w=A;return t(s,function(C,b,S,x,i){b===0&&A===void 0?w=C:w=d(w,C,b,S,x,i)}),w}function n(s,d){t(s,function(A,w,C,b,S){var x=A===null?null:A.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(A,C,{bbox:b,id:S}),w,0)===!1?!1:void 0}var i;switch(x){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var m=A.coordinates[E],k={type:i,coordinates:m};if(d(y.feature(k,C),w,E)===!1)return!1}})}function c(s,d,A){var w=A;return n(s,function(C,b,S){b===0&&S===0&&A===void 0?w=C:w=d(w,C,b,S)}),w}function u(s,d){n(s,function(A,w,C){var b=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var x,i=0,E=0,m=0;if(P(A,function(k,I,U,z,F){if(x===void 0||w>i||z>E||F>m){x=k,i=w,E=z,m=F,b=0;return}var B=y.lineString([x,k],A.properties);if(d(B,w,C,F,b)===!1)return!1;b++,x=k})===!1)return!1}}})}function l(s,d,A){var w=A,C=!1;return u(s,function(b,S,x,i,E){C===!1&&A===void 0?w=b:w=d(w,b,S,x,i,E),C=!0}),w}function g(s,d){if(!s)throw new Error("geojson is required");n(s,function(A,w,C){if(A.geometry!==null){var b=A.geometry.type,S=A.geometry.coordinates;switch(b){case"LineString":if(d(A,w,C,0,0)===!1)return!1;break;case"Polygon":for(var x=0;x<S.length;x++)if(d(y.lineString(S[x],A.properties),w,C,x)===!1)return!1;break}}})}function f(s,d,A){var w=A;return g(s,function(C,b,S,x){b===0&&A===void 0?w=C:w=d(w,C,b,S,x)}),w}function T(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.segmentIndex||0,S=d.properties,x;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,x=s.features[A].geometry;break;case"Feature":S=S||s.properties,x=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=s;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var i=x.coordinates;switch(x.type){case"Point":case"MultiPoint":return null;case"LineString":return b<0&&(b=i.length+b-1),y.lineString([i[b],i[b+1]],S,d);case"Polygon":return C<0&&(C=i.length+C),b<0&&(b=i[C].length+b-1),y.lineString([i[C][b],i[C][b+1]],S,d);case"MultiLineString":return w<0&&(w=i.length+w),b<0&&(b=i[w].length+b-1),y.lineString([i[w][b],i[w][b+1]],S,d);case"MultiPolygon":return w<0&&(w=i.length+w),C<0&&(C=i[w].length+C),b<0&&(b=i[w][C].length-b-1),y.lineString([i[w][C][b],i[w][C][b+1]],S,d)}throw new Error("geojson is invalid")}function h(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.coordIndex||0,S=d.properties,x;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,x=s.features[A].geometry;break;case"Feature":S=S||s.properties,x=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=s;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var i=x.coordinates;switch(x.type){case"Point":return y.point(i,S,d);case"MultiPoint":return w<0&&(w=i.length+w),y.point(i[w],S,d);case"LineString":return b<0&&(b=i.length+b),y.point(i[b],S,d);case"Polygon":return C<0&&(C=i.length+C),b<0&&(b=i[C].length+b),y.point(i[C][b],S,d);case"MultiLineString":return w<0&&(w=i.length+w),b<0&&(b=i[w].length+b),y.point(i[w][b],S,d);case"MultiPolygon":return w<0&&(w=i.length+w),C<0&&(C=i[w].length+C),b<0&&(b=i[w][C].length-b),y.point(i[w][C][b],S,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=a,H.propEach=L,H.propReduce=M,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=o,H.flattenEach=n,H.flattenReduce=c,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=f,H.findSegment=T,H.findPoint=h},85268:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var y=e(27138);function P(a){var L=[1/0,1/0,-1/0,-1/0];return y.coordEach(a,function(M){L[0]>M[0]&&(L[0]=M[0]),L[1]>M[1]&&(L[1]=M[1]),L[2]<M[0]&&(L[2]=M[0]),L[3]<M[1]&&(L[3]=M[1])}),L}P.default=P,H.default=P},94228:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(x,i,E){E===void 0&&(E={});var m={type:"Feature"};return(E.id===0||E.id)&&(m.id=E.id),E.bbox&&(m.bbox=E.bbox),m.properties=i||{},m.geometry=x,m}H.feature=e;function y(x,i,E){switch(x){case"Point":return P(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return L(i).geometry;case"MultiPoint":return o(i).geometry;case"MultiLineString":return t(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(x+" is invalid")}}H.geometry=y;function P(x,i,E){if(E===void 0&&(E={}),!x)throw new Error("coordinates is required");if(!Array.isArray(x))throw new Error("coordinates must be an Array");if(x.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(x[0])||!w(x[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:x};return e(m,i,E)}H.point=P;function a(x,i,E){return E===void 0&&(E={}),r(x.map(function(m){return P(m,i)}),E)}H.points=a;function L(x,i,E){E===void 0&&(E={});for(var m=0,k=x;m<k.length;m++){var I=k[m];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<I[I.length-1].length;U++)if(I[I.length-1][U]!==I[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:x};return e(z,i,E)}H.polygon=L;function M(x,i,E){return E===void 0&&(E={}),r(x.map(function(m){return L(m,i)}),E)}H.polygons=M;function v(x,i,E){if(E===void 0&&(E={}),x.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:x};return e(m,i,E)}H.lineString=v;function p(x,i,E){return E===void 0&&(E={}),r(x.map(function(m){return v(m,i)}),E)}H.lineStrings=p;function r(x,i){i===void 0&&(i={});var E={type:"FeatureCollection"};return i.id&&(E.id=i.id),i.bbox&&(E.bbox=i.bbox),E.features=x,E}H.featureCollection=r;function t(x,i,E){E===void 0&&(E={});var m={type:"MultiLineString",coordinates:x};return e(m,i,E)}H.multiLineString=t;function o(x,i,E){E===void 0&&(E={});var m={type:"MultiPoint",coordinates:x};return e(m,i,E)}H.multiPoint=o;function n(x,i,E){E===void 0&&(E={});var m={type:"MultiPolygon",coordinates:x};return e(m,i,E)}H.multiPolygon=n;function c(x,i,E){E===void 0&&(E={});var m={type:"GeometryCollection",geometries:x};return e(m,i,E)}H.geometryCollection=c;function u(x,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,i||0);return Math.round(x*E)/E}H.round=u;function l(x,i){i===void 0&&(i="kilometers");var E=H.factors[i];if(!E)throw new Error(i+" units is invalid");return x*E}H.radiansToLength=l;function g(x,i){i===void 0&&(i="kilometers");var E=H.factors[i];if(!E)throw new Error(i+" units is invalid");return x/E}H.lengthToRadians=g;function f(x,i){return h(g(x,i))}H.lengthToDegrees=f;function T(x){var i=x%360;return i<0&&(i+=360),i}H.bearingToAzimuth=T;function h(x){var i=x%(2*Math.PI);return i*180/Math.PI}H.radiansToDegrees=h;function s(x){var i=x%360;return i*Math.PI/180}H.degreesToRadians=s;function d(x,i,E){if(i===void 0&&(i="kilometers"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("length must be a positive number");return l(g(x,i),E)}H.convertLength=d;function A(x,i,E){if(i===void 0&&(i="meters"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("area must be a positive number");var m=H.areaFactors[i];if(!m)throw new Error("invalid original units");var k=H.areaFactors[E];if(!k)throw new Error("invalid final units");return x/m*k}H.convertArea=A;function w(x){return!isNaN(x)&&x!==null&&!Array.isArray(x)}H.isNumber=w;function C(x){return!!x&&x.constructor===Object}H.isObject=C;function b(x){if(!x)throw new Error("bbox is required");if(!Array.isArray(x))throw new Error("bbox must be an Array");if(x.length!==4&&x.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");x.forEach(function(i){if(!w(i))throw new Error("bbox must only contain numbers")})}H.validateBBox=b;function S(x){if(!x)throw new Error("id is required");if(["string","number"].indexOf(typeof x)===-1)throw new Error("id must be a number or a string")}H.validateId=S},27138:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var y=e(94228);function P(s,d,A){if(s!==null)for(var w,C,b,S,x,i,E,m=0,k=0,I,U=s.type,z=U==="FeatureCollection",F=U==="Feature",B=z?s.features.length:1,O=0;O<B;O++){E=z?s.features[O].geometry:F?s.geometry:s,I=E?E.type==="GeometryCollection":!1,x=I?E.geometries.length:1;for(var N=0;N<x;N++){var Y=0,$=0;if(S=I?E.geometries[N]:E,S!==null){i=S.coordinates;var te=S.type;switch(m=A&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(i,k,O,Y,$)===!1)return!1;k++,Y++;break;case"LineString":case"MultiPoint":for(w=0;w<i.length;w++){if(d(i[w],k,O,Y,$)===!1)return!1;k++,te==="MultiPoint"&&Y++}te==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(w=0;w<i.length;w++){for(C=0;C<i[w].length-m;C++){if(d(i[w][C],k,O,Y,$)===!1)return!1;k++}te==="MultiLineString"&&Y++,te==="Polygon"&&$++}te==="Polygon"&&Y++;break;case"MultiPolygon":for(w=0;w<i.length;w++){for($=0,C=0;C<i[w].length;C++){for(b=0;b<i[w][C].length-m;b++){if(d(i[w][C][b],k,O,Y,$)===!1)return!1;k++}$++}Y++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(P(S.geometries[w],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,d,A,w){var C=A;return P(s,function(b,S,x,i,E){S===0&&A===void 0?C=b:C=d(C,b,S,x,i,E)},w),C}function L(s,d){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&d(s.features[A].properties,A)!==!1;A++);break;case"Feature":d(s.properties,0);break}}function M(s,d,A){var w=A;return L(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var A=0;A<s.features.length&&d(s.features[A],A)!==!1;A++);}function p(s,d,A){var w=A;return v(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function r(s){var d=[];return P(s,function(A){d.push(A)}),d}function t(s,d){var A,w,C,b,S,x,i,E,m,k,I=0,U=s.type==="FeatureCollection",z=s.type==="Feature",F=U?s.features.length:1;for(A=0;A<F;A++){for(x=U?s.features[A].geometry:z?s.geometry:s,E=U?s.features[A].properties:z?s.properties:{},m=U?s.features[A].bbox:z?s.bbox:void 0,k=U?s.features[A].id:z?s.id:void 0,i=x?x.type==="GeometryCollection":!1,S=i?x.geometries.length:1,C=0;C<S;C++){if(b=i?x.geometries[C]:x,b===null){if(d(null,I,E,m,k)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(b,I,E,m,k)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<b.geometries.length;w++)if(d(b.geometries[w],I,E,m,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(s,d,A){var w=A;return t(s,function(C,b,S,x,i){b===0&&A===void 0?w=C:w=d(w,C,b,S,x,i)}),w}function n(s,d){t(s,function(A,w,C,b,S){var x=A===null?null:A.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(A,C,{bbox:b,id:S}),w,0)===!1?!1:void 0}var i;switch(x){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var m=A.coordinates[E],k={type:i,coordinates:m};if(d(y.feature(k,C),w,E)===!1)return!1}})}function c(s,d,A){var w=A;return n(s,function(C,b,S){b===0&&S===0&&A===void 0?w=C:w=d(w,C,b,S)}),w}function u(s,d){n(s,function(A,w,C){var b=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var x,i=0,E=0,m=0;if(P(A,function(k,I,U,z,F){if(x===void 0||w>i||z>E||F>m){x=k,i=w,E=z,m=F,b=0;return}var B=y.lineString([x,k],A.properties);if(d(B,w,C,F,b)===!1)return!1;b++,x=k})===!1)return!1}}})}function l(s,d,A){var w=A,C=!1;return u(s,function(b,S,x,i,E){C===!1&&A===void 0?w=b:w=d(w,b,S,x,i,E),C=!0}),w}function g(s,d){if(!s)throw new Error("geojson is required");n(s,function(A,w,C){if(A.geometry!==null){var b=A.geometry.type,S=A.geometry.coordinates;switch(b){case"LineString":if(d(A,w,C,0,0)===!1)return!1;break;case"Polygon":for(var x=0;x<S.length;x++)if(d(y.lineString(S[x],A.properties),w,C,x)===!1)return!1;break}}})}function f(s,d,A){var w=A;return g(s,function(C,b,S,x){b===0&&A===void 0?w=C:w=d(w,C,b,S,x)}),w}function T(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.segmentIndex||0,S=d.properties,x;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,x=s.features[A].geometry;break;case"Feature":S=S||s.properties,x=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=s;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var i=x.coordinates;switch(x.type){case"Point":case"MultiPoint":return null;case"LineString":return b<0&&(b=i.length+b-1),y.lineString([i[b],i[b+1]],S,d);case"Polygon":return C<0&&(C=i.length+C),b<0&&(b=i[C].length+b-1),y.lineString([i[C][b],i[C][b+1]],S,d);case"MultiLineString":return w<0&&(w=i.length+w),b<0&&(b=i[w].length+b-1),y.lineString([i[w][b],i[w][b+1]],S,d);case"MultiPolygon":return w<0&&(w=i.length+w),C<0&&(C=i[w].length+C),b<0&&(b=i[w][C].length-b-1),y.lineString([i[w][C][b],i[w][C][b+1]],S,d)}throw new Error("geojson is invalid")}function h(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.coordIndex||0,S=d.properties,x;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,x=s.features[A].geometry;break;case"Feature":S=S||s.properties,x=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=s;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var i=x.coordinates;switch(x.type){case"Point":return y.point(i,S,d);case"MultiPoint":return w<0&&(w=i.length+w),y.point(i[w],S,d);case"LineString":return b<0&&(b=i.length+b),y.point(i[b],S,d);case"Polygon":return C<0&&(C=i.length+C),b<0&&(b=i[C].length+b),y.point(i[C][b],S,d);case"MultiLineString":return w<0&&(w=i.length+w),b<0&&(b=i[w].length+b),y.point(i[w][b],S,d);case"MultiPolygon":return w<0&&(w=i.length+w),C<0&&(C=i[w].length+C),b<0&&(b=i[w][C].length-b),y.point(i[w][C][b],S,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=a,H.propEach=L,H.propReduce=M,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=o,H.flattenEach=n,H.flattenReduce=c,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=f,H.findSegment=T,H.findPoint=h},29261:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var y=e(88553),P=e(64182);function a(L,M){M===void 0&&(M={});var v=0,p=0,r=0;return y.coordEach(L,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],M.properties)}H.default=a},64182:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius/1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:.91441111923921},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(z,F,B){B===void 0&&(B={});var O={type:"Feature"};return(B.id===0||B.id)&&(O.id=B.id),B.bbox&&(O.bbox=B.bbox),O.properties=F||{},O.geometry=z,O}H.feature=e;function y(z,F,B){switch(z){case"Point":return P(F).geometry;case"LineString":return v(F).geometry;case"Polygon":return L(F).geometry;case"MultiPoint":return o(F).geometry;case"MultiLineString":return t(F).geometry;case"MultiPolygon":return n(F).geometry;default:throw new Error(z+" is invalid")}}H.geometry=y;function P(z,F,B){B===void 0&&(B={});var O={type:"Point",coordinates:z};return e(O,F,B)}H.point=P;function a(z,F,B){return B===void 0&&(B={}),r(z.map(function(O){return P(O,F)}),B)}H.points=a;function L(z,F,B){B===void 0&&(B={});for(var O=0,N=z;O<N.length;O++){var Y=N[O];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var $=0;$<Y[Y.length-1].length;$++)if(Y[Y.length-1][$]!==Y[0][$])throw new Error("First and last Position are not equivalent.")}var te={type:"Polygon",coordinates:z};return e(te,F,B)}H.polygon=L;function M(z,F,B){return B===void 0&&(B={}),r(z.map(function(O){return L(O,F)}),B)}H.polygons=M;function v(z,F,B){if(B===void 0&&(B={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:z};return e(O,F,B)}H.lineString=v;function p(z,F,B){return B===void 0&&(B={}),r(z.map(function(O){return v(O,F)}),B)}H.lineStrings=p;function r(z,F){F===void 0&&(F={});var B={type:"FeatureCollection"};return F.id&&(B.id=F.id),F.bbox&&(B.bbox=F.bbox),B.features=z,B}H.featureCollection=r;function t(z,F,B){B===void 0&&(B={});var O={type:"MultiLineString",coordinates:z};return e(O,F,B)}H.multiLineString=t;function o(z,F,B){B===void 0&&(B={});var O={type:"MultiPoint",coordinates:z};return e(O,F,B)}H.multiPoint=o;function n(z,F,B){B===void 0&&(B={});var O={type:"MultiPolygon",coordinates:z};return e(O,F,B)}H.multiPolygon=n;function c(z,F,B){B===void 0&&(B={});var O={type:"GeometryCollection",geometries:z};return e(O,F,B)}H.geometryCollection=c;function u(z,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,F||0);return Math.round(z*B)/B}H.round=u;function l(z,F){F===void 0&&(F="kilometers");var B=H.factors[F];if(!B)throw new Error(F+" units is invalid");return z*B}H.radiansToLength=l;function g(z,F){F===void 0&&(F="kilometers");var B=H.factors[F];if(!B)throw new Error(F+" units is invalid");return z/B}H.lengthToRadians=g;function f(z,F){return h(g(z,F))}H.lengthToDegrees=f;function T(z){var F=z%360;return F<0&&(F+=360),F}H.bearingToAzimuth=T;function h(z){var F=z%(2*Math.PI);return F*180/Math.PI}H.radiansToDegrees=h;function s(z){var F=z%360;return F*Math.PI/180}H.degreesToRadians=s;function d(z,F,B){if(F===void 0&&(F="kilometers"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("length must be a positive number");return l(g(z,F),B)}H.convertLength=d;function A(z,F,B){if(F===void 0&&(F="meters"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("area must be a positive number");var O=H.areaFactors[F];if(!O)throw new Error("invalid original units");var N=H.areaFactors[B];if(!N)throw new Error("invalid final units");return z/O*N}H.convertArea=A;function w(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}H.isNumber=w;function C(z){return!!z&&z.constructor===Object}H.isObject=C;function b(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(F){if(!w(F))throw new Error("bbox must only contain numbers")})}H.validateBBox=b;function S(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}H.validateId=S;function x(){throw new Error("method has been renamed to `radiansToDegrees`")}H.radians2degrees=x;function i(){throw new Error("method has been renamed to `degreesToRadians`")}H.degrees2radians=i;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}H.distanceToDegrees=E;function m(){throw new Error("method has been renamed to `lengthToRadians`")}H.distanceToRadians=m;function k(){throw new Error("method has been renamed to `radiansToLength`")}H.radiansToDistance=k;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}H.bearingToAngle=I;function U(){throw new Error("method has been renamed to `convertLength`")}H.convertDistance=U},88553:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var y=e(64182);function P(s,d,A){if(s!==null)for(var w,C,b,S,x,i,E,m=0,k=0,I,U=s.type,z=U==="FeatureCollection",F=U==="Feature",B=z?s.features.length:1,O=0;O<B;O++){E=z?s.features[O].geometry:F?s.geometry:s,I=E?E.type==="GeometryCollection":!1,x=I?E.geometries.length:1;for(var N=0;N<x;N++){var Y=0,$=0;if(S=I?E.geometries[N]:E,S!==null){i=S.coordinates;var te=S.type;switch(m=A&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(i,k,O,Y,$)===!1)return!1;k++,Y++;break;case"LineString":case"MultiPoint":for(w=0;w<i.length;w++){if(d(i[w],k,O,Y,$)===!1)return!1;k++,te==="MultiPoint"&&Y++}te==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(w=0;w<i.length;w++){for(C=0;C<i[w].length-m;C++){if(d(i[w][C],k,O,Y,$)===!1)return!1;k++}te==="MultiLineString"&&Y++,te==="Polygon"&&$++}te==="Polygon"&&Y++;break;case"MultiPolygon":for(w=0;w<i.length;w++){for($=0,C=0;C<i[w].length;C++){for(b=0;b<i[w][C].length-m;b++){if(d(i[w][C][b],k,O,Y,$)===!1)return!1;k++}$++}Y++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(P(S.geometries[w],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(s,d,A,w){var C=A;return P(s,function(b,S,x,i,E){S===0&&A===void 0?C=b:C=d(C,b,S,x,i,E)},w),C}function L(s,d){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&d(s.features[A].properties,A)!==!1;A++);break;case"Feature":d(s.properties,0);break}}function M(s,d,A){var w=A;return L(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var A=0;A<s.features.length&&d(s.features[A],A)!==!1;A++);}function p(s,d,A){var w=A;return v(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function r(s){var d=[];return P(s,function(A){d.push(A)}),d}function t(s,d){var A,w,C,b,S,x,i,E,m,k,I=0,U=s.type==="FeatureCollection",z=s.type==="Feature",F=U?s.features.length:1;for(A=0;A<F;A++){for(x=U?s.features[A].geometry:z?s.geometry:s,E=U?s.features[A].properties:z?s.properties:{},m=U?s.features[A].bbox:z?s.bbox:void 0,k=U?s.features[A].id:z?s.id:void 0,i=x?x.type==="GeometryCollection":!1,S=i?x.geometries.length:1,C=0;C<S;C++){if(b=i?x.geometries[C]:x,b===null){if(d(null,I,E,m,k)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(b,I,E,m,k)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<b.geometries.length;w++)if(d(b.geometries[w],I,E,m,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(s,d,A){var w=A;return t(s,function(C,b,S,x,i){b===0&&A===void 0?w=C:w=d(w,C,b,S,x,i)}),w}function n(s,d){t(s,function(A,w,C,b,S){var x=A===null?null:A.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(A,C,{bbox:b,id:S}),w,0)===!1?!1:void 0}var i;switch(x){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var m=A.coordinates[E],k={type:i,coordinates:m};if(d(y.feature(k,C),w,E)===!1)return!1}})}function c(s,d,A){var w=A;return n(s,function(C,b,S){b===0&&S===0&&A===void 0?w=C:w=d(w,C,b,S)}),w}function u(s,d){n(s,function(A,w,C){var b=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var x,i=0,E=0,m=0;if(P(A,function(k,I,U,z,F){if(x===void 0||w>i||z>E||F>m){x=k,i=w,E=z,m=F,b=0;return}var B=y.lineString([x,k],A.properties);if(d(B,w,C,F,b)===!1)return!1;b++,x=k})===!1)return!1}}})}function l(s,d,A){var w=A,C=!1;return u(s,function(b,S,x,i,E){C===!1&&A===void 0?w=b:w=d(w,b,S,x,i,E),C=!0}),w}function g(s,d){if(!s)throw new Error("geojson is required");n(s,function(A,w,C){if(A.geometry!==null){var b=A.geometry.type,S=A.geometry.coordinates;switch(b){case"LineString":if(d(A,w,C,0,0)===!1)return!1;break;case"Polygon":for(var x=0;x<S.length;x++)if(d(y.lineString(S[x],A.properties),w,C,x)===!1)return!1;break}}})}function f(s,d,A){var w=A;return g(s,function(C,b,S,x){b===0&&A===void 0?w=C:w=d(w,C,b,S,x)}),w}function T(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.segmentIndex||0,S=d.properties,x;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,x=s.features[A].geometry;break;case"Feature":S=S||s.properties,x=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=s;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var i=x.coordinates;switch(x.type){case"Point":case"MultiPoint":return null;case"LineString":return b<0&&(b=i.length+b-1),y.lineString([i[b],i[b+1]],S,d);case"Polygon":return C<0&&(C=i.length+C),b<0&&(b=i[C].length+b-1),y.lineString([i[C][b],i[C][b+1]],S,d);case"MultiLineString":return w<0&&(w=i.length+w),b<0&&(b=i[w].length+b-1),y.lineString([i[w][b],i[w][b+1]],S,d);case"MultiPolygon":return w<0&&(w=i.length+w),C<0&&(C=i[w].length+C),b<0&&(b=i[w][C].length-b-1),y.lineString([i[w][C][b],i[w][C][b+1]],S,d)}throw new Error("geojson is invalid")}function h(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.coordIndex||0,S=d.properties,x;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,x=s.features[A].geometry;break;case"Feature":S=S||s.properties,x=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=s;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var i=x.coordinates;switch(x.type){case"Point":return y.point(i,S,d);case"MultiPoint":return w<0&&(w=i.length+w),y.point(i[w],S,d);case"LineString":return b<0&&(b=i.length+b),y.point(i[b],S,d);case"Polygon":return C<0&&(C=i.length+C),b<0&&(b=i[C].length+b),y.point(i[C][b],S,d);case"MultiLineString":return w<0&&(w=i.length+w),b<0&&(b=i[w].length+b),y.point(i[w][b],S,d);case"MultiPolygon":return w<0&&(w=i.length+w),C<0&&(C=i[w].length+C),b<0&&(b=i[w][C].length-b),y.point(i[w][C][b],S,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=a,H.propEach=L,H.propReduce=M,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=o,H.flattenEach=n,H.flattenReduce=c,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=f,H.findSegment=T,H.findPoint=h},65185:function(G){G.exports=H;function H(e){var y=0,P=0,a=0,L=0;return e.map(function(M){M=M.slice();var v=M[0],p=v.toUpperCase();if(v!=p)switch(M[0]=p,v){case"a":M[6]+=a,M[7]+=L;break;case"v":M[1]+=L;break;case"h":M[1]+=a;break;default:for(var r=1;r<M.length;)M[r++]+=a,M[r++]+=L}switch(p){case"Z":a=y,L=P;break;case"H":a=M[1];break;case"V":L=M[1];break;case"M":a=y=M[1],L=P=M[2];break;default:a=M[M.length-2],L=M[M.length-1]}return M})}},21527:function(G){G.exports=H;function H(e,y){if(!e||e.length==null)throw Error("Argument should be an array");y==null?y=1:y=Math.floor(y);for(var P=Array(y*2),a=0;a<y;a++){for(var L=-1/0,M=1/0,v=a,p=e.length;v<p;v+=y)e[v]>L&&(L=e[v]),e[v]<M&&(M=e[v]);P[a]=M,P[y+a]=L}return P}},6851:function(G){G.exports=function(H,e,y){if(typeof Array.prototype.findIndex=="function")return H.findIndex(e,y);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(H),a=P.length;if(a===0)return-1;for(var L=0;L<a;L++)if(e.call(y,P[L],L,P))return L;return-1}},54:function(G,H,e){var y=e(21527);G.exports=P;function P(a,L,M){if(!a||a.length==null)throw Error("Argument should be an array");L==null&&(L=1),M==null&&(M=y(a,L));for(var v=0;v<L;v++){var p=M[L+v],r=M[v],t=v,o=a.length;if(p===1/0&&r===-1/0)for(t=v;t<o;t+=L)a[t]=a[t]===p?1:a[t]===r?0:.5;else if(p===1/0)for(t=v;t<o;t+=L)a[t]=a[t]===p?1:0;else if(r===-1/0)for(t=v;t<o;t+=L)a[t]=a[t]===r?0:1;else{var n=p-r;for(t=v;t<o;t+=L)isNaN(a[t])||(a[t]=n===0?.5:(a[t]-r)/n)}}return a}},57471:function(G){G.exports=function(e,y){var P=typeof e=="number",a=typeof y=="number";P&&!a?(y=e,e=0):!P&&!a&&(e=0,y=0),e=e|0,y=y|0;var L=y-e;if(L<0)throw new Error("array length must be positive");for(var M=new Array(L),v=0,p=e;v<L;v++,p++)M[v]=p;return M}},32791:function(G,H,e){var y=e(90386);function P($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ie){return typeof ie}:P=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},P($)}function a($,te){if(!($ instanceof te))throw new TypeError("Cannot call a class as a function")}var L=e(79616),M=L.codes,v=M.ERR_AMBIGUOUS_ARGUMENT,p=M.ERR_INVALID_ARG_TYPE,r=M.ERR_INVALID_ARG_VALUE,t=M.ERR_INVALID_RETURN_VALUE,o=M.ERR_MISSING_ARGS,n=e(73894),c=e(43827),u=c.inspect,l=e(43827).types,g=l.isPromise,f=l.isRegExp,T=Object.assign?Object.assign:e(73523).assign,h=Object.is?Object.is:e(64003),s,d;function A(){var $=e(74061);s=$.isDeepEqual,d=$.isDeepStrictEqual}var w=!1,C=G.exports=E,b={};function S($){throw $.message instanceof Error?$.message:new n($)}function x($,te,ie,ce,J){var Z=arguments.length,ae;if(Z===0)ae="Failed";else if(Z===1)ie=$,$=void 0;else{if(w===!1){w=!0;var j=y.emitWarning?y.emitWarning:console.warn.bind(console);j("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(ce="!=")}if(ie instanceof Error)throw ie;var q={actual:$,expected:te,operator:ce===void 0?"fail":ce,stackStartFn:J||x};ie!==void 0&&(q.message=ie);var oe=new n(q);throw ae&&(oe.message=ae,oe.generatedMessage=!0),oe}C.fail=x,C.AssertionError=n;function i($,te,ie,ce){if(!ie){var J=!1;if(te===0)J=!0,ce="No value argument passed to `assert.ok()`";else if(ce instanceof Error)throw ce;var Z=new n({actual:ie,expected:!0,message:ce,operator:"==",stackStartFn:$});throw Z.generatedMessage=J,Z}}function E(){for(var $=arguments.length,te=new Array($),ie=0;ie<$;ie++)te[ie]=arguments[ie];i.apply(void 0,[E,te.length].concat(te))}C.ok=E,C.equal=function $(te,ie,ce){if(arguments.length<2)throw new o("actual","expected");te!=ie&&S({actual:te,expected:ie,message:ce,operator:"==",stackStartFn:$})},C.notEqual=function $(te,ie,ce){if(arguments.length<2)throw new o("actual","expected");te==ie&&S({actual:te,expected:ie,message:ce,operator:"!=",stackStartFn:$})},C.deepEqual=function $(te,ie,ce){if(arguments.length<2)throw new o("actual","expected");s===void 0&&A(),s(te,ie)||S({actual:te,expected:ie,message:ce,operator:"deepEqual",stackStartFn:$})},C.notDeepEqual=function $(te,ie,ce){if(arguments.length<2)throw new o("actual","expected");s===void 0&&A(),s(te,ie)&&S({actual:te,expected:ie,message:ce,operator:"notDeepEqual",stackStartFn:$})},C.deepStrictEqual=function $(te,ie,ce){if(arguments.length<2)throw new o("actual","expected");s===void 0&&A(),d(te,ie)||S({actual:te,expected:ie,message:ce,operator:"deepStrictEqual",stackStartFn:$})},C.notDeepStrictEqual=m;function m($,te,ie){if(arguments.length<2)throw new o("actual","expected");s===void 0&&A(),d($,te)&&S({actual:$,expected:te,message:ie,operator:"notDeepStrictEqual",stackStartFn:m})}C.strictEqual=function $(te,ie,ce){if(arguments.length<2)throw new o("actual","expected");h(te,ie)||S({actual:te,expected:ie,message:ce,operator:"strictEqual",stackStartFn:$})},C.notStrictEqual=function $(te,ie,ce){if(arguments.length<2)throw new o("actual","expected");h(te,ie)&&S({actual:te,expected:ie,message:ce,operator:"notStrictEqual",stackStartFn:$})};var k=function $(te,ie,ce){var J=this;a(this,$),ie.forEach(function(Z){Z in te&&(ce!==void 0&&typeof ce[Z]=="string"&&f(te[Z])&&te[Z].test(ce[Z])?J[Z]=ce[Z]:J[Z]=te[Z])})};function I($,te,ie,ce,J,Z){if(!(ie in $)||!d($[ie],te[ie])){if(!ce){var ae=new k($,J),j=new k(te,J,$),q=new n({actual:ae,expected:j,operator:"deepStrictEqual",stackStartFn:Z});throw q.actual=$,q.expected=te,q.operator=Z.name,q}S({actual:$,expected:te,message:ce,operator:Z.name,stackStartFn:Z})}}function U($,te,ie,ce){if(typeof te!="function"){if(f(te))return te.test($);if(arguments.length===2)throw new p("expected",["Function","RegExp"],te);if(P($)!=="object"||$===null){var J=new n({actual:$,expected:te,message:ie,operator:"deepStrictEqual",stackStartFn:ce});throw J.operator=ce.name,J}var Z=Object.keys(te);if(te instanceof Error)Z.push("name","message");else if(Z.length===0)throw new r("error",te,"may not be an empty object");return s===void 0&&A(),Z.forEach(function(ae){typeof $[ae]=="string"&&f(te[ae])&&te[ae].test($[ae])||I($,te,ae,ie,Z,ce)}),!0}return te.prototype!==void 0&&$ instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},$)===!0}function z($){if(typeof $!="function")throw new p("fn","Function",$);try{$()}catch(te){return te}return b}function F($){return g($)||$!==null&&P($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function B($){return Promise.resolve().then(function(){var te;if(typeof $=="function"){if(te=$(),!F(te))throw new t("instance of Promise","promiseFn",te)}else if(F($))te=$;else throw new p("promiseFn",["Function","Promise"],$);return Promise.resolve().then(function(){return te}).then(function(){return b}).catch(function(ie){return ie})})}function O($,te,ie,ce){if(typeof ie=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ie);if(P(te)==="object"&&te!==null){if(te.message===ie)throw new v("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ie)throw new v("error/message",'The error "'.concat(te,'" is identical to the message.'));ce=ie,ie=void 0}else if(ie!=null&&P(ie)!=="object"&&typeof ie!="function")throw new p("error",["Object","Error","Function","RegExp"],ie);if(te===b){var J="";ie&&ie.name&&(J+=" (".concat(ie.name,")")),J+=ce?": ".concat(ce):".";var Z=$.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:ie,operator:$.name,message:"Missing expected ".concat(Z).concat(J),stackStartFn:$})}if(ie&&!U(te,ie,ce,$))throw te}function N($,te,ie,ce){if(te!==b){if(typeof ie=="string"&&(ce=ie,ie=void 0),!ie||U(te,ie)){var J=ce?": ".concat(ce):".",Z=$.name==="doesNotReject"?"rejection":"exception";S({actual:te,expected:ie,operator:$.name,message:"Got unwanted ".concat(Z).concat(J,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:$})}throw te}}C.throws=function $(te){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ce[J-1]=arguments[J];O.apply(void 0,[$,z(te)].concat(ce))},C.rejects=function $(te){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ce[J-1]=arguments[J];return B(te).then(function(Z){return O.apply(void 0,[$,Z].concat(ce))})},C.doesNotThrow=function $(te){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ce[J-1]=arguments[J];N.apply(void 0,[$,z(te)].concat(ce))},C.doesNotReject=function $(te){for(var ie=arguments.length,ce=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ce[J-1]=arguments[J];return B(te).then(function(Z){return N.apply(void 0,[$,Z].concat(ce))})},C.ifError=function $(te){if(te!=null){var ie="ifError got unwanted exception: ";P(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ie+=te.constructor.name:ie+=te.message:ie+=u(te);var ce=new n({actual:te,expected:null,operator:"ifError",message:ie,stackStartFn:$}),J=te.stack;if(typeof J=="string"){var Z=J.split(`
`);Z.shift();for(var ae=ce.stack.split(`
`),j=0;j<Z.length;j++){var q=ae.indexOf(Z[j]);if(q!==-1){ae=ae.slice(0,q);break}}ce.stack="".concat(ae.join(`
`),`
`).concat(Z.join(`
`))}throw ce}};function Y(){for(var $=arguments.length,te=new Array($),ie=0;ie<$;ie++)te[ie]=arguments[ie];i.apply(void 0,[Y,te.length].concat(te))}C.strict=T(Y,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},73894:function(G,H,e){var y=e(90386);function P(z){for(var F=1;F<arguments.length;F++){var B=arguments[F]!=null?arguments[F]:{},O=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(B).filter(function(N){return Object.getOwnPropertyDescriptor(B,N).enumerable}))),O.forEach(function(N){a(z,N,B[N])})}return z}function a(z,F,B){return F in z?Object.defineProperty(z,F,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[F]=B,z}function L(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}function M(z,F){for(var B=0;B<F.length;B++){var O=F[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(z,O.key,O)}}function v(z,F,B){return F&&M(z.prototype,F),B&&M(z,B),z}function p(z,F){return F&&(f(F)==="object"||typeof F=="function")?F:r(z)}function r(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function t(z,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(F&&F.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),F&&l(z,F)}function o(z){var F=typeof Map=="function"?new Map:void 0;return o=function(O){if(O===null||!u(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof F<"u"){if(F.has(O))return F.get(O);F.set(O,N)}function N(){return c(O,arguments,g(this).constructor)}return N.prototype=Object.create(O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),l(N,O)},o(z)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function c(z,F,B){return n()?c=Reflect.construct:c=function(N,Y,$){var te=[null];te.push.apply(te,Y);var ie=Function.bind.apply(N,te),ce=new ie;return $&&l(ce,$.prototype),ce},c.apply(null,arguments)}function u(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function l(z,F){return l=Object.setPrototypeOf||function(O,N){return O.__proto__=N,O},l(z,F)}function g(z){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},g(z)}function f(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(B){return typeof B}:f=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},f(z)}var T=e(43827),h=T.inspect,s=e(79616),d=s.codes.ERR_INVALID_ARG_TYPE;function A(z,F,B){return(B===void 0||B>z.length)&&(B=z.length),z.substring(B-F.length,B)===F}function w(z,F){if(F=Math.floor(F),z.length==0||F==0)return"";var B=z.length*F;for(F=Math.floor(Math.log(F)/Math.log(2));F;)z+=z,F--;return z+=z.substring(0,B-z.length),z}var C="",b="",S="",x="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function m(z){var F=Object.keys(z),B=Object.create(Object.getPrototypeOf(z));return F.forEach(function(O){B[O]=z[O]}),Object.defineProperty(B,"message",{value:z.message}),B}function k(z){return h(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(z,F,B){var O="",N="",Y=0,$="",te=!1,ie=k(z),ce=ie.split(`
`),J=k(F).split(`
`),Z=0,ae="";if(B==="strictEqual"&&f(z)==="object"&&f(F)==="object"&&z!==null&&F!==null&&(B="strictEqualObject"),ce.length===1&&J.length===1&&ce[0]!==J[0]){var j=ce[0].length+J[0].length;if(j<=E){if((f(z)!=="object"||z===null)&&(f(F)!=="object"||F===null)&&(z!==0||F!==0))return"".concat(i[B],`

`)+"".concat(ce[0]," !== ").concat(J[0],`
`)}else if(B!=="strictEqualObject"){var q=y.stderr&&y.stderr.isTTY?y.stderr.columns:80;if(j<q){for(;ce[0][Z]===J[0][Z];)Z++;Z>2&&(ae=`
  `.concat(w(" ",Z),"^"),Z=0)}}}for(var oe=ce[ce.length-1],Q=J[J.length-1];oe===Q&&(Z++<2?$=`
  `.concat(oe).concat($):O=oe,ce.pop(),J.pop(),!(ce.length===0||J.length===0));)oe=ce[ce.length-1],Q=J[J.length-1];var K=Math.max(ce.length,J.length);if(K===0){var se=ie.split(`
`);if(se.length>30)for(se[26]="".concat(C,"...").concat(x);se.length>27;)se.pop();return"".concat(i.notIdentical,`

`).concat(se.join(`
`),`
`)}Z>3&&($=`
`.concat(C,"...").concat(x).concat($),te=!0),O!==""&&($=`
  `.concat(O).concat($),O="");var ne=0,fe=i[B]+`
`.concat(b,"+ actual").concat(x," ").concat(S,"- expected").concat(x),ye=" ".concat(C,"...").concat(x," Lines skipped");for(Z=0;Z<K;Z++){var Ee=Z-Y;if(ce.length<Z+1)Ee>1&&Z>2&&(Ee>4?(N+=`
`.concat(C,"...").concat(x),te=!0):Ee>3&&(N+=`
  `.concat(J[Z-2]),ne++),N+=`
  `.concat(J[Z-1]),ne++),Y=Z,O+=`
`.concat(S,"-").concat(x," ").concat(J[Z]),ne++;else if(J.length<Z+1)Ee>1&&Z>2&&(Ee>4?(N+=`
`.concat(C,"...").concat(x),te=!0):Ee>3&&(N+=`
  `.concat(ce[Z-2]),ne++),N+=`
  `.concat(ce[Z-1]),ne++),Y=Z,N+=`
`.concat(b,"+").concat(x," ").concat(ce[Z]),ne++;else{var Te=J[Z],ze=ce[Z],ke=ze!==Te&&(!A(ze,",")||ze.slice(0,-1)!==Te);ke&&A(Te,",")&&Te.slice(0,-1)===ze&&(ke=!1,ze+=","),ke?(Ee>1&&Z>2&&(Ee>4?(N+=`
`.concat(C,"...").concat(x),te=!0):Ee>3&&(N+=`
  `.concat(ce[Z-2]),ne++),N+=`
  `.concat(ce[Z-1]),ne++),Y=Z,N+=`
`.concat(b,"+").concat(x," ").concat(ze),O+=`
`.concat(S,"-").concat(x," ").concat(Te),ne+=2):(N+=O,O="",(Ee===1||Z===0)&&(N+=`
  `.concat(ze),ne++))}if(ne>20&&Z<K-2)return"".concat(fe).concat(ye,`
`).concat(N,`
`).concat(C,"...").concat(x).concat(O,`
`)+"".concat(C,"...").concat(x)}return"".concat(fe).concat(te?ye:"",`
`).concat(N).concat(O).concat($).concat(ae)}var U=function(z){t(F,z);function F(B){var O;if(L(this,F),f(B)!=="object"||B===null)throw new d("options","Object",B);var N=B.message,Y=B.operator,$=B.stackStartFn,te=B.actual,ie=B.expected,ce=Error.stackTraceLimit;if(Error.stackTraceLimit=0,N!=null)O=p(this,g(F).call(this,String(N)));else if(y.stderr&&y.stderr.isTTY&&(y.stderr&&y.stderr.getColorDepth&&y.stderr.getColorDepth()!==1?(C="\x1B[34m",b="\x1B[32m",x="\x1B[39m",S="\x1B[31m"):(C="",b="",x="",S="")),f(te)==="object"&&te!==null&&f(ie)==="object"&&ie!==null&&"stack"in te&&te instanceof Error&&"stack"in ie&&ie instanceof Error&&(te=m(te),ie=m(ie)),Y==="deepStrictEqual"||Y==="strictEqual")O=p(this,g(F).call(this,I(te,ie,Y)));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var J=i[Y],Z=k(te).split(`
`);if(Y==="notStrictEqual"&&f(te)==="object"&&te!==null&&(J=i.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(C,"...").concat(x);Z.length>27;)Z.pop();Z.length===1?O=p(this,g(F).call(this,"".concat(J," ").concat(Z[0]))):O=p(this,g(F).call(this,"".concat(J,`

`).concat(Z.join(`
`),`
`)))}else{var ae=k(te),j="",q=i[Y];Y==="notDeepEqual"||Y==="notEqual"?(ae="".concat(i[Y],`

`).concat(ae),ae.length>1024&&(ae="".concat(ae.slice(0,1021),"..."))):(j="".concat(k(ie)),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),j.length>512&&(j="".concat(j.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?ae="".concat(q,`

`).concat(ae,`

should equal

`):j=" ".concat(Y," ").concat(j)),O=p(this,g(F).call(this,"".concat(ae).concat(j)))}return Error.stackTraceLimit=ce,O.generatedMessage=!N,Object.defineProperty(r(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=te,O.expected=ie,O.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(r(O),$),O.stack,O.name="AssertionError",p(O)}return v(F,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(O,N){return h(this,P({},N,{customInspect:!1,depth:0}))}}]),F}(o(Error));G.exports=U},79616:function(G,H,e){function y(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(h){return typeof h}:y=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},y(f)}function P(f,T){if(!(f instanceof T))throw new TypeError("Cannot call a class as a function")}function a(f,T){return T&&(y(T)==="object"||typeof T=="function")?T:L(f)}function L(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function M(f){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},M(f)}function v(f,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(T&&T.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),T&&p(f,T)}function p(f,T){return p=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},p(f,T)}var r={},t,o;function n(f,T,h){h||(h=Error);function s(A,w,C){return typeof T=="string"?T:T(A,w,C)}var d=function(A){v(w,A);function w(C,b,S){var x;return P(this,w),x=a(this,M(w).call(this,s(C,b,S))),x.code=f,x}return w}(h);r[f]=d}function c(f,T){if(Array.isArray(f)){var h=f.length;return f=f.map(function(s){return String(s)}),h>2?"one of ".concat(T," ").concat(f.slice(0,h-1).join(", "),", or ")+f[h-1]:h===2?"one of ".concat(T," ").concat(f[0]," or ").concat(f[1]):"of ".concat(T," ").concat(f[0])}else return"of ".concat(T," ").concat(String(f))}function u(f,T,h){return f.substr(!h||h<0?0:+h,T.length)===T}function l(f,T,h){return(h===void 0||h>f.length)&&(h=f.length),f.substring(h-T.length,h)===T}function g(f,T,h){return typeof h!="number"&&(h=0),h+T.length>f.length?!1:f.indexOf(T,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(f,T,h){t===void 0&&(t=e(32791)),t(typeof f=="string","'name' must be a string");var s;typeof T=="string"&&u(T,"not ")?(s="must not be",T=T.replace(/^not /,"")):s="must be";var d;if(l(f," argument"))d="The ".concat(f," ").concat(s," ").concat(c(T,"type"));else{var A=g(f,".")?"property":"argument";d='The "'.concat(f,'" ').concat(A," ").concat(s," ").concat(c(T,"type"))}return d+=". Received type ".concat(y(h)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(f,T){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";o===void 0&&(o=e(43827));var s=o.inspect(T);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(f,"' ").concat(h,". Received ").concat(s)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(f,T,h){var s;return h&&h.constructor&&h.constructor.name?s="instance of ".concat(h.constructor.name):s="type ".concat(y(h)),"Expected ".concat(f,' to be returned from the "').concat(T,'"')+" function but got ".concat(s,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var f=arguments.length,T=new Array(f),h=0;h<f;h++)T[h]=arguments[h];t===void 0&&(t=e(32791)),t(T.length>0,"At least one arg needs to be specified");var s="The ",d=T.length;switch(T=T.map(function(A){return'"'.concat(A,'"')}),d){case 1:s+="".concat(T[0]," argument");break;case 2:s+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:s+=T.slice(0,d-1).join(", "),s+=", and ".concat(T[d-1]," arguments");break}return"".concat(s," must be specified")},TypeError),G.exports.codes=r},74061:function(G,H,e){function y(Se,me){return L(Se)||a(Se,me)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Se,me){var Ce=[],Ne=!0,He=!1,De=void 0;try{for(var Ve=Se[Symbol.iterator](),at;!(Ne=(at=Ve.next()).done)&&(Ce.push(at.value),!(me&&Ce.length===me));Ne=!0);}catch(lt){He=!0,De=lt}finally{try{!Ne&&Ve.return!=null&&Ve.return()}finally{if(He)throw De}}return Ce}function L(Se){if(Array.isArray(Se))return Se}function M(Se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(Ce){return typeof Ce}:M=function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},M(Se)}var v=/a/g.flags!==void 0,p=function(me){var Ce=[];return me.forEach(function(Ne){return Ce.push(Ne)}),Ce},r=function(me){var Ce=[];return me.forEach(function(Ne,He){return Ce.push([He,Ne])}),Ce},t=Object.is?Object.is:e(64003),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function c(Se){return Se.call.bind(Se)}var u=c(Object.prototype.hasOwnProperty),l=c(Object.prototype.propertyIsEnumerable),g=c(Object.prototype.toString),f=e(43827).types,T=f.isAnyArrayBuffer,h=f.isArrayBufferView,s=f.isDate,d=f.isMap,A=f.isRegExp,w=f.isSet,C=f.isNativeError,b=f.isBoxedPrimitive,S=f.isNumberObject,x=f.isStringObject,i=f.isBooleanObject,E=f.isBigIntObject,m=f.isSymbolObject,k=f.isFloat32Array,I=f.isFloat64Array;function U(Se){if(Se.length===0||Se.length>10)return!0;for(var me=0;me<Se.length;me++){var Ce=Se.charCodeAt(me);if(Ce<48||Ce>57)return!0}return Se.length===10&&Se>=Math.pow(2,32)}function z(Se){return Object.keys(Se).filter(U).concat(o(Se).filter(Object.prototype.propertyIsEnumerable.bind(Se)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function F(Se,me){if(Se===me)return 0;for(var Ce=Se.length,Ne=me.length,He=0,De=Math.min(Ce,Ne);He<De;++He)if(Se[He]!==me[He]){Ce=Se[He],Ne=me[He];break}return Ce<Ne?-1:Ne<Ce?1:0}var B=!0,O=!1,N=0,Y=1,$=2,te=3;function ie(Se,me){return v?Se.source===me.source&&Se.flags===me.flags:RegExp.prototype.toString.call(Se)===RegExp.prototype.toString.call(me)}function ce(Se,me){if(Se.byteLength!==me.byteLength)return!1;for(var Ce=0;Ce<Se.byteLength;Ce++)if(Se[Ce]!==me[Ce])return!1;return!0}function J(Se,me){return Se.byteLength!==me.byteLength?!1:F(new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength),new Uint8Array(me.buffer,me.byteOffset,me.byteLength))===0}function Z(Se,me){return Se.byteLength===me.byteLength&&F(new Uint8Array(Se),new Uint8Array(me))===0}function ae(Se,me){return S(Se)?S(me)&&t(Number.prototype.valueOf.call(Se),Number.prototype.valueOf.call(me)):x(Se)?x(me)&&String.prototype.valueOf.call(Se)===String.prototype.valueOf.call(me):i(Se)?i(me)&&Boolean.prototype.valueOf.call(Se)===Boolean.prototype.valueOf.call(me):E(Se)?E(me)&&BigInt.prototype.valueOf.call(Se)===BigInt.prototype.valueOf.call(me):m(me)&&Symbol.prototype.valueOf.call(Se)===Symbol.prototype.valueOf.call(me)}function j(Se,me,Ce,Ne){if(Se===me)return Se!==0?!0:Ce?t(Se,me):!0;if(Ce){if(M(Se)!=="object")return typeof Se=="number"&&n(Se)&&n(me);if(M(me)!=="object"||Se===null||me===null||Object.getPrototypeOf(Se)!==Object.getPrototypeOf(me))return!1}else{if(Se===null||M(Se)!=="object")return me===null||M(me)!=="object"?Se==me:!1;if(me===null||M(me)!=="object")return!1}var He=g(Se),De=g(me);if(He!==De)return!1;if(Array.isArray(Se)){if(Se.length!==me.length)return!1;var Ve=z(Se),at=z(me);return Ve.length!==at.length?!1:oe(Se,me,Ce,Ne,Y,Ve)}if(He==="[object Object]"&&(!d(Se)&&d(me)||!w(Se)&&w(me)))return!1;if(s(Se)){if(!s(me)||Date.prototype.getTime.call(Se)!==Date.prototype.getTime.call(me))return!1}else if(A(Se)){if(!A(me)||!ie(Se,me))return!1}else if(C(Se)||Se instanceof Error){if(Se.message!==me.message||Se.name!==me.name)return!1}else if(h(Se)){if(!Ce&&(k(Se)||I(Se))){if(!ce(Se,me))return!1}else if(!J(Se,me))return!1;var lt=z(Se),$e=z(me);return lt.length!==$e.length?!1:oe(Se,me,Ce,Ne,N,lt)}else{if(w(Se))return!w(me)||Se.size!==me.size?!1:oe(Se,me,Ce,Ne,$);if(d(Se))return!d(me)||Se.size!==me.size?!1:oe(Se,me,Ce,Ne,te);if(T(Se)){if(!Z(Se,me))return!1}else if(b(Se)&&!ae(Se,me))return!1}return oe(Se,me,Ce,Ne,N)}function q(Se,me){return me.filter(function(Ce){return l(Se,Ce)})}function oe(Se,me,Ce,Ne,He,De){if(arguments.length===5){De=Object.keys(Se);var Ve=Object.keys(me);if(De.length!==Ve.length)return!1}for(var at=0;at<De.length;at++)if(!u(me,De[at]))return!1;if(Ce&&arguments.length===5){var lt=o(Se);if(lt.length!==0){var $e=0;for(at=0;at<lt.length;at++){var et=lt[at];if(l(Se,et)){if(!l(me,et))return!1;De.push(et),$e++}else if(l(me,et))return!1}var ct=o(me);if(lt.length!==ct.length&&q(me,ct).length!==$e)return!1}else{var dt=o(me);if(dt.length!==0&&q(me,dt).length!==0)return!1}}if(De.length===0&&(He===N||He===Y&&Se.length===0||Se.size===0))return!0;if(Ne===void 0)Ne={val1:new Map,val2:new Map,position:0};else{var gt=Ne.val1.get(Se);if(gt!==void 0){var At=Ne.val2.get(me);if(At!==void 0)return gt===At}Ne.position++}Ne.val1.set(Se,Ne.position),Ne.val2.set(me,Ne.position);var Rt=Te(Se,me,Ce,De,Ne,He);return Ne.val1.delete(Se),Ne.val2.delete(me),Rt}function Q(Se,me,Ce,Ne){for(var He=p(Se),De=0;De<He.length;De++){var Ve=He[De];if(j(me,Ve,Ce,Ne))return Se.delete(Ve),!0}return!1}function K(Se){switch(M(Se)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Se=+Se;case"number":if(n(Se))return!1}return!0}function se(Se,me,Ce){var Ne=K(Ce);return Ne??(me.has(Ne)&&!Se.has(Ne))}function ne(Se,me,Ce,Ne,He){var De=K(Ce);if(De!=null)return De;var Ve=me.get(De);return Ve===void 0&&!me.has(De)||!j(Ne,Ve,!1,He)?!1:!Se.has(De)&&j(Ne,Ve,!1,He)}function fe(Se,me,Ce,Ne){for(var He=null,De=p(Se),Ve=0;Ve<De.length;Ve++){var at=De[Ve];if(M(at)==="object"&&at!==null)He===null&&(He=new Set),He.add(at);else if(!me.has(at)){if(Ce||!se(Se,me,at))return!1;He===null&&(He=new Set),He.add(at)}}if(He!==null){for(var lt=p(me),$e=0;$e<lt.length;$e++){var et=lt[$e];if(M(et)==="object"&&et!==null){if(!Q(He,et,Ce,Ne))return!1}else if(!Ce&&!Se.has(et)&&!Q(He,et,Ce,Ne))return!1}return He.size===0}return!0}function ye(Se,me,Ce,Ne,He,De){for(var Ve=p(Se),at=0;at<Ve.length;at++){var lt=Ve[at];if(j(Ce,lt,He,De)&&j(Ne,me.get(lt),He,De))return Se.delete(lt),!0}return!1}function Ee(Se,me,Ce,Ne){for(var He=null,De=r(Se),Ve=0;Ve<De.length;Ve++){var at=y(De[Ve],2),lt=at[0],$e=at[1];if(M(lt)==="object"&&lt!==null)He===null&&(He=new Set),He.add(lt);else{var et=me.get(lt);if(et===void 0&&!me.has(lt)||!j($e,et,Ce,Ne)){if(Ce||!ne(Se,me,lt,$e,Ne))return!1;He===null&&(He=new Set),He.add(lt)}}}if(He!==null){for(var ct=r(me),dt=0;dt<ct.length;dt++){var gt=y(ct[dt],2),lt=gt[0],At=gt[1];if(M(lt)==="object"&&lt!==null){if(!ye(He,Se,lt,At,Ce,Ne))return!1}else if(!Ce&&(!Se.has(lt)||!j(Se.get(lt),At,!1,Ne))&&!ye(He,Se,lt,At,!1,Ne))return!1}return He.size===0}return!0}function Te(Se,me,Ce,Ne,He,De){var Ve=0;if(De===$){if(!fe(Se,me,Ce,He))return!1}else if(De===te){if(!Ee(Se,me,Ce,He))return!1}else if(De===Y)for(;Ve<Se.length;Ve++)if(u(Se,Ve)){if(!u(me,Ve)||!j(Se[Ve],me[Ve],Ce,He))return!1}else{if(u(me,Ve))return!1;for(var at=Object.keys(Se);Ve<at.length;Ve++){var lt=at[Ve];if(!u(me,lt)||!j(Se[lt],me[lt],Ce,He))return!1}return at.length===Object.keys(me).length}for(Ve=0;Ve<Ne.length;Ve++){var $e=Ne[Ve];if(!j(Se[$e],me[$e],Ce,He))return!1}return!0}function ze(Se,me){return j(Se,me,O)}function ke(Se,me){return j(Se,me,B)}G.exports={isDeepEqual:ze,isDeepStrictEqual:ke}},11631:function(G,H,e){e.r(H),e.d(H,{decode:function(){return M},encode:function(){return L}});for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<y.length;a++)P[y.charCodeAt(a)]=a;var L=function(v){var p=new Uint8Array(v),r,t=p.length,o="";for(r=0;r<t;r+=3)o+=y[p[r]>>2],o+=y[(p[r]&3)<<4|p[r+1]>>4],o+=y[(p[r+1]&15)<<2|p[r+2]>>6],o+=y[p[r+2]&63];return t%3===2?o=o.substring(0,o.length-1)+"=":t%3===1&&(o=o.substring(0,o.length-2)+"=="),o},M=function(v){var p=v.length*.75,r=v.length,t,o=0,n,c,u,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var g=new ArrayBuffer(p),f=new Uint8Array(g);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],c=P[v.charCodeAt(t+1)],u=P[v.charCodeAt(t+2)],l=P[v.charCodeAt(t+3)],f[o++]=n<<2|c>>4,f[o++]=(c&15)<<4|u>>2,f[o++]=(u&3)<<6|l&63;return g}},95341:function(G,H){H.byteLength=p,H.toByteArray=t,H.fromByteArray=c;for(var e=[],y=[],P=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,M=a.length;L<M;++L)e[L]=a[L],y[a.charCodeAt(L)]=L;y[45]=62,y[95]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=u.indexOf("=");g===-1&&(g=l);var f=g===l?0:4-g%4;return[g,f]}function p(u){var l=v(u),g=l[0],f=l[1];return(g+f)*3/4-f}function r(u,l,g){return(l+g)*3/4-g}function t(u){var l,g=v(u),f=g[0],T=g[1],h=new P(r(u,f,T)),s=0,d=T>0?f-4:f,A;for(A=0;A<d;A+=4)l=y[u.charCodeAt(A)]<<18|y[u.charCodeAt(A+1)]<<12|y[u.charCodeAt(A+2)]<<6|y[u.charCodeAt(A+3)],h[s++]=l>>16&255,h[s++]=l>>8&255,h[s++]=l&255;return T===2&&(l=y[u.charCodeAt(A)]<<2|y[u.charCodeAt(A+1)]>>4,h[s++]=l&255),T===1&&(l=y[u.charCodeAt(A)]<<10|y[u.charCodeAt(A+1)]<<4|y[u.charCodeAt(A+2)]>>2,h[s++]=l>>8&255,h[s++]=l&255),h}function o(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,g){for(var f,T=[],h=l;h<g;h+=3)f=(u[h]<<16&16711680)+(u[h+1]<<8&65280)+(u[h+2]&255),T.push(o(f));return T.join("")}function c(u){for(var l,g=u.length,f=g%3,T=[],h=16383,s=0,d=g-f;s<d;s+=h)T.push(n(u,s,s+h>d?d:s+h));return f===1?(l=u[g-1],T.push(e[l>>2]+e[l<<4&63]+"==")):f===2&&(l=(u[g-2]<<8)+u[g-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},91358:function(G){function H(M,v,p,r,t){for(var o=t+1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u>=0?(o=n,t=n-1):r=n+1}return o}function e(M,v,p,r,t){for(var o=t+1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u>0?(o=n,t=n-1):r=n+1}return o}function y(M,v,p,r,t){for(var o=r-1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u<0?(o=n,r=n+1):t=n-1}return o}function P(M,v,p,r,t){for(var o=r-1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u<=0?(o=n,r=n+1):t=n-1}return o}function a(M,v,p,r,t){for(;r<=t;){var o=r+t>>>1,n=M[o],c=p!==void 0?p(n,v):n-v;if(c===0)return o;c<=0?r=o+1:t=o-1}return-1}function L(M,v,p,r,t,o){return typeof p=="function"?o(M,v,p,r===void 0?0:r|0,t===void 0?M.length-1:t|0):o(M,v,void 0,p===void 0?0:p|0,r===void 0?M.length-1:r|0)}G.exports={ge:function(M,v,p,r,t){return L(M,v,p,r,t,H)},gt:function(M,v,p,r,t){return L(M,v,p,r,t,e)},lt:function(M,v,p,r,t){return L(M,v,p,r,t,y)},le:function(M,v,p,r,t){return L(M,v,p,r,t,P)},eq:function(M,v,p,r,t){return L(M,v,p,r,t,a)}}},13547:function(G,H){"use restrict";var e=32;H.INT_BITS=e,H.INT_MAX=2147483647,H.INT_MIN=-1<<e-1,H.sign=function(a){return(a>0)-(a<0)},H.abs=function(a){var L=a>>e-1;return(a^L)-L},H.min=function(a,L){return L^(a^L)&-(a<L)},H.max=function(a,L){return a^(a^L)&-(a<L)},H.isPow2=function(a){return!(a&a-1)&&!!a},H.log2=function(a){var L,M;return L=(a>65535)<<4,a>>>=L,M=(a>255)<<3,a>>>=M,L|=M,M=(a>15)<<2,a>>>=M,L|=M,M=(a>3)<<1,a>>>=M,L|=M,L|a>>1},H.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},H.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function y(a){var L=32;return a&=-a,a&&L--,a&65535&&(L-=16),a&16711935&&(L-=8),a&252645135&&(L-=4),a&858993459&&(L-=2),a&1431655765&&(L-=1),L}H.countTrailingZeros=y,H.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},H.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},H.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var P=new Array(256);(function(a){for(var L=0;L<256;++L){var M=L,v=L,p=7;for(M>>>=1;M;M>>>=1)v<<=1,v|=M&1,--p;a[L]=v<<p&255}})(P),H.reverse=function(a){return P[a&255]<<24|P[a>>>8&255]<<16|P[a>>>16&255]<<8|P[a>>>24&255]},H.interleave2=function(a,L){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,a|L<<1},H.deinterleave2=function(a,L){return a=a>>>L&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},H.interleave3=function(a,L,M){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,a|=L<<1,M&=1023,M=(M|M<<16)&4278190335,M=(M|M<<8)&251719695,M=(M|M<<4)&3272356035,M=(M|M<<2)&1227133513,a|M<<2},H.deinterleave3=function(a,L){return a=a>>>L&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},H.nextCombination=function(a){var L=a|a-1;return L+1|(~L&-~L)-1>>>y(a)+1}},44781:function(G,H,e){var y=e(53435);G.exports=a;var P=1e20;function a(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,o=p.channel||0,n,c,u,l,g,f,T,h,s,d,A;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,c=p.height,l=v,p.stride?f=p.stride:f=Math.floor(v.length/n/c)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,T=h.getContext("2d"),n=h.width,c=h.height,s=T.getImageData(0,0,n,c),l=s.data,f=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,T=v,n=h.width,c=h.height,s=T.getImageData(0,0,n,c),l=s.data,f=4):window.ImageData&&v instanceof window.ImageData&&(s=v,n=v.width,c=v.height,l=s.data,f=4);if(u=Math.max(n,c),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(g=l,l=Array(n*c),d=0,A=g.length;d<A;d++)l[d]=g[d*f+o]/255;else if(f!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*c),C=Array(n*c),b=Array(u),S=Array(u),x=Array(u+1),i=Array(u);for(d=0,A=n*c;d<A;d++){var E=l[d];w[d]=E===1?0:E===0?P:Math.pow(Math.max(0,.5-E),2),C[d]=E===1?P:E===0?0:Math.pow(Math.max(0,E-.5),2)}L(w,n,c,b,S,i,x),L(C,n,c,b,S,i,x);var m=window.Float32Array?new Float32Array(n*c):new Array(n*c);for(d=0,A=n*c;d<A;d++)m[d]=y(1-((w[d]-C[d])/t+r),0,1);return m}function L(v,p,r,t,o,n,c){for(var u=0;u<p;u++){for(var l=0;l<r;l++)t[l]=v[l*p+u];for(M(t,o,n,c,r),l=0;l<r;l++)v[l*p+u]=o[l]}for(l=0;l<r;l++){for(u=0;u<p;u++)t[u]=v[l*p+u];for(M(t,o,n,c,p),u=0;u<p;u++)v[l*p+u]=Math.sqrt(o[u])}}function M(v,p,r,t,o){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,c=0;n<o;n++){for(var u=(v[n]+n*n-(v[r[c]]+r[c]*r[c]))/(2*n-2*r[c]);u<=t[c];)c--,u=(v[n]+n*n-(v[r[c]]+r[c]*r[c]))/(2*n-2*r[c]);c++,r[c]=n,t[c]=u,t[c+1]=+P}for(n=0,c=0;n<o;n++){for(;t[c+1]<n;)c++;p[n]=(n-r[c])*(n-r[c])+v[r[c]]}}},6614:function(G,H,e){var y=e(68318),P=e(68222),a=P(y("String.prototype.indexOf"));G.exports=function(M,v){var p=y(M,!!v);return typeof p=="function"&&a(M,".prototype.")>-1?P(p):p}},68222:function(G,H,e){var y=e(77575),P=e(68318),a=P("%Function.prototype.apply%"),L=P("%Function.prototype.call%"),M=P("%Reflect.apply%",!0)||y.call(L,a),v=P("%Object.getOwnPropertyDescriptor%",!0),p=P("%Object.defineProperty%",!0),r=P("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}G.exports=function(n){var c=M(y,L,arguments);if(v&&p){var u=v(c,"length");u.configurable&&p(c,"length",{value:1+r(0,n.length-(arguments.length-1))})}return c};var t=function(){return M(y,a,arguments)};p?p(G.exports,"apply",{value:t}):G.exports.apply=t},53435:function(G){G.exports=H;function H(e,y,P){return y<P?e<y?y:e>P?P:e:e<P?P:e>y?y:e}},6475:function(G,H,e){var y=e(53435);G.exports=P,G.exports.to=P,G.exports.from=a;function P(L,M){M==null&&(M=!0);var v=L[0],p=L[1],r=L[2],t=L[3];t==null&&(t=M?1:255),M&&(v*=255,p*=255,r*=255,t*=255),v=y(v,0,255)&255,p=y(p,0,255)&255,r=y(r,0,255)&255,t=y(t,0,255)&255;var o=v*16777216+(p<<16)+(r<<8)+t;return o}function a(L,M){L=+L;var v=L>>>24,p=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return M===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},76857:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(G,H,e){var y=e(36652),P=e(53435),a=e(90660);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=a(p),t=new r(4),o=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=y(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,o&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(o?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function L(M){return!!(M instanceof Uint8Array||M instanceof Uint8ClampedArray||Array.isArray(M)&&(M[0]>1||M[0]===0)&&(M[1]>1||M[1]===0)&&(M[2]>1||M[2]===0)&&(!M[3]||M[3]>1))}},90736:function(G,H,e){var y=e(76857),P=e(10973),a=e(46775);G.exports=M;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function M(v){var p,r=[],t=1,o;if(typeof v=="string")if(y[v])r=y[v].slice(),o="rgb";else if(v==="transparent")t=0,o="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),c=n.length,u=c<=4;t=1,u?(r=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],c===4&&(t=parseInt(n[3]+n[3],16)/255)):(r=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],c===8&&(t=parseInt(n[6]+n[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),o="rgb"}else if(p=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var l=p[1],g=l==="rgb",n=l.replace(/a$/,"");o=n;var c=n==="cmyk"?4:n==="gray"?1:3;r=p[2].trim().split(/\s*,\s*/).map(function(s,d){if(/%$/.test(s))return d===c?parseFloat(s)/100:n==="rgb"?parseFloat(s)*255/100:parseFloat(s);if(n[d]==="h"){if(/deg$/.test(s))return parseFloat(s);if(L[s]!==void 0)return L[s]}return parseFloat(s)}),l===n&&r.push(1),t=g||r[c]===void 0?1:r[c],r=r.slice(0,c)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(r=v.match(/([0-9]+)/g).map(function(T){return parseFloat(T)}),o=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))o="rgb",r=[v>>>16,(v&65280)>>>8,v&255];else if(P(v)){var f=a(v.r,v.red,v.R,null);f!==null?(o="rgb",r=[f,a(v.g,v.green,v.G),a(v.b,v.blue,v.B)]):(o="hsl",r=[a(v.h,v.hue,v.H),a(v.s,v.saturation,v.S),a(v.l,v.lightness,v.L,v.b,v.brightness)]),t=a(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(t/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(r=[v[0],v[1],v[2]],o="rgb",t=v.length===4?v[3]:1);return{space:o,values:r,alpha:t}}},36652:function(G,H,e){var y=e(90736),P=e(80009),a=e(53435);G.exports=function(M){var v,p=y(M);return p.space?(v=Array(3),v[0]=a(p.values[0],0,255),v[1]=a(p.values[1],0,255),v[2]=a(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(a(p.alpha,0,1)),v):[]}},80009:function(G,H,e){var y=e(6866);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var a=P[0]/360,L=P[1]/100,M=P[2]/100,v,p,r,t,o;if(L===0)return o=M*255,[o,o,o];M<.5?p=M*(1+L):p=M+L-M*L,v=2*M-p,t=[0,0,0];for(var n=0;n<3;n++)r=a+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?o=v+(p-v)*6*r:2*r<1?o=p:3*r<2?o=v+(p-v)*(.6666666666666666-r)*6:o=v,t[n]=o*255;return t}},y.hsl=function(P){var a=P[0]/255,L=P[1]/255,M=P[2]/255,v=Math.min(a,L,M),p=Math.max(a,L,M),r=p-v,t,o,n;return p===v?t=0:a===p?t=(L-M)/r:L===p?t=2+(M-a)/r:M===p&&(t=4+(a-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?o=0:n<=.5?o=r/(p+v):o=r/(2-p-v),[t,o*100,n*100]}},6866:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(G,H,e){G.exports={parse:e(41004),stringify:e(53313)}},63625:function(G,H,e){var y=e(40402);G.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||y.indexOf(a)!==-1}}},41004:function(G,H,e){var y=e(90448),P=e(38732),a=e(41901),L=e(15659),M=e(96209),v=e(83794),p=e(99011),r=e(63625).isSize;G.exports=o;var t=o.cache={};function o(c){if(typeof c!="string")throw new Error("Font argument must be a string.");if(t[c])return t[c];if(c==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(c)!==-1)return t[c]={system:c};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(c,/\s+/),g;g=l.shift();){if(P.indexOf(g)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=g}),t[c]=u;if(M.indexOf(g)!==-1){u.style=g;continue}if(g==="normal"||g==="small-caps"){u.variant=g;continue}if(v.indexOf(g)!==-1){u.stretch=g;continue}if(L.indexOf(g)!==-1){u.weight=g;continue}if(r(g)){var f=p(g,"/");if(u.size=f[0],f[1]!=null?u.lineHeight=n(f[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=p(l.join(" "),/\s*,\s*/).map(y),t[c]=u}throw new Error("Unknown or unsupported font token: "+g)}throw new Error("Missing required font-size.")}function n(c){var u=parseFloat(c);return u.toString()===c?u:c}},53313:function(G,H,e){var y=e(71299),P=e(63625).isSize,a=c(e(38732)),L=c(e(41901)),M=c(e(15659)),v=c(e(96209)),p=c(e(83794)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},o={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(l){if(l=y(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,L),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,M),n(l.stretch,p),l.size==null&&(l.size=o.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=o.family),Array.isArray(l.family)&&(l.family.length||(l.family=[o.family]),l.family=l.family.map(function(f){return t[f]?f:'"'+f+'"'}).join(", "));var g=[];return g.push(l.style),l.variant!==l.style&&g.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&g.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&g.push(l.stretch),g.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),g.push(l.family),g.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!a[u])throw Error("Unknown keyword `"+u+"`");return u}function c(u){for(var l={},g=0;g<u.length;g++)l[u[g]]=1;return l}},55174:function(G,H,e){var y=e(24582),P=e(10424),a=e(82527),L=e(19012),M=e(21780),v=e(16906),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,o;o=function(n,c,u){var l=P(c)&&a(c.value),g;return g=L(c),delete g.writable,delete g.value,g.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(c.value=p.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,c),this[n])},g},G.exports=function(n){var c=M(arguments[1]);return y(c.resolveContext)&&a(c.resolveContext),v(n,function(u,l){return o(l,u,c)})}},62072:function(G,H,e){var y=e(24582),P=e(84985),a=e(95879),L=e(21780),M=e(66741),v=G.exports=function(p,r){var t,o,n,c,u;return arguments.length<2||typeof p!="string"?(c=r,r=p,p=null):c=arguments[2],y(p)?(t=M.call(p,"c"),o=M.call(p,"e"),n=M.call(p,"w")):(t=n=!0,o=!1),u={value:r,configurable:t,enumerable:o,writable:n},c?a(L(c),u):u};v.gs=function(p,r,t){var o,n,c,u;return typeof p!="string"?(c=t,t=r,r=p,p=null):c=arguments[3],y(r)?P(r)?y(t)?P(t)||(c=t,t=void 0):t=void 0:(c=r,r=t=void 0):r=void 0,y(p)?(o=M.call(p,"c"),n=M.call(p,"e")):(o=!0,n=!1),u={get:r,set:t,configurable:o,enumerable:n},c?a(L(c),u):u}},33064:function(G,H,e){e.d(H,{j2:function(){return y},Fp:function(){return L},J6:function(){return v},TS:function(){return p},VV:function(){return r},w6:function(){return t},Sm:function(){return o}});function y(n,c){return n<c?-1:n>c?1:n>=c?0:NaN}function P(n){return n.length===1&&(n=a(n)),{left:function(c,u,l,g){for(l==null&&(l=0),g==null&&(g=c.length);l<g;){var f=l+g>>>1;n(c[f],u)<0?l=f+1:g=f}return l},right:function(c,u,l,g){for(l==null&&(l=0),g==null&&(g=c.length);l<g;){var f=l+g>>>1;n(c[f],u)>0?g=f:l=f+1}return l}}}function a(n){return function(c,u){return y(n(c),u)}}P(y);function L(n,c){var u=n.length,l=-1,g,f;if(c==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(f=g;++l<u;)(g=n[l])!=null&&g>f&&(f=g)}else for(;++l<u;)if((g=c(n[l],l,n))!=null&&g>=g)for(f=g;++l<u;)(g=c(n[l],l,n))!=null&&g>f&&(f=g);return f}function M(n){return n===null?NaN:+n}function v(n,c){var u=n.length,l=u,g=-1,f,T=0;if(c==null)for(;++g<u;)isNaN(f=M(n[g]))?--l:T+=f;else for(;++g<u;)isNaN(f=M(c(n[g],g,n)))?--l:T+=f;if(l)return T/l}function p(n){for(var c=n.length,u,l=-1,g=0,f,T;++l<c;)g+=n[l].length;for(f=new Array(g);--c>=0;)for(T=n[c],u=T.length;--u>=0;)f[--g]=T[u];return f}function r(n,c){var u=n.length,l=-1,g,f;if(c==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(f=g;++l<u;)(g=n[l])!=null&&f>g&&(f=g)}else for(;++l<u;)if((g=c(n[l],l,n))!=null&&g>=g)for(f=g;++l<u;)(g=c(n[l],l,n))!=null&&f>g&&(f=g);return f}function t(n,c,u){n=+n,c=+c,u=(g=arguments.length)<2?(c=n,n=0,1):g<3?1:+u;for(var l=-1,g=Math.max(0,Math.ceil((c-n)/u))|0,f=new Array(g);++l<g;)f[l]=n+l*u;return f}function o(n,c){var u=n.length,l=-1,g,f=0;if(c==null)for(;++l<u;)(g=+n[l])&&(f+=g);else for(;++l<u;)(g=+c(n[l],l,n))&&(f+=g);return f}},15140:function(G,H,e){e.d(H,{UI:function(){return L},b1:function(){return M}});var y="$";function P(){}P.prototype=a.prototype={constructor:P,has:function(c){return y+c in this},get:function(c){return this[y+c]},set:function(c,u){return this[y+c]=u,this},remove:function(c){var u=y+c;return u in this&&delete this[u]},clear:function(){for(var c in this)c[0]===y&&delete this[c]},keys:function(){var c=[];for(var u in this)u[0]===y&&c.push(u.slice(1));return c},values:function(){var c=[];for(var u in this)u[0]===y&&c.push(this[u]);return c},entries:function(){var c=[];for(var u in this)u[0]===y&&c.push({key:u.slice(1),value:this[u]});return c},size:function(){var c=0;for(var u in this)u[0]===y&&++c;return c},empty:function(){for(var c in this)if(c[0]===y)return!1;return!0},each:function(c){for(var u in this)u[0]===y&&c(this[u],u.slice(1),this)}};function a(c,u){var l=new P;if(c instanceof P)c.each(function(s,d){l.set(d,s)});else if(Array.isArray(c)){var g=-1,f=c.length,T;if(u==null)for(;++g<f;)l.set(g,c[g]);else for(;++g<f;)l.set(u(T=c[g],g,c),T)}else if(c)for(var h in c)l.set(h,c[h]);return l}var L=a;function M(){var c=[],u=[],l,g,f;function T(s,d,A,w){if(d>=c.length)return l!=null&&s.sort(l),g!=null?g(s):s;for(var C=-1,b=s.length,S=c[d++],x,i,E=L(),m,k=A();++C<b;)(m=E.get(x=S(i=s[C])+""))?m.push(i):E.set(x,[i]);return E.each(function(I,U){w(k,U,T(I,d,A,w))}),k}function h(s,d){if(++d>c.length)return s;var A,w=u[d-1];return g!=null&&d>=c.length?A=s.entries():(A=[],s.each(function(C,b){A.push({key:b,values:h(C,d)})})),w!=null?A.sort(function(C,b){return w(C.key,b.key)}):A}return f={object:function(s){return T(s,0,v,p)},map:function(s){return T(s,0,r,t)},entries:function(s){return h(T(s,0,r,t),0)},key:function(s){return c.push(s),f},sortKeys:function(s){return u[c.length-1]=s,f},sortValues:function(s){return l=s,f},rollup:function(s){return g=s,f}}}function v(){return{}}function p(c,u,l){c[u]=l}function r(){return L()}function t(c,u,l){c.set(u,l)}function o(){}var n=L.prototype;o.prototype={constructor:o,has:n.has,add:function(c){return c+="",this[y+c]=c,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(G,H,e){e.r(H),e.d(H,{forceCenter:function(){return y},forceCollide:function(){return E},forceLink:function(){return U},forceManyBody:function(){return Ve},forceRadial:function(){return at},forceSimulation:function(){return De},forceX:function(){return lt},forceY:function(){return $e}});function y(et,ct){var dt;et==null&&(et=0),ct==null&&(ct=0);function gt(){var At,Rt=dt.length,Vt,Je=0,Ge=0;for(At=0;At<Rt;++At)Vt=dt[At],Je+=Vt.x,Ge+=Vt.y;for(Je=Je/Rt-et,Ge=Ge/Rt-ct,At=0;At<Rt;++At)Vt=dt[At],Vt.x-=Je,Vt.y-=Ge}return gt.initialize=function(At){dt=At},gt.x=function(At){return arguments.length?(et=+At,gt):et},gt.y=function(At){return arguments.length?(ct=+At,gt):ct},gt}function P(et){return function(){return et}}function a(){return(Math.random()-.5)*1e-6}function L(et){var ct=+this._x.call(null,et),dt=+this._y.call(null,et);return M(this.cover(ct,dt),ct,dt,et)}function M(et,ct,dt,gt){if(isNaN(ct)||isNaN(dt))return et;var At,Rt=et._root,Vt={data:gt},Je=et._x0,Ge=et._y0,Ie=et._x1,Fe=et._y1,Pe,xe,ge,Me,Ae,Ue,Ze,tt;if(!Rt)return et._root=Vt,et;for(;Rt.length;)if((Ae=ct>=(Pe=(Je+Ie)/2))?Je=Pe:Ie=Pe,(Ue=dt>=(xe=(Ge+Fe)/2))?Ge=xe:Fe=xe,At=Rt,!(Rt=Rt[Ze=Ue<<1|Ae]))return At[Ze]=Vt,et;if(ge=+et._x.call(null,Rt.data),Me=+et._y.call(null,Rt.data),ct===ge&&dt===Me)return Vt.next=Rt,At?At[Ze]=Vt:et._root=Vt,et;do At=At?At[Ze]=new Array(4):et._root=new Array(4),(Ae=ct>=(Pe=(Je+Ie)/2))?Je=Pe:Ie=Pe,(Ue=dt>=(xe=(Ge+Fe)/2))?Ge=xe:Fe=xe;while((Ze=Ue<<1|Ae)===(tt=(Me>=xe)<<1|ge>=Pe));return At[tt]=Rt,At[Ze]=Vt,et}function v(et){var ct,dt,gt=et.length,At,Rt,Vt=new Array(gt),Je=new Array(gt),Ge=1/0,Ie=1/0,Fe=-1/0,Pe=-1/0;for(dt=0;dt<gt;++dt)isNaN(At=+this._x.call(null,ct=et[dt]))||isNaN(Rt=+this._y.call(null,ct))||(Vt[dt]=At,Je[dt]=Rt,At<Ge&&(Ge=At),At>Fe&&(Fe=At),Rt<Ie&&(Ie=Rt),Rt>Pe&&(Pe=Rt));if(Ge>Fe||Ie>Pe)return this;for(this.cover(Ge,Ie).cover(Fe,Pe),dt=0;dt<gt;++dt)M(this,Vt[dt],Je[dt],et[dt]);return this}function p(et,ct){if(isNaN(et=+et)||isNaN(ct=+ct))return this;var dt=this._x0,gt=this._y0,At=this._x1,Rt=this._y1;if(isNaN(dt))At=(dt=Math.floor(et))+1,Rt=(gt=Math.floor(ct))+1;else{for(var Vt=At-dt,Je=this._root,Ge,Ie;dt>et||et>=At||gt>ct||ct>=Rt;)switch(Ie=(ct<gt)<<1|et<dt,Ge=new Array(4),Ge[Ie]=Je,Je=Ge,Vt*=2,Ie){case 0:At=dt+Vt,Rt=gt+Vt;break;case 1:dt=At-Vt,Rt=gt+Vt;break;case 2:At=dt+Vt,gt=Rt-Vt;break;case 3:dt=At-Vt,gt=Rt-Vt;break}this._root&&this._root.length&&(this._root=Je)}return this._x0=dt,this._y0=gt,this._x1=At,this._y1=Rt,this}function r(){var et=[];return this.visit(function(ct){if(!ct.length)do et.push(ct.data);while(ct=ct.next)}),et}function t(et){return arguments.length?this.cover(+et[0][0],+et[0][1]).cover(+et[1][0],+et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function o(et,ct,dt,gt,At){this.node=et,this.x0=ct,this.y0=dt,this.x1=gt,this.y1=At}function n(et,ct,dt){var gt,At=this._x0,Rt=this._y0,Vt,Je,Ge,Ie,Fe=this._x1,Pe=this._y1,xe=[],ge=this._root,Me,Ae;for(ge&&xe.push(new o(ge,At,Rt,Fe,Pe)),dt==null?dt=1/0:(At=et-dt,Rt=ct-dt,Fe=et+dt,Pe=ct+dt,dt*=dt);Me=xe.pop();)if(!(!(ge=Me.node)||(Vt=Me.x0)>Fe||(Je=Me.y0)>Pe||(Ge=Me.x1)<At||(Ie=Me.y1)<Rt))if(ge.length){var Ue=(Vt+Ge)/2,Ze=(Je+Ie)/2;xe.push(new o(ge[3],Ue,Ze,Ge,Ie),new o(ge[2],Vt,Ze,Ue,Ie),new o(ge[1],Ue,Je,Ge,Ze),new o(ge[0],Vt,Je,Ue,Ze)),(Ae=(ct>=Ze)<<1|et>=Ue)&&(Me=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-Ae],xe[xe.length-1-Ae]=Me)}else{var tt=et-+this._x.call(null,ge.data),ft=ct-+this._y.call(null,ge.data),pt=tt*tt+ft*ft;if(pt<dt){var Yt=Math.sqrt(dt=pt);At=et-Yt,Rt=ct-Yt,Fe=et+Yt,Pe=ct+Yt,gt=ge.data}}return gt}function c(et){if(isNaN(Fe=+this._x.call(null,et))||isNaN(Pe=+this._y.call(null,et)))return this;var ct,dt=this._root,gt,At,Rt,Vt=this._x0,Je=this._y0,Ge=this._x1,Ie=this._y1,Fe,Pe,xe,ge,Me,Ae,Ue,Ze;if(!dt)return this;if(dt.length)for(;;){if((Me=Fe>=(xe=(Vt+Ge)/2))?Vt=xe:Ge=xe,(Ae=Pe>=(ge=(Je+Ie)/2))?Je=ge:Ie=ge,ct=dt,!(dt=dt[Ue=Ae<<1|Me]))return this;if(!dt.length)break;(ct[Ue+1&3]||ct[Ue+2&3]||ct[Ue+3&3])&&(gt=ct,Ze=Ue)}for(;dt.data!==et;)if(At=dt,!(dt=dt.next))return this;return(Rt=dt.next)&&delete dt.next,At?(Rt?At.next=Rt:delete At.next,this):ct?(Rt?ct[Ue]=Rt:delete ct[Ue],(dt=ct[0]||ct[1]||ct[2]||ct[3])&&dt===(ct[3]||ct[2]||ct[1]||ct[0])&&!dt.length&&(gt?gt[Ze]=dt:this._root=dt),this):(this._root=Rt,this)}function u(et){for(var ct=0,dt=et.length;ct<dt;++ct)this.remove(et[ct]);return this}function l(){return this._root}function g(){var et=0;return this.visit(function(ct){if(!ct.length)do++et;while(ct=ct.next)}),et}function f(et){var ct=[],dt,gt=this._root,At,Rt,Vt,Je,Ge;for(gt&&ct.push(new o(gt,this._x0,this._y0,this._x1,this._y1));dt=ct.pop();)if(!et(gt=dt.node,Rt=dt.x0,Vt=dt.y0,Je=dt.x1,Ge=dt.y1)&&gt.length){var Ie=(Rt+Je)/2,Fe=(Vt+Ge)/2;(At=gt[3])&&ct.push(new o(At,Ie,Fe,Je,Ge)),(At=gt[2])&&ct.push(new o(At,Rt,Fe,Ie,Ge)),(At=gt[1])&&ct.push(new o(At,Ie,Vt,Je,Fe)),(At=gt[0])&&ct.push(new o(At,Rt,Vt,Ie,Fe))}return this}function T(et){var ct=[],dt=[],gt;for(this._root&&ct.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));gt=ct.pop();){var At=gt.node;if(At.length){var Rt,Vt=gt.x0,Je=gt.y0,Ge=gt.x1,Ie=gt.y1,Fe=(Vt+Ge)/2,Pe=(Je+Ie)/2;(Rt=At[0])&&ct.push(new o(Rt,Vt,Je,Fe,Pe)),(Rt=At[1])&&ct.push(new o(Rt,Fe,Je,Ge,Pe)),(Rt=At[2])&&ct.push(new o(Rt,Vt,Pe,Fe,Ie)),(Rt=At[3])&&ct.push(new o(Rt,Fe,Pe,Ge,Ie))}dt.push(gt)}for(;gt=dt.pop();)et(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function h(et){return et[0]}function s(et){return arguments.length?(this._x=et,this):this._x}function d(et){return et[1]}function A(et){return arguments.length?(this._y=et,this):this._y}function w(et,ct,dt){var gt=new C(ct??h,dt??d,NaN,NaN,NaN,NaN);return et==null?gt:gt.addAll(et)}function C(et,ct,dt,gt,At,Rt){this._x=et,this._y=ct,this._x0=dt,this._y0=gt,this._x1=At,this._y1=Rt,this._root=void 0}function b(et){for(var ct={data:et.data},dt=ct;et=et.next;)dt=dt.next={data:et.data};return ct}var S=w.prototype=C.prototype;S.copy=function(){var et=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ct=this._root,dt,gt;if(!ct)return et;if(!ct.length)return et._root=b(ct),et;for(dt=[{source:ct,target:et._root=new Array(4)}];ct=dt.pop();)for(var At=0;At<4;++At)(gt=ct.source[At])&&(gt.length?dt.push({source:gt,target:ct.target[At]=new Array(4)}):ct.target[At]=b(gt));return et},S.add=L,S.addAll=v,S.cover=p,S.data=r,S.extent=t,S.find=n,S.remove=c,S.removeAll=u,S.root=l,S.size=g,S.visit=f,S.visitAfter=T,S.x=s,S.y=A;function x(et){return et.x+et.vx}function i(et){return et.y+et.vy}function E(et){var ct,dt,gt=1,At=1;typeof et!="function"&&(et=P(et==null?1:+et));function Rt(){for(var Ge,Ie=ct.length,Fe,Pe,xe,ge,Me,Ae,Ue=0;Ue<At;++Ue)for(Fe=w(ct,x,i).visitAfter(Vt),Ge=0;Ge<Ie;++Ge)Pe=ct[Ge],Me=dt[Pe.index],Ae=Me*Me,xe=Pe.x+Pe.vx,ge=Pe.y+Pe.vy,Fe.visit(Ze);function Ze(tt,ft,pt,Yt,Jt){var Tt=tt.data,zt=tt.r,$t=Me+zt;if(Tt){if(Tt.index>Pe.index){var wr=xe-Tt.x-Tt.vx,yt=ge-Tt.y-Tt.vy,Xt=wr*wr+yt*yt;Xt<$t*$t&&(wr===0&&(wr=a(),Xt+=wr*wr),yt===0&&(yt=a(),Xt+=yt*yt),Xt=($t-(Xt=Math.sqrt(Xt)))/Xt*gt,Pe.vx+=(wr*=Xt)*($t=(zt*=zt)/(Ae+zt)),Pe.vy+=(yt*=Xt)*$t,Tt.vx-=wr*($t=1-$t),Tt.vy-=yt*$t)}return}return ft>xe+$t||Yt<xe-$t||pt>ge+$t||Jt<ge-$t}}function Vt(Ge){if(Ge.data)return Ge.r=dt[Ge.data.index];for(var Ie=Ge.r=0;Ie<4;++Ie)Ge[Ie]&&Ge[Ie].r>Ge.r&&(Ge.r=Ge[Ie].r)}function Je(){if(ct){var Ge,Ie=ct.length,Fe;for(dt=new Array(Ie),Ge=0;Ge<Ie;++Ge)Fe=ct[Ge],dt[Fe.index]=+et(Fe,Ge,ct)}}return Rt.initialize=function(Ge){ct=Ge,Je()},Rt.iterations=function(Ge){return arguments.length?(At=+Ge,Rt):At},Rt.strength=function(Ge){return arguments.length?(gt=+Ge,Rt):gt},Rt.radius=function(Ge){return arguments.length?(et=typeof Ge=="function"?Ge:P(+Ge),Je(),Rt):et},Rt}var m=e(15140);function k(et){return et.index}function I(et,ct){var dt=et.get(ct);if(!dt)throw new Error("missing: "+ct);return dt}function U(et){var ct=k,dt=Fe,gt,At=P(30),Rt,Vt,Je,Ge,Ie=1;et==null&&(et=[]);function Fe(Ae){return 1/Math.min(Je[Ae.source.index],Je[Ae.target.index])}function Pe(Ae){for(var Ue=0,Ze=et.length;Ue<Ie;++Ue)for(var tt=0,ft,pt,Yt,Jt,Tt,zt,$t;tt<Ze;++tt)ft=et[tt],pt=ft.source,Yt=ft.target,Jt=Yt.x+Yt.vx-pt.x-pt.vx||a(),Tt=Yt.y+Yt.vy-pt.y-pt.vy||a(),zt=Math.sqrt(Jt*Jt+Tt*Tt),zt=(zt-Rt[tt])/zt*Ae*gt[tt],Jt*=zt,Tt*=zt,Yt.vx-=Jt*($t=Ge[tt]),Yt.vy-=Tt*$t,pt.vx+=Jt*($t=1-$t),pt.vy+=Tt*$t}function xe(){if(Vt){var Ae,Ue=Vt.length,Ze=et.length,tt=(0,m.UI)(Vt,ct),ft;for(Ae=0,Je=new Array(Ue);Ae<Ze;++Ae)ft=et[Ae],ft.index=Ae,typeof ft.source!="object"&&(ft.source=I(tt,ft.source)),typeof ft.target!="object"&&(ft.target=I(tt,ft.target)),Je[ft.source.index]=(Je[ft.source.index]||0)+1,Je[ft.target.index]=(Je[ft.target.index]||0)+1;for(Ae=0,Ge=new Array(Ze);Ae<Ze;++Ae)ft=et[Ae],Ge[Ae]=Je[ft.source.index]/(Je[ft.source.index]+Je[ft.target.index]);gt=new Array(Ze),ge(),Rt=new Array(Ze),Me()}}function ge(){if(Vt)for(var Ae=0,Ue=et.length;Ae<Ue;++Ae)gt[Ae]=+dt(et[Ae],Ae,et)}function Me(){if(Vt)for(var Ae=0,Ue=et.length;Ae<Ue;++Ae)Rt[Ae]=+At(et[Ae],Ae,et)}return Pe.initialize=function(Ae){Vt=Ae,xe()},Pe.links=function(Ae){return arguments.length?(et=Ae,xe(),Pe):et},Pe.id=function(Ae){return arguments.length?(ct=Ae,Pe):ct},Pe.iterations=function(Ae){return arguments.length?(Ie=+Ae,Pe):Ie},Pe.strength=function(Ae){return arguments.length?(dt=typeof Ae=="function"?Ae:P(+Ae),ge(),Pe):dt},Pe.distance=function(Ae){return arguments.length?(At=typeof Ae=="function"?Ae:P(+Ae),Me(),Pe):At},Pe}var z={value:function(){}};function F(){for(var et=0,ct=arguments.length,dt={},gt;et<ct;++et){if(!(gt=arguments[et]+"")||gt in dt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);dt[gt]=[]}return new B(dt)}function B(et){this._=et}function O(et,ct){return et.trim().split(/^|\s+/).map(function(dt){var gt="",At=dt.indexOf(".");if(At>=0&&(gt=dt.slice(At+1),dt=dt.slice(0,At)),dt&&!ct.hasOwnProperty(dt))throw new Error("unknown type: "+dt);return{type:dt,name:gt}})}B.prototype=F.prototype={constructor:B,on:function(et,ct){var dt=this._,gt=O(et+"",dt),At,Rt=-1,Vt=gt.length;if(arguments.length<2){for(;++Rt<Vt;)if((At=(et=gt[Rt]).type)&&(At=N(dt[At],et.name)))return At;return}if(ct!=null&&typeof ct!="function")throw new Error("invalid callback: "+ct);for(;++Rt<Vt;)if(At=(et=gt[Rt]).type)dt[At]=Y(dt[At],et.name,ct);else if(ct==null)for(At in dt)dt[At]=Y(dt[At],et.name,null);return this},copy:function(){var et={},ct=this._;for(var dt in ct)et[dt]=ct[dt].slice();return new B(et)},call:function(et,ct){if((At=arguments.length-2)>0)for(var dt=new Array(At),gt=0,At,Rt;gt<At;++gt)dt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(Rt=this._[et],gt=0,At=Rt.length;gt<At;++gt)Rt[gt].value.apply(ct,dt)},apply:function(et,ct,dt){if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(var gt=this._[et],At=0,Rt=gt.length;At<Rt;++At)gt[At].value.apply(ct,dt)}};function N(et,ct){for(var dt=0,gt=et.length,At;dt<gt;++dt)if((At=et[dt]).name===ct)return At.value}function Y(et,ct,dt){for(var gt=0,At=et.length;gt<At;++gt)if(et[gt].name===ct){et[gt]=z,et=et.slice(0,gt).concat(et.slice(gt+1));break}return dt!=null&&et.push({name:ct,value:dt}),et}var $=F,te=0,ie=0,ce=0,J=1e3,Z,ae,j=0,q=0,oe=0,Q=typeof performance=="object"&&performance.now?performance:Date,K=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(et){setTimeout(et,17)};function se(){return q||(K(ne),q=Q.now()+oe)}function ne(){q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=ye.prototype={constructor:fe,restart:function(et,ct,dt){if(typeof et!="function")throw new TypeError("callback is not a function");dt=(dt==null?se():+dt)+(ct==null?0:+ct),!this._next&&ae!==this&&(ae?ae._next=this:Z=this,ae=this),this._call=et,this._time=dt,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};function ye(et,ct,dt){var gt=new fe;return gt.restart(et,ct,dt),gt}function Ee(){se(),++te;for(var et=Z,ct;et;)(ct=q-et._time)>=0&&et._call.call(null,ct),et=et._next;--te}function Te(){q=(j=Q.now())+oe,te=ie=0;try{Ee()}finally{te=0,ke(),q=0}}function ze(){var et=Q.now(),ct=et-j;ct>J&&(oe-=ct,j=et)}function ke(){for(var et,ct=Z,dt,gt=1/0;ct;)ct._call?(gt>ct._time&&(gt=ct._time),et=ct,ct=ct._next):(dt=ct._next,ct._next=null,ct=et?et._next=dt:Z=dt);ae=et,Se(gt)}function Se(et){if(!te){ie&&(ie=clearTimeout(ie));var ct=et-q;ct>24?(et<1/0&&(ie=setTimeout(Te,et-Q.now()-oe)),ce&&(ce=clearInterval(ce))):(ce||(j=Q.now(),ce=setInterval(ze,J)),te=1,K(Te))}}function me(et){return et.x}function Ce(et){return et.y}var Ne=10,He=Math.PI*(3-Math.sqrt(5));function De(et){var ct,dt=1,gt=.001,At=1-Math.pow(gt,1/300),Rt=0,Vt=.6,Je=(0,m.UI)(),Ge=ye(Fe),Ie=$("tick","end");et==null&&(et=[]);function Fe(){Pe(),Ie.call("tick",ct),dt<gt&&(Ge.stop(),Ie.call("end",ct))}function Pe(Me){var Ae,Ue=et.length,Ze;Me===void 0&&(Me=1);for(var tt=0;tt<Me;++tt)for(dt+=(Rt-dt)*At,Je.each(function(ft){ft(dt)}),Ae=0;Ae<Ue;++Ae)Ze=et[Ae],Ze.fx==null?Ze.x+=Ze.vx*=Vt:(Ze.x=Ze.fx,Ze.vx=0),Ze.fy==null?Ze.y+=Ze.vy*=Vt:(Ze.y=Ze.fy,Ze.vy=0);return ct}function xe(){for(var Me=0,Ae=et.length,Ue;Me<Ae;++Me){if(Ue=et[Me],Ue.index=Me,Ue.fx!=null&&(Ue.x=Ue.fx),Ue.fy!=null&&(Ue.y=Ue.fy),isNaN(Ue.x)||isNaN(Ue.y)){var Ze=Ne*Math.sqrt(Me),tt=Me*He;Ue.x=Ze*Math.cos(tt),Ue.y=Ze*Math.sin(tt)}(isNaN(Ue.vx)||isNaN(Ue.vy))&&(Ue.vx=Ue.vy=0)}}function ge(Me){return Me.initialize&&Me.initialize(et),Me}return xe(),ct={tick:Pe,restart:function(){return Ge.restart(Fe),ct},stop:function(){return Ge.stop(),ct},nodes:function(Me){return arguments.length?(et=Me,xe(),Je.each(ge),ct):et},alpha:function(Me){return arguments.length?(dt=+Me,ct):dt},alphaMin:function(Me){return arguments.length?(gt=+Me,ct):gt},alphaDecay:function(Me){return arguments.length?(At=+Me,ct):+At},alphaTarget:function(Me){return arguments.length?(Rt=+Me,ct):Rt},velocityDecay:function(Me){return arguments.length?(Vt=1-Me,ct):1-Vt},force:function(Me,Ae){return arguments.length>1?(Ae==null?Je.remove(Me):Je.set(Me,ge(Ae)),ct):Je.get(Me)},find:function(Me,Ae,Ue){var Ze=0,tt=et.length,ft,pt,Yt,Jt,Tt;for(Ue==null?Ue=1/0:Ue*=Ue,Ze=0;Ze<tt;++Ze)Jt=et[Ze],ft=Me-Jt.x,pt=Ae-Jt.y,Yt=ft*ft+pt*pt,Yt<Ue&&(Tt=Jt,Ue=Yt);return Tt},on:function(Me,Ae){return arguments.length>1?(Ie.on(Me,Ae),ct):Ie.on(Me)}}}function Ve(){var et,ct,dt,gt=P(-30),At,Rt=1,Vt=1/0,Je=.81;function Ge(xe){var ge,Me=et.length,Ae=w(et,me,Ce).visitAfter(Fe);for(dt=xe,ge=0;ge<Me;++ge)ct=et[ge],Ae.visit(Pe)}function Ie(){if(et){var xe,ge=et.length,Me;for(At=new Array(ge),xe=0;xe<ge;++xe)Me=et[xe],At[Me.index]=+gt(Me,xe,et)}}function Fe(xe){var ge=0,Me,Ae,Ue=0,Ze,tt,ft;if(xe.length){for(Ze=tt=ft=0;ft<4;++ft)(Me=xe[ft])&&(Ae=Math.abs(Me.value))&&(ge+=Me.value,Ue+=Ae,Ze+=Ae*Me.x,tt+=Ae*Me.y);xe.x=Ze/Ue,xe.y=tt/Ue}else{Me=xe,Me.x=Me.data.x,Me.y=Me.data.y;do ge+=At[Me.data.index];while(Me=Me.next)}xe.value=ge}function Pe(xe,ge,Me,Ae){if(!xe.value)return!0;var Ue=xe.x-ct.x,Ze=xe.y-ct.y,tt=Ae-ge,ft=Ue*Ue+Ze*Ze;if(tt*tt/Je<ft)return ft<Vt&&(Ue===0&&(Ue=a(),ft+=Ue*Ue),Ze===0&&(Ze=a(),ft+=Ze*Ze),ft<Rt&&(ft=Math.sqrt(Rt*ft)),ct.vx+=Ue*xe.value*dt/ft,ct.vy+=Ze*xe.value*dt/ft),!0;if(xe.length||ft>=Vt)return;(xe.data!==ct||xe.next)&&(Ue===0&&(Ue=a(),ft+=Ue*Ue),Ze===0&&(Ze=a(),ft+=Ze*Ze),ft<Rt&&(ft=Math.sqrt(Rt*ft)));do xe.data!==ct&&(tt=At[xe.data.index]*dt/ft,ct.vx+=Ue*tt,ct.vy+=Ze*tt);while(xe=xe.next)}return Ge.initialize=function(xe){et=xe,Ie()},Ge.strength=function(xe){return arguments.length?(gt=typeof xe=="function"?xe:P(+xe),Ie(),Ge):gt},Ge.distanceMin=function(xe){return arguments.length?(Rt=xe*xe,Ge):Math.sqrt(Rt)},Ge.distanceMax=function(xe){return arguments.length?(Vt=xe*xe,Ge):Math.sqrt(Vt)},Ge.theta=function(xe){return arguments.length?(Je=xe*xe,Ge):Math.sqrt(Je)},Ge}function at(et,ct,dt){var gt,At=P(.1),Rt,Vt;typeof et!="function"&&(et=P(+et)),ct==null&&(ct=0),dt==null&&(dt=0);function Je(Ie){for(var Fe=0,Pe=gt.length;Fe<Pe;++Fe){var xe=gt[Fe],ge=xe.x-ct||1e-6,Me=xe.y-dt||1e-6,Ae=Math.sqrt(ge*ge+Me*Me),Ue=(Vt[Fe]-Ae)*Rt[Fe]*Ie/Ae;xe.vx+=ge*Ue,xe.vy+=Me*Ue}}function Ge(){if(gt){var Ie,Fe=gt.length;for(Rt=new Array(Fe),Vt=new Array(Fe),Ie=0;Ie<Fe;++Ie)Vt[Ie]=+et(gt[Ie],Ie,gt),Rt[Ie]=isNaN(Vt[Ie])?0:+At(gt[Ie],Ie,gt)}}return Je.initialize=function(Ie){gt=Ie,Ge()},Je.strength=function(Ie){return arguments.length?(At=typeof Ie=="function"?Ie:P(+Ie),Ge(),Je):At},Je.radius=function(Ie){return arguments.length?(et=typeof Ie=="function"?Ie:P(+Ie),Ge(),Je):et},Je.x=function(Ie){return arguments.length?(ct=+Ie,Je):ct},Je.y=function(Ie){return arguments.length?(dt=+Ie,Je):dt},Je}function lt(et){var ct=P(.1),dt,gt,At;typeof et!="function"&&(et=P(et==null?0:+et));function Rt(Je){for(var Ge=0,Ie=dt.length,Fe;Ge<Ie;++Ge)Fe=dt[Ge],Fe.vx+=(At[Ge]-Fe.x)*gt[Ge]*Je}function Vt(){if(dt){var Je,Ge=dt.length;for(gt=new Array(Ge),At=new Array(Ge),Je=0;Je<Ge;++Je)gt[Je]=isNaN(At[Je]=+et(dt[Je],Je,dt))?0:+ct(dt[Je],Je,dt)}}return Rt.initialize=function(Je){dt=Je,Vt()},Rt.strength=function(Je){return arguments.length?(ct=typeof Je=="function"?Je:P(+Je),Vt(),Rt):ct},Rt.x=function(Je){return arguments.length?(et=typeof Je=="function"?Je:P(+Je),Vt(),Rt):et},Rt}function $e(et){var ct=P(.1),dt,gt,At;typeof et!="function"&&(et=P(et==null?0:+et));function Rt(Je){for(var Ge=0,Ie=dt.length,Fe;Ge<Ie;++Ge)Fe=dt[Ge],Fe.vy+=(At[Ge]-Fe.y)*gt[Ge]*Je}function Vt(){if(dt){var Je,Ge=dt.length;for(gt=new Array(Ge),At=new Array(Ge),Je=0;Je<Ge;++Je)gt[Je]=isNaN(At[Je]=+et(dt[Je],Je,dt))?0:+ct(dt[Je],Je,dt)}}return Rt.initialize=function(Je){dt=Je,Vt()},Rt.strength=function(Je){return arguments.length?(ct=typeof Je=="function"?Je:P(+Je),Vt(),Rt):ct},Rt.y=function(Je){return arguments.length?(et=typeof Je=="function"?Je:P(+Je),Vt(),Rt):et},Rt}},60721:function(G,H,e){e.d(H,{WU:function(){return s},FF:function(){return T}});function y(A){return Math.abs(A=Math.round(A))>=1e21?A.toLocaleString("en").replace(/,/g,""):A.toString(10)}function P(A,w){if((C=(A=w?A.toExponential(w-1):A.toExponential()).indexOf("e"))<0)return null;var C,b=A.slice(0,C);return[b.length>1?b[0]+b.slice(2):b,+A.slice(C+1)]}function a(A){return A=P(Math.abs(A)),A?A[1]:NaN}function L(A,w){return function(C,b){for(var S=C.length,x=[],i=0,E=A[0],m=0;S>0&&E>0&&(m+E+1>b&&(E=Math.max(1,b-m)),x.push(C.substring(S-=E,S+E)),!((m+=E+1)>b));)E=A[i=(i+1)%A.length];return x.reverse().join(w)}}function M(A){return function(w){return w.replace(/[0-9]/g,function(C){return A[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(A){if(!(w=v.exec(A)))throw new Error("invalid format: "+A);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}p.prototype=r.prototype;function r(A){this.fill=A.fill===void 0?" ":A.fill+"",this.align=A.align===void 0?">":A.align+"",this.sign=A.sign===void 0?"-":A.sign+"",this.symbol=A.symbol===void 0?"":A.symbol+"",this.zero=!!A.zero,this.width=A.width===void 0?void 0:+A.width,this.comma=!!A.comma,this.precision=A.precision===void 0?void 0:+A.precision,this.trim=!!A.trim,this.type=A.type===void 0?"":A.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(A){e:for(var w=A.length,C=1,b=-1,S;C<w;++C)switch(A[C]){case".":b=S=C;break;case"0":b===0&&(b=C),S=C;break;default:if(!+A[C])break e;b>0&&(b=0);break}return b>0?A.slice(0,b)+A.slice(S+1):A}var o;function n(A,w){var C=P(A,w);if(!C)return A+"";var b=C[0],S=C[1],x=S-(o=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,i=b.length;return x===i?b:x>i?b+new Array(x-i+1).join("0"):x>0?b.slice(0,x)+"."+b.slice(x):"0."+new Array(1-x).join("0")+P(A,Math.max(0,w+x-1))[0]}function c(A,w){var C=P(A,w);if(!C)return A+"";var b=C[0],S=C[1];return S<0?"0."+new Array(-S).join("0")+b:b.length>S+1?b.slice(0,S+1)+"."+b.slice(S+1):b+new Array(S-b.length+2).join("0")}var u={"%":function(A,w){return(A*100).toFixed(w)},b:function(A){return Math.round(A).toString(2)},c:function(A){return A+""},d:y,e:function(A,w){return A.toExponential(w)},f:function(A,w){return A.toFixed(w)},g:function(A,w){return A.toPrecision(w)},o:function(A){return Math.round(A).toString(8)},p:function(A,w){return c(A*100,w)},r:c,s:n,X:function(A){return Math.round(A).toString(16).toUpperCase()},x:function(A){return Math.round(A).toString(16)}};function l(A){return A}var g=Array.prototype.map,f=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(A){var w=A.grouping===void 0||A.thousands===void 0?l:L(g.call(A.grouping,Number),A.thousands+""),C=A.currency===void 0?"":A.currency[0]+"",b=A.currency===void 0?"":A.currency[1]+"",S=A.decimal===void 0?".":A.decimal+"",x=A.numerals===void 0?l:M(g.call(A.numerals,String)),i=A.percent===void 0?"%":A.percent+"",E=A.minus===void 0?"-":A.minus+"",m=A.nan===void 0?"NaN":A.nan+"";function k(U){U=p(U);var z=U.fill,F=U.align,B=U.sign,O=U.symbol,N=U.zero,Y=U.width,$=U.comma,te=U.precision,ie=U.trim,ce=U.type;ce==="n"?($=!0,ce="g"):u[ce]||(te===void 0&&(te=12),ie=!0,ce="g"),(N||z==="0"&&F==="=")&&(N=!0,z="0",F="=");var J=O==="$"?C:O==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",Z=O==="$"?b:/[%p]/.test(ce)?i:"",ae=u[ce],j=/[defgprs%]/.test(ce);te=te===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function q(oe){var Q=J,K=Z,se,ne,fe;if(ce==="c")K=ae(oe)+K,oe="";else{oe=+oe;var ye=oe<0||1/oe<0;if(oe=isNaN(oe)?m:ae(Math.abs(oe),te),ie&&(oe=t(oe)),ye&&+oe==0&&B!=="+"&&(ye=!1),Q=(ye?B==="("?B:E:B==="-"||B==="("?"":B)+Q,K=(ce==="s"?f[8+o/3]:"")+K+(ye&&B==="("?")":""),j){for(se=-1,ne=oe.length;++se<ne;)if(fe=oe.charCodeAt(se),48>fe||fe>57){K=(fe===46?S+oe.slice(se+1):oe.slice(se))+K,oe=oe.slice(0,se);break}}}$&&!N&&(oe=w(oe,1/0));var Ee=Q.length+oe.length+K.length,Te=Ee<Y?new Array(Y-Ee+1).join(z):"";switch($&&N&&(oe=w(Te+oe,Te.length?Y-K.length:1/0),Te=""),F){case"<":oe=Q+oe+K+Te;break;case"=":oe=Q+Te+oe+K;break;case"^":oe=Te.slice(0,Ee=Te.length>>1)+Q+oe+K+Te.slice(Ee);break;default:oe=Te+Q+oe+K;break}return x(oe)}return q.toString=function(){return U+""},q}function I(U,z){var F=k((U=p(U),U.type="f",U)),B=Math.max(-8,Math.min(8,Math.floor(a(z)/3)))*3,O=Math.pow(10,-B),N=f[8+B/3];return function(Y){return F(O*Y)+N}}return{format:k,formatPrefix:I}}var h,s;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(A){return h=T(A),s=h.format,h.formatPrefix,h}},65704:function(G,H,e){e.r(H),e.d(H,{geoAiry:function(){return N},geoAiryRaw:function(){return O},geoAitoff:function(){return $},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return ie},geoArmadilloRaw:function(){return te},geoAugust:function(){return J},geoAugustRaw:function(){return ce},geoBaker:function(){return q},geoBakerRaw:function(){return j},geoBerghaus:function(){return K},geoBerghausRaw:function(){return Q},geoBertin1953:function(){return ke},geoBertin1953Raw:function(){return ze},geoBoggs:function(){return at},geoBoggsRaw:function(){return Ve},geoBonne:function(){return dt},geoBonneRaw:function(){return ct},geoBottomley:function(){return At},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Vt},geoBromleyRaw:function(){return Rt},geoChamberlin:function(){return Ae},geoChamberlinAfrica:function(){return Me},geoChamberlinRaw:function(){return xe},geoCollignon:function(){return Ze},geoCollignonRaw:function(){return Ue},geoCraig:function(){return ft},geoCraigRaw:function(){return tt},geoCraster:function(){return Jt},geoCrasterRaw:function(){return Yt},geoCylindricalEqualArea:function(){return zt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return wr},geoCylindricalStereographicRaw:function(){return $t},geoEckert1:function(){return Xt},geoEckert1Raw:function(){return yt},geoEckert2:function(){return gr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return vt},geoEckert3Raw:function(){return sr},geoEckert4:function(){return xt},geoEckert4Raw:function(){return it},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Mt},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Lt},geoEisenlohr:function(){return lr},geoEisenlohrRaw:function(){return jt},geoFahey:function(){return Ye},geoFaheyRaw:function(){return hr},geoFoucaut:function(){return kt},geoFoucautRaw:function(){return We},geoFoucautSinusoidal:function(){return Zt},geoFoucautSinusoidalRaw:function(){return It},geoGilbert:function(){return vr},geoGingery:function(){return Ur},geoGingeryRaw:function(){return yr},geoGinzburg4:function(){return hn},geoGinzburg4Raw:function(){return Rr},geoGinzburg5:function(){return Fn},geoGinzburg5Raw:function(){return tn},geoGinzburg6:function(){return Mr},geoGinzburg6Raw:function(){return mn},geoGinzburg8:function(){return Wr},geoGinzburg8Raw:function(){return Er},geoGinzburg9:function(){return an},geoGinzburg9Raw:function(){return Hr},geoGringorten:function(){return oa},geoGringortenQuincuncial:function(){return mh},geoGringortenRaw:function(){return pn},geoGuyou:function(){return dn},geoGuyouRaw:function(){return Tr},geoHammer:function(){return ye},geoHammerRaw:function(){return ne},geoHammerRetroazimuthal:function(){return Un},geoHammerRetroazimuthalRaw:function(){return Tn},geoHealpix:function(){return cn},geoHealpixRaw:function(){return br},geoHill:function(){return jr},geoHillRaw:function(){return Lr},geoHomolosine:function(){return Nn},geoHomolosineRaw:function(){return Dn},geoHufnagel:function(){return ga},geoHufnagelRaw:function(){return On},geoHyperelliptical:function(){return vi},geoHyperellipticalRaw:function(){return La},geoInterrupt:function(){return eo},geoInterruptedBoggs:function(){return df},geoInterruptedHomolosine:function(){return $a},geoInterruptedMollweide:function(){return pf},geoInterruptedMollweideHemispheres:function(){return xo},geoInterruptedQuarticAuthalic:function(){return Hs},geoInterruptedSinuMollweide:function(){return Uu},geoInterruptedSinusoidal:function(){return Rl},geoKavrayskiy7:function(){return Hi},geoKavrayskiy7Raw:function(){return zi},geoLagrange:function(){return to},geoLagrangeRaw:function(){return Dl},geoLarrivee:function(){return qf},geoLarriveeRaw:function(){return zo},geoLaskowski:function(){return ah},geoLaskowskiRaw:function(){return Lo},geoLittrow:function(){return Ki},geoLittrowRaw:function(){return cs},geoLoximuthal:function(){return Us},geoLoximuthalRaw:function(){return gf},geoMiller:function(){return yf},geoMillerRaw:function(){return hs},geoModifiedStereographic:function(){return il},geoModifiedStereographicAlaska:function(){return mf},geoModifiedStereographicGs48:function(){return uh},geoModifiedStereographicGs50:function(){return fh},geoModifiedStereographicLee:function(){return rc},geoModifiedStereographicMiller:function(){return tc},geoModifiedStereographicRaw:function(){return ec},geoMollweide:function(){return Ne},geoMollweideRaw:function(){return Ce},geoMtFlatPolarParabolic:function(){return nc},geoMtFlatPolarParabolicRaw:function(){return su},geoMtFlatPolarQuartic:function(){return ch},geoMtFlatPolarQuarticRaw:function(){return Es},geoMtFlatPolarSinusoidal:function(){return ac},geoMtFlatPolarSinusoidalRaw:function(){return Vu},geoNaturalEarth:function(){return ic.Z},geoNaturalEarth2:function(){return Xo},geoNaturalEarth2Raw:function(){return Gu},geoNaturalEarthRaw:function(){return ic.K},geoNellHammer:function(){return ol},geoNellHammerRaw:function(){return kl},geoNicolosi:function(){return xf},geoNicolosiRaw:function(){return vs},geoPatterson:function(){return Fl},geoPattersonRaw:function(){return Yu},geoPeirceQuincuncial:function(){return cc},geoPierceQuincuncial:function(){return cc},geoPolyconic:function(){return vh},geoPolyconicRaw:function(){return Zu},geoPolyhedral:function(){return di},geoPolyhedralButterfly:function(){return fu},geoPolyhedralCollignon:function(){return ll},geoPolyhedralWaterman:function(){return Gs},geoProject:function(){return gh},geoQuantize:function(){return hc},geoQuincuncial:function(){return Ps},geoRectangularPolyconic:function(){return vc},geoRectangularPolyconicRaw:function(){return Ef},geoRobinson:function(){return Ws},geoRobinsonRaw:function(){return qo},geoSatellite:function(){return ul},geoSatelliteRaw:function(){return Ju},geoSinuMollweide:function(){return kn},geoSinuMollweideRaw:function(){return wn},geoSinusoidal:function(){return et},geoSinusoidalRaw:function(){return $e},geoStitch:function(){return yu},geoTimes:function(){return Vi},geoTimesRaw:function(){return Xs},geoTwoPointAzimuthal:function(){return qu},geoTwoPointAzimuthalRaw:function(){return Lf},geoTwoPointAzimuthalUsa:function(){return cl},geoTwoPointEquidistant:function(){return gc},geoTwoPointEquidistantRaw:function(){return mu},geoTwoPointEquidistantUsa:function(){return xh},geoVanDerGrinten:function(){return xu},geoVanDerGrinten2:function(){return yc},geoVanDerGrinten2Raw:function(){return Zl},geoVanDerGrinten3:function(){return bh},geoVanDerGrinten3Raw:function(){return js},geoVanDerGrinten4:function(){return bu},geoVanDerGrinten4Raw:function(){return Ro},geoVanDerGrintenRaw:function(){return vo},geoWagner:function(){return Ks},geoWagner4:function(){return mc},geoWagner4Raw:function(){return tf},geoWagner6:function(){return Rf},geoWagner6Raw:function(){return Au},geoWagner7:function(){return Pf},geoWagnerRaw:function(){return Is},geoWiechel:function(){return Df},geoWiechelRaw:function(){return hl},geoWinkel3:function(){return xc},geoWinkel3Raw:function(){return Mu}});var y=e(15002),P=Math.abs,a=Math.atan,L=Math.atan2,M=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,o=Math.min,n=Math.pow,c=Math.round,u=Math.sign||function(je){return je>0?1:je<0?-1:0},l=Math.sin,g=Math.tan,f=1e-6,T=1e-12,h=Math.PI,s=h/2,d=h/4,A=Math.SQRT1_2,w=k(2),C=k(h),b=h*2,S=180/h,x=h/180;function i(je){return je?je/Math.sin(je):1}function E(je){return je>1?s:je<-1?-s:Math.asin(je)}function m(je){return je>1?0:je<-1?h:Math.acos(je)}function k(je){return je>0?Math.sqrt(je):0}function I(je){return je=v(2*je),(je-1)/(je+1)}function U(je){return(v(je)-v(-je))/2}function z(je){return(v(je)+v(-je))/2}function F(je){return r(je+k(je*je+1))}function B(je){return r(je+k(je*je-1))}function O(je){var nt=g(je/2),ht=2*r(M(je/2))/(nt*nt);function mt(_t,Pt){var Ft=M(_t),dr=M(Pt),xr=l(Pt),ar=dr*Ft,Ar=-((1-ar?r((1+ar)/2)/(1-ar):-.5)+ht/(1+ar));return[Ar*dr*l(_t),Ar*xr]}return mt.invert=function(_t,Pt){var Ft=k(_t*_t+Pt*Pt),dr=-je/2,xr=50,ar;if(!Ft)return[0,0];do{var Ar=dr/2,Ir=M(Ar),Fr=l(Ar),en=Fr/Ir,xn=-r(P(Ir));dr-=ar=(2/en*xn-ht*en-Ft)/(-xn/(Fr*Fr)+1-ht/(2*Ir*Ir))*(Ir<0?.7:1)}while(P(ar)>f&&--xr>0);var Cn=l(dr);return[L(_t*Cn,Ft*M(dr)),E(Pt*Cn/Ft)]},mt}function N(){var je=s,nt=(0,y.r)(O),ht=nt(je);return ht.radius=function(mt){return arguments.length?nt(je=mt*x):je*S},ht.scale(179.976).clipAngle(147)}function Y(je,nt){var ht=M(nt),mt=i(m(ht*M(je/=2)));return[2*ht*l(je)*mt,l(nt)*mt]}Y.invert=function(je,nt){if(!(je*je+4*nt*nt>h*h+f)){var ht=je,mt=nt,_t=25;do{var Pt=l(ht),Ft=l(ht/2),dr=M(ht/2),xr=l(mt),ar=M(mt),Ar=l(2*mt),Ir=xr*xr,Fr=ar*ar,en=Ft*Ft,xn=1-Fr*dr*dr,Cn=xn?m(ar*dr)*k(Ln=1/xn):Ln=0,Ln,Xn=2*Cn*ar*Ft-je,Pa=Cn*xr-nt,Ra=Ln*(Fr*en+Cn*ar*dr*Ir),Da=Ln*(.5*Pt*Ar-Cn*2*xr*Ft),za=Ln*.25*(Ar*Ft-Cn*xr*Fr*Pt),Za=Ln*(Ir*dr+Cn*en*ar),ci=Da*za-Za*Ra;if(!ci)break;var _i=(Pa*Da-Xn*Za)/ci,ue=(Xn*za-Pa*Ra)/ci;ht-=_i,mt-=ue}while((P(_i)>f||P(ue)>f)&&--_t>0);return[ht,mt]}};function $(){return(0,y.Z)(Y).scale(152.63)}function te(je){var nt=l(je),ht=M(je),mt=je>=0?1:-1,_t=g(mt*je),Pt=(1+nt-ht)/2;function Ft(dr,xr){var ar=M(xr),Ar=M(dr/=2);return[(1+ar)*l(dr),(mt*xr>-L(Ar,_t)-.001?0:-mt*10)+Pt+l(xr)*ht-(1+ar)*nt*Ar]}return Ft.invert=function(dr,xr){var ar=0,Ar=0,Ir=50;do{var Fr=M(ar),en=l(ar),xn=M(Ar),Cn=l(Ar),Ln=1+xn,Xn=Ln*en-dr,Pa=Pt+Cn*ht-Ln*nt*Fr-xr,Ra=Ln*Fr/2,Da=-en*Cn,za=nt*Ln*en/2,Za=ht*xn+nt*Fr*Cn,ci=Da*za-Za*Ra,_i=(Pa*Da-Xn*Za)/ci/2,ue=(Xn*za-Pa*Ra)/ci;P(ue)>2&&(ue/=2),ar-=_i,Ar-=ue}while((P(_i)>f||P(ue)>f)&&--Ir>0);return mt*Ar>-L(M(ar),_t)-.001?[ar*2,Ar]:null},Ft}function ie(){var je=20*x,nt=je>=0?1:-1,ht=g(nt*je),mt=(0,y.r)(te),_t=mt(je),Pt=_t.stream;return _t.parallel=function(Ft){return arguments.length?(ht=g((nt=(je=Ft*x)>=0?1:-1)*je),mt(je)):je*S},_t.stream=function(Ft){var dr=_t.rotate(),xr=Pt(Ft),ar=(_t.rotate([0,0]),Pt(Ft)),Ar=_t.precision();return _t.rotate(dr),xr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Ir=nt*-180;nt*Ir<180;Ir+=nt*90)ar.point(Ir,nt*90);if(je)for(;nt*(Ir-=3*nt*Ar)>=-180;)ar.point(Ir,nt*-L(M(Ir*x/2),ht)*S);ar.lineEnd(),ar.polygonEnd()},xr},_t.scale(218.695).center([0,28.0974])}function ce(je,nt){var ht=g(nt/2),mt=k(1-ht*ht),_t=1+mt*M(je/=2),Pt=l(je)*mt/_t,Ft=ht/_t,dr=Pt*Pt,xr=Ft*Ft;return[1.3333333333333333*Pt*(3+dr-3*xr),1.3333333333333333*Ft*(3+3*dr-xr)]}ce.invert=function(je,nt){if(je*=.375,nt*=.375,!je&&P(nt)>1)return null;var ht=je*je,mt=nt*nt,_t=1+ht+mt,Pt=k((_t-k(_t*_t-4*nt*nt))/2),Ft=E(Pt)/3,dr=Pt?B(P(nt/Pt))/3:F(P(je))/3,xr=M(Ft),ar=z(dr),Ar=ar*ar-xr*xr;return[u(je)*2*L(U(dr)*xr,.25-Ar),u(nt)*2*L(ar*l(Ft),.25+Ar)]};function J(){return(0,y.Z)(ce).scale(66.1603)}var Z=k(8),ae=r(1+w);function j(je,nt){var ht=P(nt);return ht<d?[je,r(g(d+nt/2))]:[je*M(ht)*(2*w-1/l(ht)),u(nt)*(2*w*(ht-d)-r(g(ht/2)))]}j.invert=function(je,nt){if((Pt=P(nt))<ae)return[je,2*a(v(nt))-s];var ht=d,mt=25,_t,Pt;do{var Ft=M(ht/2),dr=g(ht/2);ht-=_t=(Z*(ht-d)-r(dr)-Pt)/(Z-Ft*Ft/(2*dr))}while(P(_t)>T&&--mt>0);return[je/(M(ht)*(Z-1/l(ht))),u(nt)*ht]};function q(){return(0,y.Z)(j).scale(112.314)}var oe=e(17889);function Q(je){var nt=2*h/je;function ht(mt,_t){var Pt=(0,oe.N)(mt,_t);if(P(mt)>s){var Ft=L(Pt[1],Pt[0]),dr=k(Pt[0]*Pt[0]+Pt[1]*Pt[1]),xr=nt*c((Ft-s)/nt)+s,ar=L(l(Ft-=xr),2-M(Ft));Ft=xr+E(h/dr*l(ar))-ar,Pt[0]=dr*M(Ft),Pt[1]=dr*l(Ft)}return Pt}return ht.invert=function(mt,_t){var Pt=k(mt*mt+_t*_t);if(Pt>s){var Ft=L(_t,mt),dr=nt*c((Ft-s)/nt)+s,xr=Ft>dr?-1:1,ar=Pt*M(dr-Ft),Ar=1/g(xr*m((ar-h)/k(h*(h-2*ar)+Pt*Pt)));Ft=dr+2*a((Ar+xr*k(Ar*Ar-3))/3),mt=Pt*M(Ft),_t=Pt*l(Ft)}return oe.N.invert(mt,_t)},ht}function K(){var je=5,nt=(0,y.r)(Q),ht=nt(je),mt=ht.stream,_t=.01,Pt=-M(_t*x),Ft=l(_t*x);return ht.lobes=function(dr){return arguments.length?nt(je=+dr):je},ht.stream=function(dr){var xr=ht.rotate(),ar=mt(dr),Ar=(ht.rotate([0,0]),mt(dr));return ht.rotate(xr),ar.sphere=function(){Ar.polygonStart(),Ar.lineStart();for(var Ir=0,Fr=360/je,en=2*h/je,xn=90-180/je,Cn=s;Ir<je;++Ir,xn-=Fr,Cn-=en)Ar.point(L(Ft*M(Cn),Pt)*S,E(Ft*l(Cn))*S),xn<-90?(Ar.point(-90,-180-xn-_t),Ar.point(-90,-180-xn+_t)):(Ar.point(90,xn+_t),Ar.point(90,xn-_t));Ar.lineEnd(),Ar.polygonEnd()},ar},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(12956);function ne(je,nt){if(arguments.length<2&&(nt=je),nt===1)return se.l;if(nt===1/0)return fe;function ht(mt,_t){var Pt=(0,se.l)(mt/nt,_t);return Pt[0]*=je,Pt}return ht.invert=function(mt,_t){var Pt=se.l.invert(mt/je,_t);return Pt[0]*=nt,Pt},ht}function fe(je,nt){return[je*M(nt)/M(nt/=2),2*l(nt)]}fe.invert=function(je,nt){var ht=2*E(nt/2);return[je*M(ht/2)/M(ht),ht]};function ye(){var je=2,nt=(0,y.r)(ne),ht=nt(je);return ht.coefficient=function(mt){return arguments.length?nt(je=+mt):je},ht.scale(169.529)}function Ee(je,nt,ht){var mt=100,_t,Pt,Ft;ht=ht===void 0?0:+ht,nt=+nt;do Pt=je(ht),Ft=je(ht+f),Pt===Ft&&(Ft=Pt+f),ht-=_t=-1*f*(Pt-nt)/(Pt-Ft);while(mt-- >0&&P(_t)>f);return mt<0?NaN:ht}function Te(je,nt,ht){return nt===void 0&&(nt=40),ht===void 0&&(ht=T),function(mt,_t,Pt,Ft){var dr,xr,ar;Pt=Pt===void 0?0:+Pt,Ft=Ft===void 0?0:+Ft;for(var Ar=0;Ar<nt;Ar++){var Ir=je(Pt,Ft),Fr=Ir[0]-mt,en=Ir[1]-_t;if(P(Fr)<ht&&P(en)<ht)break;var xn=Fr*Fr+en*en;if(xn>dr){Pt-=xr/=2,Ft-=ar/=2;continue}dr=xn;var Cn=(Pt>0?-1:1)*ht,Ln=(Ft>0?-1:1)*ht,Xn=je(Pt+Cn,Ft),Pa=je(Pt,Ft+Ln),Ra=(Xn[0]-Ir[0])/Cn,Da=(Xn[1]-Ir[1])/Cn,za=(Pa[0]-Ir[0])/Ln,Za=(Pa[1]-Ir[1])/Ln,ci=Za*Ra-Da*za,_i=(P(ci)<.5?.5:1)/ci;if(xr=(en*za-Fr*Za)*_i,ar=(Fr*Da-en*Ra)*_i,Pt+=xr,Ft+=ar,P(xr)<ht&&P(ar)<ht)break}return[Pt,Ft]}}function ze(){var je=ne(1.68,2),nt=1.4,ht=12;function mt(_t,Pt){if(_t+Pt<-nt){var Ft=(_t-Pt+1.6)*(_t+Pt+nt)/8;_t+=Ft,Pt-=.8*Ft*l(Pt+h/2)}var dr=je(_t,Pt),xr=(1-M(_t*Pt))/ht;return dr[1]<0&&(dr[0]*=1+xr),dr[1]>0&&(dr[1]*=1+xr/1.5*dr[0]*dr[0]),dr}return mt.invert=Te(mt),mt}function ke(){return(0,y.Z)(ze()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Se(je,nt){var ht=je*l(nt),mt=30,_t;do nt-=_t=(nt+l(nt)-ht)/(1+M(nt));while(P(_t)>f&&--mt>0);return nt/2}function me(je,nt,ht){function mt(_t,Pt){return[je*_t*M(Pt=Se(ht,Pt)),nt*l(Pt)]}return mt.invert=function(_t,Pt){return Pt=E(Pt/nt),[_t/(je*M(Pt)),E((2*Pt+l(2*Pt))/ht)]},mt}var Ce=me(w/s,w,h);function Ne(){return(0,y.Z)(Ce).scale(169.529)}var He=2.00276,De=1.11072;function Ve(je,nt){var ht=Se(h,nt);return[He*je/(1/M(nt)+De/M(ht)),(nt+w*l(ht))/He]}Ve.invert=function(je,nt){var ht=He*nt,mt=nt<0?-d:d,_t=25,Pt,Ft;do Ft=ht-w*l(mt),mt-=Pt=(l(2*mt)+2*mt-h*l(Ft))/(2*M(2*mt)+2+h*M(Ft)*w*M(mt));while(P(Pt)>f&&--_t>0);return Ft=ht-w*l(mt),[je*(1/M(Ft)+De/M(mt))/He,Ft]};function at(){return(0,y.Z)(Ve).scale(160.857)}function lt(je){var nt=0,ht=(0,y.r)(je),mt=ht(nt);return mt.parallel=function(_t){return arguments.length?ht(nt=_t*x):nt*S},mt}function $e(je,nt){return[je*M(nt),nt]}$e.invert=function(je,nt){return[je/M(nt),nt]};function et(){return(0,y.Z)($e).scale(152.63)}function ct(je){if(!je)return $e;var nt=1/g(je);function ht(mt,_t){var Pt=nt+je-_t,Ft=Pt&&mt*M(_t)/Pt;return[Pt*l(Ft),nt-Pt*M(Ft)]}return ht.invert=function(mt,_t){var Pt=k(mt*mt+(_t=nt-_t)*_t),Ft=nt+je-Pt;return[Pt/M(Ft)*L(mt,_t),Ft]},ht}function dt(){return lt(ct).scale(123.082).center([0,26.1441]).parallel(45)}function gt(je){function nt(ht,mt){var _t=s-mt,Pt=_t&&ht*je*l(_t)/_t;return[_t*l(Pt)/je,s-_t*M(Pt)]}return nt.invert=function(ht,mt){var _t=ht*je,Pt=s-mt,Ft=k(_t*_t+Pt*Pt),dr=L(_t,Pt);return[(Ft?Ft/l(Ft):1)*dr/je,s-Ft]},nt}function At(){var je=.5,nt=(0,y.r)(gt),ht=nt(je);return ht.fraction=function(mt){return arguments.length?nt(je=+mt):je},ht.scale(158.837)}var Rt=me(1,4/h,h);function Vt(){return(0,y.Z)(Rt).scale(152.63)}var Je=e(66624),Ge=e(49386);function Ie(je,nt,ht,mt,_t,Pt){var Ft=M(Pt),dr;if(P(je)>1||P(Pt)>1)dr=m(ht*_t+nt*mt*Ft);else{var xr=l(je/2),ar=l(Pt/2);dr=2*E(k(xr*xr+nt*mt*ar*ar))}return P(dr)>f?[dr,L(mt*l(Pt),nt*_t-ht*mt*Ft)]:[0,0]}function Fe(je,nt,ht){return m((je*je+nt*nt-ht*ht)/(2*je*nt))}function Pe(je){return je-2*h*p((je+h)/(2*h))}function xe(je,nt,ht){for(var mt=[[je[0],je[1],l(je[1]),M(je[1])],[nt[0],nt[1],l(nt[1]),M(nt[1])],[ht[0],ht[1],l(ht[1]),M(ht[1])]],_t=mt[2],Pt,Ft=0;Ft<3;++Ft,_t=Pt)Pt=mt[Ft],_t.v=Ie(Pt[1]-_t[1],_t[3],_t[2],Pt[3],Pt[2],Pt[0]-_t[0]),_t.point=[0,0];var dr=Fe(mt[0].v[0],mt[2].v[0],mt[1].v[0]),xr=Fe(mt[0].v[0],mt[1].v[0],mt[2].v[0]),ar=h-dr;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var Ar=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*M(dr),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*l(dr))];function Ir(Fr,en){var xn=l(en),Cn=M(en),Ln=new Array(3),Xn;for(Xn=0;Xn<3;++Xn){var Pa=mt[Xn];if(Ln[Xn]=Ie(en-Pa[1],Pa[3],Pa[2],Cn,xn,Fr-Pa[0]),!Ln[Xn][0])return Pa.point;Ln[Xn][1]=Pe(Ln[Xn][1]-Pa.v[1])}var Ra=Ar.slice();for(Xn=0;Xn<3;++Xn){var Da=Xn==2?0:Xn+1,za=Fe(mt[Xn].v[0],Ln[Xn][0],Ln[Da][0]);Ln[Xn][1]<0&&(za=-za),Xn?Xn==1?(za=xr-za,Ra[0]-=Ln[Xn][0]*M(za),Ra[1]-=Ln[Xn][0]*l(za)):(za=ar-za,Ra[0]+=Ln[Xn][0]*M(za),Ra[1]+=Ln[Xn][0]*l(za)):(Ra[0]+=Ln[Xn][0]*M(za),Ra[1]-=Ln[Xn][0]*l(za))}return Ra[0]/=3,Ra[1]/=3,Ra}return Ir}function ge(je){return je[0]*=x,je[1]*=x,je}function Me(){return Ae([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Ae(je,nt,ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:[je,nt,ht]}),_t=[-mt[0],-mt[1]],Pt=(0,Ge.Z)(_t),Ft=xe(ge(Pt(je)),ge(Pt(nt)),ge(Pt(ht)));Ft.invert=Te(Ft);var dr=(0,y.Z)(Ft).rotate(_t),xr=dr.center;return delete dr.rotate,dr.center=function(ar){return arguments.length?xr(Pt(ar)):Pt.invert(xr())},dr.clipAngle(90)}function Ue(je,nt){var ht=k(1-l(nt));return[2/C*je*ht,C*(1-ht)]}Ue.invert=function(je,nt){var ht=(ht=nt/C-1)*ht;return[ht>0?je*k(h/ht)/2:0,E(1-ht)]};function Ze(){return(0,y.Z)(Ue).scale(95.6464).center([0,30])}function tt(je){var nt=g(je);function ht(mt,_t){return[mt,(mt?mt/l(mt):1)*(l(_t)*M(mt)-nt*M(_t))]}return ht.invert=nt?function(mt,_t){mt&&(_t*=l(mt)/mt);var Pt=M(mt);return[mt,2*L(k(Pt*Pt+nt*nt-_t*_t)-Pt,nt-_t)]}:function(mt,_t){return[mt,E(mt?_t*g(mt)/mt:_t)]},ht}function ft(){return lt(tt).scale(249.828).clipAngle(90)}var pt=k(3);function Yt(je,nt){return[pt*je*(2*M(2*nt/3)-1)/C,pt*C*l(nt/3)]}Yt.invert=function(je,nt){var ht=3*E(nt/(pt*C));return[C*je/(pt*(2*M(2*ht/3)-1)),ht]};function Jt(){return(0,y.Z)(Yt).scale(156.19)}function Tt(je){var nt=M(je);function ht(mt,_t){return[mt*nt,l(_t)/nt]}return ht.invert=function(mt,_t){return[mt/nt,E(_t*nt)]},ht}function zt(){return lt(Tt).parallel(38.58).scale(195.044)}function $t(je){var nt=M(je);function ht(mt,_t){return[mt*nt,(1+nt)*g(_t/2)]}return ht.invert=function(mt,_t){return[mt/nt,a(_t/(1+nt))*2]},ht}function wr(){return lt($t).scale(124.75)}function yt(je,nt){var ht=k(8/(3*h));return[ht*je*(1-P(nt)/h),ht*nt]}yt.invert=function(je,nt){var ht=k(8/(3*h)),mt=nt/ht;return[je/(ht*(1-P(mt)/h)),mt]};function Xt(){return(0,y.Z)(yt).scale(165.664)}function Qt(je,nt){var ht=k(4-3*l(P(nt)));return[2/k(6*h)*je*ht,u(nt)*k(2*h/3)*(2-ht)]}Qt.invert=function(je,nt){var ht=2-P(nt)/k(2*h/3);return[je*k(6*h)/(2*ht),u(nt)*E((4-ht*ht)/3)]};function gr(){return(0,y.Z)(Qt).scale(165.664)}function sr(je,nt){var ht=k(h*(4+h));return[2/ht*je*(1+k(1-4*nt*nt/(h*h))),4/ht*nt]}sr.invert=function(je,nt){var ht=k(h*(4+h))/2;return[je*ht/(1+k(1-nt*nt*(4+h)/(4*h))),nt*ht/2]};function vt(){return(0,y.Z)(sr).scale(180.739)}function it(je,nt){var ht=(2+s)*l(nt);nt/=2;for(var mt=0,_t=1/0;mt<10&&P(_t)>f;mt++){var Pt=M(nt);nt-=_t=(nt+l(nt)*(Pt+2)-ht)/(2*Pt*(1+Pt))}return[2/k(h*(4+h))*je*(1+M(nt)),2*k(h/(4+h))*l(nt)]}it.invert=function(je,nt){var ht=nt*k((4+h)/h)/2,mt=E(ht),_t=M(mt);return[je/(2/k(h*(4+h))*(1+_t)),E((mt+ht*(_t+2))/(2+s))]};function xt(){return(0,y.Z)(it).scale(180.739)}function Mt(je,nt){return[je*(1+M(nt))/k(2+h),2*nt/k(2+h)]}Mt.invert=function(je,nt){var ht=k(2+h),mt=nt*ht/2;return[ht*je/(1+M(mt)),mt]};function Dt(){return(0,y.Z)(Mt).scale(173.044)}function Lt(je,nt){for(var ht=(1+s)*l(nt),mt=0,_t=1/0;mt<10&&P(_t)>f;mt++)nt-=_t=(nt+l(nt)-ht)/(1+M(nt));return ht=k(2+h),[je*(1+M(nt))/ht,2*nt/ht]}Lt.invert=function(je,nt){var ht=1+s,mt=k(ht/2);return[je*2*mt/(1+M(nt*=mt)),E((nt+l(nt))/ht)]};function Bt(){return(0,y.Z)(Lt).scale(173.044)}var Nt=3+2*w;function jt(je,nt){var ht=l(je/=2),mt=M(je),_t=k(M(nt)),Pt=M(nt/=2),Ft=l(nt)/(Pt+w*mt*_t),dr=k(2/(1+Ft*Ft)),xr=k((w*Pt+(mt+ht)*_t)/(w*Pt+(mt-ht)*_t));return[Nt*(dr*(xr-1/xr)-2*r(xr)),Nt*(dr*Ft*(xr+1/xr)-2*a(Ft))]}jt.invert=function(je,nt){if(!(Pt=ce.invert(je/1.2,nt*1.065)))return null;var ht=Pt[0],mt=Pt[1],_t=20,Pt;je/=Nt,nt/=Nt;do{var Ft=ht/2,dr=mt/2,xr=l(Ft),ar=M(Ft),Ar=l(dr),Ir=M(dr),Fr=M(mt),en=k(Fr),xn=Ar/(Ir+w*ar*en),Cn=xn*xn,Ln=k(2/(1+Cn)),Xn=w*Ir+(ar+xr)*en,Pa=w*Ir+(ar-xr)*en,Ra=Xn/Pa,Da=k(Ra),za=Da-1/Da,Za=Da+1/Da,ci=Ln*za-2*r(Da)-je,_i=Ln*xn*Za-2*a(xn)-nt,ue=Ar&&A*en*xr*Cn/Ar,Le=(w*ar*Ir+en)/(2*(Ir+w*ar*en)*(Ir+w*ar*en)*en),Oe=-.5*xn*Ln*Ln*Ln,Qe=Oe*ue,rt=Oe*Le,st=(st=2*Ir+w*en*(ar-xr))*st*Da,Et=(w*ar*Ir*en+Fr)/st,bt=-(w*xr*Ar)/(en*st),Ht=za*Qe-2*Et/Da+Ln*(Et+Et/Ra),Gt=za*rt-2*bt/Da+Ln*(bt+bt/Ra),tr=xn*Za*Qe-2*ue/(1+Cn)+Ln*Za*ue+Ln*xn*(Et-Et/Ra),Cr=xn*Za*rt-2*Le/(1+Cn)+Ln*Za*Le+Ln*xn*(bt-bt/Ra),Pr=Gt*tr-Cr*Ht;if(!Pr)break;var Jr=(_i*Gt-ci*Cr)/Pr,nn=(ci*tr-_i*Ht)/Pr;ht-=Jr,mt=t(-s,o(s,mt-nn))}while((P(Jr)>f||P(nn)>f)&&--_t>0);return P(P(mt)-s)<f?[0,mt]:_t&&[ht,mt]};function lr(){return(0,y.Z)(jt).scale(62.5271)}var fr=M(35*x);function hr(je,nt){var ht=g(nt/2);return[je*fr*k(1-ht*ht),(1+fr)*ht]}hr.invert=function(je,nt){var ht=nt/(1+fr);return[je&&je/(fr*k(1-ht*ht)),2*a(ht)]};function Ye(){return(0,y.Z)(hr).scale(137.152)}function We(je,nt){var ht=nt/2,mt=M(ht);return[2*je/C*M(nt)*mt*mt,C*g(ht)]}We.invert=function(je,nt){var ht=a(nt/C),mt=M(ht),_t=2*ht;return[je*C/2/(M(_t)*mt*mt),_t]};function kt(){return(0,y.Z)(We).scale(135.264)}function It(je){var nt=1-je,ht=Pt(h,0)[0]-Pt(-h,0)[0],mt=Pt(0,s)[1]-Pt(0,-s)[1],_t=k(2*mt/ht);function Pt(xr,ar){var Ar=M(ar),Ir=l(ar);return[Ar/(nt+je*Ar)*xr,nt*ar+je*Ir]}function Ft(xr,ar){var Ar=Pt(xr,ar);return[Ar[0]*_t,Ar[1]/_t]}function dr(xr){return Ft(0,xr)[1]}return Ft.invert=function(xr,ar){var Ar=Ee(dr,ar),Ir=xr/_t*(je+nt/M(Ar));return[Ir,Ar]},Ft}function Zt(){var je=.5,nt=(0,y.r)(It),ht=nt(je);return ht.alpha=function(mt){return arguments.length?nt(je=+mt):je},ht.scale(168.725)}var rr=e(57962),ur=e(97492);function er(je){return[je[0]/2,E(g(je[1]/2*x))*S]}function Ot(je){return[je[0]*2,2*a(l(je[1]*x))*S]}function vr(je){je==null&&(je=rr.Z);var nt=je(),ht=(0,ur.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function mt(Pt){return nt(er(Pt))}nt.invert&&(mt.invert=function(Pt){return Ot(nt.invert(Pt))}),mt.stream=function(Pt){var Ft=nt.stream(Pt),dr=ht.stream({point:function(xr,ar){Ft.point(xr/2,E(g(-ar/2*x))*S)},lineStart:function(){Ft.lineStart()},lineEnd:function(){Ft.lineEnd()},polygonStart:function(){Ft.polygonStart()},polygonEnd:function(){Ft.polygonEnd()}});return dr.sphere=Ft.sphere,dr};function _t(Pt){mt[Pt]=function(){return arguments.length?(nt[Pt].apply(nt,arguments),mt):nt[Pt]()}}return mt.rotate=function(Pt){return arguments.length?(ht.rotate(Pt),mt):ht.rotate()},mt.center=function(Pt){return arguments.length?(nt.center(er(Pt)),mt):Ot(nt.center())},_t("angle"),_t("clipAngle"),_t("clipExtent"),_t("fitExtent"),_t("fitHeight"),_t("fitSize"),_t("fitWidth"),_t("scale"),_t("translate"),_t("precision"),mt.scale(249.5)}function yr(je,nt){var ht=2*h/nt,mt=je*je;function _t(Pt,Ft){var dr=(0,oe.N)(Pt,Ft),xr=dr[0],ar=dr[1],Ar=xr*xr+ar*ar;if(Ar>mt){var Ir=k(Ar),Fr=L(ar,xr),en=ht*c(Fr/ht),xn=Fr-en,Cn=je*M(xn),Ln=(je*l(xn)-xn*l(Cn))/(s-Cn),Xn=pr(xn,Ln),Pa=(h-je)/cr(Xn,Cn,h);xr=Ir;var Ra=50,Da;do xr-=Da=(je+cr(Xn,Cn,xr)*Pa-Ir)/(Xn(xr)*Pa);while(P(Da)>f&&--Ra>0);ar=xn*l(xr),xr<s&&(ar-=Ln*(xr-s));var za=l(en),Za=M(en);dr[0]=xr*Za-ar*za,dr[1]=xr*za+ar*Za}return dr}return _t.invert=function(Pt,Ft){var dr=Pt*Pt+Ft*Ft;if(dr>mt){var xr=k(dr),ar=L(Ft,Pt),Ar=ht*c(ar/ht),Ir=ar-Ar;Pt=xr*M(Ir),Ft=xr*l(Ir);for(var Fr=Pt-s,en=l(Pt),xn=Ft/en,Cn=Pt<s?1/0:0,Ln=10;;){var Xn=je*l(xn),Pa=je*M(xn),Ra=l(Pa),Da=s-Pa,za=(Xn-xn*Ra)/Da,Za=pr(xn,za);if(P(Cn)<T||!--Ln)break;xn-=Cn=(xn*en-za*Fr-Ft)/(en-Fr*2*(Da*(Pa+xn*Xn*M(Pa)-Ra)-Xn*(Xn-xn*Ra))/(Da*Da))}xr=je+cr(Za,Pa,Pt)*(h-je)/cr(Za,Pa,h),ar=Ar+xn,Pt=xr*M(ar),Ft=xr*l(ar)}return oe.N.invert(Pt,Ft)},_t}function pr(je,nt){return function(ht){var mt=je*M(ht);return ht<s&&(mt-=nt),k(1+mt*mt)}}function cr(je,nt,ht){for(var mt=50,_t=(ht-nt)/mt,Pt=je(nt)+je(ht),Ft=1,dr=nt;Ft<mt;++Ft)Pt+=2*je(dr+=_t);return Pt*.5*_t}function Ur(){var je=6,nt=30*x,ht=M(nt),mt=l(nt),_t=(0,y.r)(yr),Pt=_t(nt,je),Ft=Pt.stream,dr=.01,xr=-M(dr*x),ar=l(dr*x);return Pt.radius=function(Ar){return arguments.length?(ht=M(nt=Ar*x),mt=l(nt),_t(nt,je)):nt*S},Pt.lobes=function(Ar){return arguments.length?_t(nt,je=+Ar):je},Pt.stream=function(Ar){var Ir=Pt.rotate(),Fr=Ft(Ar),en=(Pt.rotate([0,0]),Ft(Ar));return Pt.rotate(Ir),Fr.sphere=function(){en.polygonStart(),en.lineStart();for(var xn=0,Cn=2*h/je,Ln=0;xn<je;++xn,Ln-=Cn)en.point(L(ar*M(Ln),xr)*S,E(ar*l(Ln))*S),en.point(L(mt*M(Ln-Cn/2),ht)*S,E(mt*l(Ln-Cn/2))*S);en.lineEnd(),en.polygonEnd()},Fr},Pt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function kr(je,nt,ht,mt,_t,Pt,Ft,dr){arguments.length<8&&(dr=0);function xr(ar,Ar){if(!Ar)return[je*ar/h,0];var Ir=Ar*Ar,Fr=je+Ir*(nt+Ir*(ht+Ir*mt)),en=Ar*(_t-1+Ir*(Pt-dr+Ir*Ft)),xn=(Fr*Fr+en*en)/(2*en),Cn=ar*E(Fr/xn)/h;return[xn*l(Cn),Ar*(1+Ir*dr)+xn*(1-M(Cn))]}return xr.invert=function(ar,Ar){var Ir=h*ar/je,Fr=Ar,en,xn,Cn=50;do{var Ln=Fr*Fr,Xn=je+Ln*(nt+Ln*(ht+Ln*mt)),Pa=Fr*(_t-1+Ln*(Pt-dr+Ln*Ft)),Ra=Xn*Xn+Pa*Pa,Da=2*Pa,za=Ra/Da,Za=za*za,ci=E(Xn/za)/h,_i=Ir*ci,ue=Xn*Xn,Le=(2*nt+Ln*(4*ht+Ln*6*mt))*Fr,Oe=_t+Ln*(3*Pt+Ln*5*Ft),Qe=2*(Xn*Le+Pa*(Oe-1)),rt=2*(Oe-1),st=(Qe*Da-Ra*rt)/(Da*Da),Et=M(_i),bt=l(_i),Ht=za*Et,Gt=za*bt,tr=Ir/h*(1/k(1-ue/Za))*(Le*za-Xn*st)/Za,Cr=Gt-ar,Pr=Fr*(1+Ln*dr)+za-Ht-Ar,Jr=st*bt+Ht*tr,nn=Ht*ci,Dr=1+st-(st*Et-Gt*tr),Br=Gt*ci,Xr=Jr*Br-Dr*nn;if(!Xr)break;Ir-=en=(Pr*Jr-Cr*Dr)/Xr,Fr-=xn=(Cr*Br-Pr*nn)/Xr}while((P(en)>f||P(xn)>f)&&--Cn>0);return[Ir,Fr]},xr}var Rr=kr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function hn(){return(0,y.Z)(Rr).scale(149.995)}var tn=kr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Fn(){return(0,y.Z)(tn).scale(153.93)}var mn=kr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Mr(){return(0,y.Z)(mn).scale(130.945)}function Er(je,nt){var ht=je*je,mt=nt*nt;return[je*(1-.162388*mt)*(.87-952426e-9*ht*ht),nt*(1+mt/12)]}Er.invert=function(je,nt){var ht=je,mt=nt,_t=50,Pt;do{var Ft=mt*mt;mt-=Pt=(mt*(1+Ft/12)-nt)/(1+Ft/4)}while(P(Pt)>f&&--_t>0);_t=50,je/=1-.162388*Ft;do{var dr=(dr=ht*ht)*dr;ht-=Pt=(ht*(.87-952426e-9*dr)-je)/(.87-.00476213*dr)}while(P(Pt)>f&&--_t>0);return[ht,mt]};function Wr(){return(0,y.Z)(Er).scale(131.747)}var Hr=kr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function an(){return(0,y.Z)(Hr).scale(131.087)}function vn(je){var nt=je(s,0)[0]-je(-s,0)[0];function ht(mt,_t){var Pt=mt>0?-.5:.5,Ft=je(mt+Pt*h,_t);return Ft[0]-=Pt*nt,Ft}return je.invert&&(ht.invert=function(mt,_t){var Pt=mt>0?-.5:.5,Ft=je.invert(mt+Pt*nt,_t),dr=Ft[0]-Pt*h;return dr<-h?dr+=2*h:dr>h&&(dr-=2*h),Ft[0]=dr,Ft}),ht}function pn(je,nt){var ht=u(je),mt=u(nt),_t=M(nt),Pt=M(je)*_t,Ft=l(je)*_t,dr=l(mt*nt);je=P(L(Ft,dr)),nt=E(Pt),P(je-s)>f&&(je%=s);var xr=En(je>h/4?s-je:je,nt);return je>h/4&&(dr=xr[0],xr[0]=-xr[1],xr[1]=-dr),xr[0]*=ht,xr[1]*=-mt,xr}pn.invert=function(je,nt){P(je)>1&&(je=u(je)*2-je),P(nt)>1&&(nt=u(nt)*2-nt);var ht=u(je),mt=u(nt),_t=-ht*je,Pt=-mt*nt,Ft=Pt/_t<1,dr=_n(Ft?Pt:_t,Ft?_t:Pt),xr=dr[0],ar=dr[1],Ar=M(ar);return Ft&&(xr=-s-xr),[ht*(L(l(xr)*Ar,-l(ar))+h),mt*E(M(xr)*Ar)]};function En(je,nt){if(nt===s)return[0,0];var ht=l(nt),mt=ht*ht,_t=mt*mt,Pt=1+_t,Ft=1+3*_t,dr=1-_t,xr=E(1/k(Pt)),ar=dr+mt*Pt*xr,Ar=(1-ht)/ar,Ir=k(Ar),Fr=Ar*Pt,en=k(Fr),xn=Ir*dr,Cn,Ln;if(je===0)return[0,-(xn+mt*en)];var Xn=M(nt),Pa=1/Xn,Ra=2*ht*Xn,Da=(-3*mt+xr*Ft)*Ra,za=(-ar*Xn-(1-ht)*Da)/(ar*ar),Za=.5*za/Ir,ci=dr*Za-2*mt*Ir*Ra,_i=mt*Pt*za+Ar*Ft*Ra,ue=-Pa*Ra,Le=-Pa*_i,Oe=-2*Pa*ci,Qe=4*je/h,rt;if(je>.222*h||nt<h/4&&je>.175*h){if(Cn=(xn+mt*k(Fr*(1+_t)-xn*xn))/(1+_t),je>h/4)return[Cn,Cn];var st=Cn,Et=.5*Cn;Cn=.5*(Et+st),Ln=50;do{var bt=k(Fr-Cn*Cn),Ht=Cn*(Oe+ue*bt)+Le*E(Cn/en)-Qe;if(!Ht)break;Ht<0?Et=Cn:st=Cn,Cn=.5*(Et+st)}while(P(st-Et)>f&&--Ln>0)}else{Cn=f,Ln=25;do{var Gt=Cn*Cn,tr=k(Fr-Gt),Cr=Oe+ue*tr,Pr=Cn*Cr+Le*E(Cn/en)-Qe,Jr=Cr+(Le-ue*Gt)/tr;Cn-=rt=tr?Pr/Jr:0}while(P(rt)>f&&--Ln>0)}return[Cn,-xn-mt*k(Fr-Cn*Cn)]}function _n(je,nt){for(var ht=0,mt=1,_t=.5,Pt=50;;){var Ft=_t*_t,dr=k(_t),xr=E(1/k(1+Ft)),ar=1-Ft+_t*(1+Ft)*xr,Ar=(1-dr)/ar,Ir=k(Ar),Fr=Ar*(1+Ft),en=Ir*(1-Ft),xn=Fr-je*je,Cn=k(xn),Ln=nt+en+_t*Cn;if(P(mt-ht)<T||--Pt===0||Ln===0)break;Ln>0?ht=_t:mt=_t,_t=.5*(ht+mt)}if(!Pt)return null;var Xn=E(dr),Pa=M(Xn),Ra=1/Pa,Da=2*dr*Pa,za=(-3*_t+xr*(1+3*Ft))*Da,Za=(-ar*Pa-(1-dr)*za)/(ar*ar),ci=.5*Za/Ir,_i=(1-Ft)*ci-2*_t*Ir*Da,ue=-2*Ra*_i,Le=-Ra*Da,Oe=-Ra*(_t*(1+Ft)*Za+Ar*(1+3*Ft)*Da);return[h/4*(je*(ue+Le*Cn)+Oe*E(je/k(Fr))),Xn]}function oa(){return(0,y.Z)(vn(pn)).scale(239.75)}function Kn(je,nt,ht){var mt,_t,Pt;return je?(mt=$n(je,ht),nt?(_t=$n(nt,1-ht),Pt=_t[1]*_t[1]+ht*mt[0]*mt[0]*_t[0]*_t[0],[[mt[0]*_t[2]/Pt,mt[1]*mt[2]*_t[0]*_t[1]/Pt],[mt[1]*_t[1]/Pt,-mt[0]*mt[2]*_t[0]*_t[2]/Pt],[mt[2]*_t[1]*_t[2]/Pt,-ht*mt[0]*mt[1]*_t[0]/Pt]]):[[mt[0],0],[mt[1],0],[mt[2],0]]):(_t=$n(nt,1-ht),[[0,_t[0]/_t[1]],[1/_t[1],0],[_t[2]/_t[1],0]])}function $n(je,nt){var ht,mt,_t,Pt,Ft;if(nt<f)return Pt=l(je),mt=M(je),ht=nt*(je-Pt*mt)/4,[Pt-ht*mt,mt+ht*Pt,1-nt*Pt*Pt/2,je-ht];if(nt>=1-f)return ht=(1-nt)/4,mt=z(je),Pt=I(je),_t=1/mt,Ft=mt*U(je),[Pt+ht*(Ft-je)/(mt*mt),_t-ht*Pt*_t*(Ft-je),_t+ht*Pt*_t*(Ft+je),2*a(v(je))-s+ht*(Ft-je)/mt];var dr=[1,0,0,0,0,0,0,0,0],xr=[k(nt),0,0,0,0,0,0,0,0],ar=0;for(mt=k(1-nt),Ft=1;P(xr[ar]/dr[ar])>f&&ar<8;)ht=dr[ar++],xr[ar]=(ht-mt)/2,dr[ar]=(ht+mt)/2,mt=k(ht*mt),Ft*=2;_t=Ft*dr[ar]*je;do Pt=xr[ar]*l(mt=_t)/dr[ar],_t=(E(Pt)+_t)/2;while(--ar);return[l(_t),Pt=M(_t),Pt/M(_t-mt),_t]}function Yn(je,nt,ht){var mt=P(je),_t=P(nt),Pt=U(_t);if(mt){var Ft=1/l(mt),dr=1/(g(mt)*g(mt)),xr=-(dr+ht*(Pt*Pt*Ft*Ft)-1+ht),ar=(ht-1)*dr,Ar=(-xr+k(xr*xr-4*ar))/2;return[Jn(a(1/k(Ar)),ht)*u(je),Jn(a(k((Ar/dr-1)/ht)),1-ht)*u(nt)]}return[0,Jn(a(Pt),1-ht)*u(nt)]}function Jn(je,nt){if(!nt)return je;if(nt===1)return r(g(je/2+d));for(var ht=1,mt=k(1-nt),_t=k(nt),Pt=0;P(_t)>f;Pt++){if(je%h){var Ft=a(mt*g(je)/ht);Ft<0&&(Ft+=h),je+=Ft+~~(je/h)*h}else je+=je;_t=(ht+mt)/2,mt=k(ht*mt),_t=((ht=_t)-mt)/2}return je/(n(2,Pt)*ht)}function Tr(je,nt){var ht=(w-1)/(w+1),mt=k(1-ht*ht),_t=Jn(s,mt*mt),Pt=-1,Ft=r(g(h/4+P(nt)/2)),dr=v(Pt*Ft)/k(ht),xr=on(dr*M(Pt*je),dr*l(Pt*je)),ar=Yn(xr[0],xr[1],mt*mt);return[-ar[1],(nt>=0?1:-1)*(.5*_t-ar[0])]}function on(je,nt){var ht=je*je,mt=nt+1,_t=1-ht-nt*nt;return[.5*((je>=0?s:-s)-L(_t,2*je)),-.25*r(_t*_t+4*ht)+.5*r(mt*mt+ht)]}function rn(je,nt){var ht=nt[0]*nt[0]+nt[1]*nt[1];return[(je[0]*nt[0]+je[1]*nt[1])/ht,(je[1]*nt[0]-je[0]*nt[1])/ht]}Tr.invert=function(je,nt){var ht=(w-1)/(w+1),mt=k(1-ht*ht),_t=Jn(s,mt*mt),Pt=-1,Ft=Kn(.5*_t-nt,-je,mt*mt),dr=rn(Ft[0],Ft[1]),xr=L(dr[1],dr[0])/Pt;return[xr,2*a(v(.5/Pt*r(ht*dr[0]*dr[0]+ht*dr[1]*dr[1])))-s]};function dn(){return(0,y.Z)(vn(Tr)).scale(151.496)}var Gn=e(7613);function Tn(je){var nt=l(je),ht=M(je),mt=Mn(je);mt.invert=Mn(-je);function _t(Pt,Ft){var dr=mt(Pt,Ft);Pt=dr[0],Ft=dr[1];var xr=l(Ft),ar=M(Ft),Ar=M(Pt),Ir=m(nt*xr+ht*ar*Ar),Fr=l(Ir),en=P(Fr)>f?Ir/Fr:1;return[en*ht*l(Pt),(P(Pt)>s?en:-en)*(nt*ar-ht*xr*Ar)]}return _t.invert=function(Pt,Ft){var dr=k(Pt*Pt+Ft*Ft),xr=-l(dr),ar=M(dr),Ar=dr*ar,Ir=-Ft*xr,Fr=dr*nt,en=k(Ar*Ar+Ir*Ir-Fr*Fr),xn=L(Ar*Fr+Ir*en,Ir*Fr-Ar*en),Cn=(dr>s?-1:1)*L(Pt*xr,dr*M(xn)*ar+Ft*l(xn)*xr);return mt.invert(Cn,xn)},_t}function Mn(je){var nt=l(je),ht=M(je);return function(mt,_t){var Pt=M(_t),Ft=M(mt)*Pt,dr=l(mt)*Pt,xr=l(_t);return[L(dr,Ft*ht-xr*nt),E(xr*ht+Ft*nt)]}}function Un(){var je=0,nt=(0,y.r)(Tn),ht=nt(je),mt=ht.rotate,_t=ht.stream,Pt=(0,Gn.Z)();return ht.parallel=function(Ft){if(!arguments.length)return je*S;var dr=ht.rotate();return nt(je=Ft*x).rotate(dr)},ht.rotate=function(Ft){return arguments.length?(mt.call(ht,[Ft[0],Ft[1]-je*S]),Pt.center([-Ft[0],-Ft[1]]),ht):(Ft=mt.call(ht),Ft[1]+=je*S,Ft)},ht.stream=function(Ft){return Ft=_t(Ft),Ft.sphere=function(){Ft.polygonStart();var dr=.01,xr=Pt.radius(90-dr)().coordinates[0],ar=xr.length-1,Ar=-1,Ir;for(Ft.lineStart();++Ar<ar;)Ft.point((Ir=xr[Ar])[0],Ir[1]);for(Ft.lineEnd(),xr=Pt.radius(90+dr)().coordinates[0],ar=xr.length-1,Ft.lineStart();--Ar>=0;)Ft.point((Ir=xr[Ar])[0],Ir[1]);Ft.lineEnd(),Ft.polygonEnd()},Ft},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var qn=e(33064),ba=e(72736),Va=3,Sr=E(1-1/Va)*S,Nr=Tt(0);function br(je){var nt=Sr*x,ht=Ue(h,nt)[0]-Ue(-h,nt)[0],mt=Nr(0,nt)[1],_t=Ue(0,nt)[1],Pt=C-_t,Ft=b/je,dr=4/b,xr=mt+Pt*Pt*4/b;function ar(Ar,Ir){var Fr,en=P(Ir);if(en>nt){var xn=o(je-1,t(0,p((Ar+h)/Ft)));Ar+=h*(je-1)/je-xn*Ft,Fr=Ue(Ar,en),Fr[0]=Fr[0]*b/ht-b*(je-1)/(2*je)+xn*b/je,Fr[1]=mt+(Fr[1]-_t)*4*Pt/b,Ir<0&&(Fr[1]=-Fr[1])}else Fr=Nr(Ar,Ir);return Fr[0]*=dr,Fr[1]/=xr,Fr}return ar.invert=function(Ar,Ir){Ar/=dr,Ir*=xr;var Fr=P(Ir);if(Fr>mt){var en=o(je-1,t(0,p((Ar+h)/Ft)));Ar=(Ar+h*(je-1)/je-en*Ft)*ht/b;var xn=Ue.invert(Ar,.25*(Fr-mt)*b/Pt+_t);return xn[0]-=h*(je-1)/je-en*Ft,Ir<0&&(xn[1]=-xn[1]),xn}return Nr.invert(Ar,Ir)},ar}function zr(je,nt){return[je,nt&1?90-f:Sr]}function bn(je,nt){return[je,nt&1?-90+f:-Sr]}function Pn(je){return[je[0]*(1-f),je[1]]}function gn(je){var nt=[].concat((0,qn.w6)(-180,180+je/2,je).map(zr),(0,qn.w6)(180,-180-je/2,-je).map(bn));return{type:"Polygon",coordinates:[je===180?nt.map(Pn):nt]}}function cn(){var je=4,nt=(0,y.r)(br),ht=nt(je),mt=ht.stream;return ht.lobes=function(_t){return arguments.length?nt(je=+_t):je},ht.stream=function(_t){var Pt=ht.rotate(),Ft=mt(_t),dr=(ht.rotate([0,0]),mt(_t));return ht.rotate(Pt),Ft.sphere=function(){(0,ba.Z)(gn(180/je),dr)},Ft},ht.scale(239.75)}function Lr(je){var nt=1+je,ht=l(1/nt),mt=E(ht),_t=2*k(h/(Pt=h+4*mt*nt)),Pt,Ft=.5*_t*(nt+k(je*(2+je))),dr=je*je,xr=nt*nt;function ar(Ar,Ir){var Fr=1-l(Ir),en,xn;if(Fr&&Fr<2){var Cn=s-Ir,Ln=25,Xn;do{var Pa=l(Cn),Ra=M(Cn),Da=mt+L(Pa,nt-Ra),za=1+xr-2*nt*Ra;Cn-=Xn=(Cn-dr*mt-nt*Pa+za*Da-.5*Fr*Pt)/(2*nt*Pa*Da)}while(P(Xn)>T&&--Ln>0);en=_t*k(za),xn=Ar*Da/h}else en=_t*(je+Fr),xn=Ar*mt/h;return[en*l(xn),Ft-en*M(xn)]}return ar.invert=function(Ar,Ir){var Fr=Ar*Ar+(Ir-=Ft)*Ir,en=(1+xr-Fr/(_t*_t))/(2*nt),xn=m(en),Cn=l(xn),Ln=mt+L(Cn,nt-en);return[E(Ar/k(Fr))*h/Ln,E(1-2*(xn-dr*mt-nt*Cn+(1+xr-2*nt*en)*Ln)/Pt)]},ar}function jr(){var je=1,nt=(0,y.r)(Lr),ht=nt(je);return ht.ratio=function(mt){return arguments.length?nt(je=+mt):je},ht.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,Qr=.0528035274542;function wn(je,nt){return nt>-Gr?(je=Ce(je,nt),je[1]+=Qr,je):$e(je,nt)}wn.invert=function(je,nt){return nt>-Gr?Ce.invert(je,nt-Qr):$e.invert(je,nt)};function kn(){return(0,y.Z)(wn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Dn(je,nt){return P(nt)>Gr?(je=Ce(je,nt),je[1]-=nt>0?Qr:-Qr,je):$e(je,nt)}Dn.invert=function(je,nt){return P(nt)>Gr?Ce.invert(je,nt+(nt>0?Qr:-Qr)):$e.invert(je,nt)};function Nn(){return(0,y.Z)(Dn).scale(152.63)}function On(je,nt,ht,mt){var _t=k(4*h/(2*ht+(1+je-nt/2)*l(2*ht)+(je+nt)/2*l(4*ht)+nt/2*l(6*ht))),Pt=k(mt*l(ht)*k((1+je*M(2*ht)+nt*M(4*ht))/(1+je+nt))),Ft=ht*xr(1);function dr(Ir){return k(1+je*M(2*Ir)+nt*M(4*Ir))}function xr(Ir){var Fr=Ir*ht;return(2*Fr+(1+je-nt/2)*l(2*Fr)+(je+nt)/2*l(4*Fr)+nt/2*l(6*Fr))/ht}function ar(Ir){return dr(Ir)*l(Ir)}var Ar=function(Ir,Fr){var en=ht*Ee(xr,Ft*l(Fr)/ht,Fr/h);isNaN(en)&&(en=ht*u(Fr));var xn=_t*dr(en);return[xn*Pt*Ir/h*M(en),xn/Pt*l(en)]};return Ar.invert=function(Ir,Fr){var en=Ee(ar,Fr*Pt/_t);return[Ir*h/(M(en)*_t*Pt*dr(en)),E(ht*xr(en/ht)/Ft)]},ht===0&&(_t=k(mt/h),Ar=function(Ir,Fr){return[Ir*_t,l(Fr)/_t]},Ar.invert=function(Ir,Fr){return[Ir/_t,E(Fr*_t)]}),Ar}function ga(){var je=1,nt=0,ht=45*x,mt=2,_t=(0,y.r)(On),Pt=_t(je,nt,ht,mt);return Pt.a=function(Ft){return arguments.length?_t(je=+Ft,nt,ht,mt):je},Pt.b=function(Ft){return arguments.length?_t(je,nt=+Ft,ht,mt):nt},Pt.psiMax=function(Ft){return arguments.length?_t(je,nt,ht=+Ft*x,mt):ht*S},Pt.ratio=function(Ft){return arguments.length?_t(je,nt,ht,mt=+Ft):mt},Pt.scale(180.739)}function la(je,nt,ht,mt,_t,Pt,Ft,dr,xr,ar,Ar){if(Ar.nanEncountered)return NaN;var Ir,Fr,en,xn,Cn,Ln,Xn,Pa,Ra,Da;if(Ir=ht-nt,Fr=je(nt+Ir*.25),en=je(ht-Ir*.25),isNaN(Fr)){Ar.nanEncountered=!0;return}if(isNaN(en)){Ar.nanEncountered=!0;return}return xn=Ir*(mt+4*Fr+_t)/12,Cn=Ir*(_t+4*en+Pt)/12,Ln=xn+Cn,Da=(Ln-Ft)/15,ar>xr?(Ar.maxDepthCount++,Ln+Da):Math.abs(Da)<dr?Ln+Da:(Xn=nt+Ir*.5,Pa=la(je,nt,Xn,mt,Fr,_t,xn,dr*.5,xr,ar+1,Ar),isNaN(Pa)?(Ar.nanEncountered=!0,NaN):(Ra=la(je,Xn,ht,_t,en,Pt,Cn,dr*.5,xr,ar+1,Ar),isNaN(Ra)?(Ar.nanEncountered=!0,NaN):Pa+Ra))}function pa(je,nt,ht,mt,_t){var Pt={maxDepthCount:0,nanEncountered:!1};mt===void 0&&(mt=1e-8),_t===void 0&&(_t=20);var Ft=je(nt),dr=je(.5*(nt+ht)),xr=je(ht),ar=(Ft+4*dr+xr)*(ht-nt)/6,Ar=la(je,nt,ht,Ft,dr,xr,ar,mt,_t,1,Pt);return Ar}function La(je,nt,ht){function mt(en){return je+(1-je)*n(1-n(en,nt),1/nt)}function _t(en){return pa(mt,0,en,1e-4)}for(var Pt=1/_t(1),Ft=1e3,dr=(1+1e-8)*Pt,xr=[],ar=0;ar<=Ft;ar++)xr.push(_t(ar/Ft)*dr);function Ar(en){var xn=0,Cn=Ft,Ln=Ft>>1;do xr[Ln]>en?Cn=Ln:xn=Ln,Ln=xn+Cn>>1;while(Ln>xn);var Xn=xr[Ln+1]-xr[Ln];return Xn&&(Xn=(en-xr[Ln+1])/Xn),(Ln+1+Xn)/Ft}var Ir=2*Ar(1)/h*Pt/ht,Fr=function(en,xn){var Cn=Ar(P(l(xn))),Ln=mt(Cn)*en;return Cn/=Ir,[Ln,xn>=0?Cn:-Cn]};return Fr.invert=function(en,xn){var Cn;return xn*=Ir,P(xn)<1&&(Cn=u(xn)*E(_t(P(xn))*Pt)),[en/mt(P(xn)),Cn]},Fr}function vi(){var je=0,nt=2.5,ht=1.183136,mt=(0,y.r)(La),_t=mt(je,nt,ht);return _t.alpha=function(Pt){return arguments.length?mt(je=+Pt,nt,ht):je},_t.k=function(Pt){return arguments.length?mt(je,nt=+Pt,ht):nt},_t.gamma=function(Pt){return arguments.length?mt(je,nt,ht=+Pt):ht},_t.scale(152.63)}function ti(je,nt){return P(je[0]-nt[0])<f&&P(je[1]-nt[1])<f}function _o(je,nt){for(var ht=-1,mt=je.length,_t=je[0],Pt,Ft,dr,xr=[];++ht<mt;){Pt=je[ht],Ft=(Pt[0]-_t[0])/nt,dr=(Pt[1]-_t[1])/nt;for(var ar=0;ar<nt;++ar)xr.push([_t[0]+ar*Ft,_t[1]+ar*dr]);_t=Pt}return xr.push(Pt),xr}function Co(je){var nt=[],ht,mt,_t,Pt,Ft,dr,xr,ar=je[0].length;for(xr=0;xr<ar;++xr)ht=je[0][xr],mt=ht[0][0],_t=ht[0][1],Pt=ht[1][1],Ft=ht[2][0],dr=ht[2][1],nt.push(_o([[mt+f,_t+f],[mt+f,Pt-f],[Ft-f,Pt-f],[Ft-f,dr+f]],30));for(xr=je[1].length-1;xr>=0;--xr)ht=je[1][xr],mt=ht[0][0],_t=ht[0][1],Pt=ht[1][1],Ft=ht[2][0],dr=ht[2][1],nt.push(_o([[Ft-f,dr-f],[Ft-f,Pt+f],[mt+f,Pt+f],[mt+f,_t-f]],30));return{type:"Polygon",coordinates:[(0,qn.TS)(nt)]}}function eo(je,nt,ht){var mt,_t;function Pt(xr,ar){for(var Ar=ar<0?-1:1,Ir=nt[+(ar<0)],Fr=0,en=Ir.length-1;Fr<en&&xr>Ir[Fr][2][0];++Fr);var xn=je(xr-Ir[Fr][1][0],ar);return xn[0]+=je(Ir[Fr][1][0],Ar*ar>Ar*Ir[Fr][0][1]?Ir[Fr][0][1]:ar)[0],xn}ht?Pt.invert=ht(Pt):je.invert&&(Pt.invert=function(xr,ar){for(var Ar=_t[+(ar<0)],Ir=nt[+(ar<0)],Fr=0,en=Ar.length;Fr<en;++Fr){var xn=Ar[Fr];if(xn[0][0]<=xr&&xr<xn[1][0]&&xn[0][1]<=ar&&ar<xn[1][1]){var Cn=je.invert(xr-je(Ir[Fr][1][0],0)[0],ar);return Cn[0]+=Ir[Fr][1][0],ti(Pt(Cn[0],Cn[1]),[xr,ar])?Cn:null}}});var Ft=(0,y.Z)(Pt),dr=Ft.stream;return Ft.stream=function(xr){var ar=Ft.rotate(),Ar=dr(xr),Ir=(Ft.rotate([0,0]),dr(xr));return Ft.rotate(ar),Ar.sphere=function(){(0,ba.Z)(mt,Ir)},Ar},Ft.lobes=function(xr){return arguments.length?(mt=Co(xr),nt=xr.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*x,Ar[0][1]*x],[Ar[1][0]*x,Ar[1][1]*x],[Ar[2][0]*x,Ar[2][1]*x]]})}),_t=nt.map(function(ar){return ar.map(function(Ar){var Ir=je(Ar[0][0],Ar[0][1])[0],Fr=je(Ar[2][0],Ar[2][1])[0],en=je(Ar[1][0],Ar[0][1])[1],xn=je(Ar[1][0],Ar[1][1])[1],Cn;return en>xn&&(Cn=en,en=xn,xn=Cn),[[Ir,en],[Fr,xn]]})}),Ft):nt.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*S,Ar[0][1]*S],[Ar[1][0]*S,Ar[1][1]*S],[Ar[2][0]*S,Ar[2][1]*S]]})})},nt!=null&&Ft.lobes(nt),Ft}var Ll=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function df(){return eo(Ve,Ll).scale(160.857)}var $f=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function $a(){return eo(Dn,$f).scale(152.63)}var iu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function pf(){return eo(Ce,iu).scale(169.529)}var ji=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function xo(){return eo(Ce,ji).scale(169.529).rotate([20,0])}var Pl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Uu(){return eo(wn,Pl,Te).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ii=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Rl(){return eo($e,Ii).scale(152.63).rotate([-20,0])}function zi(je,nt){return[3/b*je*k(h*h/3-nt*nt),nt]}zi.invert=function(je,nt){return[b/3*je/k(h*h/3-nt*nt),nt]};function Hi(){return(0,y.Z)(zi).scale(158.837)}function Dl(je){function nt(ht,mt){if(P(P(mt)-s)<f)return[0,mt<0?-2:2];var _t=l(mt),Pt=n((1+_t)/(1-_t),je/2),Ft=.5*(Pt+1/Pt)+M(ht*=je);return[2*l(ht)/Ft,(Pt-1/Pt)/Ft]}return nt.invert=function(ht,mt){var _t=P(mt);if(P(_t-2)<f)return ht?null:[0,u(mt)*s];if(_t>2)return null;ht/=2,mt/=2;var Pt=ht*ht,Ft=mt*mt,dr=2*mt/(1+Pt+Ft);return dr=n((1+dr)/(1-dr),1/je),[L(2*ht,1-Pt-Ft)/je,E((dr-1)/(dr+1))]},nt}function to(){var je=.5,nt=(0,y.r)(Dl),ht=nt(je);return ht.spacing=function(mt){return arguments.length?nt(je=+mt):je},ht.scale(124.75)}var ro=h/w;function zo(je,nt){return[je*(1+k(M(nt)))/2,nt/(M(nt/2)*M(je/6))]}zo.invert=function(je,nt){var ht=P(je),mt=P(nt),_t=f,Pt=s;mt<ro?Pt*=mt/ro:_t+=6*m(ro/mt);for(var Ft=0;Ft<25;Ft++){var dr=l(Pt),xr=k(M(Pt)),ar=l(Pt/2),Ar=M(Pt/2),Ir=l(_t/6),Fr=M(_t/6),en=.5*_t*(1+xr)-ht,xn=Pt/(Ar*Fr)-mt,Cn=xr?-.25*_t*dr/xr:0,Ln=.5*(1+xr),Xn=(1+.5*Pt*ar/Ar)/(Ar*Fr),Pa=Pt/Ar*(Ir/6)/(Fr*Fr),Ra=Cn*Pa-Xn*Ln,Da=(en*Pa-xn*Ln)/Ra,za=(xn*Cn-en*Xn)/Ra;if(Pt-=Da,_t-=za,P(Da)<f&&P(za)<f)break}return[je<0?-_t:_t,nt<0?-Pt:Pt]};function qf(){return(0,y.Z)(zo).scale(97.2672)}function Lo(je,nt){var ht=je*je,mt=nt*nt;return[je*(.975534+mt*(-.119161+ht*-.0143059+mt*-.0547009)),nt*(1.00384+ht*(.0802894+mt*-.02855+ht*199025e-9)+mt*(.0998909+mt*-.0491032))]}Lo.invert=function(je,nt){var ht=u(je)*h,mt=nt/2,_t=50;do{var Pt=ht*ht,Ft=mt*mt,dr=ht*mt,xr=ht*(.975534+Ft*(-.119161+Pt*-.0143059+Ft*-.0547009))-je,ar=mt*(1.00384+Pt*(.0802894+Ft*-.02855+Pt*199025e-9)+Ft*(.0998909+Ft*-.0491032))-nt,Ar=.975534-Ft*(.119161+3*Pt*.0143059+Ft*.0547009),Ir=-dr*(2*.119161+4*.0547009*Ft+2*.0143059*Pt),Fr=dr*(2*.0802894+4*199025e-9*Pt+2*-.02855*Ft),en=1.00384+Pt*(.0802894+199025e-9*Pt)+Ft*(3*(.0998909-.02855*Pt)-5*.0491032*Ft),xn=Ir*Fr-en*Ar,Cn=(ar*Ir-xr*en)/xn,Ln=(xr*Fr-ar*Ar)/xn;ht-=Cn,mt-=Ln}while((P(Cn)>f||P(Ln)>f)&&--_t>0);return _t&&[ht,mt]};function ah(){return(0,y.Z)(Lo).scale(139.98)}function cs(je,nt){return[l(je)/M(nt),g(nt)*M(je)]}cs.invert=function(je,nt){var ht=je*je,mt=nt*nt,_t=mt+1,Pt=ht+_t,Ft=je?A*k((Pt-k(Pt*Pt-4*ht))/ht):1/k(_t);return[E(je*Ft),u(nt)*m(Ft)]};function Ki(){return(0,y.Z)(cs).scale(144.049).clipAngle(89.999)}function gf(je){var nt=M(je),ht=g(d+je/2);function mt(_t,Pt){var Ft=Pt-je,dr=P(Ft)<f?_t*nt:P(dr=d+Pt/2)<f||P(P(dr)-s)<f?0:_t*Ft/r(g(dr)/ht);return[dr,Ft]}return mt.invert=function(_t,Pt){var Ft,dr=Pt+je;return[P(Pt)<f?_t/nt:P(Ft=d+dr/2)<f||P(P(Ft)-s)<f?0:_t*r(g(Ft)/ht)/Pt,dr]},mt}function Us(){return lt(gf).parallel(40).scale(158.837)}function hs(je,nt){return[je,1.25*r(g(d+.4*nt))]}hs.invert=function(je,nt){return[je,2.5*a(v(.8*nt))-.625*h]};function yf(){return(0,y.Z)(hs).scale(108.318)}function ec(je){var nt=je.length-1;function ht(mt,_t){for(var Pt=M(_t),Ft=2/(1+Pt*M(mt)),dr=Ft*Pt*l(mt),xr=Ft*l(_t),ar=nt,Ar=je[ar],Ir=Ar[0],Fr=Ar[1],en;--ar>=0;)Ar=je[ar],Ir=Ar[0]+dr*(en=Ir)-xr*Fr,Fr=Ar[1]+dr*Fr+xr*en;return Ir=dr*(en=Ir)-xr*Fr,Fr=dr*Fr+xr*en,[Ir,Fr]}return ht.invert=function(mt,_t){var Pt=20,Ft=mt,dr=_t;do{for(var xr=nt,ar=je[xr],Ar=ar[0],Ir=ar[1],Fr=0,en=0,xn;--xr>=0;)ar=je[xr],Fr=Ar+Ft*(xn=Fr)-dr*en,en=Ir+Ft*en+dr*xn,Ar=ar[0]+Ft*(xn=Ar)-dr*Ir,Ir=ar[1]+Ft*Ir+dr*xn;Fr=Ar+Ft*(xn=Fr)-dr*en,en=Ir+Ft*en+dr*xn,Ar=Ft*(xn=Ar)-dr*Ir-mt,Ir=Ft*Ir+dr*xn-_t;var Cn=Fr*Fr+en*en,Ln,Xn;Ft-=Ln=(Ar*Fr+Ir*en)/Cn,dr-=Xn=(Ir*Fr-Ar*en)/Cn}while(P(Ln)+P(Xn)>f*f&&--Pt>0);if(Pt){var Pa=k(Ft*Ft+dr*dr),Ra=2*a(Pa*.5),Da=l(Ra);return[L(Ft*Da,Pa*M(Ra)),Pa?E(dr*Da/Pa):0]}},ht}var ih=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Hu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],oh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],sh=[[.9245,0],[0,0],[.01943,0]],lh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function mf(){return il(ih,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function uh(){return il(Hu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function fh(){return il(oh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function tc(){return il(sh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function rc(){return il(lh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function il(je,nt){var ht=(0,y.Z)(ec(je)).rotate(nt).clipAngle(90),mt=(0,Ge.Z)(nt),_t=ht.center;return delete ht.rotate,ht.center=function(Pt){return arguments.length?_t(mt(Pt)):mt.invert(_t())},ht}var Il=k(6),ou=k(7);function su(je,nt){var ht=E(7*l(nt)/(3*Il));return[Il*je*(2*M(2*ht/3)-1)/ou,9*l(ht/3)/ou]}su.invert=function(je,nt){var ht=3*E(nt*ou/9);return[je*ou/(Il*(2*M(2*ht/3)-1)),E(l(ht)*3*Il/7)]};function nc(){return(0,y.Z)(su).scale(164.859)}function Es(je,nt){for(var ht=(1+A)*l(nt),mt=nt,_t=0,Pt;_t<25&&(mt-=Pt=(l(mt/2)+l(mt)-ht)/(.5*M(mt/2)+M(mt)),!(P(Pt)<f));_t++);return[je*(1+2*M(mt)/M(mt/2))/(3*w),2*k(3)*l(mt/2)/k(2+w)]}Es.invert=function(je,nt){var ht=nt*k(2+w)/(2*k(3)),mt=2*E(ht);return[3*w*je/(1+2*M(mt)/M(mt/2)),E((ht+l(mt))/(1+A))]};function ch(){return(0,y.Z)(Es).scale(188.209)}function Vu(je,nt){for(var ht=k(6/(4+h)),mt=(1+h/4)*l(nt),_t=nt/2,Pt=0,Ft;Pt<25&&(_t-=Ft=(_t/2+l(_t)-mt)/(.5+M(_t)),!(P(Ft)<f));Pt++);return[ht*(.5+M(_t))*je/1.5,ht*_t]}Vu.invert=function(je,nt){var ht=k(6/(4+h)),mt=nt/ht;return P(P(mt)-s)<f&&(mt=mt<0?-s:s),[1.5*je/(ht*(.5+M(mt))),E((mt/2+l(mt))/(1+h/4))]};function ac(){return(0,y.Z)(Vu).scale(166.518)}var ic=e(26867);function Gu(je,nt){var ht=nt*nt,mt=ht*ht,_t=ht*mt;return[je*(.84719-.13063*ht+_t*_t*(-.04515+.05494*ht-.02326*mt+.00331*_t)),nt*(1.01183+mt*mt*(-.02625+.01926*ht-.00396*mt))]}Gu.invert=function(je,nt){var ht=nt,mt=25,_t,Pt,Ft,dr;do Pt=ht*ht,Ft=Pt*Pt,ht-=_t=(ht*(1.01183+Ft*Ft*(-.02625+.01926*Pt-.00396*Ft))-nt)/(1.01183+Ft*Ft*(-.23625+.21186*Pt+-.05148*Ft));while(P(_t)>T&&--mt>0);return Pt=ht*ht,Ft=Pt*Pt,dr=Pt*Ft,[je/(.84719-.13063*Pt+dr*dr*(-.04515+.05494*Pt-.02326*Ft+.00331*dr)),ht]};function Xo(){return(0,y.Z)(Gu).scale(175.295)}function kl(je,nt){return[je*(1+M(nt))/2,2*(nt-g(nt/2))]}kl.invert=function(je,nt){for(var ht=nt/2,mt=0,_t=1/0;mt<10&&P(_t)>f;++mt){var Pt=M(nt/2);nt-=_t=(nt-g(nt/2)-ht)/(1-.5/(Pt*Pt))}return[2*je/(1+M(nt)),nt]};function ol(){return(0,y.Z)(kl).scale(152.63)}var lu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Hs(){return eo(ne(1/0),lu).rotate([20,0]).scale(152.63)}function vs(je,nt){var ht=l(nt),mt=M(nt),_t=u(je);if(je===0||P(nt)===s)return[0,nt];if(nt===0)return[je,0];if(P(je)===s)return[je*mt,s*ht];var Pt=h/(2*je)-2*je/h,Ft=2*nt/h,dr=(1-Ft*Ft)/(ht-Ft),xr=Pt*Pt,ar=dr*dr,Ar=1+xr/ar,Ir=1+ar/xr,Fr=(Pt*ht/dr-Pt/2)/Ar,en=(ar*ht/xr+dr/2)/Ir,xn=Fr*Fr+mt*mt/Ar,Cn=en*en-(ar*ht*ht/xr+dr*ht-1)/Ir;return[s*(Fr+k(xn)*_t),s*(en+k(Cn<0?0:Cn)*u(-nt*Pt)*_t)]}vs.invert=function(je,nt){je/=s,nt/=s;var ht=je*je,mt=nt*nt,_t=ht+mt,Pt=h*h;return[je?(_t-1+k((1-_t)*(1-_t)+4*ht))/(2*je)*s:0,Ee(function(Ft){return _t*(h*l(Ft)-2*Ft)*h+4*Ft*Ft*(nt-l(Ft))+2*h*Ft-Pt*nt},0)]};function xf(){return(0,y.Z)(vs).scale(127.267)}var _l=1.0148,jo=.23185,Pi=-.14499,bf=.02406,hh=_l,Wu=5*jo,zl=7*Pi,Ol=9*bf,Po=1.790857183;function Yu(je,nt){var ht=nt*nt;return[je,nt*(_l+ht*ht*(jo+ht*(Pi+bf*ht)))]}Yu.invert=function(je,nt){nt>Po?nt=Po:nt<-Po&&(nt=-Po);var ht=nt,mt;do{var _t=ht*ht;ht-=mt=(ht*(_l+_t*_t*(jo+_t*(Pi+bf*_t)))-nt)/(hh+_t*_t*(Wu+_t*(zl+Ol*_t)))}while(P(mt)>f);return[je,ht]};function Fl(){return(0,y.Z)(Yu).scale(139.319)}function Zu(je,nt){if(P(nt)<f)return[je,0];var ht=g(nt),mt=je*l(nt);return[l(mt)/ht,nt+(1-M(mt))/ht]}Zu.invert=function(je,nt){if(P(nt)<f)return[je,0];var ht=je*je+nt*nt,mt=nt*.5,_t=10,Pt;do{var Ft=g(mt),dr=1/M(mt),xr=ht-2*nt*mt+mt*mt;mt-=Pt=(Ft*xr+2*(mt-nt))/(2+xr*dr*dr+2*(mt-nt)*Ft)}while(P(Pt)>f&&--_t>0);return Ft=g(mt),[(P(nt)<P(mt+1/Ft)?E(je*Ft):u(nt)*u(je)*(m(P(je*Ft))+s))/l(mt),mt]};function vh(){return(0,y.Z)(Zu).scale(103.74)}var oc=e(77338),wf=e(83074);function Tf(je,nt){var ht=Xu(je[1],je[0]),mt=Xu(nt[1],nt[0]),_t=ju(ht,mt),Pt=uu(ht)/uu(mt);return Bl([1,0,je[0][0],0,1,je[0][1]],Bl([Pt,0,0,0,Pt,0],Bl([M(_t),l(_t),0,-l(_t),M(_t),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function Af(je){var nt=1/(je[0]*je[4]-je[1]*je[3]);return[nt*je[4],-nt*je[1],nt*(je[1]*je[5]-je[2]*je[4]),-nt*je[3],nt*je[0],nt*(je[2]*je[3]-je[0]*je[5])]}function Bl(je,nt){return[je[0]*nt[0]+je[1]*nt[3],je[0]*nt[1]+je[1]*nt[4],je[0]*nt[2]+je[1]*nt[5]+je[2],je[3]*nt[0]+je[4]*nt[3],je[3]*nt[1]+je[4]*nt[4],je[3]*nt[2]+je[4]*nt[5]+je[5]]}function Xu(je,nt){return[je[0]-nt[0],je[1]-nt[1]]}function uu(je){return k(je[0]*je[0]+je[1]*je[1])}function ju(je,nt){return L(je[0]*nt[1]-je[1]*nt[0],je[0]*nt[0]+je[1]*nt[1])}function di(je,nt,ht){mt(je,{transform:null});function mt(ar,Ar){if(ar.edges=Mf(ar.face),Ar.face){var Ir=ar.shared=lc(ar.face,Ar.face),Fr=Tf(Ir.map(Ar.project),Ir.map(ar.project));ar.transform=Ar.transform?Bl(Ar.transform,Fr):Fr;for(var en=Ar.edges,xn=0,Cn=en.length;xn<Cn;++xn)Ko(Ir[0],en[xn][1])&&Ko(Ir[1],en[xn][0])&&(en[xn]=ar),Ko(Ir[0],en[xn][0])&&Ko(Ir[1],en[xn][1])&&(en[xn]=ar);for(en=ar.edges,xn=0,Cn=en.length;xn<Cn;++xn)Ko(Ir[0],en[xn][0])&&Ko(Ir[1],en[xn][1])&&(en[xn]=Ar),Ko(Ir[0],en[xn][1])&&Ko(Ir[1],en[xn][0])&&(en[xn]=Ar)}else ar.transform=Ar.transform;return ar.children&&ar.children.forEach(function(Ln){mt(Ln,ar)}),ar}function _t(ar,Ar){var Ir=nt(ar,Ar),Fr=Ir.project([ar*S,Ar*S]),en;return(en=Ir.transform)?[en[0]*Fr[0]+en[1]*Fr[1]+en[2],-(en[3]*Fr[0]+en[4]*Fr[1]+en[5])]:(Fr[1]=-Fr[1],Fr)}sl(je)&&(_t.invert=function(ar,Ar){var Ir=Pt(je,[ar,-Ar]);return Ir&&(Ir[0]*=x,Ir[1]*=x,Ir)});function Pt(ar,Ar){var Ir=ar.project.invert,Fr=ar.transform,en=Ar;if(Fr&&(Fr=Af(Fr),en=[Fr[0]*en[0]+Fr[1]*en[1]+Fr[2],Fr[3]*en[0]+Fr[4]*en[1]+Fr[5]]),Ir&&ar===Ft(xn=Ir(en)))return xn;for(var xn,Cn=ar.children,Ln=0,Xn=Cn&&Cn.length;Ln<Xn;++Ln)if(xn=Pt(Cn[Ln],Ar))return xn}function Ft(ar){return nt(ar[0]*x,ar[1]*x)}var dr=(0,y.Z)(_t),xr=dr.stream;return dr.stream=function(ar){var Ar=dr.rotate(),Ir=xr(ar),Fr=(dr.rotate([0,0]),xr(ar));return dr.rotate(Ar),Ir.sphere=function(){Fr.polygonStart(),Fr.lineStart(),sc(Fr,je),Fr.lineEnd(),Fr.polygonEnd()},Ir},dr.angle(ht==null?-30:ht*S)}function sc(je,nt,ht){var mt,_t=nt.edges,Pt=_t.length,Ft,dr={type:"MultiPoint",coordinates:nt.face},xr=nt.face.filter(function(Cn){return P(Cn[1])!==90}),ar=(0,oc.Z)({type:"MultiPoint",coordinates:xr}),Ar=!1,Ir=-1,Fr=ar[1][0]-ar[0][0],en=Fr===180||Fr===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,Je.Z)(dr);if(ht)for(;++Ir<Pt&&_t[Ir]!==ht;);++Ir;for(var xn=0;xn<Pt;++xn)Ft=_t[(xn+Ir)%Pt],Array.isArray(Ft)?(Ar||(je.point((mt=(0,wf.Z)(Ft[0],en)(f))[0],mt[1]),Ar=!0),je.point((mt=(0,wf.Z)(Ft[1],en)(f))[0],mt[1])):(Ar=!1,Ft!==ht&&sc(je,Ft,nt))}function Ko(je,nt){return je&&nt&&je[0]===nt[0]&&je[1]===nt[1]}function lc(je,nt){for(var ht,mt,_t=je.length,Pt=null,Ft=0;Ft<_t;++Ft){ht=je[Ft];for(var dr=nt.length;--dr>=0;)if(mt=nt[dr],ht[0]===mt[0]&&ht[1]===mt[1]){if(Pt)return[Pt,ht];Pt=ht}}}function Mf(je){for(var nt=je.length,ht=[],mt=je[nt-1],_t=0;_t<nt;++_t)ht.push([mt,mt=je[_t]]);return ht}function sl(je){return je.project.invert||je.children&&je.children.some(sl)}var Vs=e(98936),Ku=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ki=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(je){return je.map(function(nt){return Ku[nt]})});function fu(je){je=je||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,Vs.Z)().scale(1).translate([0,0]).rotate([-mt[0],-mt[1]])};var nt=ki.map(function(ht){return{face:ht,project:je(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var _t=nt[ht];_t&&(_t.children||(_t.children=[])).push(nt[mt])}),di(nt[0],function(ht,mt){return nt[ht<-h/2?mt<0?6:4:ht<0?mt<0?2:0:ht<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Jo=2/k(3);function Cs(je,nt){var ht=Ue(je,nt);return[ht[0]*Jo,ht[1]]}Cs.invert=function(je,nt){return Ue.invert(je/Jo,nt)};function ll(je){je=je||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,y.Z)(Cs).translate([0,0]).scale(1).rotate(mt[1]>0?[-mt[0],0]:[180-mt[0],180])};var nt=ki.map(function(ht){return{face:ht,project:je(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var _t=nt[ht];_t&&(_t.children||(_t.children=[])).push(nt[mt])}),di(nt[0],function(ht,mt){return nt[ht<-h/2?mt<0?6:4:ht<0?mt<0?2:0:ht<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Gs(je){je=je||function(Ft){var dr=Ft.length===6?(0,Je.Z)({type:"MultiPoint",coordinates:Ft}):Ft[0];return(0,Vs.Z)().scale(1).translate([0,0]).rotate([-dr[0],-dr[1]])};var nt=ki.map(function(Ft){for(var dr=Ft.map(Uo),xr=dr.length,ar=dr[xr-1],Ar,Ir=[],Fr=0;Fr<xr;++Fr)Ar=dr[Fr],Ir.push($o([ar[0]*.9486832980505138+Ar[0]*.31622776601683794,ar[1]*.9486832980505138+Ar[1]*.31622776601683794,ar[2]*.9486832980505138+Ar[2]*.31622776601683794]),$o([Ar[0]*.9486832980505138+ar[0]*.31622776601683794,Ar[1]*.9486832980505138+ar[1]*.31622776601683794,Ar[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Ar;return Ir}),ht=[],mt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Ft,dr){for(var xr=ki[dr],ar=xr.length,Ar=ht[dr]=[],Ir=0;Ir<ar;++Ir)nt.push([xr[Ir],Ft[(Ir*2+2)%(2*ar)],Ft[(Ir*2+1)%(2*ar)]]),mt.push(dr),Ar.push(Ls(Uo(Ft[(Ir*2+2)%(2*ar)]),Uo(Ft[(Ir*2+1)%(2*ar)])))});var _t=nt.map(function(Ft){return{project:je(Ft),face:Ft}});mt.forEach(function(Ft,dr){var xr=_t[Ft];xr&&(xr.children||(xr.children=[])).push(_t[dr])});function Pt(Ft,dr){var xr=M(dr),ar=[xr*M(Ft),xr*l(Ft),l(dr)],Ar=Ft<-h/2?dr<0?6:4:Ft<0?dr<0?2:0:Ft<h/2?dr<0?3:1:dr<0?7:5,Ir=ht[Ar];return _t[Qo(Ir[0],ar)<0?8+3*Ar:Qo(Ir[1],ar)<0?8+3*Ar+1:Qo(Ir[2],ar)<0?8+3*Ar+2:Ar]}return di(_t[0],Pt).angle(-30).scale(110.625).center([0,45])}function Qo(je,nt){for(var ht=0,mt=je.length,_t=0;ht<mt;++ht)_t+=je[ht]*nt[ht];return _t}function Ls(je,nt){return[je[1]*nt[2]-je[2]*nt[1],je[2]*nt[0]-je[0]*nt[2],je[0]*nt[1]-je[1]*nt[0]]}function $o(je){return[L(je[1],je[0])*S,E(t(-1,o(1,je[2])))*S]}function Uo(je){var nt=je[0]*x,ht=je[1]*x,mt=M(ht);return[mt*M(nt),mt*l(nt),l(ht)]}function cu(){}function dh(je){if((ht=je.length)<4)return!1;for(var nt=0,ht,mt=je[ht-1][1]*je[0][0]-je[ht-1][0]*je[0][1];++nt<ht;)mt+=je[nt-1][1]*je[nt][0]-je[nt-1][0]*je[nt][1];return mt<=0}function ph(je,nt){for(var ht=nt[0],mt=nt[1],_t=!1,Pt=0,Ft=je.length,dr=Ft-1;Pt<Ft;dr=Pt++){var xr=je[Pt],ar=xr[0],Ar=xr[1],Ir=je[dr],Fr=Ir[0],en=Ir[1];Ar>mt^en>mt&&ht<(Fr-ar)*(mt-Ar)/(en-Ar)+ar&&(_t=!_t)}return _t}function gh(je,nt){var ht=nt.stream,mt;if(!ht)throw new Error("invalid projection");switch(je&&je.type){case"Feature":mt=Sf;break;case"FeatureCollection":mt=yh;break;default:mt=Nl;break}return mt(je,ht)}function yh(je,nt){return{type:"FeatureCollection",features:je.features.map(function(ht){return Sf(ht,nt)})}}function Sf(je,nt){return{type:"Feature",id:je.id,properties:je.properties,geometry:Nl(je.geometry,nt)}}function uc(je,nt){return{type:"GeometryCollection",geometries:je.geometries.map(function(ht){return Nl(ht,nt)})}}function Nl(je,nt){if(!je)return null;if(je.type==="GeometryCollection")return uc(je,nt);var ht;switch(je.type){case"Point":ht=Ul;break;case"MultiPoint":ht=Ul;break;case"LineString":ht=fc;break;case"MultiLineString":ht=fc;break;case"Polygon":ht=hu;break;case"MultiPolygon":ht=hu;break;case"Sphere":ht=hu;break;default:return null}return(0,ba.Z)(je,nt(ht)),ht.result()}var Ji=[],Oo=[],Ul={point:function(je,nt){Ji.push([je,nt])},result:function(){var je=Ji.length?Ji.length<2?{type:"Point",coordinates:Ji[0]}:{type:"MultiPoint",coordinates:Ji}:null;return Ji=[],je}},fc={lineStart:cu,point:function(je,nt){Ji.push([je,nt])},lineEnd:function(){Ji.length&&(Oo.push(Ji),Ji=[])},result:function(){var je=Oo.length?Oo.length<2?{type:"LineString",coordinates:Oo[0]}:{type:"MultiLineString",coordinates:Oo}:null;return Oo=[],je}},hu={polygonStart:cu,lineStart:cu,point:function(je,nt){Ji.push([je,nt])},lineEnd:function(){var je=Ji.length;if(je){do Ji.push(Ji[0].slice());while(++je<4);Oo.push(Ji),Ji=[]}},polygonEnd:cu,result:function(){if(!Oo.length)return null;var je=[],nt=[];return Oo.forEach(function(ht){dh(ht)?je.push([ht]):nt.push(ht)}),nt.forEach(function(ht){var mt=ht[0];je.some(function(_t){if(ph(_t[0],mt))return _t.push(ht),!0})||je.push([ht])}),Oo=[],je.length?je.length>1?{type:"MultiPolygon",coordinates:je}:{type:"Polygon",coordinates:je[0]}:null}};function Ps(je){var nt=je(s,0)[0]-je(-s,0)[0];function ht(mt,_t){var Pt=P(mt)<s,Ft=je(Pt?mt:mt>0?mt-h:mt+h,_t),dr=(Ft[0]-Ft[1])*A,xr=(Ft[0]+Ft[1])*A;if(Pt)return[dr,xr];var ar=nt*A,Ar=dr>0^xr>0?-1:1;return[Ar*dr-u(xr)*ar,Ar*xr-u(dr)*ar]}return je.invert&&(ht.invert=function(mt,_t){var Pt=(mt+_t)*A,Ft=(_t-mt)*A,dr=P(Pt)<.5*nt&&P(Ft)<.5*nt;if(!dr){var xr=nt*A,ar=Pt>0^Ft>0?-1:1,Ar=-ar*mt+(Ft>0?1:-1)*xr,Ir=-ar*_t+(Pt>0?1:-1)*xr;Pt=(-Ar-Ir)*A,Ft=(Ar-Ir)*A}var Fr=je.invert(Pt,Ft);return dr||(Fr[0]+=Pt>0?h:-h),Fr}),(0,y.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function mh(){return Ps(pn).scale(176.423)}function cc(){return Ps(Tr).scale(111.48)}function hc(je,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function ht(ar){var Ar=ar.length,Ir=2,Fr=new Array(Ar);for(Fr[0]=+ar[0].toFixed(nt),Fr[1]=+ar[1].toFixed(nt);Ir<Ar;)Fr[Ir]=ar[Ir],++Ir;return Fr}function mt(ar){return ar.map(ht)}function _t(ar){for(var Ar=ht(ar[0]),Ir=[Ar],Fr=1;Fr<ar.length;Fr++){var en=ht(ar[Fr]);(en.length>2||en[0]!=Ar[0]||en[1]!=Ar[1])&&(Ir.push(en),Ar=en)}return Ir.length===1&&ar.length>1&&Ir.push(ht(ar[ar.length-1])),Ir}function Pt(ar){return ar.map(_t)}function Ft(ar){if(ar==null)return ar;var Ar;switch(ar.type){case"GeometryCollection":Ar={type:"GeometryCollection",geometries:ar.geometries.map(Ft)};break;case"Point":Ar={type:"Point",coordinates:ht(ar.coordinates)};break;case"MultiPoint":Ar={type:ar.type,coordinates:mt(ar.coordinates)};break;case"LineString":Ar={type:ar.type,coordinates:_t(ar.coordinates)};break;case"MultiLineString":case"Polygon":Ar={type:ar.type,coordinates:Pt(ar.coordinates)};break;case"MultiPolygon":Ar={type:"MultiPolygon",coordinates:ar.coordinates.map(Pt)};break;default:return ar}return ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}function dr(ar){var Ar={type:"Feature",properties:ar.properties,geometry:Ft(ar.geometry)};return ar.id!=null&&(Ar.id=ar.id),ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}if(je!=null)switch(je.type){case"Feature":return dr(je);case"FeatureCollection":{var xr={type:"FeatureCollection",features:je.features.map(dr)};return je.bbox!=null&&(xr.bbox=je.bbox),xr}default:return Ft(je)}return je}function Ef(je){var nt=l(je);function ht(mt,_t){var Pt=nt?g(mt*nt/2)/nt:mt/2;if(!_t)return[2*Pt,-je];var Ft=2*a(Pt*l(_t)),dr=1/g(_t);return[l(Ft)*dr,_t+(1-M(Ft))*dr-je]}return ht.invert=function(mt,_t){if(P(_t+=je)<f)return[nt?2*a(nt*mt/2)/nt:mt,0];var Pt=mt*mt+_t*_t,Ft=0,dr=10,xr;do{var ar=g(Ft),Ar=1/M(Ft),Ir=Pt-2*_t*Ft+Ft*Ft;Ft-=xr=(ar*Ir+2*(Ft-_t))/(2+Ir*Ar*Ar+2*(Ft-_t)*ar)}while(P(xr)>f&&--dr>0);var Fr=mt*(ar=g(Ft)),en=g(P(_t)<P(Ft+1/ar)?E(Fr)*.5:m(Fr)*.5+h/4)/l(Ft);return[nt?2*a(nt*en)/nt:2*en,Ft]},ht}function vc(){return lt(Ef).scale(131.215)}var bo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];bo.forEach(function(je){je[1]*=1.0144});function qo(je,nt){var ht=o(18,P(nt)*36/h),mt=p(ht),_t=ht-mt,Pt=(Ir=bo[mt])[0],Ft=Ir[1],dr=(Ir=bo[++mt])[0],xr=Ir[1],ar=(Ir=bo[o(19,++mt)])[0],Ar=Ir[1],Ir;return[je*(dr+_t*(ar-Pt)/2+_t*_t*(ar-2*dr+Pt)/2),(nt>0?s:-s)*(xr+_t*(Ar-Ft)/2+_t*_t*(Ar-2*xr+Ft)/2)]}qo.invert=function(je,nt){var ht=nt/s,mt=ht*90,_t=o(18,P(mt/5)),Pt=t(0,p(_t));do{var Ft=bo[Pt][1],dr=bo[Pt+1][1],xr=bo[o(19,Pt+2)][1],ar=xr-Ft,Ar=xr-2*dr+Ft,Ir=2*(P(ht)-dr)/ar,Fr=Ar/ar,en=Ir*(1-Fr*Ir*(1-2*Fr*Ir));if(en>=0||Pt===1){mt=(nt>=0?5:-5)*(en+_t);var xn=50,Cn;do _t=o(18,P(mt)/5),Pt=p(_t),en=_t-Pt,Ft=bo[Pt][1],dr=bo[Pt+1][1],xr=bo[o(19,Pt+2)][1],mt-=(Cn=(nt>=0?s:-s)*(dr+en*(xr-Ft)/2+en*en*(xr-2*dr+Ft)/2)-nt)*S;while(P(Cn)>T&&--xn>0);break}}while(--Pt>=0);var Ln=bo[Pt][0],Xn=bo[Pt+1][0],Pa=bo[o(19,Pt+2)][0];return[je/(Xn+en*(Pa-Ln)/2+en*en*(Pa-2*Xn+Ln)/2),mt*x]};function Ws(){return(0,y.Z)(qo).scale(152.63)}function Hl(je){function nt(ht,mt){var _t=M(mt),Pt=(je-1)/(je-_t*M(ht));return[Pt*_t*l(ht),Pt*l(mt)]}return nt.invert=function(ht,mt){var _t=ht*ht+mt*mt,Pt=k(_t),Ft=(je-k(1-_t*(je+1)/(je-1)))/((je-1)/Pt+Pt/(je-1));return[L(ht*Ft,Pt*k(1-Ft*Ft)),Pt?E(mt*Ft/Pt):0]},nt}function Ju(je,nt){var ht=Hl(je);if(!nt)return ht;var mt=M(nt),_t=l(nt);function Pt(Ft,dr){var xr=ht(Ft,dr),ar=xr[1],Ar=ar*_t/(je-1)+mt;return[xr[0]*mt/Ar,ar/Ar]}return Pt.invert=function(Ft,dr){var xr=(je-1)/(je-1-dr*_t);return ht.invert(xr*Ft,xr*dr*mt)},Pt}function ul(){var je=2,nt=0,ht=(0,y.r)(Ju),mt=ht(je,nt);return mt.distance=function(_t){return arguments.length?ht(je=+_t,nt):je},mt.tilt=function(_t){return arguments.length?ht(je,nt=_t*x):nt*S},mt.scale(432.147).clipAngle(m(1/je)*S-1e-6)}var fl=1e-4,dc=1e4,Rs=-180,Vl=Rs+fl,Ys=180,Ds=Ys-fl,vu=-90,Gl=vu+fl,fi=90,Wl=fi-fl;function Qu(je){return je.length>0}function pc(je){return Math.floor(je*dc)/dc}function Yl(je){return je===vu||je===fi?[0,je]:[Rs,pc(je)]}function du(je){var nt=je[0],ht=je[1],mt=!1;return nt<=Vl?(nt=Rs,mt=!0):nt>=Ds&&(nt=Ys,mt=!0),ht<=Gl?(ht=vu,mt=!0):ht>=Wl&&(ht=fi,mt=!0),mt?[nt,ht]:je}function $u(je){return je.map(du)}function Cf(je,nt,ht){for(var mt=0,_t=je.length;mt<_t;++mt){var Pt=je[mt].slice();ht.push({index:-1,polygon:nt,ring:Pt});for(var Ft=0,dr=Pt.length;Ft<dr;++Ft){var xr=Pt[Ft],ar=xr[0],Ar=xr[1];if(ar<=Vl||ar>=Ds||Ar<=Gl||Ar>=Wl){Pt[Ft]=du(xr);for(var Ir=Ft+1;Ir<dr;++Ir){var Fr=Pt[Ir],en=Fr[0],xn=Fr[1];if(en>Vl&&en<Ds&&xn>Gl&&xn<Wl)break}if(Ir===Ft+1)continue;if(Ft){var Cn={index:-1,polygon:nt,ring:Pt.slice(0,Ft+1)};Cn.ring[Cn.ring.length-1]=Yl(Ar),ht[ht.length-1]=Cn}else ht.pop();if(Ir>=dr)break;ht.push({index:-1,polygon:nt,ring:Pt=Pt.slice(Ir-1)}),Pt[0]=Yl(Pt[0][1]),Ft=-1,dr=Pt.length}}}}function pu(je){var nt,ht=je.length,mt={},_t={},Pt,Ft,dr,xr,ar;for(nt=0;nt<ht;++nt){if(Pt=je[nt],Ft=Pt.ring[0],xr=Pt.ring[Pt.ring.length-1],Ft[0]===xr[0]&&Ft[1]===xr[1]){Pt.polygon.push(Pt.ring),je[nt]=null;continue}Pt.index=nt,mt[Ft]=_t[xr]=Pt}for(nt=0;nt<ht;++nt)if(Pt=je[nt],Pt){if(Ft=Pt.ring[0],xr=Pt.ring[Pt.ring.length-1],dr=_t[Ft],ar=mt[xr],delete mt[Ft],delete _t[xr],Ft[0]===xr[0]&&Ft[1]===xr[1]){Pt.polygon.push(Pt.ring);continue}dr?(delete _t[Ft],delete mt[dr.ring[0]],dr.ring.pop(),je[dr.index]=null,Pt={index:-1,polygon:dr.polygon,ring:dr.ring.concat(Pt.ring)},dr===ar?Pt.polygon.push(Pt.ring):(Pt.index=ht++,je.push(mt[Pt.ring[0]]=_t[Pt.ring[Pt.ring.length-1]]=Pt))):ar?(delete mt[xr],delete _t[ar.ring[ar.ring.length-1]],Pt.ring.pop(),Pt={index:ht++,polygon:ar.polygon,ring:Pt.ring.concat(ar.ring)},je[ar.index]=null,je.push(mt[Pt.ring[0]]=_t[Pt.ring[Pt.ring.length-1]]=Pt)):(Pt.ring.push(Pt.ring[0]),Pt.polygon.push(Pt.ring))}}function gu(je){var nt={type:"Feature",geometry:Zs(je.geometry)};return je.id!=null&&(nt.id=je.id),je.bbox!=null&&(nt.bbox=je.bbox),je.properties!=null&&(nt.properties=je.properties),nt}function Zs(je){if(je==null)return je;var nt,ht,mt,_t;switch(je.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:je.geometries.map(Zs)};break;case"Point":nt={type:"Point",coordinates:du(je.coordinates)};break;case"MultiPoint":case"LineString":nt={type:je.type,coordinates:$u(je.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:je.coordinates.map($u)};break;case"Polygon":{var Pt=[];Cf(je.coordinates,Pt,ht=[]),pu(ht),nt={type:"Polygon",coordinates:Pt};break}case"MultiPolygon":{ht=[],mt=-1,_t=je.coordinates.length;for(var Ft=new Array(_t);++mt<_t;)Cf(je.coordinates[mt],Ft[mt]=[],ht);pu(ht),nt={type:"MultiPolygon",coordinates:Ft.filter(Qu)};break}default:return je}return je.bbox!=null&&(nt.bbox=je.bbox),nt}function yu(je){if(je==null)return je;switch(je.type){case"Feature":return gu(je);case"FeatureCollection":{var nt={type:"FeatureCollection",features:je.features.map(gu)};return je.bbox!=null&&(nt.bbox=je.bbox),nt}default:return Zs(je)}}function Xs(je,nt){var ht=g(nt/2),mt=l(d*ht);return[je*(.74482-.34588*mt*mt),1.70711*ht]}Xs.invert=function(je,nt){var ht=nt/1.70711,mt=l(d*ht);return[je/(.74482-.34588*mt*mt),2*a(ht)]};function Vi(){return(0,y.Z)(Xs).scale(146.153)}function ds(je,nt,ht){var mt=(0,wf.Z)(nt,ht),_t=mt(.5),Pt=(0,Ge.Z)([-_t[0],-_t[1]])(nt),Ft=mt.distance/2,dr=-E(l(Pt[1]*x)/l(Ft)),xr=[-_t[0],-_t[1],-(Pt[0]>0?h-dr:dr)*S],ar=(0,y.Z)(je(Ft)).rotate(xr),Ar=(0,Ge.Z)(xr),Ir=ar.center;return delete ar.rotate,ar.center=function(Fr){return arguments.length?Ir(Ar(Fr)):Ar.invert(Ir())},ar.clipAngle(90)}function Lf(je){var nt=M(je);function ht(mt,_t){var Pt=(0,Vs.M)(mt,_t);return Pt[0]*=nt,Pt}return ht.invert=function(mt,_t){return Vs.M.invert(mt/nt,_t)},ht}function cl(){return qu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function qu(je,nt){return ds(Lf,je,nt)}function mu(je){if(!(je*=2))return oe.N;var nt=-je/2,ht=-nt,mt=je*je,_t=g(ht),Pt=.5/l(ht);function Ft(dr,xr){var ar=m(M(xr)*M(dr-nt)),Ar=m(M(xr)*M(dr-ht)),Ir=xr<0?-1:1;return ar*=ar,Ar*=Ar,[(ar-Ar)/(2*je),Ir*k(4*mt*Ar-(mt-ar+Ar)*(mt-ar+Ar))/(2*je)]}return Ft.invert=function(dr,xr){var ar=xr*xr,Ar=M(k(ar+(Fr=dr+nt)*Fr)),Ir=M(k(ar+(Fr=dr+ht)*Fr)),Fr,en;return[L(en=Ar-Ir,Fr=(Ar+Ir)*_t),(xr<0?-1:1)*m(k(Fr*Fr+en*en)*Pt)]},Ft}function xh(){return gc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function gc(je,nt){return ds(mu,je,nt)}function vo(je,nt){if(P(nt)<f)return[je,0];var ht=P(nt/s),mt=E(ht);if(P(je)<f||P(P(nt)-s)<f)return[0,u(nt)*h*g(mt/2)];var _t=M(mt),Pt=P(h/je-je/h)/2,Ft=Pt*Pt,dr=_t/(ht+_t-1),xr=dr*(2/ht-1),ar=xr*xr,Ar=ar+Ft,Ir=dr-ar,Fr=Ft+dr;return[u(je)*h*(Pt*Ir+k(Ft*Ir*Ir-Ar*(dr*dr-ar)))/Ar,u(nt)*h*(xr*Fr-Pt*k((Ft+1)*Ar-Fr*Fr))/Ar]}vo.invert=function(je,nt){if(P(nt)<f)return[je,0];if(P(je)<f)return[0,s*l(2*a(nt/h))];var ht=(je/=h)*je,mt=(nt/=h)*nt,_t=ht+mt,Pt=_t*_t,Ft=-P(nt)*(1+_t),dr=Ft-2*mt+ht,xr=-2*Ft+1+2*mt+Pt,ar=mt/xr+(2*dr*dr*dr/(xr*xr*xr)-9*Ft*dr/(xr*xr))/27,Ar=(Ft-dr*dr/(3*xr))/xr,Ir=2*k(-Ar/3),Fr=m(3*ar/(Ar*Ir))/3;return[h*(_t-1+k(1+2*(ht-mt)+Pt))/(2*je),u(nt)*h*(-Ir*M(Fr+h/3)-dr/(3*xr))]};function xu(){return(0,y.Z)(vo).scale(79.4183)}function Zl(je,nt){if(P(nt)<f)return[je,0];var ht=P(nt/s),mt=E(ht);if(P(je)<f||P(P(nt)-s)<f)return[0,u(nt)*h*g(mt/2)];var _t=M(mt),Pt=P(h/je-je/h)/2,Ft=Pt*Pt,dr=_t*(k(1+Ft)-Pt*_t)/(1+Ft*ht*ht);return[u(je)*h*dr,u(nt)*h*k(1-dr*(2*Pt+dr))]}Zl.invert=function(je,nt){if(!je)return[0,s*l(2*a(nt/h))];var ht=P(je/h),mt=(1-ht*ht-(nt/=h)*nt)/(2*ht),_t=mt*mt,Pt=k(_t+1);return[u(je)*h*(Pt-mt),u(nt)*s*l(2*L(k((1-2*mt*ht)*(mt+Pt)-ht),k(Pt+mt+ht)))]};function yc(){return(0,y.Z)(Zl).scale(79.4183)}function js(je,nt){if(P(nt)<f)return[je,0];var ht=nt/s,mt=E(ht);if(P(je)<f||P(P(nt)-s)<f)return[0,h*g(mt/2)];var _t=(h/je-je/h)/2,Pt=ht/(1+M(mt));return[h*(u(je)*k(_t*_t+1-Pt*Pt)-_t),h*Pt]}js.invert=function(je,nt){if(!nt)return[je,0];var ht=nt/h,mt=(h*h*(1-ht*ht)-je*je)/(2*h*je);return[je?h*(u(je)*k(mt*mt+1)-mt):0,s*l(2*a(ht))]};function bh(){return(0,y.Z)(js).scale(79.4183)}function Ro(je,nt){if(!nt)return[je,0];var ht=P(nt);if(!je||ht===s)return[0,nt];var mt=ht/s,_t=mt*mt,Pt=(8*mt-_t*(_t+2)-5)/(2*_t*(mt-1)),Ft=Pt*Pt,dr=mt*Pt,xr=_t+Ft+2*dr,ar=mt+3*Pt,Ar=je/s,Ir=Ar+1/Ar,Fr=u(P(je)-s)*k(Ir*Ir-4),en=Fr*Fr,xn=xr*(_t+Ft*en-1)+(1-_t)*(_t*(ar*ar+4*Ft)+12*dr*Ft+4*Ft*Ft),Cn=(Fr*(xr+Ft-1)+2*k(xn))/(4*xr+en);return[u(je)*s*Cn,u(nt)*s*k(1+Fr*P(Cn)-Cn*Cn)]}Ro.invert=function(je,nt){var ht;if(!je||!nt)return[je,nt];nt/=h;var mt=u(je)*je/s,_t=(mt*mt-1+4*nt*nt)/P(mt),Pt=_t*_t,Ft=2*nt,dr=50;do{var xr=Ft*Ft,ar=(8*Ft-xr*(xr+2)-5)/(2*xr*(Ft-1)),Ar=(3*Ft-xr*Ft-10)/(2*xr*Ft),Ir=ar*ar,Fr=Ft*ar,en=Ft+ar,xn=en*en,Cn=Ft+3*ar,Ln=xn*(xr+Ir*Pt-1)+(1-xr)*(xr*(Cn*Cn+4*Ir)+Ir*(12*Fr+4*Ir)),Xn=-2*en*(4*Fr*Ir+(1-4*xr+3*xr*xr)*(1+Ar)+Ir*(-6+14*xr-Pt+(-8+8*xr-2*Pt)*Ar)+Fr*(-8+12*xr+(-10+10*xr-Pt)*Ar)),Pa=k(Ln),Ra=_t*(xn+Ir-1)+2*Pa-mt*(4*xn+Pt),Da=_t*(2*ar*Ar+2*en*(1+Ar))+Xn/Pa-8*en*(_t*(-1+Ir+xn)+2*Pa)*(1+Ar)/(Pt+4*xn);Ft-=ht=Ra/Da}while(ht>f&&--dr>0);return[u(je)*(k(_t*_t+4)+_t)*h/4,s*Ft]};function bu(){return(0,y.Z)(Ro).scale(127.16)}function ef(je,nt,ht,mt,_t){function Pt(Ft,dr){var xr=ht*l(mt*dr),ar=k(1-xr*xr),Ar=k(2/(1+ar*M(Ft*=_t)));return[je*ar*Ar*l(Ft),nt*xr*Ar]}return Pt.invert=function(Ft,dr){var xr=Ft/je,ar=dr/nt,Ar=k(xr*xr+ar*ar),Ir=2*E(Ar/2);return[L(Ft*g(Ir),je*Ar)/_t,Ar&&E(dr*l(Ir)/(nt*ht*Ar))/mt]},Pt}function Is(je,nt,ht,mt){var _t=h/3;je=t(je,f),nt=t(nt,f),je=o(je,s),nt=o(nt,h-f),ht=t(ht,0),ht=o(ht,100-f),mt=t(mt,f);var Pt=ht/100+1,Ft=mt/100,dr=m(Pt*M(_t))/_t,xr=l(je)/l(dr*s),ar=nt/h,Ar=k(Ft*l(je/2)/l(nt/2)),Ir=Ar/k(ar*xr*dr),Fr=1/(Ar*k(ar*xr*dr));return ef(Ir,Fr,xr,dr,ar)}function Ks(){var je=65*x,nt=60*x,ht=20,mt=200,_t=(0,y.r)(Is),Pt=_t(je,nt,ht,mt);return Pt.poleline=function(Ft){return arguments.length?_t(je=+Ft*x,nt,ht,mt):je*S},Pt.parallels=function(Ft){return arguments.length?_t(je,nt=+Ft*x,ht,mt):nt*S},Pt.inflation=function(Ft){return arguments.length?_t(je,nt,ht=+Ft,mt):ht},Pt.ratio=function(Ft){return arguments.length?_t(je,nt,ht,mt=+Ft):mt},Pt.scale(163.775)}function Pf(){return Ks().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var wu=4*h+3*k(3),Tu=2*k(2*h*k(3)/wu),tf=me(Tu*k(3)/h,Tu,wu/6);function mc(){return(0,y.Z)(tf).scale(176.84)}function Au(je,nt){return[je*k(1-3*nt*nt/(h*h)),nt]}Au.invert=function(je,nt){return[je/k(1-3*nt*nt/(h*h)),nt]};function Rf(){return(0,y.Z)(Au).scale(152.63)}function hl(je,nt){var ht=M(nt),mt=M(je)*ht,_t=1-mt,Pt=M(je=L(l(je)*ht,-l(nt))),Ft=l(je);return ht=k(1-mt*mt),[Ft*ht-Pt*_t,-Pt*ht-Ft*_t]}hl.invert=function(je,nt){var ht=(je*je+nt*nt)/-2,mt=k(-ht*(2+ht)),_t=nt*ht+je*mt,Pt=je*ht-nt*mt,Ft=k(Pt*Pt+_t*_t);return[L(mt*_t,Ft*(1+ht)),Ft?-E(mt*Pt/Ft):0]};function Df(){return(0,y.Z)(hl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Mu(je,nt){var ht=Y(je,nt);return[(ht[0]+je/s)/2,(ht[1]+nt)/2]}Mu.invert=function(je,nt){var ht=je,mt=nt,_t=25;do{var Pt=M(mt),Ft=l(mt),dr=l(2*mt),xr=Ft*Ft,ar=Pt*Pt,Ar=l(ht),Ir=M(ht/2),Fr=l(ht/2),en=Fr*Fr,xn=1-ar*Ir*Ir,Cn=xn?m(Pt*Ir)*k(Ln=1/xn):Ln=0,Ln,Xn=.5*(2*Cn*Pt*Fr+ht/s)-je,Pa=.5*(Cn*Ft+mt)-nt,Ra=.5*Ln*(ar*en+Cn*Pt*Ir*xr)+.5/s,Da=Ln*(Ar*dr/4-Cn*Ft*Fr),za=.125*Ln*(dr*Fr-Cn*Ft*ar*Ar),Za=.5*Ln*(xr*Ir+Cn*en*Pt)+.5,ci=Da*za-Za*Ra,_i=(Pa*Da-Xn*Za)/ci,ue=(Xn*za-Pa*Ra)/ci;ht-=_i,mt-=ue}while((P(_i)>f||P(ue)>f)&&--_t>0);return[ht,mt]};function xc(){return(0,y.Z)(Mu).scale(158.837)}},33940:function(G,H,e){e.d(H,{Z:function(){return y}});function y(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(M){L(a,M,this.t),L(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new P;function L(M,v,p){var r=M.s=v+p,t=r-v,o=r-t;M.t=v-o+(p-t)}},97860:function(G,H,e){e.d(H,{L9:function(){return M},ZP:function(){return T},gL:function(){return c}});var y=e(33940),P=e(39695),a=e(73182),L=e(72736),M=(0,y.Z)(),v=(0,y.Z)(),p,r,t,o,n,c={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){M.reset(),c.lineStart=u,c.lineEnd=l},polygonEnd:function(){var h=+M;v.add(h<0?P.BZ+h:h),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){v.add(P.BZ)}};function u(){c.point=g}function l(){f(p,r)}function g(h,s){c.point=f,p=h,r=s,h*=P.uR,s*=P.uR,t=h,o=(0,P.mC)(s=s/2+P.pu),n=(0,P.O$)(s)}function f(h,s){h*=P.uR,s*=P.uR,s=s/2+P.pu;var d=h-t,A=d>=0?1:-1,w=A*d,C=(0,P.mC)(s),b=(0,P.O$)(s),S=n*b,x=o*C+S*(0,P.mC)(w),i=S*A*(0,P.O$)(w);M.add((0,P.fv)(i,x)),t=h,o=C,n=b}function T(h){return v.reset(),(0,L.Z)(h,c),v*2}},77338:function(G,H,e){e.d(H,{Z:function(){return E}});var y=e(33940),P=e(97860),a=e(7620),L=e(39695),M=e(72736),v,p,r,t,o,n,c,u,l=(0,y.Z)(),g,f,T={point:h,lineStart:d,lineEnd:A,polygonStart:function(){T.point=w,T.lineStart=C,T.lineEnd=b,l.reset(),P.gL.polygonStart()},polygonEnd:function(){P.gL.polygonEnd(),T.point=h,T.lineStart=d,T.lineEnd=A,P.L9<0?(v=-(r=180),p=-(t=90)):l>L.Ho?t=90:l<-L.Ho&&(p=-90),f[0]=v,f[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function h(m,k){g.push(f=[v=m,r=m]),k<p&&(p=k),k>t&&(t=k)}function s(m,k){var I=(0,a.Og)([m*L.uR,k*L.uR]);if(u){var U=(0,a.T5)(u,I),z=[U[1],-U[0],0],F=(0,a.T5)(z,U);(0,a.iJ)(F),F=(0,a.Y1)(F);var B=m-o,O=B>0?1:-1,N=F[0]*L.RW*O,Y,$=(0,L.Wn)(B)>180;$^(O*o<N&&N<O*m)?(Y=F[1]*L.RW,Y>t&&(t=Y)):(N=(N+360)%360-180,$^(O*o<N&&N<O*m)?(Y=-F[1]*L.RW,Y<p&&(p=Y)):(k<p&&(p=k),k>t&&(t=k))),$?m<o?S(v,m)>S(v,r)&&(r=m):S(m,r)>S(v,r)&&(v=m):r>=v?(m<v&&(v=m),m>r&&(r=m)):m>o?S(v,m)>S(v,r)&&(r=m):S(m,r)>S(v,r)&&(v=m)}else g.push(f=[v=m,r=m]);k<p&&(p=k),k>t&&(t=k),u=I,o=m}function d(){T.point=s}function A(){f[0]=v,f[1]=r,T.point=h,u=null}function w(m,k){if(u){var I=m-o;l.add((0,L.Wn)(I)>180?I+(I>0?360:-360):I)}else n=m,c=k;P.gL.point(m,k),s(m,k)}function C(){P.gL.lineStart()}function b(){w(n,c),P.gL.lineEnd(),(0,L.Wn)(l)>L.Ho&&(v=-(r=180)),f[0]=v,f[1]=r,u=null}function S(m,k){return(k-=m)<0?k+360:k}function x(m,k){return m[0]-k[0]}function i(m,k){return m[0]<=m[1]?m[0]<=k&&k<=m[1]:k<m[0]||m[1]<k}function E(m){var k,I,U,z,F,B,O;if(t=r=-(v=p=1/0),g=[],(0,M.Z)(m,T),I=g.length){for(g.sort(x),k=1,U=g[0],F=[U];k<I;++k)z=g[k],i(U,z[0])||i(U,z[1])?(S(U[0],z[1])>S(U[0],U[1])&&(U[1]=z[1]),S(z[0],U[1])>S(U[0],U[1])&&(U[0]=z[0])):F.push(U=z);for(B=-1/0,I=F.length-1,k=0,U=F[I];k<=I;U=z,++k)z=F[k],(O=S(U[1],z[0]))>B&&(B=O,v=z[0],r=U[1])}return g=f=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},7620:function(G,H,e){e.d(H,{Og:function(){return a},T:function(){return p},T5:function(){return M},Y1:function(){return P},iJ:function(){return r},j9:function(){return L},s0:function(){return v}});var y=e(39695);function P(t){return[(0,y.fv)(t[1],t[0]),(0,y.ZR)(t[2])]}function a(t){var o=t[0],n=t[1],c=(0,y.mC)(n);return[c*(0,y.mC)(o),c*(0,y.O$)(o),(0,y.O$)(n)]}function L(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function M(t,o){return[t[1]*o[2]-t[2]*o[1],t[2]*o[0]-t[0]*o[2],t[0]*o[1]-t[1]*o[0]]}function v(t,o){t[0]+=o[0],t[1]+=o[1],t[2]+=o[2]}function p(t,o){return[t[0]*o,t[1]*o,t[2]*o]}function r(t){var o=(0,y._b)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=o,t[1]/=o,t[2]/=o}},66624:function(G,H,e){e.d(H,{Z:function(){return I}});var y=e(39695),P=e(73182),a=e(72736),L,M,v,p,r,t,o,n,c,u,l,g,f,T,h,s,d={sphere:P.Z,point:A,lineStart:C,lineEnd:x,polygonStart:function(){d.lineStart=i,d.lineEnd=E},polygonEnd:function(){d.lineStart=C,d.lineEnd=x}};function A(U,z){U*=y.uR,z*=y.uR;var F=(0,y.mC)(z);w(F*(0,y.mC)(U),F*(0,y.O$)(U),(0,y.O$)(z))}function w(U,z,F){++L,v+=(U-v)/L,p+=(z-p)/L,r+=(F-r)/L}function C(){d.point=b}function b(U,z){U*=y.uR,z*=y.uR;var F=(0,y.mC)(z);T=F*(0,y.mC)(U),h=F*(0,y.O$)(U),s=(0,y.O$)(z),d.point=S,w(T,h,s)}function S(U,z){U*=y.uR,z*=y.uR;var F=(0,y.mC)(z),B=F*(0,y.mC)(U),O=F*(0,y.O$)(U),N=(0,y.O$)(z),Y=(0,y.fv)((0,y._b)((Y=h*N-s*O)*Y+(Y=s*B-T*N)*Y+(Y=T*O-h*B)*Y),T*B+h*O+s*N);M+=Y,t+=Y*(T+(T=B)),o+=Y*(h+(h=O)),n+=Y*(s+(s=N)),w(T,h,s)}function x(){d.point=A}function i(){d.point=m}function E(){k(g,f),d.point=A}function m(U,z){g=U,f=z,U*=y.uR,z*=y.uR,d.point=k;var F=(0,y.mC)(z);T=F*(0,y.mC)(U),h=F*(0,y.O$)(U),s=(0,y.O$)(z),w(T,h,s)}function k(U,z){U*=y.uR,z*=y.uR;var F=(0,y.mC)(z),B=F*(0,y.mC)(U),O=F*(0,y.O$)(U),N=(0,y.O$)(z),Y=h*N-s*O,$=s*B-T*N,te=T*O-h*B,ie=(0,y._b)(Y*Y+$*$+te*te),ce=(0,y.ZR)(ie),J=ie&&-ce/ie;c+=J*Y,u+=J*$,l+=J*te,M+=ce,t+=ce*(T+(T=B)),o+=ce*(h+(h=O)),n+=ce*(s+(s=N)),w(T,h,s)}function I(U){L=M=v=p=r=t=o=n=c=u=l=0,(0,a.Z)(U,d);var z=c,F=u,B=l,O=z*z+F*F+B*B;return O<y.aW&&(z=t,F=o,B=n,M<y.Ho&&(z=v,F=p,B=r),O=z*z+F*F+B*B,O<y.aW)?[NaN,NaN]:[(0,y.fv)(F,z)*y.RW,(0,y.ZR)(B/(0,y._b)(O))*y.RW]}},7613:function(G,H,e){e.d(H,{m:function(){return M},Z:function(){return p}});var y=e(7620);function P(r){return function(){return r}}var a=e(39695),L=e(49386);function M(r,t,o,n,c,u){if(o){var l=(0,a.mC)(t),g=(0,a.O$)(t),f=n*o;c==null?(c=t+n*a.BZ,u=t-f/2):(c=v(l,c),u=v(l,u),(n>0?c<u:c>u)&&(c+=n*a.BZ));for(var T,h=c;n>0?h>u:h<u;h-=f)T=(0,y.Y1)([l,-g*(0,a.mC)(h),-g*(0,a.O$)(h)]),r.point(T[0],T[1])}}function v(r,t){t=(0,y.Og)(t),t[0]-=r,(0,y.iJ)(t);var o=(0,a.Kh)(-t[1]);return((-t[2]<0?-o:o)+a.BZ-a.Ho)%a.BZ}function p(){var r=P([0,0]),t=P(90),o=P(6),n,c,u={point:l};function l(f,T){n.push(f=c(f,T)),f[0]*=a.RW,f[1]*=a.RW}function g(){var f=r.apply(this,arguments),T=t.apply(this,arguments)*a.uR,h=o.apply(this,arguments)*a.uR;return n=[],c=(0,L.I)(-f[0]*a.uR,-f[1]*a.uR,0).invert,M(u,T,h,1),f={type:"Polygon",coordinates:[n]},n=c=null,f}return g.center=function(f){return arguments.length?(r=typeof f=="function"?f:P([+f[0],+f[1]]),g):r},g.radius=function(f){return arguments.length?(t=typeof f=="function"?f:P(+f),g):t},g.precision=function(f){return arguments.length?(o=typeof f=="function"?f:P(+f),g):o},g}},87070:function(G,H,e){var y=e(97023),P=e(39695);H.Z=(0,y.Z)(function(){return!0},a,M,[-P.pi,-P.ou]);function a(v){var p=NaN,r=NaN,t=NaN,o;return{lineStart:function(){v.lineStart(),o=1},point:function(n,c){var u=n>0?P.pi:-P.pi,l=(0,P.Wn)(n-p);(0,P.Wn)(l-P.pi)<P.Ho?(v.point(p,r=(r+c)/2>0?P.ou:-P.ou),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),o=0):t!==u&&l>=P.pi&&((0,P.Wn)(p-t)<P.Ho&&(p-=t*P.Ho),(0,P.Wn)(n-u)<P.Ho&&(n-=u*P.Ho),r=L(p,r,n,c),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),o=0),v.point(p=n,r=c),t=u},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-o}}}function L(v,p,r,t){var o,n,c=(0,P.O$)(v-r);return(0,P.Wn)(c)>P.Ho?(0,P.z4)(((0,P.O$)(p)*(n=(0,P.mC)(t))*(0,P.O$)(r)-(0,P.O$)(t)*(o=(0,P.mC)(p))*(0,P.O$)(v))/(o*n*c)):(p+t)/2}function M(v,p,r,t){var o;if(v==null)o=r*P.ou,t.point(-P.pi,o),t.point(0,o),t.point(P.pi,o),t.point(P.pi,0),t.point(P.pi,-o),t.point(0,-o),t.point(-P.pi,-o),t.point(-P.pi,0),t.point(-P.pi,o);else if((0,P.Wn)(v[0]-p[0])>P.Ho){var n=v[0]<p[0]?P.pi:-P.pi;o=r*n/2,t.point(-n,o),t.point(0,o),t.point(n,o)}else t.point(p[0],p[1])}},85272:function(G,H,e){e.d(H,{Z:function(){return P}});var y=e(73182);function P(){var a=[],L;return{point:function(M,v,p){L.push([M,v,p])},lineStart:function(){a.push(L=[])},lineEnd:y.Z,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var M=a;return a=[],L=null,M}}}},1457:function(G,H,e){e.d(H,{Z:function(){return v}});var y=e(7620),P=e(7613),a=e(39695),L=e(67108),M=e(97023);function v(p){var r=(0,a.mC)(p),t=6*a.uR,o=r>0,n=(0,a.Wn)(r)>a.Ho;function c(T,h,s,d){(0,P.m)(d,p,t,s,T,h)}function u(T,h){return(0,a.mC)(T)*(0,a.mC)(h)>r}function l(T){var h,s,d,A,w;return{lineStart:function(){A=d=!1,w=1},point:function(C,b){var S=[C,b],x,i=u(C,b),E=o?i?0:f(C,b):i?f(C+(C<0?a.pi:-a.pi),b):0;if(!h&&(A=d=i)&&T.lineStart(),i!==d&&(x=g(h,S),(!x||(0,L.Z)(h,x)||(0,L.Z)(S,x))&&(S[2]=1)),i!==d)w=0,i?(T.lineStart(),x=g(S,h),T.point(x[0],x[1])):(x=g(h,S),T.point(x[0],x[1],2),T.lineEnd()),h=x;else if(n&&h&&o^i){var m;!(E&s)&&(m=g(S,h,!0))&&(w=0,o?(T.lineStart(),T.point(m[0][0],m[0][1]),T.point(m[1][0],m[1][1]),T.lineEnd()):(T.point(m[1][0],m[1][1]),T.lineEnd(),T.lineStart(),T.point(m[0][0],m[0][1],3)))}i&&(!h||!(0,L.Z)(h,S))&&T.point(S[0],S[1]),h=S,d=i,s=E},lineEnd:function(){d&&T.lineEnd(),h=null},clean:function(){return w|(A&&d)<<1}}}function g(T,h,s){var d=(0,y.Og)(T),A=(0,y.Og)(h),w=[1,0,0],C=(0,y.T5)(d,A),b=(0,y.j9)(C,C),S=C[0],x=b-S*S;if(!x)return!s&&T;var i=r*b/x,E=-r*S/x,m=(0,y.T5)(w,C),k=(0,y.T)(w,i),I=(0,y.T)(C,E);(0,y.s0)(k,I);var U=m,z=(0,y.j9)(k,U),F=(0,y.j9)(U,U),B=z*z-F*((0,y.j9)(k,k)-1);if(!(B<0)){var O=(0,a._b)(B),N=(0,y.T)(U,(-z-O)/F);if((0,y.s0)(N,k),N=(0,y.Y1)(N),!s)return N;var Y=T[0],$=h[0],te=T[1],ie=h[1],ce;$<Y&&(ce=Y,Y=$,$=ce);var J=$-Y,Z=(0,a.Wn)(J-a.pi)<a.Ho,ae=Z||J<a.Ho;if(!Z&&ie<te&&(ce=te,te=ie,ie=ce),ae?Z?te+ie>0^N[1]<((0,a.Wn)(N[0]-Y)<a.Ho?te:ie):te<=N[1]&&N[1]<=ie:J>a.pi^(Y<=N[0]&&N[0]<=$)){var j=(0,y.T)(U,(-z+O)/F);return(0,y.s0)(j,k),[N,(0,y.Y1)(j)]}}}function f(T,h){var s=o?p:a.pi-p,d=0;return T<-s?d|=1:T>s&&(d|=2),h<-s?d|=4:h>s&&(d|=8),d}return(0,M.Z)(u,l,c,o?[0,-p]:[-a.pi,p-a.pi])}},97023:function(G,H,e){e.d(H,{Z:function(){return v}});var y=e(85272),P=e(46225),a=e(39695),L=e(23071),M=e(33064);function v(t,o,n,c){return function(u){var l=o(u),g=(0,y.Z)(),f=o(g),T=!1,h,s,d,A={point:w,lineStart:b,lineEnd:S,polygonStart:function(){A.point=x,A.lineStart=i,A.lineEnd=E,s=[],h=[]},polygonEnd:function(){A.point=w,A.lineStart=b,A.lineEnd=S,s=(0,M.TS)(s);var m=(0,L.Z)(h,c);s.length?(T||(u.polygonStart(),T=!0),(0,P.Z)(s,r,m,n,u)):m&&(T||(u.polygonStart(),T=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),T&&(u.polygonEnd(),T=!1),s=h=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function w(m,k){t(m,k)&&u.point(m,k)}function C(m,k){l.point(m,k)}function b(){A.point=C,l.lineStart()}function S(){A.point=w,l.lineEnd()}function x(m,k){d.push([m,k]),f.point(m,k)}function i(){f.lineStart(),d=[]}function E(){x(d[0][0],d[0][1]),f.lineEnd();var m=f.clean(),k=g.result(),I,U=k.length,z,F,B;if(d.pop(),h.push(d),d=null,!!U){if(m&1){if(F=k[0],(z=F.length-1)>0){for(T||(u.polygonStart(),T=!0),u.lineStart(),I=0;I<z;++I)u.point((B=F[I])[0],B[1]);u.lineEnd()}return}U>1&&m&2&&k.push(k.pop().concat(k.shift())),s.push(k.filter(p))}}return A}}function p(t){return t.length>1}function r(t,o){return((t=t.x)[0]<0?t[1]-a.ou-a.Ho:a.ou-t[1])-((o=o.x)[0]<0?o[1]-a.ou-a.Ho:a.ou-o[1])}},87605:function(G,H,e){e.d(H,{Z:function(){return r}});var y=e(39695),P=e(85272);function a(t,o,n,c,u,l){var g=t[0],f=t[1],T=o[0],h=o[1],s=0,d=1,A=T-g,w=h-f,C;if(C=n-g,!(!A&&C>0)){if(C/=A,A<0){if(C<s)return;C<d&&(d=C)}else if(A>0){if(C>d)return;C>s&&(s=C)}if(C=u-g,!(!A&&C<0)){if(C/=A,A<0){if(C>d)return;C>s&&(s=C)}else if(A>0){if(C<s)return;C<d&&(d=C)}if(C=c-f,!(!w&&C>0)){if(C/=w,w<0){if(C<s)return;C<d&&(d=C)}else if(w>0){if(C>d)return;C>s&&(s=C)}if(C=l-f,!(!w&&C<0)){if(C/=w,w<0){if(C>d)return;C>s&&(s=C)}else if(w>0){if(C<s)return;C<d&&(d=C)}return s>0&&(t[0]=g+s*A,t[1]=f+s*w),d<1&&(o[0]=g+d*A,o[1]=f+d*w),!0}}}}}var L=e(46225),M=e(33064),v=1e9,p=-v;function r(t,o,n,c){function u(h,s){return t<=h&&h<=n&&o<=s&&s<=c}function l(h,s,d,A){var w=0,C=0;if(h==null||(w=g(h,d))!==(C=g(s,d))||T(h,s)<0^d>0)do A.point(w===0||w===3?t:n,w>1?c:o);while((w=(w+d+4)%4)!==C);else A.point(s[0],s[1])}function g(h,s){return(0,y.Wn)(h[0]-t)<y.Ho?s>0?0:3:(0,y.Wn)(h[0]-n)<y.Ho?s>0?2:1:(0,y.Wn)(h[1]-o)<y.Ho?s>0?1:0:s>0?3:2}function f(h,s){return T(h.x,s.x)}function T(h,s){var d=g(h,1),A=g(s,1);return d!==A?d-A:d===0?s[1]-h[1]:d===1?h[0]-s[0]:d===2?h[1]-s[1]:s[0]-h[0]}return function(h){var s=h,d=(0,P.Z)(),A,w,C,b,S,x,i,E,m,k,I,U={point:z,lineStart:N,lineEnd:Y,polygonStart:B,polygonEnd:O};function z(te,ie){u(te,ie)&&s.point(te,ie)}function F(){for(var te=0,ie=0,ce=w.length;ie<ce;++ie)for(var J=w[ie],Z=1,ae=J.length,j=J[0],q,oe,Q=j[0],K=j[1];Z<ae;++Z)q=Q,oe=K,j=J[Z],Q=j[0],K=j[1],oe<=c?K>c&&(Q-q)*(c-oe)>(K-oe)*(t-q)&&++te:K<=c&&(Q-q)*(c-oe)<(K-oe)*(t-q)&&--te;return te}function B(){s=d,A=[],w=[],I=!0}function O(){var te=F(),ie=I&&te,ce=(A=(0,M.TS)(A)).length;(ie||ce)&&(h.polygonStart(),ie&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),ce&&(0,L.Z)(A,f,te,l,h),h.polygonEnd()),s=h,A=w=C=null}function N(){U.point=$,w&&w.push(C=[]),k=!0,m=!1,i=E=NaN}function Y(){A&&($(b,S),x&&m&&d.rejoin(),A.push(d.result())),U.point=z,m&&s.lineEnd()}function $(te,ie){var ce=u(te,ie);if(w&&C.push([te,ie]),k)b=te,S=ie,x=ce,k=!1,ce&&(s.lineStart(),s.point(te,ie));else if(ce&&m)s.point(te,ie);else{var J=[i=Math.max(p,Math.min(v,i)),E=Math.max(p,Math.min(v,E))],Z=[te=Math.max(p,Math.min(v,te)),ie=Math.max(p,Math.min(v,ie))];a(J,Z,t,o,n,c)?(m||(s.lineStart(),s.point(J[0],J[1])),s.point(Z[0],Z[1]),ce||s.lineEnd(),I=!1):ce&&(s.lineStart(),s.point(te,ie),I=!1)}i=te,E=ie,m=ce}return U}}},46225:function(G,H,e){e.d(H,{Z:function(){return L}});var y=e(67108),P=e(39695);function a(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(v,p,r,t,o){var n=[],c=[],u,l;if(v.forEach(function(d){if(!((A=d.length-1)<=0)){var A,w=d[0],C=d[A],b;if((0,y.Z)(w,C)){if(!w[2]&&!C[2]){for(o.lineStart(),u=0;u<A;++u)o.point((w=d[u])[0],w[1]);o.lineEnd();return}C[0]+=2*P.Ho}n.push(b=new a(w,d,null,!0)),c.push(b.o=new a(w,null,b,!1)),n.push(b=new a(C,d,null,!1)),c.push(b.o=new a(C,null,b,!0))}}),!!n.length){for(c.sort(p),M(n),M(c),u=0,l=c.length;u<l;++u)c[u].e=r=!r;for(var g=n[0],f,T;;){for(var h=g,s=!0;h.v;)if((h=h.n)===g)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(s)for(u=0,l=f.length;u<l;++u)o.point((T=f[u])[0],T[1]);else t(h.x,h.n.x,1,o);h=h.n}else{if(s)for(f=h.p.z,u=f.length-1;u>=0;--u)o.point((T=f[u])[0],T[1]);else t(h.x,h.p.x,-1,o);h=h.p}h=h.o,f=h.z,s=!s}while(!h.v);o.lineEnd()}}}function M(v){if(p=v.length){for(var p,r=0,t=v[0],o;++r<p;)t.n=o=v[r],o.p=t,t=o;t.n=o=v[0],o.p=t}}},96059:function(G,H,e){e.d(H,{Z:function(){return y}});function y(P,a){function L(M,v){return M=P(M,v),a(M[0],M[1])}return P.invert&&a.invert&&(L.invert=function(M,v){return M=a.invert(M,v),M&&P.invert(M[0],M[1])}),L}},8593:function(G,H,e){e.d(H,{Z:function(){return y}});function y(P){return P}},27362:function(G,H,e){e.r(H),e.d(H,{geoAlbers:function(){return gr},geoAlbersUsa:function(){return it},geoArea:function(){return y.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return Mt.Z},geoAzimuthalEquidistantRaw:function(){return Mt.N},geoBounds:function(){return P.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return L.Z},geoClipAntimeridian:function(){return M.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.Z},geoConicConformal:function(){return fr},geoConicConformalRaw:function(){return lr},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return Xt},geoConicEquidistant:function(){return We},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return B},geoDistance:function(){return x},geoEqualEarth:function(){return vr},geoEqualEarthRaw:function(){return Ot},geoEquirectangular:function(){return hr.Z},geoEquirectangularRaw:function(){return hr.k},geoGnomonic:function(){return yr.Z},geoGnomonicRaw:function(){return yr.M},geoGraticule:function(){return $},geoGraticule10:function(){return te},geoIdentity:function(){return cr},geoInterpolate:function(){return ie.Z},geoLength:function(){return C},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Lt},geoNaturalEarth1:function(){return Ur.Z},geoNaturalEarth1Raw:function(){return Ur.K},geoOrthographic:function(){return kr.Z},geoOrthographicRaw:function(){return kr.I},geoPath:function(){return zt},geoProjection:function(){return $t.Z},geoProjectionMutator:function(){return $t.r},geoRotation:function(){return Dt.Z},geoStereographic:function(){return tn},geoStereographicRaw:function(){return hn},geoStream:function(){return u.Z},geoTransform:function(){return pr.Z},geoTransverseMercator:function(){return mn},geoTransverseMercatorRaw:function(){return Fn}});var y=e(97860),P=e(77338),a=e(66624),L=e(7613),M=e(87070),v=e(1457),p=e(87605);function r(){var Mr=0,Er=0,Wr=960,Hr=500,an,vn,pn;return pn={stream:function(En){return an&&vn===En?an:an=(0,p.Z)(Mr,Er,Wr,Hr)(vn=En)},extent:function(En){return arguments.length?(Mr=+En[0][0],Er=+En[0][1],Wr=+En[1][0],Hr=+En[1][1],an=vn=null,pn):[[Mr,Er],[Wr,Hr]]}}}var t=e(23071),o=e(33940),n=e(39695),c=e(73182),u=e(72736),l=(0,o.Z)(),g,f,T,h={sphere:c.Z,point:c.Z,lineStart:s,lineEnd:c.Z,polygonStart:c.Z,polygonEnd:c.Z};function s(){h.point=A,h.lineEnd=d}function d(){h.point=h.lineEnd=c.Z}function A(Mr,Er){Mr*=n.uR,Er*=n.uR,g=Mr,f=(0,n.O$)(Er),T=(0,n.mC)(Er),h.point=w}function w(Mr,Er){Mr*=n.uR,Er*=n.uR;var Wr=(0,n.O$)(Er),Hr=(0,n.mC)(Er),an=(0,n.Wn)(Mr-g),vn=(0,n.mC)(an),pn=(0,n.O$)(an),En=Hr*pn,_n=T*Wr-f*Hr*vn,oa=f*Wr+T*Hr*vn;l.add((0,n.fv)((0,n._b)(En*En+_n*_n),oa)),g=Mr,f=Wr,T=Hr}function C(Mr){return l.reset(),(0,u.Z)(Mr,h),+l}var b=[null,null],S={type:"LineString",coordinates:b};function x(Mr,Er){return b[0]=Mr,b[1]=Er,C(S)}var i={Feature:function(Mr,Er){return m(Mr.geometry,Er)},FeatureCollection:function(Mr,Er){for(var Wr=Mr.features,Hr=-1,an=Wr.length;++Hr<an;)if(m(Wr[Hr].geometry,Er))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Mr,Er){return k(Mr.coordinates,Er)},MultiPoint:function(Mr,Er){for(var Wr=Mr.coordinates,Hr=-1,an=Wr.length;++Hr<an;)if(k(Wr[Hr],Er))return!0;return!1},LineString:function(Mr,Er){return I(Mr.coordinates,Er)},MultiLineString:function(Mr,Er){for(var Wr=Mr.coordinates,Hr=-1,an=Wr.length;++Hr<an;)if(I(Wr[Hr],Er))return!0;return!1},Polygon:function(Mr,Er){return U(Mr.coordinates,Er)},MultiPolygon:function(Mr,Er){for(var Wr=Mr.coordinates,Hr=-1,an=Wr.length;++Hr<an;)if(U(Wr[Hr],Er))return!0;return!1},GeometryCollection:function(Mr,Er){for(var Wr=Mr.geometries,Hr=-1,an=Wr.length;++Hr<an;)if(m(Wr[Hr],Er))return!0;return!1}};function m(Mr,Er){return Mr&&E.hasOwnProperty(Mr.type)?E[Mr.type](Mr,Er):!1}function k(Mr,Er){return x(Mr,Er)===0}function I(Mr,Er){for(var Wr,Hr,an,vn=0,pn=Mr.length;vn<pn;vn++){if(Hr=x(Mr[vn],Er),Hr===0||vn>0&&(an=x(Mr[vn],Mr[vn-1]),an>0&&Wr<=an&&Hr<=an&&(Wr+Hr-an)*(1-Math.pow((Wr-Hr)/an,2))<n.aW*an))return!0;Wr=Hr}return!1}function U(Mr,Er){return!!(0,t.Z)(Mr.map(z),F(Er))}function z(Mr){return Mr=Mr.map(F),Mr.pop(),Mr}function F(Mr){return[Mr[0]*n.uR,Mr[1]*n.uR]}function B(Mr,Er){return(Mr&&i.hasOwnProperty(Mr.type)?i[Mr.type]:m)(Mr,Er)}var O=e(33064);function N(Mr,Er,Wr){var Hr=(0,O.w6)(Mr,Er-n.Ho,Wr).concat(Er);return function(an){return Hr.map(function(vn){return[an,vn]})}}function Y(Mr,Er,Wr){var Hr=(0,O.w6)(Mr,Er-n.Ho,Wr).concat(Er);return function(an){return Hr.map(function(vn){return[vn,an]})}}function $(){var Mr,Er,Wr,Hr,an,vn,pn,En,_n=10,oa=_n,Kn=90,$n=360,Yn,Jn,Tr,on,rn=2.5;function dn(){return{type:"MultiLineString",coordinates:Gn()}}function Gn(){return(0,O.w6)((0,n.mD)(Hr/Kn)*Kn,Wr,Kn).map(Tr).concat((0,O.w6)((0,n.mD)(En/$n)*$n,pn,$n).map(on)).concat((0,O.w6)((0,n.mD)(Er/_n)*_n,Mr,_n).filter(function(Tn){return(0,n.Wn)(Tn%Kn)>n.Ho}).map(Yn)).concat((0,O.w6)((0,n.mD)(vn/oa)*oa,an,oa).filter(function(Tn){return(0,n.Wn)(Tn%$n)>n.Ho}).map(Jn))}return dn.lines=function(){return Gn().map(function(Tn){return{type:"LineString",coordinates:Tn}})},dn.outline=function(){return{type:"Polygon",coordinates:[Tr(Hr).concat(on(pn).slice(1),Tr(Wr).reverse().slice(1),on(En).reverse().slice(1))]}},dn.extent=function(Tn){return arguments.length?dn.extentMajor(Tn).extentMinor(Tn):dn.extentMinor()},dn.extentMajor=function(Tn){return arguments.length?(Hr=+Tn[0][0],Wr=+Tn[1][0],En=+Tn[0][1],pn=+Tn[1][1],Hr>Wr&&(Tn=Hr,Hr=Wr,Wr=Tn),En>pn&&(Tn=En,En=pn,pn=Tn),dn.precision(rn)):[[Hr,En],[Wr,pn]]},dn.extentMinor=function(Tn){return arguments.length?(Er=+Tn[0][0],Mr=+Tn[1][0],vn=+Tn[0][1],an=+Tn[1][1],Er>Mr&&(Tn=Er,Er=Mr,Mr=Tn),vn>an&&(Tn=vn,vn=an,an=Tn),dn.precision(rn)):[[Er,vn],[Mr,an]]},dn.step=function(Tn){return arguments.length?dn.stepMajor(Tn).stepMinor(Tn):dn.stepMinor()},dn.stepMajor=function(Tn){return arguments.length?(Kn=+Tn[0],$n=+Tn[1],dn):[Kn,$n]},dn.stepMinor=function(Tn){return arguments.length?(_n=+Tn[0],oa=+Tn[1],dn):[_n,oa]},dn.precision=function(Tn){return arguments.length?(rn=+Tn,Yn=N(vn,an,90),Jn=Y(Er,Mr,rn),Tr=N(En,pn,90),on=Y(Hr,Wr,rn),dn):rn},dn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function te(){return $()()}var ie=e(83074),ce=e(8593),J=(0,o.Z)(),Z=(0,o.Z)(),ae,j,q,oe,Q={point:c.Z,lineStart:c.Z,lineEnd:c.Z,polygonStart:function(){Q.lineStart=K,Q.lineEnd=fe},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=c.Z,J.add((0,n.Wn)(Z)),Z.reset()},result:function(){var Mr=J/2;return J.reset(),Mr}};function K(){Q.point=se}function se(Mr,Er){Q.point=ne,ae=q=Mr,j=oe=Er}function ne(Mr,Er){Z.add(oe*Mr-q*Er),q=Mr,oe=Er}function fe(){ne(ae,j)}var ye=Q,Ee=e(3559),Te=0,ze=0,ke=0,Se=0,me=0,Ce=0,Ne=0,He=0,De=0,Ve,at,lt,$e,et={point:ct,lineStart:dt,lineEnd:Rt,polygonStart:function(){et.lineStart=Vt,et.lineEnd=Je},polygonEnd:function(){et.point=ct,et.lineStart=dt,et.lineEnd=Rt},result:function(){var Mr=De?[Ne/De,He/De]:Ce?[Se/Ce,me/Ce]:ke?[Te/ke,ze/ke]:[NaN,NaN];return Te=ze=ke=Se=me=Ce=Ne=He=De=0,Mr}};function ct(Mr,Er){Te+=Mr,ze+=Er,++ke}function dt(){et.point=gt}function gt(Mr,Er){et.point=At,ct(lt=Mr,$e=Er)}function At(Mr,Er){var Wr=Mr-lt,Hr=Er-$e,an=(0,n._b)(Wr*Wr+Hr*Hr);Se+=an*(lt+Mr)/2,me+=an*($e+Er)/2,Ce+=an,ct(lt=Mr,$e=Er)}function Rt(){et.point=ct}function Vt(){et.point=Ge}function Je(){Ie(Ve,at)}function Ge(Mr,Er){et.point=Ie,ct(Ve=lt=Mr,at=$e=Er)}function Ie(Mr,Er){var Wr=Mr-lt,Hr=Er-$e,an=(0,n._b)(Wr*Wr+Hr*Hr);Se+=an*(lt+Mr)/2,me+=an*($e+Er)/2,Ce+=an,an=$e*Mr-lt*Er,Ne+=an*(lt+Mr),He+=an*($e+Er),De+=an*3,ct(lt=Mr,$e=Er)}var Fe=et;function Pe(Mr){this._context=Mr}Pe.prototype={_radius:4.5,pointRadius:function(Mr){return this._radius=Mr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Mr,Er){switch(this._point){case 0:{this._context.moveTo(Mr,Er),this._point=1;break}case 1:{this._context.lineTo(Mr,Er);break}default:{this._context.moveTo(Mr+this._radius,Er),this._context.arc(Mr,Er,this._radius,0,n.BZ);break}}},result:c.Z};var xe=(0,o.Z)(),ge,Me,Ae,Ue,Ze,tt={point:c.Z,lineStart:function(){tt.point=ft},lineEnd:function(){ge&&pt(Me,Ae),tt.point=c.Z},polygonStart:function(){ge=!0},polygonEnd:function(){ge=null},result:function(){var Mr=+xe;return xe.reset(),Mr}};function ft(Mr,Er){tt.point=pt,Me=Ue=Mr,Ae=Ze=Er}function pt(Mr,Er){Ue-=Mr,Ze-=Er,xe.add((0,n._b)(Ue*Ue+Ze*Ze)),Ue=Mr,Ze=Er}var Yt=tt;function Jt(){this._string=[]}Jt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(Mr){return(Mr=+Mr)!==this._radius&&(this._radius=Mr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Mr,Er){switch(this._point){case 0:{this._string.push("M",Mr,",",Er),this._point=1;break}case 1:{this._string.push("L",Mr,",",Er);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",Mr,",",Er,this._circle);break}}},result:function(){if(this._string.length){var Mr=this._string.join("");return this._string=[],Mr}else return null}};function Tt(Mr){return"m0,"+Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+-2*Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+2*Mr+"z"}function zt(Mr,Er){var Wr=4.5,Hr,an;function vn(pn){return pn&&(typeof Wr=="function"&&an.pointRadius(+Wr.apply(this,arguments)),(0,u.Z)(pn,Hr(an))),an.result()}return vn.area=function(pn){return(0,u.Z)(pn,Hr(ye)),ye.result()},vn.measure=function(pn){return(0,u.Z)(pn,Hr(Yt)),Yt.result()},vn.bounds=function(pn){return(0,u.Z)(pn,Hr(Ee.Z)),Ee.Z.result()},vn.centroid=function(pn){return(0,u.Z)(pn,Hr(Fe)),Fe.result()},vn.projection=function(pn){return arguments.length?(Hr=pn==null?(Mr=null,ce.Z):(Mr=pn).stream,vn):Mr},vn.context=function(pn){return arguments.length?(an=pn==null?(Er=null,new Jt):new Pe(Er=pn),typeof Wr!="function"&&an.pointRadius(Wr),vn):Er},vn.pointRadius=function(pn){return arguments.length?(Wr=typeof pn=="function"?pn:(an.pointRadius(+pn),+pn),vn):Wr},vn.projection(Mr).context(Er)}var $t=e(15002);function wr(Mr){var Er=0,Wr=n.pi/3,Hr=(0,$t.r)(Mr),an=Hr(Er,Wr);return an.parallels=function(vn){return arguments.length?Hr(Er=vn[0]*n.uR,Wr=vn[1]*n.uR):[Er*n.RW,Wr*n.RW]},an}function yt(Mr){var Er=(0,n.mC)(Mr);function Wr(Hr,an){return[Hr*Er,(0,n.O$)(an)/Er]}return Wr.invert=function(Hr,an){return[Hr/Er,(0,n.ZR)(an*Er)]},Wr}function Xt(Mr,Er){var Wr=(0,n.O$)(Mr),Hr=(Wr+(0,n.O$)(Er))/2;if((0,n.Wn)(Hr)<n.Ho)return yt(Mr);var an=1+Wr*(2*Hr-Wr),vn=(0,n._b)(an)/Hr;function pn(En,_n){var oa=(0,n._b)(an-2*Hr*(0,n.O$)(_n))/Hr;return[oa*(0,n.O$)(En*=Hr),vn-oa*(0,n.mC)(En)]}return pn.invert=function(En,_n){var oa=vn-_n,Kn=(0,n.fv)(En,(0,n.Wn)(oa))*(0,n.Xx)(oa);return oa*Hr<0&&(Kn-=n.pi*(0,n.Xx)(En)*(0,n.Xx)(oa)),[Kn/Hr,(0,n.ZR)((an-(En*En+oa*oa)*Hr*Hr)/(2*Hr))]},pn}function Qt(){return wr(Xt).scale(155.424).center([0,33.6442])}function gr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var sr=e(47589);function vt(Mr){var Er=Mr.length;return{point:function(Wr,Hr){for(var an=-1;++an<Er;)Mr[an].point(Wr,Hr)},sphere:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].sphere()},lineStart:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].lineStart()},lineEnd:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].lineEnd()},polygonStart:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].polygonStart()},polygonEnd:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].polygonEnd()}}}function it(){var Mr,Er,Wr=gr(),Hr,an=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),vn,pn=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),En,_n,oa={point:function(Yn,Jn){_n=[Yn,Jn]}};function Kn(Yn){var Jn=Yn[0],Tr=Yn[1];return _n=null,Hr.point(Jn,Tr),_n||(vn.point(Jn,Tr),_n)||(En.point(Jn,Tr),_n)}Kn.invert=function(Yn){var Jn=Wr.scale(),Tr=Wr.translate(),on=(Yn[0]-Tr[0])/Jn,rn=(Yn[1]-Tr[1])/Jn;return(rn>=.12&&rn<.234&&on>=-.425&&on<-.214?an:rn>=.166&&rn<.234&&on>=-.214&&on<-.115?pn:Wr).invert(Yn)},Kn.stream=function(Yn){return Mr&&Er===Yn?Mr:Mr=vt([Wr.stream(Er=Yn),an.stream(Yn),pn.stream(Yn)])},Kn.precision=function(Yn){return arguments.length?(Wr.precision(Yn),an.precision(Yn),pn.precision(Yn),$n()):Wr.precision()},Kn.scale=function(Yn){return arguments.length?(Wr.scale(Yn),an.scale(Yn*.35),pn.scale(Yn),Kn.translate(Wr.translate())):Wr.scale()},Kn.translate=function(Yn){if(!arguments.length)return Wr.translate();var Jn=Wr.scale(),Tr=+Yn[0],on=+Yn[1];return Hr=Wr.translate(Yn).clipExtent([[Tr-.455*Jn,on-.238*Jn],[Tr+.455*Jn,on+.238*Jn]]).stream(oa),vn=an.translate([Tr-.307*Jn,on+.201*Jn]).clipExtent([[Tr-.425*Jn+n.Ho,on+.12*Jn+n.Ho],[Tr-.214*Jn-n.Ho,on+.234*Jn-n.Ho]]).stream(oa),En=pn.translate([Tr-.205*Jn,on+.212*Jn]).clipExtent([[Tr-.214*Jn+n.Ho,on+.166*Jn+n.Ho],[Tr-.115*Jn-n.Ho,on+.234*Jn-n.Ho]]).stream(oa),$n()},Kn.fitExtent=function(Yn,Jn){return(0,sr.qg)(Kn,Yn,Jn)},Kn.fitSize=function(Yn,Jn){return(0,sr.mF)(Kn,Yn,Jn)},Kn.fitWidth=function(Yn,Jn){return(0,sr.V6)(Kn,Yn,Jn)},Kn.fitHeight=function(Yn,Jn){return(0,sr.rf)(Kn,Yn,Jn)};function $n(){return Mr=Er=null,Kn}return Kn.scale(1070)}var xt=e(12956),Mt=e(17889),Dt=e(49386);function Lt(Mr,Er){return[Mr,(0,n.cM)((0,n.OR)((n.ou+Er)/2))]}Lt.invert=function(Mr,Er){return[Mr,2*(0,n.z4)((0,n.Qq)(Er))-n.ou]};function Bt(){return Nt(Lt).scale(961/n.BZ)}function Nt(Mr){var Er=(0,$t.Z)(Mr),Wr=Er.center,Hr=Er.scale,an=Er.translate,vn=Er.clipExtent,pn=null,En,_n,oa;Er.scale=function($n){return arguments.length?(Hr($n),Kn()):Hr()},Er.translate=function($n){return arguments.length?(an($n),Kn()):an()},Er.center=function($n){return arguments.length?(Wr($n),Kn()):Wr()},Er.clipExtent=function($n){return arguments.length?($n==null?pn=En=_n=oa=null:(pn=+$n[0][0],En=+$n[0][1],_n=+$n[1][0],oa=+$n[1][1]),Kn()):pn==null?null:[[pn,En],[_n,oa]]};function Kn(){var $n=n.pi*Hr(),Yn=Er((0,Dt.Z)(Er.rotate()).invert([0,0]));return vn(pn==null?[[Yn[0]-$n,Yn[1]-$n],[Yn[0]+$n,Yn[1]+$n]]:Mr===Lt?[[Math.max(Yn[0]-$n,pn),En],[Math.min(Yn[0]+$n,_n),oa]]:[[pn,Math.max(Yn[1]-$n,En)],[_n,Math.min(Yn[1]+$n,oa)]])}return Kn()}function jt(Mr){return(0,n.OR)((n.ou+Mr)/2)}function lr(Mr,Er){var Wr=(0,n.mC)(Mr),Hr=Mr===Er?(0,n.O$)(Mr):(0,n.cM)(Wr/(0,n.mC)(Er))/(0,n.cM)(jt(Er)/jt(Mr)),an=Wr*(0,n.sQ)(jt(Mr),Hr)/Hr;if(!Hr)return Lt;function vn(pn,En){an>0?En<-n.ou+n.Ho&&(En=-n.ou+n.Ho):En>n.ou-n.Ho&&(En=n.ou-n.Ho);var _n=an/(0,n.sQ)(jt(En),Hr);return[_n*(0,n.O$)(Hr*pn),an-_n*(0,n.mC)(Hr*pn)]}return vn.invert=function(pn,En){var _n=an-En,oa=(0,n.Xx)(Hr)*(0,n._b)(pn*pn+_n*_n),Kn=(0,n.fv)(pn,(0,n.Wn)(_n))*(0,n.Xx)(_n);return _n*Hr<0&&(Kn-=n.pi*(0,n.Xx)(pn)*(0,n.Xx)(_n)),[Kn/Hr,2*(0,n.z4)((0,n.sQ)(an/oa,1/Hr))-n.ou]},vn}function fr(){return wr(lr).scale(109.5).parallels([30,30])}var hr=e(97492);function Ye(Mr,Er){var Wr=(0,n.mC)(Mr),Hr=Mr===Er?(0,n.O$)(Mr):(Wr-(0,n.mC)(Er))/(Er-Mr),an=Wr/Hr+Mr;if((0,n.Wn)(Hr)<n.Ho)return hr.k;function vn(pn,En){var _n=an-En,oa=Hr*pn;return[_n*(0,n.O$)(oa),an-_n*(0,n.mC)(oa)]}return vn.invert=function(pn,En){var _n=an-En,oa=(0,n.fv)(pn,(0,n.Wn)(_n))*(0,n.Xx)(_n);return _n*Hr<0&&(oa-=n.pi*(0,n.Xx)(pn)*(0,n.Xx)(_n)),[oa/Hr,an-(0,n.Xx)(Hr)*(0,n._b)(pn*pn+_n*_n)]},vn}function We(){return wr(Ye).scale(131.154).center([0,13.9389])}var kt=1.340264,It=-.081106,Zt=893e-6,rr=.003796,ur=(0,n._b)(3)/2,er=12;function Ot(Mr,Er){var Wr=(0,n.ZR)(ur*(0,n.O$)(Er)),Hr=Wr*Wr,an=Hr*Hr*Hr;return[Mr*(0,n.mC)(Wr)/(ur*(kt+3*It*Hr+an*(7*Zt+9*rr*Hr))),Wr*(kt+It*Hr+an*(Zt+rr*Hr))]}Ot.invert=function(Mr,Er){for(var Wr=Er,Hr=Wr*Wr,an=Hr*Hr*Hr,vn=0,pn,En,_n;vn<er&&(En=Wr*(kt+It*Hr+an*(Zt+rr*Hr))-Er,_n=kt+3*It*Hr+an*(7*Zt+9*rr*Hr),Wr-=pn=En/_n,Hr=Wr*Wr,an=Hr*Hr*Hr,!((0,n.Wn)(pn)<n.aW));++vn);return[ur*Mr*(kt+3*It*Hr+an*(7*Zt+9*rr*Hr))/(0,n.mC)(Wr),(0,n.ZR)((0,n.O$)(Wr)/ur)]};function vr(){return(0,$t.Z)(Ot).scale(177.158)}var yr=e(98936),pr=e(64684);function cr(){var Mr=1,Er=0,Wr=0,Hr=1,an=1,vn=0,pn,En,_n=null,oa,Kn,$n,Yn=1,Jn=1,Tr=(0,pr.l)({point:function(Mn,Un){var qn=Tn([Mn,Un]);this.stream.point(qn[0],qn[1])}}),on=ce.Z,rn,dn;function Gn(){return Yn=Mr*Hr,Jn=Mr*an,rn=dn=null,Tn}function Tn(Mn){var Un=Mn[0]*Yn,qn=Mn[1]*Jn;if(vn){var ba=qn*pn-Un*En;Un=Un*pn+qn*En,qn=ba}return[Un+Er,qn+Wr]}return Tn.invert=function(Mn){var Un=Mn[0]-Er,qn=Mn[1]-Wr;if(vn){var ba=qn*pn+Un*En;Un=Un*pn-qn*En,qn=ba}return[Un/Yn,qn/Jn]},Tn.stream=function(Mn){return rn&&dn===Mn?rn:rn=Tr(on(dn=Mn))},Tn.postclip=function(Mn){return arguments.length?(on=Mn,_n=oa=Kn=$n=null,Gn()):on},Tn.clipExtent=function(Mn){return arguments.length?(on=Mn==null?(_n=oa=Kn=$n=null,ce.Z):(0,p.Z)(_n=+Mn[0][0],oa=+Mn[0][1],Kn=+Mn[1][0],$n=+Mn[1][1]),Gn()):_n==null?null:[[_n,oa],[Kn,$n]]},Tn.scale=function(Mn){return arguments.length?(Mr=+Mn,Gn()):Mr},Tn.translate=function(Mn){return arguments.length?(Er=+Mn[0],Wr=+Mn[1],Gn()):[Er,Wr]},Tn.angle=function(Mn){return arguments.length?(vn=Mn%360*n.uR,En=(0,n.O$)(vn),pn=(0,n.mC)(vn),Gn()):vn*n.RW},Tn.reflectX=function(Mn){return arguments.length?(Hr=Mn?-1:1,Gn()):Hr<0},Tn.reflectY=function(Mn){return arguments.length?(an=Mn?-1:1,Gn()):an<0},Tn.fitExtent=function(Mn,Un){return(0,sr.qg)(Tn,Mn,Un)},Tn.fitSize=function(Mn,Un){return(0,sr.mF)(Tn,Mn,Un)},Tn.fitWidth=function(Mn,Un){return(0,sr.V6)(Tn,Mn,Un)},Tn.fitHeight=function(Mn,Un){return(0,sr.rf)(Tn,Mn,Un)},Tn}var Ur=e(26867),kr=e(57962),Rr=e(25382);function hn(Mr,Er){var Wr=(0,n.mC)(Er),Hr=1+(0,n.mC)(Mr)*Wr;return[Wr*(0,n.O$)(Mr)/Hr,(0,n.O$)(Er)/Hr]}hn.invert=(0,Rr.O)(function(Mr){return 2*(0,n.z4)(Mr)});function tn(){return(0,$t.Z)(hn).scale(250).clipAngle(142)}function Fn(Mr,Er){return[(0,n.cM)((0,n.OR)((n.ou+Er)/2)),-Mr]}Fn.invert=function(Mr,Er){return[-Er,2*(0,n.z4)((0,n.Qq)(Mr))-n.ou]};function mn(){var Mr=Nt(Fn),Er=Mr.center,Wr=Mr.rotate;return Mr.center=function(Hr){return arguments.length?Er([-Hr[1],Hr[0]]):(Hr=Er(),[Hr[1],-Hr[0]])},Mr.rotate=function(Hr){return arguments.length?Wr([Hr[0],Hr[1],Hr.length>2?Hr[2]+90:90]):(Hr=Wr(),[Hr[0],Hr[1],Hr[2]-90])},Wr([0,0,90]).scale(159.155)}},83074:function(G,H,e){e.d(H,{Z:function(){return P}});var y=e(39695);function P(a,L){var M=a[0]*y.uR,v=a[1]*y.uR,p=L[0]*y.uR,r=L[1]*y.uR,t=(0,y.mC)(v),o=(0,y.O$)(v),n=(0,y.mC)(r),c=(0,y.O$)(r),u=t*(0,y.mC)(M),l=t*(0,y.O$)(M),g=n*(0,y.mC)(p),f=n*(0,y.O$)(p),T=2*(0,y.ZR)((0,y._b)((0,y.Jy)(r-v)+t*n*(0,y.Jy)(p-M))),h=(0,y.O$)(T),s=T?function(d){var A=(0,y.O$)(d*=T)/h,w=(0,y.O$)(T-d)/h,C=w*u+A*g,b=w*l+A*f,S=w*o+A*c;return[(0,y.fv)(b,C)*y.RW,(0,y.fv)(S,(0,y._b)(C*C+b*b))*y.RW]}:function(){return[M*y.RW,v*y.RW]};return s.distance=T,s}},39695:function(G,H,e){e.d(H,{BZ:function(){return v},Ho:function(){return y},Jy:function(){return C},Kh:function(){return A},O$:function(){return T},OR:function(){return d},Qq:function(){return l},RW:function(){return p},Wn:function(){return t},Xx:function(){return h},ZR:function(){return w},_b:function(){return s},aW:function(){return P},cM:function(){return g},fv:function(){return n},mC:function(){return c},mD:function(){return u},ou:function(){return L},pi:function(){return a},pu:function(){return M},sQ:function(){return f},uR:function(){return r},z4:function(){return o}});var y=1e-6,P=1e-12,a=Math.PI,L=a/2,M=a/4,v=a*2,p=180/a,r=a/180,t=Math.abs,o=Math.atan,n=Math.atan2,c=Math.cos,u=Math.ceil,l=Math.exp,g=Math.log,f=Math.pow,T=Math.sin,h=Math.sign||function(b){return b>0?1:b<0?-1:0},s=Math.sqrt,d=Math.tan;function A(b){return b>1?0:b<-1?a:Math.acos(b)}function w(b){return b>1?L:b<-1?-L:Math.asin(b)}function C(b){return(b=T(b/2))*b}},73182:function(G,H,e){e.d(H,{Z:function(){return y}});function y(){}},3559:function(G,H,e){var y=e(73182),P=1/0,a=P,L=-P,M=L,v={point:p,lineStart:y.Z,lineEnd:y.Z,polygonStart:y.Z,polygonEnd:y.Z,result:function(){var r=[[P,a],[L,M]];return L=M=-(a=P=1/0),r}};function p(r,t){r<P&&(P=r),r>L&&(L=r),t<a&&(a=t),t>M&&(M=t)}H.Z=v},67108:function(G,H,e){e.d(H,{Z:function(){return P}});var y=e(39695);function P(a,L){return(0,y.Wn)(a[0]-L[0])<y.Ho&&(0,y.Wn)(a[1]-L[1])<y.Ho}},23071:function(G,H,e){e.d(H,{Z:function(){return v}});var y=e(33940),P=e(7620),a=e(39695),L=(0,y.Z)();function M(p){return(0,a.Wn)(p[0])<=a.pi?p[0]:(0,a.Xx)(p[0])*(((0,a.Wn)(p[0])+a.pi)%a.BZ-a.pi)}function v(p,r){var t=M(r),o=r[1],n=(0,a.O$)(o),c=[(0,a.O$)(t),-(0,a.mC)(t),0],u=0,l=0;L.reset(),n===1?o=a.ou+a.Ho:n===-1&&(o=-a.ou-a.Ho);for(var g=0,f=p.length;g<f;++g)if(h=(T=p[g]).length)for(var T,h,s=T[h-1],d=M(s),A=s[1]/2+a.pu,w=(0,a.O$)(A),C=(0,a.mC)(A),b=0;b<h;++b,d=x,w=E,C=m,s=S){var S=T[b],x=M(S),i=S[1]/2+a.pu,E=(0,a.O$)(i),m=(0,a.mC)(i),k=x-d,I=k>=0?1:-1,U=I*k,z=U>a.pi,F=w*E;if(L.add((0,a.fv)(F*I*(0,a.O$)(U),C*m+F*(0,a.mC)(U))),u+=z?k+I*a.BZ:k,z^d>=t^x>=t){var B=(0,P.T5)((0,P.Og)(s),(0,P.Og)(S));(0,P.iJ)(B);var O=(0,P.T5)(c,B);(0,P.iJ)(O);var N=(z^k>=0?-1:1)*(0,a.ZR)(O[2]);(o>N||o===N&&(B[0]||B[1]))&&(l+=z^k>=0?1:-1)}}return(u<-a.Ho||u<a.Ho&&L<-a.Ho)^l&1}},25382:function(G,H,e){e.d(H,{O:function(){return a},W:function(){return P}});var y=e(39695);function P(L){return function(M,v){var p=(0,y.mC)(M),r=(0,y.mC)(v),t=L(p*r);return[t*r*(0,y.O$)(M),t*(0,y.O$)(v)]}}function a(L){return function(M,v){var p=(0,y._b)(M*M+v*v),r=L(p),t=(0,y.O$)(r),o=(0,y.mC)(r);return[(0,y.fv)(M*t,p*o),(0,y.ZR)(p&&v*t/p)]}}},12956:function(G,H,e){e.d(H,{Z:function(){return M},l:function(){return L}});var y=e(39695),P=e(25382),a=e(15002),L=(0,P.W)(function(v){return(0,y._b)(2/(1+v))});L.invert=(0,P.O)(function(v){return 2*(0,y.ZR)(v/2)});function M(){return(0,a.Z)(L).scale(124.75).clipAngle(179.999)}},17889:function(G,H,e){e.d(H,{N:function(){return L},Z:function(){return M}});var y=e(39695),P=e(25382),a=e(15002),L=(0,P.W)(function(v){return(v=(0,y.Kh)(v))&&v/(0,y.O$)(v)});L.invert=(0,P.O)(function(v){return v});function M(){return(0,a.Z)(L).scale(79.4188).clipAngle(179.999)}},97492:function(G,H,e){e.d(H,{Z:function(){return a},k:function(){return P}});var y=e(15002);function P(L,M){return[L,M]}P.invert=P;function a(){return(0,y.Z)(P).scale(152.63)}},47589:function(G,H,e){e.d(H,{V6:function(){return v},mF:function(){return M},qg:function(){return L},rf:function(){return p}});var y=e(72736),P=e(3559);function a(r,t,o){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,y.Z)(o,r.stream(P.Z)),t(P.Z.result()),n!=null&&r.clipExtent(n),r}function L(r,t,o){return a(r,function(n){var c=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(c/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),g=+t[0][0]+(c-l*(n[1][0]+n[0][0]))/2,f=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([g,f])},o)}function M(r,t,o){return L(r,[[0,0],t],o)}function v(r,t,o){return a(r,function(n){var c=+t,u=c/(n[1][0]-n[0][0]),l=(c-u*(n[1][0]+n[0][0]))/2,g=-u*n[0][1];r.scale(150*u).translate([l,g])},o)}function p(r,t,o){return a(r,function(n){var c=+t,u=c/(n[1][1]-n[0][1]),l=-u*n[0][0],g=(c-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,g])},o)}},98936:function(G,H,e){e.d(H,{M:function(){return L},Z:function(){return M}});var y=e(39695),P=e(25382),a=e(15002);function L(v,p){var r=(0,y.mC)(p),t=(0,y.mC)(v)*r;return[r*(0,y.O$)(v)/t,(0,y.O$)(p)/t]}L.invert=(0,P.O)(y.z4);function M(){return(0,a.Z)(L).scale(144.049).clipAngle(60)}},15002:function(G,H,e){e.d(H,{Z:function(){return d},r:function(){return A}});var y=e(87070),P=e(1457),a=e(87605),L=e(96059),M=e(8593),v=e(39695),p=e(49386),r=e(64684),t=e(47589),o=e(7620),n=16,c=(0,v.mC)(30*v.uR);function u(w,C){return+C?g(w,C):l(w)}function l(w){return(0,r.l)({point:function(C,b){C=w(C,b),this.stream.point(C[0],C[1])}})}function g(w,C){function b(S,x,i,E,m,k,I,U,z,F,B,O,N,Y){var $=I-S,te=U-x,ie=$*$+te*te;if(ie>4*C&&N--){var ce=E+F,J=m+B,Z=k+O,ae=(0,v._b)(ce*ce+J*J+Z*Z),j=(0,v.ZR)(Z/=ae),q=(0,v.Wn)((0,v.Wn)(Z)-1)<v.Ho||(0,v.Wn)(i-z)<v.Ho?(i+z)/2:(0,v.fv)(J,ce),oe=w(q,j),Q=oe[0],K=oe[1],se=Q-S,ne=K-x,fe=te*se-$*ne;(fe*fe/ie>C||(0,v.Wn)(($*se+te*ne)/ie-.5)>.3||E*F+m*B+k*O<c)&&(b(S,x,i,E,m,k,Q,K,q,ce/=ae,J/=ae,Z,N,Y),Y.point(Q,K),b(Q,K,q,ce,J,Z,I,U,z,F,B,O,N,Y))}}return function(S){var x,i,E,m,k,I,U,z,F,B,O,N,Y={point:$,lineStart:te,lineEnd:ce,polygonStart:function(){S.polygonStart(),Y.lineStart=J},polygonEnd:function(){S.polygonEnd(),Y.lineStart=te}};function $(j,q){j=w(j,q),S.point(j[0],j[1])}function te(){z=NaN,Y.point=ie,S.lineStart()}function ie(j,q){var oe=(0,o.Og)([j,q]),Q=w(j,q);b(z,F,U,B,O,N,z=Q[0],F=Q[1],U=j,B=oe[0],O=oe[1],N=oe[2],n,S),S.point(z,F)}function ce(){Y.point=$,S.lineEnd()}function J(){te(),Y.point=Z,Y.lineEnd=ae}function Z(j,q){ie(x=j,q),i=z,E=F,m=B,k=O,I=N,Y.point=ie}function ae(){b(z,F,U,B,O,N,i,E,x,m,k,I,n,S),Y.lineEnd=ce,ce()}return Y}}var f=(0,r.l)({point:function(w,C){this.stream.point(w*v.uR,C*v.uR)}});function T(w){return(0,r.l)({point:function(C,b){var S=w(C,b);return this.stream.point(S[0],S[1])}})}function h(w,C,b,S,x){function i(E,m){return E*=S,m*=x,[C+w*E,b-w*m]}return i.invert=function(E,m){return[(E-C)/w*S,(b-m)/w*x]},i}function s(w,C,b,S,x,i){var E=(0,v.mC)(i),m=(0,v.O$)(i),k=E*w,I=m*w,U=E/w,z=m/w,F=(m*b-E*C)/w,B=(m*C+E*b)/w;function O(N,Y){return N*=S,Y*=x,[k*N-I*Y+C,b-I*N-k*Y]}return O.invert=function(N,Y){return[S*(U*N-z*Y+F),x*(B-z*N-U*Y)]},O}function d(w){return A(function(){return w})()}function A(w){var C,b=150,S=480,x=250,i=0,E=0,m=0,k=0,I=0,U,z=0,F=1,B=1,O=null,N=y.Z,Y=null,$,te,ie,ce=M.Z,J=.5,Z,ae,j,q,oe;function Q(fe){return j(fe[0]*v.uR,fe[1]*v.uR)}function K(fe){return fe=j.invert(fe[0],fe[1]),fe&&[fe[0]*v.RW,fe[1]*v.RW]}Q.stream=function(fe){return q&&oe===fe?q:q=f(T(U)(N(Z(ce(oe=fe)))))},Q.preclip=function(fe){return arguments.length?(N=fe,O=void 0,ne()):N},Q.postclip=function(fe){return arguments.length?(ce=fe,Y=$=te=ie=null,ne()):ce},Q.clipAngle=function(fe){return arguments.length?(N=+fe?(0,P.Z)(O=fe*v.uR):(O=null,y.Z),ne()):O*v.RW},Q.clipExtent=function(fe){return arguments.length?(ce=fe==null?(Y=$=te=ie=null,M.Z):(0,a.Z)(Y=+fe[0][0],$=+fe[0][1],te=+fe[1][0],ie=+fe[1][1]),ne()):Y==null?null:[[Y,$],[te,ie]]},Q.scale=function(fe){return arguments.length?(b=+fe,se()):b},Q.translate=function(fe){return arguments.length?(S=+fe[0],x=+fe[1],se()):[S,x]},Q.center=function(fe){return arguments.length?(i=fe[0]%360*v.uR,E=fe[1]%360*v.uR,se()):[i*v.RW,E*v.RW]},Q.rotate=function(fe){return arguments.length?(m=fe[0]%360*v.uR,k=fe[1]%360*v.uR,I=fe.length>2?fe[2]%360*v.uR:0,se()):[m*v.RW,k*v.RW,I*v.RW]},Q.angle=function(fe){return arguments.length?(z=fe%360*v.uR,se()):z*v.RW},Q.reflectX=function(fe){return arguments.length?(F=fe?-1:1,se()):F<0},Q.reflectY=function(fe){return arguments.length?(B=fe?-1:1,se()):B<0},Q.precision=function(fe){return arguments.length?(Z=u(ae,J=fe*fe),ne()):(0,v._b)(J)},Q.fitExtent=function(fe,ye){return(0,t.qg)(Q,fe,ye)},Q.fitSize=function(fe,ye){return(0,t.mF)(Q,fe,ye)},Q.fitWidth=function(fe,ye){return(0,t.V6)(Q,fe,ye)},Q.fitHeight=function(fe,ye){return(0,t.rf)(Q,fe,ye)};function se(){var fe=s(b,0,0,F,B,z).apply(null,C(i,E)),ye=(z?s:h)(b,S-fe[0],x-fe[1],F,B,z);return U=(0,p.I)(m,k,I),ae=(0,L.Z)(C,ye),j=(0,L.Z)(U,ae),Z=u(ae,J),ne()}function ne(){return q=oe=null,Q}return function(){return C=w.apply(this,arguments),Q.invert=C.invert&&K,se()}}},26867:function(G,H,e){e.d(H,{K:function(){return a},Z:function(){return L}});var y=e(15002),P=e(39695);function a(M,v){var p=v*v,r=p*p;return[M*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}a.invert=function(M,v){var p=v,r=25,t;do{var o=p*p,n=o*o;p-=t=(p*(1.007226+o*(.015085+n*(-.044475+.028874*o-.005916*n)))-v)/(1.007226+o*(.045255+n*(-.311325+.259866*o-.06507600000000001*n)))}while((0,P.Wn)(t)>P.Ho&&--r>0);return[M/(.8707+(o=p*p)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),p]};function L(){return(0,y.Z)(a).scale(175.295)}},57962:function(G,H,e){e.d(H,{I:function(){return L},Z:function(){return M}});var y=e(39695),P=e(25382),a=e(15002);function L(v,p){return[(0,y.mC)(p)*(0,y.O$)(v),(0,y.O$)(p)]}L.invert=(0,P.O)(y.ZR);function M(){return(0,a.Z)(L).scale(249.5).clipAngle(90+y.Ho)}},49386:function(G,H,e){e.d(H,{I:function(){return L},Z:function(){return r}});var y=e(96059),P=e(39695);function a(t,o){return[(0,P.Wn)(t)>P.pi?t+Math.round(-t/P.BZ)*P.BZ:t,o]}a.invert=a;function L(t,o,n){return(t%=P.BZ)?o||n?(0,y.Z)(v(t),p(o,n)):v(t):o||n?p(o,n):a}function M(t){return function(o,n){return o+=t,[o>P.pi?o-P.BZ:o<-P.pi?o+P.BZ:o,n]}}function v(t){var o=M(t);return o.invert=M(-t),o}function p(t,o){var n=(0,P.mC)(t),c=(0,P.O$)(t),u=(0,P.mC)(o),l=(0,P.O$)(o);function g(f,T){var h=(0,P.mC)(T),s=(0,P.mC)(f)*h,d=(0,P.O$)(f)*h,A=(0,P.O$)(T),w=A*n+s*c;return[(0,P.fv)(d*u-w*l,s*n-A*c),(0,P.ZR)(w*u+d*l)]}return g.invert=function(f,T){var h=(0,P.mC)(T),s=(0,P.mC)(f)*h,d=(0,P.O$)(f)*h,A=(0,P.O$)(T),w=A*u-d*l;return[(0,P.fv)(d*u+A*l,s*n+w*c),(0,P.ZR)(w*n-s*c)]},g}function r(t){t=L(t[0]*P.uR,t[1]*P.uR,t.length>2?t[2]*P.uR:0);function o(n){return n=t(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n}return o.invert=function(n){return n=t.invert(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n},o}},72736:function(G,H,e){e.d(H,{Z:function(){return v}});function y(p,r){p&&a.hasOwnProperty(p.type)&&a[p.type](p,r)}var P={Feature:function(p,r){y(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,o=-1,n=t.length;++o<n;)y(t[o].geometry,r)}},a={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)p=t[o],r.point(p[0],p[1],p[2])},LineString:function(p,r){L(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)L(t[o],r,0)},Polygon:function(p,r){M(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)M(t[o],r)},GeometryCollection:function(p,r){for(var t=p.geometries,o=-1,n=t.length;++o<n;)y(t[o],r)}};function L(p,r,t){var o=-1,n=p.length-t,c;for(r.lineStart();++o<n;)c=p[o],r.point(c[0],c[1],c[2]);r.lineEnd()}function M(p,r){var t=-1,o=p.length;for(r.polygonStart();++t<o;)L(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):y(p,r)}},64684:function(G,H,e){e.d(H,{Z:function(){return y},l:function(){return P}});function y(L){return{stream:P(L)}}function P(L){return function(M){var v=new a;for(var p in L)v[p]=L[p];return v.stream=M,v}}function a(){}a.prototype={constructor:a,point:function(L,M){this.stream.point(L,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(G,H,e){e.r(H),e.d(H,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return K},packEnclose:function(){return k},packSiblings:function(){return Z},partition:function(){return Te},stratify:function(){return Ne},tree:function(){return dt},treemap:function(){return Je},treemapBinary:function(){return Ge},treemapDice:function(){return Ee},treemapResquarify:function(){return Fe},treemapSlice:function(){return gt},treemapSliceDice:function(){return Ie},treemapSquarify:function(){return Vt}});function y(Pe,xe){return Pe.parent===xe.parent?1:2}function P(Pe){return Pe.reduce(a,0)/Pe.length}function a(Pe,xe){return Pe+xe.x}function L(Pe){return 1+Pe.reduce(M,0)}function M(Pe,xe){return Math.max(Pe,xe.y)}function v(Pe){for(var xe;xe=Pe.children;)Pe=xe[0];return Pe}function p(Pe){for(var xe;xe=Pe.children;)Pe=xe[xe.length-1];return Pe}function r(){var Pe=y,xe=1,ge=1,Me=!1;function Ae(Ue){var Ze,tt=0;Ue.eachAfter(function(Tt){var zt=Tt.children;zt?(Tt.x=P(zt),Tt.y=L(zt)):(Tt.x=Ze?tt+=Pe(Tt,Ze):0,Tt.y=0,Ze=Tt)});var ft=v(Ue),pt=p(Ue),Yt=ft.x-Pe(ft,pt)/2,Jt=pt.x+Pe(pt,ft)/2;return Ue.eachAfter(Me?function(Tt){Tt.x=(Tt.x-Ue.x)*xe,Tt.y=(Ue.y-Tt.y)*ge}:function(Tt){Tt.x=(Tt.x-Yt)/(Jt-Yt)*xe,Tt.y=(1-(Ue.y?Tt.y/Ue.y:1))*ge})}return Ae.separation=function(Ue){return arguments.length?(Pe=Ue,Ae):Pe},Ae.size=function(Ue){return arguments.length?(Me=!1,xe=+Ue[0],ge=+Ue[1],Ae):Me?null:[xe,ge]},Ae.nodeSize=function(Ue){return arguments.length?(Me=!0,xe=+Ue[0],ge=+Ue[1],Ae):Me?[xe,ge]:null},Ae}function t(Pe){var xe=0,ge=Pe.children,Me=ge&&ge.length;if(!Me)xe=1;else for(;--Me>=0;)xe+=ge[Me].value;Pe.value=xe}function o(){return this.eachAfter(t)}function n(Pe){var xe=this,ge,Me=[xe],Ae,Ue,Ze;do for(ge=Me.reverse(),Me=[];xe=ge.pop();)if(Pe(xe),Ae=xe.children,Ae)for(Ue=0,Ze=Ae.length;Ue<Ze;++Ue)Me.push(Ae[Ue]);while(Me.length);return this}function c(Pe){for(var xe=this,ge=[xe],Me,Ae;xe=ge.pop();)if(Pe(xe),Me=xe.children,Me)for(Ae=Me.length-1;Ae>=0;--Ae)ge.push(Me[Ae]);return this}function u(Pe){for(var xe=this,ge=[xe],Me=[],Ae,Ue,Ze;xe=ge.pop();)if(Me.push(xe),Ae=xe.children,Ae)for(Ue=0,Ze=Ae.length;Ue<Ze;++Ue)ge.push(Ae[Ue]);for(;xe=Me.pop();)Pe(xe);return this}function l(Pe){return this.eachAfter(function(xe){for(var ge=+Pe(xe.data)||0,Me=xe.children,Ae=Me&&Me.length;--Ae>=0;)ge+=Me[Ae].value;xe.value=ge})}function g(Pe){return this.eachBefore(function(xe){xe.children&&xe.children.sort(Pe)})}function f(Pe){for(var xe=this,ge=T(xe,Pe),Me=[xe];xe!==ge;)xe=xe.parent,Me.push(xe);for(var Ae=Me.length;Pe!==ge;)Me.splice(Ae,0,Pe),Pe=Pe.parent;return Me}function T(Pe,xe){if(Pe===xe)return Pe;var ge=Pe.ancestors(),Me=xe.ancestors(),Ae=null;for(Pe=ge.pop(),xe=Me.pop();Pe===xe;)Ae=Pe,Pe=ge.pop(),xe=Me.pop();return Ae}function h(){for(var Pe=this,xe=[Pe];Pe=Pe.parent;)xe.push(Pe);return xe}function s(){var Pe=[];return this.each(function(xe){Pe.push(xe)}),Pe}function d(){var Pe=[];return this.eachBefore(function(xe){xe.children||Pe.push(xe)}),Pe}function A(){var Pe=this,xe=[];return Pe.each(function(ge){ge!==Pe&&xe.push({source:ge.parent,target:ge})}),xe}function w(Pe,xe){var ge=new i(Pe),Me=+Pe.value&&(ge.value=Pe.value),Ae,Ue=[ge],Ze,tt,ft,pt;for(xe==null&&(xe=b);Ae=Ue.pop();)if(Me&&(Ae.value=+Ae.data.value),(tt=xe(Ae.data))&&(pt=tt.length))for(Ae.children=new Array(pt),ft=pt-1;ft>=0;--ft)Ue.push(Ze=Ae.children[ft]=new i(tt[ft])),Ze.parent=Ae,Ze.depth=Ae.depth+1;return ge.eachBefore(x)}function C(){return w(this).eachBefore(S)}function b(Pe){return Pe.children}function S(Pe){Pe.data=Pe.data.data}function x(Pe){var xe=0;do Pe.height=xe;while((Pe=Pe.parent)&&Pe.height<++xe)}function i(Pe){this.data=Pe,this.depth=this.height=0,this.parent=null}i.prototype=w.prototype={constructor:i,count:o,each:n,eachAfter:u,eachBefore:c,sum:l,sort:g,path:f,ancestors:h,descendants:s,leaves:d,links:A,copy:C};var E=Array.prototype.slice;function m(Pe){for(var xe=Pe.length,ge,Me;xe;)Me=Math.random()*xe--|0,ge=Pe[xe],Pe[xe]=Pe[Me],Pe[Me]=ge;return Pe}function k(Pe){for(var xe=0,ge=(Pe=m(E.call(Pe))).length,Me=[],Ae,Ue;xe<ge;)Ae=Pe[xe],Ue&&z(Ue,Ae)?++xe:(Ue=B(Me=I(Me,Ae)),xe=0);return Ue}function I(Pe,xe){var ge,Me;if(F(xe,Pe))return[xe];for(ge=0;ge<Pe.length;++ge)if(U(xe,Pe[ge])&&F(N(Pe[ge],xe),Pe))return[Pe[ge],xe];for(ge=0;ge<Pe.length-1;++ge)for(Me=ge+1;Me<Pe.length;++Me)if(U(N(Pe[ge],Pe[Me]),xe)&&U(N(Pe[ge],xe),Pe[Me])&&U(N(Pe[Me],xe),Pe[ge])&&F(Y(Pe[ge],Pe[Me],xe),Pe))return[Pe[ge],Pe[Me],xe];throw new Error}function U(Pe,xe){var ge=Pe.r-xe.r,Me=xe.x-Pe.x,Ae=xe.y-Pe.y;return ge<0||ge*ge<Me*Me+Ae*Ae}function z(Pe,xe){var ge=Pe.r-xe.r+1e-6,Me=xe.x-Pe.x,Ae=xe.y-Pe.y;return ge>0&&ge*ge>Me*Me+Ae*Ae}function F(Pe,xe){for(var ge=0;ge<xe.length;++ge)if(!z(Pe,xe[ge]))return!1;return!0}function B(Pe){switch(Pe.length){case 1:return O(Pe[0]);case 2:return N(Pe[0],Pe[1]);case 3:return Y(Pe[0],Pe[1],Pe[2])}}function O(Pe){return{x:Pe.x,y:Pe.y,r:Pe.r}}function N(Pe,xe){var ge=Pe.x,Me=Pe.y,Ae=Pe.r,Ue=xe.x,Ze=xe.y,tt=xe.r,ft=Ue-ge,pt=Ze-Me,Yt=tt-Ae,Jt=Math.sqrt(ft*ft+pt*pt);return{x:(ge+Ue+ft/Jt*Yt)/2,y:(Me+Ze+pt/Jt*Yt)/2,r:(Jt+Ae+tt)/2}}function Y(Pe,xe,ge){var Me=Pe.x,Ae=Pe.y,Ue=Pe.r,Ze=xe.x,tt=xe.y,ft=xe.r,pt=ge.x,Yt=ge.y,Jt=ge.r,Tt=Me-Ze,zt=Me-pt,$t=Ae-tt,wr=Ae-Yt,yt=ft-Ue,Xt=Jt-Ue,Qt=Me*Me+Ae*Ae-Ue*Ue,gr=Qt-Ze*Ze-tt*tt+ft*ft,sr=Qt-pt*pt-Yt*Yt+Jt*Jt,vt=zt*$t-Tt*wr,it=($t*sr-wr*gr)/(vt*2)-Me,xt=(wr*yt-$t*Xt)/vt,Mt=(zt*gr-Tt*sr)/(vt*2)-Ae,Dt=(Tt*Xt-zt*yt)/vt,Lt=xt*xt+Dt*Dt-1,Bt=2*(Ue+it*xt+Mt*Dt),Nt=it*it+Mt*Mt-Ue*Ue,jt=-(Lt?(Bt+Math.sqrt(Bt*Bt-4*Lt*Nt))/(2*Lt):Nt/Bt);return{x:Me+it+xt*jt,y:Ae+Mt+Dt*jt,r:jt}}function $(Pe,xe,ge){var Me=Pe.x-xe.x,Ae,Ue,Ze=Pe.y-xe.y,tt,ft,pt=Me*Me+Ze*Ze;pt?(Ue=xe.r+ge.r,Ue*=Ue,ft=Pe.r+ge.r,ft*=ft,Ue>ft?(Ae=(pt+ft-Ue)/(2*pt),tt=Math.sqrt(Math.max(0,ft/pt-Ae*Ae)),ge.x=Pe.x-Ae*Me-tt*Ze,ge.y=Pe.y-Ae*Ze+tt*Me):(Ae=(pt+Ue-ft)/(2*pt),tt=Math.sqrt(Math.max(0,Ue/pt-Ae*Ae)),ge.x=xe.x+Ae*Me-tt*Ze,ge.y=xe.y+Ae*Ze+tt*Me)):(ge.x=xe.x+ge.r,ge.y=xe.y)}function te(Pe,xe){var ge=Pe.r+xe.r-1e-6,Me=xe.x-Pe.x,Ae=xe.y-Pe.y;return ge>0&&ge*ge>Me*Me+Ae*Ae}function ie(Pe){var xe=Pe._,ge=Pe.next._,Me=xe.r+ge.r,Ae=(xe.x*ge.r+ge.x*xe.r)/Me,Ue=(xe.y*ge.r+ge.y*xe.r)/Me;return Ae*Ae+Ue*Ue}function ce(Pe){this._=Pe,this.next=null,this.previous=null}function J(Pe){if(!(Ae=Pe.length))return 0;var xe,ge,Me,Ae,Ue,Ze,tt,ft,pt,Yt,Jt;if(xe=Pe[0],xe.x=0,xe.y=0,!(Ae>1))return xe.r;if(ge=Pe[1],xe.x=-ge.r,ge.x=xe.r,ge.y=0,!(Ae>2))return xe.r+ge.r;$(ge,xe,Me=Pe[2]),xe=new ce(xe),ge=new ce(ge),Me=new ce(Me),xe.next=Me.previous=ge,ge.next=xe.previous=Me,Me.next=ge.previous=xe;e:for(tt=3;tt<Ae;++tt){$(xe._,ge._,Me=Pe[tt]),Me=new ce(Me),ft=ge.next,pt=xe.previous,Yt=ge._.r,Jt=xe._.r;do if(Yt<=Jt){if(te(ft._,Me._)){ge=ft,xe.next=ge,ge.previous=xe,--tt;continue e}Yt+=ft._.r,ft=ft.next}else{if(te(pt._,Me._)){xe=pt,xe.next=ge,ge.previous=xe,--tt;continue e}Jt+=pt._.r,pt=pt.previous}while(ft!==pt.next);for(Me.previous=xe,Me.next=ge,xe.next=ge.previous=ge=Me,Ue=ie(xe);(Me=Me.next)!==ge;)(Ze=ie(Me))<Ue&&(xe=Me,Ue=Ze);ge=xe.next}for(xe=[ge._],Me=ge;(Me=Me.next)!==ge;)xe.push(Me._);for(Me=k(xe),tt=0;tt<Ae;++tt)xe=Pe[tt],xe.x-=Me.x,xe.y-=Me.y;return Me.r}function Z(Pe){return J(Pe),Pe}function ae(Pe){return Pe==null?null:j(Pe)}function j(Pe){if(typeof Pe!="function")throw new Error;return Pe}function q(){return 0}function oe(Pe){return function(){return Pe}}function Q(Pe){return Math.sqrt(Pe.value)}function K(){var Pe=null,xe=1,ge=1,Me=q;function Ae(Ue){return Ue.x=xe/2,Ue.y=ge/2,Pe?Ue.eachBefore(se(Pe)).eachAfter(ne(Me,.5)).eachBefore(fe(1)):Ue.eachBefore(se(Q)).eachAfter(ne(q,1)).eachAfter(ne(Me,Ue.r/Math.min(xe,ge))).eachBefore(fe(Math.min(xe,ge)/(2*Ue.r))),Ue}return Ae.radius=function(Ue){return arguments.length?(Pe=ae(Ue),Ae):Pe},Ae.size=function(Ue){return arguments.length?(xe=+Ue[0],ge=+Ue[1],Ae):[xe,ge]},Ae.padding=function(Ue){return arguments.length?(Me=typeof Ue=="function"?Ue:oe(+Ue),Ae):Me},Ae}function se(Pe){return function(xe){xe.children||(xe.r=Math.max(0,+Pe(xe)||0))}}function ne(Pe,xe){return function(ge){if(Me=ge.children){var Me,Ae,Ue=Me.length,Ze=Pe(ge)*xe||0,tt;if(Ze)for(Ae=0;Ae<Ue;++Ae)Me[Ae].r+=Ze;if(tt=J(Me),Ze)for(Ae=0;Ae<Ue;++Ae)Me[Ae].r-=Ze;ge.r=tt+Ze}}}function fe(Pe){return function(xe){var ge=xe.parent;xe.r*=Pe,ge&&(xe.x=ge.x+Pe*xe.x,xe.y=ge.y+Pe*xe.y)}}function ye(Pe){Pe.x0=Math.round(Pe.x0),Pe.y0=Math.round(Pe.y0),Pe.x1=Math.round(Pe.x1),Pe.y1=Math.round(Pe.y1)}function Ee(Pe,xe,ge,Me,Ae){for(var Ue=Pe.children,Ze,tt=-1,ft=Ue.length,pt=Pe.value&&(Me-xe)/Pe.value;++tt<ft;)Ze=Ue[tt],Ze.y0=ge,Ze.y1=Ae,Ze.x0=xe,Ze.x1=xe+=Ze.value*pt}function Te(){var Pe=1,xe=1,ge=0,Me=!1;function Ae(Ze){var tt=Ze.height+1;return Ze.x0=Ze.y0=ge,Ze.x1=Pe,Ze.y1=xe/tt,Ze.eachBefore(Ue(xe,tt)),Me&&Ze.eachBefore(ye),Ze}function Ue(Ze,tt){return function(ft){ft.children&&Ee(ft,ft.x0,Ze*(ft.depth+1)/tt,ft.x1,Ze*(ft.depth+2)/tt);var pt=ft.x0,Yt=ft.y0,Jt=ft.x1-ge,Tt=ft.y1-ge;Jt<pt&&(pt=Jt=(pt+Jt)/2),Tt<Yt&&(Yt=Tt=(Yt+Tt)/2),ft.x0=pt,ft.y0=Yt,ft.x1=Jt,ft.y1=Tt}}return Ae.round=function(Ze){return arguments.length?(Me=!!Ze,Ae):Me},Ae.size=function(Ze){return arguments.length?(Pe=+Ze[0],xe=+Ze[1],Ae):[Pe,xe]},Ae.padding=function(Ze){return arguments.length?(ge=+Ze,Ae):ge},Ae}var ze="$",ke={depth:-1},Se={};function me(Pe){return Pe.id}function Ce(Pe){return Pe.parentId}function Ne(){var Pe=me,xe=Ce;function ge(Me){var Ae,Ue,Ze=Me.length,tt,ft,pt,Yt=new Array(Ze),Jt,Tt,zt={};for(Ue=0;Ue<Ze;++Ue)Ae=Me[Ue],pt=Yt[Ue]=new i(Ae),(Jt=Pe(Ae,Ue,Me))!=null&&(Jt+="")&&(Tt=ze+(pt.id=Jt),zt[Tt]=Tt in zt?Se:pt);for(Ue=0;Ue<Ze;++Ue)if(pt=Yt[Ue],Jt=xe(Me[Ue],Ue,Me),Jt==null||!(Jt+="")){if(tt)throw new Error("multiple roots");tt=pt}else{if(ft=zt[ze+Jt],!ft)throw new Error("missing: "+Jt);if(ft===Se)throw new Error("ambiguous: "+Jt);ft.children?ft.children.push(pt):ft.children=[pt],pt.parent=ft}if(!tt)throw new Error("no root");if(tt.parent=ke,tt.eachBefore(function($t){$t.depth=$t.parent.depth+1,--Ze}).eachBefore(x),tt.parent=null,Ze>0)throw new Error("cycle");return tt}return ge.id=function(Me){return arguments.length?(Pe=j(Me),ge):Pe},ge.parentId=function(Me){return arguments.length?(xe=j(Me),ge):xe},ge}function He(Pe,xe){return Pe.parent===xe.parent?1:2}function De(Pe){var xe=Pe.children;return xe?xe[0]:Pe.t}function Ve(Pe){var xe=Pe.children;return xe?xe[xe.length-1]:Pe.t}function at(Pe,xe,ge){var Me=ge/(xe.i-Pe.i);xe.c-=Me,xe.s+=ge,Pe.c+=Me,xe.z+=ge,xe.m+=ge}function lt(Pe){for(var xe=0,ge=0,Me=Pe.children,Ae=Me.length,Ue;--Ae>=0;)Ue=Me[Ae],Ue.z+=xe,Ue.m+=xe,xe+=Ue.s+(ge+=Ue.c)}function $e(Pe,xe,ge){return Pe.a.parent===xe.parent?Pe.a:ge}function et(Pe,xe){this._=Pe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=xe}et.prototype=Object.create(i.prototype);function ct(Pe){for(var xe=new et(Pe,0),ge,Me=[xe],Ae,Ue,Ze,tt;ge=Me.pop();)if(Ue=ge._.children)for(ge.children=new Array(tt=Ue.length),Ze=tt-1;Ze>=0;--Ze)Me.push(Ae=ge.children[Ze]=new et(Ue[Ze],Ze)),Ae.parent=ge;return(xe.parent=new et(null,0)).children=[xe],xe}function dt(){var Pe=He,xe=1,ge=1,Me=null;function Ae(pt){var Yt=ct(pt);if(Yt.eachAfter(Ue),Yt.parent.m=-Yt.z,Yt.eachBefore(Ze),Me)pt.eachBefore(ft);else{var Jt=pt,Tt=pt,zt=pt;pt.eachBefore(function(Qt){Qt.x<Jt.x&&(Jt=Qt),Qt.x>Tt.x&&(Tt=Qt),Qt.depth>zt.depth&&(zt=Qt)});var $t=Jt===Tt?1:Pe(Jt,Tt)/2,wr=$t-Jt.x,yt=xe/(Tt.x+$t+wr),Xt=ge/(zt.depth||1);pt.eachBefore(function(Qt){Qt.x=(Qt.x+wr)*yt,Qt.y=Qt.depth*Xt})}return pt}function Ue(pt){var Yt=pt.children,Jt=pt.parent.children,Tt=pt.i?Jt[pt.i-1]:null;if(Yt){lt(pt);var zt=(Yt[0].z+Yt[Yt.length-1].z)/2;Tt?(pt.z=Tt.z+Pe(pt._,Tt._),pt.m=pt.z-zt):pt.z=zt}else Tt&&(pt.z=Tt.z+Pe(pt._,Tt._));pt.parent.A=tt(pt,Tt,pt.parent.A||Jt[0])}function Ze(pt){pt._.x=pt.z+pt.parent.m,pt.m+=pt.parent.m}function tt(pt,Yt,Jt){if(Yt){for(var Tt=pt,zt=pt,$t=Yt,wr=Tt.parent.children[0],yt=Tt.m,Xt=zt.m,Qt=$t.m,gr=wr.m,sr;$t=Ve($t),Tt=De(Tt),$t&&Tt;)wr=De(wr),zt=Ve(zt),zt.a=pt,sr=$t.z+Qt-Tt.z-yt+Pe($t._,Tt._),sr>0&&(at($e($t,pt,Jt),pt,sr),yt+=sr,Xt+=sr),Qt+=$t.m,yt+=Tt.m,gr+=wr.m,Xt+=zt.m;$t&&!Ve(zt)&&(zt.t=$t,zt.m+=Qt-Xt),Tt&&!De(wr)&&(wr.t=Tt,wr.m+=yt-gr,Jt=pt)}return Jt}function ft(pt){pt.x*=xe,pt.y=pt.depth*ge}return Ae.separation=function(pt){return arguments.length?(Pe=pt,Ae):Pe},Ae.size=function(pt){return arguments.length?(Me=!1,xe=+pt[0],ge=+pt[1],Ae):Me?null:[xe,ge]},Ae.nodeSize=function(pt){return arguments.length?(Me=!0,xe=+pt[0],ge=+pt[1],Ae):Me?[xe,ge]:null},Ae}function gt(Pe,xe,ge,Me,Ae){for(var Ue=Pe.children,Ze,tt=-1,ft=Ue.length,pt=Pe.value&&(Ae-ge)/Pe.value;++tt<ft;)Ze=Ue[tt],Ze.x0=xe,Ze.x1=Me,Ze.y0=ge,Ze.y1=ge+=Ze.value*pt}var At=(1+Math.sqrt(5))/2;function Rt(Pe,xe,ge,Me,Ae,Ue){for(var Ze=[],tt=xe.children,ft,pt,Yt=0,Jt=0,Tt=tt.length,zt,$t,wr=xe.value,yt,Xt,Qt,gr,sr,vt,it;Yt<Tt;){zt=Ae-ge,$t=Ue-Me;do yt=tt[Jt++].value;while(!yt&&Jt<Tt);for(Xt=Qt=yt,vt=Math.max($t/zt,zt/$t)/(wr*Pe),it=yt*yt*vt,sr=Math.max(Qt/it,it/Xt);Jt<Tt;++Jt){if(yt+=pt=tt[Jt].value,pt<Xt&&(Xt=pt),pt>Qt&&(Qt=pt),it=yt*yt*vt,gr=Math.max(Qt/it,it/Xt),gr>sr){yt-=pt;break}sr=gr}Ze.push(ft={value:yt,dice:zt<$t,children:tt.slice(Yt,Jt)}),ft.dice?Ee(ft,ge,Me,Ae,wr?Me+=$t*yt/wr:Ue):gt(ft,ge,Me,wr?ge+=zt*yt/wr:Ae,Ue),wr-=yt,Yt=Jt}return Ze}var Vt=function Pe(xe){function ge(Me,Ae,Ue,Ze,tt){Rt(xe,Me,Ae,Ue,Ze,tt)}return ge.ratio=function(Me){return Pe((Me=+Me)>1?Me:1)},ge}(At);function Je(){var Pe=Vt,xe=!1,ge=1,Me=1,Ae=[0],Ue=q,Ze=q,tt=q,ft=q,pt=q;function Yt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=ge,Tt.y1=Me,Tt.eachBefore(Jt),Ae=[0],xe&&Tt.eachBefore(ye),Tt}function Jt(Tt){var zt=Ae[Tt.depth],$t=Tt.x0+zt,wr=Tt.y0+zt,yt=Tt.x1-zt,Xt=Tt.y1-zt;yt<$t&&($t=yt=($t+yt)/2),Xt<wr&&(wr=Xt=(wr+Xt)/2),Tt.x0=$t,Tt.y0=wr,Tt.x1=yt,Tt.y1=Xt,Tt.children&&(zt=Ae[Tt.depth+1]=Ue(Tt)/2,$t+=pt(Tt)-zt,wr+=Ze(Tt)-zt,yt-=tt(Tt)-zt,Xt-=ft(Tt)-zt,yt<$t&&($t=yt=($t+yt)/2),Xt<wr&&(wr=Xt=(wr+Xt)/2),Pe(Tt,$t,wr,yt,Xt))}return Yt.round=function(Tt){return arguments.length?(xe=!!Tt,Yt):xe},Yt.size=function(Tt){return arguments.length?(ge=+Tt[0],Me=+Tt[1],Yt):[ge,Me]},Yt.tile=function(Tt){return arguments.length?(Pe=j(Tt),Yt):Pe},Yt.padding=function(Tt){return arguments.length?Yt.paddingInner(Tt).paddingOuter(Tt):Yt.paddingInner()},Yt.paddingInner=function(Tt){return arguments.length?(Ue=typeof Tt=="function"?Tt:oe(+Tt),Yt):Ue},Yt.paddingOuter=function(Tt){return arguments.length?Yt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Yt.paddingTop()},Yt.paddingTop=function(Tt){return arguments.length?(Ze=typeof Tt=="function"?Tt:oe(+Tt),Yt):Ze},Yt.paddingRight=function(Tt){return arguments.length?(tt=typeof Tt=="function"?Tt:oe(+Tt),Yt):tt},Yt.paddingBottom=function(Tt){return arguments.length?(ft=typeof Tt=="function"?Tt:oe(+Tt),Yt):ft},Yt.paddingLeft=function(Tt){return arguments.length?(pt=typeof Tt=="function"?Tt:oe(+Tt),Yt):pt},Yt}function Ge(Pe,xe,ge,Me,Ae){var Ue=Pe.children,Ze,tt=Ue.length,ft,pt=new Array(tt+1);for(pt[0]=ft=Ze=0;Ze<tt;++Ze)pt[Ze+1]=ft+=Ue[Ze].value;Yt(0,tt,Pe.value,xe,ge,Me,Ae);function Yt(Jt,Tt,zt,$t,wr,yt,Xt){if(Jt>=Tt-1){var Qt=Ue[Jt];Qt.x0=$t,Qt.y0=wr,Qt.x1=yt,Qt.y1=Xt;return}for(var gr=pt[Jt],sr=zt/2+gr,vt=Jt+1,it=Tt-1;vt<it;){var xt=vt+it>>>1;pt[xt]<sr?vt=xt+1:it=xt}sr-pt[vt-1]<pt[vt]-sr&&Jt+1<vt&&--vt;var Mt=pt[vt]-gr,Dt=zt-Mt;if(yt-$t>Xt-wr){var Lt=($t*Dt+yt*Mt)/zt;Yt(Jt,vt,Mt,$t,wr,Lt,Xt),Yt(vt,Tt,Dt,Lt,wr,yt,Xt)}else{var Bt=(wr*Dt+Xt*Mt)/zt;Yt(Jt,vt,Mt,$t,wr,yt,Bt),Yt(vt,Tt,Dt,$t,Bt,yt,Xt)}}}function Ie(Pe,xe,ge,Me,Ae){(Pe.depth&1?gt:Ee)(Pe,xe,ge,Me,Ae)}var Fe=function Pe(xe){function ge(Me,Ae,Ue,Ze,tt){if((ft=Me._squarify)&&ft.ratio===xe)for(var ft,pt,Yt,Jt,Tt=-1,zt,$t=ft.length,wr=Me.value;++Tt<$t;){for(pt=ft[Tt],Yt=pt.children,Jt=pt.value=0,zt=Yt.length;Jt<zt;++Jt)pt.value+=Yt[Jt].value;pt.dice?Ee(pt,Ae,Ue,Ze,Ue+=(tt-Ue)*pt.value/wr):gt(pt,Ae,Ue,Ae+=(Ze-Ae)*pt.value/wr,tt),wr-=pt.value}else Me._squarify=ft=Rt(xe,Me,Ae,Ue,Ze,tt),ft.ratio=xe}return ge.ratio=function(Me){return Pe((Me=+Me)>1?Me:1)},ge}(At)},45879:function(G,H,e){e.d(H,{h5:function(){return f}});var y=Math.PI,P=2*y,a=1e-6,L=P-a;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new M}M.prototype=v.prototype={constructor:M,moveTo:function(T,h){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,h){this._+="L"+(this._x1=+T)+","+(this._y1=+h)},quadraticCurveTo:function(T,h,s,d){this._+="Q"+ +T+","+ +h+","+(this._x1=+s)+","+(this._y1=+d)},bezierCurveTo:function(T,h,s,d,A,w){this._+="C"+ +T+","+ +h+","+ +s+","+ +d+","+(this._x1=+A)+","+(this._y1=+w)},arcTo:function(T,h,s,d,A){T=+T,h=+h,s=+s,d=+d,A=+A;var w=this._x1,C=this._y1,b=s-T,S=d-h,x=w-T,i=C-h,E=x*x+i*i;if(A<0)throw new Error("negative radius: "+A);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=h);else if(E>a)if(!(Math.abs(i*b-S*x)>a)||!A)this._+="L"+(this._x1=T)+","+(this._y1=h);else{var m=s-w,k=d-C,I=b*b+S*S,U=m*m+k*k,z=Math.sqrt(I),F=Math.sqrt(E),B=A*Math.tan((y-Math.acos((I+E-U)/(2*z*F)))/2),O=B/F,N=B/z;Math.abs(O-1)>a&&(this._+="L"+(T+O*x)+","+(h+O*i)),this._+="A"+A+","+A+",0,0,"+ +(i*m>x*k)+","+(this._x1=T+N*b)+","+(this._y1=h+N*S)}},arc:function(T,h,s,d,A,w){T=+T,h=+h,s=+s,w=!!w;var C=s*Math.cos(d),b=s*Math.sin(d),S=T+C,x=h+b,i=1^w,E=w?d-A:A-d;if(s<0)throw new Error("negative radius: "+s);this._x1===null?this._+="M"+S+","+x:(Math.abs(this._x1-S)>a||Math.abs(this._y1-x)>a)&&(this._+="L"+S+","+x),s&&(E<0&&(E=E%P+P),E>L?this._+="A"+s+","+s+",0,1,"+i+","+(T-C)+","+(h-b)+"A"+s+","+s+",0,1,"+i+","+(this._x1=S)+","+(this._y1=x):E>a&&(this._+="A"+s+","+s+",0,"+ +(E>=y)+","+i+","+(this._x1=T+s*Math.cos(A))+","+(this._y1=h+s*Math.sin(A))))},rect:function(T,h,s,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)+"h"+ +s+"v"+ +d+"h"+-s+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(T){return function(){return T}}function o(T){return T[0]}function n(T){return T[1]}function c(T){return T.source}function u(T){return T.target}function l(T){var h=c,s=u,d=o,A=n,w=null;function C(){var b,S=r.call(arguments),x=h.apply(this,S),i=s.apply(this,S);if(w||(w=b=p()),T(w,+d.apply(this,(S[0]=x,S)),+A.apply(this,S),+d.apply(this,(S[0]=i,S)),+A.apply(this,S)),b)return w=null,b+""||null}return C.source=function(b){return arguments.length?(h=b,C):h},C.target=function(b){return arguments.length?(s=b,C):s},C.x=function(b){return arguments.length?(d=typeof b=="function"?b:t(+b),C):d},C.y=function(b){return arguments.length?(A=typeof b=="function"?b:t(+b),C):A},C.context=function(b){return arguments.length?(w=b??null,C):w},C}function g(T,h,s,d,A){T.moveTo(h,s),T.bezierCurveTo(h=(h+d)/2,s,h,A,d,A)}function f(){return l(g)}},84096:function(G,H,e){e.d(H,{i$:function(){return Ge},Dq:function(){return o},g0:function(){return Ie}});var y=e(58176),P=e(48480),a=e(59879),L=e(82301),M=e(34823),v=e(79791);function p(Pe){if(0<=Pe.y&&Pe.y<100){var xe=new Date(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L);return xe.setFullYear(Pe.y),xe}return new Date(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L)}function r(Pe){if(0<=Pe.y&&Pe.y<100){var xe=new Date(Date.UTC(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L));return xe.setUTCFullYear(Pe.y),xe}return new Date(Date.UTC(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L))}function t(Pe,xe,ge){return{y:Pe,m:xe,d:ge,H:0,M:0,S:0,L:0}}function o(Pe){var xe=Pe.dateTime,ge=Pe.date,Me=Pe.time,Ae=Pe.periods,Ue=Pe.days,Ze=Pe.shortDays,tt=Pe.months,ft=Pe.shortMonths,pt=T(Ae),Yt=h(Ae),Jt=T(Ue),Tt=h(Ue),zt=T(Ze),$t=h(Ze),wr=T(tt),yt=h(tt),Xt=T(ft),Qt=h(ft),gr={a:Ye,A:We,b:kt,B:It,c:null,d:$,e:$,f:Z,H:te,I:ie,j:ce,L:J,m:ae,M:j,p:Zt,q:rr,Q:Rt,s:Vt,S:q,u:oe,U:Q,V:K,w:se,W:ne,x:null,X:null,y:fe,Y:ye,Z:Ee,"%":At},sr={a:ur,A:er,b:Ot,B:vr,c:null,d:Te,e:Te,f:Ce,H:ze,I:ke,j:Se,L:me,m:Ne,M:He,p:yr,q:pr,Q:Rt,s:Vt,S:De,u:Ve,U:at,V:lt,w:$e,W:et,x:null,X:null,y:ct,Y:dt,Z:gt,"%":At},vt={a:Lt,A:Bt,b:Nt,B:jt,c:lr,d:m,e:m,f:B,H:I,I,j:k,L:F,m:E,M:U,p:Dt,q:i,Q:N,s:Y,S:z,u:d,U:A,V:w,w:s,W:C,x:fr,X:hr,y:S,Y:b,Z:x,"%":O};gr.x=it(ge,gr),gr.X=it(Me,gr),gr.c=it(xe,gr),sr.x=it(ge,sr),sr.X=it(Me,sr),sr.c=it(xe,sr);function it(cr,Ur){return function(kr){var Rr=[],hn=-1,tn=0,Fn=cr.length,mn,Mr,Er;for(kr instanceof Date||(kr=new Date(+kr));++hn<Fn;)cr.charCodeAt(hn)===37&&(Rr.push(cr.slice(tn,hn)),(Mr=n[mn=cr.charAt(++hn)])!=null?mn=cr.charAt(++hn):Mr=mn==="e"?" ":"0",(Er=Ur[mn])&&(mn=Er(kr,Mr)),Rr.push(mn),tn=hn+1);return Rr.push(cr.slice(tn,hn)),Rr.join("")}}function xt(cr,Ur){return function(kr){var Rr=t(1900,void 0,1),hn=Mt(Rr,cr,kr+="",0),tn,Fn;if(hn!=kr.length)return null;if("Q"in Rr)return new Date(Rr.Q);if("s"in Rr)return new Date(Rr.s*1e3+("L"in Rr?Rr.L:0));if(Ur&&!("Z"in Rr)&&(Rr.Z=0),"p"in Rr&&(Rr.H=Rr.H%12+Rr.p*12),Rr.m===void 0&&(Rr.m="q"in Rr?Rr.q:0),"V"in Rr){if(Rr.V<1||Rr.V>53)return null;"w"in Rr||(Rr.w=1),"Z"in Rr?(tn=r(t(Rr.y,0,1)),Fn=tn.getUTCDay(),tn=Fn>4||Fn===0?y.l6.ceil(tn):(0,y.l6)(tn),tn=P.Z.offset(tn,(Rr.V-1)*7),Rr.y=tn.getUTCFullYear(),Rr.m=tn.getUTCMonth(),Rr.d=tn.getUTCDate()+(Rr.w+6)%7):(tn=p(t(Rr.y,0,1)),Fn=tn.getDay(),tn=Fn>4||Fn===0?a.wA.ceil(tn):(0,a.wA)(tn),tn=L.Z.offset(tn,(Rr.V-1)*7),Rr.y=tn.getFullYear(),Rr.m=tn.getMonth(),Rr.d=tn.getDate()+(Rr.w+6)%7)}else("W"in Rr||"U"in Rr)&&("w"in Rr||(Rr.w="u"in Rr?Rr.u%7:"W"in Rr?1:0),Fn="Z"in Rr?r(t(Rr.y,0,1)).getUTCDay():p(t(Rr.y,0,1)).getDay(),Rr.m=0,Rr.d="W"in Rr?(Rr.w+6)%7+Rr.W*7-(Fn+5)%7:Rr.w+Rr.U*7-(Fn+6)%7);return"Z"in Rr?(Rr.H+=Rr.Z/100|0,Rr.M+=Rr.Z%100,r(Rr)):p(Rr)}}function Mt(cr,Ur,kr,Rr){for(var hn=0,tn=Ur.length,Fn=kr.length,mn,Mr;hn<tn;){if(Rr>=Fn)return-1;if(mn=Ur.charCodeAt(hn++),mn===37){if(mn=Ur.charAt(hn++),Mr=vt[mn in n?Ur.charAt(hn++):mn],!Mr||(Rr=Mr(cr,kr,Rr))<0)return-1}else if(mn!=kr.charCodeAt(Rr++))return-1}return Rr}function Dt(cr,Ur,kr){var Rr=pt.exec(Ur.slice(kr));return Rr?(cr.p=Yt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function Lt(cr,Ur,kr){var Rr=zt.exec(Ur.slice(kr));return Rr?(cr.w=$t[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function Bt(cr,Ur,kr){var Rr=Jt.exec(Ur.slice(kr));return Rr?(cr.w=Tt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function Nt(cr,Ur,kr){var Rr=Xt.exec(Ur.slice(kr));return Rr?(cr.m=Qt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function jt(cr,Ur,kr){var Rr=wr.exec(Ur.slice(kr));return Rr?(cr.m=yt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function lr(cr,Ur,kr){return Mt(cr,xe,Ur,kr)}function fr(cr,Ur,kr){return Mt(cr,ge,Ur,kr)}function hr(cr,Ur,kr){return Mt(cr,Me,Ur,kr)}function Ye(cr){return Ze[cr.getDay()]}function We(cr){return Ue[cr.getDay()]}function kt(cr){return ft[cr.getMonth()]}function It(cr){return tt[cr.getMonth()]}function Zt(cr){return Ae[+(cr.getHours()>=12)]}function rr(cr){return 1+~~(cr.getMonth()/3)}function ur(cr){return Ze[cr.getUTCDay()]}function er(cr){return Ue[cr.getUTCDay()]}function Ot(cr){return ft[cr.getUTCMonth()]}function vr(cr){return tt[cr.getUTCMonth()]}function yr(cr){return Ae[+(cr.getUTCHours()>=12)]}function pr(cr){return 1+~~(cr.getUTCMonth()/3)}return{format:function(cr){var Ur=it(cr+="",gr);return Ur.toString=function(){return cr},Ur},parse:function(cr){var Ur=xt(cr+="",!1);return Ur.toString=function(){return cr},Ur},utcFormat:function(cr){var Ur=it(cr+="",sr);return Ur.toString=function(){return cr},Ur},utcParse:function(cr){var Ur=xt(cr+="",!0);return Ur.toString=function(){return cr},Ur}}}var n={"-":"",_:" ",0:"0"},c=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function g(Pe,xe,ge){var Me=Pe<0?"-":"",Ae=(Me?-Pe:Pe)+"",Ue=Ae.length;return Me+(Ue<ge?new Array(ge-Ue+1).join(xe)+Ae:Ae)}function f(Pe){return Pe.replace(l,"\\$&")}function T(Pe){return new RegExp("^(?:"+Pe.map(f).join("|")+")","i")}function h(Pe){for(var xe={},ge=-1,Me=Pe.length;++ge<Me;)xe[Pe[ge].toLowerCase()]=ge;return xe}function s(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+1));return Me?(Pe.w=+Me[0],ge+Me[0].length):-1}function d(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+1));return Me?(Pe.u=+Me[0],ge+Me[0].length):-1}function A(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.U=+Me[0],ge+Me[0].length):-1}function w(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.V=+Me[0],ge+Me[0].length):-1}function C(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.W=+Me[0],ge+Me[0].length):-1}function b(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+4));return Me?(Pe.y=+Me[0],ge+Me[0].length):-1}function S(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.y=+Me[0]+(+Me[0]>68?1900:2e3),ge+Me[0].length):-1}function x(Pe,xe,ge){var Me=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(xe.slice(ge,ge+6));return Me?(Pe.Z=Me[1]?0:-(Me[2]+(Me[3]||"00")),ge+Me[0].length):-1}function i(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+1));return Me?(Pe.q=Me[0]*3-3,ge+Me[0].length):-1}function E(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.m=Me[0]-1,ge+Me[0].length):-1}function m(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.d=+Me[0],ge+Me[0].length):-1}function k(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+3));return Me?(Pe.m=0,Pe.d=+Me[0],ge+Me[0].length):-1}function I(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.H=+Me[0],ge+Me[0].length):-1}function U(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.M=+Me[0],ge+Me[0].length):-1}function z(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+2));return Me?(Pe.S=+Me[0],ge+Me[0].length):-1}function F(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+3));return Me?(Pe.L=+Me[0],ge+Me[0].length):-1}function B(Pe,xe,ge){var Me=c.exec(xe.slice(ge,ge+6));return Me?(Pe.L=Math.floor(Me[0]/1e3),ge+Me[0].length):-1}function O(Pe,xe,ge){var Me=u.exec(xe.slice(ge,ge+1));return Me?ge+Me[0].length:-1}function N(Pe,xe,ge){var Me=c.exec(xe.slice(ge));return Me?(Pe.Q=+Me[0],ge+Me[0].length):-1}function Y(Pe,xe,ge){var Me=c.exec(xe.slice(ge));return Me?(Pe.s=+Me[0],ge+Me[0].length):-1}function $(Pe,xe){return g(Pe.getDate(),xe,2)}function te(Pe,xe){return g(Pe.getHours(),xe,2)}function ie(Pe,xe){return g(Pe.getHours()%12||12,xe,2)}function ce(Pe,xe){return g(1+L.Z.count((0,M.Z)(Pe),Pe),xe,3)}function J(Pe,xe){return g(Pe.getMilliseconds(),xe,3)}function Z(Pe,xe){return J(Pe,xe)+"000"}function ae(Pe,xe){return g(Pe.getMonth()+1,xe,2)}function j(Pe,xe){return g(Pe.getMinutes(),xe,2)}function q(Pe,xe){return g(Pe.getSeconds(),xe,2)}function oe(Pe){var xe=Pe.getDay();return xe===0?7:xe}function Q(Pe,xe){return g(a.OM.count((0,M.Z)(Pe)-1,Pe),xe,2)}function K(Pe,xe){var ge=Pe.getDay();return Pe=ge>=4||ge===0?(0,a.bL)(Pe):a.bL.ceil(Pe),g(a.bL.count((0,M.Z)(Pe),Pe)+((0,M.Z)(Pe).getDay()===4),xe,2)}function se(Pe){return Pe.getDay()}function ne(Pe,xe){return g(a.wA.count((0,M.Z)(Pe)-1,Pe),xe,2)}function fe(Pe,xe){return g(Pe.getFullYear()%100,xe,2)}function ye(Pe,xe){return g(Pe.getFullYear()%1e4,xe,4)}function Ee(Pe){var xe=Pe.getTimezoneOffset();return(xe>0?"-":(xe*=-1,"+"))+g(xe/60|0,"0",2)+g(xe%60,"0",2)}function Te(Pe,xe){return g(Pe.getUTCDate(),xe,2)}function ze(Pe,xe){return g(Pe.getUTCHours(),xe,2)}function ke(Pe,xe){return g(Pe.getUTCHours()%12||12,xe,2)}function Se(Pe,xe){return g(1+P.Z.count((0,v.Z)(Pe),Pe),xe,3)}function me(Pe,xe){return g(Pe.getUTCMilliseconds(),xe,3)}function Ce(Pe,xe){return me(Pe,xe)+"000"}function Ne(Pe,xe){return g(Pe.getUTCMonth()+1,xe,2)}function He(Pe,xe){return g(Pe.getUTCMinutes(),xe,2)}function De(Pe,xe){return g(Pe.getUTCSeconds(),xe,2)}function Ve(Pe){var xe=Pe.getUTCDay();return xe===0?7:xe}function at(Pe,xe){return g(y.Ox.count((0,v.Z)(Pe)-1,Pe),xe,2)}function lt(Pe,xe){var ge=Pe.getUTCDay();return Pe=ge>=4||ge===0?(0,y.hB)(Pe):y.hB.ceil(Pe),g(y.hB.count((0,v.Z)(Pe),Pe)+((0,v.Z)(Pe).getUTCDay()===4),xe,2)}function $e(Pe){return Pe.getUTCDay()}function et(Pe,xe){return g(y.l6.count((0,v.Z)(Pe)-1,Pe),xe,2)}function ct(Pe,xe){return g(Pe.getUTCFullYear()%100,xe,2)}function dt(Pe,xe){return g(Pe.getUTCFullYear()%1e4,xe,4)}function gt(){return"+0000"}function At(){return"%"}function Rt(Pe){return+Pe}function Vt(Pe){return Math.floor(+Pe/1e3)}var Je,Ge,Ie;Fe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fe(Pe){return Je=o(Pe),Ge=Je.format,Je.parse,Ie=Je.utcFormat,Je.utcParse,Je}},82301:function(G,H,e){e.d(H,{a:function(){return L}});var y=e(30052),P=e(54263),a=(0,y.Z)(function(M){M.setHours(0,0,0,0)},function(M,v){M.setDate(M.getDate()+v)},function(M,v){return(v-M-(v.getTimezoneOffset()-M.getTimezoneOffset())*P.yB)/P.UD},function(M){return M.getDate()-1});H.Z=a;var L=a.range},54263:function(G,H,e){e.d(H,{UD:function(){return L},Y2:function(){return a},Ym:function(){return y},iM:function(){return M},yB:function(){return P}});var y=1e3,P=6e4,a=36e5,L=864e5,M=6048e5},81041:function(G,H,e){e.r(H),e.d(H,{timeDay:function(){return g.Z},timeDays:function(){return g.a},timeFriday:function(){return f.mC},timeFridays:function(){return f.b$},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return y.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return L},timeMinute:function(){return o},timeMinutes:function(){return n},timeMonday:function(){return f.wA},timeMondays:function(){return f.bJ},timeMonth:function(){return h},timeMonths:function(){return s},timeSaturday:function(){return f.EY},timeSaturdays:function(){return f.Ff},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return f.OM},timeSundays:function(){return f.vm},timeThursday:function(){return f.bL},timeThursdays:function(){return f.$t},timeTuesday:function(){return f.sy},timeTuesdays:function(){return f.aU},timeWednesday:function(){return f.zg},timeWednesdays:function(){return f.Ld},timeWeek:function(){return f.OM},timeWeeks:function(){return f.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return E.QQ},utcFridays:function(){return E.fz},utcHour:function(){return S},utcHours:function(){return x},utcMillisecond:function(){return a},utcMilliseconds:function(){return L},utcMinute:function(){return w},utcMinutes:function(){return C},utcMonday:function(){return E.l6},utcMondays:function(){return E.$3},utcMonth:function(){return k},utcMonths:function(){return I},utcSaturday:function(){return E.g4},utcSaturdays:function(){return E.Q_},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return E.Ox},utcSundays:function(){return E.SU},utcThursday:function(){return E.hB},utcThursdays:function(){return E.xj},utcTuesday:function(){return E.J1},utcTuesdays:function(){return E.DK},utcWednesday:function(){return E.b3},utcWednesdays:function(){return E.uy},utcWeek:function(){return E.Ox},utcWeeks:function(){return E.SU},utcYear:function(){return U.Z},utcYears:function(){return U.D}});var y=e(30052),P=(0,y.Z)(function(){},function(z,F){z.setTime(+z+F)},function(z,F){return F-z});P.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,y.Z)(function(F){F.setTime(Math.floor(F/z)*z)},function(F,B){F.setTime(+F+B*z)},function(F,B){return(B-F)/z}):P};var a=P,L=P.range,M=e(54263),v=(0,y.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,F){z.setTime(+z+F*M.Ym)},function(z,F){return(F-z)/M.Ym},function(z){return z.getUTCSeconds()}),p=v,r=v.range,t=(0,y.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*M.Ym)},function(z,F){z.setTime(+z+F*M.yB)},function(z,F){return(F-z)/M.yB},function(z){return z.getMinutes()}),o=t,n=t.range,c=(0,y.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*M.Ym-z.getMinutes()*M.yB)},function(z,F){z.setTime(+z+F*M.Y2)},function(z,F){return(F-z)/M.Y2},function(z){return z.getHours()}),u=c,l=c.range,g=e(82301),f=e(59879),T=(0,y.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,F){z.setMonth(z.getMonth()+F)},function(z,F){return F.getMonth()-z.getMonth()+(F.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),h=T,s=T.range,d=e(34823),A=(0,y.Z)(function(z){z.setUTCSeconds(0,0)},function(z,F){z.setTime(+z+F*M.yB)},function(z,F){return(F-z)/M.yB},function(z){return z.getUTCMinutes()}),w=A,C=A.range,b=(0,y.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,F){z.setTime(+z+F*M.Y2)},function(z,F){return(F-z)/M.Y2},function(z){return z.getUTCHours()}),S=b,x=b.range,i=e(48480),E=e(58176),m=(0,y.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCMonth(z.getUTCMonth()+F)},function(z,F){return F.getUTCMonth()-z.getUTCMonth()+(F.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),k=m,I=m.range,U=e(79791)},30052:function(G,H,e){e.d(H,{Z:function(){return a}});var y=new Date,P=new Date;function a(L,M,v,p){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),M(t,1),L(t),t},r.round=function(t){var o=r(t),n=r.ceil(t);return t-o<n-t?o:n},r.offset=function(t,o){return M(t=new Date(+t),o==null?1:Math.floor(o)),t},r.range=function(t,o,n){var c=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<o)||!(n>0))return c;do c.push(u=new Date(+t)),M(t,n),L(t);while(u<t&&t<o);return c},r.filter=function(t){return a(function(o){if(o>=o)for(;L(o),!t(o);)o.setTime(o-1)},function(o,n){if(o>=o)if(n<0)for(;++n<=0;)for(;M(o,-1),!t(o););else for(;--n>=0;)for(;M(o,1),!t(o););})},v&&(r.count=function(t,o){return y.setTime(+t),P.setTime(+o),L(y),L(P),Math.floor(v(y,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(o){return p(o)%t===0}:function(o){return r.count(0,o)%t===0}):r}),r}},48480:function(G,H,e){e.d(H,{y:function(){return L}});var y=e(30052),P=e(54263),a=(0,y.Z)(function(M){M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCDate(M.getUTCDate()+v)},function(M,v){return(v-M)/P.UD},function(M){return M.getUTCDate()-1});H.Z=a;var L=a.range},58176:function(G,H,e){e.d(H,{$3:function(){return c},DK:function(){return u},J1:function(){return v},Ox:function(){return L},QQ:function(){return t},Q_:function(){return T},SU:function(){return n},b3:function(){return p},fz:function(){return f},g4:function(){return o},hB:function(){return r},l6:function(){return M},uy:function(){return l},xj:function(){return g}});var y=e(30052),P=e(54263);function a(h){return(0,y.Z)(function(s){s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-h)%7),s.setUTCHours(0,0,0,0)},function(s,d){s.setUTCDate(s.getUTCDate()+d*7)},function(s,d){return(d-s)/P.iM})}var L=a(0),M=a(1),v=a(2),p=a(3),r=a(4),t=a(5),o=a(6),n=L.range,c=M.range,u=v.range,l=p.range,g=r.range,f=t.range,T=o.range},79791:function(G,H,e){e.d(H,{D:function(){return a}});var y=e(30052),P=(0,y.Z)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,M){L.setUTCFullYear(L.getUTCFullYear()+M)},function(L,M){return M.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,y.Z)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/L)*L),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCFullYear(M.getUTCFullYear()+v*L)})},H.Z=P;var a=P.range},59879:function(G,H,e){e.d(H,{$t:function(){return g},EY:function(){return o},Ff:function(){return T},Ld:function(){return l},OM:function(){return L},aU:function(){return u},b$:function(){return f},bJ:function(){return c},bL:function(){return r},mC:function(){return t},sy:function(){return v},vm:function(){return n},wA:function(){return M},zg:function(){return p}});var y=e(30052),P=e(54263);function a(h){return(0,y.Z)(function(s){s.setDate(s.getDate()-(s.getDay()+7-h)%7),s.setHours(0,0,0,0)},function(s,d){s.setDate(s.getDate()+d*7)},function(s,d){return(d-s-(d.getTimezoneOffset()-s.getTimezoneOffset())*P.yB)/P.iM})}var L=a(0),M=a(1),v=a(2),p=a(3),r=a(4),t=a(5),o=a(6),n=L.range,c=M.range,u=v.range,l=p.range,g=r.range,f=t.range,T=o.range},34823:function(G,H,e){e.d(H,{g:function(){return a}});var y=e(30052),P=(0,y.Z)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,M){L.setFullYear(L.getFullYear()+M)},function(L,M){return M.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,y.Z)(function(M){M.setFullYear(Math.floor(M.getFullYear()/L)*L),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,v){M.setFullYear(M.getFullYear()+v*L)})},H.Z=P;var a=P.range},17045:function(G,H,e){var y=e(8709),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,L=Array.prototype.concat,M=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},p=e(55622)(),r=M&&p,t=function(n,c,u,l){if(c in n){if(l===!0){if(n[c]===u)return}else if(!v(l)||!l())return}r?M(n,c,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[c]=u},o=function(n,c){var u=arguments.length>2?arguments[2]:{},l=y(c);P&&(l=L.call(l,Object.getOwnPropertySymbols(c)));for(var g=0;g<l.length;g+=1)t(n,l[g],c[l[g]],u[l[g]])};o.supportsDescriptors=!!r,G.exports=o},46775:function(G){G.exports=function(){for(var H=0;H<arguments.length;H++)if(arguments[H]!==void 0)return arguments[H]}},53545:function(G){G.exports=P;var H=P.canvas=document.createElement("canvas"),e=H.getContext("2d"),y=a([32,126]);P.createPairs=a,P.ascii=y;function P(L,M){Array.isArray(L)&&(L=L.join(", "));var v={},p,r=16,t=.05;M&&(M.length===2&&typeof M[0]=="number"?p=a(M):Array.isArray(M)?p=M:(M.o?p=a(M.o):M.pairs&&(p=M.pairs),M.fontSize&&(r=M.fontSize),M.threshold!=null&&(t=M.threshold))),p||(p=y),e.font=r+"px "+L;for(var o=0;o<p.length;o++){var n=p[o],c=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(c-u)>r*t){var l=(u-c)/r;v[n]=l*1e3}}return v}function a(L){for(var M=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),o=p+t;M.push(o)}return M}},31457:function(G,H,e){var y=e(65185),P=e(18625),a={M:"moveTo",C:"bezierCurveTo"};G.exports=function(L,M){L.beginPath(),P(y(M)).forEach(function(v){var p=v[0],r=v.slice(1);L[a[p]].apply(L,r)}),L.closePath()}},90660:function(G){G.exports=function(H){switch(H){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(G){function H(P,a,L){var M=P[L]|0;if(M<=0)return[];var v=new Array(M),p;if(L===P.length-1)for(p=0;p<M;++p)v[p]=a;else for(p=0;p<M;++p)v[p]=H(P,a,L+1);return v}function e(P,a){var L,M;for(L=new Array(P),M=0;M<P;++M)L[M]=a;return L}function y(P,a){switch(typeof a>"u"&&(a=0),typeof P){case"number":if(P>0)return e(P|0,a);break;case"object":if(typeof P.length=="number")return H(P,a,0);break}return[]}G.exports=y},11474:function(G){G.exports=H,G.exports.default=H;function H(I,U,z){z=z||2;var F=U&&U.length,B=F?U[0]*z:I.length,O=e(I,0,B,z,!0),N=[];if(!O||O.next===O.prev)return N;var Y,$,te,ie,ce,J,Z;if(F&&(O=p(I,U,O,z)),I.length>80*z){Y=te=I[0],$=ie=I[1];for(var ae=z;ae<B;ae+=z)ce=I[ae],J=I[ae+1],ce<Y&&(Y=ce),J<$&&($=J),ce>te&&(te=ce),J>ie&&(ie=J);Z=Math.max(te-Y,ie-$),Z=Z!==0?1/Z:0}return P(O,N,z,Y,$,Z),N}function e(I,U,z,F,B){var O,N;if(B===k(I,U,z,F)>0)for(O=U;O<z;O+=F)N=i(O,I[O],I[O+1],N);else for(O=z-F;O>=U;O-=F)N=i(O,I[O],I[O+1],N);return N&&s(N,N.next)&&(E(N),N=N.next),N}function y(I,U){if(!I)return I;U||(U=I);var z=I,F;do if(F=!1,!z.steiner&&(s(z,z.next)||h(z.prev,z,z.next)===0)){if(E(z),z=U=z.prev,z===z.next)break;F=!0}else z=z.next;while(F||z!==U);return U}function P(I,U,z,F,B,O,N){if(I){!N&&O&&c(I,F,B,O);for(var Y=I,$,te;I.prev!==I.next;){if($=I.prev,te=I.next,O?L(I,F,B,O):a(I)){U.push($.i/z),U.push(I.i/z),U.push(te.i/z),E(I),I=te.next,Y=te.next;continue}if(I=te,I===Y){N?N===1?(I=M(y(I),U,z),P(I,U,z,F,B,O,2)):N===2&&v(I,U,z,F,B,O):P(y(I),U,z,F,B,O,1);break}}}}function a(I){var U=I.prev,z=I,F=I.next;if(h(U,z,F)>=0)return!1;for(var B=I.next.next;B!==I.prev;){if(f(U.x,U.y,z.x,z.y,F.x,F.y,B.x,B.y)&&h(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function L(I,U,z,F){var B=I.prev,O=I,N=I.next;if(h(B,O,N)>=0)return!1;for(var Y=B.x<O.x?B.x<N.x?B.x:N.x:O.x<N.x?O.x:N.x,$=B.y<O.y?B.y<N.y?B.y:N.y:O.y<N.y?O.y:N.y,te=B.x>O.x?B.x>N.x?B.x:N.x:O.x>N.x?O.x:N.x,ie=B.y>O.y?B.y>N.y?B.y:N.y:O.y>N.y?O.y:N.y,ce=l(Y,$,U,z,F),J=l(te,ie,U,z,F),Z=I.prevZ,ae=I.nextZ;Z&&Z.z>=ce&&ae&&ae.z<=J;){if(Z!==I.prev&&Z!==I.next&&f(B.x,B.y,O.x,O.y,N.x,N.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,ae!==I.prev&&ae!==I.next&&f(B.x,B.y,O.x,O.y,N.x,N.y,ae.x,ae.y)&&h(ae.prev,ae,ae.next)>=0))return!1;ae=ae.nextZ}for(;Z&&Z.z>=ce;){if(Z!==I.prev&&Z!==I.next&&f(B.x,B.y,O.x,O.y,N.x,N.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;ae&&ae.z<=J;){if(ae!==I.prev&&ae!==I.next&&f(B.x,B.y,O.x,O.y,N.x,N.y,ae.x,ae.y)&&h(ae.prev,ae,ae.next)>=0)return!1;ae=ae.nextZ}return!0}function M(I,U,z){var F=I;do{var B=F.prev,O=F.next.next;!s(B,O)&&d(B,F,F.next,O)&&b(B,O)&&b(O,B)&&(U.push(B.i/z),U.push(F.i/z),U.push(O.i/z),E(F),E(F.next),F=I=O),F=F.next}while(F!==I);return y(F)}function v(I,U,z,F,B,O){var N=I;do{for(var Y=N.next.next;Y!==N.prev;){if(N.i!==Y.i&&T(N,Y)){var $=x(N,Y);N=y(N,N.next),$=y($,$.next),P(N,U,z,F,B,O),P($,U,z,F,B,O);return}Y=Y.next}N=N.next}while(N!==I)}function p(I,U,z,F){var B=[],O,N,Y,$,te;for(O=0,N=U.length;O<N;O++)Y=U[O]*F,$=O<N-1?U[O+1]*F:I.length,te=e(I,Y,$,F,!1),te===te.next&&(te.steiner=!0),B.push(g(te));for(B.sort(r),O=0;O<B.length;O++)t(B[O],z),z=y(z,z.next);return z}function r(I,U){return I.x-U.x}function t(I,U){if(U=o(I,U),U){var z=x(U,I);y(U,U.next),y(z,z.next)}}function o(I,U){var z=U,F=I.x,B=I.y,O=-1/0,N;do{if(B<=z.y&&B>=z.next.y&&z.next.y!==z.y){var Y=z.x+(B-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Y<=F&&Y>O){if(O=Y,Y===F){if(B===z.y)return z;if(B===z.next.y)return z.next}N=z.x<z.next.x?z:z.next}}z=z.next}while(z!==U);if(!N)return null;if(F===O)return N;var $=N,te=N.x,ie=N.y,ce=1/0,J;z=N;do F>=z.x&&z.x>=te&&F!==z.x&&f(B<ie?F:O,B,te,ie,B<ie?O:F,B,z.x,z.y)&&(J=Math.abs(B-z.y)/(F-z.x),b(z,I)&&(J<ce||J===ce&&(z.x>N.x||z.x===N.x&&n(N,z)))&&(N=z,ce=J)),z=z.next;while(z!==$);return N}function n(I,U){return h(I.prev,I,U.prev)<0&&h(U.next,I,I.next)<0}function c(I,U,z,F){var B=I;do B.z===null&&(B.z=l(B.x,B.y,U,z,F)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==I);B.prevZ.nextZ=null,B.prevZ=null,u(B)}function u(I){var U,z,F,B,O,N,Y,$,te=1;do{for(z=I,I=null,O=null,N=0;z;){for(N++,F=z,Y=0,U=0;U<te&&(Y++,F=F.nextZ,!!F);U++);for($=te;Y>0||$>0&&F;)Y!==0&&($===0||!F||z.z<=F.z)?(B=z,z=z.nextZ,Y--):(B=F,F=F.nextZ,$--),O?O.nextZ=B:I=B,B.prevZ=O,O=B;z=F}O.nextZ=null,te*=2}while(N>1);return I}function l(I,U,z,F,B){return I=32767*(I-z)*B,U=32767*(U-F)*B,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,I|U<<1}function g(I){var U=I,z=I;do(U.x<z.x||U.x===z.x&&U.y<z.y)&&(z=U),U=U.next;while(U!==I);return z}function f(I,U,z,F,B,O,N,Y){return(B-N)*(U-Y)-(I-N)*(O-Y)>=0&&(I-N)*(F-Y)-(z-N)*(U-Y)>=0&&(z-N)*(O-Y)-(B-N)*(F-Y)>=0}function T(I,U){return I.next.i!==U.i&&I.prev.i!==U.i&&!C(I,U)&&(b(I,U)&&b(U,I)&&S(I,U)&&(h(I.prev,I,U.prev)||h(I,U.prev,U))||s(I,U)&&h(I.prev,I,I.next)>0&&h(U.prev,U,U.next)>0)}function h(I,U,z){return(U.y-I.y)*(z.x-U.x)-(U.x-I.x)*(z.y-U.y)}function s(I,U){return I.x===U.x&&I.y===U.y}function d(I,U,z,F){var B=w(h(I,U,z)),O=w(h(I,U,F)),N=w(h(z,F,I)),Y=w(h(z,F,U));return!!(B!==O&&N!==Y||B===0&&A(I,z,U)||O===0&&A(I,F,U)||N===0&&A(z,I,F)||Y===0&&A(z,U,F))}function A(I,U,z){return U.x<=Math.max(I.x,z.x)&&U.x>=Math.min(I.x,z.x)&&U.y<=Math.max(I.y,z.y)&&U.y>=Math.min(I.y,z.y)}function w(I){return I>0?1:I<0?-1:0}function C(I,U){var z=I;do{if(z.i!==I.i&&z.next.i!==I.i&&z.i!==U.i&&z.next.i!==U.i&&d(z,z.next,I,U))return!0;z=z.next}while(z!==I);return!1}function b(I,U){return h(I.prev,I,I.next)<0?h(I,U,I.next)>=0&&h(I,I.prev,U)>=0:h(I,U,I.prev)<0||h(I,I.next,U)<0}function S(I,U){var z=I,F=!1,B=(I.x+U.x)/2,O=(I.y+U.y)/2;do z.y>O!=z.next.y>O&&z.next.y!==z.y&&B<(z.next.x-z.x)*(O-z.y)/(z.next.y-z.y)+z.x&&(F=!F),z=z.next;while(z!==I);return F}function x(I,U){var z=new m(I.i,I.x,I.y),F=new m(U.i,U.x,U.y),B=I.next,O=U.prev;return I.next=U,U.prev=I,z.next=B,B.prev=z,F.next=z,z.prev=F,O.next=F,F.prev=O,F}function i(I,U,z,F){var B=new m(I,U,z);return F?(B.next=F.next,B.prev=F,F.next.prev=B,F.next=B):(B.prev=B,B.next=B),B}function E(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function m(I,U,z){this.i=I,this.x=U,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}H.deviation=function(I,U,z,F){var B=U&&U.length,O=B?U[0]*z:I.length,N=Math.abs(k(I,0,O,z));if(B)for(var Y=0,$=U.length;Y<$;Y++){var te=U[Y]*z,ie=Y<$-1?U[Y+1]*z:I.length;N-=Math.abs(k(I,te,ie,z))}var ce=0;for(Y=0;Y<F.length;Y+=3){var J=F[Y]*z,Z=F[Y+1]*z,ae=F[Y+2]*z;ce+=Math.abs((I[J]-I[ae])*(I[Z+1]-I[J+1])-(I[J]-I[Z])*(I[ae+1]-I[J+1]))}return N===0&&ce===0?0:Math.abs((ce-N)/N)};function k(I,U,z,F){for(var B=0,O=U,N=z-F;O<z;O+=F)B+=(I[N]-I[O])*(I[O+1]+I[N+1]),N=O;return B}H.flatten=function(I){for(var U=I[0][0].length,z={vertices:[],holes:[],dimensions:U},F=0,B=0;B<I.length;B++){for(var O=0;O<I[B].length;O++)for(var N=0;N<U;N++)z.vertices.push(I[B][O][N]);B>0&&(F+=I[B-1].length,z.holes.push(F))}return z}},2502:function(G,H,e){var y=e(68664);G.exports=function(a,L){var M=[],v=[],p=[],r={},t=[],o;function n(A){p[A]=!1,r.hasOwnProperty(A)&&Object.keys(r[A]).forEach(function(w){delete r[A][w],p[w]&&n(w)})}function c(A){var w=!1;v.push(A),p[A]=!0;var C,b;for(C=0;C<t[A].length;C++)b=t[A][C],b===o?(u(o,v),w=!0):p[b]||(w=c(b));if(w)n(A);else for(C=0;C<t[A].length;C++){b=t[A][C];var S=r[b];S||(S={},r[b]=S),S[b]=!0}return v.pop(),w}function u(A,w){var C=[].concat(w).concat(A);L?L(c):M.push(C)}function l(A){for(var w=0;w<a.length;w++)w<A&&(a[w]=[]),a[w]=a[w].filter(function(C){return C>=A})}function g(A){l(A);for(var w=a,C=y(w),b=C.components.filter(function(I){return I.length>1}),S=1/0,x,i=0;i<b.length;i++)for(var E=0;E<b[i].length;E++)b[i][E]<S&&(S=b[i][E],x=i);var m=b[x];if(!m)return!1;var k=a.map(function(I,U){return m.indexOf(U)===-1?[]:I.filter(function(z){return m.indexOf(z)!==-1})});return{leastVertex:S,adjList:k}}o=0;for(var f=a.length;o<f;){var T=g(o);if(o=T.leastVertex,t=T.adjList,t){for(var h=0;h<t.length;h++)for(var s=0;s<t[h].length;s++){var d=t[h][s];p[+d]=!1,r[d]={}}c(o),o=o+1}else o=f}if(!L)return M}},16134:function(G,H,e){var y=e(36672);G.exports=function(){return y(this).length=0,this}},4892:function(G,H,e){G.exports=e(64404)()?Array.from:e(49441)},64404:function(G){G.exports=function(){var H=Array.from,e,y;return typeof H!="function"?!1:(e=["raz","dwa"],y=H(e),!!(y&&y!==e&&y[1]==="dwa"))}},49441:function(G,H,e){var y=e(8260).iterator,P=e(73051),a=e(33717),L=e(35976),M=e(78513),v=e(36672),p=e(95296),r=e(87963),t=Array.isArray,o=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},c=Object.defineProperty;G.exports=function(u){var l=arguments[1],g=arguments[2],f,T,h,s,d,A,w,C,b,S;if(u=Object(v(u)),p(l)&&M(l),!this||this===Array||!a(this)){if(!l){if(P(u))return d=u.length,d!==1?Array.apply(null,u):(s=new Array(1),s[0]=u[0],s);if(t(u)){for(s=new Array(d=u.length),T=0;T<d;++T)s[T]=u[T];return s}}s=[]}else f=this;if(!t(u)){if((b=u[y])!==void 0){for(w=M(b).call(u),f&&(s=new f),C=w.next(),T=0;!C.done;)S=l?o.call(l,g,C.value,T):C.value,f?(n.value=S,c(s,T,n)):s[T]=S,C=w.next(),++T;d=T}else if(r(u)){for(d=u.length,f&&(s=new f),T=0,h=0;T<d;++T)S=u[T],T+1<d&&(A=S.charCodeAt(0),A>=55296&&A<=56319&&(S+=u[++T])),S=l?o.call(l,g,S,h):S,f?(n.value=S,c(s,h,n)):s[h]=S,++h;d=h}}if(d===void 0)for(d=L(u.length),f&&(s=new f(d)),T=0;T<d;++T)S=l?o.call(l,g,u[T],T):u[T],f?(n.value=S,c(s,T,n)):s[T]=S;return f&&(n.value=null,s.length=d),s}},73051:function(G){var H=Object.prototype.toString,e=H.call(function(){return arguments}());G.exports=function(y){return H.call(y)===e}},33717:function(G){var H=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(y){return typeof y=="function"&&e(H.call(y))}},52345:function(G){G.exports=function(){}},9953:function(G,H,e){G.exports=e(90436)()?Math.sign:e(6069)},90436:function(G){G.exports=function(){var H=Math.sign;return typeof H!="function"?!1:H(10)===1&&H(-20)===-1}},6069:function(G){G.exports=function(H){return H=Number(H),isNaN(H)||H===0?H:H>0?1:-1}},56247:function(G,H,e){var y=e(9953),P=Math.abs,a=Math.floor;G.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:y(L)*a(P(L)))}},35976:function(G,H,e){var y=e(56247),P=Math.max;G.exports=function(a){return P(0,y(a))}},67260:function(G,H,e){var y=e(78513),P=e(36672),a=Function.prototype.bind,L=Function.prototype.call,M=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,r){return function(t,o){var n,c=arguments[2],u=arguments[3];return t=Object(P(t)),y(o),n=M(t),u&&n.sort(typeof u=="function"?a.call(u,t):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(l,g){return v.call(t,l)?L.call(o,c,t[l],l,t,g):r})}}},95879:function(G,H,e){G.exports=e(73583)()?Object.assign:e(34205)},73583:function(G){G.exports=function(){var H=Object.assign,e;return typeof H!="function"?!1:(e={foo:"raz"},H(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(G,H,e){var y=e(68700),P=e(36672),a=Math.max;G.exports=function(L,M){var v,p,r=a(arguments.length,2),t;for(L=Object(P(L)),t=function(o){try{L[o]=M[o]}catch(n){v||(v=n)}},p=1;p<r;++p)M=arguments[p],y(M).forEach(t);if(v!==void 0)throw v;return L}},19012:function(G,H,e){var y=e(4892),P=e(95879),a=e(36672);G.exports=function(L){var M=Object(a(L)),v=arguments[1],p=Object(arguments[2]);if(M!==L&&!v)return M;var r={};return v?y(v,function(t){(p.ensure||t in L)&&(r[t]=L[t])}):P(r,L),r}},52818:function(G,H,e){var y=Object.create,P;e(33247)()||(P=e(51882)),G.exports=function(){var a,L,M;return!P||P.level!==1?y:(a={},L={},M={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=M}),Object.defineProperties(a,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,p){return y(v===null?a:v,p)})}()},96437:function(G,H,e){G.exports=e(67260)("forEach")},99611:function(G,H,e){var y=e(95296),P={function:!0,object:!0};G.exports=function(a){return y(a)&&P[typeof a]||!1}},95296:function(G,H,e){var y=e(52345)();G.exports=function(P){return P!==y&&P!==null}},68700:function(G,H,e){G.exports=e(13895)()?Object.keys:e(25217)},13895:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(G,H,e){var y=e(95296),P=Object.keys;G.exports=function(a){return P(y(a)?Object(a):a)}},16906:function(G,H,e){var y=e(78513),P=e(96437),a=Function.prototype.call;G.exports=function(L,M){var v={},p=arguments[2];return y(M),P(L,function(r,t,o,n){v[t]=a.call(M,p,r,t,o,n)}),v}},21780:function(G,H,e){var y=e(95296),P=Array.prototype.forEach,a=Object.create,L=function(M,v){var p;for(p in M)v[p]=M[p]};G.exports=function(M){var v=a(null);return P.call(arguments,function(p){y(p)&&L(Object(p),v)}),v}},1496:function(G,H,e){G.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(G){var H=Object.create,e=Object.getPrototypeOf,y={};G.exports=function(){var P=Object.setPrototypeOf,a=arguments[0]||H;return typeof P!="function"?!1:e(P(a(null),y))===y}},51882:function(G,H,e){var y=e(99611),P=e(36672),a=Object.prototype.isPrototypeOf,L=Object.defineProperty,M={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||y(r))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(o,n){return t.call(v(o,n),n),o}):r=function(o,n){return v(o,n).__proto__=n,o}:r=function o(n,c){var u;return v(n,c),u=a.call(o.nullPolyfill,n),u&&delete o.nullPolyfill.__proto__,c===null&&(c=o.nullPolyfill),n.__proto__=c,u&&L(o.nullPolyfill,"__proto__",M),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o){try{t=o.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(52818)},78513:function(G){G.exports=function(H){if(typeof H!="function")throw new TypeError(H+" is not a function");return H}},98976:function(G,H,e){var y=e(99611);G.exports=function(P){if(!y(P))throw new TypeError(P+" is not an Object");return P}},36672:function(G,H,e){var y=e(95296);G.exports=function(P){if(!y(P))throw new TypeError("Cannot use null or undefined");return P}},66741:function(G,H,e){G.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(G){var H="razdwatrzy";G.exports=function(){return typeof H.contains!="function"?!1:H.contains("dwa")===!0&&H.contains("foo")===!1}},60381:function(G){var H=String.prototype.indexOf;G.exports=function(e){return H.call(this,e,arguments[1])>-1}},87963:function(G){var H=Object.prototype.toString,e=H.call("");G.exports=function(y){return typeof y=="string"||y&&typeof y=="object"&&(y instanceof String||H.call(y)===e)||!1}},43043:function(G){var H=Object.create(null),e=Math.random;G.exports=function(){var y;do y=e().toString(36).slice(2);while(H[y]);return y}},32411:function(G,H,e){var y=e(1496),P=e(66741),a=e(62072),L=e(8260),M=e(95426),v=Object.defineProperty,p;p=G.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");M.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",a("",t))},y&&y(p,M),delete p.prototype.constructor,p.prototype=Object.create(M.prototype,{_resolve:a(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,L.toStringTag,a("c","Array Iterator"))},27515:function(G,H,e){var y=e(73051),P=e(78513),a=e(87963),L=e(66661),M=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(r,t){var o,n=arguments[2],c,u,l,g,f,T,h;if(M(r)||y(r)?o="array":a(r)?o="string":r=L(r),P(t),u=function(){l=!0},o==="array"){p.call(r,function(s){return v.call(t,n,s,u),l});return}if(o==="string"){for(f=r.length,g=0;g<f&&(T=r[g],g+1<f&&(h=T.charCodeAt(0),h>=55296&&h<=56319&&(T+=r[++g])),v.call(t,n,T,u),!l);++g);return}for(c=r.next();!c.done;){if(v.call(t,n,c.value,u),l)return;c=r.next()}}},66661:function(G,H,e){var y=e(73051),P=e(87963),a=e(32411),L=e(259),M=e(58095),v=e(8260).iterator;G.exports=function(p){return typeof M(p)[v]=="function"?p[v]():y(p)?new a(p):P(p)?new L(p):new a(p)}},95426:function(G,H,e){var y=e(16134),P=e(95879),a=e(78513),L=e(36672),M=e(62072),v=e(55174),p=e(8260),r=Object.defineProperty,t=Object.defineProperties,o;G.exports=o=function(n,c){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");t(this,{__list__:M("w",L(n)),__context__:M("w",c),__nextIndex__:M("w",0)}),c&&(a(c.on),c.on("_add",this._onAdd),c.on("_delete",this._onDelete),c.on("_clear",this._onClear))},delete o.prototype.constructor,t(o.prototype,P({_next:M(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:M(function(){return this._createResult(this._next())}),_createResult:M(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:M(function(n){return this.__list__[n]}),_unBind:M(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:M(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:M(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",M("c",[n]));return}this.__redo__.forEach(function(c,u){c>=n&&(this.__redo__[u]=++c)},this),this.__redo__.push(n)}}),_onDelete:M(function(n){var c;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(c=this.__redo__.indexOf(n),c!==-1&&this.__redo__.splice(c,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:M(function(){this.__redo__&&y.call(this.__redo__),this.__nextIndex__=0})}))),r(o.prototype,p.iterator,M(function(){return this}))},35940:function(G,H,e){var y=e(73051),P=e(95296),a=e(87963),L=e(8260).iterator,M=Array.isArray;G.exports=function(v){return P(v)?M(v)||a(v)||y(v)?!0:typeof v[L]=="function":!1}},259:function(G,H,e){var y=e(1496),P=e(62072),a=e(8260),L=e(95426),M=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),M(this,"__length__",P("",p.length))},y&&y(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),M(v.prototype,a.toStringTag,P("c","String Iterator"))},58095:function(G,H,e){var y=e(35940);G.exports=function(P){if(!y(P))throw new TypeError(P+" is not iterable");return P}},73523:function(G){function H(y,P){if(y==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(y),L=1;L<arguments.length;L++){var M=arguments[L];if(M!=null)for(var v=Object.keys(Object(M)),p=0,r=v.length;p<r;p++){var t=v[p],o=Object.getOwnPropertyDescriptor(M,t);o!==void 0&&o.enumerable&&(a[t]=M[t])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:H})}G.exports={assign:H,polyfill:e}},8260:function(G,H,e){G.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(G,H,e){var y=e(94908),P={object:!0,symbol:!0};G.exports=function(){var a=y.Symbol,L;if(typeof a!="function")return!1;L=a("test symbol");try{String(L)}catch{return!1}return!(!P[typeof a.iterator]||!P[typeof a.toPrimitive]||!P[typeof a.toStringTag])}},82276:function(G){G.exports=function(H){return H?typeof H=="symbol"?!0:!H.constructor||H.constructor.name!=="Symbol"?!1:H[H.constructor.toStringTag]==="Symbol":!1}},29366:function(G,H,e){var y=e(62072),P=Object.create,a=Object.defineProperty,L=Object.prototype,M=P(null);G.exports=function(v){for(var p=0,r,t;M[v+(p||"")];)++p;return v+=p||"",M[v]=!0,r="@@"+v,a(L,r,y.gs(null,function(o){t||(t=!0,a(this,r,y(o)),t=!1)})),r}},92842:function(G,H,e){var y=e(62072),P=e(94908).Symbol;G.exports=function(a){return Object.defineProperties(a,{hasInstance:y("",P&&P.hasInstance||a("hasInstance")),isConcatSpreadable:y("",P&&P.isConcatSpreadable||a("isConcatSpreadable")),iterator:y("",P&&P.iterator||a("iterator")),match:y("",P&&P.match||a("match")),replace:y("",P&&P.replace||a("replace")),search:y("",P&&P.search||a("search")),species:y("",P&&P.species||a("species")),split:y("",P&&P.split||a("split")),toPrimitive:y("",P&&P.toPrimitive||a("toPrimitive")),toStringTag:y("",P&&P.toStringTag||a("toStringTag")),unscopables:y("",P&&P.unscopables||a("unscopables"))})}},13304:function(G,H,e){var y=e(62072),P=e(53308),a=Object.create(null);G.exports=function(L){return Object.defineProperties(L,{for:y(function(M){return a[M]?a[M]:a[M]=L(String(M))}),keyFor:y(function(M){var v;P(M);for(v in a)if(a[v]===M)return v})})}},18415:function(G,H,e){var y=e(62072),P=e(53308),a=e(94908).Symbol,L=e(29366),M=e(92842),v=e(13304),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,o,n,c;if(typeof a=="function")try{String(a()),c=!0}catch{}else a=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return o(l)},G.exports=o=function u(l){var g;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return c?a(l):(g=p(n.prototype),l=l===void 0?"":String(l),r(g,{__description__:y("",l),__name__:y("",L(l))}))},M(o),v(o),r(n.prototype,{constructor:y(o),toString:y("",function(){return this.__name__})}),r(o.prototype,{toString:y(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:y(function(){return P(this)})}),t(o.prototype,o.toPrimitive,y("",function(){var u=P(this);return typeof u=="symbol"?u:u.toString()})),t(o.prototype,o.toStringTag,y("c","Symbol")),t(n.prototype,o.toStringTag,y("c",o.prototype[o.toStringTag])),t(n.prototype,o.toPrimitive,y("c",o.prototype[o.toPrimitive]))},53308:function(G,H,e){var y=e(82276);G.exports=function(P){if(!y(P))throw new TypeError(P+" is not a symbol");return P}},83522:function(G,H,e){G.exports=e(96402)()?WeakMap:e(329)},96402:function(G){G.exports=function(){var H,e;if(typeof WeakMap!="function")return!1;try{H=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(H)!=="[object WeakMap]"||typeof H.set!="function"||H.set({},1)!==H||typeof H.delete!="function"||typeof H.has!="function"||H.get(e)!=="one")}},96416:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(G,H,e){var y=e(95296),P=e(1496),a=e(98976),L=e(36672),M=e(43043),v=e(62072),p=e(66661),r=e(27515),t=e(8260).toStringTag,o=e(96416),n=Array.isArray,c=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,g;G.exports=g=function(){var f=arguments[0],T;if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return T=o&&P&&WeakMap!==g?P(new WeakMap,l(this)):this,y(f)&&(n(f)||(f=p(f))),c(T,"__weakMapData__",v("c","$weakMap$"+M())),f&&r(f,function(h){L(h),T.set(h[0],h[1])}),T},o&&(P&&P(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:v(g)})),Object.defineProperties(g.prototype,{delete:v(function(f){return u.call(a(f),this.__weakMapData__)?(delete f[this.__weakMapData__],!0):!1}),get:v(function(f){if(u.call(a(f),this.__weakMapData__))return f[this.__weakMapData__]}),has:v(function(f){return u.call(a(f),this.__weakMapData__)}),set:v(function(f,T){return c(a(f),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),c(g.prototype,t,v("c","WeakMap"))},15398:function(G){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(d,A,w){return Function.prototype.apply.call(d,A,w)},y;H&&typeof H.ownKeys=="function"?y=H.ownKeys:Object.getOwnPropertySymbols?y=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:y=function(d){return Object.getOwnPropertyNames(d)};function P(s){console&&console.warn&&console.warn(s)}var a=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}G.exports=L,G.exports.once=f,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var M=10;function v(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(s){if(typeof s!="number"||s<0||a(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");M=s}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||a(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(s){return s._maxListeners===void 0?L.defaultMaxListeners:s._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var A=[],w=1;w<arguments.length;w++)A.push(arguments[w]);var C=d==="error",b=this._events;if(b!==void 0)C=C&&b.error===void 0;else if(!C)return!1;if(C){var S;if(A.length>0&&(S=A[0]),S instanceof Error)throw S;var x=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw x.context=S,x}var i=b[d];if(i===void 0)return!1;if(typeof i=="function")e(i,this,A);else for(var E=i.length,m=u(i,E),w=0;w<E;++w)e(m[w],this,A);return!0};function r(s,d,A,w){var C,b,S;if(v(A),b=s._events,b===void 0?(b=s._events=Object.create(null),s._eventsCount=0):(b.newListener!==void 0&&(s.emit("newListener",d,A.listener?A.listener:A),b=s._events),S=b[d]),S===void 0)S=b[d]=A,++s._eventsCount;else if(typeof S=="function"?S=b[d]=w?[A,S]:[S,A]:w?S.unshift(A):S.push(A),C=p(s),C>0&&S.length>C&&!S.warned){S.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=s,x.type=d,x.count=S.length,P(x)}return s}L.prototype.addListener=function(d,A){return r(this,d,A,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,A){return r(this,d,A,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(s,d,A){var w={fired:!1,wrapFn:void 0,target:s,type:d,listener:A},C=t.bind(w);return C.listener=A,w.wrapFn=C,C}L.prototype.once=function(d,A){return v(A),this.on(d,o(this,d,A)),this},L.prototype.prependOnceListener=function(d,A){return v(A),this.prependListener(d,o(this,d,A)),this},L.prototype.removeListener=function(d,A){var w,C,b,S,x;if(v(A),C=this._events,C===void 0)return this;if(w=C[d],w===void 0)return this;if(w===A||w.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,w.listener||A));else if(typeof w!="function"){for(b=-1,S=w.length-1;S>=0;S--)if(w[S]===A||w[S].listener===A){x=w[S].listener,b=S;break}if(b<0)return this;b===0?w.shift():l(w,b),w.length===1&&(C[d]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",d,x||A)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var A,w,C;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var b=Object.keys(w),S;for(C=0;C<b.length;++C)S=b[C],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=w[d],typeof A=="function")this.removeListener(d,A);else if(A!==void 0)for(C=A.length-1;C>=0;C--)this.removeListener(d,A[C]);return this};function n(s,d,A){var w=s._events;if(w===void 0)return[];var C=w[d];return C===void 0?[]:typeof C=="function"?A?[C.listener||C]:[C]:A?g(C):u(C,C.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(s,d){return typeof s.listenerCount=="function"?s.listenerCount(d):c.call(s,d)},L.prototype.listenerCount=c;function c(s){var d=this._events;if(d!==void 0){var A=d[s];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]};function u(s,d){for(var A=new Array(d),w=0;w<d;++w)A[w]=s[w];return A}function l(s,d){for(;d+1<s.length;d++)s[d]=s[d+1];s.pop()}function g(s){for(var d=new Array(s.length),A=0;A<d.length;++A)d[A]=s[A].listener||s[A];return d}function f(s,d){return new Promise(function(A,w){function C(S){s.removeListener(d,b),w(S)}function b(){typeof s.removeListener=="function"&&s.removeListener("error",C),A([].slice.call(arguments))}h(s,d,b,{once:!0}),d!=="error"&&T(s,C,{once:!0})})}function T(s,d,A){typeof s.on=="function"&&h(s,"error",d,A)}function h(s,d,A,w){if(typeof s.on=="function")w.once?s.once(d,A):s.on(d,A);else if(typeof s.addEventListener=="function")s.addEventListener(d,function C(b){w.once&&s.removeEventListener(d,C),A(b)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s)}},60774:function(G){var H=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return H()}try{return __global__||H()}finally{delete Object.prototype.__global__}}()},94908:function(G,H,e){G.exports=e(51152)()?globalThis:e(60774)},51152:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(G,H,e){var y=e(18546);G.exports=function(P){var a=typeof P;if(a==="string"){var L=P;if(P=+P,P===0&&y(L))return!1}else if(a!=="number")return!1;return P-P<1}},30120:function(G,H,e){var y=e(90660);G.exports=P;function P(a,L,M){if(!a)throw new TypeError("must specify data as first parameter");if(M=+(M||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,p=a.length*v,r,t,o,n;(!L||typeof L=="string")&&(L=new(y(L||"float32"))(p+M));var c=L.length-M;if(p!==c)throw new Error("source length "+p+" ("+v+"x"+a.length+") does not match destination length "+c);for(r=0,o=M;r<a.length;r++)for(t=0;t<v;t++)L[o++]=a[r][t]===null?NaN:a[r][t]}else if(!L||typeof L=="string"){var u=y(L||"float32");if(Array.isArray(a)||L==="array")for(L=new u(a.length+M),r=0,o=M,n=L.length;o<n;o++,r++)L[o]=a[r]===null?NaN:a[r];else M===0?L=new u(a):(L=new u(a.length+M),L.set(a,M))}else L.set(a,M);return L}},68016:function(G,H,e){var y=e(53313),P=[32,126];G.exports=a;function a(L){L=L||{};var M=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||P;if(p&&typeof p!="string"&&(p=y(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var o=[],n=t[0],c=0;n<=t[1];n++)o[c++]=String.fromCharCode(n);t=o}M=M.slice(),v.width=M[0],v.height=M[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=p,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,g=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,g),(l+=r[0])>M[0]-r[0]/2&&(l=r[0]/2,g+=r[1]);return v}},32879:function(G){G.exports=H,H.canvas=document.createElement("canvas"),H.cache={};function H(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var M=Array.isArray(L.family)?L.family.join(", "):L.family;if(!M)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,p,v].join(" ")+"px "+M,o=L.origin||"top";if(H.cache[M]&&v<=H.cache[M].em)return e(H.cache[M],o);var n=L.canvas||H.canvas,c=n.getContext("2d"),u={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,c.font=t;var g="H",f={top:0};c.clearRect(0,0,l,l),c.textBaseline="top",c.fillStyle="black",c.fillText(g,0,0);var T=y(c.getImageData(0,0,l,l));c.clearRect(0,0,l,l),c.textBaseline="bottom",c.fillText(g,0,l);var h=y(c.getImageData(0,0,l,l));f.lineHeight=f.bottom=l-h+T,c.clearRect(0,0,l,l),c.textBaseline="alphabetic",c.fillText(g,0,l);var s=y(c.getImageData(0,0,l,l)),d=l-s-1+T;f.baseline=f.alphabetic=d,c.clearRect(0,0,l,l),c.textBaseline="middle",c.fillText(g,0,l*.5);var A=y(c.getImageData(0,0,l,l));f.median=f.middle=l-A-1+T-l*.5,c.clearRect(0,0,l,l),c.textBaseline="hanging",c.fillText(g,0,l*.5);var w=y(c.getImageData(0,0,l,l));f.hanging=l-w-1+T-l*.5,c.clearRect(0,0,l,l),c.textBaseline="ideographic",c.fillText(g,0,l);var C=y(c.getImageData(0,0,l,l));if(f.ideographic=l-C-1+T,u.upper&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.upper,0,0),f.upper=y(c.getImageData(0,0,l,l)),f.capHeight=f.baseline-f.upper),u.lower&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.lower,0,0),f.lower=y(c.getImageData(0,0,l,l)),f.xHeight=f.baseline-f.lower),u.tittle&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.tittle,0,0),f.tittle=y(c.getImageData(0,0,l,l))),u.ascent&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.ascent,0,0),f.ascent=y(c.getImageData(0,0,l,l))),u.descent&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.descent,0,0),f.descent=P(c.getImageData(0,0,l,l))),u.overshoot){c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.overshoot,0,0);var b=P(c.getImageData(0,0,l,l));f.overshoot=b-d}for(var S in f)f[S]/=v;return f.em=v,H.cache[M]=f,e(f,o)}function e(a,L){var M={};typeof L=="string"&&(L=a[L]);for(var v in a)v!=="em"&&(M[v]=a[v]-L);return M}function y(a){for(var L=a.height,M=a.data,v=3;v<M.length;v+=4)if(M[v]!==0)return Math.floor((v-3)*.25/L)}function P(a){for(var L=a.height,M=a.data,v=M.length-1;v>0;v-=4)if(M[v]!==0)return Math.floor((v-3)*.25/L)}},31353:function(G,H,e){var y=e(85395),P=Object.prototype.toString,a=Object.prototype.hasOwnProperty,L=function(t,o,n){for(var c=0,u=t.length;c<u;c++)a.call(t,c)&&(n==null?o(t[c],c,t):o.call(n,t[c],c,t))},M=function(t,o,n){for(var c=0,u=t.length;c<u;c++)n==null?o(t.charAt(c),c,t):o.call(n,t.charAt(c),c,t)},v=function(t,o,n){for(var c in t)a.call(t,c)&&(n==null?o(t[c],c,t):o.call(n,t[c],c,t))},p=function(t,o,n){if(!y(o))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=n),P.call(t)==="[object Array]"?L(t,o,c):typeof t=="string"?M(t,o,c):v(t,o,c)};G.exports=p},73047:function(G){var H="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,y=Object.prototype.toString,P="[object Function]";G.exports=function(L){var M=this;if(typeof M!="function"||y.call(M)!==P)throw new TypeError(H+M);for(var v=e.call(arguments,1),p,r=function(){if(this instanceof p){var u=M.apply(this,v.concat(e.call(arguments)));return Object(u)===u?u:this}else return M.apply(L,v.concat(e.call(arguments)))},t=Math.max(0,M.length-v.length),o=[],n=0;n<t;n++)o.push("$"+n);if(p=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(r),M.prototype){var c=function(){};c.prototype=M.prototype,p.prototype=new c,c.prototype=null}return p}},77575:function(G,H,e){var y=e(73047);G.exports=Function.prototype.bind||y},86249:function(G){G.exports=H;function H(e,y){if(typeof e!="string")throw new TypeError("must specify type string");if(y=y||{},typeof document>"u"&&!y.canvas)return null;var P=y.canvas||document.createElement("canvas");typeof y.width=="number"&&(P.width=y.width),typeof y.height=="number"&&(P.height=y.height);var a=y,L;try{var M=[e];e.indexOf("webgl")===0&&M.push("experimental-"+e);for(var v=0;v<M.length;v++)if(L=P.getContext(M[v],a),L)return L}catch{L=null}return L||null}},68318:function(G,H,e){var y,P=SyntaxError,a=Function,L=TypeError,M=function(E){try{return a('"use strict"; return ('+E+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(57877)(),o=Object.getPrototypeOf||function(E){return E.__proto__},n={},c=typeof Uint8Array>"u"?y:o(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?y:ArrayBuffer,"%ArrayIteratorPrototype%":t?o([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?y:Atomics,"%BigInt%":typeof BigInt>"u"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?y:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t?o(o([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map>"u"?y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t?y:o(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?y:Promise,"%Proxy%":typeof Proxy>"u"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t?y:o(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t?o(""[Symbol.iterator]()):y,"%Symbol%":t?Symbol:y,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":c,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?y:WeakSet};try{null.error}catch(E){var l=o(o(E));u["%Error.prototype%"]=l}var g=function E(m){var k;if(m==="%AsyncFunction%")k=M("async function () {}");else if(m==="%GeneratorFunction%")k=M("function* () {}");else if(m==="%AsyncGeneratorFunction%")k=M("async function* () {}");else if(m==="%AsyncGenerator%"){var I=E("%AsyncGeneratorFunction%");I&&(k=I.prototype)}else if(m==="%AsyncIteratorPrototype%"){var U=E("%AsyncGenerator%");U&&(k=o(U.prototype))}return u[m]=k,k},f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=e(77575),h=e(35065),s=T.call(Function.call,Array.prototype.concat),d=T.call(Function.apply,Array.prototype.splice),A=T.call(Function.call,String.prototype.replace),w=T.call(Function.call,String.prototype.slice),C=T.call(Function.call,RegExp.prototype.exec),b=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,x=function(m){var k=w(m,0,1),I=w(m,-1);if(k==="%"&&I!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&k!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var U=[];return A(m,b,function(z,F,B,O){U[U.length]=B?A(O,S,"$1"):F||z}),U},i=function(m,k){var I=m,U;if(h(f,I)&&(U=f[I],I="%"+U[0]+"%"),h(u,I)){var z=u[I];if(z===n&&(z=g(I)),typeof z>"u"&&!k)throw new L("intrinsic "+m+" exists, but is not available. Please file an issue!");return{alias:U,name:I,value:z}}throw new P("intrinsic "+m+" does not exist!")};G.exports=function(m,k){if(typeof m!="string"||m.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new L('"allowMissing" argument must be a boolean');if(C(/^%?[^%]*%?$/,m)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=x(m),U=I.length>0?I[0]:"",z=i("%"+U+"%",k),F=z.name,B=z.value,O=!1,N=z.alias;N&&(U=N[0],d(I,s([0,1],N)));for(var Y=1,$=!0;Y<I.length;Y+=1){var te=I[Y],ie=w(te,0,1),ce=w(te,-1);if((ie==='"'||ie==="'"||ie==="`"||ce==='"'||ce==="'"||ce==="`")&&ie!==ce)throw new P("property names with quotes must have matching quotes");if((te==="constructor"||!$)&&(O=!0),U+="."+te,F="%"+U+"%",h(u,F))B=u[F];else if(B!=null){if(!(te in B)){if(!k)throw new L("base intrinsic for "+m+" exists, but the property is not available.");return}if(v&&Y+1>=I.length){var J=v(B,te);$=!!J,$&&"get"in J&&!("originalValue"in J.get)?B=J.get:B=B[te]}else $=h(B,te),B=B[te];$&&!O&&(u[F]=B)}}return B}},85400:function(G){G.exports=H;function H(e,y){var P=y[0],a=y[1],L=y[2],M=y[3],v=y[4],p=y[5],r=y[6],t=y[7],o=y[8],n=y[9],c=y[10],u=y[11],l=y[12],g=y[13],f=y[14],T=y[15];return e[0]=p*(c*T-u*f)-n*(r*T-t*f)+g*(r*u-t*c),e[1]=-(a*(c*T-u*f)-n*(L*T-M*f)+g*(L*u-M*c)),e[2]=a*(r*T-t*f)-p*(L*T-M*f)+g*(L*t-M*r),e[3]=-(a*(r*u-t*c)-p*(L*u-M*c)+n*(L*t-M*r)),e[4]=-(v*(c*T-u*f)-o*(r*T-t*f)+l*(r*u-t*c)),e[5]=P*(c*T-u*f)-o*(L*T-M*f)+l*(L*u-M*c),e[6]=-(P*(r*T-t*f)-v*(L*T-M*f)+l*(L*t-M*r)),e[7]=P*(r*u-t*c)-v*(L*u-M*c)+o*(L*t-M*r),e[8]=v*(n*T-u*g)-o*(p*T-t*g)+l*(p*u-t*n),e[9]=-(P*(n*T-u*g)-o*(a*T-M*g)+l*(a*u-M*n)),e[10]=P*(p*T-t*g)-v*(a*T-M*g)+l*(a*t-M*p),e[11]=-(P*(p*u-t*n)-v*(a*u-M*n)+o*(a*t-M*p)),e[12]=-(v*(n*f-c*g)-o*(p*f-r*g)+l*(p*c-r*n)),e[13]=P*(n*f-c*g)-o*(a*f-L*g)+l*(a*c-L*n),e[14]=-(P*(p*f-r*g)-v*(a*f-L*g)+l*(a*r-L*p)),e[15]=P*(p*c-r*n)-v*(a*c-L*n)+o*(a*r-L*p),e}},42331:function(G){G.exports=H;function H(e){var y=new Float32Array(16);return y[0]=e[0],y[1]=e[1],y[2]=e[2],y[3]=e[3],y[4]=e[4],y[5]=e[5],y[6]=e[6],y[7]=e[7],y[8]=e[8],y[9]=e[9],y[10]=e[10],y[11]=e[11],y[12]=e[12],y[13]=e[13],y[14]=e[14],y[15]=e[15],y}},31042:function(G){G.exports=H;function H(e,y){return e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},11902:function(G){G.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(G){G.exports=H;function H(e){var y=e[0],P=e[1],a=e[2],L=e[3],M=e[4],v=e[5],p=e[6],r=e[7],t=e[8],o=e[9],n=e[10],c=e[11],u=e[12],l=e[13],g=e[14],f=e[15],T=y*v-P*M,h=y*p-a*M,s=y*r-L*M,d=P*p-a*v,A=P*r-L*v,w=a*r-L*p,C=t*l-o*u,b=t*g-n*u,S=t*f-c*u,x=o*g-n*l,i=o*f-c*l,E=n*f-c*g;return T*E-h*i+s*x+d*S-A*b+w*C}},27812:function(G){G.exports=H;function H(e,y){var P=y[0],a=y[1],L=y[2],M=y[3],v=P+P,p=a+a,r=L+L,t=P*v,o=a*v,n=a*p,c=L*v,u=L*p,l=L*r,g=M*v,f=M*p,T=M*r;return e[0]=1-n-l,e[1]=o+T,e[2]=c-f,e[3]=0,e[4]=o-T,e[5]=1-t-l,e[6]=u+g,e[7]=0,e[8]=c+f,e[9]=u-g,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(G){G.exports=H;function H(e,y,P){var a,L,M,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,a=Math.sin(y),L=Math.cos(y),M=1-L,e[0]=v*v*M+L,e[1]=p*v*M+r*a,e[2]=r*v*M-p*a,e[3]=0,e[4]=v*p*M-r*a,e[5]=p*p*M+L,e[6]=r*p*M+v*a,e[7]=0,e[8]=v*r*M+p*a,e[9]=p*r*M-v*a,e[10]=r*r*M+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(G){G.exports=H;function H(e,y,P){var a=y[0],L=y[1],M=y[2],v=y[3],p=a+a,r=L+L,t=M+M,o=a*p,n=a*r,c=a*t,u=L*r,l=L*t,g=M*t,f=v*p,T=v*r,h=v*t;return e[0]=1-(u+g),e[1]=n+h,e[2]=c-T,e[3]=0,e[4]=n-h,e[5]=1-(o+g),e[6]=l+f,e[7]=0,e[8]=c+T,e[9]=l-f,e[10]=1-(o+u),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},81472:function(G){G.exports=H;function H(e,y){return e[0]=y[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=y[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=y[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(G){G.exports=H;function H(e,y){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1,e}},75262:function(G){G.exports=H;function H(e,y){var P=Math.sin(y),a=Math.cos(y);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(G){G.exports=H;function H(e,y){var P=Math.sin(y),a=Math.cos(y);return e[0]=a,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(G){G.exports=H;function H(e,y){var P=Math.sin(y),a=Math.cos(y);return e[0]=a,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(G){G.exports=H;function H(e,y,P,a,L,M,v){var p=1/(P-y),r=1/(L-a),t=1/(M-v);return e[0]=M*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M*2*r,e[6]=0,e[7]=0,e[8]=(P+y)*p,e[9]=(L+a)*r,e[10]=(v+M)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*M*2*t,e[15]=0,e}},71551:function(G){G.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(G,H,e){G.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(G){G.exports=H;function H(e,y){var P=y[0],a=y[1],L=y[2],M=y[3],v=y[4],p=y[5],r=y[6],t=y[7],o=y[8],n=y[9],c=y[10],u=y[11],l=y[12],g=y[13],f=y[14],T=y[15],h=P*p-a*v,s=P*r-L*v,d=P*t-M*v,A=a*r-L*p,w=a*t-M*p,C=L*t-M*r,b=o*g-n*l,S=o*f-c*l,x=o*T-u*l,i=n*f-c*g,E=n*T-u*g,m=c*T-u*f,k=h*m-s*E+d*i+A*x-w*S+C*b;return k?(k=1/k,e[0]=(p*m-r*E+t*i)*k,e[1]=(L*E-a*m-M*i)*k,e[2]=(g*C-f*w+T*A)*k,e[3]=(c*w-n*C-u*A)*k,e[4]=(r*x-v*m-t*S)*k,e[5]=(P*m-L*x+M*S)*k,e[6]=(f*d-l*C-T*s)*k,e[7]=(o*C-c*d+u*s)*k,e[8]=(v*E-p*x+t*b)*k,e[9]=(a*x-P*E-M*b)*k,e[10]=(l*w-g*d+T*h)*k,e[11]=(n*d-o*w-u*h)*k,e[12]=(p*S-v*i-r*b)*k,e[13]=(P*i-a*S+L*b)*k,e[14]=(g*s-l*A-f*h)*k,e[15]=(o*A-n*s+c*h)*k,e):null}},65551:function(G,H,e){var y=e(71551);G.exports=P;function P(a,L,M,v){var p,r,t,o,n,c,u,l,g,f,T=L[0],h=L[1],s=L[2],d=v[0],A=v[1],w=v[2],C=M[0],b=M[1],S=M[2];return Math.abs(T-C)<1e-6&&Math.abs(h-b)<1e-6&&Math.abs(s-S)<1e-6?y(a):(u=T-C,l=h-b,g=s-S,f=1/Math.sqrt(u*u+l*l+g*g),u*=f,l*=f,g*=f,p=A*g-w*l,r=w*u-d*g,t=d*l-A*u,f=Math.sqrt(p*p+r*r+t*t),f?(f=1/f,p*=f,r*=f,t*=f):(p=0,r=0,t=0),o=l*t-g*r,n=g*p-u*t,c=u*r-l*p,f=Math.sqrt(o*o+n*n+c*c),f?(f=1/f,o*=f,n*=f,c*=f):(o=0,n=0,c=0),a[0]=p,a[1]=o,a[2]=u,a[3]=0,a[4]=r,a[5]=n,a[6]=l,a[7]=0,a[8]=t,a[9]=c,a[10]=g,a[11]=0,a[12]=-(p*T+r*h+t*s),a[13]=-(o*T+n*h+c*s),a[14]=-(u*T+l*h+g*s),a[15]=1,a)}},91362:function(G){G.exports=H;function H(e,y,P){var a=y[0],L=y[1],M=y[2],v=y[3],p=y[4],r=y[5],t=y[6],o=y[7],n=y[8],c=y[9],u=y[10],l=y[11],g=y[12],f=y[13],T=y[14],h=y[15],s=P[0],d=P[1],A=P[2],w=P[3];return e[0]=s*a+d*p+A*n+w*g,e[1]=s*L+d*r+A*c+w*f,e[2]=s*M+d*t+A*u+w*T,e[3]=s*v+d*o+A*l+w*h,s=P[4],d=P[5],A=P[6],w=P[7],e[4]=s*a+d*p+A*n+w*g,e[5]=s*L+d*r+A*c+w*f,e[6]=s*M+d*t+A*u+w*T,e[7]=s*v+d*o+A*l+w*h,s=P[8],d=P[9],A=P[10],w=P[11],e[8]=s*a+d*p+A*n+w*g,e[9]=s*L+d*r+A*c+w*f,e[10]=s*M+d*t+A*u+w*T,e[11]=s*v+d*o+A*l+w*h,s=P[12],d=P[13],A=P[14],w=P[15],e[12]=s*a+d*p+A*n+w*g,e[13]=s*L+d*r+A*c+w*f,e[14]=s*M+d*t+A*u+w*T,e[15]=s*v+d*o+A*l+w*h,e}},60378:function(G){G.exports=H;function H(e,y,P,a,L,M,v){var p=1/(y-P),r=1/(a-L),t=1/(M-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(y+P)*p,e[13]=(L+a)*r,e[14]=(v+M)*t,e[15]=1,e}},7864:function(G){G.exports=H;function H(e,y,P,a,L){var M=1/Math.tan(y/2),v=1/(a-L);return e[0]=M/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*a*v,e[15]=0,e}},35279:function(G){G.exports=H;function H(e,y,P,a){var L=Math.tan(y.upDegrees*Math.PI/180),M=Math.tan(y.downDegrees*Math.PI/180),v=Math.tan(y.leftDegrees*Math.PI/180),p=Math.tan(y.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(L+M);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(L-M)*t*.5,e[10]=a/(P-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*P/(P-a),e[15]=0,e}},65074:function(G){G.exports=H;function H(e,y,P,a){var L=a[0],M=a[1],v=a[2],p=Math.sqrt(L*L+M*M+v*v),r,t,o,n,c,u,l,g,f,T,h,s,d,A,w,C,b,S,x,i,E,m,k,I;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,M*=p,v*=p,r=Math.sin(P),t=Math.cos(P),o=1-t,n=y[0],c=y[1],u=y[2],l=y[3],g=y[4],f=y[5],T=y[6],h=y[7],s=y[8],d=y[9],A=y[10],w=y[11],C=L*L*o+t,b=M*L*o+v*r,S=v*L*o-M*r,x=L*M*o-v*r,i=M*M*o+t,E=v*M*o+L*r,m=L*v*o+M*r,k=M*v*o-L*r,I=v*v*o+t,e[0]=n*C+g*b+s*S,e[1]=c*C+f*b+d*S,e[2]=u*C+T*b+A*S,e[3]=l*C+h*b+w*S,e[4]=n*x+g*i+s*E,e[5]=c*x+f*i+d*E,e[6]=u*x+T*i+A*E,e[7]=l*x+h*i+w*E,e[8]=n*m+g*k+s*I,e[9]=c*m+f*k+d*I,e[10]=u*m+T*k+A*I,e[11]=l*m+h*k+w*I,y!==e&&(e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e)}},35545:function(G){G.exports=H;function H(e,y,P){var a=Math.sin(P),L=Math.cos(P),M=y[4],v=y[5],p=y[6],r=y[7],t=y[8],o=y[9],n=y[10],c=y[11];return y!==e&&(e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[4]=M*L+t*a,e[5]=v*L+o*a,e[6]=p*L+n*a,e[7]=r*L+c*a,e[8]=t*L-M*a,e[9]=o*L-v*a,e[10]=n*L-p*a,e[11]=c*L-r*a,e}},94918:function(G){G.exports=H;function H(e,y,P){var a=Math.sin(P),L=Math.cos(P),M=y[0],v=y[1],p=y[2],r=y[3],t=y[8],o=y[9],n=y[10],c=y[11];return y!==e&&(e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=M*L-t*a,e[1]=v*L-o*a,e[2]=p*L-n*a,e[3]=r*L-c*a,e[8]=M*a+t*L,e[9]=v*a+o*L,e[10]=p*a+n*L,e[11]=r*a+c*L,e}},15692:function(G){G.exports=H;function H(e,y,P){var a=Math.sin(P),L=Math.cos(P),M=y[0],v=y[1],p=y[2],r=y[3],t=y[4],o=y[5],n=y[6],c=y[7];return y!==e&&(e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=M*L+t*a,e[1]=v*L+o*a,e[2]=p*L+n*a,e[3]=r*L+c*a,e[4]=t*L-M*a,e[5]=o*L-v*a,e[6]=n*L-p*a,e[7]=c*L-r*a,e}},10789:function(G){G.exports=H;function H(e,y,P){var a=P[0],L=P[1],M=P[2];return e[0]=y[0]*a,e[1]=y[1]*a,e[2]=y[2]*a,e[3]=y[3]*a,e[4]=y[4]*L,e[5]=y[5]*L,e[6]=y[6]*L,e[7]=y[7]*L,e[8]=y[8]*M,e[9]=y[9]*M,e[10]=y[10]*M,e[11]=y[11]*M,e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},6726:function(G){G.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(G){G.exports=H;function H(e,y,P){var a=P[0],L=P[1],M=P[2],v,p,r,t,o,n,c,u,l,g,f,T;return y===e?(e[12]=y[0]*a+y[4]*L+y[8]*M+y[12],e[13]=y[1]*a+y[5]*L+y[9]*M+y[13],e[14]=y[2]*a+y[6]*L+y[10]*M+y[14],e[15]=y[3]*a+y[7]*L+y[11]*M+y[15]):(v=y[0],p=y[1],r=y[2],t=y[3],o=y[4],n=y[5],c=y[6],u=y[7],l=y[8],g=y[9],f=y[10],T=y[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=o,e[5]=n,e[6]=c,e[7]=u,e[8]=l,e[9]=g,e[10]=f,e[11]=T,e[12]=v*a+o*L+l*M+y[12],e[13]=p*a+n*L+g*M+y[13],e[14]=r*a+c*L+f*M+y[14],e[15]=t*a+u*L+T*M+y[15]),e}},88654:function(G){G.exports=H;function H(e,y){if(e===y){var P=y[1],a=y[2],L=y[3],M=y[6],v=y[7],p=y[11];e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=P,e[6]=y[9],e[7]=y[13],e[8]=a,e[9]=M,e[11]=y[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=y[0],e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=y[1],e[5]=y[5],e[6]=y[9],e[7]=y[13],e[8]=y[2],e[9]=y[6],e[10]=y[10],e[11]=y[14],e[12]=y[3],e[13]=y[7],e[14]=y[11],e[15]=y[15];return e}},42505:function(G,H,e){var y=e(72791),P=e(71299),a=e(98580),L=e(12018),M=e(83522),v=e(25075),p=e(68016),r=e(58404),t=e(18863),o=e(10973),n=e(25677),c=e(75686),u=e(53545),l=e(56131),g=e(32879),f=e(30120),T=e(13547),h=T.nextPow2,s=new M,d=!1;if(document.body){var A=document.body.appendChild(document.createElement("div"));A.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(A).fontStretch&&(d=!0),document.body.removeChild(A)}var w=function(S){C(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=L(S),this.shader=s.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),s.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(o(S)?S:{})};w.prototype.createShader=function(){var S=this.regl,x=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(E,m){return[m.atlas.width,m.atlas.height]},atlasDim:function(E,m){return[m.atlas.cols,m.atlas.rows]},atlas:function(E,m){return m.atlas.texture},charStep:function(E,m){return m.atlas.step},em:function(E,m){return m.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:S,draw:x,atlas:i}},w.prototype.update=function(S){var x=this;if(typeof S=="string")S={text:S};else if(!S)return;S=P(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(De){return parseFloat(De)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=t(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=f(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=w.baseFontSize+"px sans-serif");var i=!1,E=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(De,Ve){if(typeof De=="string")try{De=y.parse(De)}catch{De=y.parse(w.baseFontSize+"px "+De)}else De=y.parse(y.stringify(De));var at=y.stringify({size:w.baseFontSize,family:De.family,stretch:d?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style}),lt=n(De.size),$e=Math.round(lt[0]*c(lt[1]));if($e!==x.fontSize[Ve]&&(E=!0,x.fontSize[Ve]=$e),(!x.font[Ve]||at!=x.font[Ve].baseString)&&(i=!0,x.font[Ve]=w.fonts[at],!x.font[Ve])){var et=De.family.join(", "),ct=[De.style];De.style!=De.variant&&ct.push(De.variant),De.variant!=De.weight&&ct.push(De.weight),d&&De.weight!=De.stretch&&ct.push(De.stretch),x.font[Ve]={baseString:at,family:et,weight:De.weight,stretch:De.stretch,style:De.style,variant:De.variant,width:{},kerning:{},metrics:g(et,{origin:"top",fontSize:w.baseFontSize,fontStyle:ct.join(" ")})},w.fonts[at]=x.font[Ve]}}),(i||E)&&this.font.forEach(function(De,Ve){var at=y.stringify({size:x.fontSize[Ve],family:De.family,stretch:d?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style});if(x.fontAtlas[Ve]=x.shader.atlas[at],!x.fontAtlas[Ve]){var lt=De.metrics;x.shader.atlas[at]=x.fontAtlas[Ve]={fontString:at,step:Math.ceil(x.fontSize[Ve]*lt.bottom*.5)*2,em:x.fontSize[Ve],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:x.regl.texture()}}S.text==null&&(S.text=x.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var m=Array(S.position.length*.5),k=0;k<m.length;k++)m[k]=S.text;S.text=m}var I;if(S.text!=null||i){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var U=1;U<S.text.length;U++)this.textOffsets[U]=this.textOffsets[U-1]+S.text[U-1].length,this.count+=S.text[U].length,this.counts.push(S.text[U].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(De,Ve){w.atlasContext.font=De.baseString;for(var at=x.fontAtlas[Ve],lt=0;lt<x.text.length;lt++){var $e=x.text.charAt(lt);if(at.ids[$e]==null&&(at.ids[$e]=at.chars.length,at.chars.push($e),I.push($e)),De.width[$e]==null&&(De.width[$e]=w.atlasContext.measureText($e).width/w.baseFontSize,x.kerning)){var et=[];for(var ct in De.width)et.push(ct+$e,$e+ct);l(De.kerning,u(De.family,{pairs:et}))}}})}if(S.position)if(S.position.length>2){for(var z=!S.position[0].length,F=r.mallocFloat(this.count*2),B=0,O=0;B<this.counts.length;B++){var N=this.counts[B];if(z)for(var Y=0;Y<N;Y++)F[O++]=S.position[B*2],F[O++]=S.position[B*2+1];else for(var $=0;$<N;$++)F[O++]=S.position[B][0],F[O++]=S.position[B][1]}this.position.call?this.position({type:"float",data:F}):this.position=this.regl.buffer({type:"float",data:F}),r.freeFloat(F)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||i){var te=r.mallocUint8(this.count),ie=r.mallocFloat(this.count*2);this.textWidth=[];for(var ce=0,J=0;ce<this.counts.length;ce++){for(var Z=this.counts[ce],ae=this.font[ce]||this.font[0],j=this.fontAtlas[ce]||this.fontAtlas[0],q=0;q<Z;q++){var oe=this.text.charAt(J),Q=this.text.charAt(J-1);if(te[J]=j.ids[oe],ie[J*2]=ae.width[oe],q){var K=ie[J*2-2],se=ie[J*2],ne=ie[J*2-1],fe=ne+K*.5+se*.5;if(this.kerning){var ye=ae.kerning[Q+oe];ye&&(fe+=ye*.001)}ie[J*2+1]=fe}else ie[J*2+1]=ie[J*2]*.5;J++}this.textWidth.push(ie.length?ie[J*2-2]*.5+ie[J*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:te,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ie,type:"float",usage:"stream"}),r.freeUint8(te),r.freeFloat(ie),I.length&&this.font.forEach(function(De,Ve){var at=x.fontAtlas[Ve],lt=at.step,$e=Math.floor(w.maxAtlasSize/lt),et=Math.min($e,at.chars.length),ct=Math.ceil(at.chars.length/et),dt=h(et*lt),gt=h(ct*lt);at.width=dt,at.height=gt,at.rows=ct,at.cols=et,at.em&&at.texture({data:p({canvas:w.atlasCanvas,font:at.fontString,chars:at.chars,shape:[dt,gt],step:[lt,lt]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(De,Ve){var at=Array.isArray(x.align)?x.align.length>1?x.align[Ve]:x.align[0]:x.align;if(typeof at=="number")return at;switch(at){case"right":case"end":return-De;case"center":case"centre":case"middle":return-De*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(De,Ve){var at=(x.font[Ve]||x.font[0]).metrics,lt=0;return lt+=at.bottom*.5,typeof De=="number"?lt+=De-at.baseline:lt+=-at[De],lt*=-1,lt})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var Ee;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var Te=S.color.length;Ee=r.mallocUint8(Te);for(var ze=(S.color.subarray||S.color.slice).bind(S.color),ke=0;ke<Te;ke+=4)Ee.set(v(ze(ke,ke+4),"uint8"),ke)}else{var Se=S.color.length;Ee=r.mallocUint8(Se*4);for(var me=0;me<Se;me++)Ee.set(v(S.color[me]||0,"uint8"),me*4)}this.color=Ee}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var Ce=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ce){var Ne=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ne);for(var He=0;He<this.batch.length;He++)this.batch[He]={count:this.counts.length>1?this.counts[He]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[He]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(He*4,He*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[He]:this.opacity,baseline:this.baselineOffset[He]!=null?this.baselineOffset[He]:this.baselineOffset[0],align:this.align?this.alignOffset[He]!=null?this.alignOffset[He]:this.alignOffset[0]:0,atlas:this.fontAtlas[He]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(He*2,He*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function C(b){return typeof b=="function"&&b._gl&&b.prop&&b.texture&&b.buffer}G.exports=w},12018:function(G,H,e){var y=e(71299);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},a(r)?r={container:r}:L(r)?r={container:r}:M(r)?r={gl:r}:r=y(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}a(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(o){try{r.gl=r.canvas.getContext(o,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function a(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function M(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},56068:function(G){G.exports=function(H){typeof H=="string"&&(H=[H]);for(var e=[].slice.call(arguments,1),y=[],P=0;P<H.length-1;P++)y.push(H[P],e[P]||"");return y.push(H[P]),y.join("")}},40383:function(G,H,e){var y=e(68318),P=y("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}G.exports=P},57035:function(G,H,e){var y=e(54404),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=y,G.exports=P},38520:function(G,H,e){var y=e(54404);function P(){var a=!1;try{var L=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{a=!1}return a}G.exports=y&&P()},55622:function(G,H,e){var y=e(68318),P=y("%Object.defineProperty%",!0),a=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},G.exports=a},57877:function(G,H,e){var y=typeof Symbol<"u"&&Symbol,P=e(35638);G.exports=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},35638:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},y=Symbol("test"),P=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var a=42;e[y]=a;for(y in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==y||!Object.prototype.propertyIsEnumerable.call(e,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var M=Object.getOwnPropertyDescriptor(e,y);if(M.value!==a||M.enumerable!==!0)return!1}return!0}},84543:function(G,H,e){var y=e(35638);G.exports=function(){return y()&&!!Symbol.toStringTag}},35065:function(G,H,e){var y=e(77575);G.exports=y.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(G,H){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H.read=function(e,y,P,a,L){var M,v,p=L*8-a-1,r=(1<<p)-1,t=r>>1,o=-7,n=P?L-1:0,c=P?-1:1,u=e[y+n];for(n+=c,M=u&(1<<-o)-1,u>>=-o,o+=p;o>0;M=M*256+e[y+n],n+=c,o-=8);for(v=M&(1<<-o)-1,M>>=-o,o+=a;o>0;v=v*256+e[y+n],n+=c,o-=8);if(M===0)M=1-t;else{if(M===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,a),M=M-t}return(u?-1:1)*v*Math.pow(2,M-a)},H.write=function(e,y,P,a,L,M){var v,p,r,t=M*8-L-1,o=(1<<t)-1,n=o>>1,c=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=a?0:M-1,l=a?1:-1,g=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(p=isNaN(y)?1:0,v=o):(v=Math.floor(Math.log(y)/Math.LN2),y*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?y+=c/r:y+=c*Math.pow(2,1-n),y*r>=2&&(v++,r/=2),v+n>=o?(p=0,v=o):v+n>=1?(p=(y*r-1)*Math.pow(2,L),v=v+n):(p=y*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+u]=p&255,u+=l,p/=256,L-=8);for(v=v<<L|p,t+=L;t>0;e[P+u]=v&255,u+=l,v/=256,t-=8);e[P+u-l]|=g*128}},42018:function(G){typeof Object.create=="function"?G.exports=function(e,y){y&&(e.super_=y,e.prototype=Object.create(y.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,y){if(y){e.super_=y;var P=function(){};P.prototype=y.prototype,e.prototype=new P,e.prototype.constructor=e}}},47216:function(G,H,e){var y=e(84543)(),P=e(6614),a=P("Object.prototype.toString"),L=function(r){return y&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:a(r)==="[object Arguments]"},M=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&a(r)!=="[object Array]"&&a(r.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=M,G.exports=v?L:M},54404:function(G){G.exports=!0},85395:function(G){var H=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,y,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{y=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,y)}catch(T){T!==P&&(e=null)}else e=null;var a=/^\s*class\b/,L=function(h){try{var s=H.call(h);return a.test(s)}catch{return!1}},M=function(h){try{return L(h)?!1:(H.call(h),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",o="[object HTMLAllCollection]",n="[object HTML document.all class]",c="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var f=document.all;v.call(f)===v.call(document.all)&&(g=function(h){if((l||!h)&&(typeof h>"u"||typeof h=="object"))try{var s=v.call(h);return(s===o||s===n||s===c||s===p)&&h("")==null}catch{}return!1})}G.exports=e?function(h){if(g(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,y)}catch(s){if(s!==P)return!1}return!L(h)&&M(h)}:function(h){if(g(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(u)return M(h);if(L(h))return!1;var s=v.call(h);return s!==r&&s!==t&&!/^\[object HTML/.test(s)?!1:M(h)}},65481:function(G,H,e){var y=Object.prototype.toString,P=Function.prototype.toString,a=/^\s*(?:function)?\*/,L=e(84543)(),M=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(t){if(typeof t!="function")return!1;if(a.test(P.call(t)))return!0;if(!L){var o=y.call(t);return o==="[object GeneratorFunction]"}if(!M)return!1;if(typeof p>"u"){var n=v();p=n?M(n):!1}return M(t)===p}},62683:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(G){G.exports=function(e){return e!==e}},15567:function(G,H,e){var y=e(68222),P=e(17045),a=e(64274),L=e(14922),M=e(22442),v=y(L(),Number);P(v,{getPolyfill:L,implementation:a,shim:M}),G.exports=v},14922:function(G,H,e){var y=e(64274);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:y}},22442:function(G,H,e){var y=e(17045),P=e(14922);G.exports=function(){var L=P();return y(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},64941:function(G){G.exports=function(H){var e=typeof H;return H!==null&&(e==="object"||e==="function")}},10973:function(G){var H=Object.prototype.toString;G.exports=function(e){var y;return H.call(e)==="[object Object]"&&(y=Object.getPrototypeOf(e),y===null||y===Object.getPrototypeOf({}))}},18546:function(G){G.exports=function(H){for(var e=H.length,y,P=0;P<e;P++)if(y=H.charCodeAt(P),(y<9||y>13)&&y!==32&&y!==133&&y!==160&&y!==5760&&y!==6158&&(y<8192||y>8205)&&y!==8232&&y!==8233&&y!==8239&&y!==8287&&y!==8288&&y!==12288&&y!==65279)return!1;return!0}},89546:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(G,H,e){var y=e(31353),P=e(72077),a=e(6614),L=a("Object.prototype.toString"),M=e(84543)(),v=e(40383),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=a("Array.prototype.indexOf",!0)||function(g,f){for(var T=0;T<g.length;T+=1)if(g[T]===f)return T;return-1},o=a("String.prototype.slice"),n={},c=Object.getPrototypeOf;M&&v&&c&&y(r,function(l){var g=new p[l];if(Symbol.toStringTag in g){var f=c(g),T=v(f,Symbol.toStringTag);if(!T){var h=c(f);T=v(h,Symbol.toStringTag)}n[l]=T.get}});var u=function(g){var f=!1;return y(n,function(T,h){if(!f)try{f=T.call(g)===h}catch{}}),f};G.exports=function(g){if(!g||typeof g!="object")return!1;if(!M||!(Symbol.toStringTag in g)){var f=o(L(g),8,-1);return t(r,f)>-1}return v?u(g):!1}},27084:function(G){G.exports=Math.log2||function(H){return Math.log(H)*Math.LOG2E}},16825:function(G,H,e){G.exports=P;var y=e(74311);function P(a,L){L||(L=a,a=window);var M=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function o(A){var w=!1;return"altKey"in A&&(w=w||A.altKey!==r.alt,r.alt=!!A.altKey),"shiftKey"in A&&(w=w||A.shiftKey!==r.shift,r.shift=!!A.shiftKey),"ctrlKey"in A&&(w=w||A.ctrlKey!==r.control,r.control=!!A.ctrlKey),"metaKey"in A&&(w=w||A.metaKey!==r.meta,r.meta=!!A.metaKey),w}function n(A,w){var C=y.x(w),b=y.y(w);"buttons"in w&&(A=w.buttons|0),(A!==M||C!==v||b!==p||o(w))&&(M=A|0,v=C||0,p=b||0,L&&L(M,v,p,r))}function c(A){n(0,A)}function u(){(M||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,M=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function l(A){o(A)&&L&&L(M,v,p,r)}function g(A){y.buttons(A)===0?n(0,A):n(M,A)}function f(A){n(M|y.buttons(A),A)}function T(A){n(M&~y.buttons(A),A)}function h(){t||(t=!0,a.addEventListener("mousemove",g),a.addEventListener("mousedown",f),a.addEventListener("mouseup",T),a.addEventListener("mouseleave",c),a.addEventListener("mouseenter",c),a.addEventListener("mouseout",c),a.addEventListener("mouseover",c),a.addEventListener("blur",u),a.addEventListener("keyup",l),a.addEventListener("keydown",l),a.addEventListener("keypress",l),a!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function s(){t&&(t=!1,a.removeEventListener("mousemove",g),a.removeEventListener("mousedown",f),a.removeEventListener("mouseup",T),a.removeEventListener("mouseleave",c),a.removeEventListener("mouseenter",c),a.removeEventListener("mouseout",c),a.removeEventListener("mouseover",c),a.removeEventListener("blur",u),a.removeEventListener("keyup",l),a.removeEventListener("keydown",l),a.removeEventListener("keypress",l),a!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}h();var d={element:a};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(A){A?h():s()},enumerable:!0},buttons:{get:function(){return M},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},48956:function(G){var H={left:0,top:0};G.exports=e;function e(P,a,L){a=a||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var M=P.clientX||0,v=P.clientY||0,p=y(a);return L[0]=M-p.left,L[1]=v-p.top,L}function y(P){return P===window||P===document||P===document.body?H:P.getBoundingClientRect()}},74311:function(G,H){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var M=L.which;if(M===2)return 4;if(M===3)return 2;if(M>0)return 1<<M-1}else if("button"in L){var M=L.button;if(M===1)return 4;if(M===2)return 2;if(M>=0)return 1<<M}}return 0}H.buttons=e;function y(L){return L.target||L.srcElement||window}H.element=y;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var M=y(L),v=M.getBoundingClientRect();return L.clientX-v.left}return 0}H.x=P;function a(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var M=y(L),v=M.getBoundingClientRect();return L.clientY-v.top}return 0}H.y=a},1195:function(G,H,e){var y=e(75686);G.exports=P;function P(a,L,M){typeof a=="function"&&(M=!!L,L=a,a=window);var v=y("ex",a),p=function(r){M&&r.preventDefault();var t=r.deltaX||0,o=r.deltaY||0,n=r.deltaZ||0,c=r.deltaMode,u=1;switch(c){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,o*=u,n*=u,t||o||n)return L(t,o,n,r)};return a.addEventListener("wheel",p),p}},7417:function(G,H,e){var y;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,L,M){L[a]=L[a]||M(),G.exports?G.exports=L[a]:(y=(function(){return L[a]}).call(H,e,H,G),y!==void 0&&(G.exports=y))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,L,M,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(d,A,w,C){return Object.defineProperty(d,A,{value:w,writable:!0,configurable:C!==!1})}}catch{a=function(A,w,C){return A[w]=C,A}}M=function(){var d,A,w;function C(b,S){this.fn=b,this.self=S,this.next=void 0}return{add:function(S,x){w=new C(S,x),A?A.next=w:d=w,A=w,w=void 0},drain:function(){var S=d;for(d=A=L=void 0;S;)S.fn.call(S.self),S=S.next}}}();function r(s,d){M.add(s,d),L||(L=p(M.drain))}function t(s){var d,A=typeof s;return s!=null&&(A=="object"||A=="function")&&(d=s.then),typeof d=="function"?d:!1}function o(){for(var s=0;s<this.chain.length;s++)n(this,this.state===1?this.chain[s].success:this.chain[s].failure,this.chain[s]);this.chain.length=0}function n(s,d,A){var w,C;try{d===!1?A.reject(s.msg):(d===!0?w=s.msg:w=d.call(void 0,s.msg),w===A.promise?A.reject(TypeError("Promise-chain cycle")):(C=t(w))?C.call(w,A.resolve,A.reject):A.resolve(w))}catch(b){A.reject(b)}}function c(s){var d,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(d=t(s))?r(function(){var w=new g(A);try{d.call(s,function(){c.apply(w,arguments)},function(){u.apply(w,arguments)})}catch(C){u.call(w,C)}}):(A.msg=s,A.state=1,A.chain.length>0&&r(o,A))}catch(w){u.call(new g(A),w)}}}function u(s){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=s,d.state=2,d.chain.length>0&&r(o,d))}function l(s,d,A,w){for(var C=0;C<d.length;C++)(function(S){s.resolve(d[S]).then(function(i){A(S,i)},w)})(C)}function g(s){this.def=s,this.triggered=!1}function f(s){this.promise=s,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(s){if(typeof s!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new f(this);this.then=function(w,C){var b={success:typeof w=="function"?w:!0,failure:typeof C=="function"?C:!1};return b.promise=new this.constructor(function(x,i){if(typeof x!="function"||typeof i!="function")throw TypeError("Not a function");b.resolve=x,b.reject=i}),d.chain.push(b),d.state!==0&&r(o,d),b.promise},this.catch=function(w){return this.then(void 0,w)};try{s.call(void 0,function(w){c.call(d,w)},function(w){u.call(d,w)})}catch(A){u.call(d,A)}}var h=a({},"constructor",T,!1);return T.prototype=h,a(h,"__NPO__",0,!1),a(T,"resolve",function(d){var A=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new A(function(C,b){if(typeof C!="function"||typeof b!="function")throw TypeError("Not a function");C(d)})}),a(T,"reject",function(d){return new this(function(w,C){if(typeof w!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),a(T,"all",function(d){var A=this;return v.call(d)!="[object Array]"?A.reject(TypeError("Not an array")):d.length===0?A.resolve([]):new A(function(C,b){if(typeof C!="function"||typeof b!="function")throw TypeError("Not a function");var S=d.length,x=Array(S),i=0;l(A,d,function(m,k){x[m]=k,++i===S&&C(x)},b)})}),a(T,"race",function(d){var A=this;return v.call(d)!="[object Array]"?A.reject(TypeError("Not an array")):new A(function(C,b){if(typeof C!="function"||typeof b!="function")throw TypeError("Not a function");l(A,d,function(x,i){C(i)},b)})}),T})},18625:function(G){var H=Math.PI,e=v(120);G.exports=y;function y(p){for(var r,t=[],o=0,n=0,c=0,u=0,l=null,g=null,f=0,T=0,h=0,s=p.length;h<s;h++){var d=p[h],A=d[0];switch(A){case"M":c=d[1],u=d[2];break;case"A":d=L(f,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=f,C=T;(r=="C"||r=="S")&&(w+=w-o,C+=C-n),d=["C",w,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=f*2-l,g=T*2-g):(l=f,g=T),d=a(f,T,l,g,d[1],d[2]);break;case"Q":l=d[1],g=d[2],d=a(f,T,d[1],d[2],d[3],d[4]);break;case"L":d=P(f,T,d[1],d[2]);break;case"H":d=P(f,T,d[1],T);break;case"V":d=P(f,T,f,d[1]);break;case"Z":d=P(f,T,c,u);break}r=A,f=d[d.length-2],T=d[d.length-1],d.length>4?(o=d[d.length-4],n=d[d.length-3]):(o=f,n=T),t.push(d)}return t}function P(p,r,t,o){return["C",p,r,t,o,t,o]}function a(p,r,t,o,n,c){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*o,n/3+.6666666666666666*t,c/3+.6666666666666666*o,n,c]}function L(p,r,t,o,n,c,u,l,g,f){if(f)x=f[0],i=f[1],b=f[2],S=f[3];else{var T=M(p,r,-n);p=T.x,r=T.y,T=M(l,g,-n),l=T.x,g=T.y;var h=(p-l)/2,s=(r-g)/2,d=h*h/(t*t)+s*s/(o*o);d>1&&(d=Math.sqrt(d),t=d*t,o=d*o);var A=t*t,w=o*o,C=(c==u?-1:1)*Math.sqrt(Math.abs((A*w-A*s*s-w*h*h)/(A*s*s+w*h*h)));C==1/0&&(C=1);var b=C*t*s/o+(p+l)/2,S=C*-o*h/t+(r+g)/2,x=Math.asin(((r-S)/o).toFixed(9)),i=Math.asin(((g-S)/o).toFixed(9));x=p<b?H-x:x,i=l<b?H-i:i,x<0&&(x=H*2+x),i<0&&(i=H*2+i),u&&x>i&&(x=x-H*2),!u&&i>x&&(i=i-H*2)}if(Math.abs(i-x)>e){var E=i,m=l,k=g;i=x+e*(u&&i>x?1:-1),l=b+t*Math.cos(i),g=S+o*Math.sin(i);var I=L(l,g,t,o,n,0,u,m,k,[i,E,b,S])}var U=Math.tan((i-x)/4),z=4/3*t*U,F=4/3*o*U,B=[2*p-(p+z*Math.sin(x)),2*r-(r-F*Math.cos(x)),l+z*Math.sin(i),g-F*Math.cos(i),l,g];if(f)return B;I&&(B=B.concat(I));for(var O=0;O<B.length;){var N=M(B[O],B[O+1],n);B[O++]=N.x,B[O++]=N.y}return B}function M(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(H/180)}},56131:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function a(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var M={},v=0;v<10;v++)M["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(M).map(function(t){return M[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=a()?Object.assign:function(L,M){for(var v,p=P(L),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var o in v)e.call(v,o)&&(p[o]=v[o]);if(H){r=H(v);for(var n=0;n<r.length;n++)y.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},65848:function(G){var H=function(e){return e!==e};G.exports=function(y,P){return y===0&&P===0?1/y===1/P:!!(y===P||H(y)&&H(P))}},64003:function(G,H,e){var y=e(17045),P=e(68222),a=e(65848),L=e(27015),M=e(55572),v=P(L(),Object);y(v,{getPolyfill:L,implementation:a,shim:M}),G.exports=v},27015:function(G,H,e){var y=e(65848);G.exports=function(){return typeof Object.is=="function"?Object.is:y}},55572:function(G,H,e){var y=e(27015),P=e(17045);G.exports=function(){var L=y();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},99019:function(G,H,e){var y;if(!Object.keys){var P=Object.prototype.hasOwnProperty,a=Object.prototype.toString,L=e(64178),M=Object.prototype.propertyIsEnumerable,v=!M.call({toString:null},"toString"),p=M.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!o["$"+u]&&P.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),c=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};y=function(l){var g=l!==null&&typeof l=="object",f=a.call(l)==="[object Function]",T=L(l),h=g&&a.call(l)==="[object String]",s=[];if(!g&&!f&&!T)throw new TypeError("Object.keys called on a non-object");var d=p&&f;if(h&&l.length>0&&!P.call(l,0))for(var A=0;A<l.length;++A)s.push(String(A));if(T&&l.length>0)for(var w=0;w<l.length;++w)s.push(String(w));else for(var C in l)!(d&&C==="prototype")&&P.call(l,C)&&s.push(String(C));if(v)for(var b=c(l),S=0;S<r.length;++S)!(b&&r[S]==="constructor")&&P.call(l,r[S])&&s.push(r[S]);return s}}G.exports=y},8709:function(G,H,e){var y=Array.prototype.slice,P=e(64178),a=Object.keys,L=a?function(p){return a(p)}:e(99019),M=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?M(y.call(t)):M(t)})}else Object.keys=L;return Object.keys||L},G.exports=L},64178:function(G){var H=Object.prototype.toString;G.exports=function(y){var P=H.call(y),a=P==="[object Arguments]";return a||(a=P!=="[object Array]"&&y!==null&&typeof y=="object"&&typeof y.length=="number"&&y.length>=0&&H.call(y.callee)==="[object Function]"),a}},88641:function(G){function H(P,a){if(typeof P!="string")return[P];var L=[P];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var M=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",p=!!a.flat;M.forEach(function(o){var n=new RegExp(["\\",o[0],"[^\\",o[0],"\\",o[1],"]*\\",o[1]].join("")),c=[];function u(l,g,f){var T=L.push(l.slice(o[0].length,-o[1].length))-1;return c.push(T),v+T+v}L.forEach(function(l,g){for(var f,T=0;l!=f;)if(f=l,l=l.replace(n,u),T++>1e4)throw Error("References have circular dependency. Please, check them.");L[g]=l}),c=c.reverse(),L=L.map(function(l){return c.forEach(function(g){l=l.replace(new RegExp("(\\"+v+g+"\\"+v+")","g"),o[0]+"$1"+o[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(o,n,c){for(var u=[],l,g=0;l=r.exec(o);){if(g++>1e4)throw Error("Circular references in parenthesis");u.push(o.slice(0,l.index)),u.push(t(n[l[1]],n)),o=o.slice(l.index+l[0].length)}return u.push(o),u}return p?L:t(L[0],L)}function e(P,a){if(a&&a.flat){var L=a&&a.escape||"___",M=P[0],v;if(!M)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;M!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=M,M=M.replace(p,t)}return M}return P.reduce(function o(n,c){return Array.isArray(c)&&(c=c.reduce(o,"")),n+c},"");function t(o,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function y(P,a){return Array.isArray(P)?e(P,a):H(P,a)}y.parse=H,y.stringify=e,G.exports=y},18863:function(G,H,e){var y=e(71299);G.exports=P;function P(a){var L;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?L={width:a[0],height:a[0],x:0,y:0}:a.length===2?L={width:a[0],height:a[1],x:0,y:0}:L={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=y(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:a.left||0,y:a.top||0},a.width==null?a.right?L.width=a.right-L.x:L.width=0:L.width=a.width,a.height==null?a.bottom?L.height=a.bottom-L.y:L.height=0:L.height=a.height),L}},95616:function(G){G.exports=y;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function y(L){var M=[];return L.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=a(r),t=="m"&&r.length>2&&(M.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==H[t])return r.unshift(p),M.push(r);if(r.length<H[t])throw new Error("malformed path data");M.push([p].concat(r.splice(0,H[t])))}}),M}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(L){var M=L.match(P);return M?M.map(Number):[]}},25677:function(G){G.exports=function(e,y){y||(y=[0,""]),e=String(e);var P=parseFloat(e,10);return y[0]=P,y[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",y}},9748:function(G,H,e){var y=e(90386);(function(){var P,a,L,M,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof y<"u"&&y!==null&&y.hrtime?(G.exports=function(){return(P()-v)/1e6},a=y.hrtime,P=function(){var r;return r=a(),r[0]*1e9+r[1]},M=P(),p=y.uptime()*1e9,v=M-p):Date.now?(G.exports=function(){return Date.now()-L},L=Date.now()):(G.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},71299:function(G){G.exports=function(P,a,L){var M={},v,p;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var r={};for(p=0;p<a.length;p++)r[a[p]]=!0;a=r}for(v in a)a[v]=e(a[v]);var t={};for(v in a){var o=a[v];if(Array.isArray(o))for(p=0;p<o.length;p++){var n=o[p];if(L&&(t[n]=!0),n in P){if(M[v]=P[n],L)for(var c=p;c<o.length;c++)t[o[c]]=!0;break}}else v in P&&(a[v]&&(M[v]=P[v]),L&&(t[v]=!0))}if(L)for(v in P)t[v]||(M[v]=P[v]);return M};var H={};function e(y){return H[y]?H[y]:(typeof y=="string"&&(y=H[y]=y.split(/\s*,\s*|\s+/)),y)}},38258:function(G){G.exports=function(e,y,P,a){var L=e[0],M=e[1],v=!1;P===void 0&&(P=0),a===void 0&&(a=y.length);for(var p=a-P,r=0,t=p-1;r<p;t=r++){var o=y[r+P][0],n=y[r+P][1],c=y[t+P][0],u=y[t+P][1],l=n>M!=u>M&&L<(c-o)*(M-n)/(u-n)+o;l&&(v=!v)}return v}},52142:function(G,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var y=e(69444),P=e(29023),a=e(87263),L=e(11328),M=e(55968),v=e(10670),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=y():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var c=a(!0,r,p);return n.regions.forEach(c.addRegion),{segments:c.calculate(n.inverted),inverted:n.inverted}},combine:function(n,c){var u=a(!1,r,p);return{combined:u.calculate(n.segments,n.inverted,c.segments,c.inverted),inverted1:n.inverted,inverted2:c.inverted}},selectUnion:function(n){return{segments:M.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:M.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:M.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:M.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:M.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,c){return o(n,c,t.selectUnion)},intersect:function(n,c){return o(n,c,t.selectIntersect)},difference:function(n,c){return o(n,c,t.selectDifference)},differenceRev:function(n,c){return o(n,c,t.selectDifferenceRev)},xor:function(n,c){return o(n,c,t.selectXor)}};function o(n,c,u){var l=t.segments(n),g=t.segments(c),f=t.combine(l,g),T=u(f);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},69444:function(G){function H(){var e,y=0,P=!1;function a(L,M){return e.list.push({type:L,data:M?JSON.parse(JSON.stringify(M)):void 0}),e}return e={list:[],segmentId:function(){return y++},checkIntersection:function(L,M){return a("check",{seg1:L,seg2:M})},segmentChop:function(L,M){return a("div_seg",{seg:L,pt:M}),a("chop",{seg:L,pt:M})},statusRemove:function(L){return a("pop_seg",{seg:L})},segmentUpdate:function(L){return a("seg_update",{seg:L})},segmentNew:function(L,M){return a("new_seg",{seg:L,primary:M})},segmentRemove:function(L){return a("rem_seg",{seg:L})},tempStatus:function(L,M,v){return a("temp_status",{seg:L,above:M,below:v})},rewind:function(L){return a("rewind",{seg:L})},status:function(L,M,v){return a("status",{seg:L,above:M,below:v})},vert:function(L){return L===P?e:(P=L,a("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),a("log",{txt:L})},reset:function(){return a("reset")},selected:function(L){return a("selected",{segs:L})},chainStart:function(L){return a("chain_start",{seg:L})},chainRemoveHead:function(L,M){return a("chain_rem_head",{index:L,pt:M})},chainRemoveTail:function(L,M){return a("chain_rem_tail",{index:L,pt:M})},chainNew:function(L,M){return a("chain_new",{pt1:L,pt2:M})},chainMatch:function(L){return a("chain_match",{index:L})},chainClose:function(L){return a("chain_close",{index:L})},chainAddHead:function(L,M){return a("chain_add_head",{index:L,pt:M})},chainAddTail:function(L,M){return a("chain_add_tail",{index:L,pt:M})},chainConnect:function(L,M){return a("chain_con",{index1:L,index2:M})},chainReverse:function(L){return a("chain_rev",{index:L})},chainJoin:function(L,M){return a("chain_join",{index1:L,index2:M})},done:function(){return a("done")}},e}G.exports=H},29023:function(G){function H(e){typeof e!="number"&&(e=1e-10);var y={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,a,L){var M=a[0],v=a[1],p=L[0],r=L[1],t=P[0],o=P[1];return(p-M)*(o-v)-(r-v)*(t-M)>=-e},pointBetween:function(P,a,L){var M=P[1]-a[1],v=L[0]-a[0],p=P[0]-a[0],r=L[1]-a[1],t=p*v+M*r;if(t<e)return!1;var o=v*v+r*r;return!(t-o>-e)},pointsSameX:function(P,a){return Math.abs(P[0]-a[0])<e},pointsSameY:function(P,a){return Math.abs(P[1]-a[1])<e},pointsSame:function(P,a){return y.pointsSameX(P,a)&&y.pointsSameY(P,a)},pointsCompare:function(P,a){return y.pointsSameX(P,a)?y.pointsSameY(P,a)?0:P[1]<a[1]?-1:1:P[0]<a[0]?-1:1},pointsCollinear:function(P,a,L){var M=P[0]-a[0],v=P[1]-a[1],p=a[0]-L[0],r=a[1]-L[1];return Math.abs(M*r-p*v)<e},linesIntersect:function(P,a,L,M){var v=a[0]-P[0],p=a[1]-P[1],r=M[0]-L[0],t=M[1]-L[1],o=v*t-p*r;if(Math.abs(o)<e)return!1;var n=P[0]-L[0],c=P[1]-L[1],u=(r*c-t*n)/o,l=(v*c-p*n)/o,g={alongA:0,alongB:0,pt:[P[0]+u*v,P[1]+u*p]};return u<=-e?g.alongA=-2:u<e?g.alongA=-1:u-1<=-e?g.alongA=0:u-1<e?g.alongA=1:g.alongA=2,l<=-e?g.alongB=-2:l<e?g.alongB=-1:l-1<=-e?g.alongB=0:l-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(P,a){for(var L=P[0],M=P[1],v=a[a.length-1][0],p=a[a.length-1][1],r=!1,t=0;t<a.length;t++){var o=a[t][0],n=a[t][1];n-M>e!=p-M>e&&(v-o)*(M-n)/(p-n)+o-L>e&&(r=!r),v=o,p=n}return r}};return y}G.exports=H},10670:function(G){var H={toPolygon:function(e,y){function P(M){if(M.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var o=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[o]})}for(var p=v(M[0]),r=1;r<M.length;r++)p=e.selectDifference(e.combine(p,v(M[r])));return p}if(y.type==="Polygon")return e.polygon(P(y.coordinates));if(y.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),L=0;L<y.coordinates.length;L++)a=e.selectUnion(e.combine(a,P(y.coordinates[L])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,y,P){P=e.polygon(e.segments(P));function a(u,l){return y.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function L(u){return{region:u,children:[]}}var M=L(null);function v(u,l){for(var g=0;g<u.children.length;g++){var f=u.children[g];if(a(l,f.region)){v(f,l);return}}for(var T=L(l),g=0;g<u.children.length;g++){var f=u.children[g];a(f.region,l)&&(T.children.push(f),u.children.splice(g,1),g--)}u.children.push(T)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(M,r)}function t(u,l){for(var g=0,f=u[u.length-1][0],T=u[u.length-1][1],h=[],s=0;s<u.length;s++){var d=u[s][0],A=u[s][1];h.push([d,A]),g+=A*f-d*T,f=d,T=A}var w=g<0;return w!==l&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var o=[];function n(u){var l=[t(u.region,!1)];o.push(l);for(var g=0;g<u.children.length;g++)l.push(c(u.children[g]))}function c(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var p=0;p<M.children.length;p++)n(M.children[p]);return o.length<=0?{type:"Polygon",coordinates:[]}:o.length==1?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o}}};G.exports=H},87263:function(G,H,e){var y=e(26859);function P(a,L,M){function v(T,h){return{id:M?M.segmentId():-1,start:T,end:h,myFill:{above:null,below:null},otherFill:null}}function p(T,h,s){return{id:M?M.segmentId():-1,start:T,end:h,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var r=y.create();function t(T,h,s,d,A,w){var C=L.pointsCompare(h,A);return C!==0?C:L.pointsSame(s,w)?0:T!==d?T?1:-1:L.pointAboveOrOnLine(s,d?A:w,d?w:A)?1:-1}function o(T,h){r.insertBefore(T,function(s){var d=t(T.isStart,T.pt,h,s.isStart,s.pt,s.other.pt);return d<0})}function n(T,h){var s=y.node({isStart:!0,pt:T.start,seg:T,primary:h,other:null,status:null});return o(s,T.end),s}function c(T,h,s){var d=y.node({isStart:!1,pt:h.end,seg:h,primary:s,other:T,status:null});T.other=d,o(d,T.pt)}function u(T,h){var s=n(T,h);return c(s,T,h),s}function l(T,h){M&&M.segmentChop(T.seg,h),T.other.remove(),T.seg.end=h,T.other.pt=h,o(T.other,T.pt)}function g(T,h){var s=p(h,T.seg.end,T.seg);return l(T,h),u(s,T.primary)}function f(T,h){var s=y.create();function d(z,F){var B=z.seg.start,O=z.seg.end,N=F.seg.start,Y=F.seg.end;return L.pointsCollinear(B,N,Y)?L.pointsCollinear(O,N,Y)||L.pointAboveOrOnLine(O,N,Y)?1:-1:L.pointAboveOrOnLine(B,N,Y)?1:-1}function A(z){return s.findTransition(function(F){var B=d(z,F.ev);return B>0})}function w(z,F){var B=z.seg,O=F.seg,N=B.start,Y=B.end,$=O.start,te=O.end;M&&M.checkIntersection(B,O);var ie=L.linesIntersect(N,Y,$,te);if(ie===!1){if(!L.pointsCollinear(N,Y,$)||L.pointsSame(N,te)||L.pointsSame(Y,$))return!1;var ce=L.pointsSame(N,$),J=L.pointsSame(Y,te);if(ce&&J)return F;var Z=!ce&&L.pointBetween(N,$,te),ae=!J&&L.pointBetween(Y,$,te);if(ce)return ae?g(F,Y):g(z,te),F;Z&&(J||(ae?g(F,Y):g(z,te)),g(F,N))}else ie.alongA===0&&(ie.alongB===-1?g(z,$):ie.alongB===0?g(z,ie.pt):ie.alongB===1&&g(z,te)),ie.alongB===0&&(ie.alongA===-1?g(F,N):ie.alongA===0?g(F,ie.pt):ie.alongA===1&&g(F,Y));return!1}for(var C=[];!r.isEmpty();){var b=r.getHead();if(M&&M.vert(b.pt[0]),b.isStart){let z=function(){if(x){var F=w(b,x);if(F)return F}return i?w(b,i):!1};M&&M.segmentNew(b.seg,b.primary);var S=A(b),x=S.before?S.before.ev:null,i=S.after?S.after.ev:null;M&&M.tempStatus(b.seg,x?x.seg:!1,i?i.seg:!1);var E=z();if(E){if(a){var m;b.seg.myFill.below===null?m=!0:m=b.seg.myFill.above!==b.seg.myFill.below,m&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=b.seg.myFill;M&&M.segmentUpdate(E.seg),b.other.remove(),b.remove()}if(r.getHead()!==b){M&&M.rewind(b.seg);continue}if(a){var m;b.seg.myFill.below===null?m=!0:m=b.seg.myFill.above!==b.seg.myFill.below,i?b.seg.myFill.below=i.seg.myFill.above:b.seg.myFill.below=T,m?b.seg.myFill.above=!b.seg.myFill.below:b.seg.myFill.above=b.seg.myFill.below}else if(b.seg.otherFill===null){var k;i?b.primary===i.primary?k=i.seg.otherFill.above:k=i.seg.myFill.above:k=b.primary?h:T,b.seg.otherFill={above:k,below:k}}M&&M.status(b.seg,x?x.seg:!1,i?i.seg:!1),b.other.status=S.insert(y.node({ev:b}))}else{var I=b.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(I.prev)&&s.exists(I.next)&&w(I.prev.ev,I.next.ev),M&&M.statusRemove(I.ev.seg),I.remove(),!b.primary){var U=b.seg.myFill;b.seg.myFill=b.seg.otherFill,b.seg.otherFill=U}C.push(b.seg)}r.getHead().remove()}return M&&M.done(),C}return a?{addRegion:function(T){for(var h,s=T[T.length-1],d=0;d<T.length;d++){h=s,s=T[d];var A=L.pointsCompare(h,s);A!==0&&u(v(A<0?h:s,A<0?s:h),!0)}},calculate:function(T){return f(T,!1)}}:{calculate:function(T,h,s,d){return T.forEach(function(A){u(p(A.start,A.end,A),!0)}),s.forEach(function(A){u(p(A.start,A.end,A),!1)}),f(h,d)}}}G.exports=P},26859:function(G){var H={create:function(){var e={root:{root:!0,next:null},exists:function(y){return!(y===null||y===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(y,P){for(var a=e.root,L=e.root.next;L!==null;){if(P(L)){y.prev=L.prev,y.next=L,L.prev.next=y,L.prev=y;return}a=L,L=L.next}a.next=y,y.prev=a,y.next=null},findTransition:function(y){for(var P=e.root,a=e.root.next;a!==null&&!y(a);)P=a,a=a.next;return{before:P===e.root?null:P,after:a,insert:function(L){return L.prev=P,L.next=a,P.next=L,a!==null&&(a.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=H},11328:function(G){function H(e,y,P){var a=[],L=[];return e.forEach(function(M){var v=M.start,p=M.end;if(y.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(M);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},o=r;function n(E,m,k){return o.index=E,o.matches_head=m,o.matches_pt1=k,o===r?(o=t,!1):(o=null,!0)}for(var c=0;c<a.length;c++){var u=a[c],l=u[0];u[1];var g=u[u.length-1];if(u[u.length-2],y.pointsSame(l,v)){if(n(c,!0,!0))break}else if(y.pointsSame(l,p)){if(n(c,!0,!1))break}else if(y.pointsSame(g,v)){if(n(c,!1,!0))break}else if(y.pointsSame(g,p)&&n(c,!1,!1))break}if(o===r){a.push([v,p]),P&&P.chainNew(v,p);return}if(o===t){P&&P.chainMatch(r.index);var f=r.index,T=r.matches_pt1?p:v,h=r.matches_head,u=a[f],s=h?u[0]:u[u.length-1],d=h?u[1]:u[u.length-2],A=h?u[u.length-1]:u[0],w=h?u[u.length-2]:u[1];if(y.pointsCollinear(d,s,T)&&(h?(P&&P.chainRemoveHead(r.index,T),u.shift()):(P&&P.chainRemoveTail(r.index,T),u.pop()),s=d),y.pointsSame(A,T)){a.splice(f,1),y.pointsCollinear(w,A,s)&&(h?(P&&P.chainRemoveTail(r.index,s),u.pop()):(P&&P.chainRemoveHead(r.index,s),u.shift())),P&&P.chainClose(r.index),L.push(u);return}h?(P&&P.chainAddHead(r.index,T),u.unshift(T)):(P&&P.chainAddTail(r.index,T),u.push(T));return}function C(E){P&&P.chainReverse(E),a[E].reverse()}function b(E,m){var k=a[E],I=a[m],U=k[k.length-1],z=k[k.length-2],F=I[0],B=I[1];y.pointsCollinear(z,U,F)&&(P&&P.chainRemoveTail(E,U),k.pop(),U=z),y.pointsCollinear(U,F,B)&&(P&&P.chainRemoveHead(m,F),I.shift()),P&&P.chainJoin(E,m),a[E]=k.concat(I),a.splice(m,1)}var S=r.index,x=t.index;P&&P.chainConnect(S,x);var i=a[S].length<a[x].length;r.matches_head?t.matches_head?i?(C(S),b(S,x)):(C(x),b(x,S)):b(x,S):t.matches_head?b(S,x):i?(C(S),b(x,S)):(C(x),b(S,x))}),L}G.exports=H},55968:function(G){function H(y,P,a){var L=[];return y.forEach(function(M){var v=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);P[v]!==0&&L.push({id:a?a.segmentId():-1,start:M.start,end:M.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),a&&a.selected(L),L}var e={union:function(y,P){return H(y,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(y,P){return H(y,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(y,P){return H(y,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(y,P){return H(y,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(y,P){return H(y,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};G.exports=e},14847:function(G,H,e){var y=e(21630).Transform,P=e(90715);function a(){y.call(this,{readableObjectMode:!0})}a.prototype=Object.create(y.prototype),a.prototype.constructor=a,P(a.prototype),H.OF=function(M,v,p){for(var r=v,t=0;t<p.length;)if(M[r++]!==p[t++])return!1;return!0},H.eG=function(M,v){var p=[],r=0;if(v&&v==="hex")for(;r<M.length;)p.push(parseInt(M.slice(r,r+2),16)),r+=2;else for(;r<M.length;r++)p.push(M.charCodeAt(r)&255);return p},H.mP=function(M,v){return M[v]|M[v+1]<<8},H.n8=function(M,v){return M[v+1]|M[v]<<8},H.nm=function(M,v){return M[v]|M[v+1]<<8|M[v+2]<<16|M[v+3]*16777216},H.Ag=function(M,v){return M[v+3]|M[v+2]<<8|M[v+1]<<16|M[v]*16777216};function L(M,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=M,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},71371:function(G){function H(P,a){var L=new Error(P);return L.code=a,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function y(P,a,L){this.input=P.subarray(a,L),this.start=a;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if(M!=="II*\0"&&M!=="MM\0*")throw H("invalid TIFF signature","EBADDATA");this.big_endian=M[0]==="M"}y.prototype.each=function(P){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},y.prototype.read_uint16=function(P){var a=this.input;if(P+2>a.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?a[P]*256+a[P+1]:a[P]+a[P+1]*256},y.prototype.read_uint32=function(P){var a=this.input;if(P+4>a.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?a[P]*16777216+a[P+1]*65536+a[P+2]*256+a[P+3]:a[P]+a[P+1]*256+a[P+2]*65536+a[P+3]*16777216},y.prototype.is_subifd_link=function(P,a){return P===0&&a===34665||P===0&&a===34853||P===34665&&a===40965},y.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},y.prototype.exif_format_read=function(P,a){var L;switch(P){case 1:case 2:return L=this.input[a],L;case 6:return L=this.input[a],L|(L&128)*33554430;case 3:return L=this.read_uint16(a),L;case 8:return L=this.read_uint16(a),L|(L&32768)*131070;case 4:return L=this.read_uint32(a),L;case 9:return L=this.read_uint32(a),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},y.prototype.scan_ifd=function(P,a,L){var M=this.read_uint16(a);a+=2;for(var v=0;v<M;v++){var p=this.read_uint16(a),r=this.read_uint16(a+2),t=this.read_uint32(a+4),o=this.exif_format_length(r),n=t*o,c=n<=4?a+8:this.read_uint32(a+8),u=!1;if(c+n>this.input.length)throw H("unexpected EOF","EBADDATA");for(var l=[],g=c,f=0;f<t;f++,g+=o){var T=this.exif_format_read(r,g);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),u=!0);var h={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:a+this.start,data_length:n,data_offset:c+this.start,value:l,is_subifd_link:u};if(L(h)===!1){this.aborted=!0;return}a+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},G.exports.ExifParser=y,G.exports.get_orientation=function(P){var a=0;try{return new y(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return a=L.value[0],!1}),a}catch{return-1}}},76767:function(G,H,e){var y=e(14847).n8,P=e(14847).Ag;function a(n,c){if(n.length<4+c)return null;var u=P(n,c);return n.length<u+c||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(c+4,c+8)),data:n.slice(c+8,c+u),end:c+u}}G.exports.unbox=a;function L(n,c){for(var u=0;;){var l=a(n,u);if(!l)break;switch(l.boxtype){case"ispe":c.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":c.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":c.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function M(n,c,u){for(var l=0,g=0;g<u;g++)l=l*256+(n[c+g]||0);return l}function v(n,c){for(var u=n[4]>>4&15,l=n[4]&15,g=n[5]>>4&15,f=y(n,6),T=8,h=0;h<f;h++){var s=y(n,T);T+=2;var d=y(n,T);T+=2;var A=M(n,T,g);T+=g;var w=y(n,T);if(T+=2,d===0&&w===1){var C=M(n,T,u),b=M(n,T+u,l);c.item_loc[s]={length:b,offset:C+A}}T+=w*(u+l)}}function p(n,c){for(var u=y(n,4),l=6,g=0;g<u;g++){var f=a(n,l);if(!f)break;if(f.boxtype==="infe"){for(var T=y(f.data,4),h="",s=8;s<f.data.length&&f.data[s];s++)h+=String.fromCharCode(f.data[s]);c.item_inf[h]=T}l=f.end}}function r(n,c){for(var u=0;;){var l=a(n,u);if(!l)break;l.boxtype==="ipco"&&L(l.data,c),u=l.end}}function t(n,c){for(var u=4;;){var l=a(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,c),l.boxtype==="iloc"&&v(l.data,c),l.boxtype==="iinf"&&p(l.data,c),u=l.end}}function o(n){var c=n.reduce(function(g,f){return g.width>f.width||g.width===f.width&&g.height>f.height?g:f}),u=n.reduce(function(g,f){return g.height>f.height||g.height===f.height&&g.width>f.width?g:f}),l;return c.width>u.height||c.width===u.height&&c.height>u.width?l=c:l=u,l}G.exports.readSizeFromMeta=function(n){var c={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,c),!!c.sizes.length){var u=o(c.sizes),l=1;c.transforms.forEach(function(f){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(f.type==="imir"&&(f.value===0?l=h[l]:(l=h[l],l=T[l],l=T[l])),f.type==="irot")for(var s=0;s<f.value;s++)l=T[l]});var g=null;return c.item_inf.Exif&&(g=c.item_loc[c.item_inf.Exif]),{width:u.width,height:u.height,orientation:c.transforms.length?l:null,variants:c.sizes,exif_location:g}}},G.exports.getMimeType=function(n){var c=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[c]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return c==="avif"||c==="avis"||c==="avio"?{type:"avif",mime:"image/avif"}:c==="heic"||c==="heix"?{type:"heic",mime:"image/heic"}:c==="hevc"||c==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(G,H,e){var y=e(14847).eG,P=e(14847).OF,a=e(14847).Ag,L=e(76767),M=e(71371),v=y("ftyp");G.exports=function(p){if(P(p,4,v)){var r=L.unbox(p,0);if(r){var t=L.getMimeType(r.data);if(t){for(var o,n=r.end;;){var c=L.unbox(p,n);if(!c)break;if(n=c.end,c.boxtype==="mdat")return;if(c.boxtype==="meta"){o=c.data;break}}if(o){var u=L.readSizeFromMeta(o);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=p.length){var g=a(p,u.exif_location.offset),f=p.slice(u.exif_location.offset+g+4,u.exif_location.offset+u.exif_location.length),T=M.get_orientation(f);T>0&&(l.orientation=T)}return l}}}}}}},2504:function(G,H,e){var y=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=y("BM");G.exports=function(M){if(!(M.length<26)&&P(M,0,L))return{width:a(M,18),height:a(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(G,H,e){var y=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=y("GIF87a"),M=y("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,M)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(G,H,e){var y=e(14847).mP,P=0,a=1,L=16;G.exports=function(M){var v=y(M,0),p=y(M,2),r=y(M,4);if(!(v!==P||p!==a||!r)){for(var t=[],o={width:0,height:0},n=0;n<r;n++){var c=M[6+L*n]||256,u=M[6+L*n+1]||256,l={width:c,height:u};t.push(l),(c>o.width||u>o.height)&&(o=l)}return{width:o.width,height:o.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(G,H,e){var y=e(14847).n8,P=e(14847).eG,a=e(14847).OF,L=e(71371),M=P("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=y(v,p)-2,p+=2}else return;if(r===217||r===218)return;var o;if(r===225&&t>=10&&a(v,p,M)&&(o=L.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:y(v,p+3),height:y(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return o>0&&(n.orientation=o),n}p+=t}}},6303:function(G,H,e){var y=e(14847).eG,P=e(14847).OF,a=e(14847).Ag,L=y(`PNG\r

`),M=y("IHDR");G.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,M))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(G,H,e){var y=e(14847).eG,P=e(14847).OF,a=e(14847).Ag,L=y("8BPS\0");G.exports=function(M){if(!(M.length<22)&&P(M,0,L))return{width:a(M,18),height:a(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(G){function H(o){return o===32||o===9||o===13||o===10}function e(o){return typeof o=="number"&&isFinite(o)&&o>0}function y(o){var n=0,c=o.length;for(o[0]===239&&o[1]===187&&o[2]===191&&(n=3);n<c&&H(o[n]);)n++;return n===c?!1:o[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,M=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(o){var n=o.match(L),c=o.match(M),u=o.match(v);return{width:n&&(n[1]||n[2]),height:c&&(c[1]||c[2]),viewbox:u&&(u[1]||u[2])}}function t(o){return p.test(o)?o.match(p)[0]:"px"}G.exports=function(o){if(y(o)){for(var n="",c=0;c<o.length;c++)n+=String.fromCharCode(o[c]);var u=(n.match(P)||[""])[0];if(a.test(u)){var l=r(u),g=parseFloat(l.width),f=parseFloat(l.height);if(l.width&&l.height)return!e(g)||!e(f)?void 0:{width:g,height:f,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),h={width:T[2],height:T[3]},s=parseFloat(h.width),d=parseFloat(h.height);if(!(!e(s)||!e(d))&&t(h.width)===t(h.height)){var A=s/d;return l.width?e(g)?{width:g,height:g/A,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(f)?{width:f*A,height:f,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:s,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(h.width),hUnits:t(h.height)}}}}}},66278:function(G,H,e){var y=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=e(14847).n8,M=e(14847).nm,v=e(14847).Ag,p=y("II*\0"),r=y("MM\0*");function t(c,u,l){return l?L(c,u):a(c,u)}function o(c,u,l){return l?v(c,u):M(c,u)}function n(c,u,l){var g=t(c,u+2,l),f=o(c,u+4,l);return f!==1||g!==3&&g!==4?null:g===3?t(c,u+8,l):o(c,u+8,l)}G.exports=function(c){if(!(c.length<8)&&!(!P(c,0,p)&&!P(c,0,r))){var u=c[0]===77,l=o(c,4,u)-8;if(!(l<0)){var g=l+8;if(!(c.length-g<2)){var f=t(c,g+0,u)*12;if(!(f<=0)&&(g+=2,!(c.length-g<f))){var T,h,s,d;for(T=0;T<f;T+=12)d=t(c,g+T,u),d===256?h=n(c,g+T,u):d===257&&(s=n(c,g+T,u));if(h&&s)return{width:h,height:s,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(G,H,e){var y=e(14847).eG,P=e(14847).OF,a=e(14847).mP,L=e(14847).nm,M=e(71371),v=y("RIFF"),p=y("WEBP");function r(n,c){if(!(n[c+3]!==157||n[c+4]!==1||n[c+5]!==42))return{width:a(n,c+6)&16383,height:a(n,c+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,c){if(n[c]===47){var u=L(n,c+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function o(n,c){return{width:(n[c+6]<<16|n[c+5]<<8|n[c+4])+1,height:(n[c+9]<<c|n[c+8]<<8|n[c+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var c=12,u=null,l=0,g=L(n,4)+8;if(!(g>n.length)){for(;c+8<g;){if(n[c]===0){c++;continue}var f=String.fromCharCode.apply(null,n.slice(c,c+4)),T=L(n,c+4);f==="VP8 "&&T>=10?u=u||r(n,c+8):f==="VP8L"&&T>=9?u=u||t(n,c+8):f==="VP8X"&&T>=10?u=u||o(n,c+8):f==="EXIF"&&(l=M.get_orientation(n.slice(c+8,c+8+T)),c=1/0),c+=8+T}if(u)return l>0&&(u.orientation=l),u}}}},91497:function(G,H,e){G.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(G,H,e){var y=e(91497);function P(a){for(var L=Object.keys(y),M=0;M<L.length;M++){var v=y[L[M]](a);if(v)return v}return null}G.exports=function(L){return P(L)},G.exports.parsers=y},90386:function(G){var H=G.exports={},e,y;function P(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?y=clearTimeout:y=a}catch{y=a}})();function L(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function M(l){if(y===clearTimeout)return clearTimeout(l);if((y===a||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(l);try{return y(l)}catch{try{return y.call(null,l)}catch{return y.call(this,l)}}}var v=[],p=!1,r,t=-1;function o(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=L(o);p=!0;for(var g=v.length;g;){for(r=v,v=[];++t<g;)r&&r[t].run();t=-1,g=v.length}r=null,p=!1,M(l)}}H.nextTick=function(l){var g=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)g[f-1]=arguments[f];v.push(new c(l,g)),v.length===1&&!p&&L(n)};function c(l,g){this.fun=l,this.array=g}c.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={};function u(){}H.on=u,H.addListener=u,H.once=u,H.off=u,H.removeListener=u,H.removeAllListeners=u,H.emit=u,H.prependListener=u,H.prependOnceListener=u,H.listeners=function(l){return[]},H.binding=function(l){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(l){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},5877:function(G,H,e){for(var y=e(9748),P=typeof window>"u"?e.g:window,a=["moz","webkit"],L="AnimationFrame",M=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],p=0;!M&&p<a.length;p++)M=P[a[p]+"Request"+L],v=P[a[p]+"Cancel"+L]||P[a[p]+"CancelRequest"+L];if(!M||!v){var r=0,t=0,o=[],n=1e3/60;M=function(c){if(o.length===0){var u=y(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var g=o.slice(0);o.length=0;for(var f=0;f<g.length;f++)if(!g[f].cancelled)try{g[f].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return o.push({handle:++t,callback:c,cancelled:!1}),t},v=function(c){for(var u=0;u<o.length;u++)o[u].handle===c&&(o[u].cancelled=!0)}}G.exports=function(c){return M.call(P,c)},G.exports.cancel=function(){v.apply(P,arguments)},G.exports.polyfill=function(c){c||(c=P),c.requestAnimationFrame=M,c.cancelAnimationFrame=v}},3593:function(G,H,e){var y=e(21527),P=e(25075),a=e(93447),L=e(71299),M=e(56131),v=e(30120),p=e(57060),r=p.float32,t=p.fract32;G.exports=n;var o=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(c,u){if(typeof c=="function"?(u||(u={}),u.regl=c):u=c,u.length&&(u.positions=u),c=u.regl,!c.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=c._gl,g,f,T,h,s,d,A={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return h=c.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),f=c.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=c.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),s=c.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=c.buffer({usage:"static",type:"float",data:o}),x(u),g=c({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:c.prop("range"),lineWidth:c.prop("lineWidth"),capSize:c.prop("capSize"),opacity:c.prop("opacity"),scale:c.prop("scale"),translate:c.prop("translate"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),viewport:function(E,m){return[m.viewport.x,m.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:h,offset:function(E,m){return m.offset*4},divisor:1},position:{buffer:f,offset:function(E,m){return m.offset*8},divisor:1},positionFract:{buffer:T,offset:function(E,m){return m.offset*8},divisor:1},error:{buffer:s,offset:function(E,m){return m.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport"),stencil:!1,instances:c.prop("count"),count:o.length}),M(C,{update:x,draw:b,destroy:i,regl:c,gl:l,canvas:l.canvas,groups:w}),C;function C(E){E?x(E):E===null&&i(),b()}function b(E){if(typeof E=="number")return S(E);E&&!Array.isArray(E)&&(E=[E]),c._refresh(),w.forEach(function(m,k){if(m){if(E&&(E[k]?m.draw=!0:m.draw=!1),!m.draw){m.draw=!0;return}S(k)}})}function S(E){typeof E=="number"&&(E=w[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],g(E),E.after&&E.after(E))}function x(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var m=0,k=0;if(C.groups=w=E.map(function(N,Y){var $=w[Y];if(N)typeof N=="function"?N={after:N}:typeof N[0]=="number"&&(N={positions:N});else return $;return N=L(N,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),$||(w[Y]=$={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},N=M({},A,N)),a($,N,[{lineWidth:function(te){return+te*.5},capSize:function(te){return+te*.5},opacity:parseFloat,errors:function(te){return te=v(te),k+=te.length,te},positions:function(te,ie){return te=v(te,"float64"),ie.count=Math.floor(te.length/2),ie.bounds=y(te,2),ie.offset=m,m+=ie.count,te}},{color:function(te,ie){var ce=ie.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var J=te;te=Array(ce);for(var Z=0;Z<ce;Z++)te[Z]=J}if(te.length<ce)throw Error("Not enough colors");for(var ae=new Uint8Array(ce*4),j=0;j<ce;j++){var q=P(te[j],"uint8");ae.set(q,j*4)}return ae},range:function(te,ie,ce){var J=ie.bounds;return te||(te=J),ie.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],ie.translate=[-te[0],-te[1]],ie.scaleFract=t(ie.scale),ie.translateFract=t(ie.translate),te},viewport:function(te){var ie;return Array.isArray(te)?ie={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(ie={x:te.x||te.left||0,y:te.y||te.top||0},te.right?ie.width=te.right-ie.x:ie.width=te.w||te.width||0,te.bottom?ie.height=te.bottom-ie.y:ie.height=te.h||te.height||0):ie={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ie}}]),$}),m||k){var I=w.reduce(function(N,Y,$){return N+(Y?Y.count:0)},0),U=new Float64Array(I*2),z=new Uint8Array(I*4),F=new Float32Array(I*4);w.forEach(function(N,Y){if(N){var $=N.positions,te=N.count,ie=N.offset,ce=N.color,J=N.errors;te&&(z.set(ce,ie*4),F.set(J,ie*4),U.set($,ie*2))}});var B=r(U);f(B);var O=t(U,B);T(O),h(z),s(F)}}}function i(){f.destroy(),T.destroy(),h.destroy(),s.destroy(),d.destroy()}}},46075:function(G,H,e){var y=e(25075),P=e(21527),a=e(56131),L=e(56068),M=e(71299),v=e(30120),p=e(11474),r=e(54),t=e(57060),o=t.float32,n=t.fract32,c=e(83522),u=e(18863),l=e(6851);G.exports=g;function g(f,T){if(!(this instanceof g))return new g(f,T);if(typeof f=="function"?(T||(T={}),T.regl=f):T=f,T.length&&(T.positions=T),f=T.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=f._gl,this.regl=f,this.passes=[],this.shaders=g.shaders.has(f)?g.shaders.get(f):g.shaders.set(f,g.createShaders(f)).get(f),this.update(T)}g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new c,g.createShaders=function(f){var T=f.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:f.prop("count"),count:4,offset:0,uniforms:{miterMode:function(w,C){return C.join==="round"?2:1},miterLimit:f.prop("miterLimit"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),thickness:f.prop("thickness"),dashTexture:f.prop("dashTexture"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),dashLength:f.prop("dashLength"),viewport:function(w,C){return[C.viewport.x,C.viewport.y,w.viewportWidth,w.viewportHeight]},depth:f.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(w,C){return!C.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport")},s=f(a({vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h)),d;try{d=f(a({cull:{enable:!0,face:"back"},vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:f.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{d=s}var A=f({primitive:"triangle",elements:function(w,C){return C.triangles},offset:0,vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:f.prop("scale"),color:f.prop("fill"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),viewport:function(w,C){return[C.viewport.x,C.viewport.y,w.viewportWidth,w.viewportHeight]}},attributes:{position:{buffer:f.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport});return{fill:A,rect:s,miter:d}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var f,T=[],h=arguments.length;h--;)T[h]=arguments[h];T.length&&(f=this).update.apply(f,T),this.draw()},g.prototype.draw=function(){for(var f=this,T=[],h=arguments.length;h--;)T[h]=arguments[h];return(T.length?T:this.passes).forEach(function(s,d){var A;if(s&&Array.isArray(s))return(A=f).draw.apply(A,s);typeof s=="number"&&(s=f.passes[s]),s&&s.count>1&&s.opacity&&(f.regl._refresh(),s.fill&&s.triangles&&s.triangles.length>2&&f.shaders.fill(s),s.thickness&&(s.scale[0]*s.viewport.width>g.precisionThreshold||s.scale[1]*s.viewport.height>g.precisionThreshold||s.join==="rect"||!s.join&&(s.thickness<=2||s.count>=g.maxPoints)?f.shaders.rect(s):f.shaders.miter(s)))}),this},g.prototype.update=function(f){var T=this;if(f){f.length!=null?typeof f[0]=="number"&&(f=[{positions:f}]):Array.isArray(f)||(f=[f]);var h=this,s=h.regl,d=h.gl;if(f.forEach(function(S,x){var i=T.passes[x];if(S!==void 0){if(S===null){T.passes[x]=null;return}if(typeof S[0]=="number"&&(S={positions:S}),S=M(S,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(T.passes[x]=i={id:x,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:s.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},S=a({},g.defaults,S)),S.thickness!=null&&(i.thickness=parseFloat(S.thickness)),S.opacity!=null&&(i.opacity=parseFloat(S.opacity)),S.miterLimit!=null&&(i.miterLimit=parseFloat(S.miterLimit)),S.overlay!=null&&(i.overlay=!!S.overlay,x<g.maxLines&&(i.depth=2*(g.maxLines-1-x%g.maxLines)/g.maxLines-1)),S.join!=null&&(i.join=S.join),S.hole!=null&&(i.hole=S.hole),S.fill!=null&&(i.fill=S.fill?y(S.fill,"uint8"):null),S.viewport!=null&&(i.viewport=u(S.viewport)),i.viewport||(i.viewport=u([d.drawingBufferWidth,d.drawingBufferHeight])),S.close!=null&&(i.close=S.close),S.positions===null&&(S.positions=[]),S.positions){var E,m;if(S.positions.x&&S.positions.y){var k=S.positions.x,I=S.positions.y;m=i.count=Math.max(k.length,I.length),E=new Float64Array(m*2);for(var U=0;U<m;U++)E[U*2]=k[U],E[U*2+1]=I[U]}else E=v(S.positions,"float64"),m=i.count=Math.floor(E.length/2);var z=i.bounds=P(E,2);if(i.fill){for(var F=[],B={},O=0,N=0,Y=0,$=i.count;N<$;N++){var te=E[N*2],ie=E[N*2+1];isNaN(te)||isNaN(ie)||te==null||ie==null?(te=E[O*2],ie=E[O*2+1],B[N]=O):O=N,F[Y++]=te,F[Y++]=ie}if(S.splitNull){i.count-1 in B||(B[i.count]=i.count-1);var ce=Object.keys(B).map(Number).sort(function(Fe,Pe){return Fe-Pe}),J=[],Z=0,ae=i.hole!=null?i.hole[0]:null;if(ae!=null){var j=l(ce,function(Fe){return Fe>=ae});ce=ce.slice(0,j),ce.push(ae)}for(var q=function(Fe){var Pe=F.slice(Z*2,ce[Fe]*2).concat(ae?F.slice(ae*2):[]),xe=(i.hole||[]).map(function(Me){return Me-ae+(ce[Fe]-Z)}),ge=p(Pe,xe);ge=ge.map(function(Me){return Me+Z+(Me+Z<ce[Fe]?0:ae-ce[Fe])}),J.push.apply(J,ge),Z=ce[Fe]+1},oe=0;oe<ce.length;oe++)q(oe);for(var Q=0,K=J.length;Q<K;Q++)B[J[Q]]!=null&&(J[Q]=B[J[Q]]);i.triangles=J}else{for(var se=p(F,i.hole||[]),ne=0,fe=se.length;ne<fe;ne++)B[se[ne]]!=null&&(se[ne]=B[se[ne]]);i.triangles=se}}var ye=new Float64Array(E);r(ye,2,z);var Ee=new Float64Array(m*2+6);i.close?E[0]===E[m*2-2]&&E[1]===E[m*2-1]?(Ee[0]=ye[m*2-4],Ee[1]=ye[m*2-3]):(Ee[0]=ye[m*2-2],Ee[1]=ye[m*2-1]):(Ee[0]=ye[0],Ee[1]=ye[1]),Ee.set(ye,2),i.close?E[0]===E[m*2-2]&&E[1]===E[m*2-1]?(Ee[m*2+2]=ye[2],Ee[m*2+3]=ye[3],i.count-=1):(Ee[m*2+2]=ye[0],Ee[m*2+3]=ye[1],Ee[m*2+4]=ye[2],Ee[m*2+5]=ye[3]):(Ee[m*2+2]=ye[m*2-2],Ee[m*2+3]=ye[m*2-1],Ee[m*2+4]=ye[m*2-2],Ee[m*2+5]=ye[m*2-1]);var Te=o(Ee);i.positionBuffer(Te);var ze=n(Ee,Te);i.positionFractBuffer(ze)}if(S.range?i.range=S.range:i.range||(i.range=i.bounds),(S.range||S.positions)&&i.count){var ke=i.bounds,Se=ke[2]-ke[0],me=ke[3]-ke[1],Ce=i.range[2]-i.range[0],Ne=i.range[3]-i.range[1];i.scale=[Se/Ce,me/Ne],i.translate=[-i.range[0]/Ce+ke[0]/Ce||0,-i.range[1]/Ne+ke[1]/Ne||0],i.scaleFract=n(i.scale),i.translateFract=n(i.translate)}if(S.dashes){var He=0,De;if(!S.dashes||S.dashes.length<2)He=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{He=0;for(var Ve=0;Ve<S.dashes.length;++Ve)He+=S.dashes[Ve];De=new Uint8Array(He*g.dashMult);for(var at=0,lt=255,$e=0;$e<2;$e++)for(var et=0;et<S.dashes.length;++et){for(var ct=0,dt=S.dashes[et]*g.dashMult*.5;ct<dt;++ct)De[at++]=lt;lt^=255}}i.dashLength=He,i.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(S.color){var gt=i.count,At=S.color;At||(At="transparent");var Rt=new Uint8Array(gt*4+4);if(!Array.isArray(At)||typeof At[0]=="number")for(var Vt=y(At,"uint8"),Je=0;Je<gt+1;Je++)Rt.set(Vt,Je*4);else{for(var Ge=0;Ge<gt;Ge++){var Ie=y(At[Ge],"uint8");Rt.set(Ie,Ge*4)}Rt.set(y(At[0],"uint8"),gt*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:Rt})}}}),f.length<this.passes.length){for(var A=f.length;A<this.passes.length;A++){var w=this.passes[A];w&&(w.colorBuffer.destroy(),w.positionBuffer.destroy(),w.dashTexture.destroy())}this.passes.length=f.length}for(var C=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&C.push(this.passes[b]);return this.passes=C,this}},g.prototype.destroy=function(){return this.passes.forEach(function(f){f.colorBuffer.destroy(),f.positionBuffer.destroy(),f.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(G,H,e){function y(i,E){var m=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(m!=null){var k,I,U,z,F=[],B=!0,O=!1;try{if(U=(m=m.call(i)).next,E===0){if(Object(m)!==m)return;B=!1}else for(;!(B=(k=U.call(m)).done)&&(F.push(k.value),F.length!==E);B=!0);}catch(N){O=!0,I=N}finally{try{if(!B&&m.return!=null&&(z=m.return(),Object(z)!==z))return}finally{if(O)throw I}}return F}}function P(i,E){return M(i)||y(i,E)||p(i,E)||o()}function a(i){return L(i)||v(i)||p(i)||t()}function L(i){if(Array.isArray(i))return r(i)}function M(i){if(Array.isArray(i))return i}function v(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function p(i,E){if(i){if(typeof i=="string")return r(i,E);var m=Object.prototype.toString.call(i).slice(8,-1);if(m==="Object"&&i.constructor&&(m=i.constructor.name),m==="Map"||m==="Set")return Array.from(i);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return r(i,E)}}function r(i,E){(E==null||E>i.length)&&(E=i.length);for(var m=0,k=new Array(E);m<E;m++)k[m]=i[m];return k}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),c=e(21527),u=e(6475),l=e(88294),g=e(56131),f=e(56068),T=e(71299),h=e(93447),s=e(30120),d=e(62683),A=e(57060),w=e(18863),C=b;function b(i,E){var m=this;if(!(this instanceof b))return new b(i,E);typeof i=="function"?(E||(E={}),E.regl=i):(E=i,i=null),E&&E.length&&(E.positions=E),i=E.regl;var k=i._gl,I,U=[],z={},F=[],B=[null],O=[null],N=255,Y=100;this.tooManyColors=d,I=i.texture({data:new Uint8Array(N*4),width:N,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:i,gl:k,groups:F,markerCache:O,markerTextures:B,palette:U,paletteIds:z,paletteTexture:I,maxColors:N,maxSize:Y,canvas:k.canvas}),this.update(E);var $={uniforms:{constPointSize:!!E.constPointSize,opacity:i.prop("opacity"),paletteSize:function(J,Z){return[m.tooManyColors?0:N,I.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:I},attributes:{x:function(J,Z){return Z.xAttr||{buffer:Z.positionBuffer,stride:8,offset:0}},y:function(J,Z){return Z.yAttr||{buffer:Z.positionBuffer,stride:8,offset:4}},xFract:function(J,Z){return Z.xAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:0}},yFract:function(J,Z){return Z.yAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:4}},size:function(J,Z){return Z.size.length?{buffer:Z.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Z.size*255/m.maxSize)]}},borderSize:function(J,Z){return Z.borderSize.length?{buffer:Z.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Z.borderSize*255/m.maxSize)]}},colorId:function(J,Z){return Z.color.length?{buffer:Z.colorBuffer,stride:m.tooManyColors?8:4,offset:0}:{constant:m.tooManyColors?U.slice(Z.color*4,Z.color*4+4):[Z.color]}},borderColorId:function(J,Z){return Z.borderColor.length?{buffer:Z.colorBuffer,stride:m.tooManyColors?8:4,offset:m.tooManyColors?4:2}:{constant:m.tooManyColors?U.slice(Z.borderColor*4,Z.borderColor*4+4):[Z.borderColor]}},isActive:function(J,Z){return Z.activation===!0?{constant:[1]}:Z.activation?Z.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},te=g({},$);te.frag=f([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),te.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=i(te);var ie=g({},$);ie.frag=f([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ie.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ie.frag=ie.frag.replace("smoothstep","smoothStep"),te.frag=te.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(ie)}b.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},b.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},b.prototype.draw=function(){for(var i=this,E=arguments.length,m=new Array(E),k=0;k<E;k++)m[k]=arguments[k];var I=this.groups;if(m.length===1&&Array.isArray(m[0])&&(m[0][0]===null||Array.isArray(m[0][0]))&&(m=m[0]),this.regl._refresh(),m.length)for(var U=0;U<m.length;U++)this.drawItem(U,m[U]);else I.forEach(function(z,F){i.drawItem(F)});return this},b.prototype.drawItem=function(i,E){var m=this.groups,k=m[i];if(typeof E=="number"&&(i=E,k=m[E],E=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,E));for(var I=[],U=1;U<k.activation.length;U++)!k.activation[U]||k.activation[U]!==!0&&!k.activation[U].data.length||I.push.apply(I,a(this.getMarkerDrawOptions(U,k,E)));I.length&&this.drawMarker(I)}},b.prototype.getMarkerDrawOptions=function(i,E,m){var k=E.range,I=E.tree,U=E.viewport,z=E.activation,F=E.selectionBuffer,B=E.count;if(this.regl,!I)return m?[g({},E,{markerTexture:this.markerTextures[i],activation:z[i],count:m.length,elements:m,offset:0})]:[g({},E,{markerTexture:this.markerTextures[i],activation:z[i],offset:0})];var O=[],N=I.range(k,{lod:!0,px:[(k[2]-k[0])/U.width,(k[3]-k[1])/U.height]});if(m){for(var Y=z[i],$=Y.data,te=new Uint8Array(B),ie=0;ie<m.length;ie++){var ce=m[ie];te[ce]=$?$[ce]:1}F.subdata(te)}for(var J=N.length;J--;){var Z=P(N[J],2),ae=Z[0],j=Z[1];O.push(g({},E,{markerTexture:this.markerTextures[i],activation:m?F:z[i],offset:ae,count:j-ae}))}return O},b.prototype.update=function(){for(var i=this,E=arguments.length,m=new Array(E),k=0;k<E;k++)m[k]=arguments[k];if(m.length){m.length===1&&Array.isArray(m[0])&&(m=m[0]);var I=this.groups,U=this.gl,z=this.regl,F=this.maxSize,B=this.maxColors,O=this.palette;this.groups=I=m.map(function(N,Y){var $=I[Y];if(N===void 0)return $;N===null?N={positions:null}:typeof N=="function"?N={ondraw:N}:typeof N[0]=="number"&&(N={positions:N}),N=T(N,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),N.positions===null&&(N.positions=[]),N.tooManyColors!=null&&(i.tooManyColors=N.tooManyColors),$||(I[Y]=$={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},N=g({},b.defaults,N)),N.positions&&!("marker"in N)&&(N.marker=$.marker,delete $.marker),N.marker&&!("positions"in N)&&(N.positions=$.positions,delete $.positions);var te=0,ie=0;if(h($,N,[{snap:!0,size:function(me,Ce){return me==null&&(me=b.defaults.size),te+=me&&me.length?1:0,me},borderSize:function(me,Ce){return me==null&&(me=b.defaults.borderSize),te+=me&&me.length?1:0,me},opacity:parseFloat,color:function(me,Ce){return me==null&&(me=b.defaults.color),me=i.updateColor(me),ie++,me},borderColor:function(me,Ce){return me==null&&(me=b.defaults.borderColor),me=i.updateColor(me),ie++,me},bounds:function(me,Ce,Ne){return"range"in Ne||(Ne.range=null),me},positions:function(me,Ce,Ne){var He=Ce.snap,De=Ce.positionBuffer,Ve=Ce.positionFractBuffer,at=Ce.selectionBuffer;if(me.x||me.y)return me.x.length?Ce.xAttr={buffer:z.buffer(me.x),offset:0,stride:4,count:me.x.length}:Ce.xAttr={buffer:me.x.buffer,offset:me.x.offset*4||0,stride:(me.x.stride||1)*4,count:me.x.count},me.y.length?Ce.yAttr={buffer:z.buffer(me.y),offset:0,stride:4,count:me.y.length}:Ce.yAttr={buffer:me.y.buffer,offset:me.y.offset*4||0,stride:(me.y.stride||1)*4,count:me.y.count},Ce.count=Math.max(Ce.xAttr.count,Ce.yAttr.count),me;me=s(me,"float64");var lt=Ce.count=Math.floor(me.length/2),$e=Ce.bounds=lt?c(me,2):null;if(!Ne.range&&!Ce.range&&(delete Ce.range,Ne.range=$e),!Ne.marker&&!Ce.marker&&(delete Ce.marker,Ne.marker=null),He&&(He===!0||lt>He)?Ce.tree=l(me,{bounds:$e}):He&&He.length&&(Ce.tree=He),Ce.tree){var et={primitive:"points",usage:"static",data:Ce.tree,type:"uint32"};Ce.elements?Ce.elements(et):Ce.elements=z.elements(et)}var ct=A.float32(me);De({data:ct,usage:"dynamic"});var dt=A.fract32(me,ct);return Ve({data:dt,usage:"dynamic"}),at({data:new Uint8Array(lt),type:"uint8",usage:"stream"}),me}},{marker:function(me,Ce,Ne){var He=Ce.activation;if(He.forEach(function(dt){return dt&&dt.destroy&&dt.destroy()}),He.length=0,!me||typeof me[0]=="number"){var De=i.addMarker(me);He[De]=!0}else{for(var Ve=[],at=0,lt=Math.min(me.length,Ce.count);at<lt;at++){var $e=i.addMarker(me[at]);Ve[$e]||(Ve[$e]=new Uint8Array(Ce.count)),Ve[$e][at]=1}for(var et=0;et<Ve.length;et++)if(Ve[et]){var ct={data:Ve[et],type:"uint8",usage:"static"};He[et]?He[et](ct):He[et]=z.buffer(ct),He[et].data=Ve[et]}}return me},range:function(me,Ce,Ne){var He=Ce.bounds;if(He)return me||(me=He),Ce.scale=[1/(me[2]-me[0]),1/(me[3]-me[1])],Ce.translate=[-me[0],-me[1]],Ce.scaleFract=A.fract(Ce.scale),Ce.translateFract=A.fract(Ce.translate),me},viewport:function(me){var Ce=w(me||[U.drawingBufferWidth,U.drawingBufferHeight]);return Ce}}]),te){var ce=$,J=ce.count,Z=ce.size,ae=ce.borderSize,j=ce.sizeBuffer,q=new Uint8Array(J*2);if(Z.length||ae.length)for(var oe=0;oe<J;oe++)q[oe*2]=Math.round((Z[oe]==null?Z:Z[oe])*255/F),q[oe*2+1]=Math.round((ae[oe]==null?ae:ae[oe])*255/F);j({data:q,usage:"dynamic"})}if(ie){var Q=$,K=Q.count,se=Q.color,ne=Q.borderColor,fe=Q.colorBuffer,ye;if(i.tooManyColors){if(se.length||ne.length){ye=new Uint8Array(K*8);for(var Ee=0;Ee<K;Ee++){var Te=se[Ee];ye[Ee*8]=O[Te*4],ye[Ee*8+1]=O[Te*4+1],ye[Ee*8+2]=O[Te*4+2],ye[Ee*8+3]=O[Te*4+3];var ze=ne[Ee];ye[Ee*8+4]=O[ze*4],ye[Ee*8+5]=O[ze*4+1],ye[Ee*8+6]=O[ze*4+2],ye[Ee*8+7]=O[ze*4+3]}}}else if(se.length||ne.length){ye=new Uint8Array(K*4+2);for(var ke=0;ke<K;ke++)se[ke]!=null&&(ye[ke*4]=se[ke]%B,ye[ke*4+1]=Math.floor(se[ke]/B)),ne[ke]!=null&&(ye[ke*4+2]=ne[ke]%B,ye[ke*4+3]=Math.floor(ne[ke]/B))}fe({data:ye||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return $})}},b.prototype.addMarker=function(i){var E=this.markerTextures,m=this.regl,k=this.markerCache,I=i==null?0:k.indexOf(i);if(I>=0)return I;var U;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)U=i;else{U=new Uint8Array(i.length);for(var z=0,F=i.length;z<F;z++)U[z]=i[z]*255}var B=Math.floor(Math.sqrt(U.length));return I=E.length,k.push(i),E.push(m.texture({channels:1,data:U,radius:B,mag:"linear",min:"linear"})),I},b.prototype.updateColor=function(i){var E=this.paletteIds,m=this.palette,k=this.maxColors;Array.isArray(i)||(i=[i]);var I=[];if(typeof i[0]=="number"){var U=[];if(Array.isArray(i))for(var z=0;z<i.length;z+=4)U.push(i.slice(z,z+4));else for(var F=0;F<i.length;F+=4)U.push(i.subarray(F,F+4));i=U}for(var B=0;B<i.length;B++){var O=i[B];O=n(O,"uint8");var N=u(O,!1);if(E[N]==null){var Y=m.length;E[N]=Math.floor(Y/4),m[Y]=O[0],m[Y+1]=O[1],m[Y+2]=O[2],m[Y+3]=O[3]}I[B]=E[N]}return!this.tooManyColors&&m.length>k*4&&(this.tooManyColors=!0),this.updatePalette(m),I.length===1?I[0]:I},b.prototype.updatePalette=function(i){if(!this.tooManyColors){var E=this.maxColors,m=this.paletteTexture,k=Math.ceil(i.length*.25/E);if(k>1){i=i.slice();for(var I=i.length*.25%E;I<k*E;I++)i.push(0,0,0,0)}m.height<k&&m.resize(E,k),m.subimage({width:Math.min(i.length*.25,E),height:k,data:i},0,0)}},b.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var S=e(56131),x=function(E,m){var k=new C(E,m),I=k.render.bind(k);return S(I,{render:I,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),I};G.exports=x},60487:function(G,H,e){var y=e(11870),P=e(71299),a=e(21527),L=e(5877),M=e(57471),v=e(18863),p=e(30120);G.exports=r;function r(c,u){if(!(this instanceof r))return new r(c);this.traces=[],this.passes={},this.regl=c,this.scatter=y(c),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var c=this,u,l=[],g=arguments.length;g--;)l[g]=arguments[g];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){c.draw(),c.dirty=!0,c.planned=null})):(this.draw(),this.dirty=!0,L(function(){c.dirty=!1})),this)},r.prototype.update=function(){for(var c,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var g=0;g<u.length;g++)this.updateItem(g,u[g]);this.traces=this.traces.filter(Boolean);for(var f=[],T=0,h=0;h<this.traces.length;h++){for(var s=this.traces[h],d=this.traces[h].passes,A=0;A<d.length;A++)f.push(this.passes[d[A]]);s.passOffset=T,T+=s.passes.length}return(c=this.scatter).update.apply(c,f),this}},r.prototype.updateItem=function(c,u){var l=this,g=l.regl;if(u===null)return this.traces[c]=null,this;if(!u)return this;var f=P(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[c]||(this.traces[c]={id:c,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(f.color!=null&&(T.color=f.color),f.size!=null&&(T.size=f.size),f.marker!=null&&(T.marker=f.marker),f.borderColor!=null&&(T.borderColor=f.borderColor),f.borderSize!=null&&(T.borderSize=f.borderSize),f.opacity!=null&&(T.opacity=f.opacity),f.viewport&&(T.viewport=v(f.viewport)),f.diagonal!=null&&(T.diagonal=f.diagonal),f.upper!=null&&(T.upper=f.upper),f.lower!=null&&(T.lower=f.lower),f.data){T.buffer(p(f.data)),T.columns=f.data.length,T.count=f.data[0].length,T.bounds=[];for(var h=0;h<T.columns;h++)T.bounds[h]=a(f.data[h],1)}var s;f.range&&(T.range=f.range,s=T.range&&typeof T.range[0]!="number"),f.domain&&(T.domain=f.domain);var d=!1;f.padding!=null&&(Array.isArray(f.padding)&&f.padding.length===T.columns&&typeof f.padding[f.padding.length-1]=="number"?(T.padding=f.padding.map(n),d=!0):T.padding=n(f.padding));var A=T.columns,w=T.count,C=T.viewport.width,b=T.viewport.height,S=T.viewport.x,x=T.viewport.y,i=C/A,E=b/A;T.passes=[];for(var m=0;m<A;m++)for(var k=0;k<A;k++)if(!(!T.diagonal&&k===m)&&!(!T.upper&&m>k)&&!(!T.lower&&m<k)){var I=t(T.id,m,k),U=this.passes[I]||(this.passes[I]={});if(f.data&&(f.transpose?U.positions={x:{buffer:T.buffer,offset:k,count:w,stride:A},y:{buffer:T.buffer,offset:m,count:w,stride:A}}:U.positions={x:{buffer:T.buffer,offset:k*w,count:w},y:{buffer:T.buffer,offset:m*w,count:w}},U.bounds=o(T.bounds,m,k)),f.domain||f.viewport||f.data){var z=d?o(T.padding,m,k):T.padding;if(T.domain){var F=o(T.domain,m,k),B=F[0],O=F[1],N=F[2],Y=F[3];U.viewport=[S+B*C+z[0],x+O*b+z[1],S+N*C-z[2],x+Y*b-z[3]]}else U.viewport=[S+k*i+i*z[0],x+m*E+E*z[1],S+(k+1)*i-i*z[2],x+(m+1)*E-E*z[3]]}f.color&&(U.color=T.color),f.size&&(U.size=T.size),f.marker&&(U.marker=T.marker),f.borderSize&&(U.borderSize=T.borderSize),f.borderColor&&(U.borderColor=T.borderColor),f.opacity&&(U.opacity=T.opacity),f.range&&(U.range=s?o(T.range,m,k):T.range||U.bounds),T.passes.push(I)}return this},r.prototype.draw=function(){for(var c,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var g=[],f=0;f<u.length;f++)if(typeof u[f]=="number"){var T=this.traces[u[f]],h=T.passes,s=T.passOffset;g.push.apply(g,M(s,s+h.length))}else if(u[f].length){var d=u[f],A=this.traces[f],w=A.passes,C=A.passOffset;w=w.map(function(b,S){g[C+S]=d})}(c=this.scatter).draw.apply(c,g)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(c){c.buffer&&c.buffer.destroy&&c.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(c,u,l){var g=c.id!=null?c.id:c,f=u,T=l,h=g<<16|(f&255)<<8|T&255;return h}function o(c,u,l){var g,f,T,h,s=c[u],d=c[l];return s.length>2?(s[0],s[2],g=s[1],f=s[3]):s.length?(g=s[0],f=s[1]):(s.x,g=s.y,s.x+s.width,f=s.y+s.height),d.length>2?(T=d[0],h=d[2],d[1],d[3]):d.length?(T=d[0],h=d[1]):(T=d.x,d.y,h=d.x+d.width,d.y+d.height),[T,g,h,f]}function n(c){if(typeof c=="number")return[c,c,c,c];if(c.length===2)return[c[0],c[1],c[0],c[1]];var u=v(c);return[u.x,u.y,u.x+u.width,u.y+u.height]}},98580:function(G){(function(H,e){G.exports=e()})(this,function(){function H(yt,Xt){this.id=fe++,this.type=yt,this.data=Xt}function e(yt){if(yt.length===0)return[];var Xt=yt.charAt(0),Qt=yt.charAt(yt.length-1);if(1<yt.length&&Xt===Qt&&(Xt==='"'||Xt==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Xt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,Xt.index)).concat(e(Xt[1])).concat(e(yt.substr(Xt.index+Xt[0].length)));if(Xt=yt.split("."),Xt.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],Qt=0;Qt<Xt.length;++Qt)yt=yt.concat(e(Xt[Qt]));return yt}function y(yt){return"["+e(yt).join("][")+"]"}function P(yt,Xt){if(typeof yt=="function")return new H(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new H(5,yt);if(Array.isArray(yt))return new H(6,yt.map(function(Qt,gr){return P(Qt)}));if(yt instanceof H)return yt}function a(){var yt={"":0},Xt=[""];return{id:function(Qt){var gr=yt[Qt];return gr||(gr=yt[Qt]=Xt.length,Xt.push(Qt),gr)},str:function(Qt){return Xt[Qt]}}}function L(yt,Xt,Qt){function gr(){var it=window.innerWidth,xt=window.innerHeight;yt!==document.body&&(xt=sr.getBoundingClientRect(),it=xt.right-xt.left,xt=xt.bottom-xt.top),sr.width=Qt*it,sr.height=Qt*xt}var sr=document.createElement("canvas");ne(sr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(sr),yt===document.body&&(sr.style.position="absolute",ne(yt.style,{margin:0,padding:0}));var vt;return yt!==document.body&&typeof ResizeObserver=="function"?(vt=new ResizeObserver(function(){setTimeout(gr)}),vt.observe(yt)):window.addEventListener("resize",gr,!1),gr(),{canvas:sr,onDestroy:function(){vt?vt.disconnect():window.removeEventListener("resize",gr),yt.removeChild(sr)}}}function M(yt,Xt){function Qt(gr){try{return yt.getContext(gr,Xt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(yt){return typeof yt=="string"?yt.split():yt}function p(yt){return typeof yt=="string"?document.querySelector(yt):yt}function r(yt){var Xt=yt||{},Qt,gr,sr,vt;yt={};var it=[],xt=[],Mt=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Lt={},Bt=function(jt){},Nt=function(){};if(typeof Xt=="string"?Qt=document.querySelector(Xt):typeof Xt=="object"&&(typeof Xt.nodeName=="string"&&typeof Xt.appendChild=="function"&&typeof Xt.getBoundingClientRect=="function"?Qt=Xt:typeof Xt.drawArrays=="function"||typeof Xt.drawElements=="function"?(vt=Xt,sr=vt.canvas):("gl"in Xt?vt=Xt.gl:"canvas"in Xt?sr=p(Xt.canvas):"container"in Xt&&(gr=p(Xt.container)),"attributes"in Xt&&(yt=Xt.attributes),"extensions"in Xt&&(it=v(Xt.extensions)),"optionalExtensions"in Xt&&(xt=v(Xt.optionalExtensions)),"onDone"in Xt&&(Bt=Xt.onDone),"profile"in Xt&&(Dt=!!Xt.profile),"pixelRatio"in Xt&&(Mt=+Xt.pixelRatio),"cachedCode"in Xt&&(Lt=Xt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?sr=Qt:gr=Qt),!vt){if(!sr){if(Qt=L(gr||document.body,Bt,Mt),!Qt)return null;sr=Qt.canvas,Nt=Qt.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),vt=M(sr,yt)}return vt?{gl:vt,canvas:sr,container:gr,extensions:it,optionalExtensions:xt,pixelRatio:Mt,profile:Dt,cachedCode:Lt,onDone:Bt,onDestroy:Nt}:(Nt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(yt,Xt){function Qt(it){it=it.toLowerCase();var xt;try{xt=gr[it]=yt.getExtension(it)}catch{}return!!xt}for(var gr={},sr=0;sr<Xt.extensions.length;++sr){var vt=Xt.extensions[sr];if(!Qt(vt))return Xt.onDestroy(),Xt.onDone('"'+vt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Xt.optionalExtensions.forEach(Qt),{extensions:gr,restore:function(){Object.keys(gr).forEach(function(it){if(gr[it]&&!Qt(it))throw Error("(regl): error restoring extension "+it)})}}}function o(yt,Xt){for(var Qt=Array(yt),gr=0;gr<yt;++gr)Qt[gr]=Xt(gr);return Qt}function n(yt){var Xt,Qt;return Xt=(65535<yt)<<4,yt>>>=Xt,Qt=(255<yt)<<3,yt>>>=Qt,Xt|=Qt,Qt=(15<yt)<<2,yt>>>=Qt,Xt|=Qt,Qt=(3<yt)<<1,Xt|Qt|yt>>>Qt>>1}function c(){function yt(gr){e:{for(var sr=16;268435456>=sr;sr*=16)if(gr<=sr){gr=sr;break e}gr=0}return sr=Qt[n(gr)>>2],0<sr.length?sr.pop():new ArrayBuffer(gr)}function Xt(gr){Qt[n(gr.byteLength)>>2].push(gr)}var Qt=o(8,function(){return[]});return{alloc:yt,free:Xt,allocType:function(gr,sr){var vt=null;switch(gr){case 5120:vt=new Int8Array(yt(sr),0,sr);break;case 5121:vt=new Uint8Array(yt(sr),0,sr);break;case 5122:vt=new Int16Array(yt(2*sr),0,sr);break;case 5123:vt=new Uint16Array(yt(2*sr),0,sr);break;case 5124:vt=new Int32Array(yt(4*sr),0,sr);break;case 5125:vt=new Uint32Array(yt(4*sr),0,sr);break;case 5126:vt=new Float32Array(yt(4*sr),0,sr);break;default:return null}return vt.length!==sr?vt.subarray(0,sr):vt},freeType:function(gr){Xt(gr.buffer)}}}function u(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Se(yt.data))}function l(yt,Xt,Qt,gr,sr,vt){for(var it=0;it<Xt;++it)for(var xt=yt[it],Mt=0;Mt<Qt;++Mt)for(var Dt=xt[Mt],Lt=0;Lt<gr;++Lt)sr[vt++]=Dt[Lt]}function g(yt,Xt,Qt,gr,sr){for(var vt=1,it=Qt+1;it<Xt.length;++it)vt*=Xt[it];var xt=Xt[Qt];if(Xt.length-Qt===4){var Mt=Xt[Qt+1],Dt=Xt[Qt+2];for(Xt=Xt[Qt+3],it=0;it<xt;++it)l(yt[it],Mt,Dt,Xt,gr,sr),sr+=vt}else for(it=0;it<xt;++it)g(yt[it],Xt,Qt+1,gr,sr),sr+=vt}function f(yt){return Ne[Object.prototype.toString.call(yt)]|0}function T(yt,Xt){for(var Qt=0;Qt<Xt.length;++Qt)yt[Qt]=Xt[Qt]}function h(yt,Xt,Qt,gr,sr,vt,it){for(var xt=0,Mt=0;Mt<Qt;++Mt)for(var Dt=0;Dt<gr;++Dt)yt[xt++]=Xt[sr*Mt+vt*Dt+it]}function s(yt,Xt,Qt,gr){function sr(Bt){this.id=Mt++,this.buffer=yt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function vt(Bt,Nt,jt){Bt.byteLength=Nt.byteLength,yt.bufferData(Bt.type,Nt,jt)}function it(Bt,Nt,jt,lr,fr,hr){if(Bt.usage=jt,Array.isArray(Nt)){if(Bt.dtype=lr||5126,0<Nt.length)if(Array.isArray(Nt[0])){fr=at(Nt);for(var Ye=lr=1;Ye<fr.length;++Ye)lr*=fr[Ye];Bt.dimension=lr,Nt=Ve(Nt,fr,Bt.dtype),vt(Bt,Nt,jt),hr?Bt.persistentData=Nt:ze.freeType(Nt)}else typeof Nt[0]=="number"?(Bt.dimension=fr,fr=ze.allocType(Bt.dtype,Nt.length),T(fr,Nt),vt(Bt,fr,jt),hr?Bt.persistentData=fr:ze.freeType(fr)):Se(Nt[0])&&(Bt.dimension=Nt[0].length,Bt.dtype=lr||f(Nt[0])||5126,Nt=Ve(Nt,[Nt.length,Nt[0].length],Bt.dtype),vt(Bt,Nt,jt),hr?Bt.persistentData=Nt:ze.freeType(Nt))}else if(Se(Nt))Bt.dtype=lr||f(Nt),Bt.dimension=fr,vt(Bt,Nt,jt),hr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(u(Nt)){fr=Nt.shape;var We=Nt.stride,Ye=Nt.offset,kt=0,It=0,Zt=0,rr=0;fr.length===1?(kt=fr[0],It=1,Zt=We[0],rr=0):fr.length===2&&(kt=fr[0],It=fr[1],Zt=We[0],rr=We[1]),Bt.dtype=lr||f(Nt.data)||5126,Bt.dimension=It,fr=ze.allocType(Bt.dtype,kt*It),h(fr,Nt.data,kt,It,Zt,rr,Ye),vt(Bt,fr,jt),hr?Bt.persistentData=fr:ze.freeType(fr)}else Nt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=fr,vt(Bt,Nt,jt),hr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function xt(Bt){Xt.bufferCount--,gr(Bt),yt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var Mt=0,Dt={};sr.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},sr.prototype.destroy=function(){xt(this)};var Lt=[];return Qt.profile&&(Xt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(Nt){Bt+=Dt[Nt].stats.size}),Bt}),{create:function(Bt,Nt,jt,lr){function fr(Ye){var We=35044,kt=null,It=0,Zt=0,rr=1;return Array.isArray(Ye)||Se(Ye)||u(Ye)||Ye instanceof ArrayBuffer?kt=Ye:typeof Ye=="number"?It=Ye|0:Ye&&("data"in Ye&&(kt=Ye.data),"usage"in Ye&&(We=De[Ye.usage]),"type"in Ye&&(Zt=He[Ye.type]),"dimension"in Ye&&(rr=Ye.dimension|0),"length"in Ye&&(It=Ye.length|0)),hr.bind(),kt?it(hr,kt,We,Zt,rr,lr):(It&&yt.bufferData(hr.type,It,We),hr.dtype=Zt||5121,hr.usage=We,hr.dimension=rr,hr.byteLength=It),Qt.profile&&(hr.stats.size=hr.byteLength*lt[hr.dtype]),fr}Xt.bufferCount++;var hr=new sr(Nt);return Dt[hr.id]=hr,jt||fr(Bt),fr._reglType="buffer",fr._buffer=hr,fr.subdata=function(Ye,We){var kt=(We||0)|0,It;if(hr.bind(),Se(Ye)||Ye instanceof ArrayBuffer)yt.bufferSubData(hr.type,kt,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var Zt=ze.allocType(hr.dtype,Ye.length);T(Zt,Ye),yt.bufferSubData(hr.type,kt,Zt),ze.freeType(Zt)}else(Array.isArray(Ye[0])||Se(Ye[0]))&&(It=at(Ye),Zt=Ve(Ye,It,hr.dtype),yt.bufferSubData(hr.type,kt,Zt),ze.freeType(Zt))}else if(u(Ye)){It=Ye.shape;var rr=Ye.stride,ur=Zt=0,er=0,Ot=0;It.length===1?(Zt=It[0],ur=1,er=rr[0],Ot=0):It.length===2&&(Zt=It[0],ur=It[1],er=rr[0],Ot=rr[1]),It=Array.isArray(Ye.data)?hr.dtype:f(Ye.data),It=ze.allocType(It,Zt*ur),h(It,Ye.data,Zt,ur,er,Ot,Ye.offset),yt.bufferSubData(hr.type,kt,It),ze.freeType(It)}return fr},Qt.profile&&(fr.stats=hr.stats),fr.destroy=function(){xt(hr)},fr},createStream:function(Bt,Nt){var jt=Lt.pop();return jt||(jt=new sr(Bt)),jt.bind(),it(jt,Nt,35040,0,1,!1),jt},destroyStream:function(Bt){Lt.push(Bt)},clear:function(){me(Dt).forEach(xt),Lt.forEach(xt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof sr?Bt._buffer:null},restore:function(){me(Dt).forEach(function(Bt){Bt.buffer=yt.createBuffer(),yt.bindBuffer(Bt.type,Bt.buffer),yt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:it}}function d(yt,Xt,Qt,gr){function sr(Bt){this.id=Mt++,xt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function vt(Bt,Nt,jt,lr,fr,hr,Ye){Bt.buffer.bind();var We;if(Nt?((We=Ye)||Se(Nt)&&(!u(Nt)||Se(Nt.data))||(We=Xt.oes_element_index_uint?5125:5123),Qt._initBuffer(Bt.buffer,Nt,jt,We,3)):(yt.bufferData(34963,hr,jt),Bt.buffer.dtype=We||5121,Bt.buffer.usage=jt,Bt.buffer.dimension=3,Bt.buffer.byteLength=hr),We=Ye,!Ye){switch(Bt.buffer.dtype){case 5121:case 5120:We=5121;break;case 5123:case 5122:We=5123;break;case 5125:case 5124:We=5125}Bt.buffer.dtype=We}Bt.type=We,Nt=fr,0>Nt&&(Nt=Bt.buffer.byteLength,We===5123?Nt>>=1:We===5125&&(Nt>>=2)),Bt.vertCount=Nt,Nt=lr,0>lr&&(Nt=4,lr=Bt.buffer.dimension,lr===1&&(Nt=0),lr===2&&(Nt=1),lr===3&&(Nt=4)),Bt.primType=Nt}function it(Bt){gr.elementsCount--,delete xt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var xt={},Mt=0,Dt={uint8:5121,uint16:5123};Xt.oes_element_index_uint&&(Dt.uint32=5125),sr.prototype.bind=function(){this.buffer.bind()};var Lt=[];return{create:function(Bt,Nt){function jt(hr){if(hr)if(typeof hr=="number")lr(hr),fr.primType=4,fr.vertCount=hr|0,fr.type=5121;else{var Ye=null,We=35044,kt=-1,It=-1,Zt=0,rr=0;Array.isArray(hr)||Se(hr)||u(hr)?Ye=hr:("data"in hr&&(Ye=hr.data),"usage"in hr&&(We=De[hr.usage]),"primitive"in hr&&(kt=$e[hr.primitive]),"count"in hr&&(It=hr.count|0),"type"in hr&&(rr=Dt[hr.type]),"length"in hr?Zt=hr.length|0:(Zt=It,rr===5123||rr===5122?Zt*=2:(rr===5125||rr===5124)&&(Zt*=4))),vt(fr,Ye,We,kt,It,Zt,rr)}else lr(),fr.primType=4,fr.vertCount=0,fr.type=5121;return jt}var lr=Qt.create(null,34963,!0),fr=new sr(lr._buffer);return gr.elementsCount++,jt(Bt),jt._reglType="elements",jt._elements=fr,jt.subdata=function(hr,Ye){return lr.subdata(hr,Ye),jt},jt.destroy=function(){it(fr)},jt},createStream:function(Bt){var Nt=Lt.pop();return Nt||(Nt=new sr(Qt.create(null,34963,!0,!1)._buffer)),vt(Nt,Bt,35040,-1,-1,0,0),Nt},destroyStream:function(Bt){Lt.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof sr?Bt._elements:null},clear:function(){me(xt).forEach(it)}}}function A(yt){for(var Xt=ze.allocType(5123,yt.length),Qt=0;Qt<yt.length;++Qt)if(isNaN(yt[Qt]))Xt[Qt]=65535;else if(yt[Qt]===1/0)Xt[Qt]=31744;else if(yt[Qt]===-1/0)Xt[Qt]=64512;else{et[0]=yt[Qt];var vt=ct[0],gr=vt>>>31<<15,sr=(vt<<1>>>24)-127,vt=vt>>13&1023;Xt[Qt]=-24>sr?gr:-14>sr?gr+(vt+1024>>-14-sr):15<sr?gr+31744:gr+(sr+15<<10)+vt}return Xt}function w(yt){return Array.isArray(yt)||Se(yt)}function C(yt){return"[object "+yt+"]"}function b(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function S(yt){return!!(Array.isArray(yt)&&yt.length!==0&&w(yt[0]))}function x(yt){return Object.prototype.toString.call(yt)}function i(yt){if(!yt)return!1;var Xt=x(yt);return 0<=Pe.indexOf(Xt)?!0:b(yt)||S(yt)||u(yt)}function E(yt,Xt){yt.type===36193?(yt.data=A(Xt),ze.freeType(Xt)):yt.data=Xt}function m(yt,Xt,Qt,gr,sr,vt){if(yt=typeof ge[yt]<"u"?ge[yt]:At[yt]*xe[Xt],vt&&(yt*=6),sr){for(gr=0;1<=Qt;)gr+=yt*Qt*Qt,Qt/=2;return gr}return yt*Qt*gr}function k(yt,Xt,Qt,gr,sr,vt,it){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Mt(Tr,on){Tr.internalformat=on.internalformat,Tr.format=on.format,Tr.type=on.type,Tr.compressed=on.compressed,Tr.premultiplyAlpha=on.premultiplyAlpha,Tr.flipY=on.flipY,Tr.unpackAlignment=on.unpackAlignment,Tr.colorSpace=on.colorSpace,Tr.width=on.width,Tr.height=on.height,Tr.channels=on.channels}function Dt(Tr,on){if(typeof on=="object"&&on){"premultiplyAlpha"in on&&(Tr.premultiplyAlpha=on.premultiplyAlpha),"flipY"in on&&(Tr.flipY=on.flipY),"alignment"in on&&(Tr.unpackAlignment=on.alignment),"colorSpace"in on&&(Tr.colorSpace=hn[on.colorSpace]),"type"in on&&(Tr.type=tn[on.type]);var rn=Tr.width,dn=Tr.height,Gn=Tr.channels,Tn=!1;"shape"in on?(rn=on.shape[0],dn=on.shape[1],on.shape.length===3&&(Gn=on.shape[2],Tn=!0)):("radius"in on&&(rn=dn=on.radius),"width"in on&&(rn=on.width),"height"in on&&(dn=on.height),"channels"in on&&(Gn=on.channels,Tn=!0)),Tr.width=rn|0,Tr.height=dn|0,Tr.channels=Gn|0,rn=!1,"format"in on&&(rn=on.format,dn=Tr.internalformat=Fn[rn],Tr.format=En[dn],rn in tn&&!("type"in on)&&(Tr.type=tn[rn]),rn in mn&&(Tr.compressed=!0),rn=!0),!Tn&&rn?Tr.channels=At[Tr.format]:Tn&&!rn&&Tr.channels!==gt[Tr.format]&&(Tr.format=Tr.internalformat=gt[Tr.channels])}}function Lt(Tr){yt.pixelStorei(37440,Tr.flipY),yt.pixelStorei(37441,Tr.premultiplyAlpha),yt.pixelStorei(37443,Tr.colorSpace),yt.pixelStorei(3317,Tr.unpackAlignment)}function Bt(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(Tr,on){var rn=null;if(i(on)?rn=on:on&&(Dt(Tr,on),"x"in on&&(Tr.xOffset=on.x|0),"y"in on&&(Tr.yOffset=on.y|0),i(on.data)&&(rn=on.data)),on.copy){var dn=sr.viewportWidth,Gn=sr.viewportHeight;Tr.width=Tr.width||dn-Tr.xOffset,Tr.height=Tr.height||Gn-Tr.yOffset,Tr.needsCopy=!0}else if(!rn)Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4;else if(Se(rn))Tr.channels=Tr.channels||4,Tr.data=rn,"type"in on||Tr.type!==5121||(Tr.type=Ne[Object.prototype.toString.call(rn)]|0);else if(b(rn)){switch(Tr.channels=Tr.channels||4,dn=rn,Gn=dn.length,Tr.type){case 5121:case 5123:case 5125:case 5126:Gn=ze.allocType(Tr.type,Gn),Gn.set(dn),Tr.data=Gn;break;case 36193:Tr.data=A(dn)}Tr.alignment=1,Tr.needsFree=!0}else if(u(rn)){dn=rn.data,Array.isArray(dn)||Tr.type!==5121||(Tr.type=Ne[Object.prototype.toString.call(dn)]|0);var Gn=rn.shape,Tn=rn.stride,Mn,Un,qn,ba;Gn.length===3?(qn=Gn[2],ba=Tn[2]):ba=qn=1,Mn=Gn[0],Un=Gn[1],Gn=Tn[0],Tn=Tn[1],Tr.alignment=1,Tr.width=Mn,Tr.height=Un,Tr.channels=qn,Tr.format=Tr.internalformat=gt[qn],Tr.needsFree=!0,Mn=ba,rn=rn.offset,qn=Tr.width,ba=Tr.height,Un=Tr.channels;for(var Va=ze.allocType(Tr.type===36193?5126:Tr.type,qn*ba*Un),Sr=0,Nr=0;Nr<ba;++Nr)for(var br=0;br<qn;++br)for(var zr=0;zr<Un;++zr)Va[Sr++]=dn[Gn*br+Tn*Nr+Mn*zr+rn];E(Tr,Va)}else if(x(rn)===Rt||x(rn)===Vt||x(rn)===Je)x(rn)===Rt||x(rn)===Vt?Tr.element=rn:Tr.element=rn.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(x(rn)===Ge)Tr.element=rn,Tr.width=rn.width,Tr.height=rn.height,Tr.channels=4;else if(x(rn)===Ie)Tr.element=rn,Tr.width=rn.naturalWidth,Tr.height=rn.naturalHeight,Tr.channels=4;else if(x(rn)===Fe)Tr.element=rn,Tr.width=rn.videoWidth,Tr.height=rn.videoHeight,Tr.channels=4;else if(S(rn)){for(dn=Tr.width||rn[0].length,Gn=Tr.height||rn.length,Tn=Tr.channels,Tn=w(rn[0][0])?Tn||rn[0][0].length:Tn||1,Mn=Ce.shape(rn),qn=1,ba=0;ba<Mn.length;++ba)qn*=Mn[ba];qn=ze.allocType(Tr.type===36193?5126:Tr.type,qn),Ce.flatten(rn,Mn,"",qn),E(Tr,qn),Tr.alignment=1,Tr.width=dn,Tr.height=Gn,Tr.channels=Tn,Tr.format=Tr.internalformat=gt[Tn],Tr.needsFree=!0}}function jt(Tr,on,rn,dn,Gn){var Tn=Tr.element,Mn=Tr.data,Un=Tr.internalformat,qn=Tr.format,ba=Tr.type,Va=Tr.width,Sr=Tr.height;Lt(Tr),Tn?yt.texSubImage2D(on,Gn,rn,dn,qn,ba,Tn):Tr.compressed?yt.compressedTexSubImage2D(on,Gn,rn,dn,Un,Va,Sr,Mn):Tr.needsCopy?(gr(),yt.copyTexSubImage2D(on,Gn,rn,dn,Tr.xOffset,Tr.yOffset,Va,Sr)):yt.texSubImage2D(on,Gn,rn,dn,Va,Sr,qn,ba,Mn)}function lr(){return _n.pop()||new Bt}function fr(Tr){Tr.needsFree&&ze.freeType(Tr.data),Bt.call(Tr),_n.push(Tr)}function hr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(Tr,on,rn){var dn=Tr.images[0]=lr();Tr.mipmask=1,dn.width=Tr.width=on,dn.height=Tr.height=rn,dn.channels=Tr.channels=4}function We(Tr,on){var rn=null;if(i(on))rn=Tr.images[0]=lr(),Mt(rn,Tr),Nt(rn,on),Tr.mipmask=1;else if(Dt(Tr,on),Array.isArray(on.mipmap))for(var dn=on.mipmap,Gn=0;Gn<dn.length;++Gn)rn=Tr.images[Gn]=lr(),Mt(rn,Tr),rn.width>>=Gn,rn.height>>=Gn,Nt(rn,dn[Gn]),Tr.mipmask|=1<<Gn;else rn=Tr.images[0]=lr(),Mt(rn,Tr),Nt(rn,on),Tr.mipmask=1;Mt(Tr,Tr.images[0])}function kt(Tr,on){for(var rn=Tr.images,dn=0;dn<rn.length&&rn[dn];++dn){var Gn=rn[dn],Tn=on,Mn=dn,Un=Gn.element,qn=Gn.data,ba=Gn.internalformat,Va=Gn.format,Sr=Gn.type,Nr=Gn.width,br=Gn.height;Lt(Gn),Un?yt.texImage2D(Tn,Mn,Va,Va,Sr,Un):Gn.compressed?yt.compressedTexImage2D(Tn,Mn,ba,Nr,br,0,qn):Gn.needsCopy?(gr(),yt.copyTexImage2D(Tn,Mn,Va,Gn.xOffset,Gn.yOffset,Nr,br,0)):yt.texImage2D(Tn,Mn,Va,Nr,br,0,Va,Sr,qn||null)}}function It(){var Tr=oa.pop()||new hr;xt.call(Tr);for(var on=Tr.mipmask=0;16>on;++on)Tr.images[on]=null;return Tr}function Zt(Tr){for(var on=Tr.images,rn=0;rn<on.length;++rn)on[rn]&&fr(on[rn]),on[rn]=null;oa.push(Tr)}function rr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(Tr,on){"min"in on&&(Tr.minFilter=Rr[on.min],0<=dt.indexOf(Tr.minFilter)&&!("faces"in on)&&(Tr.genMipmaps=!0)),"mag"in on&&(Tr.magFilter=kr[on.mag]);var rn=Tr.wrapS,dn=Tr.wrapT;if("wrap"in on){var Gn=on.wrap;typeof Gn=="string"?rn=dn=Ur[Gn]:Array.isArray(Gn)&&(rn=Ur[Gn[0]],dn=Ur[Gn[1]])}else"wrapS"in on&&(rn=Ur[on.wrapS]),"wrapT"in on&&(dn=Ur[on.wrapT]);if(Tr.wrapS=rn,Tr.wrapT=dn,"anisotropic"in on&&(Tr.anisotropic=on.anisotropic),"mipmap"in on){switch(rn=!1,typeof on.mipmap){case"string":Tr.mipmapHint=cr[on.mipmap],rn=Tr.genMipmaps=!0;break;case"boolean":rn=Tr.genMipmaps=on.mipmap;break;case"object":Tr.genMipmaps=!1,rn=!0}!rn||"min"in on||(Tr.minFilter=9984)}}function er(Tr,on){yt.texParameteri(on,10241,Tr.minFilter),yt.texParameteri(on,10240,Tr.magFilter),yt.texParameteri(on,10242,Tr.wrapS),yt.texParameteri(on,10243,Tr.wrapT),Xt.ext_texture_filter_anisotropic&&yt.texParameteri(on,34046,Tr.anisotropic),Tr.genMipmaps&&(yt.hint(33170,Tr.mipmapHint),yt.generateMipmap(on))}function Ot(Tr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Kn++,this.refCount=1,this.target=Tr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rr,it.profile&&(this.stats={size:0})}function vr(Tr){yt.activeTexture(33984),yt.bindTexture(Tr.target,Tr.texture)}function yr(){var Tr=Jn[0];Tr?yt.bindTexture(Tr.target,Tr.texture):yt.bindTexture(3553,null)}function pr(Tr){var on=Tr.texture,rn=Tr.unit,dn=Tr.target;0<=rn&&(yt.activeTexture(33984+rn),yt.bindTexture(dn,null),Jn[rn]=null),yt.deleteTexture(on),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete $n[Tr.id],vt.textureCount--}var cr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Ur={repeat:10497,clamp:33071,mirror:33648},kr={nearest:9728,linear:9729},Rr=ne({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kr),hn={none:0,browser:37444},tn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Fn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},mn={};Xt.ext_srgb&&(Fn.srgb=35904,Fn.srgba=35906),Xt.oes_texture_float&&(tn.float32=tn.float=5126),Xt.oes_texture_half_float&&(tn.float16=tn["half float"]=36193),Xt.webgl_depth_texture&&(ne(Fn,{depth:6402,"depth stencil":34041}),ne(tn,{uint16:5123,uint32:5125,"depth stencil":34042})),Xt.webgl_compressed_texture_s3tc&&ne(mn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Xt.webgl_compressed_texture_atc&&ne(mn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Xt.webgl_compressed_texture_pvrtc&&ne(mn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Xt.webgl_compressed_texture_etc1&&(mn["rgb etc1"]=36196);var Mr=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(mn).forEach(function(Tr){var on=mn[Tr];0<=Mr.indexOf(on)&&(Fn[Tr]=on)});var Er=Object.keys(Fn);Qt.textureFormats=Er;var Wr=[];Object.keys(Fn).forEach(function(Tr){Wr[Fn[Tr]]=Tr});var Hr=[];Object.keys(tn).forEach(function(Tr){Hr[tn[Tr]]=Tr});var an=[];Object.keys(kr).forEach(function(Tr){an[kr[Tr]]=Tr});var vn=[];Object.keys(Rr).forEach(function(Tr){vn[Rr[Tr]]=Tr});var pn=[];Object.keys(Ur).forEach(function(Tr){pn[Ur[Tr]]=Tr});var En=Er.reduce(function(Tr,on){var rn=Fn[on];return rn===6409||rn===6406||rn===6409||rn===6410||rn===6402||rn===34041||Xt.ext_srgb&&(rn===35904||rn===35906)?Tr[rn]=rn:rn===32855||0<=on.indexOf("rgba")?Tr[rn]=6408:Tr[rn]=6407,Tr},{}),_n=[],oa=[],Kn=0,$n={},Yn=Qt.maxTextureUnits,Jn=Array(Yn).map(function(){return null});return ne(Ot.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var on=0;on<Yn;++on){var rn=Jn[on];if(rn){if(0<rn.bindCount)continue;rn.unit=-1}Jn[on]=this,Tr=on;break}it.profile&&vt.maxTextureUnits<Tr+1&&(vt.maxTextureUnits=Tr+1),this.unit=Tr,yt.activeTexture(33984+Tr),yt.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&pr(this)}}),it.profile&&(vt.getTotalTextureSize=function(){var Tr=0;return Object.keys($n).forEach(function(on){Tr+=$n[on].stats.size}),Tr}),{create2D:function(Tr,on){function rn(Gn,Tn){var Mn=dn.texInfo;rr.call(Mn);var Un=It();return typeof Gn=="number"?typeof Tn=="number"?Ye(Un,Gn|0,Tn|0):Ye(Un,Gn|0,Gn|0):Gn?(ur(Mn,Gn),We(Un,Gn)):Ye(Un,1,1),Mn.genMipmaps&&(Un.mipmask=(Un.width<<1)-1),dn.mipmask=Un.mipmask,Mt(dn,Un),dn.internalformat=Un.internalformat,rn.width=Un.width,rn.height=Un.height,vr(dn),kt(Un,3553),er(Mn,3553),yr(),Zt(Un),it.profile&&(dn.stats.size=m(dn.internalformat,dn.type,Un.width,Un.height,Mn.genMipmaps,!1)),rn.format=Wr[dn.internalformat],rn.type=Hr[dn.type],rn.mag=an[Mn.magFilter],rn.min=vn[Mn.minFilter],rn.wrapS=pn[Mn.wrapS],rn.wrapT=pn[Mn.wrapT],rn}var dn=new Ot(3553);return $n[dn.id]=dn,vt.textureCount++,rn(Tr,on),rn.subimage=function(Gn,Tn,Mn,Un){Tn|=0,Mn|=0,Un|=0;var qn=lr();return Mt(qn,dn),qn.width=0,qn.height=0,Nt(qn,Gn),qn.width=qn.width||(dn.width>>Un)-Tn,qn.height=qn.height||(dn.height>>Un)-Mn,vr(dn),jt(qn,3553,Tn,Mn,Un),yr(),fr(qn),rn},rn.resize=function(Gn,Tn){var Mn=Gn|0,Un=Tn|0||Mn;if(Mn===dn.width&&Un===dn.height)return rn;rn.width=dn.width=Mn,rn.height=dn.height=Un,vr(dn);for(var qn=0;dn.mipmask>>qn;++qn){var ba=Mn>>qn,Va=Un>>qn;if(!ba||!Va)break;yt.texImage2D(3553,qn,dn.format,ba,Va,0,dn.format,dn.type,null)}return yr(),it.profile&&(dn.stats.size=m(dn.internalformat,dn.type,Mn,Un,!1,!1)),rn},rn._reglType="texture2d",rn._texture=dn,it.profile&&(rn.stats=dn.stats),rn.destroy=function(){dn.decRef()},rn},createCube:function(Tr,on,rn,dn,Gn,Tn){function Mn(ba,Va,Sr,Nr,br,zr){var bn,Pn=Un.texInfo;for(rr.call(Pn),bn=0;6>bn;++bn)qn[bn]=It();if(typeof ba=="number"||!ba)for(ba=ba|0||1,bn=0;6>bn;++bn)Ye(qn[bn],ba,ba);else if(typeof ba=="object")if(Va)We(qn[0],ba),We(qn[1],Va),We(qn[2],Sr),We(qn[3],Nr),We(qn[4],br),We(qn[5],zr);else if(ur(Pn,ba),Dt(Un,ba),"faces"in ba)for(ba=ba.faces,bn=0;6>bn;++bn)Mt(qn[bn],Un),We(qn[bn],ba[bn]);else for(bn=0;6>bn;++bn)We(qn[bn],ba);for(Mt(Un,qn[0]),Un.mipmask=Pn.genMipmaps?(qn[0].width<<1)-1:qn[0].mipmask,Un.internalformat=qn[0].internalformat,Mn.width=qn[0].width,Mn.height=qn[0].height,vr(Un),bn=0;6>bn;++bn)kt(qn[bn],34069+bn);for(er(Pn,34067),yr(),it.profile&&(Un.stats.size=m(Un.internalformat,Un.type,Mn.width,Mn.height,Pn.genMipmaps,!0)),Mn.format=Wr[Un.internalformat],Mn.type=Hr[Un.type],Mn.mag=an[Pn.magFilter],Mn.min=vn[Pn.minFilter],Mn.wrapS=pn[Pn.wrapS],Mn.wrapT=pn[Pn.wrapT],bn=0;6>bn;++bn)Zt(qn[bn]);return Mn}var Un=new Ot(34067);$n[Un.id]=Un,vt.cubeCount++;var qn=Array(6);return Mn(Tr,on,rn,dn,Gn,Tn),Mn.subimage=function(ba,Va,Sr,Nr,br){Sr|=0,Nr|=0,br|=0;var zr=lr();return Mt(zr,Un),zr.width=0,zr.height=0,Nt(zr,Va),zr.width=zr.width||(Un.width>>br)-Sr,zr.height=zr.height||(Un.height>>br)-Nr,vr(Un),jt(zr,34069+ba,Sr,Nr,br),yr(),fr(zr),Mn},Mn.resize=function(ba){if(ba|=0,ba!==Un.width){Mn.width=Un.width=ba,Mn.height=Un.height=ba,vr(Un);for(var Va=0;6>Va;++Va)for(var Sr=0;Un.mipmask>>Sr;++Sr)yt.texImage2D(34069+Va,Sr,Un.format,ba>>Sr,ba>>Sr,0,Un.format,Un.type,null);return yr(),it.profile&&(Un.stats.size=m(Un.internalformat,Un.type,Mn.width,Mn.height,!1,!0)),Mn}},Mn._reglType="textureCube",Mn._texture=Un,it.profile&&(Mn.stats=Un.stats),Mn.destroy=function(){Un.decRef()},Mn},clear:function(){for(var Tr=0;Tr<Yn;++Tr)yt.activeTexture(33984+Tr),yt.bindTexture(3553,null),Jn[Tr]=null;me($n).forEach(pr),vt.cubeCount=0,vt.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<Yn;++Tr){var on=Jn[Tr];on&&(on.bindCount=0,on.unit=-1,Jn[Tr]=null)}me($n).forEach(function(rn){rn.texture=yt.createTexture(),yt.bindTexture(rn.target,rn.texture);for(var dn=0;32>dn;++dn)if(rn.mipmask&1<<dn)if(rn.target===3553)yt.texImage2D(3553,dn,rn.internalformat,rn.width>>dn,rn.height>>dn,0,rn.internalformat,rn.type,null);else for(var Gn=0;6>Gn;++Gn)yt.texImage2D(34069+Gn,dn,rn.internalformat,rn.width>>dn,rn.height>>dn,0,rn.internalformat,rn.type,null);er(rn.texInfo,rn.target)})},refresh:function(){for(var Tr=0;Tr<Yn;++Tr){var on=Jn[Tr];on&&(on.bindCount=0,on.unit=-1,Jn[Tr]=null),yt.activeTexture(33984+Tr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function I(yt,Xt,Qt,gr,sr,vt){function it(Ot,vr,yr){this.target=Ot,this.texture=vr,this.renderbuffer=yr;var pr=Ot=0;vr?(Ot=vr.width,pr=vr.height):yr&&(Ot=yr.width,pr=yr.height),this.width=Ot,this.height=pr}function xt(Ot){Ot&&(Ot.texture&&Ot.texture._texture.decRef(),Ot.renderbuffer&&Ot.renderbuffer._renderbuffer.decRef())}function Mt(Ot,vr,yr){Ot&&(Ot.texture?Ot.texture._texture.refCount+=1:Ot.renderbuffer._renderbuffer.refCount+=1)}function Dt(Ot,vr){vr&&(vr.texture?yt.framebufferTexture2D(36160,Ot,vr.target,vr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,Ot,36161,vr.renderbuffer._renderbuffer.renderbuffer))}function Lt(Ot){var vr=3553,yr=null,pr=null,cr=Ot;return typeof Ot=="object"&&(cr=Ot.data,"target"in Ot&&(vr=Ot.target|0)),Ot=cr._reglType,Ot==="texture2d"||Ot==="textureCube"?yr=cr:Ot==="renderbuffer"&&(pr=cr,vr=36161),new it(vr,yr,pr)}function Bt(Ot,vr,yr,pr,cr){return yr?(Ot=gr.create2D({width:Ot,height:vr,format:pr,type:cr}),Ot._texture.refCount=0,new it(3553,Ot,null)):(Ot=sr.create({width:Ot,height:vr,format:pr}),Ot._renderbuffer.refCount=0,new it(36161,null,Ot))}function Nt(Ot){return Ot&&(Ot.texture||Ot.renderbuffer)}function jt(Ot,vr,yr){Ot&&(Ot.texture?Ot.texture.resize(vr,yr):Ot.renderbuffer&&Ot.renderbuffer.resize(vr,yr),Ot.width=vr,Ot.height=yr)}function lr(){this.id=ur++,er[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function fr(Ot){Ot.colorAttachments.forEach(xt),xt(Ot.depthAttachment),xt(Ot.stencilAttachment),xt(Ot.depthStencilAttachment)}function hr(Ot){yt.deleteFramebuffer(Ot.framebuffer),Ot.framebuffer=null,vt.framebufferCount--,delete er[Ot.id]}function Ye(Ot){var vr;yt.bindFramebuffer(36160,Ot.framebuffer);var yr=Ot.colorAttachments;for(vr=0;vr<yr.length;++vr)Dt(36064+vr,yr[vr]);for(vr=yr.length;vr<Qt.maxColorAttachments;++vr)yt.framebufferTexture2D(36160,36064+vr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,Ot.depthAttachment),Dt(36128,Ot.stencilAttachment),Dt(33306,Ot.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,kt.next?kt.next.framebuffer:null),kt.cur=kt.next,yt.getError()}function We(Ot,vr){function yr(cr,Ur){var kr,Rr=0,hn=0,tn=!0,Fn=!0;kr=null;var mn=!0,Mr="rgba",Er="uint8",Wr=1,Hr=null,an=null,vn=null,pn=!1;typeof cr=="number"?(Rr=cr|0,hn=Ur|0||Rr):cr?("shape"in cr?(hn=cr.shape,Rr=hn[0],hn=hn[1]):("radius"in cr&&(Rr=hn=cr.radius),"width"in cr&&(Rr=cr.width),"height"in cr&&(hn=cr.height)),("color"in cr||"colors"in cr)&&(kr=cr.color||cr.colors),kr||("colorCount"in cr&&(Wr=cr.colorCount|0),"colorTexture"in cr&&(mn=!!cr.colorTexture,Mr="rgba4"),"colorType"in cr&&(Er=cr.colorType,!mn)&&(Er==="half float"||Er==="float16"?Mr="rgba16f":(Er==="float"||Er==="float32")&&(Mr="rgba32f")),"colorFormat"in cr&&(Mr=cr.colorFormat,0<=It.indexOf(Mr)?mn=!0:0<=Zt.indexOf(Mr)&&(mn=!1))),("depthTexture"in cr||"depthStencilTexture"in cr)&&(pn=!(!cr.depthTexture&&!cr.depthStencilTexture)),"depth"in cr&&(typeof cr.depth=="boolean"?tn=cr.depth:(Hr=cr.depth,Fn=!1)),"stencil"in cr&&(typeof cr.stencil=="boolean"?Fn=cr.stencil:(an=cr.stencil,tn=!1)),"depthStencil"in cr&&(typeof cr.depthStencil=="boolean"?tn=Fn=cr.depthStencil:(vn=cr.depthStencil,Fn=tn=!1))):Rr=hn=1;var En=null,_n=null,oa=null,Kn=null;if(Array.isArray(kr))En=kr.map(Lt);else if(kr)En=[Lt(kr)];else for(En=Array(Wr),kr=0;kr<Wr;++kr)En[kr]=Bt(Rr,hn,mn,Mr,Er);for(Rr=Rr||En[0].width,hn=hn||En[0].height,Hr?_n=Lt(Hr):tn&&!Fn&&(_n=Bt(Rr,hn,pn,"depth","uint32")),an?oa=Lt(an):Fn&&!tn&&(oa=Bt(Rr,hn,!1,"stencil","uint8")),vn?Kn=Lt(vn):!Hr&&!an&&Fn&&tn&&(Kn=Bt(Rr,hn,pn,"depth stencil","depth stencil")),tn=null,kr=0;kr<En.length;++kr)Mt(En[kr]),En[kr]&&En[kr].texture&&(Fn=Ue[En[kr].texture._texture.format]*Ze[En[kr].texture._texture.type],tn===null&&(tn=Fn));return Mt(_n),Mt(oa),Mt(Kn),fr(pr),pr.width=Rr,pr.height=hn,pr.colorAttachments=En,pr.depthAttachment=_n,pr.stencilAttachment=oa,pr.depthStencilAttachment=Kn,yr.color=En.map(Nt),yr.depth=Nt(_n),yr.stencil=Nt(oa),yr.depthStencil=Nt(Kn),yr.width=pr.width,yr.height=pr.height,Ye(pr),yr}var pr=new lr;return vt.framebufferCount++,yr(Ot,vr),ne(yr,{resize:function(cr,Ur){var kr=Math.max(cr|0,1),Rr=Math.max(Ur|0||kr,1);if(kr===pr.width&&Rr===pr.height)return yr;for(var hn=pr.colorAttachments,tn=0;tn<hn.length;++tn)jt(hn[tn],kr,Rr);return jt(pr.depthAttachment,kr,Rr),jt(pr.stencilAttachment,kr,Rr),jt(pr.depthStencilAttachment,kr,Rr),pr.width=yr.width=kr,pr.height=yr.height=Rr,Ye(pr),yr},_reglType:"framebuffer",_framebuffer:pr,destroy:function(){hr(pr),fr(pr)},use:function(cr){kt.setFBO({framebuffer:yr},cr)}})}var kt={cur:null,next:null,dirty:!1,setFBO:null},It=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];Xt.ext_srgb&&Zt.push("srgba"),Xt.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),Xt.webgl_color_buffer_float&&Zt.push("rgba32f");var rr=["uint8"];Xt.oes_texture_half_float&&rr.push("half float","float16"),Xt.oes_texture_float&&rr.push("float","float32");var ur=0,er={};return ne(kt,{getFramebuffer:function(Ot){return typeof Ot=="function"&&Ot._reglType==="framebuffer"&&(Ot=Ot._framebuffer,Ot instanceof lr)?Ot:null},create:We,createCube:function(Ot){function vr(pr){var cr,Ur={color:null},kr=0,Rr=null;cr="rgba";var hn="uint8",tn=1;if(typeof pr=="number"?kr=pr|0:pr?("shape"in pr?kr=pr.shape[0]:("radius"in pr&&(kr=pr.radius|0),"width"in pr?kr=pr.width|0:"height"in pr&&(kr=pr.height|0)),("color"in pr||"colors"in pr)&&(Rr=pr.color||pr.colors),Rr||("colorCount"in pr&&(tn=pr.colorCount|0),"colorType"in pr&&(hn=pr.colorType),"colorFormat"in pr&&(cr=pr.colorFormat)),"depth"in pr&&(Ur.depth=pr.depth),"stencil"in pr&&(Ur.stencil=pr.stencil),"depthStencil"in pr&&(Ur.depthStencil=pr.depthStencil)):kr=1,Rr)if(Array.isArray(Rr))for(pr=[],cr=0;cr<Rr.length;++cr)pr[cr]=Rr[cr];else pr=[Rr];else for(pr=Array(tn),Rr={radius:kr,format:cr,type:hn},cr=0;cr<tn;++cr)pr[cr]=gr.createCube(Rr);for(Ur.color=Array(pr.length),cr=0;cr<pr.length;++cr)tn=pr[cr],kr=kr||tn.width,Ur.color[cr]={target:34069,data:pr[cr]};for(cr=0;6>cr;++cr){for(tn=0;tn<pr.length;++tn)Ur.color[tn].target=34069+cr;0<cr&&(Ur.depth=yr[0].depth,Ur.stencil=yr[0].stencil,Ur.depthStencil=yr[0].depthStencil),yr[cr]?yr[cr](Ur):yr[cr]=We(Ur)}return ne(vr,{width:kr,height:kr,color:pr})}var yr=Array(6);return vr(Ot),ne(vr,{faces:yr,resize:function(pr){var cr=pr|0;if(cr===vr.width)return vr;var Ur=vr.color;for(pr=0;pr<Ur.length;++pr)Ur[pr].resize(cr);for(pr=0;6>pr;++pr)yr[pr].resize(cr);return vr.width=vr.height=cr,vr},_reglType:"framebufferCube",destroy:function(){yr.forEach(function(pr){pr.destroy()})}})},clear:function(){me(er).forEach(hr)},restore:function(){kt.cur=null,kt.next=null,kt.dirty=!0,me(er).forEach(function(Ot){Ot.framebuffer=yt.createFramebuffer(),Ye(Ot)})}})}function U(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(yt,Xt,Qt,gr,sr,vt,it){function xt(Ye){if(Ye!==hr.currentVAO){var We=Xt.oes_vertex_array_object;Ye?We.bindVertexArrayOES(Ye.vao):We.bindVertexArrayOES(null),hr.currentVAO=Ye}}function Mt(Ye){if(Ye!==hr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var We=Xt.angle_instanced_arrays,kt=0;kt<jt.length;++kt){var It=jt[kt];It.buffer?(yt.enableVertexAttribArray(kt),It.buffer.bind(),yt.vertexAttribPointer(kt,It.size,It.type,It.normalized,It.stride,It.offfset),We&&It.divisor&&We.vertexAttribDivisorANGLE(kt,It.divisor)):(yt.disableVertexAttribArray(kt),yt.vertexAttrib4f(kt,It.x,It.y,It.z,It.w))}it.elements?yt.bindBuffer(34963,it.elements.buffer.buffer):yt.bindBuffer(34963,null)}hr.currentVAO=Ye}}function Dt(){me(fr).forEach(function(Ye){Ye.destroy()})}function Lt(){this.id=++lr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Xt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,fr[this.id]=this,this.buffers=[]}function Bt(){Xt.oes_vertex_array_object&&me(fr).forEach(function(Ye){Ye.refresh()})}var Nt=Qt.maxAttributes,jt=Array(Nt);for(Qt=0;Qt<Nt;++Qt)jt[Qt]=new U;var lr=0,fr={},hr={Record:U,scope:{},state:jt,currentVAO:null,targetVAO:null,restore:Xt.oes_vertex_array_object?Bt:function(){},createVAO:function(Ye){function We(It){var Zt;Array.isArray(It)?(Zt=It,kt.elements&&kt.ownsElements&&kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1,kt.offset=0,kt.count=0,kt.instances=-1,kt.primitive=4):(It.elements?(Zt=It.elements,kt.ownsElements?(typeof Zt=="function"&&Zt._reglType==="elements"?kt.elements.destroy():kt.elements(Zt),kt.ownsElements=!1):vt.getElements(It.elements)?(kt.elements=It.elements,kt.ownsElements=!1):(kt.elements=vt.create(It.elements),kt.ownsElements=!0)):(kt.elements=null,kt.ownsElements=!1),Zt=It.attributes,kt.offset=0,kt.count=-1,kt.instances=-1,kt.primitive=4,kt.elements&&(kt.count=kt.elements._elements.vertCount,kt.primitive=kt.elements._elements.primType),"offset"in It&&(kt.offset=It.offset|0),"count"in It&&(kt.count=It.count|0),"instances"in It&&(kt.instances=It.instances|0),"primitive"in It&&(kt.primitive=$e[It.primitive])),It={};var rr=kt.attributes;rr.length=Zt.length;for(var ur=0;ur<Zt.length;++ur){var er=Zt[ur],Ot=rr[ur]=new U,vr=er.data||er;if(Array.isArray(vr)||Se(vr)||u(vr)){var yr;kt.buffers[ur]&&(yr=kt.buffers[ur],Se(vr)&&yr._buffer.byteLength>=vr.byteLength?yr.subdata(vr):(yr.destroy(),kt.buffers[ur]=null)),kt.buffers[ur]||(yr=kt.buffers[ur]=sr.create(er,34962,!1,!0)),Ot.buffer=sr.getBuffer(yr),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1,It[ur]=1}else sr.getBuffer(er)?(Ot.buffer=sr.getBuffer(er),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1):sr.getBuffer(er.buffer)?(Ot.buffer=sr.getBuffer(er.buffer),Ot.size=(+er.size||Ot.buffer.dimension)|0,Ot.normalized=!!er.normalized||!1,Ot.type="type"in er?He[er.type]:Ot.buffer.dtype,Ot.offset=(er.offset||0)|0,Ot.stride=(er.stride||0)|0,Ot.divisor=(er.divisor||0)|0,Ot.state=1):"x"in er&&(Ot.x=+er.x||0,Ot.y=+er.y||0,Ot.z=+er.z||0,Ot.w=+er.w||0,Ot.state=2)}for(yr=0;yr<kt.buffers.length;++yr)!It[yr]&&kt.buffers[yr]&&(kt.buffers[yr].destroy(),kt.buffers[yr]=null);return kt.refresh(),We}var kt=new Lt;return gr.vaoCount+=1,We.destroy=function(){for(var It=0;It<kt.buffers.length;++It)kt.buffers[It]&&kt.buffers[It].destroy();kt.buffers.length=0,kt.ownsElements&&(kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1),kt.destroy()},We._vao=kt,We._reglType="vao",We(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var We=0;We<jt.length;++We){var kt=jt[We];kt.buffer===Ye&&(yt.disableVertexAttribArray(We),kt.buffer=null)}},setVAO:Xt.oes_vertex_array_object?xt:Mt,clear:Xt.oes_vertex_array_object?Dt:function(){}};return Lt.prototype.bindAttrs=function(){for(var Ye=Xt.angle_instanced_arrays,We=this.attributes,kt=0;kt<We.length;++kt){var It=We[kt];It.buffer?(yt.enableVertexAttribArray(kt),yt.bindBuffer(34962,It.buffer.buffer),yt.vertexAttribPointer(kt,It.size,It.type,It.normalized,It.stride,It.offset),Ye&&It.divisor&&Ye.vertexAttribDivisorANGLE(kt,It.divisor)):(yt.disableVertexAttribArray(kt),yt.vertexAttrib4f(kt,It.x,It.y,It.z,It.w))}for(Ye=We.length;Ye<Nt;++Ye)yt.disableVertexAttribArray(Ye);(Ye=vt.getElements(this.elements))?yt.bindBuffer(34963,Ye.buffer.buffer):yt.bindBuffer(34963,null)},Lt.prototype.refresh=function(){var Ye=Xt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),hr.currentVAO=null,Ye.bindVertexArrayOES(null))},Lt.prototype.destroy=function(){if(this.vao){var Ye=Xt.oes_vertex_array_object;this===hr.currentVAO&&(hr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),fr[this.id]&&(delete fr[this.id],--gr.vaoCount)},hr}function F(yt,Xt,Qt,gr){function sr(lr,fr,hr,Ye){this.name=lr,this.id=fr,this.location=hr,this.info=Ye}function vt(lr,fr){for(var hr=0;hr<lr.length;++hr)if(lr[hr].id===fr.id){lr[hr].location=fr.location;return}lr.push(fr)}function it(lr,fr,hr){hr=lr===35632?Dt:Lt;var Ye=hr[fr];if(!Ye){var We=Xt.str(fr),Ye=yt.createShader(lr);yt.shaderSource(Ye,We),yt.compileShader(Ye),hr[fr]=Ye}return Ye}function xt(lr,fr){this.id=jt++,this.fragId=lr,this.vertId=fr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,gr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Mt(lr,fr,hr){var Ye;Ye=it(35632,lr.fragId);var We=it(35633,lr.vertId);if(fr=lr.program=yt.createProgram(),yt.attachShader(fr,Ye),yt.attachShader(fr,We),hr)for(Ye=0;Ye<hr.length;++Ye)We=hr[Ye],yt.bindAttribLocation(fr,We[0],We[1]);yt.linkProgram(fr),We=yt.getProgramParameter(fr,35718),gr.profile&&(lr.stats.uniformsCount=We);var kt=lr.uniforms;for(Ye=0;Ye<We;++Ye)if(hr=yt.getActiveUniform(fr,Ye))if(1<hr.size)for(var It=0;It<hr.size;++It){var Zt=hr.name.replace("[0]","["+It+"]");vt(kt,new sr(Zt,Xt.id(Zt),yt.getUniformLocation(fr,Zt),hr))}else vt(kt,new sr(hr.name,Xt.id(hr.name),yt.getUniformLocation(fr,hr.name),hr));for(We=yt.getProgramParameter(fr,35721),gr.profile&&(lr.stats.attributesCount=We),lr=lr.attributes,Ye=0;Ye<We;++Ye)(hr=yt.getActiveAttrib(fr,Ye))&&vt(lr,new sr(hr.name,Xt.id(hr.name),yt.getAttribLocation(fr,hr.name),hr))}var Dt={},Lt={},Bt={},Nt=[],jt=0;return gr.profile&&(Qt.getMaxUniformsCount=function(){var lr=0;return Nt.forEach(function(fr){fr.stats.uniformsCount>lr&&(lr=fr.stats.uniformsCount)}),lr},Qt.getMaxAttributesCount=function(){var lr=0;return Nt.forEach(function(fr){fr.stats.attributesCount>lr&&(lr=fr.stats.attributesCount)}),lr}),{clear:function(){var lr=yt.deleteShader.bind(yt);me(Dt).forEach(lr),Dt={},me(Lt).forEach(lr),Lt={},Nt.forEach(function(fr){yt.deleteProgram(fr.program)}),Nt.length=0,Bt={},Qt.shaderCount=0},program:function(lr,fr,hr,Ye){var We=Bt[fr];We||(We=Bt[fr]={});var kt=We[lr];if(kt&&(kt.refCount++,!Ye))return kt;var It=new xt(fr,lr);return Qt.shaderCount++,Mt(It,hr,Ye),kt||(We[lr]=It),Nt.push(It),ne(It,{destroy:function(){if(It.refCount--,0>=It.refCount){yt.deleteProgram(It.program);var Zt=Nt.indexOf(It);Nt.splice(Zt,1),Qt.shaderCount--}0>=We[It.vertId].refCount&&(yt.deleteShader(Lt[It.vertId]),delete Lt[It.vertId],delete Bt[It.fragId][It.vertId]),Object.keys(Bt[It.fragId]).length||(yt.deleteShader(Dt[It.fragId]),delete Dt[It.fragId],delete Bt[It.fragId])}})},restore:function(){Dt={},Lt={};for(var lr=0;lr<Nt.length;++lr)Mt(Nt[lr],null,Nt[lr].attributes.map(function(fr){return[fr.location,fr.name]}))},shader:it,frag:-1,vert:-1}}function B(yt,Xt,Qt,gr,sr,vt,it){function xt(Dt){var Lt;Lt=Xt.next===null?5121:Xt.next.colorAttachments[0].texture._texture.type;var Bt=0,Nt=0,jt=gr.framebufferWidth,lr=gr.framebufferHeight,fr=null;return Se(Dt)?fr=Dt:Dt&&(Bt=Dt.x|0,Nt=Dt.y|0,jt=(Dt.width||gr.framebufferWidth-Bt)|0,lr=(Dt.height||gr.framebufferHeight-Nt)|0,fr=Dt.data||null),Qt(),Dt=jt*lr*4,fr||(Lt===5121?fr=new Uint8Array(Dt):Lt===5126&&(fr=fr||new Float32Array(Dt))),yt.pixelStorei(3333,4),yt.readPixels(Bt,Nt,jt,lr,6408,Lt,fr),fr}function Mt(Dt){var Lt;return Xt.setFBO({framebuffer:Dt.framebuffer},function(){Lt=xt(Dt)}),Lt}return function(Dt){return Dt&&"framebuffer"in Dt?Mt(Dt):xt(Dt)}}function O(yt){for(var Xt=Array(yt.length>>2),gr=0;gr<Xt.length;gr++)Xt[gr]=0;for(gr=0;gr<8*yt.length;gr+=8)Xt[gr>>5]|=(yt.charCodeAt(gr/8)&255)<<24-gr%32;var Qt=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var gr=Array(64),sr,vt,it,xt,Mt,Dt,Lt,Bt,Nt,jt,lr;for(Xt[Qt>>5]|=128<<24-Qt%32,Xt[(Qt+64>>9<<4)+15]=Qt,Bt=0;Bt<Xt.length;Bt+=16){for(Qt=yt[0],sr=yt[1],vt=yt[2],it=yt[3],xt=yt[4],Mt=yt[5],Dt=yt[6],Lt=yt[7],Nt=0;64>Nt;Nt++){if(16>Nt)gr[Nt]=Xt[Nt+Bt];else{jt=Nt,lr=gr[Nt-2],lr=$(lr,17)^$(lr,19)^lr>>>10,lr=te(lr,gr[Nt-7]);var fr;fr=gr[Nt-15],fr=$(fr,7)^$(fr,18)^fr>>>3,gr[jt]=te(te(lr,fr),gr[Nt-16])}jt=xt,jt=$(jt,6)^$(jt,11)^$(jt,25),jt=te(te(te(te(Lt,jt),xt&Mt^~xt&Dt),tt[Nt]),gr[Nt]),Lt=Qt,Lt=$(Lt,2)^$(Lt,13)^$(Lt,22),lr=te(Lt,Qt&sr^Qt&vt^sr&vt),Lt=Dt,Dt=Mt,Mt=xt,xt=te(it,jt),it=vt,vt=sr,sr=Qt,Qt=te(jt,lr)}yt[0]=te(Qt,yt[0]),yt[1]=te(sr,yt[1]),yt[2]=te(vt,yt[2]),yt[3]=te(it,yt[3]),yt[4]=te(xt,yt[4]),yt[5]=te(Mt,yt[5]),yt[6]=te(Dt,yt[6]),yt[7]=te(Lt,yt[7])}for(Xt="",gr=0;gr<32*yt.length;gr+=8)Xt+=String.fromCharCode(yt[gr>>5]>>>24-gr%32&255);return Xt}function N(yt){for(var Xt="",Qt,gr=0;gr<yt.length;gr++)Qt=yt.charCodeAt(gr),Xt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return Xt}function Y(yt){for(var Xt="",Qt=-1,gr,sr;++Qt<yt.length;)gr=yt.charCodeAt(Qt),sr=Qt+1<yt.length?yt.charCodeAt(Qt+1):0,55296<=gr&&56319>=gr&&56320<=sr&&57343>=sr&&(gr=65536+((gr&1023)<<10)+(sr&1023),Qt++),127>=gr?Xt+=String.fromCharCode(gr):2047>=gr?Xt+=String.fromCharCode(192|gr>>>6&31,128|gr&63):65535>=gr?Xt+=String.fromCharCode(224|gr>>>12&15,128|gr>>>6&63,128|gr&63):2097151>=gr&&(Xt+=String.fromCharCode(240|gr>>>18&7,128|gr>>>12&63,128|gr>>>6&63,128|gr&63));return Xt}function $(yt,Xt){return yt>>>Xt|yt<<32-Xt}function te(yt,Xt){var Qt=(yt&65535)+(Xt&65535);return(yt>>16)+(Xt>>16)+(Qt>>16)<<16|Qt&65535}function ie(yt){return Array.prototype.slice.call(yt)}function ce(yt){return ie(yt).join("")}function J(yt){function Xt(){var Lt=[],Bt=[];return ne(function(){Lt.push.apply(Lt,ie(arguments))},{def:function(){var Nt="v"+sr++;return Bt.push(Nt),0<arguments.length&&(Lt.push(Nt,"="),Lt.push.apply(Lt,ie(arguments)),Lt.push(";")),Nt},toString:function(){return ce([0<Bt.length?"var "+Bt.join(",")+";":"",ce(Lt)])}})}function Qt(){function Lt(fr,hr){Nt(fr,hr,"=",Bt.def(fr,hr),";")}var Bt=Xt(),Nt=Xt(),jt=Bt.toString,lr=Nt.toString;return ne(function(){Bt.apply(Bt,ie(arguments))},{def:Bt.def,entry:Bt,exit:Nt,save:Lt,set:function(fr,hr,Ye){Lt(fr,hr),Bt(fr,hr,"=",Ye,";")},toString:function(){return jt()+lr()}})}var gr=yt&&yt.cache,sr=0,vt=[],it=[],xt=[],Mt=Xt(),Dt={};return{global:Mt,link:function(Lt,Bt){var Nt=Bt&&Bt.stable;if(!Nt){for(var jt=0;jt<it.length;++jt)if(it[jt]===Lt&&!xt[jt])return vt[jt]}return jt="g"+sr++,vt.push(jt),it.push(Lt),xt.push(Nt),jt},block:Xt,proc:function(Lt,Bt){function Nt(){var hr="a"+jt.length;return jt.push(hr),hr}var jt=[];Bt=Bt||0;for(var lr=0;lr<Bt;++lr)Nt();var lr=Qt(),fr=lr.toString;return Dt[Lt]=ne(lr,{arg:Nt,toString:function(){return ce(["function(",jt.join(),"){",fr(),"}"])}})},scope:Qt,cond:function(){var Lt=ce(arguments),Bt=Qt(),Nt=Qt(),jt=Bt.toString,lr=Nt.toString;return ne(Bt,{then:function(){return Bt.apply(Bt,ie(arguments)),this},else:function(){return Nt.apply(Nt,ie(arguments)),this},toString:function(){var fr=lr();return fr&&(fr="else{"+fr+"}"),ce(["if(",Lt,"){",jt(),"}",fr])}})},compile:function(){var Lt=['"use strict";',Mt,"return {"];Object.keys(Dt).forEach(function(jt){Lt.push('"',jt,'":',Dt[jt].toString(),",")}),Lt.push("}");var Bt=ce(Lt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return gr&&(Nt=N(O(Y(Bt))),gr[Nt])?gr[Nt].apply(null,it):(Bt=Function.apply(null,vt.concat(Bt)),gr&&(gr[Nt]=Bt),Bt.apply(null,it))}}}function Z(yt){return Array.isArray(yt)||Se(yt)||u(yt)}function ae(yt){return yt.sort(function(Xt,Qt){return Xt==="viewport"?-1:Qt==="viewport"?1:Xt<Qt?-1:1})}function j(yt,Xt,Qt,gr){this.thisDep=yt,this.contextDep=Xt,this.propDep=Qt,this.append=gr}function q(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function oe(yt){return new j(!1,!1,!1,yt)}function Q(yt,Xt){var Qt=yt.type;if(Qt===0)return Qt=yt.data.length,new j(!0,1<=Qt,2<=Qt,Xt);if(Qt===4)return Qt=yt.data,new j(Qt.thisDep,Qt.contextDep,Qt.propDep,Xt);if(Qt===5)return new j(!1,!1,!1,Xt);if(Qt===6){for(var gr=Qt=!1,sr=!1,vt=0;vt<yt.data.length;++vt){var it=yt.data[vt];it.type===1?sr=!0:it.type===2?gr=!0:it.type===3?Qt=!0:it.type===0?(Qt=!0,it=it.data,1<=it&&(gr=!0),2<=it&&(sr=!0)):it.type===4&&(Qt=Qt||it.data.thisDep,gr=gr||it.data.contextDep,sr=sr||it.data.propDep)}return new j(Qt,gr,sr,Xt)}return new j(Qt===3,Qt===2,Qt===1,Xt)}function K(yt,Xt,Qt,gr,sr,vt,it,xt,Mt,Dt,Lt,Bt,Nt,jt,lr,fr){function hr(Sr){return Sr.replace(".","_")}function Ye(Sr,Nr,br){var zr=hr(Sr);Tn.push(Sr),Gn[zr]=dn[zr]=!!br,Mn[zr]=Nr}function We(Sr,Nr,br){var zr=hr(Sr);Tn.push(Sr),Array.isArray(br)?(dn[zr]=br.slice(),Gn[zr]=br.slice()):dn[zr]=Gn[zr]=br,Un[zr]=Nr}function kt(){var Sr=J({cache:lr}),Nr=Sr.link,br=Sr.global;Sr.id=Va++,Sr.batchId="0";var zr=Nr(qn),bn=Sr.shared={props:"a0"};Object.keys(qn).forEach(function(jr){bn[jr]=br.def(zr,".",jr)});var Pn=Sr.next={},gn=Sr.current={};Object.keys(Un).forEach(function(jr){Array.isArray(dn[jr])&&(Pn[jr]=br.def(bn.next,".",jr),gn[jr]=br.def(bn.current,".",jr))});var cn=Sr.constants={};Object.keys(ba).forEach(function(jr){cn[jr]=br.def(JSON.stringify(ba[jr]))}),Sr.invoke=function(jr,Gr){switch(Gr.type){case 0:var Qr=["this",bn.context,bn.props,Sr.batchId];return jr.def(Nr(Gr.data),".call(",Qr.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return jr.def(bn.props,Gr.data);case 2:return jr.def(bn.context,Gr.data);case 3:return jr.def("this",Gr.data);case 4:return Gr.data.append(Sr,jr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(wn){return Sr.invoke(jr,wn)})}},Sr.attribCache={};var Lr={};return Sr.scopeAttrib=function(jr){if(jr=Xt.id(jr),jr in Lr)return Lr[jr];var Gr=Dt.scope[jr];return Gr||(Gr=Dt.scope[jr]=new Yn),Lr[jr]=Nr(Gr)},Sr}function It(Sr){var Nr=Sr.static;Sr=Sr.dynamic;var br;if("profile"in Nr){var zr=!!Nr.profile;br=oe(function(Pn,gn){return zr}),br.enable=zr}else if("profile"in Sr){var bn=Sr.profile;br=Q(bn,function(Pn,gn){return Pn.invoke(gn,bn)})}return br}function Zt(Sr,Nr){var br=Sr.static,zr=Sr.dynamic;if("framebuffer"in br){var bn=br.framebuffer;return bn?(bn=xt.getFramebuffer(bn),oe(function(gn,cn){var Lr=gn.link(bn),jr=gn.shared;return cn.set(jr.framebuffer,".next",Lr),jr=jr.context,cn.set(jr,".framebufferWidth",Lr+".width"),cn.set(jr,".framebufferHeight",Lr+".height"),Lr})):oe(function(gn,cn){var Lr=gn.shared;return cn.set(Lr.framebuffer,".next","null"),Lr=Lr.context,cn.set(Lr,".framebufferWidth",Lr+".drawingBufferWidth"),cn.set(Lr,".framebufferHeight",Lr+".drawingBufferHeight"),"null"})}if("framebuffer"in zr){var Pn=zr.framebuffer;return Q(Pn,function(gn,cn){var Gr=gn.invoke(cn,Pn),Lr=gn.shared,jr=Lr.framebuffer,Gr=cn.def(jr,".getFramebuffer(",Gr,")");return cn.set(jr,".next",Gr),Lr=Lr.context,cn.set(Lr,".framebufferWidth",Gr+"?"+Gr+".width:"+Lr+".drawingBufferWidth"),cn.set(Lr,".framebufferHeight",Gr+"?"+Gr+".height:"+Lr+".drawingBufferHeight"),Gr})}return null}function rr(Sr,Nr,br){function zr(cn){if(cn in bn){var Lr=bn[cn];cn=!0;var jr=Lr.x|0,Gr=Lr.y|0,Qr,wn;return"width"in Lr?Qr=Lr.width|0:cn=!1,"height"in Lr?wn=Lr.height|0:cn=!1,new j(!cn&&Nr&&Nr.thisDep,!cn&&Nr&&Nr.contextDep,!cn&&Nr&&Nr.propDep,function(Dn,Nn){var On=Dn.shared.context,ga=Qr;"width"in Lr||(ga=Nn.def(On,".","framebufferWidth","-",jr));var la=wn;return"height"in Lr||(la=Nn.def(On,".","framebufferHeight","-",Gr)),[jr,Gr,ga,la]})}if(cn in Pn){var kn=Pn[cn];return cn=Q(kn,function(Dn,Nn){var La=Dn.invoke(Nn,kn),On=Dn.shared.context,ga=Nn.def(La,".x|0"),la=Nn.def(La,".y|0"),pa=Nn.def('"width" in ',La,"?",La,".width|0:","(",On,".","framebufferWidth","-",ga,")"),La=Nn.def('"height" in ',La,"?",La,".height|0:","(",On,".","framebufferHeight","-",la,")");return[ga,la,pa,La]}),Nr&&(cn.thisDep=cn.thisDep||Nr.thisDep,cn.contextDep=cn.contextDep||Nr.contextDep,cn.propDep=cn.propDep||Nr.propDep),cn}return Nr?new j(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Dn,Nn){var On=Dn.shared.context;return[0,0,Nn.def(On,".","framebufferWidth"),Nn.def(On,".","framebufferHeight")]}):null}var bn=Sr.static,Pn=Sr.dynamic;if(Sr=zr("viewport")){var gn=Sr;Sr=new j(Sr.thisDep,Sr.contextDep,Sr.propDep,function(cn,Lr){var jr=gn.append(cn,Lr),Gr=cn.shared.context;return Lr.set(Gr,".viewportWidth",jr[2]),Lr.set(Gr,".viewportHeight",jr[3]),jr})}return{viewport:Sr,scissor_box:zr("scissor.box")}}function ur(Sr,Nr){var br=Sr.static;if(typeof br.frag=="string"&&typeof br.vert=="string"){if(0<Object.keys(Nr.dynamic).length)return null;var br=Nr.static,zr=Object.keys(br);if(0<zr.length&&typeof br[zr[0]]=="number"){for(var bn=[],Pn=0;Pn<zr.length;++Pn)bn.push([br[zr[Pn]]|0,zr[Pn]]);return bn}}return null}function er(Sr,Nr,br){function zr(jr){if(jr in bn){var Gr=Xt.id(bn[jr]);return jr=oe(function(){return Gr}),jr.id=Gr,jr}if(jr in Pn){var Qr=Pn[jr];return Q(Qr,function(wn,kn){var Dn=wn.invoke(kn,Qr);return kn.def(wn.shared.strings,".id(",Dn,")")})}return null}var bn=Sr.static,Pn=Sr.dynamic,gn=zr("frag"),cn=zr("vert"),Lr=null;return q(gn)&&q(cn)?(Lr=Lt.program(cn.id,gn.id,null,br),Sr=oe(function(jr,Gr){return jr.link(Lr)})):Sr=new j(gn&&gn.thisDep||cn&&cn.thisDep,gn&&gn.contextDep||cn&&cn.contextDep,gn&&gn.propDep||cn&&cn.propDep,function(jr,Gr){var Qr=jr.shared.shader,wn;wn=gn?gn.append(jr,Gr):Gr.def(Qr,".","frag");var kn;return kn=cn?cn.append(jr,Gr):Gr.def(Qr,".","vert"),Gr.def(Qr+".program("+kn+","+wn+")")}),{frag:gn,vert:cn,progVar:Sr,program:Lr}}function Ot(Sr,Nr){function br(Dn,Nn){if(Dn in zr){var On=zr[Dn]|0;return Nn?Pn.offset=On:Pn.instances=On,oe(function(la,pa){return Nn&&(la.OFFSET=On),On})}if(Dn in bn){var ga=bn[Dn];return Q(ga,function(la,pa){var La=la.invoke(pa,ga);return Nn&&(la.OFFSET=La),La})}if(Nn){if(Lr)return oe(function(la,pa){return la.OFFSET=0});if(gn)return new j(cn.thisDep,cn.contextDep,cn.propDep,function(la,pa){return pa.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.offset:0")})}else if(gn)return new j(cn.thisDep,cn.contextDep,cn.propDep,function(la,pa){return pa.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.instances:-1")});return null}var zr=Sr.static,bn=Sr.dynamic,Pn={},gn=!1,cn=function(){if("vao"in zr){var Dn=zr.vao;return Dn!==null&&Dt.getVAO(Dn)===null&&(Dn=Dt.createVAO(Dn)),gn=!0,Pn.vao=Dn,oe(function(On){var ga=Dt.getVAO(Dn);return ga?On.link(ga):"null"})}if("vao"in bn){gn=!0;var Nn=bn.vao;return Q(Nn,function(On,ga){var la=On.invoke(ga,Nn);return ga.def(On.shared.vao+".getVAO("+la+")")})}return null}(),Lr=!1,jr=function(){if("elements"in zr){var Dn=zr.elements;if(Pn.elements=Dn,Z(Dn)){var Nn=Pn.elements=vt.create(Dn,!0),Dn=vt.getElements(Nn);Lr=!0}else Dn&&(Dn=vt.getElements(Dn),Lr=!0);return Nn=oe(function(ga,la){if(Dn){var pa=ga.link(Dn);return ga.ELEMENTS=pa}return ga.ELEMENTS=null}),Nn.value=Dn,Nn}if("elements"in bn){Lr=!0;var On=bn.elements;return Q(On,function(ga,la){var pa=ga.shared,vi=pa.isBufferArgs,pa=pa.elements,ti=ga.invoke(la,On),La=la.def("null"),vi=la.def(vi,"(",ti,")"),ti=ga.cond(vi).then(La,"=",pa,".createStream(",ti,");").else(La,"=",pa,".getElements(",ti,");");return la.entry(ti),la.exit(ga.cond(vi).then(pa,".destroyStream(",La,");")),ga.ELEMENTS=La})}return gn?new j(cn.thisDep,cn.contextDep,cn.propDep,function(ga,la){return la.def(ga.shared.vao+".currentVAO?"+ga.shared.elements+".getElements("+ga.shared.vao+".currentVAO.elements):null")}):null}(),Gr=br("offset",!0),Qr=function(){if("primitive"in zr){var Dn=zr.primitive;return Pn.primitive=Dn,oe(function(On,ga){return $e[Dn]})}if("primitive"in bn){var Nn=bn.primitive;return Q(Nn,function(On,ga){var la=On.constants.primTypes,pa=On.invoke(ga,Nn);return ga.def(la,"[",pa,"]")})}return Lr?q(jr)?jr.value?oe(function(On,ga){return ga.def(On.ELEMENTS,".primType")}):oe(function(){return 4}):new j(jr.thisDep,jr.contextDep,jr.propDep,function(On,ga){var la=On.ELEMENTS;return ga.def(la,"?",la,".primType:",4)}):gn?new j(cn.thisDep,cn.contextDep,cn.propDep,function(On,ga){return ga.def(On.shared.vao+".currentVAO?"+On.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in zr){var Dn=zr.count|0;return Pn.count=Dn,oe(function(){return Dn})}if("count"in bn){var Nn=bn.count;return Q(Nn,function(On,ga){return On.invoke(ga,Nn)})}return Lr?q(jr)?jr?Gr?new j(Gr.thisDep,Gr.contextDep,Gr.propDep,function(On,ga){return ga.def(On.ELEMENTS,".vertCount-",On.OFFSET)}):oe(function(On,ga){return ga.def(On.ELEMENTS,".vertCount")}):oe(function(){return-1}):new j(jr.thisDep||Gr.thisDep,jr.contextDep||Gr.contextDep,jr.propDep||Gr.propDep,function(On,ga){var la=On.ELEMENTS;return On.OFFSET?ga.def(la,"?",la,".vertCount-",On.OFFSET,":-1"):ga.def(la,"?",la,".vertCount:-1")}):gn?new j(cn.thisDep,cn.contextDep,cn.propDep,function(On,ga){return ga.def(On.shared.vao,".currentVAO?",On.shared.vao,".currentVAO.count:-1")}):null}(),kn=br("instances",!1);return{elements:jr,primitive:Qr,count:wn,instances:kn,offset:Gr,vao:cn,vaoActive:gn,elementsActive:Lr,static:Pn}}function vr(Sr,Nr){var br=Sr.static,zr=Sr.dynamic,bn={};return Tn.forEach(function(Pn){function gn(Lr,jr){if(Pn in br){var Gr=Lr(br[Pn]);bn[cn]=oe(function(){return Gr})}else if(Pn in zr){var Qr=zr[Pn];bn[cn]=Q(Qr,function(wn,kn){return jr(wn,kn,wn.invoke(kn,Qr))})}}var cn=hr(Pn);switch(Pn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return gn(function(Lr){return Lr},function(Lr,jr,Gr){return Gr});case"depth.func":return gn(function(Lr){return Jt[Lr]},function(Lr,jr,Gr){return jr.def(Lr.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return gn(function(Lr){return Lr},function(Lr,jr,Gr){return Lr=jr.def("+",Gr,"[0]"),jr=jr.def("+",Gr,"[1]"),[Lr,jr]});case"blend.func":return gn(function(Lr){return[Yt["srcRGB"in Lr?Lr.srcRGB:Lr.src],Yt["dstRGB"in Lr?Lr.dstRGB:Lr.dst],Yt["srcAlpha"in Lr?Lr.srcAlpha:Lr.src],Yt["dstAlpha"in Lr?Lr.dstAlpha:Lr.dst]]},function(Lr,jr,Gr){function Qr(Nn,On){return jr.def('"',Nn,On,'" in ',Gr,"?",Gr,".",Nn,On,":",Gr,".",Nn)}Lr=Lr.constants.blendFuncs;var wn=Qr("src","RGB"),Dn=Qr("dst","RGB"),wn=jr.def(Lr,"[",wn,"]"),kn=jr.def(Lr,"[",Qr("src","Alpha"),"]"),Dn=jr.def(Lr,"[",Dn,"]");return Lr=jr.def(Lr,"[",Qr("dst","Alpha"),"]"),[wn,Dn,kn,Lr]});case"blend.equation":return gn(function(Lr){if(typeof Lr=="string")return[Jn[Lr],Jn[Lr]];if(typeof Lr=="object")return[Jn[Lr.rgb],Jn[Lr.alpha]]},function(Lr,jr,Gr){var Qr=Lr.constants.blendEquations,wn=jr.def(),kn=jr.def();return Lr=Lr.cond("typeof ",Gr,'==="string"'),Lr.then(wn,"=",kn,"=",Qr,"[",Gr,"];"),Lr.else(wn,"=",Qr,"[",Gr,".rgb];",kn,"=",Qr,"[",Gr,".alpha];"),jr(Lr),[wn,kn]});case"blend.color":return gn(function(Lr){return o(4,function(jr){return+Lr[jr]})},function(Lr,jr,Gr){return o(4,function(Qr){return jr.def("+",Gr,"[",Qr,"]")})});case"stencil.mask":return gn(function(Lr){return Lr|0},function(Lr,jr,Gr){return jr.def(Gr,"|0")});case"stencil.func":return gn(function(Lr){return[Jt[Lr.cmp||"keep"],Lr.ref||0,"mask"in Lr?Lr.mask:-1]},function(Lr,jr,Gr){Lr=jr.def('"cmp" in ',Gr,"?",Lr.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var Qr=jr.def(Gr,".ref|0");return jr=jr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Lr,Qr,jr]});case"stencil.opFront":case"stencil.opBack":return gn(function(Lr){return[Pn==="stencil.opBack"?1029:1028,Tt[Lr.fail||"keep"],Tt[Lr.zfail||"keep"],Tt[Lr.zpass||"keep"]]},function(Lr,jr,Gr){function Qr(kn){return jr.def('"',kn,'" in ',Gr,"?",wn,"[",Gr,".",kn,"]:",7680)}var wn=Lr.constants.stencilOps;return[Pn==="stencil.opBack"?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return gn(function(Lr){return[Lr.factor|0,Lr.units|0]},function(Lr,jr,Gr){return Lr=jr.def(Gr,".factor|0"),jr=jr.def(Gr,".units|0"),[Lr,jr]});case"cull.face":return gn(function(Lr){var jr=0;return Lr==="front"?jr=1028:Lr==="back"&&(jr=1029),jr},function(Lr,jr,Gr){return jr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return gn(function(Lr){return Lr},function(Lr,jr,Gr){return Gr});case"frontFace":return gn(function(Lr){return zt[Lr]},function(Lr,jr,Gr){return jr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return gn(function(Lr){return Lr.map(function(jr){return!!jr})},function(Lr,jr,Gr){return o(4,function(Qr){return"!!"+Gr+"["+Qr+"]"})});case"sample.coverage":return gn(function(Lr){return["value"in Lr?Lr.value:1,!!Lr.invert]},function(Lr,jr,Gr){return Lr=jr.def('"value" in ',Gr,"?+",Gr,".value:1"),jr=jr.def("!!",Gr,".invert"),[Lr,jr]})}}),bn}function yr(Sr,Nr){var br=Sr.static,zr=Sr.dynamic,bn={};return Object.keys(br).forEach(function(Pn){var gn=br[Pn],cn;if(typeof gn=="number"||typeof gn=="boolean")cn=oe(function(){return gn});else if(typeof gn=="function"){var Lr=gn._reglType;Lr==="texture2d"||Lr==="textureCube"?cn=oe(function(jr){return jr.link(gn)}):(Lr==="framebuffer"||Lr==="framebufferCube")&&(cn=oe(function(jr){return jr.link(gn.color[0])}))}else w(gn)&&(cn=oe(function(jr){return jr.global.def("[",o(gn.length,function(Gr){return gn[Gr]}),"]")}));cn.value=gn,bn[Pn]=cn}),Object.keys(zr).forEach(function(Pn){var gn=zr[Pn];bn[Pn]=Q(gn,function(cn,Lr){return cn.invoke(Lr,gn)})}),bn}function pr(Sr,Nr){var br=Sr.static,zr=Sr.dynamic,bn={};return Object.keys(br).forEach(function(Pn){var gn=br[Pn],cn=Xt.id(Pn),Lr=new Yn;if(Z(gn))Lr.state=1,Lr.buffer=sr.getBuffer(sr.create(gn,34962,!1,!0)),Lr.type=0;else{var jr=sr.getBuffer(gn);if(jr)Lr.state=1,Lr.buffer=jr,Lr.type=0;else if("constant"in gn){var Gr=gn.constant;Lr.buffer="null",Lr.state=2,typeof Gr=="number"?Lr.x=Gr:ft.forEach(function(On,ga){ga<Gr.length&&(Lr[On]=Gr[ga])})}else{var jr=Z(gn.buffer)?sr.getBuffer(sr.create(gn.buffer,34962,!1,!0)):sr.getBuffer(gn.buffer),Qr=gn.offset|0,wn=gn.stride|0,kn=gn.size|0,Dn=!!gn.normalized,Nn=0;"type"in gn&&(Nn=He[gn.type]),gn=gn.divisor|0,Lr.buffer=jr,Lr.state=1,Lr.size=kn,Lr.normalized=Dn,Lr.type=Nn||jr.dtype,Lr.offset=Qr,Lr.stride=wn,Lr.divisor=gn}}bn[Pn]=oe(function(On,ga){var la=On.attribCache;if(cn in la)return la[cn];var pa={isStream:!1};return Object.keys(Lr).forEach(function(La){pa[La]=Lr[La]}),Lr.buffer&&(pa.buffer=On.link(Lr.buffer),pa.type=pa.type||pa.buffer+".dtype"),la[cn]=pa})}),Object.keys(zr).forEach(function(Pn){var gn=zr[Pn];bn[Pn]=Q(gn,function(cn,Lr){function jr(la){Lr(Dn[la],"=",Gr,".",la,"|0;")}var Gr=cn.invoke(Lr,gn),kn=cn.shared,Qr=cn.constants,wn=kn.isBufferArgs,kn=kn.buffer,Dn={isStream:Lr.def(!1)},Nn=new Yn;Nn.state=1,Object.keys(Nn).forEach(function(la){Dn[la]=Lr.def(""+Nn[la])});var On=Dn.buffer,ga=Dn.type;return Lr("if(",wn,"(",Gr,")){",Dn.isStream,"=true;",On,"=",kn,".createStream(",34962,",",Gr,");",ga,"=",On,".dtype;","}else{",On,"=",kn,".getBuffer(",Gr,");","if(",On,"){",ga,"=",On,".dtype;",'}else if("constant" in ',Gr,"){",Dn.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',Dn[ft[0]],"=",Gr,".constant;",ft.slice(1).map(function(la){return Dn[la]}).join("="),"=0;","}else{",ft.map(function(la,pa){return Dn[la]+"="+Gr+".constant.length>"+pa+"?"+Gr+".constant["+pa+"]:0;"}).join(""),"}}else{","if(",wn,"(",Gr,".buffer)){",On,"=",kn,".createStream(",34962,",",Gr,".buffer);","}else{",On,"=",kn,".getBuffer(",Gr,".buffer);","}",ga,'="type" in ',Gr,"?",Qr.glTypes,"[",Gr,".type]:",On,".dtype;",Dn.normalized,"=!!",Gr,".normalized;"),jr("size"),jr("offset"),jr("stride"),jr("divisor"),Lr("}}"),Lr.exit("if(",Dn.isStream,"){",kn,".destroyStream(",On,");","}"),Dn})}),bn}function cr(Sr){var Nr=Sr.static,br=Sr.dynamic,zr={};return Object.keys(Nr).forEach(function(bn){var Pn=Nr[bn];zr[bn]=oe(function(gn,cn){return typeof Pn=="number"||typeof Pn=="boolean"?""+Pn:gn.link(Pn)})}),Object.keys(br).forEach(function(bn){var Pn=br[bn];zr[bn]=Q(Pn,function(gn,cn){return gn.invoke(cn,Pn)})}),zr}function Ur(Sr,Nr,br,zr,bn){function Pn(Nn){var On=cn[Nn];On&&(jr[Nn]=On)}var gn=ur(Sr,Nr),wn=Zt(Sr),cn=rr(Sr,wn),Lr=Ot(Sr),jr=vr(Sr),Gr=er(Sr,bn,gn);Pn("viewport"),Pn(hr("scissor.box"));var Qr=0<Object.keys(jr).length,wn={framebuffer:wn,draw:Lr,shader:Gr,state:jr,dirty:Qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=It(Sr),wn.uniforms=yr(br),wn.drawVAO=wn.scopeVAO=Lr.vao,!wn.drawVAO&&Gr.program&&!gn&&Qt.angle_instanced_arrays&&Lr.static.elements){var kn=!0;if(Sr=Gr.program.attributes.map(function(Nn){return Nn=Nr.static[Nn],kn=kn&&!!Nn,Nn}),kn&&0<Sr.length){var Dn=Dt.getVAO(Dt.createVAO({attributes:Sr,elements:Lr.static.elements}));wn.drawVAO=new j(null,null,null,function(Nn,On){return Nn.link(Dn)}),wn.useVAO=!0}}return gn?wn.useVAO=!0:wn.attributes=pr(Nr),wn.context=cr(zr),wn}function kr(Sr,Nr,br){var zr=Sr.shared.context,bn=Sr.scope();Object.keys(br).forEach(function(Pn){Nr.save(zr,"."+Pn);var gn=br[Pn].append(Sr,Nr);Array.isArray(gn)?bn(zr,".",Pn,"=[",gn.join(),"];"):bn(zr,".",Pn,"=",gn,";")}),Nr(bn)}function Rr(Sr,Nr,br,zr){var cn=Sr.shared,bn=cn.gl,Pn=cn.framebuffer,gn;on&&(gn=Nr.def(cn.extensions,".webgl_draw_buffers"));var Lr=Sr.constants,cn=Lr.drawBuffer,Lr=Lr.backBuffer;Sr=br?br.append(Sr,Nr):Nr.def(Pn,".next"),zr||Nr("if(",Sr,"!==",Pn,".cur){"),Nr("if(",Sr,"){",bn,".bindFramebuffer(",36160,",",Sr,".framebuffer);"),on&&Nr(gn,".drawBuffersWEBGL(",cn,"[",Sr,".colorAttachments.length]);"),Nr("}else{",bn,".bindFramebuffer(",36160,",null);"),on&&Nr(gn,".drawBuffersWEBGL(",Lr,");"),Nr("}",Pn,".cur=",Sr,";"),zr||Nr("}")}function hn(Sr,Nr,br){var zr=Sr.shared,bn=zr.gl,Pn=Sr.current,gn=Sr.next,cn=zr.current,Lr=zr.next,jr=Sr.cond(cn,".dirty");Tn.forEach(function(Gr){if(Gr=hr(Gr),!(Gr in br.state)){var Qr,wn;if(Gr in gn){Qr=gn[Gr],wn=Pn[Gr];var kn=o(dn[Gr].length,function(Dn){return jr.def(Qr,"[",Dn,"]")});jr(Sr.cond(kn.map(function(Dn,Nn){return Dn+"!=="+wn+"["+Nn+"]"}).join("||")).then(bn,".",Un[Gr],"(",kn,");",kn.map(function(Dn,Nn){return wn+"["+Nn+"]="+Dn}).join(";"),";"))}else Qr=jr.def(Lr,".",Gr),kn=Sr.cond(Qr,"!==",cn,".",Gr),jr(kn),Gr in Mn?kn(Sr.cond(Qr).then(bn,".enable(",Mn[Gr],");").else(bn,".disable(",Mn[Gr],");"),cn,".",Gr,"=",Qr,";"):kn(bn,".",Un[Gr],"(",Qr,");",cn,".",Gr,"=",Qr,";")}}),Object.keys(br.state).length===0&&jr(cn,".dirty=false;"),Nr(jr)}function tn(Sr,Nr,br,zr){var bn=Sr.shared,Pn=Sr.current,gn=bn.current,cn=bn.gl,Lr;ae(Object.keys(br)).forEach(function(jr){var Gr=br[jr];if(!zr||zr(Gr)){var Qr=Gr.append(Sr,Nr);if(Mn[jr]){var wn=Mn[jr];q(Gr)?(Lr=Sr.link(Qr,{stable:!0}),Nr(Sr.cond(Lr).then(cn,".enable(",wn,");").else(cn,".disable(",wn,");")),Nr(gn,".",jr,"=",Lr,";")):(Nr(Sr.cond(Qr).then(cn,".enable(",wn,");").else(cn,".disable(",wn,");")),Nr(gn,".",jr,"=",Qr,";"))}else if(w(Qr)){var kn=Pn[jr];Nr(cn,".",Un[jr],"(",Qr,");",Qr.map(function(Dn,Nn){return kn+"["+Nn+"]="+Dn}).join(";"),";")}else q(Gr)?(Lr=Sr.link(Qr,{stable:!0}),Nr(cn,".",Un[jr],"(",Lr,");",gn,".",jr,"=",Lr,";")):Nr(cn,".",Un[jr],"(",Qr,");",gn,".",jr,"=",Qr,";")}})}function Fn(Sr,Nr){Tr&&(Sr.instancing=Nr.def(Sr.shared.extensions,".angle_instanced_arrays"))}function mn(Sr,Nr,br,zr,bn){function Pn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function gn(Nn){kn=Nr.def(),Nn(kn,"=",Pn(),";"),typeof bn=="string"?Nn(Gr,".count+=",bn,";"):Nn(Gr,".count++;"),jt&&(zr?(Dn=Nr.def(),Nn(Dn,"=",wn,".getNumPendingQueries();")):Nn(wn,".beginQuery(",Gr,");"))}function cn(Nn){Nn(Gr,".cpuTime+=",Pn(),"-",kn,";"),jt&&(zr?Nn(wn,".pushScopeStats(",Dn,",",wn,".getNumPendingQueries(),",Gr,");"):Nn(wn,".endQuery();"))}function Lr(Nn){var On=Nr.def(Qr,".profile");Nr(Qr,".profile=",Nn,";"),Nr.exit(Qr,".profile=",On,";")}var jr=Sr.shared,Gr=Sr.stats,Qr=jr.current,wn=jr.timer;br=br.profile;var kn,Dn;if(br){if(q(br)){br.enable?(gn(Nr),cn(Nr.exit),Lr("true")):Lr("false");return}br=br.append(Sr,Nr),Lr(br)}else br=Nr.def(Qr,".profile");jr=Sr.block(),gn(jr),Nr("if(",br,"){",jr,"}"),Sr=Sr.block(),cn(Sr),Nr.exit("if(",br,"){",Sr,"}")}function Mr(Sr,Nr,br,zr,bn){function Pn(Lr){switch(Lr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function gn(Lr,jr,Gr){function Qr(){Nr("if(!",Nn,".buffer){",kn,".enableVertexAttribArray(",Dn,");}");var pa=Gr.type,La;La=Gr.size?Nr.def(Gr.size,"||",jr):jr,Nr("if(",Nn,".type!==",pa,"||",Nn,".size!==",La,"||",la.map(function(vi){return Nn+"."+vi+"!=="+Gr[vi]}).join("||"),"){",kn,".bindBuffer(",34962,",",On,".buffer);",kn,".vertexAttribPointer(",[Dn,La,pa,Gr.normalized,Gr.stride,Gr.offset],");",Nn,".type=",pa,";",Nn,".size=",La,";",la.map(function(vi){return Nn+"."+vi+"="+Gr[vi]+";"}).join(""),"}"),Tr&&(pa=Gr.divisor,Nr("if(",Nn,".divisor!==",pa,"){",Sr.instancing,".vertexAttribDivisorANGLE(",[Dn,pa],");",Nn,".divisor=",pa,";}"))}function wn(){Nr("if(",Nn,".buffer){",kn,".disableVertexAttribArray(",Dn,");",Nn,".buffer=null;","}if(",ft.map(function(pa,La){return Nn+"."+pa+"!=="+ga[La]}).join("||"),"){",kn,".vertexAttrib4f(",Dn,",",ga,");",ft.map(function(pa,La){return Nn+"."+pa+"="+ga[La]+";"}).join(""),"}")}var kn=cn.gl,Dn=Nr.def(Lr,".location"),Nn=Nr.def(cn.attributes,"[",Dn,"]");Lr=Gr.state;var On=Gr.buffer,ga=[Gr.x,Gr.y,Gr.z,Gr.w],la=["buffer","normalized","offset","stride"];Lr===1?Qr():Lr===2?wn():(Nr("if(",Lr,"===",1,"){"),Qr(),Nr("}else{"),wn(),Nr("}"))}var cn=Sr.shared;zr.forEach(function(Lr){var jr=Lr.name,Gr=br.attributes[jr],Qr;if(Gr){if(!bn(Gr))return;Qr=Gr.append(Sr,Nr)}else{if(!bn($t))return;var wn=Sr.scopeAttrib(jr);Qr={},Object.keys(new Yn).forEach(function(kn){Qr[kn]=Nr.def(wn,".",kn)})}gn(Sr.link(Lr),Pn(Lr.info.type),Qr)})}function Er(Sr,Nr,br,zr,bn,Pn){for(var gn=Sr.shared,cn=gn.gl,Lr,jr=0;jr<zr.length;++jr){var kn=zr[jr],Gr=kn.name,Qr=kn.info.type,wn=br.uniforms[Gr],kn=Sr.link(kn)+".location",Dn;if(wn){if(!bn(wn))continue;if(q(wn)){if(Gr=wn.value,Qr===35678||Qr===35680)Qr=Sr.link(Gr._texture||Gr.color[0]._texture),Nr(cn,".uniform1i(",kn,",",Qr+".bind());"),Nr.exit(Qr,".unbind();");else if(Qr===35674||Qr===35675||Qr===35676)Gr=Sr.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),wn=2,Qr===35675?wn=3:Qr===35676&&(wn=4),Nr(cn,".uniformMatrix",wn,"fv(",kn,",false,",Gr,");");else{switch(Qr){case 5126:Lr="1f";break;case 35664:Lr="2f";break;case 35665:Lr="3f";break;case 35666:Lr="4f";break;case 35670:Lr="1i";break;case 5124:Lr="1i";break;case 35671:Lr="2i";break;case 35667:Lr="2i";break;case 35672:Lr="3i";break;case 35668:Lr="3i";break;case 35673:Lr="4i";break;case 35669:Lr="4i"}Nr(cn,".uniform",Lr,"(",kn,",",w(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else Dn=wn.append(Sr,Nr)}else{if(!bn($t))continue;Dn=Nr.def(gn.uniforms,"[",Xt.id(Gr),"]")}switch(Qr===35678?Nr("if(",Dn,"&&",Dn,'._reglType==="framebuffer"){',Dn,"=",Dn,".color[0];","}"):Qr===35680&&Nr("if(",Dn,"&&",Dn,'._reglType==="framebufferCube"){',Dn,"=",Dn,".color[0];","}"),Gr=1,Qr){case 35678:case 35680:Qr=Nr.def(Dn,"._texture"),Nr(cn,".uniform1i(",kn,",",Qr,".bind());"),Nr.exit(Qr,".unbind();");continue;case 5124:case 35670:Lr="1i";break;case 35667:case 35671:Lr="2i",Gr=2;break;case 35668:case 35672:Lr="3i",Gr=3;break;case 35669:case 35673:Lr="4i",Gr=4;break;case 5126:Lr="1f";break;case 35664:Lr="2f",Gr=2;break;case 35665:Lr="3f",Gr=3;break;case 35666:Lr="4f",Gr=4;break;case 35674:Lr="Matrix2fv";break;case 35675:Lr="Matrix3fv";break;case 35676:Lr="Matrix4fv"}if(Lr.charAt(0)==="M"){Nr(cn,".uniform",Lr,"(",kn,",");var kn=Math.pow(Qr-35674+2,2),Nn=Sr.global.def("new Float32Array(",kn,")");Array.isArray(Dn)?Nr("false,(",o(kn,function(la){return Nn+"["+la+"]="+Dn[la]}),",",Nn,")"):Nr("false,(Array.isArray(",Dn,")||",Dn," instanceof Float32Array)?",Dn,":(",o(kn,function(la){return Nn+"["+la+"]="+Dn+"["+la+"]"}),",",Nn,")"),Nr(");")}else{if(1<Gr){for(var Qr=[],On=[],wn=0;wn<Gr;++wn)Array.isArray(Dn)?On.push(Dn[wn]):On.push(Nr.def(Dn+"["+wn+"]")),Pn&&Qr.push(Nr.def());Pn&&Nr("if(!",Sr.batchId,"||",Qr.map(function(ga,la){return ga+"!=="+On[la]}).join("||"),"){",Qr.map(function(ga,la){return ga+"="+On[la]+";"}).join("")),Nr(cn,".uniform",Lr,"(",kn,",",On.join(","),");")}else Pn&&(Qr=Nr.def(),Nr("if(!",Sr.batchId,"||",Qr,"!==",Dn,"){",Qr,"=",Dn,";")),Nr(cn,".uniform",Lr,"(",kn,",",Dn,");");Pn&&Nr("}")}}}function Wr(Sr,Nr,br,zr){function bn(pa){var La=Gr[pa];return La?La.contextDep&&zr.contextDynamic||La.propDep?La.append(Sr,br):La.append(Sr,Nr):Nr.def(jr,".",pa)}function Pn(){function pa(){br(On,".drawElementsInstancedANGLE(",[wn,Dn,ga,kn+"<<(("+ga+"-5121)>>1)",Nn],");")}function La(){br(On,".drawArraysInstancedANGLE(",[wn,kn,Dn,Nn],");")}Qr&&Qr!=="null"?la?pa():(br("if(",Qr,"){"),pa(),br("}else{"),La(),br("}")):La()}function gn(){function pa(){br(Lr+".drawElements("+[wn,Dn,ga,kn+"<<(("+ga+"-5121)>>1)"]+");")}function La(){br(Lr+".drawArrays("+[wn,kn,Dn]+");")}Qr&&Qr!=="null"?la?pa():(br("if(",Qr,"){"),pa(),br("}else{"),La(),br("}")):La()}var cn=Sr.shared,Lr=cn.gl,jr=cn.draw,Gr=zr.draw,Qr=function(){var pa=Gr.elements,La=Nr;return pa?((pa.contextDep&&zr.contextDynamic||pa.propDep)&&(La=br),pa=pa.append(Sr,La),Gr.elementsActive&&La("if("+pa+")"+Lr+".bindBuffer(34963,"+pa+".buffer.buffer);")):(pa=La.def(),La(pa,"=",jr,".","elements",";","if(",pa,"){",Lr,".bindBuffer(",34963,",",pa,".buffer.buffer);}","else if(",cn.vao,".currentVAO){",pa,"=",Sr.shared.elements+".getElements("+cn.vao,".currentVAO.elements);",rn?"":"if("+pa+")"+Lr+".bindBuffer(34963,"+pa+".buffer.buffer);","}")),pa}(),wn=bn("primitive"),kn=bn("offset"),Dn=function(){var pa=Gr.count,La=Nr;return pa?((pa.contextDep&&zr.contextDynamic||pa.propDep)&&(La=br),pa=pa.append(Sr,La)):pa=La.def(jr,".","count"),pa}();if(typeof Dn=="number"){if(Dn===0)return}else br("if(",Dn,"){"),br.exit("}");var Nn,On;Tr&&(Nn=bn("instances"),On=Sr.instancing);var ga=Qr+".type",la=Gr.elements&&q(Gr.elements)&&!Gr.vaoActive;Tr&&(typeof Nn!="number"||0<=Nn)?typeof Nn=="string"?(br("if(",Nn,">0){"),Pn(),br("}else if(",Nn,"<0){"),gn(),br("}")):Pn():gn()}function Hr(Sr,Nr,br,zr,bn){return Nr=kt(),bn=Nr.proc("body",bn),Tr&&(Nr.instancing=bn.def(Nr.shared.extensions,".angle_instanced_arrays")),Sr(Nr,bn,br,zr),Nr.compile().body}function an(Sr,Nr,br,zr){Fn(Sr,Nr),br.useVAO?br.drawVAO?Nr(Sr.shared.vao,".setVAO(",br.drawVAO.append(Sr,Nr),");"):Nr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Nr(Sr.shared.vao,".setVAO(null);"),Mr(Sr,Nr,br,zr.attributes,function(){return!0})),Er(Sr,Nr,br,zr.uniforms,function(){return!0},!1),Wr(Sr,Nr,Nr,br)}function vn(Sr,Nr){var br=Sr.proc("draw",1);Fn(Sr,br),kr(Sr,br,Nr.context),Rr(Sr,br,Nr.framebuffer),hn(Sr,br,Nr),tn(Sr,br,Nr.state),mn(Sr,br,Nr,!1,!0);var zr=Nr.shader.progVar.append(Sr,br);if(br(Sr.shared.gl,".useProgram(",zr,".program);"),Nr.shader.program)an(Sr,br,Nr,Nr.shader.program);else{br(Sr.shared.vao,".setVAO(null);");var bn=Sr.global.def("{}"),Pn=br.def(zr,".id"),gn=br.def(bn,"[",Pn,"]");br(Sr.cond(gn).then(gn,".call(this,a0);").else(gn,"=",bn,"[",Pn,"]=",Sr.link(function(cn){return Hr(an,Sr,Nr,cn,1)}),"(",zr,");",gn,".call(this,a0);"))}0<Object.keys(Nr.state).length&&br(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&br(Sr.shared.vao,".setVAO(null);")}function pn(Sr,Nr,br,zr){function bn(){return!0}Sr.batchId="a1",Fn(Sr,Nr),Mr(Sr,Nr,br,zr.attributes,bn),Er(Sr,Nr,br,zr.uniforms,bn,!1),Wr(Sr,Nr,Nr,br)}function En(Sr,Nr,br,zr){function bn(Qr){return Qr.contextDep&&gn||Qr.propDep}function Pn(Qr){return!bn(Qr)}Fn(Sr,Nr);var gn=br.contextDep,cn=Nr.def(),Lr=Nr.def();Sr.shared.props=Lr,Sr.batchId=cn;var jr=Sr.scope(),Gr=Sr.scope();Nr(jr.entry,"for(",cn,"=0;",cn,"<","a1",";++",cn,"){",Lr,"=","a0","[",cn,"];",Gr,"}",jr.exit),br.needsContext&&kr(Sr,Gr,br.context),br.needsFramebuffer&&Rr(Sr,Gr,br.framebuffer),tn(Sr,Gr,br.state,bn),br.profile&&bn(br.profile)&&mn(Sr,Gr,br,!1,!0),zr?(br.useVAO?br.drawVAO?bn(br.drawVAO)?Gr(Sr.shared.vao,".setVAO(",br.drawVAO.append(Sr,Gr),");"):jr(Sr.shared.vao,".setVAO(",br.drawVAO.append(Sr,jr),");"):jr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(jr(Sr.shared.vao,".setVAO(null);"),Mr(Sr,jr,br,zr.attributes,Pn),Mr(Sr,Gr,br,zr.attributes,bn)),Er(Sr,jr,br,zr.uniforms,Pn,!1),Er(Sr,Gr,br,zr.uniforms,bn,!0),Wr(Sr,jr,Gr,br)):(Nr=Sr.global.def("{}"),zr=br.shader.progVar.append(Sr,Gr),Lr=Gr.def(zr,".id"),jr=Gr.def(Nr,"[",Lr,"]"),Gr(Sr.shared.gl,".useProgram(",zr,".program);","if(!",jr,"){",jr,"=",Nr,"[",Lr,"]=",Sr.link(function(Qr){return Hr(pn,Sr,br,Qr,2)}),"(",zr,");}",jr,".call(this,a0[",cn,"],",cn,");"))}function _n(Sr,Nr){function br(jr){return jr.contextDep&&bn||jr.propDep}var zr=Sr.proc("batch",2);Sr.batchId="0",Fn(Sr,zr);var bn=!1,Pn=!0;Object.keys(Nr.context).forEach(function(jr){bn=bn||Nr.context[jr].propDep}),bn||(kr(Sr,zr,Nr.context),Pn=!1);var gn=Nr.framebuffer,cn=!1;if(gn?(gn.propDep?bn=cn=!0:gn.contextDep&&bn&&(cn=!0),cn||Rr(Sr,zr,gn)):Rr(Sr,zr,null),Nr.state.viewport&&Nr.state.viewport.propDep&&(bn=!0),hn(Sr,zr,Nr),tn(Sr,zr,Nr.state,function(jr){return!br(jr)}),Nr.profile&&br(Nr.profile)||mn(Sr,zr,Nr,!1,"a1"),Nr.contextDep=bn,Nr.needsContext=Pn,Nr.needsFramebuffer=cn,Pn=Nr.shader.progVar,Pn.contextDep&&bn||Pn.propDep)En(Sr,zr,Nr,null);else if(Pn=Pn.append(Sr,zr),zr(Sr.shared.gl,".useProgram(",Pn,".program);"),Nr.shader.program)En(Sr,zr,Nr,Nr.shader.program);else{zr(Sr.shared.vao,".setVAO(null);");var gn=Sr.global.def("{}"),cn=zr.def(Pn,".id"),Lr=zr.def(gn,"[",cn,"]");zr(Sr.cond(Lr).then(Lr,".call(this,a0,a1);").else(Lr,"=",gn,"[",cn,"]=",Sr.link(function(Qr){return Hr(En,Sr,Nr,Qr,2)}),"(",Pn,");",Lr,".call(this,a0,a1);"))}0<Object.keys(Nr.state).length&&zr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&zr(Sr.shared.vao,".setVAO(null);")}function oa(Sr,Nr){function br(cn){var Lr=Nr.shader[cn];Lr&&(Lr=Lr.append(Sr,zr),isNaN(Lr)?zr.set(bn.shader,"."+cn,Lr):zr.set(bn.shader,"."+cn,Sr.link(Lr,{stable:!0})))}var zr=Sr.proc("scope",3);Sr.batchId="a2";var bn=Sr.shared,Pn=bn.current;if(kr(Sr,zr,Nr.context),Nr.framebuffer&&Nr.framebuffer.append(Sr,zr),ae(Object.keys(Nr.state)).forEach(function(cn){var Lr=Nr.state[cn],jr=Lr.append(Sr,zr);w(jr)?jr.forEach(function(Gr,Qr){isNaN(Gr)?zr.set(Sr.next[cn],"["+Qr+"]",Gr):zr.set(Sr.next[cn],"["+Qr+"]",Sr.link(Gr,{stable:!0}))}):q(Lr)?zr.set(bn.next,"."+cn,Sr.link(jr,{stable:!0})):zr.set(bn.next,"."+cn,jr)}),mn(Sr,zr,Nr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(cn){var Lr=Nr.draw[cn];Lr&&(Lr=Lr.append(Sr,zr),isNaN(Lr)?zr.set(bn.draw,"."+cn,Lr):zr.set(bn.draw,"."+cn,Sr.link(Lr),{stable:!0}))}),Object.keys(Nr.uniforms).forEach(function(cn){var Lr=Nr.uniforms[cn].append(Sr,zr);Array.isArray(Lr)&&(Lr="["+Lr.map(function(jr){return isNaN(jr)?jr:Sr.link(jr,{stable:!0})})+"]"),zr.set(bn.uniforms,"["+Sr.link(Xt.id(cn),{stable:!0})+"]",Lr)}),Object.keys(Nr.attributes).forEach(function(cn){var Lr=Nr.attributes[cn].append(Sr,zr),jr=Sr.scopeAttrib(cn);Object.keys(new Yn).forEach(function(Gr){zr.set(jr,"."+Gr,Lr[Gr])})}),Nr.scopeVAO){var gn=Nr.scopeVAO.append(Sr,zr);isNaN(gn)?zr.set(bn.vao,".targetVAO",gn):zr.set(bn.vao,".targetVAO",Sr.link(gn,{stable:!0}))}br("vert"),br("frag"),0<Object.keys(Nr.state).length&&(zr(Pn,".dirty=true;"),zr.exit(Pn,".dirty=true;")),zr("a1(",Sr.shared.context,",a0,",Sr.batchId,");")}function Kn(Sr){if(typeof Sr=="object"&&!w(Sr)){for(var Nr=Object.keys(Sr),br=0;br<Nr.length;++br)if(ye.isDynamic(Sr[Nr[br]]))return!0;return!1}}function $n(Sr,Nr,br){function zr(Qr,wn){gn.forEach(function(kn){var Dn=bn[kn];ye.isDynamic(Dn)&&(Dn=Qr.invoke(wn,Dn),wn(Gr,".",kn,"=",Dn,";"))})}var bn=Nr.static[br];if(bn&&Kn(bn)){var Pn=Sr.global,gn=Object.keys(bn),cn=!1,Lr=!1,jr=!1,Gr=Sr.global.def("{}");gn.forEach(function(Qr){var wn=bn[Qr];if(ye.isDynamic(wn))typeof wn=="function"&&(wn=bn[Qr]=ye.unbox(wn)),Qr=Q(wn,null),cn=cn||Qr.thisDep,jr=jr||Qr.propDep,Lr=Lr||Qr.contextDep;else{switch(Pn(Gr,".",Qr,"="),typeof wn){case"number":Pn(wn);break;case"string":Pn('"',wn,'"');break;case"object":Array.isArray(wn)&&Pn("[",wn.join(),"]");break;default:Pn(Sr.link(wn))}Pn(";")}}),Nr.dynamic[br]=new ye.DynamicVariable(4,{thisDep:cn,contextDep:Lr,propDep:jr,ref:Gr,append:zr}),delete Nr.static[br]}}var Yn=Dt.Record,Jn={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&(Jn.min=32775,Jn.max=32776);var Tr=Qt.angle_instanced_arrays,on=Qt.webgl_draw_buffers,rn=Qt.oes_vertex_array_object,dn={dirty:!0,profile:fr.profile},Gn={},Tn=[],Mn={},Un={};Ye("dither",3024),Ye("blend.enable",3042),We("blend.color","blendColor",[0,0,0,0]),We("blend.equation","blendEquationSeparate",[32774,32774]),We("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),We("depth.func","depthFunc",513),We("depth.range","depthRange",[0,1]),We("depth.mask","depthMask",!0),We("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),We("cull.face","cullFace",1029),We("frontFace","frontFace",2305),We("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),We("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),We("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),We("stencil.mask","stencilMask",-1),We("stencil.func","stencilFunc",[519,0,-1]),We("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),We("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),We("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),We("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var qn={gl:yt,context:Nt,strings:Xt,next:Gn,current:dn,draw:Bt,elements:vt,buffer:sr,shader:Lt,attributes:Dt.state,vao:Dt,uniforms:Mt,framebuffer:xt,extensions:Qt,timer:jt,isBufferArgs:Z},ba={primTypes:$e,compareFuncs:Jt,blendFuncs:Yt,blendEquations:Jn,stencilOps:Tt,glTypes:He,orientationType:zt};on&&(ba.backBuffer=[1029],ba.drawBuffer=o(gr.maxDrawbuffers,function(Sr){return Sr===0?[0]:o(Sr,function(Nr){return 36064+Nr})}));var Va=0;return{next:Gn,current:dn,procs:function(){var Sr=kt(),Nr=Sr.proc("poll"),br=Sr.proc("refresh"),zr=Sr.block();Nr(zr),br(zr);var Lr=Sr.shared,bn=Lr.gl,Pn=Lr.next,gn=Lr.current;zr(gn,".dirty=false;"),Rr(Sr,Nr),Rr(Sr,br,null,!0);var cn;Tr&&(cn=Sr.link(Tr)),Qt.oes_vertex_array_object&&br(Sr.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Lr=br.def(Lr.attributes),jr=br.def(0),Gr=Sr.cond(jr,".buffer");Gr.then(bn,".enableVertexAttribArray(i);",bn,".bindBuffer(",34962,",",jr,".buffer.buffer);",bn,".vertexAttribPointer(i,",jr,".size,",jr,".type,",jr,".normalized,",jr,".stride,",jr,".offset);").else(bn,".disableVertexAttribArray(i);",bn,".vertexAttrib4f(i,",jr,".x,",jr,".y,",jr,".z,",jr,".w);",jr,".buffer=null;");var Qr=Sr.link(gr.maxAttributes,{stable:!0});return br("for(var i=0;i<",Qr,";++i){",jr,"=",Lr,"[i];",Gr,"}"),Tr&&br("for(var i=0;i<",Qr,";++i){",cn,".vertexAttribDivisorANGLE(i,",Lr,"[i].divisor);","}"),br(Sr.shared.vao,".currentVAO=null;",Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"),Object.keys(Mn).forEach(function(wn){var kn=Mn[wn],Dn=zr.def(Pn,".",wn),Nn=Sr.block();Nn("if(",Dn,"){",bn,".enable(",kn,")}else{",bn,".disable(",kn,")}",gn,".",wn,"=",Dn,";"),br(Nn),Nr("if(",Dn,"!==",gn,".",wn,"){",Nn,"}")}),Object.keys(Un).forEach(function(wn){var kn=Un[wn],Dn=dn[wn],Nn,On,ga=Sr.block();ga(bn,".",kn,"("),w(Dn)?(kn=Dn.length,Nn=Sr.global.def(Pn,".",wn),On=Sr.global.def(gn,".",wn),ga(o(kn,function(la){return Nn+"["+la+"]"}),");",o(kn,function(la){return On+"["+la+"]="+Nn+"["+la+"];"}).join("")),Nr("if(",o(kn,function(la){return Nn+"["+la+"]!=="+On+"["+la+"]"}).join("||"),"){",ga,"}")):(Nn=zr.def(Pn,".",wn),On=zr.def(gn,".",wn),ga(Nn,");",gn,".",wn,"=",Nn,";"),Nr("if(",Nn,"!==",On,"){",ga,"}")),br(ga)}),Sr.compile()}(),compile:function(Sr,Nr,br,zr,bn){var Pn=kt();Pn.stats=Pn.link(bn),Object.keys(Nr.static).forEach(function(cn){$n(Pn,Nr,cn)}),pt.forEach(function(cn){$n(Pn,Sr,cn)});var gn=Ur(Sr,Nr,br,zr,Pn);return gn.shader.program&&(gn.shader.program.attributes.sort(function(cn,Lr){return cn.name<Lr.name?-1:1}),gn.shader.program.uniforms.sort(function(cn,Lr){return cn.name<Lr.name?-1:1})),vn(Pn,gn),oa(Pn,gn),_n(Pn,gn),ne(Pn.compile(),{destroy:function(){gn.shader.program.destroy()}})}}}function se(yt,Xt){for(var Qt=0;Qt<yt.length;++Qt)if(yt[Qt]===Xt)return Qt;return-1}var ne=function(yt,Xt){for(var Qt=Object.keys(Xt),gr=0;gr<Qt.length;++gr)yt[Qt[gr]]=Xt[Qt[gr]];return yt},fe=0,ye={DynamicVariable:H,define:function(yt,Xt){return new H(yt,y(Xt+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof H},unbox:P,accessor:y},Ee={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},Te=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ze=c();ze.zero=c();var ke=function(yt,Xt){var Qt=1;Xt.ext_texture_filter_anisotropic&&(Qt=yt.getParameter(34047));var gr=1,sr=1;Xt.webgl_draw_buffers&&(gr=yt.getParameter(34852),sr=yt.getParameter(36063));var vt=!!Xt.oes_texture_float;if(vt){vt=yt.createTexture(),yt.bindTexture(3553,vt),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var it=yt.createFramebuffer();if(yt.bindFramebuffer(36160,it),yt.framebufferTexture2D(36160,36064,3553,vt,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)vt=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var xt=ze.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,xt),yt.getError()?vt=!1:(yt.deleteFramebuffer(it),yt.deleteTexture(vt),vt=xt[0]===1),ze.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=yt.createTexture(),it=ze.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,xt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,it),ze.freeType(it),yt.bindTexture(34067,null),yt.deleteTexture(xt),xt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys(Xt).filter(function(Mt){return!!Xt[Mt]}),maxAnisotropic:Qt,maxDrawbuffers:gr,maxColorAttachments:sr,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:vt,npotTextureCube:xt}},Se=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},me=function(yt){return Object.keys(yt).map(function(Xt){return yt[Xt]})},Ce={shape:function(yt){for(var Xt=[];yt.length;yt=yt[0])Xt.push(yt.length);return Xt},flatten:function(yt,Xt,Qt,gr){var sr=1;if(Xt.length)for(var vt=0;vt<Xt.length;++vt)sr*=Xt[vt];else sr=0;switch(Qt=gr||ze.allocType(Qt,sr),Xt.length){case 0:break;case 1:for(gr=Xt[0],Xt=0;Xt<gr;++Xt)Qt[Xt]=yt[Xt];break;case 2:for(gr=Xt[0],Xt=Xt[1],vt=sr=0;vt<gr;++vt)for(var it=yt[vt],xt=0;xt<Xt;++xt)Qt[sr++]=it[xt];break;case 3:l(yt,Xt[0],Xt[1],Xt[2],Qt,0);break;default:g(yt,Xt,0,Qt,0)}return Qt}},Ne={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},He={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},De={dynamic:35048,stream:35040,static:35044},Ve=Ce.flatten,at=Ce.shape,lt=[];lt[5120]=1,lt[5122]=2,lt[5124]=4,lt[5121]=1,lt[5123]=2,lt[5125]=4,lt[5126]=4;var $e={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},et=new Float32Array(1),ct=new Uint32Array(et.buffer),dt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],At={};At[6409]=At[6406]=At[6402]=1,At[34041]=At[6410]=2,At[6407]=At[35904]=3,At[6408]=At[35906]=4;var Rt=C("HTMLCanvasElement"),Vt=C("OffscreenCanvas"),Je=C("CanvasRenderingContext2D"),Ge=C("ImageBitmap"),Ie=C("HTMLImageElement"),Fe=C("HTMLVideoElement"),Pe=Object.keys(Ne).concat([Rt,Vt,Je,Ge,Ie,Fe]),xe=[];xe[5121]=1,xe[5126]=4,xe[36193]=2,xe[5123]=2,xe[5125]=4;var ge=[];ge[32854]=2,ge[32855]=2,ge[36194]=2,ge[34041]=4,ge[33776]=.5,ge[33777]=.5,ge[33778]=1,ge[33779]=1,ge[35986]=.5,ge[35987]=1,ge[34798]=1,ge[35840]=.5,ge[35841]=.25,ge[35842]=.5,ge[35843]=.25,ge[36196]=.5;var Me=[];Me[32854]=2,Me[32855]=2,Me[36194]=2,Me[33189]=2,Me[36168]=1,Me[34041]=4,Me[35907]=4,Me[34836]=16,Me[34842]=8,Me[34843]=6;var Ae=function(yt,Xt,Qt,gr,sr){function vt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,sr.profile&&(this.stats={size:0})}function it(Bt){var Nt=Bt.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Nt),Bt.renderbuffer=null,Bt.refCount=0,delete Lt[Bt.id],gr.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Xt.ext_srgb&&(xt.srgba=35907),Xt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Xt.webgl_color_buffer_float&&(xt.rgba32f=34836);var Mt=[];Object.keys(xt).forEach(function(Bt){Mt[xt[Bt]]=Bt});var Dt=0,Lt={};return vt.prototype.decRef=function(){0>=--this.refCount&&it(this)},sr.profile&&(gr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Lt).forEach(function(Nt){Bt+=Lt[Nt].stats.size}),Bt}),{create:function(Bt,Nt){function jt(fr,hr){var Ye=0,We=0,kt=32854;if(typeof fr=="object"&&fr?("shape"in fr?(We=fr.shape,Ye=We[0]|0,We=We[1]|0):("radius"in fr&&(Ye=We=fr.radius|0),"width"in fr&&(Ye=fr.width|0),"height"in fr&&(We=fr.height|0)),"format"in fr&&(kt=xt[fr.format])):typeof fr=="number"?(Ye=fr|0,We=typeof hr=="number"?hr|0:Ye):fr||(Ye=We=1),Ye!==lr.width||We!==lr.height||kt!==lr.format)return jt.width=lr.width=Ye,jt.height=lr.height=We,lr.format=kt,yt.bindRenderbuffer(36161,lr.renderbuffer),yt.renderbufferStorage(36161,kt,Ye,We),sr.profile&&(lr.stats.size=Me[lr.format]*lr.width*lr.height),jt.format=Mt[lr.format],jt}var lr=new vt(yt.createRenderbuffer());return Lt[lr.id]=lr,gr.renderbufferCount++,jt(Bt,Nt),jt.resize=function(fr,hr){var Ye=fr|0,We=hr|0||Ye;return Ye===lr.width&&We===lr.height||(jt.width=lr.width=Ye,jt.height=lr.height=We,yt.bindRenderbuffer(36161,lr.renderbuffer),yt.renderbufferStorage(36161,lr.format,Ye,We),sr.profile&&(lr.stats.size=Me[lr.format]*lr.width*lr.height)),jt},jt._reglType="renderbuffer",jt._renderbuffer=lr,sr.profile&&(jt.stats=lr.stats),jt.destroy=function(){lr.decRef()},jt},clear:function(){me(Lt).forEach(it)},restore:function(){me(Lt).forEach(function(Bt){Bt.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,Bt.renderbuffer),yt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),yt.bindRenderbuffer(36161,null)}}},Ue=[];Ue[6408]=4,Ue[6407]=3;var Ze=[];Ze[5121]=1,Ze[5126]=4,Ze[36193]=2;var tt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ft=["x","y","z","w"],pt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Yt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},zt={cw:2304,ccw:2305},$t=new j(!1,!1,!1,function(){}),wr=function(yt,Xt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function gr(Lt,Bt,Nt){var jt=it.pop()||new Qt;jt.startQueryIndex=Lt,jt.endQueryIndex=Bt,jt.sum=0,jt.stats=Nt,xt.push(jt)}if(!Xt.ext_disjoint_timer_query)return null;var sr=[],vt=[],it=[],xt=[],Mt=[],Dt=[];return{beginQuery:function(Lt){var Bt=sr.pop()||Xt.ext_disjoint_timer_query.createQueryEXT();Xt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),vt.push(Bt),gr(vt.length-1,vt.length,Lt)},endQuery:function(){Xt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:gr,update:function(){var Lt,Bt;if(Lt=vt.length,Lt!==0){Dt.length=Math.max(Dt.length,Lt+1),Mt.length=Math.max(Mt.length,Lt+1),Mt[0]=0;var Nt=Dt[0]=0;for(Bt=Lt=0;Bt<vt.length;++Bt){var jt=vt[Bt];Xt.ext_disjoint_timer_query.getQueryObjectEXT(jt,34919)?(Nt+=Xt.ext_disjoint_timer_query.getQueryObjectEXT(jt,34918),sr.push(jt)):vt[Lt++]=jt,Mt[Bt+1]=Nt,Dt[Bt+1]=Lt}for(vt.length=Lt,Bt=Lt=0;Bt<xt.length;++Bt){var Nt=xt[Bt],lr=Nt.startQueryIndex,jt=Nt.endQueryIndex;Nt.sum+=Mt[jt]-Mt[lr],lr=Dt[lr],jt=Dt[jt],jt===lr?(Nt.stats.gpuTime+=Nt.sum/1e6,it.push(Nt)):(Nt.startQueryIndex=lr,Nt.endQueryIndex=jt,xt[Lt++]=Nt)}xt.length=Lt}},getNumPendingQueries:function(){return vt.length},clear:function(){sr.push.apply(sr,vt);for(var Lt=0;Lt<sr.length;Lt++)Xt.ext_disjoint_timer_query.deleteQueryEXT(sr[Lt]);vt.length=0,sr.length=0},restore:function(){vt.length=0,sr.length=0}}};return function(yt){function Xt(){if(mn.length===0)kt&&kt.update(),Hr=null;else{Hr=Ee.next(Xt),Lt();for(var vn=mn.length-1;0<=vn;--vn){var pn=mn[vn];pn&&pn(rr,null,0)}jt.flush(),kt&&kt.update()}}function Qt(){!Hr&&0<mn.length&&(Hr=Ee.next(Xt))}function gr(){Hr&&(Ee.cancel(Xt),Hr=null)}function sr(vn){vn.preventDefault(),gr(),Mr.forEach(function(pn){pn()})}function vt(vn){jt.getError(),fr.restore(),pr.restore(),Ot.restore(),cr.restore(),Ur.restore(),kr.restore(),yr.restore(),kt&&kt.restore(),Rr.procs.refresh(),Qt(),Er.forEach(function(pn){pn()})}function it(vn){function pn(dn,Gn){var Tn={},Mn={};return Object.keys(dn).forEach(function(Un){var qn=dn[Un];if(ye.isDynamic(qn))Mn[Un]=ye.unbox(qn,Un);else{if(Gn&&Array.isArray(qn)){for(var ba=0;ba<qn.length;++ba)if(ye.isDynamic(qn[ba])){Mn[Un]=ye.unbox(qn,Un);return}}Tn[Un]=qn}}),{dynamic:Mn,static:Tn}}function En(dn){for(;rn.length<dn;)rn.push(null);return rn}var _n=pn(vn.context||{},!0),oa=pn(vn.uniforms||{},!0),Kn=pn(vn.attributes||{},!1);vn=pn(function(dn){function Gn(Mn){if(Mn in Tn){var Un=Tn[Mn];delete Tn[Mn],Object.keys(Un).forEach(function(qn){Tn[Mn+"."+qn]=Un[qn]})}}var Tn=ne({},dn);return delete Tn.uniforms,delete Tn.attributes,delete Tn.context,delete Tn.vao,"stencil"in Tn&&Tn.stencil.op&&(Tn.stencil.opBack=Tn.stencil.opFront=Tn.stencil.op,delete Tn.stencil.op),Gn("blend"),Gn("depth"),Gn("cull"),Gn("stencil"),Gn("polygonOffset"),Gn("scissor"),Gn("sample"),"vao"in dn&&(Tn.vao=dn.vao),Tn}(vn),!1);var $n={gpuTime:0,cpuTime:0,count:0},Yn=Rr.compile(vn,Kn,oa,_n,$n),Jn=Yn.draw,Tr=Yn.batch,on=Yn.scope,rn=[];return ne(function(dn,Gn){var Tn;if(typeof dn=="function")return on.call(this,null,dn,0);if(typeof Gn=="function")if(typeof dn=="number")for(Tn=0;Tn<dn;++Tn)on.call(this,null,Gn,Tn);else if(Array.isArray(dn))for(Tn=0;Tn<dn.length;++Tn)on.call(this,dn[Tn],Gn,Tn);else return on.call(this,dn,Gn,0);else if(typeof dn=="number"){if(0<dn)return Tr.call(this,En(dn|0),dn|0)}else if(Array.isArray(dn)){if(dn.length)return Tr.call(this,dn,dn.length)}else return Jn.call(this,dn)},{stats:$n,destroy:function(){Yn.destroy()}})}function xt(vn,pn){var En=0;Rr.procs.poll();var _n=pn.color;_n&&(jt.clearColor(+_n[0]||0,+_n[1]||0,+_n[2]||0,+_n[3]||0),En|=16384),"depth"in pn&&(jt.clearDepth(+pn.depth),En|=256),"stencil"in pn&&(jt.clearStencil(pn.stencil|0),En|=1024),jt.clear(En)}function Mt(vn){return mn.push(vn),Qt(),{cancel:function(){function pn(){var _n=se(mn,pn);mn[_n]=mn[mn.length-1],--mn.length,0>=mn.length&&gr()}var En=se(mn,vn);mn[En]=pn}}}function Dt(){var vn=tn.viewport,pn=tn.scissor_box;vn[0]=vn[1]=pn[0]=pn[1]=0,rr.viewportWidth=rr.framebufferWidth=rr.drawingBufferWidth=vn[2]=pn[2]=jt.drawingBufferWidth,rr.viewportHeight=rr.framebufferHeight=rr.drawingBufferHeight=vn[3]=pn[3]=jt.drawingBufferHeight}function Lt(){rr.tick+=1,rr.time=Nt(),Dt(),Rr.procs.poll()}function Bt(){cr.refresh(),Dt(),Rr.procs.refresh(),kt&&kt.update()}function Nt(){return(Te()-It)/1e3}if(yt=r(yt),!yt)return null;var jt=yt.gl,lr=jt.getContextAttributes();jt.isContextLost();var fr=t(jt,yt);if(!fr)return null;var hn=a(),hr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=yt.cachedCode||{},We=fr.extensions,kt=wr(jt,We),It=Te(),ur=jt.drawingBufferWidth,Zt=jt.drawingBufferHeight,rr={tick:0,time:0,viewportWidth:ur,viewportHeight:Zt,framebufferWidth:ur,framebufferHeight:Zt,drawingBufferWidth:ur,drawingBufferHeight:Zt,pixelRatio:yt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},er=ke(jt,We),Ot=s(jt,hr,yt,function(vn){return yr.destroyBuffer(vn)}),vr=d(jt,We,Ot,hr),yr=z(jt,We,er,hr,Ot,vr,ur),pr=F(jt,hn,hr,yt),cr=k(jt,We,er,function(){Rr.procs.poll()},rr,hr,yt),Ur=Ae(jt,We,er,hr,yt),kr=I(jt,We,er,cr,Ur,hr),Rr=K(jt,hn,We,er,Ot,vr,cr,kr,{},yr,pr,ur,rr,kt,Ye,yt),hn=B(jt,kr,Rr.procs.poll,rr),tn=Rr.next,Fn=jt.canvas,mn=[],Mr=[],Er=[],Wr=[yt.onDestroy],Hr=null;Fn&&(Fn.addEventListener("webglcontextlost",sr,!1),Fn.addEventListener("webglcontextrestored",vt,!1));var an=kr.setFBO=it({framebuffer:ye.define.call(null,1,"framebuffer")});return Bt(),lr=ne(it,{clear:function(vn){if("framebuffer"in vn)if(vn.framebuffer&&vn.framebuffer_reglType==="framebufferCube")for(var pn=0;6>pn;++pn)an(ne({framebuffer:vn.framebuffer.faces[pn]},vn),xt);else an(vn,xt);else xt(null,vn)},prop:ye.define.bind(null,1),context:ye.define.bind(null,2),this:ye.define.bind(null,3),draw:it({}),buffer:function(vn){return Ot.create(vn,34962,!1,!1)},elements:function(vn){return vr.create(vn,!1)},texture:cr.create2D,cube:cr.createCube,renderbuffer:Ur.create,framebuffer:kr.create,framebufferCube:kr.createCube,vao:yr.createVAO,attributes:lr,frame:Mt,on:function(vn,pn){var En;switch(vn){case"frame":return Mt(pn);case"lost":En=Mr;break;case"restore":En=Er;break;case"destroy":En=Wr}return En.push(pn),{cancel:function(){for(var _n=0;_n<En.length;++_n)if(En[_n]===pn){En[_n]=En[En.length-1],En.pop();break}}}},limits:er,hasExtension:function(vn){return 0<=er.extensions.indexOf(vn.toLowerCase())},read:hn,destroy:function(){mn.length=0,gr(),Fn&&(Fn.removeEventListener("webglcontextlost",sr),Fn.removeEventListener("webglcontextrestored",vt)),pr.clear(),kr.clear(),Ur.clear(),yr.clear(),cr.clear(),vr.clear(),Ot.clear(),kt&&kt.clear(),Wr.forEach(function(vn){vn()})},_gl:jt,_refresh:Bt,poll:function(){Lt(),kt&&kt.update()},now:Nt,stats:hr,getCachedCode:function(){return Ye},preloadCachedCode:function(vn){Object.entries(vn).forEach(function(pn){Ye[pn[0]]=pn[1]})}}),yt.onDone(null,lr),lr}})},71665:function(G,H,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=e(12856),P=y.Buffer;function a(M,v){for(var p in M)v[p]=M[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?G.exports=y:(a(y,H),H.Buffer=L);function L(M,v,p){return P(M,v,p)}L.prototype=Object.create(P.prototype),a(P,L),L.from=function(M,v,p){if(typeof M=="number")throw new TypeError("Argument must not be a number");return P(M,v,p)},L.alloc=function(M,v,p){if(typeof M!="number")throw new TypeError("Argument must be a number");var r=P(M);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},L.allocUnsafe=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return P(M)},L.allocUnsafeSlow=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(M)}},21630:function(G,H,e){G.exports=a;var y=e(15398).EventEmitter,P=e(42018);P(a,y),a.Readable=e(40410),a.Writable=e(37493),a.Duplex=e(37865),a.Transform=e(74308),a.PassThrough=e(66897),a.finished=e(12726),a.pipeline=e(10168),a.Stream=a;function a(){y.call(this)}a.prototype.pipe=function(L,M){var v=this;function p(l){L.writable&&L.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!M||M.end!==!1)&&(v.on("end",o),v.on("close",n));var t=!1;function o(){t||(t=!0,L.end())}function n(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function c(l){if(u(),y.listenerCount(this,"error")===0)throw l}v.on("error",c),L.on("error",c);function u(){v.removeListener("data",p),L.removeListener("drain",r),v.removeListener("end",o),v.removeListener("close",n),v.removeListener("error",c),L.removeListener("error",c),v.removeListener("end",u),v.removeListener("close",u),L.removeListener("close",u)}return v.on("end",u),v.on("close",u),L.on("close",u),L.emit("pipe",v),L}},74322:function(G){function H(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function y(v,p,r){r||(r=Error);function t(n,c,u){return typeof p=="string"?p:p(n,c,u)}var o=function(n){H(c,n);function c(u,l,g){return n.call(this,t(u,l,g))||this}return c}(r);o.prototype.name=r.name,o.prototype.code=v,e[v]=o}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function a(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function L(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function M(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}y("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&a(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var o;if(L(v," argument"))o="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=M(v,".")?"property":"argument";o='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.q=e},37865:function(G,H,e){var y=e(90386),P=Object.keys||function(n){var c=[];for(var u in n)c.push(u);return c};G.exports=r;var a=e(40410),L=e(37493);e(42018)(r,a);for(var M=P(L.prototype),v=0;v<M.length;v++){var p=M[v];r.prototype[p]||(r.prototype[p]=L.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);a.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||y.nextTick(o,this)}function o(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}})},66897:function(G,H,e){G.exports=P;var y=e(74308);e(42018)(P,y);function P(a){if(!(this instanceof P))return new P(a);y.call(this,a)}P.prototype._transform=function(a,L,M){M(null,a)}},40410:function(G,H,e){var y=e(90386);G.exports=i;var P;i.ReadableState=x,e(15398).EventEmitter;var a=function(K,se){return K.listeners(se).length},L=e(71405),M=e(12856).Buffer,v=e.g.Uint8Array||function(){};function p(Q){return M.from(Q)}function r(Q){return M.isBuffer(Q)||Q instanceof v}var t=e(40964),o;t&&t.debuglog?o=t.debuglog("stream"):o=function(){};var n=e(31125),c=e(65756),u=e(56306),l=u.getHighWaterMark,g=e(74322).q,f=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,s=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,A,w;e(42018)(i,L);var C=c.errorOrDestroy,b=["error","close","destroy","pause","resume"];function S(Q,K,se){if(typeof Q.prependListener=="function")return Q.prependListener(K,se);!Q._events||!Q._events[K]?Q.on(K,se):Array.isArray(Q._events[K])?Q._events[K].unshift(se):Q._events[K]=[se,Q._events[K]]}function x(Q,K,se){P=P||e(37865),Q=Q||{},typeof se!="boolean"&&(se=K instanceof P),this.objectMode=!!Q.objectMode,se&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=l(this,Q,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(d||(d=e(68019).s),this.decoder=new d(Q.encoding),this.encoding=Q.encoding)}function i(Q){if(P=P||e(37865),!(this instanceof i))return new i(Q);var K=this instanceof P;this._readableState=new x(Q,this,K),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),L.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),i.prototype.destroy=c.destroy,i.prototype._undestroy=c.undestroy,i.prototype._destroy=function(Q,K){K(Q)},i.prototype.push=function(Q,K){var se=this._readableState,ne;return se.objectMode?ne=!0:typeof Q=="string"&&(K=K||se.defaultEncoding,K!==se.encoding&&(Q=M.from(Q,K),K=""),ne=!0),E(this,Q,K,!1,ne)},i.prototype.unshift=function(Q){return E(this,Q,null,!0,!1)};function E(Q,K,se,ne,fe){o("readableAddChunk",K);var ye=Q._readableState;if(K===null)ye.reading=!1,F(Q,ye);else{var Ee;if(fe||(Ee=k(ye,K)),Ee)C(Q,Ee);else if(ye.objectMode||K&&K.length>0)if(typeof K!="string"&&!ye.objectMode&&Object.getPrototypeOf(K)!==M.prototype&&(K=p(K)),ne)ye.endEmitted?C(Q,new s):m(Q,ye,K,!0);else if(ye.ended)C(Q,new T);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!se?(K=ye.decoder.write(K),ye.objectMode||K.length!==0?m(Q,ye,K,!1):N(Q,ye)):m(Q,ye,K,!1)}else ne||(ye.reading=!1,N(Q,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function m(Q,K,se,ne){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,Q.emit("data",se)):(K.length+=K.objectMode?1:se.length,ne?K.buffer.unshift(se):K.buffer.push(se),K.needReadable&&B(Q)),N(Q,K)}function k(Q,K){var se;return!r(K)&&typeof K!="string"&&K!==void 0&&!Q.objectMode&&(se=new f("chunk",["string","Buffer","Uint8Array"],K)),se}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(Q){d||(d=e(68019).s);var K=new d(Q);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ne="";se!==null;)ne+=K.write(se.data),se=se.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var I=1073741824;function U(Q){return Q>=I?Q=I:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function z(Q,K){return Q<=0||K.length===0&&K.ended?0:K.objectMode?1:Q!==Q?K.flowing&&K.length?K.buffer.head.data.length:K.length:(Q>K.highWaterMark&&(K.highWaterMark=U(Q)),Q<=K.length?Q:K.ended?K.length:(K.needReadable=!0,0))}i.prototype.read=function(Q){o("read",Q),Q=parseInt(Q,10);var K=this._readableState,se=Q;if(Q!==0&&(K.emittedReadable=!1),Q===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return o("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?j(this):B(this),null;if(Q=z(Q,K),Q===0&&K.ended)return K.length===0&&j(this),null;var ne=K.needReadable;o("need readable",ne),(K.length===0||K.length-Q<K.highWaterMark)&&(ne=!0,o("length less than watermark",ne)),K.ended||K.reading?(ne=!1,o("reading or ended",ne)):ne&&(o("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(Q=z(se,K)));var fe;return Q>0?fe=ae(Q,K):fe=null,fe===null?(K.needReadable=K.length<=K.highWaterMark,Q=0):(K.length-=Q,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),se!==Q&&K.ended&&j(this)),fe!==null&&this.emit("data",fe),fe};function F(Q,K){if(o("onEofChunk"),!K.ended){if(K.decoder){var se=K.decoder.end();se&&se.length&&(K.buffer.push(se),K.length+=K.objectMode?1:se.length)}K.ended=!0,K.sync?B(Q):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,O(Q)))}}function B(Q){var K=Q._readableState;o("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(o("emitReadable",K.flowing),K.emittedReadable=!0,y.nextTick(O,Q))}function O(Q){var K=Q._readableState;o("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(Q.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,Z(Q)}function N(Q,K){K.readingMore||(K.readingMore=!0,y.nextTick(Y,Q,K))}function Y(Q,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var se=K.length;if(o("maybeReadMore read 0"),Q.read(0),se===K.length)break}K.readingMore=!1}i.prototype._read=function(Q){C(this,new h("_read()"))},i.prototype.pipe=function(Q,K){var se=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=Q;break;case 1:ne.pipes=[ne.pipes,Q];break;default:ne.pipes.push(Q);break}ne.pipesCount+=1,o("pipe count=%d opts=%j",ne.pipesCount,K);var fe=(!K||K.end!==!1)&&Q!==y.stdout&&Q!==y.stderr,ye=fe?Te:De;ne.endEmitted?y.nextTick(ye):se.once("end",ye),Q.on("unpipe",Ee);function Ee(Ve,at){o("onunpipe"),Ve===se&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,Se())}function Te(){o("onend"),Q.end()}var ze=$(se);Q.on("drain",ze);var ke=!1;function Se(){o("cleanup"),Q.removeListener("close",Ne),Q.removeListener("finish",He),Q.removeListener("drain",ze),Q.removeListener("error",Ce),Q.removeListener("unpipe",Ee),se.removeListener("end",Te),se.removeListener("end",De),se.removeListener("data",me),ke=!0,ne.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&ze()}se.on("data",me);function me(Ve){o("ondata");var at=Q.write(Ve);o("dest.write",at),at===!1&&((ne.pipesCount===1&&ne.pipes===Q||ne.pipesCount>1&&oe(ne.pipes,Q)!==-1)&&!ke&&(o("false write response, pause",ne.awaitDrain),ne.awaitDrain++),se.pause())}function Ce(Ve){o("onerror",Ve),De(),Q.removeListener("error",Ce),a(Q,"error")===0&&C(Q,Ve)}S(Q,"error",Ce);function Ne(){Q.removeListener("finish",He),De()}Q.once("close",Ne);function He(){o("onfinish"),Q.removeListener("close",Ne),De()}Q.once("finish",He);function De(){o("unpipe"),se.unpipe(Q)}return Q.emit("pipe",se),ne.flowing||(o("pipe resume"),se.resume()),Q};function $(Q){return function(){var se=Q._readableState;o("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&a(Q,"data")&&(se.flowing=!0,Z(Q))}}i.prototype.unpipe=function(Q){var K=this._readableState,se={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return Q&&Q!==K.pipes?this:(Q||(Q=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,Q&&Q.emit("unpipe",this,se),this);if(!Q){var ne=K.pipes,fe=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var ye=0;ye<fe;ye++)ne[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ee=oe(K.pipes,Q);return Ee===-1?this:(K.pipes.splice(Ee,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),Q.emit("unpipe",this,se),this)},i.prototype.on=function(Q,K){var se=L.prototype.on.call(this,Q,K),ne=this._readableState;return Q==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):Q==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,o("on readable",ne.length,ne.reading),ne.length?B(this):ne.reading||y.nextTick(ie,this)),se},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(Q,K){var se=L.prototype.removeListener.call(this,Q,K);return Q==="readable"&&y.nextTick(te,this),se},i.prototype.removeAllListeners=function(Q){var K=L.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&y.nextTick(te,this),K};function te(Q){var K=Q._readableState;K.readableListening=Q.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function ie(Q){o("readable nexttick read 0"),Q.read(0)}i.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(o("resume"),Q.flowing=!Q.readableListening,ce(this,Q)),Q.paused=!1,this};function ce(Q,K){K.resumeScheduled||(K.resumeScheduled=!0,y.nextTick(J,Q,K))}function J(Q,K){o("resume",K.reading),K.reading||Q.read(0),K.resumeScheduled=!1,Q.emit("resume"),Z(Q),K.flowing&&!K.reading&&Q.read(0)}i.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(Q){var K=Q._readableState;for(o("flow",K.flowing);K.flowing&&Q.read()!==null;);}i.prototype.wrap=function(Q){var K=this,se=this._readableState,ne=!1;Q.on("end",function(){if(o("wrapped end"),se.decoder&&!se.ended){var Ee=se.decoder.end();Ee&&Ee.length&&K.push(Ee)}K.push(null)}),Q.on("data",function(Ee){if(o("wrapped data"),se.decoder&&(Ee=se.decoder.write(Ee)),!(se.objectMode&&Ee==null)&&!(!se.objectMode&&(!Ee||!Ee.length))){var Te=K.push(Ee);Te||(ne=!0,Q.pause())}});for(var fe in Q)this[fe]===void 0&&typeof Q[fe]=="function"&&(this[fe]=function(Te){return function(){return Q[Te].apply(Q,arguments)}}(fe));for(var ye=0;ye<b.length;ye++)Q.on(b[ye],this.emit.bind(this,b[ye]));return this._read=function(Ee){o("wrapped _read",Ee),ne&&(ne=!1,Q.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=e(68221)),A(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),i._fromList=ae,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ae(Q,K){if(K.length===0)return null;var se;return K.objectMode?se=K.buffer.shift():!Q||Q>=K.length?(K.decoder?se=K.buffer.join(""):K.buffer.length===1?se=K.buffer.first():se=K.buffer.concat(K.length),K.buffer.clear()):se=K.buffer.consume(Q,K.decoder),se}function j(Q){var K=Q._readableState;o("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,y.nextTick(q,K,Q))}function q(Q,K){if(o("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,K.readable=!1,K.emit("end"),Q.autoDestroy)){var se=K._writableState;(!se||se.autoDestroy&&se.finished)&&K.destroy()}}typeof Symbol=="function"&&(i.from=function(Q,K){return w===void 0&&(w=e(31748)),w(i,Q,K)});function oe(Q,K){for(var se=0,ne=Q.length;se<ne;se++)if(Q[se]===K)return se;return-1}},74308:function(G,H,e){G.exports=r;var y=e(74322).q,P=y.ERR_METHOD_NOT_IMPLEMENTED,a=y.ERR_MULTIPLE_CALLBACK,L=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=y.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(r,v);function p(n,c){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new a);u.writechunk=null,u.writecb=null,c!=null&&this.push(c),l(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,u){o(n,c,u)}):o(this,null,null)}r.prototype.push=function(n,c){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,c)},r.prototype._transform=function(n,c,u){u(new P("_transform()"))},r.prototype._write=function(n,c,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=c,!l.transforming){var g=this._readableState;(l.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(n){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},r.prototype._destroy=function(n,c){v.prototype._destroy.call(this,n,function(u){c(u)})};function o(n,c,u){if(c)return n.emit("error",c);if(u!=null&&n.push(u),n._writableState.length)throw new M;if(n._transformState.transforming)throw new L;return n.push(null)}},37493:function(G,H,e){var y=e(90386);G.exports=x;function P(Z){var ae=this;this.next=null,this.entry=null,this.finish=function(){J(ae,Z)}}var a;x.WritableState=b;var L={deprecate:e(20588)},M=e(71405),v=e(12856).Buffer,p=e.g.Uint8Array||function(){};function r(Z){return v.from(Z)}function t(Z){return v.isBuffer(Z)||Z instanceof p}var o=e(65756),n=e(56306),c=n.getHighWaterMark,u=e(74322).q,l=u.ERR_INVALID_ARG_TYPE,g=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_STREAM_CANNOT_PIPE,h=u.ERR_STREAM_DESTROYED,s=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,A=u.ERR_UNKNOWN_ENCODING,w=o.errorOrDestroy;e(42018)(x,M);function C(){}function b(Z,ae,j){a=a||e(37865),Z=Z||{},typeof j!="boolean"&&(j=ae instanceof a),this.objectMode=!!Z.objectMode,j&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=c(this,Z,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=Z.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){F(ae,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}b.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,j=[];ae;)j.push(ae),ae=ae.next;return j},function(){try{Object.defineProperty(b.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(ae){return S.call(this,ae)?!0:this!==x?!1:ae&&ae._writableState instanceof b}})):S=function(ae){return ae instanceof this};function x(Z){a=a||e(37865);var ae=this instanceof a;if(!ae&&!S.call(x,this))return new x(Z);this._writableState=new b(Z,this,ae),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),M.call(this)}x.prototype.pipe=function(){w(this,new T)};function i(Z,ae){var j=new d;w(Z,j),y.nextTick(ae,j)}function E(Z,ae,j,q){var oe;return j===null?oe=new s:typeof j!="string"&&!ae.objectMode&&(oe=new l("chunk",["string","Buffer"],j)),oe?(w(Z,oe),y.nextTick(q,oe),!1):!0}x.prototype.write=function(Z,ae,j){var q=this._writableState,oe=!1,Q=!q.objectMode&&t(Z);return Q&&!v.isBuffer(Z)&&(Z=r(Z)),typeof ae=="function"&&(j=ae,ae=null),Q?ae="buffer":ae||(ae=q.defaultEncoding),typeof j!="function"&&(j=C),q.ending?i(this,j):(Q||E(this,q,Z,j))&&(q.pendingcb++,oe=k(this,q,Q,Z,ae,j)),oe},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&N(this,Z))},x.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new A(ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m(Z,ae,j){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof ae=="string"&&(ae=v.from(ae,j)),ae}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(Z,ae,j,q,oe,Q){if(!j){var K=m(ae,q,oe);q!==K&&(j=!0,oe="buffer",q=K)}var se=ae.objectMode?1:q.length;ae.length+=se;var ne=ae.length<ae.highWaterMark;if(ne||(ae.needDrain=!0),ae.writing||ae.corked){var fe=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:q,encoding:oe,isBuf:j,callback:Q,next:null},fe?fe.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else I(Z,ae,!1,se,q,oe,Q);return ne}function I(Z,ae,j,q,oe,Q,K){ae.writelen=q,ae.writecb=K,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new h("write")):j?Z._writev(oe,ae.onwrite):Z._write(oe,Q,ae.onwrite),ae.sync=!1}function U(Z,ae,j,q,oe){--ae.pendingcb,j?(y.nextTick(oe,q),y.nextTick(ie,Z,ae),Z._writableState.errorEmitted=!0,w(Z,q)):(oe(q),Z._writableState.errorEmitted=!0,w(Z,q),ie(Z,ae))}function z(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function F(Z,ae){var j=Z._writableState,q=j.sync,oe=j.writecb;if(typeof oe!="function")throw new f;if(z(j),ae)U(Z,j,q,ae,oe);else{var Q=Y(j)||Z.destroyed;!Q&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&N(Z,j),q?y.nextTick(B,Z,j,Q,oe):B(Z,j,Q,oe)}}function B(Z,ae,j,q){j||O(Z,ae),ae.pendingcb--,q(),ie(Z,ae)}function O(Z,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,Z.emit("drain"))}function N(Z,ae){ae.bufferProcessing=!0;var j=ae.bufferedRequest;if(Z._writev&&j&&j.next){var q=ae.bufferedRequestCount,oe=new Array(q),Q=ae.corkedRequestsFree;Q.entry=j;for(var K=0,se=!0;j;)oe[K]=j,j.isBuf||(se=!1),j=j.next,K+=1;oe.allBuffers=se,I(Z,ae,!0,ae.length,oe,"",Q.finish),ae.pendingcb++,ae.lastBufferedRequest=null,Q.next?(ae.corkedRequestsFree=Q.next,Q.next=null):ae.corkedRequestsFree=new P(ae),ae.bufferedRequestCount=0}else{for(;j;){var ne=j.chunk,fe=j.encoding,ye=j.callback,Ee=ae.objectMode?1:ne.length;if(I(Z,ae,!1,Ee,ne,fe,ye),j=j.next,ae.bufferedRequestCount--,ae.writing)break}j===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=j,ae.bufferProcessing=!1}x.prototype._write=function(Z,ae,j){j(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(Z,ae,j){var q=this._writableState;return typeof Z=="function"?(j=Z,Z=null,ae=null):typeof ae=="function"&&(j=ae,ae=null),Z!=null&&this.write(Z,ae),q.corked&&(q.corked=1,this.uncork()),q.ending||ce(this,q,j),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function $(Z,ae){Z._final(function(j){ae.pendingcb--,j&&w(Z,j),ae.prefinished=!0,Z.emit("prefinish"),ie(Z,ae)})}function te(Z,ae){!ae.prefinished&&!ae.finalCalled&&(typeof Z._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,y.nextTick($,Z,ae)):(ae.prefinished=!0,Z.emit("prefinish")))}function ie(Z,ae){var j=Y(ae);if(j&&(te(Z,ae),ae.pendingcb===0&&(ae.finished=!0,Z.emit("finish"),ae.autoDestroy))){var q=Z._readableState;(!q||q.autoDestroy&&q.endEmitted)&&Z.destroy()}return j}function ce(Z,ae,j){ae.ending=!0,ie(Z,ae),j&&(ae.finished?y.nextTick(j):Z.once("finish",j)),ae.ended=!0,Z.writable=!1}function J(Z,ae,j){var q=Z.entry;for(Z.entry=null;q;){var oe=q.callback;ae.pendingcb--,oe(j),q=q.next}ae.corkedRequestsFree.next=Z}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),x.prototype.destroy=o.destroy,x.prototype._undestroy=o.undestroy,x.prototype._destroy=function(Z,ae){ae(Z)}},68221:function(G,H,e){var y=e(90386),P;function a(s,d,A){return d in s?Object.defineProperty(s,d,{value:A,enumerable:!0,configurable:!0,writable:!0}):s[d]=A,s}var L=e(12726),M=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),o=Symbol("handlePromise"),n=Symbol("stream");function c(s,d){return{value:s,done:d}}function u(s){var d=s[M];if(d!==null){var A=s[n].read();A!==null&&(s[t]=null,s[M]=null,s[v]=null,d(c(A,!1)))}}function l(s){y.nextTick(u,s)}function g(s,d){return function(A,w){s.then(function(){if(d[r]){A(c(void 0,!0));return}d[o](A,w)},w)}}var f=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,A=this[p];if(A!==null)return Promise.reject(A);if(this[r])return Promise.resolve(c(void 0,!0));if(this[n].destroyed)return new Promise(function(S,x){y.nextTick(function(){d[p]?x(d[p]):S(c(void 0,!0))})});var w=this[t],C;if(w)C=new Promise(g(w,this));else{var b=this[n].read();if(b!==null)return Promise.resolve(c(b,!1));C=new Promise(this[o])}return this[t]=C,C}},a(P,Symbol.asyncIterator,function(){return this}),a(P,"return",function(){var d=this;return new Promise(function(A,w){d[n].destroy(null,function(C){if(C){w(C);return}A(c(void 0,!0))})})}),P),f),h=function(d){var A,w=Object.create(T,(A={},a(A,n,{value:d,writable:!0}),a(A,M,{value:null,writable:!0}),a(A,v,{value:null,writable:!0}),a(A,p,{value:null,writable:!0}),a(A,r,{value:d._readableState.endEmitted,writable:!0}),a(A,o,{value:function(b,S){var x=w[n].read();x?(w[t]=null,w[M]=null,w[v]=null,b(c(x,!1))):(w[M]=b,w[v]=S)},writable:!0}),A));return w[t]=null,L(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var b=w[v];b!==null&&(w[t]=null,w[M]=null,w[v]=null,b(C)),w[p]=C;return}var S=w[M];S!==null&&(w[t]=null,w[M]=null,w[v]=null,S(c(void 0,!0))),w[r]=!0}),d.on("readable",l.bind(null,w)),w};G.exports=h},31125:function(G,H,e){function y(u,l){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(u);l&&(f=f.filter(function(T){return Object.getOwnPropertyDescriptor(u,T).enumerable})),g.push.apply(g,f)}return g}function P(u){for(var l=1;l<arguments.length;l++){var g=arguments[l]!=null?arguments[l]:{};l%2?y(Object(g),!0).forEach(function(f){a(u,f,g[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):y(Object(g)).forEach(function(f){Object.defineProperty(u,f,Object.getOwnPropertyDescriptor(g,f))})}return u}function a(u,l,g){return l in u?Object.defineProperty(u,l,{value:g,enumerable:!0,configurable:!0,writable:!0}):u[l]=g,u}function L(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function M(u,l){for(var g=0;g<l.length;g++){var f=l[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function v(u,l,g){return l&&M(u.prototype,l),g&&M(u,g),u}var p=e(12856),r=p.Buffer,t=e(69862),o=t.inspect,n=o&&o.custom||"inspect";function c(u,l,g){r.prototype.copy.call(u,l,g)}G.exports=function(){function u(){L(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(g){var f={data:g,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(g){var f={data:g,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var f=this.head,T=""+f.data;f=f.next;)T+=g+f.data;return T}},{key:"concat",value:function(g){if(this.length===0)return r.alloc(0);for(var f=r.allocUnsafe(g>>>0),T=this.head,h=0;T;)c(T.data,f,h),h+=T.data.length,T=T.next;return f}},{key:"consume",value:function(g,f){var T;return g<this.head.data.length?(T=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?T=this.shift():T=f?this._getString(g):this._getBuffer(g),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var f=this.head,T=1,h=f.data;for(g-=h.length;f=f.next;){var s=f.data,d=g>s.length?s.length:g;if(d===s.length?h+=s:h+=s.slice(0,g),g-=d,g===0){d===s.length?(++T,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=s.slice(d));break}++T}return this.length-=T,h}},{key:"_getBuffer",value:function(g){var f=r.allocUnsafe(g),T=this.head,h=1;for(T.data.copy(f),g-=T.data.length;T=T.next;){var s=T.data,d=g>s.length?s.length:g;if(s.copy(f,f.length-g,0,d),g-=d,g===0){d===s.length?(++h,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=s.slice(d));break}++h}return this.length-=h,f}},{key:n,value:function(g,f){return o(this,P({},f,{depth:0,customInspect:!1}))}}]),u}()},65756:function(G,H,e){var y=e(90386);function P(r,t){var o=this,n=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return n||c?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(v,this,r)):y.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?o._writableState?o._writableState.errorEmitted?y.nextTick(L,o):(o._writableState.errorEmitted=!0,y.nextTick(a,o,u)):y.nextTick(a,o,u):t?(y.nextTick(L,o),t(u)):y.nextTick(L,o)}),this)}function a(r,t){v(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function M(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var o=r._readableState,n=r._writableState;o&&o.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:P,undestroy:M,errorOrDestroy:p}},12726:function(G,H,e){var y=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];v.apply(this,t)}}}function a(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function M(v,p,r){if(typeof p=="function")return M(v,null,p);p||(p={}),r=P(r||a);var t=p.readable||p.readable!==!1&&v.readable,o=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||u()},c=v._writableState&&v._writableState.finished,u=function(){o=!1,c=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,g=function(){t=!1,l=!0,o||r.call(v)},f=function(d){r.call(v,d)},T=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new y),r.call(v,d);if(o&&!c)return(!v._writableState||!v._writableState.ended)&&(d=new y),r.call(v,d)},h=function(){v.req.on("finish",u)};return L(v)?(v.on("complete",u),v.on("abort",T),v.req?h():v.on("request",h)):o&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",g),v.on("finish",u),p.error!==!1&&v.on("error",f),v.on("close",T),function(){v.removeListener("complete",u),v.removeListener("abort",T),v.removeListener("request",h),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",g),v.removeListener("error",f),v.removeListener("close",T)}}G.exports=M},31748:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(G,H,e){var y;function P(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var a=e(74322).q,L=a.ERR_MISSING_ARGS,M=a.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function p(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,g,f){f=P(f);var T=!1;u.on("close",function(){T=!0}),y===void 0&&(y=e(12726)),y(u,{readable:l,writable:g},function(s){if(s)return f(s);T=!0,f()});var h=!1;return function(s){if(!T&&!h){if(h=!0,p(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();f(s||new M("pipe"))}}}function t(u){u()}function o(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function c(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var f=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new L("streams");var T,h=l.map(function(s,d){var A=d<l.length-1,w=d>0;return r(s,A,w,function(C){T||(T=C),C&&h.forEach(t),!A&&(h.forEach(t),f(T))})});return l.reduce(o)}G.exports=c},56306:function(G,H,e){var y=e(74322).q.ERR_INVALID_OPT_VALUE;function P(L,M,v){return L.highWaterMark!=null?L.highWaterMark:M?L[v]:null}function a(L,M,v,p){var r=P(M,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new y(t,r)}return Math.floor(r)}return L.objectMode?16:16384}G.exports={getHighWaterMark:a}},71405:function(G,H,e){G.exports=e(15398).EventEmitter},68019:function(G,H,e){var y=e(71665).Buffer,P=y.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){if(!h)return"utf8";for(var s;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(s)return;h=(""+h).toLowerCase(),s=!0}}function L(h){var s=a(h);if(typeof s!="string"&&(y.isEncoding===P||!P(h)))throw new Error("Unknown encoding: "+h);return s||h}H.s=M;function M(h){this.encoding=L(h);var s;switch(this.encoding){case"utf16le":this.text=c,this.end=u,s=4;break;case"utf8":this.fillLast=t,s=4;break;case"base64":this.text=l,this.end=g,s=3;break;default:this.write=f,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(s)}M.prototype.write=function(h){if(h.length===0)return"";var s,d;if(this.lastNeed){if(s=this.fillLast(h),s===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<h.length?s?s+this.text(h,d):this.text(h,d):s||""},M.prototype.end=n,M.prototype.text=o,M.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function p(h,s,d){var A=s.length-1;if(A<d)return 0;var w=v(s[A]);return w>=0?(w>0&&(h.lastNeed=w-1),w):--A<d||w===-2?0:(w=v(s[A]),w>=0?(w>0&&(h.lastNeed=w-2),w):--A<d||w===-2?0:(w=v(s[A]),w>=0?(w>0&&(w===2?w=0:h.lastNeed=w-3),w):0))}function r(h,s,d){if((s[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&s.length>1){if((s[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&s.length>2&&(s[2]&192)!==128)return h.lastNeed=2,""}}function t(h){var s=this.lastTotal-this.lastNeed,d=r(this,h);if(d!==void 0)return d;if(this.lastNeed<=h.length)return h.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,s,0,h.length),this.lastNeed-=h.length}function o(h,s){var d=p(this,h,s);if(!this.lastNeed)return h.toString("utf8",s);this.lastTotal=d;var A=h.length-(d-this.lastNeed);return h.copy(this.lastChar,0,A),h.toString("utf8",s,A)}function n(h){var s=h&&h.length?this.write(h):"";return this.lastNeed?s+"":s}function c(h,s){if((h.length-s)%2===0){var d=h.toString("utf16le",s);if(d){var A=d.charCodeAt(d.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",s,h.length-1)}function u(h){var s=h&&h.length?this.write(h):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return s+this.lastChar.toString("utf16le",0,d)}return s}function l(h,s){var d=(h.length-s)%3;return d===0?h.toString("base64",s):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",s,h.length-d))}function g(h){var s=h&&h.length?this.write(h):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function f(h){return h.toString(this.encoding)}function T(h){return h&&h.length?this.write(h):""}},90715:function(G,H,e){var y=e(32791),P=e(41633)("stream-parser");G.exports=p;var a=-1,L=0,M=1,v=2;function p(h){var s=h&&typeof h._transform=="function",d=h&&typeof h._write=="function";if(!s&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),h._bytes=t,h._skipBytes=o,s&&(h._passthrough=n),s?h._transform=u:h._write=c}function r(h){P("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=a,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function t(h,s){y(!this._parserCallback,'there is already a "callback" set!'),y(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||r(this),P("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=s,this._parserState=L}function o(h,s){y(!this._parserCallback,'there is already a "callback" set!'),y(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=s,this._parserState=M}function n(h,s){y(!this._parserCallback,'There is already a "callback" set!'),y(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=s,this._parserState=v}function c(h,s,d){this._parserInit||r(this),P("write(%o bytes)",h.length),typeof s=="function"&&(d=s),f(this,h,null,d)}function u(h,s,d){this._parserInit||r(this),P("transform(%o bytes)",h.length),typeof s!="function"&&(s=this._parserOutput),f(this,h,s,d)}function l(h,s,d,A){return h._parserBytesLeft<=0?A(new Error("got data but not currently parsing anything")):s.length<=h._parserBytesLeft?function(){return g(h,s,d,A)}:function(){var w=s.slice(0,h._parserBytesLeft);return g(h,w,d,function(C){if(C)return A(C);if(s.length>w.length)return function(){return l(h,s.slice(w.length),d,A)}})}}function g(h,s,d,A){if(h._parserBytesLeft-=s.length,P("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===L?(h._parserBuffers.push(s),h._parserBuffered+=s.length):h._parserState===v&&d(s),h._parserBytesLeft===0){var w=h._parserCallback;if(w&&h._parserState===L&&h._parserBuffers.length>1&&(s=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==L&&(s=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=a,h._parserBuffers.splice(0),w){var C=[];s&&C.push(s),d&&C.push(d);var b=w.length>C.length;b&&C.push(T(A));var S=w.apply(h,C);if(!b||A===S)return A}}else return A}var f=T(l);function T(h){return function(){for(var s=h.apply(this,arguments);typeof s=="function";)s=s();return s}}},41633:function(G,H,e){var y=e(90386);H=G.exports=e(74469),H.log=L,H.formatArgs=a,H.save=M,H.load=v,H.useColors=P,H.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),H.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}H.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function a(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+H.humanize(this.diff),!!t){var o="color: "+this.color;r.splice(1,0,o,"color: inherit");var n=0,c=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(c=n))}),r.splice(c,0,o)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function M(r){try{r==null?H.storage.removeItem("debug"):H.storage.debug=r}catch{}}function v(){var r;try{r=H.storage.debug}catch{}return!r&&typeof y<"u"&&"env"in y&&(r=y.env.DEBUG),r}H.enable(v());function p(){try{return window.localStorage}catch{}}},74469:function(G,H,e){H=G.exports=a.debug=a.default=a,H.coerce=p,H.disable=M,H.enable=L,H.enabled=v,H.humanize=e(11375),H.names=[],H.skips=[],H.formatters={};var y;function P(r){var t=0,o;for(o in r)t=(t<<5)-t+r.charCodeAt(o),t|=0;return H.colors[Math.abs(t)%H.colors.length]}function a(r){function t(){if(t.enabled){var o=t,n=+new Date,c=n-(y||n);o.diff=c,o.prev=y,o.curr=n,y=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=H.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var g=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(T,h){if(T==="%%")return T;g++;var s=H.formatters[h];if(typeof s=="function"){var d=u[g];T=s.call(o,d),u.splice(g,1),g--}return T}),H.formatArgs.call(o,u);var f=t.log||H.log||console.log.bind(console);f.apply(o,u)}}return t.namespace=r,t.enabled=H.enabled(r),t.useColors=H.useColors(),t.color=P(r),typeof H.init=="function"&&H.init(t),t}function L(r){H.save(r),H.names=[],H.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),o=t.length,n=0;n<o;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?H.skips.push(new RegExp("^"+r.substr(1)+"$")):H.names.push(new RegExp("^"+r+"$")))}function M(){H.enable("")}function v(r){var t,o;for(t=0,o=H.skips.length;t<o;t++)if(H.skips[t].test(r))return!1;for(t=0,o=H.names.length;t<o;t++)if(H.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},11375:function(G){var H=1e3,e=H*60,y=e*60,P=y*24,a=P*365.25;G.exports=function(r,t){t=t||{};var o=typeof r;if(o==="string"&&r.length>0)return L(r);if(o==="number"&&isNaN(r)===!1)return t.long?v(r):M(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var o=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return o*a;case"days":case"day":case"d":return o*P;case"hours":case"hour":case"hrs":case"hr":case"h":return o*y;case"minutes":case"minute":case"mins":case"min":case"m":return o*e;case"seconds":case"second":case"secs":case"sec":case"s":return o*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function M(r){return r>=P?Math.round(r/P)+"d":r>=y?Math.round(r/y)+"h":r>=e?Math.round(r/e)+"m":r>=H?Math.round(r/H)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,y,"hour")||p(r,e,"minute")||p(r,H,"second")||r+" ms"}function p(r,t,o){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+o:Math.ceil(r/t)+" "+o+"s"}},99011:function(G,H,e){var y=e(88641);G.exports=function(a,L,M){if(a==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");M?(typeof M=="string"||Array.isArray(M))&&(M={ignore:M}):M={},M.escape==null&&(M.escape=!0),M.ignore==null?M.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof M.ignore=="string"&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=y.parse(a,{flat:!0,brackets:M.ignore}),p=v[0],r=p.split(L);if(M.escape){for(var t=[],o=0;o<r.length;o++){var n=r[o],c=r[o+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+L+c),o++):t.push(n)}r=t}for(var o=0;o<r.length;o++)v[0]=r[o],r[o]=y.stringify(v,{flat:!0});return r}},68664:function(G){G.exports=H;function H(e){for(var y=e.length,P=new Array(y),a=new Array(y),L=new Array(y),M=new Array(y),v=new Array(y),p=new Array(y),r=0;r<y;++r)P[r]=-1,a[r]=0,L[r]=!1,M[r]=0,v[r]=-1,p[r]=[];var t=0,o=[],n=[];function c(f){var T=[f],h=[f];for(P[f]=a[f]=t,L[f]=!0,t+=1;h.length>0;){f=h[h.length-1];var s=e[f];if(M[f]<s.length){for(var d=M[f];d<s.length;++d){var A=s[d];if(P[A]<0){P[A]=a[A]=t,L[A]=!0,t+=1,T.push(A),h.push(A);break}else L[A]&&(a[f]=Math.min(a[f],a[A])|0);v[A]>=0&&p[f].push(v[A])}M[f]=d}else{if(a[f]===P[f]){for(var w=[],C=[],b=0,d=T.length-1;d>=0;--d){var S=T[d];if(L[S]=!1,w.push(S),C.push(p[S]),b+=p[S].length,v[S]=o.length,S===f){T.length=d;break}}o.push(w);for(var x=new Array(b),d=0;d<C.length;d++)for(var i=0;i<C[d].length;i++)x[--b]=C[d][i];n.push(x)}h.pop()}}}for(var r=0;r<y;++r)P[r]<0&&c(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(T,h){return T-h}),u=[l[0]];for(var g=1;g<l.length;g++)l[g]!==l[g-1]&&u.push(l[g]);n[r]=u}}return{components:o,adjacencyList:n}}},7095:function(G,H,e){e.r(H);var y=function(){function r(t,o){var n=[],c=!0,u=!1,l=void 0;try{for(var g=t[Symbol.iterator](),f;!(c=(f=g.next()).done)&&(n.push(f.value),!(o&&n.length===o));c=!0);}catch(T){u=!0,l=T}finally{try{!c&&g.return&&g.return()}finally{if(u)throw l}}return n}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,a=function(t,o,n,c,u,l,g){var f=t.x,T=t.y;f*=o,T*=n;var h=c*f-u*T,s=u*f+c*T;return{x:h+l,y:s+g}},L=function(t,o){var n=o===1.5707963267948966?.551915024494:o===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(o/4),c=Math.cos(t),u=Math.sin(t),l=Math.cos(t+o),g=Math.sin(t+o);return[{x:c-u*n,y:u+c*n},{x:l+g*n,y:g-l*n},{x:l,y:g}]},M=function(t,o,n,c){var u=t*c-o*n<0?-1:1,l=t*n+o*c;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,o,n,c,u,l,g,f,T,h,s,d){var A=Math.pow(u,2),w=Math.pow(l,2),C=Math.pow(s,2),b=Math.pow(d,2),S=A*w-A*b-w*C;S<0&&(S=0),S/=A*b+w*C,S=Math.sqrt(S)*(g===f?-1:1);var x=S*u/l*d,i=S*-l/u*s,E=h*x-T*i+(t+n)/2,m=T*x+h*i+(o+c)/2,k=(s-x)/u,I=(d-i)/l,U=(-s-x)/u,z=(-d-i)/l,F=M(1,0,k,I),B=M(k,I,U,z);return f===0&&B>0&&(B-=P),f===1&&B<0&&(B+=P),[E,m,F,B]},p=function(t){var o=t.px,n=t.py,c=t.cx,u=t.cy,l=t.rx,g=t.ry,f=t.xAxisRotation,T=f===void 0?0:f,h=t.largeArcFlag,s=h===void 0?0:h,d=t.sweepFlag,A=d===void 0?0:d,w=[];if(l===0||g===0)return[];var C=Math.sin(T*P/360),b=Math.cos(T*P/360),S=b*(o-c)/2+C*(n-u)/2,x=-C*(o-c)/2+b*(n-u)/2;if(S===0&&x===0)return[];l=Math.abs(l),g=Math.abs(g);var i=Math.pow(S,2)/Math.pow(l,2)+Math.pow(x,2)/Math.pow(g,2);i>1&&(l*=Math.sqrt(i),g*=Math.sqrt(i));var E=v(o,n,c,u,l,g,s,A,C,b,S,x),m=y(E,4),k=m[0],I=m[1],U=m[2],z=m[3],F=Math.abs(z)/(P/4);Math.abs(1-F)<1e-7&&(F=1);var B=Math.max(Math.ceil(F),1);z/=B;for(var O=0;O<B;O++)w.push(L(U,z)),U+=z;return w.map(function(N){var Y=a(N[0],l,g,b,C,k,I),$=Y.x,te=Y.y,ie=a(N[1],l,g,b,C,k,I),ce=ie.x,J=ie.y,Z=a(N[2],l,g,b,C,k,I),ae=Z.x,j=Z.y;return{x1:$,y1:te,x2:ce,y2:J,x:ae,y:j}})};H.default=p},1750:function(G,H,e){var y=e(95616),P=e(65185),a=e(29988),L=e(89546),M=e(32791);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(M(L(p),"String is not an SVG path."),p=y(p)),M(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=a(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,o=p.length;t<o;t++)for(var n=p[t].slice(1),c=0;c<n.length;c+=2)n[c+0]<r[0]&&(r[0]=n[c+0]),n[c+1]<r[1]&&(r[1]=n[c+1]),n[c+0]>r[2]&&(r[2]=n[c+0]),n[c+1]>r[3]&&(r[3]=n[c+1]);return r}},29988:function(G,H,e){G.exports=P;var y=e(7095);function P(M){for(var v,p=[],r=0,t=0,o=0,n=0,c=null,u=null,l=0,g=0,f=0,T=M.length;f<T;f++){var h=M[f],s=h[0];switch(s){case"M":o=h[1],n=h[2];break;case"A":var d=y({px:l,py:g,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!d.length)continue;for(var A=0,w;A<d.length;A++)w=d[A],h=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],A<d.length-1&&p.push(h);break;case"S":var C=l,b=g;(v=="C"||v=="S")&&(C+=C-r,b+=b-t),h=["C",C,b,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(c=l*2-c,u=g*2-u):(c=l,u=g),h=L(l,g,c,u,h[1],h[2]);break;case"Q":c=h[1],u=h[2],h=L(l,g,h[1],h[2],h[3],h[4]);break;case"L":h=a(l,g,h[1],h[2]);break;case"H":h=a(l,g,h[1],g);break;case"V":h=a(l,g,l,h[1]);break;case"Z":h=a(l,g,o,n);break}v=s,l=h[h.length-2],g=h[h.length-1],h.length>4?(r=h[h.length-4],t=h[h.length-3]):(r=l,t=g),p.push(h)}return p}function a(M,v,p,r){return["C",M,v,p,r,p,r]}function L(M,v,p,r,t,o){return["C",M/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,o/3+.6666666666666666*r,t,o]}},82019:function(G,H,e){var y=e(1750),P=e(95616),a=e(31457),L=e(89546),M=e(44781),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=r;function r(n,c){if(!L(n))throw Error("Argument should be valid svg path string");c||(c={});var u,l;c.shape?(u=c.shape[0],l=c.shape[1]):(u=v.width=c.w||c.width||200,l=v.height=c.h||c.height||200);var g=Math.min(u,l),f=c.stroke||0,T=c.viewbox||c.viewBox||y(n),h=[u/(T[2]-T[0]),l/(T[3]-T[1])],s=Math.min(h[0]||0,h[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,u,l),p.fillStyle="white",f&&(typeof f!="number"&&(f=1),f>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(f)),p.translate(u*.5,l*.5),p.scale(s,s),o()){var d=new Path2D(n);p.fill(d),f&&p.stroke(d)}else{var A=P(n);a(p,A),p.fill(),f&&p.stroke()}p.setTransform(1,0,0,1,0,0);var w=M(p,{cutoff:c.cutoff!=null?c.cutoff:.5,radius:c.radius!=null?c.radius:g*.5});return w}var t;function o(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var c=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(c);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},84267:function(G,H,e){var y;(function(P){var a=/^\s+/,L=/\s+$/,M=0,v=P.round,p=P.min,r=P.max,t=P.random;function o(K,se){if(K=K||"",se=se||{},K instanceof o)return K;if(!(this instanceof o))return new o(K,se);var ne=n(K);this._originalInput=K,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=v(100*this._a)/100,this._format=se.format||ne.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ne.ok,this._tc_id=M++}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},getLuminance:function(){var K=this.toRgb(),se,ne,fe,ye,Ee,Te;return se=K.r/255,ne=K.g/255,fe=K.b/255,se<=.03928?ye=se/12.92:ye=P.pow((se+.055)/1.055,2.4),ne<=.03928?Ee=ne/12.92:Ee=P.pow((ne+.055)/1.055,2.4),fe<=.03928?Te=fe/12.92:Te=P.pow((fe+.055)/1.055,2.4),.2126*ye+.7152*Ee+.0722*Te},setAlpha:function(K){return this._a=O(K),this._roundA=v(100*this._a)/100,this},toHsv:function(){var K=g(this._r,this._g,this._b);return{h:K.h*360,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=g(this._r,this._g,this._b),se=v(K.h*360),ne=v(K.s*100),fe=v(K.v*100);return this._a==1?"hsv("+se+", "+ne+"%, "+fe+"%)":"hsva("+se+", "+ne+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var K=u(this._r,this._g,this._b);return{h:K.h*360,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=u(this._r,this._g,this._b),se=v(K.h*360),ne=v(K.s*100),fe=v(K.l*100);return this._a==1?"hsl("+se+", "+ne+"%, "+fe+"%)":"hsla("+se+", "+ne+"%, "+fe+"%, "+this._roundA+")"},toHex:function(K){return T(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return h(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(N(this._r,255)*100)+"%",g:v(N(this._g,255)*100)+"%",b:v(N(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%)":"rgba("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(K){var se="#"+s(this._r,this._g,this._b,this._a),ne=se,fe=this._gradientType?"GradientType = 1, ":"";if(K){var ye=o(K);ne="#"+s(ye._r,ye._g,ye._b,ye._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+se+",endColorstr="+ne+")"},toString:function(K){var se=!!K;K=K||this._format;var ne=!1,fe=this._a<1&&this._a>=0,ye=!se&&fe&&(K==="hex"||K==="hex6"||K==="hex3"||K==="hex4"||K==="hex8"||K==="name");return ye?K==="name"&&this._a===0?this.toName():this.toRgbString():(K==="rgb"&&(ne=this.toRgbString()),K==="prgb"&&(ne=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(ne=this.toHexString()),K==="hex3"&&(ne=this.toHexString(!0)),K==="hex4"&&(ne=this.toHex8String(!0)),K==="hex8"&&(ne=this.toHex8String()),K==="name"&&(ne=this.toName()),K==="hsl"&&(ne=this.toHslString()),K==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(K,se){var ne=K.apply(null,[this].concat([].slice.call(se)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(K,se){return K.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(m,arguments)}},o.fromRatio=function(K,se){if(typeof K=="object"){var ne={};for(var fe in K)K.hasOwnProperty(fe)&&(fe==="a"?ne[fe]=K[fe]:ne[fe]=J(K[fe]));K=ne}return o(K,se)};function n(K){var se={r:0,g:0,b:0},ne=1,fe=null,ye=null,Ee=null,Te=!1,ze=!1;return typeof K=="string"&&(K=oe(K)),typeof K=="object"&&(q(K.r)&&q(K.g)&&q(K.b)?(se=c(K.r,K.g,K.b),Te=!0,ze=String(K.r).substr(-1)==="%"?"prgb":"rgb"):q(K.h)&&q(K.s)&&q(K.v)?(fe=J(K.s),ye=J(K.v),se=f(K.h,fe,ye),Te=!0,ze="hsv"):q(K.h)&&q(K.s)&&q(K.l)&&(fe=J(K.s),Ee=J(K.l),se=l(K.h,fe,Ee),Te=!0,ze="hsl"),K.hasOwnProperty("a")&&(ne=K.a)),ne=O(ne),{ok:Te,format:K.format||ze,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:ne}}function c(K,se,ne){return{r:N(K,255)*255,g:N(se,255)*255,b:N(ne,255)*255}}function u(K,se,ne){K=N(K,255),se=N(se,255),ne=N(ne,255);var fe=r(K,se,ne),ye=p(K,se,ne),Ee,Te,ze=(fe+ye)/2;if(fe==ye)Ee=Te=0;else{var ke=fe-ye;switch(Te=ze>.5?ke/(2-fe-ye):ke/(fe+ye),fe){case K:Ee=(se-ne)/ke+(se<ne?6:0);break;case se:Ee=(ne-K)/ke+2;break;case ne:Ee=(K-se)/ke+4;break}Ee/=6}return{h:Ee,s:Te,l:ze}}function l(K,se,ne){var fe,ye,Ee;K=N(K,360),se=N(se,100),ne=N(ne,100);function Te(Se,me,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<.16666666666666666?Se+(me-Se)*6*Ce:Ce<.5?me:Ce<.6666666666666666?Se+(me-Se)*(.6666666666666666-Ce)*6:Se}if(se===0)fe=ye=Ee=ne;else{var ze=ne<.5?ne*(1+se):ne+se-ne*se,ke=2*ne-ze;fe=Te(ke,ze,K+.3333333333333333),ye=Te(ke,ze,K),Ee=Te(ke,ze,K-.3333333333333333)}return{r:fe*255,g:ye*255,b:Ee*255}}function g(K,se,ne){K=N(K,255),se=N(se,255),ne=N(ne,255);var fe=r(K,se,ne),ye=p(K,se,ne),Ee,Te,ze=fe,ke=fe-ye;if(Te=fe===0?0:ke/fe,fe==ye)Ee=0;else{switch(fe){case K:Ee=(se-ne)/ke+(se<ne?6:0);break;case se:Ee=(ne-K)/ke+2;break;case ne:Ee=(K-se)/ke+4;break}Ee/=6}return{h:Ee,s:Te,v:ze}}function f(K,se,ne){K=N(K,360)*6,se=N(se,100),ne=N(ne,100);var fe=P.floor(K),ye=K-fe,Ee=ne*(1-se),Te=ne*(1-ye*se),ze=ne*(1-(1-ye)*se),ke=fe%6,Se=[ne,Te,Ee,Ee,ze,ne][ke],me=[ze,ne,ne,Te,Ee,Ee][ke],Ce=[Ee,Ee,ze,ne,ne,Te][ke];return{r:Se*255,g:me*255,b:Ce*255}}function T(K,se,ne,fe){var ye=[ce(v(K).toString(16)),ce(v(se).toString(16)),ce(v(ne).toString(16))];return fe&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function h(K,se,ne,fe,ye){var Ee=[ce(v(K).toString(16)),ce(v(se).toString(16)),ce(v(ne).toString(16)),ce(Z(fe))];return ye&&Ee[0].charAt(0)==Ee[0].charAt(1)&&Ee[1].charAt(0)==Ee[1].charAt(1)&&Ee[2].charAt(0)==Ee[2].charAt(1)&&Ee[3].charAt(0)==Ee[3].charAt(1)?Ee[0].charAt(0)+Ee[1].charAt(0)+Ee[2].charAt(0)+Ee[3].charAt(0):Ee.join("")}function s(K,se,ne,fe){var ye=[ce(Z(fe)),ce(v(K).toString(16)),ce(v(se).toString(16)),ce(v(ne).toString(16))];return ye.join("")}o.equals=function(K,se){return!K||!se?!1:o(K).toRgbString()==o(se).toRgbString()},o.random=function(){return o.fromRatio({r:t(),g:t(),b:t()})};function d(K,se){se=se===0?0:se||10;var ne=o(K).toHsl();return ne.s-=se/100,ne.s=Y(ne.s),o(ne)}function A(K,se){se=se===0?0:se||10;var ne=o(K).toHsl();return ne.s+=se/100,ne.s=Y(ne.s),o(ne)}function w(K){return o(K).desaturate(100)}function C(K,se){se=se===0?0:se||10;var ne=o(K).toHsl();return ne.l+=se/100,ne.l=Y(ne.l),o(ne)}function b(K,se){se=se===0?0:se||10;var ne=o(K).toRgb();return ne.r=r(0,p(255,ne.r-v(255*-(se/100)))),ne.g=r(0,p(255,ne.g-v(255*-(se/100)))),ne.b=r(0,p(255,ne.b-v(255*-(se/100)))),o(ne)}function S(K,se){se=se===0?0:se||10;var ne=o(K).toHsl();return ne.l-=se/100,ne.l=Y(ne.l),o(ne)}function x(K,se){var ne=o(K).toHsl(),fe=(ne.h+se)%360;return ne.h=fe<0?360+fe:fe,o(ne)}function i(K){var se=o(K).toHsl();return se.h=(se.h+180)%360,o(se)}function E(K){var se=o(K).toHsl(),ne=se.h;return[o(K),o({h:(ne+120)%360,s:se.s,l:se.l}),o({h:(ne+240)%360,s:se.s,l:se.l})]}function m(K){var se=o(K).toHsl(),ne=se.h;return[o(K),o({h:(ne+90)%360,s:se.s,l:se.l}),o({h:(ne+180)%360,s:se.s,l:se.l}),o({h:(ne+270)%360,s:se.s,l:se.l})]}function k(K){var se=o(K).toHsl(),ne=se.h;return[o(K),o({h:(ne+72)%360,s:se.s,l:se.l}),o({h:(ne+216)%360,s:se.s,l:se.l})]}function I(K,se,ne){se=se||6,ne=ne||30;var fe=o(K).toHsl(),ye=360/ne,Ee=[o(K)];for(fe.h=(fe.h-(ye*se>>1)+720)%360;--se;)fe.h=(fe.h+ye)%360,Ee.push(o(fe));return Ee}function U(K,se){se=se||6;for(var ne=o(K).toHsv(),fe=ne.h,ye=ne.s,Ee=ne.v,Te=[],ze=1/se;se--;)Te.push(o({h:fe,s:ye,v:Ee})),Ee=(Ee+ze)%1;return Te}o.mix=function(K,se,ne){ne=ne===0?0:ne||50;var fe=o(K).toRgb(),ye=o(se).toRgb(),Ee=ne/100,Te={r:(ye.r-fe.r)*Ee+fe.r,g:(ye.g-fe.g)*Ee+fe.g,b:(ye.b-fe.b)*Ee+fe.b,a:(ye.a-fe.a)*Ee+fe.a};return o(Te)},o.readability=function(K,se){var ne=o(K),fe=o(se);return(P.max(ne.getLuminance(),fe.getLuminance())+.05)/(P.min(ne.getLuminance(),fe.getLuminance())+.05)},o.isReadable=function(K,se,ne){var fe=o.readability(K,se),ye,Ee;switch(Ee=!1,ye=Q(ne),ye.level+ye.size){case"AAsmall":case"AAAlarge":Ee=fe>=4.5;break;case"AAlarge":Ee=fe>=3;break;case"AAAsmall":Ee=fe>=7;break}return Ee},o.mostReadable=function(K,se,ne){var fe=null,ye=0,Ee,Te,ze,ke;ne=ne||{},Te=ne.includeFallbackColors,ze=ne.level,ke=ne.size;for(var Se=0;Se<se.length;Se++)Ee=o.readability(K,se[Se]),Ee>ye&&(ye=Ee,fe=o(se[Se]));return o.isReadable(K,fe,{level:ze,size:ke})||!Te?fe:(ne.includeFallbackColors=!1,o.mostReadable(K,["#fff","#000"],ne))};var z=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=o.hexNames=B(z);function B(K){var se={};for(var ne in K)K.hasOwnProperty(ne)&&(se[K[ne]]=ne);return se}function O(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function N(K,se){te(K)&&(K="100%");var ne=ie(K);return K=p(se,r(0,parseFloat(K))),ne&&(K=parseInt(K*se,10)/100),P.abs(K-se)<1e-6?1:K%se/parseFloat(se)}function Y(K){return p(1,r(0,K))}function $(K){return parseInt(K,16)}function te(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function ie(K){return typeof K=="string"&&K.indexOf("%")!=-1}function ce(K){return K.length==1?"0"+K:""+K}function J(K){return K<=1&&(K=K*100+"%"),K}function Z(K){return P.round(parseFloat(K)*255).toString(16)}function ae(K){return $(K)/255}var j=function(){var K="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ne="(?:"+se+")|(?:"+K+")",fe="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",ye="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?";return{CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+ye),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(K){return!!j.CSS_UNIT.exec(K)}function oe(K){K=K.replace(a,"").replace(L,"").toLowerCase();var se=!1;if(z[K])K=z[K],se=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ne;return(ne=j.rgb.exec(K))?{r:ne[1],g:ne[2],b:ne[3]}:(ne=j.rgba.exec(K))?{r:ne[1],g:ne[2],b:ne[3],a:ne[4]}:(ne=j.hsl.exec(K))?{h:ne[1],s:ne[2],l:ne[3]}:(ne=j.hsla.exec(K))?{h:ne[1],s:ne[2],l:ne[3],a:ne[4]}:(ne=j.hsv.exec(K))?{h:ne[1],s:ne[2],v:ne[3]}:(ne=j.hsva.exec(K))?{h:ne[1],s:ne[2],v:ne[3],a:ne[4]}:(ne=j.hex8.exec(K))?{r:$(ne[1]),g:$(ne[2]),b:$(ne[3]),a:ae(ne[4]),format:se?"name":"hex8"}:(ne=j.hex6.exec(K))?{r:$(ne[1]),g:$(ne[2]),b:$(ne[3]),format:se?"name":"hex"}:(ne=j.hex4.exec(K))?{r:$(ne[1]+""+ne[1]),g:$(ne[2]+""+ne[2]),b:$(ne[3]+""+ne[3]),a:ae(ne[4]+""+ne[4]),format:se?"name":"hex8"}:(ne=j.hex3.exec(K))?{r:$(ne[1]+""+ne[1]),g:$(ne[2]+""+ne[2]),b:$(ne[3]+""+ne[3]),format:se?"name":"hex"}:!1}function Q(K){var se,ne;return K=K||{level:"AA",size:"small"},se=(K.level||"AA").toUpperCase(),ne=(K.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ne!=="small"&&ne!=="large"&&(ne="small"),{level:se,size:ne}}G.exports?G.exports=o:(y=(function(){return o}).call(H,e,H,G),y!==void 0&&(G.exports=y))})(Math)},57060:function(G){G.exports=y,G.exports.float32=G.exports.float=y,G.exports.fract32=G.exports.fract=e;var H=new Float32Array(1);function e(P,a){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);a instanceof Float32Array||(a=y(P));for(var L=0,M=a.length;L<M;L++)a[L]=P[L]-a[L];return a}return y(P-y(P))}function y(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(H[0]=P,H[0])}},75686:function(G,H,e){var y=e(25677);G.exports=M;var P=96;function a(v,p){var r=y(getComputedStyle(v).getPropertyValue(p));return r[0]*M(r[1],v)}function L(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=a(r,"font-size")/128;return p.removeChild(r),t}function M(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return a(p,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},96892:function(G,H,e){e.d(H,{zL:function(){return L}});function y(p,r){for(var t,o=p.length,n=o-r;n<--o;)t=p[n],p[n++]=p[o],p[o]=t}function P(p){return p}function a(p){if(p==null)return P;var r,t,o=p.scale[0],n=p.scale[1],c=p.translate[0],u=p.translate[1];return function(l,g){g||(r=t=0);var f=2,T=l.length,h=new Array(T);for(h[0]=(r+=l[0])*o+c,h[1]=(t+=l[1])*n+u;f<T;)h[f]=l[f],++f;return h}}function L(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return M(p,t)})}:M(p,r)}function M(p,r){var t=r.id,o=r.bbox,n=r.properties==null?{}:r.properties,c=v(p,r);return t==null&&o==null?{type:"Feature",properties:n,geometry:c}:o==null?{type:"Feature",id:t,properties:n,geometry:c}:{type:"Feature",id:t,bbox:o,properties:n,geometry:c}}function v(p,r){var t=a(p.transform),o=p.arcs;function n(T,h){h.length&&h.pop();for(var s=o[T<0?~T:T],d=0,A=s.length;d<A;++d)h.push(t(s[d],d));T<0&&y(h,A)}function c(T){return t(T)}function u(T){for(var h=[],s=0,d=T.length;s<d;++s)n(T[s],h);return h.length<2&&h.push(h[0]),h}function l(T){for(var h=u(T);h.length<4;)h.push(h[0]);return h}function g(T){return T.map(l)}function f(T){var h=T.type,s;switch(h){case"GeometryCollection":return{type:h,geometries:T.geometries.map(f)};case"Point":s=c(T.coordinates);break;case"MultiPoint":s=T.coordinates.map(c);break;case"LineString":s=u(T.arcs);break;case"MultiLineString":s=T.arcs.map(u);break;case"Polygon":s=g(T.arcs);break;case"MultiPolygon":s=T.arcs.map(g);break;default:return null}return{type:h,coordinates:s}}return f(r)}},73116:function(G,H,e){var y=e(24511);G.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!y(P)}},69190:function(G,H,e){var y=e(24582),P=e(47403),a=e(9234),L=e(6048),M=function(v,p){return v.replace("%v",L(p))};G.exports=function(v,p,r){if(!P(r))throw new TypeError(M(p,v));if(!y(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=a(r.errorMessage);throw y(t)||(t=p),new TypeError(M(t,v))}},18497:function(G){G.exports=function(H){try{return H.toString()}catch{try{return String(H)}catch{return null}}}},6048:function(G,H,e){var y=e(18497),P=/[\n\r\u2028\u2029]/g;G.exports=function(a){var L=y(a);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+""),L=L.replace(P,function(M){switch(M){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},47403:function(G,H,e){var y=e(24582),P={object:!0,function:!0,undefined:!0};G.exports=function(a){return y(a)?hasOwnProperty.call(P,typeof a):!1}},82527:function(G,H,e){var y=e(69190),P=e(84985);G.exports=function(a){return P(a)?a:y(a,"%v is not a plain function",arguments[1])}},84985:function(G,H,e){var y=e(73116),P=/^\s*class[\s{/}]/,a=Function.prototype.toString;G.exports=function(L){return!(!y(L)||P.test(a.call(L)))}},24511:function(G,H,e){var y=e(47403);G.exports=function(P){if(!y(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},9234:function(G,H,e){var y=e(24582),P=e(47403),a=Object.prototype.toString;G.exports=function(L){if(!y(L))return null;if(P(L)){var M=L.toString;if(typeof M!="function"||M===a)return null}try{return""+L}catch{return null}}},10424:function(G,H,e){var y=e(69190),P=e(24582);G.exports=function(a){return P(a)?a:y(a,"Cannot use %v",arguments[1])}},24582:function(G){var H=void 0;G.exports=function(e){return e!==H&&e!==null}},58404:function(G,H,e){var y=e(13547),P=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;H.free=function(i){if(a.isBuffer(i))t[y.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var E=i.length||i.byteLength,m=y.log2(E)|0;r[m].push(i)}};function o(x){if(x){var i=x.length||x.byteLength,E=y.log2(i);r[E].push(x)}}function n(x){o(x.buffer)}H.freeUint8=H.freeUint16=H.freeUint32=H.freeBigUint64=H.freeInt8=H.freeInt16=H.freeInt32=H.freeBigInt64=H.freeFloat32=H.freeFloat=H.freeFloat64=H.freeDouble=H.freeUint8Clamped=H.freeDataView=n,H.freeArrayBuffer=o,H.freeBuffer=function(i){t[y.log2(i.length)].push(i)},H.malloc=function(i,E){if(E===void 0||E==="arraybuffer")return c(i);switch(E){case"uint8":return u(i);case"uint16":return l(i);case"uint32":return g(i);case"int8":return f(i);case"int16":return T(i);case"int32":return h(i);case"float":case"float32":return s(i);case"double":case"float64":return d(i);case"uint8_clamped":return A(i);case"bigint64":return C(i);case"biguint64":return w(i);case"buffer":return S(i);case"data":case"dataview":return b(i);default:return null}return null};function c(i){var i=y.nextPow2(i),E=y.log2(i),m=r[E];return m.length>0?m.pop():new ArrayBuffer(i)}H.mallocArrayBuffer=c;function u(x){return new Uint8Array(c(x),0,x)}H.mallocUint8=u;function l(x){return new Uint16Array(c(2*x),0,x)}H.mallocUint16=l;function g(x){return new Uint32Array(c(4*x),0,x)}H.mallocUint32=g;function f(x){return new Int8Array(c(x),0,x)}H.mallocInt8=f;function T(x){return new Int16Array(c(2*x),0,x)}H.mallocInt16=T;function h(x){return new Int32Array(c(4*x),0,x)}H.mallocInt32=h;function s(x){return new Float32Array(c(4*x),0,x)}H.mallocFloat32=H.mallocFloat=s;function d(x){return new Float64Array(c(8*x),0,x)}H.mallocFloat64=H.mallocDouble=d;function A(x){return L?new Uint8ClampedArray(c(x),0,x):u(x)}H.mallocUint8Clamped=A;function w(x){return M?new BigUint64Array(c(8*x),0,x):null}H.mallocBigUint64=w;function C(x){return v?new BigInt64Array(c(8*x),0,x):null}H.mallocBigInt64=C;function b(x){return new DataView(c(x),0,x)}H.mallocDataView=b;function S(x){x=y.nextPow2(x);var i=y.log2(x),E=t[i];return E.length>0?E.pop():new a(x)}H.mallocBuffer=S,H.clearCache=function(){for(var i=0;i<32;++i)p.UINT8[i].length=0,p.UINT16[i].length=0,p.UINT32[i].length=0,p.INT8[i].length=0,p.INT16[i].length=0,p.INT32[i].length=0,p.FLOAT[i].length=0,p.DOUBLE[i].length=0,p.BIGUINT64[i].length=0,p.BIGINT64[i].length=0,p.UINT8C[i].length=0,r[i].length=0,t[i].length=0}},90448:function(G){var H=/[\'\"]/;G.exports=function(y){return y?(H.test(y.charAt(0))&&(y=y.substr(1)),H.test(y.charAt(y.length-1))&&(y=y.substr(0,y.length-1)),y):""}},93447:function(G){G.exports=function(e,y,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var a=0,L=P.length;a<L;a++){var M=P[a];for(var v in M)if(!(y[v]!==void 0&&!Array.isArray(y[v])&&e[v]===y[v])&&v in y){var p;if(M[v]===!0)p=y[v];else{if(M[v]===!1)continue;if(typeof M[v]=="function"&&(p=M[v](y[v],e,y),p===void 0))continue}e[v]=p}}return e}},20588:function(G,H,e){G.exports=y;function y(a,L){if(P("noDeprecation"))return a;var M=!1;function v(){if(!M){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),M=!0}return a.apply(this,arguments)}return v}function P(a){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[a];return L==null?!1:String(L).toLowerCase()==="true"}},45920:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(G,H,e){var y=e(47216),P=e(65481),a=e(21099),L=e(9187);function M(Ee){return Ee.call.bind(Ee)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=M(Object.prototype.toString),t=M(Number.prototype.valueOf),o=M(String.prototype.valueOf),n=M(Boolean.prototype.valueOf);if(v)var c=M(BigInt.prototype.valueOf);if(p)var u=M(Symbol.prototype.valueOf);function l(Ee,Te){if(typeof Ee!="object")return!1;try{return Te(Ee),!0}catch{return!1}}H.isArgumentsObject=y,H.isGeneratorFunction=P,H.isTypedArray=L;function g(Ee){return typeof Promise<"u"&&Ee instanceof Promise||Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"&&typeof Ee.catch=="function"}H.isPromise=g;function f(Ee){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ee):L(Ee)||$(Ee)}H.isArrayBufferView=f;function T(Ee){return a(Ee)==="Uint8Array"}H.isUint8Array=T;function h(Ee){return a(Ee)==="Uint8ClampedArray"}H.isUint8ClampedArray=h;function s(Ee){return a(Ee)==="Uint16Array"}H.isUint16Array=s;function d(Ee){return a(Ee)==="Uint32Array"}H.isUint32Array=d;function A(Ee){return a(Ee)==="Int8Array"}H.isInt8Array=A;function w(Ee){return a(Ee)==="Int16Array"}H.isInt16Array=w;function C(Ee){return a(Ee)==="Int32Array"}H.isInt32Array=C;function b(Ee){return a(Ee)==="Float32Array"}H.isFloat32Array=b;function S(Ee){return a(Ee)==="Float64Array"}H.isFloat64Array=S;function x(Ee){return a(Ee)==="BigInt64Array"}H.isBigInt64Array=x;function i(Ee){return a(Ee)==="BigUint64Array"}H.isBigUint64Array=i;function E(Ee){return r(Ee)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function m(Ee){return typeof Map>"u"?!1:E.working?E(Ee):Ee instanceof Map}H.isMap=m;function k(Ee){return r(Ee)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function I(Ee){return typeof Set>"u"?!1:k.working?k(Ee):Ee instanceof Set}H.isSet=I;function U(Ee){return r(Ee)==="[object WeakMap]"}U.working=typeof WeakMap<"u"&&U(new WeakMap);function z(Ee){return typeof WeakMap>"u"?!1:U.working?U(Ee):Ee instanceof WeakMap}H.isWeakMap=z;function F(Ee){return r(Ee)==="[object WeakSet]"}F.working=typeof WeakSet<"u"&&F(new WeakSet);function B(Ee){return F(Ee)}H.isWeakSet=B;function O(Ee){return r(Ee)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function N(Ee){return typeof ArrayBuffer>"u"?!1:O.working?O(Ee):Ee instanceof ArrayBuffer}H.isArrayBuffer=N;function Y(Ee){return r(Ee)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function $(Ee){return typeof DataView>"u"?!1:Y.working?Y(Ee):Ee instanceof DataView}H.isDataView=$;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ie(Ee){return r(Ee)==="[object SharedArrayBuffer]"}function ce(Ee){return typeof te>"u"?!1:(typeof ie.working>"u"&&(ie.working=ie(new te)),ie.working?ie(Ee):Ee instanceof te)}H.isSharedArrayBuffer=ce;function J(Ee){return r(Ee)==="[object AsyncFunction]"}H.isAsyncFunction=J;function Z(Ee){return r(Ee)==="[object Map Iterator]"}H.isMapIterator=Z;function ae(Ee){return r(Ee)==="[object Set Iterator]"}H.isSetIterator=ae;function j(Ee){return r(Ee)==="[object Generator]"}H.isGeneratorObject=j;function q(Ee){return r(Ee)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=q;function oe(Ee){return l(Ee,t)}H.isNumberObject=oe;function Q(Ee){return l(Ee,o)}H.isStringObject=Q;function K(Ee){return l(Ee,n)}H.isBooleanObject=K;function se(Ee){return v&&l(Ee,c)}H.isBigIntObject=se;function ne(Ee){return p&&l(Ee,u)}H.isSymbolObject=ne;function fe(Ee){return oe(Ee)||Q(Ee)||K(Ee)||se(Ee)||ne(Ee)}H.isBoxedPrimitive=fe;function ye(Ee){return typeof Uint8Array<"u"&&(N(Ee)||ce(Ee))}H.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ee){Object.defineProperty(H,Ee,{enumerable:!1,value:function(){throw new Error(Ee+" is not supported in userland")}})})},43827:function(G,H,e){var y=e(90386),P=Object.getOwnPropertyDescriptors||function(te){for(var ie=Object.keys(te),ce={},J=0;J<ie.length;J++)ce[ie[J]]=Object.getOwnPropertyDescriptor(te,ie[J]);return ce},a=/%[sdj%]/g;H.format=function($){if(!w($)){for(var te=[],ie=0;ie<arguments.length;ie++)te.push(p(arguments[ie]));return te.join(" ")}for(var ie=1,ce=arguments,J=ce.length,Z=String($).replace(a,function(j){if(j==="%%")return"%";if(ie>=J)return j;switch(j){case"%s":return String(ce[ie++]);case"%d":return Number(ce[ie++]);case"%j":try{return JSON.stringify(ce[ie++])}catch{return"[Circular]"}default:return j}}),ae=ce[ie];ie<J;ae=ce[++ie])s(ae)||!x(ae)?Z+=" "+ae:Z+=" "+p(ae);return Z},H.deprecate=function($,te){if(typeof y<"u"&&y.noDeprecation===!0)return $;if(typeof y>"u")return function(){return H.deprecate($,te).apply(this,arguments)};var ie=!1;function ce(){if(!ie){if(y.throwDeprecation)throw new Error(te);y.traceDeprecation?console.trace(te):console.error(te),ie=!0}return $.apply(this,arguments)}return ce};var L={},M=/^$/;if(y.env.NODE_DEBUG){var v=y.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+v+"$","i")}H.debuglog=function($){if($=$.toUpperCase(),!L[$])if(M.test($)){var te=y.pid;L[$]=function(){var ie=H.format.apply(H,arguments);console.error("%s %d: %s",$,te,ie)}}else L[$]=function(){};return L[$]};function p($,te){var ie={seen:[],stylize:t};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),h(te)?ie.showHidden=te:te&&H._extend(ie,te),b(ie.showHidden)&&(ie.showHidden=!1),b(ie.depth)&&(ie.depth=2),b(ie.colors)&&(ie.colors=!1),b(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=r),n(ie,$,ie.depth)}H.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r($,te){var ie=p.styles[te];return ie?"\x1B["+p.colors[ie][0]+"m"+$+"\x1B["+p.colors[ie][1]+"m":$}function t($,te){return $}function o($){var te={};return $.forEach(function(ie,ce){te[ie]=!0}),te}function n($,te,ie){if($.customInspect&&te&&m(te.inspect)&&te.inspect!==H.inspect&&!(te.constructor&&te.constructor.prototype===te)){var ce=te.inspect(ie,$);return w(ce)||(ce=n($,ce,ie)),ce}var J=c($,te);if(J)return J;var Z=Object.keys(te),ae=o(Z);if($.showHidden&&(Z=Object.getOwnPropertyNames(te)),E(te)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return u(te);if(Z.length===0){if(m(te)){var j=te.name?": "+te.name:"";return $.stylize("[Function"+j+"]","special")}if(S(te))return $.stylize(RegExp.prototype.toString.call(te),"regexp");if(i(te))return $.stylize(Date.prototype.toString.call(te),"date");if(E(te))return u(te)}var q="",oe=!1,Q=["{","}"];if(T(te)&&(oe=!0,Q=["[","]"]),m(te)){var K=te.name?": "+te.name:"";q=" [Function"+K+"]"}if(S(te)&&(q=" "+RegExp.prototype.toString.call(te)),i(te)&&(q=" "+Date.prototype.toUTCString.call(te)),E(te)&&(q=" "+u(te)),Z.length===0&&(!oe||te.length==0))return Q[0]+q+Q[1];if(ie<0)return S(te)?$.stylize(RegExp.prototype.toString.call(te),"regexp"):$.stylize("[Object]","special");$.seen.push(te);var se;return oe?se=l($,te,ie,ae,Z):se=Z.map(function(ne){return g($,te,ie,ae,ne,oe)}),$.seen.pop(),f(se,q,Q)}function c($,te){if(b(te))return $.stylize("undefined","undefined");if(w(te)){var ie="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(ie,"string")}if(A(te))return $.stylize(""+te,"number");if(h(te))return $.stylize(""+te,"boolean");if(s(te))return $.stylize("null","null")}function u($){return"["+Error.prototype.toString.call($)+"]"}function l($,te,ie,ce,J){for(var Z=[],ae=0,j=te.length;ae<j;++ae)B(te,String(ae))?Z.push(g($,te,ie,ce,String(ae),!0)):Z.push("");return J.forEach(function(q){q.match(/^\d+$/)||Z.push(g($,te,ie,ce,q,!0))}),Z}function g($,te,ie,ce,J,Z){var ae,j,q;if(q=Object.getOwnPropertyDescriptor(te,J)||{value:te[J]},q.get?q.set?j=$.stylize("[Getter/Setter]","special"):j=$.stylize("[Getter]","special"):q.set&&(j=$.stylize("[Setter]","special")),B(ce,J)||(ae="["+J+"]"),j||($.seen.indexOf(q.value)<0?(s(ie)?j=n($,q.value,null):j=n($,q.value,ie-1),j.indexOf(`
`)>-1&&(Z?j=j.split(`
`).map(function(oe){return"  "+oe}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(oe){return"   "+oe}).join(`
`))):j=$.stylize("[Circular]","special")),b(ae)){if(Z&&J.match(/^\d+$/))return j;ae=JSON.stringify(""+J),ae.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ae=ae.slice(1,-1),ae=$.stylize(ae,"name")):(ae=ae.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ae=$.stylize(ae,"string"))}return ae+": "+j}function f($,te,ie){var ce=$.reduce(function(J,Z){return Z.indexOf(`
`)>=0,J+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ce>60?ie[0]+(te===""?"":te+`
 `)+" "+$.join(`,
  `)+" "+ie[1]:ie[0]+te+" "+$.join(", ")+" "+ie[1]}H.types=e(4936);function T($){return Array.isArray($)}H.isArray=T;function h($){return typeof $=="boolean"}H.isBoolean=h;function s($){return $===null}H.isNull=s;function d($){return $==null}H.isNullOrUndefined=d;function A($){return typeof $=="number"}H.isNumber=A;function w($){return typeof $=="string"}H.isString=w;function C($){return typeof $=="symbol"}H.isSymbol=C;function b($){return $===void 0}H.isUndefined=b;function S($){return x($)&&I($)==="[object RegExp]"}H.isRegExp=S,H.types.isRegExp=S;function x($){return typeof $=="object"&&$!==null}H.isObject=x;function i($){return x($)&&I($)==="[object Date]"}H.isDate=i,H.types.isDate=i;function E($){return x($)&&(I($)==="[object Error]"||$ instanceof Error)}H.isError=E,H.types.isNativeError=E;function m($){return typeof $=="function"}H.isFunction=m;function k($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}H.isPrimitive=k,H.isBuffer=e(45920);function I($){return Object.prototype.toString.call($)}function U($){return $<10?"0"+$.toString(10):$.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var $=new Date,te=[U($.getHours()),U($.getMinutes()),U($.getSeconds())].join(":");return[$.getDate(),z[$.getMonth()],te].join(" ")}H.log=function(){console.log("%s - %s",F(),H.format.apply(H,arguments))},H.inherits=e(42018),H._extend=function($,te){if(!te||!x(te))return $;for(var ie=Object.keys(te),ce=ie.length;ce--;)$[ie[ce]]=te[ie[ce]];return $};function B($,te){return Object.prototype.hasOwnProperty.call($,te)}var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;H.promisify=function(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&te[O]){var ie=te[O];if(typeof ie!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ie,O,{value:ie,enumerable:!1,writable:!1,configurable:!0}),ie}function ie(){for(var ce,J,Z=new Promise(function(q,oe){ce=q,J=oe}),ae=[],j=0;j<arguments.length;j++)ae.push(arguments[j]);ae.push(function(q,oe){q?J(q):ce(oe)});try{te.apply(this,ae)}catch(q){J(q)}return Z}return Object.setPrototypeOf(ie,Object.getPrototypeOf(te)),O&&Object.defineProperty(ie,O,{value:ie,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ie,P(te))},H.promisify.custom=O;function N($,te){if(!$){var ie=new Error("Promise was rejected with a falsy value");ie.reason=$,$=ie}return te($)}function Y($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var ie=[],ce=0;ce<arguments.length;ce++)ie.push(arguments[ce]);var J=ie.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var Z=this,ae=function(){return J.apply(Z,arguments)};$.apply(this,ie).then(function(j){y.nextTick(ae.bind(null,null,j))},function(j){y.nextTick(N.bind(null,j,ae))})}return Object.setPrototypeOf(te,Object.getPrototypeOf($)),Object.defineProperties(te,P($)),te}H.callbackify=Y},40372:function(G,H,e){var y=e(86249);G.exports=function(a){return y("webgl",a)}},21099:function(G,H,e){var y=e(31353),P=e(72077),a=e(6614),L=e(40383),M=a("Object.prototype.toString"),v=e(84543)(),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=a("String.prototype.slice"),o={},n=Object.getPrototypeOf;v&&L&&n&&y(r,function(l){if(typeof p[l]=="function"){var g=new p[l];if(Symbol.toStringTag in g){var f=n(g),T=L(f,Symbol.toStringTag);if(!T){var h=n(f);T=L(h,Symbol.toStringTag)}o[l]=T.get}}});var c=function(g){var f=!1;return y(o,function(T,h){if(!f)try{var s=T.call(g);s===h&&(f=s)}catch{}}),f},u=e(9187);G.exports=function(g){return u(g)?!v||!(Symbol.toStringTag in g)?t(M(g),8,-1):c(g):!1}},3961:function(G,H,e){var y=e(63489),P=e(56131),a=y.instance();function L(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var g=u.match(v);return g?g[0]:""}var f=this._validateYear(u),T=u.month(),h=""+this.toChineseMonth(f,T);return l&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(f,T)&&(h+="i"),h},monthNames:function(u){if(typeof u=="string"){var l=u.match(p);return l?l[0]:""}var g=this._validateYear(u),f=u.month(),T=this.toChineseMonth(g,f),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(g,f)&&(h=""+h),h},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var g=this._validateYear(u),f=u.month(),T=this.toChineseMonth(g,f),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(g,f)&&(h=""+h),h},parseMonth:function(u,l){u=this._validateYear(u);var g=parseInt(l),f;if(isNaN(g))l[0]===""&&(f=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),g=1+["","","","","","","","","","","",""].indexOf(l);else{var T=l[l.length-1];f=T==="i"||T==="I"}var h=this.toMonthIndex(u,g,f);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,g){var f=this.intercalaryMonth(u),T=g&&l!==f;if(T||l<1||l>12)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return f?!g&&l<=f?h=l-1:h=l:h=l-1,h},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u),f=g?12:11;if(l<0||l>f)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return g?l<g?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],g=l>>13;return g},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u);return!!g&&g===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,g){var f=this._validateYear(u,y.local.invalidyear),T=o[f-o[0]],h=T>>9&4095,s=T>>5&15,d=T&31,A;A=a.newDate(h,s,d),A.add(4-(A.dayOfWeek()||7),"d");var w=this.toJD(u,l,g)-A.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var g=t[u-t[0]],f=g>>13,T=f?12:11;if(l>T)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=g&1<<12-l?30:29;return h},weekDay:function(u,l,g){return(this.dayOfWeek(u,l,g)||7)<6},toJD:function(u,l,g){var f=this._validate(u,h,g,y.local.invalidDate);u=this._validateYear(f.year()),l=f.month(),g=f.day();var T=this.isIntercalaryMonth(u,l),h=this.toChineseMonth(u,l),s=c(u,h,g,T);return a.toJD(s.year,s.month,s.day)},fromJD:function(u){var l=a.fromJD(u),g=n(l.year(),l.month(),l.day()),f=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,f,g.day)},fromString:function(u){var l=u.match(M),g=this._validateYear(+l[1]),f=+l[2],T=!!l[3],h=this.toMonthIndex(g,f,T),s=+l[4];return this.newDate(g,h,s)},add:function(u,l,g){var f=u.year(),T=u.month(),h=this.isIntercalaryMonth(f,T),s=this.toChineseMonth(f,T),d=Object.getPrototypeOf(L.prototype).add.call(this,u,l,g);if(g==="y"){var A=d.year(),w=d.month(),C=this.isIntercalaryMonth(A,s),b=h&&C?this.toMonthIndex(A,s,!0):this.toMonthIndex(A,s,!1);b!==w&&d.month(b)}return d}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,r=/^??[]?/m;y.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],o=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,g,f){var T,h;if(typeof u=="object")T=u,h=l||{};else{var s=typeof u=="number"&&u>=1888&&u<=2111;if(!s)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var A=typeof g=="number"&&g>=1&&g<=31;if(!A)throw new Error("Solar day outside range 1 - 31");T={year:u,month:l,day:g},h=f||{}}var w=o[T.year-o[0]],C=T.year<<9|T.month<<5|T.day;h.year=C>=w?T.year:T.year-1,w=o[h.year-o[0]];var b=w>>9&4095,S=w>>5&15,x=w&31,i,E=new Date(b,S-1,x),m=new Date(T.year,T.month-1,T.day);i=Math.round((m-E)/864e5);var k=t[h.year-t[0]],I;for(I=0;I<13;I++){var U=k&1<<12-I?30:29;if(i<U)break;i-=U}var z=k>>13;return!z||I<z?(h.isIntercalary=!1,h.month=1+I):I===z?(h.isIntercalary=!0,h.month=I):(h.isIntercalary=!1,h.month=I),h.day=1+i,h}function c(u,l,g,f,T){var h,s;if(typeof u=="object")s=u,h=l||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var A=typeof l=="number"&&l>=1&&l<=12;if(!A)throw new Error("Lunar month outside range 1 - 12");var w=typeof g=="number"&&g>=1&&g<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var C;typeof f=="object"?(C=!1,h=f):(C=!!f,h=T||{}),s={year:u,month:l,day:g,isIntercalary:C}}var b;b=s.day-1;var S=t[s.year-t[0]],x=S>>13,i;x&&(s.month>x||s.isIntercalary)?i=s.month:i=s.month-1;for(var E=0;E<i;E++){var m=S&1<<12-E?30:29;b+=m}var k=o[s.year-o[0]],I=k>>9&4095,U=k>>5&15,z=k&31,F=new Date(I,U-1,z+b);return h.year=F.getFullYear(),h.month=1+F.getMonth(),h.day=F.getDate(),h}},38751:function(G,H,e){var y=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var M=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),y.calendars.coptic=a},86825:function(G,H,e){var y=e(63489),P=e(56131);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),400},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return(r.day()+1)%8},weekDay:function(M,v,p){var r=this.dayOfWeek(M,v,p);return r>=2&&r<=6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return M=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(M-1)*400+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(M/400)+1;M-=(v-1)*400,M+=M>15?16:0;var p=Math.floor(M/32)+1,r=M-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var L={20:"Fruitbat",21:"Anchovy"};y.calendars.discworld=a},37715:function(G,H,e){var y=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var M=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),y.calendars.ethiopian=a},99384:function(G,H,e){var y=e(63489),P=e(56131);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(M){return M=M<0?M+1:M,L(M*7+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return M=v.year(),this.toJD(M===-1?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,v){return M.year&&(v=M.month(),M=M.year()),this._validate(M,v,this.minDay,y.local.invalidMonth),v===12&&this.leapYear(M)||v===8&&L(this.daysInYear(M),10)===5?30:v===9&&L(this.daysInYear(M),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M<=0?M+1:M,o=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(M);n++)o+=this.daysInMonth(M,n);for(var n=1;n<v;n++)o+=this.daysInMonth(M,n)}else for(var n=7;n<v;n++)o+=this.daysInMonth(M,n);return o},_delay1:function(M){var v=Math.floor((235*M-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(M){var v=this._delay1(M-1),p=this._delay1(M),r=this._delay1(M+1);return r-p===356?2:p-v===382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var v=Math.floor((M-this.jdEpoch)*98496/35975351)-1;M>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=M<this.toJD(v,1,1)?7:1;M>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=M-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function L(M,v){return M-v*Math.floor(M/v)}y.calendars.hebrew=a},43805:function(G,H,e){var y=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var M=this._validate(L,this.minMonth,this.minDay,y.local.invalidYear);return(M.year()*11+14)%30<11},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return this.dayOfWeek(L,M,v)!==5},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),M=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(M-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var M=Math.floor((30*(L-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var v=Math.min(12,Math.ceil((L-29-this.toJD(M,1,1))/29.5)+1),p=L-this.toJD(M,v,1)+1;return this.newDate(M,v,p)}}),y.calendars.islamic=a},88874:function(G,H,e){var y=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=M.year()<0?M.year()+1:M.year();return v%4===0},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),M=p.month(),v=p.day(),L<0&&L++,M<=2&&(L--,M+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(M+1))+v-1524.5},fromJD:function(L){var M=Math.floor(L+.5),v=M+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),o=t-Math.floor(t<14?1:13),n=p-Math.floor(o>2?4716:4715),c=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,o,c)}}),y.calendars.julian=a},83290:function(G,H,e){var y=e(63489),P=e(56131);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,y.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,y.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,y.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate),o=t.toJD(),n=this._toHaab(o),c=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[c[0]-1],tzolkinDay:c[0],tzolkinTrecena:c[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+17*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[M(v+20,20),M(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function L(v,p){return v-p*Math.floor(v/p)}function M(v,p){return L(v-1,p)+1}y.calendars.mayan=a},29108:function(G,H,e){var y=e(63489),P=e(56131);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar;var L=y.instance("gregorian");P(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidMonth),t=r.year();t<0&&t++;for(var o=r.day(),n=1;n<r.month();n++)o+=this.daysPerMonth[n-1];return o+L.toJD(t+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var v=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(v+1,1,1);)v++;for(var p=M-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),y.calendars.nanakshahi=a},55422:function(G,H,e){var y=e(63489),P=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var M=this._validate(L,this.minMonth,this.minDay,y.local.invalidYear);if(L=M.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,M){return L.year&&(M=L.month(),L=L.year()),this._validate(L,M,this.minDay,y.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[L][M]},weekDay:function(L,M,v){return this.dayOfWeek(L,M,v)!==6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);L=p.year(),M=p.month(),v=p.day();var r=y.instance(),t=0,o=M,n=L;this._createMissingCalendarData(L);var c=L-(o>9||o===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(M!==9&&(t=v,o--);o!==9;)o<=0&&(o=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][o],o--;return M===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(c))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(c,1,1).add(t,"d").toJD()},fromJD:function(L){var M=y.instance(),v=M.fromJD(L),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var o=9,n=this.NEPALI_CALENDAR_DATA[t][0],c=this.NEPALI_CALENDAR_DATA[t][o]-n+1;r>c;)o++,o>12&&(o=1,t++),c+=this.NEPALI_CALENDAR_DATA[t][o];var u=this.NEPALI_CALENDAR_DATA[t][o]-(c-r);return this.newDate(t,o,u)},_createMissingCalendarData:function(L){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),y.calendars.nepali=a},94320:function(G,H,e){var y=e(63489),P=e(56131);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M-(M>=0?474:473),o=474+L(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var v=M-this.toJD(475,1,1),p=Math.floor(v/1029983),r=L(v,1029983),t=2820;if(r!==1029982){var o=Math.floor(r/366),n=L(r,366);t=Math.floor((2134*o+2816*n+2815)/1028522)+o+1}var c=t+2820*p+474;c=c<=0?c-1:c;var u=M-this.toJD(c,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),g=M-this.toJD(c,l,1)+1;return this.newDate(c,l,g)}});function L(M,v){return M-v*Math.floor(M/v)}y.calendars.persian=a,y.calendars.jalali=a},31320:function(G,H,e){var y=e(63489),P=e(56131),a=y.instance();function L(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,y.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(M){var v=a.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),y.calendars.taiwan=L},51367:function(G,H,e){var y=e(63489),P=e(56131),a=y.instance();function L(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,y.local.invalidYear),p=this._t2gYear(v.year());return a.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(M){var v=a.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),y.calendars.thai=L},21457:function(G,H,e){var y=e(63489),P=e(56131);function a(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,P(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(M,p);return v},daysInMonth:function(M,v){for(var p=this._validate(M,v,this.minDay,y.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,o=0;o<L.length;o++){if(L[o]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,o=r.day()+L[t-1]-1;return o+24e5-.5},fromJD:function(M){for(var v=M-24e5+.5,p=0,r=0;r<L.length&&!(L[r]>v);r++)p++;var t=p+15292,o=Math.floor((t-1)/12),n=o+1,c=t-12*o,u=v-L[p-1]+1;return this.newDate(n,c,u)},isValid:function(M,v,p){var r=y.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(M=M.year!=null?M.year:M,r=M>=1276&&M<=1500),r},_validate:function(M,v,p,r){var t=y.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),y.calendars.ummalqura=a;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(G,H,e){var y=e(56131);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}y(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var o=this._localCals[r+"-"+t];if(!o&&this.calendars[r]&&(o=new this.calendars[r](t),this._localCals[r+"-"+t]=o),!o)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return o},newDate:function(r,t,o,n,c){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,c):n)||this.instance(),n.newDate(r,t,o)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(o){return r[o]})}},substituteChineseDigits:function(r,t){return function(o){for(var n="",c=0;o>0;){var u=o%10;n=(u===0?"":r[u]+t[c])+n,c++,o=Math.floor(o/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function a(r,t,o,n){if(this._calendar=r,this._year=t,this._month=o,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}y(a.prototype,{newDate:function(r,t,o){return this._calendar.newDate(r??this,t,o)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,o){if(!this._calendar.isValid(r,t,o))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=o,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function M(){this.shortYearCutoff="+10"}y(M.prototype,{_validateLevel:0,newDate:function(r,t,o){return r==null?this.today():(r.year&&(this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),o=r.day(),t=r.month(),r=r.year()),new a(this,r,t,o))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(o.month()+this.monthsInYear(o)-this.firstMonth)%this.monthsInYear(o)+this.minMonth},fromMonthOfYear:function(r,t){var o=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,o,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),o},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,o){return this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,o){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,o),t,o)},_add:function(r,t,o){if(this._validateLevel++,o==="d"||o==="w"){var n=r.toJD()+t*(o==="w"?this.daysInWeek():1),c=r.calendar().fromJD(n);return this._validateLevel--,[c.year(),c.month(),c.day()]}try{var u=r.year()+(o==="y"?t:0),l=r.monthOfYear()+(o==="m"?t:0),c=r.day(),g=function(h){for(;l<h.minMonth;)u--,l+=h.monthsInYear(u);for(var s=h.monthsInYear(u);l>s-1+h.minMonth;)u++,l-=s,s=h.monthsInYear(u)};o==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),c=Math.min(c,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):o==="m"&&(g(this),c=Math.min(c,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var f=[u,this.fromMonthOfYear(u,l),c];return this._validateLevel--,f}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,o,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var c={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=o<0?-1:1;t=this._add(r,o*c[0]+u*c[1],c[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,o){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=o==="y"?t:r.year(),c=o==="m"?t:r.month(),u=o==="d"?t:r.day();return(o==="y"||o==="m")&&(u=Math.min(u,this.daysInMonth(n,c))),r.date(n,c,u)},isValid:function(r,t,o){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var c=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(c)&&o>=this.minDay&&o-this.minDay<this.daysInMonth(c)}return this._validateLevel--,n},toJSDate:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,o,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,o))throw n.replace(/\{0\}/,this.local.name);var c=this.newDate(r,t,o);return this._validateLevel--,c}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new M,y(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var t=this._validate(o,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),o=t.year()+(t.year()<0?1:0);return o%4===0&&(o%100!==0||o%400===0)},weekOfYear:function(r,t,o){var n=this.newDate(r,t,o);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,t,o){return(this.dayOfWeek(r,t,o)||7)<6},toJD:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),o=n.day(),r<0&&r++,t<3&&(t+=12,r--);var c=Math.floor(r/100),u=2-c+Math.floor(c/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+o+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),o=Math.floor((t-186721625e-2)/36524.25);o=t+1+o-Math.floor(o/4);var n=o+1524,c=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*c),l=Math.floor((n-u)/30.6001),g=n-u-Math.floor(l*30.6001),f=l-(l>13.5?13:1),T=c-(f>2.5?4716:4715);return T<=0&&T--,this.newDate(T,f,g)},toJSDate:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),c=new Date(n.year(),n.month()-1,n.day());return c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),c.setHours(c.getHours()>12?c.getHours()+2:0),c},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=G.exports=new P;p.cdate=a,p.baseCalendar=M,p.calendars.gregorian=v},94338:function(G,H,e){var y=e(56131),P=e(63489);y(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],y(P.cdate.prototype,{formatDate:function(a,L){return typeof a!="string"&&(L=a,a=""),this._calendar.formatDate(a||"",this,L)}}),y(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,L,M){if(typeof a!="string"&&(M=L,L=a,a=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,M=M||{};var v=M.dayNamesShort||this.local.dayNamesShort,p=M.dayNames||this.local.dayNames,r=M.monthNumbers||this.local.monthNumbers,t=M.monthNamesShort||this.local.monthNamesShort,o=M.monthNames||this.local.monthNames;M.calculateWeek||this.local.calculateWeek;for(var n=function(w,C){for(var b=1;A+b<a.length&&a.charAt(A+b)===w;)b++;return A+=b-1,Math.floor(b/(C||1))>1},c=function(w,C,b,S){var x=""+C;if(n(w,S))for(;x.length<b;)x="0"+x;return x},u=function(w,C,b,S){return n(w)?S[C]:b[C]},l=this,g=function(w){return typeof r=="function"?r.call(l,w,n("m")):h(c("m",w.month(),2))},f=function(w,C){return C?typeof o=="function"?o.call(l,w):o[w.month()-l.minMonth]:typeof t=="function"?t.call(l,w):t[w.month()-l.minMonth]},T=this.local.digits,h=function(w){return M.localNumbers&&T?T(w):w},s="",d=!1,A=0;A<a.length;A++)if(d)a.charAt(A)==="'"&&!n("'")?d=!1:s+=a.charAt(A);else switch(a.charAt(A)){case"d":s+=h(c("d",L.day(),2));break;case"D":s+=u("D",L.dayOfWeek(),v,p);break;case"o":s+=c("o",L.dayOfYear(),3);break;case"w":s+=c("w",L.weekOfYear(),2);break;case"m":s+=g(L);break;case"M":s+=f(L,n("M"));break;case"y":s+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),s+=L.formatYear();break;case"J":s+=L.toJD();break;case"@":s+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":s+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?s+="'":d=!0;break;default:s+=a.charAt(A)}return s},parseDate:function(a,L,M){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;a=a||this.local.dateFormat,M=M||{};var v=M.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=M.dayNamesShort||this.local.dayNamesShort,r=M.dayNames||this.local.dayNames,t=M.parseMonth||this.local.parseMonth,o=M.monthNumbers||this.local.monthNumbers,n=M.monthNamesShort||this.local.monthNamesShort,c=M.monthNames||this.local.monthNames,u=-1,l=-1,g=-1,f=-1,T=-1,h=!1,s=!1,d=function(I,U){for(var z=1;E+z<a.length&&a.charAt(E+z)===I;)z++;return E+=z-1,Math.floor(z/(U||1))>1},A=function(I,U){var z=d(I,U),F=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],B=new RegExp("^-?\\d{1,"+F+"}"),O=L.substring(i).match(B);if(!O)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=O[0].length,parseInt(O[0],10)},w=this,C=function(){if(typeof o=="function"){d("m");var I=o.call(w,L.substring(i));return i+=I.length,I}return A("m")},b=function(I,U,z,F){for(var B=d(I,F)?z:U,O=0;O<B.length;O++)if(L.substr(i,B[O].length).toLowerCase()===B[O].toLowerCase())return i+=B[O].length,O+w.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},S=function(){if(typeof c=="function"){var I=d("M")?c.call(w,L.substring(i)):n.call(w,L.substring(i));return i+=I.length,I}return b("M",n,c)},x=function(){if(L.charAt(i)!==a.charAt(E))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,E=0;E<a.length;E++)if(s)a.charAt(E)==="'"&&!d("'")?s=!1:x();else switch(a.charAt(E)){case"d":f=A("d");break;case"D":b("D",p,r);break;case"o":T=A("o");break;case"w":A("w");break;case"m":g=C();break;case"M":g=S();break;case"y":var m=E;h=!d("y",2),E=m,l=A("y",2);break;case"Y":l=A("Y",2);break;case"J":u=A("J")+.5,L.charAt(i)==="."&&(i++,A("J"));break;case"@":u=A("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=A("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=L.length;break;case"'":d("'")?x():s=!0;break;default:x()}if(i<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&h&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof g=="string"&&(g=t.call(this,l,g)),T>-1){g=1,f=T;for(var k=this.daysInMonth(l,g);f>k;k=this.daysInMonth(l,g))g++,f-=k}return u>-1?this.fromJD(u):this.newDate(l,g,f)},determineDate:function(a,L,M,v,p){M&&typeof M!="object"&&(p=v,v=M,M=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(o){try{return r.parseDate(v,o,p)}catch{}o=o.toLowerCase();for(var n=(o.match(/^c/)&&M?M.newDate():null)||r.today(),c=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=c.exec(o);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=c.exec(o);return n};return L=L?L.newDate():null,a=a==null?L:typeof a=="string"?t(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?L:r.today().add(a,"d"):r.newDate(a),a}})},69862:function(){},40964:function(){},72077:function(G,H,e){var y=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var L=[],M=0;M<y.length;M++)typeof P[y[M]]=="function"&&(L[L.length]=y[M]);return L}},81684:function(G,H,e){e.d(H,{sX:function(){return Se},k4:function(){return oe}});function y(me,Ce,Ne){me.prototype=Ce.prototype=Ne,Ne.constructor=me}function P(me,Ce){var Ne=Object.create(me.prototype);for(var He in Ce)Ne[He]=Ce[He];return Ne}function a(){}var L=.7,M=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,o=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),c=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y(a,A,{copy:function(Ce){return Object.assign(new this.constructor,this,Ce)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:h,formatHsl:s,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function s(){return F(this).formatHsl()}function d(){return this.rgb().formatRgb()}function A(me){var Ce,Ne;return me=(me+"").trim().toLowerCase(),(Ce=t.exec(me))?(Ne=Ce[1].length,Ce=parseInt(Ce[1],16),Ne===6?w(Ce):Ne===3?new x(Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,(Ce&15)<<4|Ce&15,1):Ne===8?C(Ce>>24&255,Ce>>16&255,Ce>>8&255,(Ce&255)/255):Ne===4?C(Ce>>12&15|Ce>>8&240,Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,((Ce&15)<<4|Ce&15)/255):null):(Ce=o.exec(me))?new x(Ce[1],Ce[2],Ce[3],1):(Ce=n.exec(me))?new x(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,1):(Ce=c.exec(me))?C(Ce[1],Ce[2],Ce[3],Ce[4]):(Ce=u.exec(me))?C(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,Ce[4]):(Ce=l.exec(me))?z(Ce[1],Ce[2]/100,Ce[3]/100,1):(Ce=g.exec(me))?z(Ce[1],Ce[2]/100,Ce[3]/100,Ce[4]):f.hasOwnProperty(me)?w(f[me]):me==="transparent"?new x(NaN,NaN,NaN,0):null}function w(me){return new x(me>>16&255,me>>8&255,me&255,1)}function C(me,Ce,Ne,He){return He<=0&&(me=Ce=Ne=NaN),new x(me,Ce,Ne,He)}function b(me){return me instanceof a||(me=A(me)),me?(me=me.rgb(),new x(me.r,me.g,me.b,me.opacity)):new x}function S(me,Ce,Ne,He){return arguments.length===1?b(me):new x(me,Ce,Ne,He??1)}function x(me,Ce,Ne,He){this.r=+me,this.g=+Ce,this.b=+Ne,this.opacity=+He}y(x,S,P(a,{brighter:function(Ce){return Ce=Ce==null?M:Math.pow(M,Ce),new x(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?L:Math.pow(L,Ce),new x(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},rgb:function(){return this},clamp:function(){return new x(I(this.r),I(this.g),I(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:E,formatRgb:m,toString:m}));function i(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b))}function E(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b)).concat(U((isNaN(this.opacity)?1:this.opacity)*255))}function m(){var me=k(this.opacity);return"".concat(me===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(me===1?")":", ".concat(me,")"))}function k(me){return isNaN(me)?1:Math.max(0,Math.min(1,me))}function I(me){return Math.max(0,Math.min(255,Math.round(me)||0))}function U(me){return me=I(me),(me<16?"0":"")+me.toString(16)}function z(me,Ce,Ne,He){return He<=0?me=Ce=Ne=NaN:Ne<=0||Ne>=1?me=Ce=NaN:Ce<=0&&(me=NaN),new O(me,Ce,Ne,He)}function F(me){if(me instanceof O)return new O(me.h,me.s,me.l,me.opacity);if(me instanceof a||(me=A(me)),!me)return new O;if(me instanceof O)return me;me=me.rgb();var Ce=me.r/255,Ne=me.g/255,He=me.b/255,De=Math.min(Ce,Ne,He),Ve=Math.max(Ce,Ne,He),at=NaN,lt=Ve-De,$e=(Ve+De)/2;return lt?(Ce===Ve?at=(Ne-He)/lt+(Ne<He)*6:Ne===Ve?at=(He-Ce)/lt+2:at=(Ce-Ne)/lt+4,lt/=$e<.5?Ve+De:2-Ve-De,at*=60):lt=$e>0&&$e<1?0:at,new O(at,lt,$e,me.opacity)}function B(me,Ce,Ne,He){return arguments.length===1?F(me):new O(me,Ce,Ne,He??1)}function O(me,Ce,Ne,He){this.h=+me,this.s=+Ce,this.l=+Ne,this.opacity=+He}y(O,B,P(a,{brighter:function(Ce){return Ce=Ce==null?M:Math.pow(M,Ce),new O(this.h,this.s,this.l*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?L:Math.pow(L,Ce),new O(this.h,this.s,this.l*Ce,this.opacity)},rgb:function(){var Ce=this.h%360+(this.h<0)*360,Ne=isNaN(Ce)||isNaN(this.s)?0:this.s,He=this.l,De=He+(He<.5?He:1-He)*Ne,Ve=2*He-De;return new x($(Ce>=240?Ce-240:Ce+120,Ve,De),$(Ce,Ve,De),$(Ce<120?Ce+240:Ce-120,Ve,De),this.opacity)},clamp:function(){return new O(N(this.h),Y(this.s),Y(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ce=k(this.opacity);return"".concat(Ce===1?"hsl(":"hsla(").concat(N(this.h),", ").concat(Y(this.s)*100,"%, ").concat(Y(this.l)*100,"%").concat(Ce===1?")":", ".concat(Ce,")"))}}));function N(me){return me=(me||0)%360,me<0?me+360:me}function Y(me){return Math.max(0,Math.min(1,me||0))}function $(me,Ce,Ne){return(me<60?Ce+(Ne-Ce)*me/60:me<180?Ne:me<240?Ce+(Ne-Ce)*(240-me)/60:Ce)*255}var te=function(me){return function(){return me}};function ie(me,Ce){return function(Ne){return me+Ne*Ce}}function ce(me,Ce,Ne){return me=Math.pow(me,Ne),Ce=Math.pow(Ce,Ne)-me,Ne=1/Ne,function(He){return Math.pow(me+He*Ce,Ne)}}function J(me){return(me=+me)==1?Z:function(Ce,Ne){return Ne-Ce?ce(Ce,Ne,me):te(isNaN(Ce)?Ne:Ce)}}function Z(me,Ce){var Ne=Ce-me;return Ne?ie(me,Ne):te(isNaN(me)?Ce:me)}var ae=function me(Ce){var Ne=J(Ce);function He(De,Ve){var at=Ne((De=S(De)).r,(Ve=S(Ve)).r),lt=Ne(De.g,Ve.g),$e=Ne(De.b,Ve.b),et=Z(De.opacity,Ve.opacity);return function(ct){return De.r=at(ct),De.g=lt(ct),De.b=$e(ct),De.opacity=et(ct),De+""}}return He.gamma=me,He}(1);function j(me,Ce){var Ne=Ce?Ce.length:0,He=me?Math.min(Ne,me.length):0,De=new Array(He),Ve=new Array(Ne),at;for(at=0;at<He;++at)De[at]=Se(me[at],Ce[at]);for(;at<Ne;++at)Ve[at]=Ce[at];return function(lt){for(at=0;at<He;++at)Ve[at]=De[at](lt);return Ve}}function q(me,Ce){var Ne=new Date;return me=+me,Ce=+Ce,function(He){return Ne.setTime(me*(1-He)+Ce*He),Ne}}function oe(me,Ce){return me=+me,Ce=+Ce,function(Ne){return me*(1-Ne)+Ce*Ne}}function Q(me){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},Q(me)}function K(me,Ce){var Ne={},He={},De;(me===null||Q(me)!=="object")&&(me={}),(Ce===null||Q(Ce)!=="object")&&(Ce={});for(De in Ce)De in me?Ne[De]=Se(me[De],Ce[De]):He[De]=Ce[De];return function(Ve){for(De in Ne)He[De]=Ne[De](Ve);return He}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ne=new RegExp(se.source,"g");function fe(me){return function(){return me}}function ye(me){return function(Ce){return me(Ce)+""}}function Ee(me,Ce){var Ne=se.lastIndex=ne.lastIndex=0,He,De,Ve,at=-1,lt=[],$e=[];for(me=me+"",Ce=Ce+"";(He=se.exec(me))&&(De=ne.exec(Ce));)(Ve=De.index)>Ne&&(Ve=Ce.slice(Ne,Ve),lt[at]?lt[at]+=Ve:lt[++at]=Ve),(He=He[0])===(De=De[0])?lt[at]?lt[at]+=De:lt[++at]=De:(lt[++at]=null,$e.push({i:at,x:oe(He,De)})),Ne=ne.lastIndex;return Ne<Ce.length&&(Ve=Ce.slice(Ne),lt[at]?lt[at]+=Ve:lt[++at]=Ve),lt.length<2?$e[0]?ye($e[0].x):fe(Ce):(Ce=$e.length,function(et){for(var ct=0,dt;ct<Ce;++ct)lt[(dt=$e[ct]).i]=dt.x(et);return lt.join("")})}function Te(me,Ce){Ce||(Ce=[]);var Ne=me?Math.min(Ce.length,me.length):0,He=Ce.slice(),De;return function(Ve){for(De=0;De<Ne;++De)He[De]=me[De]*(1-Ve)+Ce[De]*Ve;return He}}function ze(me){return ArrayBuffer.isView(me)&&!(me instanceof DataView)}function ke(me){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},ke(me)}function Se(me,Ce){var Ne=ke(Ce),He;return Ce==null||Ne==="boolean"?te(Ce):(Ne==="number"?oe:Ne==="string"?(He=A(Ce))?(Ce=He,ae):Ee:Ce instanceof A?ae:Ce instanceof Date?q:ze(Ce)?Te:Array.isArray(Ce)?j:typeof Ce.valueOf!="function"&&typeof Ce.toString!="function"||isNaN(Ce)?K:oe)(me,Ce)}},40402:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},be={};function Be(G){var H=be[G];if(H!==void 0)return H.exports;var e=be[G]={exports:{}};return le[G].call(e.exports,e,e.exports,Be),e.exports}(function(){Be.n=function(G){var H=G&&G.__esModule?function(){return G.default}:function(){return G};return Be.d(H,{a:H}),H}})(),function(){Be.d=function(G,H){for(var e in H)Be.o(H,e)&&!Be.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:H[e]})}}(),function(){Be.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Be.o=function(G,H){return Object.prototype.hasOwnProperty.call(G,H)}}(),function(){Be.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var qe=Be(27909);return qe}()})})(GT);var i7=GT.exports;(function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var W=be(NT),le=be(i7);function be(G){return G&&G.__esModule?G:{default:G}}var Be=(0,W.default)(le.default),qe=Be;_.default=qe})(BT);const o7=z3(BT);function s7(){const _=h3(P=>P.data.timeFrame),W=h3(P=>P.data),[le,be]=Ms.useState(!0),[Be,qe]=Ms.useState(null),[G,H]=Ms.useState([]),[e,y]=Ms.useState("");return Ms.useEffect(()=>{if(console.log("Data on mount/update:",W),W&&W.data&&Object.keys(W.data).length>0){const P=Object.values(W.data).map(M=>M.ticker),a=P[P.length-1];y(a);const L=Object.values(W.data).map(M=>M[`Returns ${_}`]).filter(M=>M!=null);console.log("Transformed Returns:",L),H(L),be(!1)}else be(!0)},[W]),le?Mi.jsx("div",{children:"Loading..."}):Be?Mi.jsxs("div",{children:["Error: ",Be]}):Mi.jsx("div",{children:Mi.jsx(o7,{className:"w-full",data:[{x:G,type:"histogram",histnorm:"probability",autobinx:!0}],layout:{title:`${e} Returns ${_} Histogram`},config:{displayModeBar:!1}})})}function l7(){const _=O8(),[W,le]=Ms.useState(""),[be,Be]=Ms.useState("1D"),qe=async e=>{e.preventDefault(),_(JE(W,be)),le(""),Be("1D")},G=e=>{le(e.target.value)},H=e=>{Be(e.target.value)};return Mi.jsxs("form",{className:"py-8",id:"tickerForm",onSubmit:qe,children:[Mi.jsx("label",{htmlFor:"ticker",className:"block leading-6",children:"Ticker Symbol"}),Mi.jsxs("div",{className:"relative mt-8 rounded-md shadow-sm",children:[Mi.jsx("input",{type:"text",name:"stockTicker",id:"stockTicker",className:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-accent sm:text-sm sm:leading-6",placeholder:"Enter ticker symbol 'AAPL'",value:W,onChange:G}),Mi.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[Mi.jsx("label",{htmlFor:"time_frame",className:"sr-only",children:"Time Frame"}),Mi.jsxs("select",{id:"time_frame",name:"time_frame",className:"h-full rounded-md border-0 bg-transparent py-0 pl-2 pr-7 text-gray-500 focus:ring-2 focus:ring-inset focus:ring-accent sm:text-sm",value:be,onChange:H,children:[Mi.jsx("option",{children:"1D"}),Mi.jsx("option",{children:"1W"}),Mi.jsx("option",{children:"1M"})]})]})]}),Mi.jsx("div",{className:"relative mt-8",children:Mi.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md btn btn-accent uppercase font-bold text-white",children:"Submit"})})]})}function u7(){const _=Ms.useRef();return Ms.useEffect(()=>{const W=document.createElement("script");W.src="https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js",W.type="text/javascript",W.async=!0,W.innerHTML=`
        {
          "exchanges": [],
          "dataSource": "SPX500",
          "grouping": "sector",
          "blockSize": "market_cap_basic",
          "blockColor": "change",
          "locale": "en",
          "symbolUrl": "",
          "colorTheme": "light",
          "hasTopBar": false,
          "isDataSetEnabled": false,
          "isZoomEnabled": true,
          "hasSymbolTooltip": true,
          "width": "100%",
          "height": "100%"
        }`,_.current.appendChild(W)},[]),Mi.jsxs("div",{className:"tradingview-widget-container",ref:_,children:[Mi.jsx("div",{className:"tradingview-widget-container__widget"}),Mi.jsx("div",{className:"tradingview-widget-copyright",children:Mi.jsx("a",{href:"",rel:"noopener nofollow",target:"_blank",children:Mi.jsx("span",{className:"blue-text",children:"..."})})})]})}const f7=Ms.memo(u7);function c7(){return Mi.jsxs("div",{children:[Mi.jsx("h1",{children:FT.marketing.title}),Mi.jsx(s7,{}),Mi.jsx(l7,{}),Mi.jsx("div",{className:"h-96",children:Mi.jsx(f7,{})})]})}zy.createRoot(document.getElementById("root")).render(Mi.jsx(G1.StrictMode,{children:Mi.jsx(k8,{store:OT,children:Mi.jsx("div",{"data-theme":FT.meta.theme,className:"container flex justify-center max-w-full mx-auto px-2 my-8 prose lg:prose-xl",children:Mi.jsx("div",{children:Mi.jsx(c7,{})})})})}));
